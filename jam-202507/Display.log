   862 instructions before optimizations.
    81 instructions eliminated by Temp Variables Elimination (2 iterations).
     1 instructions eliminated by Case Expression Optimization.
    51 instructions eliminated by Dead Code Elimination (5 iterations).
    14 instructions eliminated by Jump Normalization (2 passes, 5 iterations).
    26 instructions eliminated by Jump Optimization (5 iterations).
    25 instructions eliminated by Single Step Elimination (2 passes, 8 iterations).
     1 instructions modified by Expression Optimization (3 iterations).
     4 instructions modified by If Expression Optimization (3 iterations).
   407 instructions eliminated by Data Flow Optimization (4 passes, 21 iterations).
     1 instructions eliminated by Loop Optimization (3 iterations).
     1 loops improved by Loop Optimization.
   173 instructions added by Loop Unrolling (5 iterations).
     2 loops unrolled by Loop Unrolling.
    10 instructions eliminated by Jump Straightening (2 passes, 5 iterations).
     5 instructions updated by JumpThreading.
     3 instructions eliminated by Unreachable Code Elimination (2 iterations).
    10 instructions eliminated by Print Merging.
   406 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 632):
  * Unroll iteration loop at line 124:13                         size   +49, benefit       18.7, efficiency      0.383 (-2 instructions)
    Unroll iteration loop at line 139:13                         size  +163, benefit       60.4, efficiency      0.371

Pass 1: speed optimization selection (cost limit 634):
  * Unroll iteration loop at line 139:13                         size  +163, benefit       60.4, efficiency      0.371 (+82 instructions)

Modifications by Initial phase, Case Expression Optimization, iteration 1 (-1 instructions):
 
    17 set :main:nextSwitch *tmp7
    18 label *label7
    19 jump *label9 equal true false
-    * set *tmp9 .page
-    * jump *label12 equal *tmp9 0
+   20 jump *label12 equal .page 0
    21 jump *label11 always
    22 label *label12
    23 draw reset
 
   792 set *tmp8 null
   793 jump *label10 always
   794 label *label11
-    * jump *label138 equal *tmp9 1
+  795 jump *label138 equal .page 1
   796 jump *label137 always
   797 label *label138
   798 set :displayLog:x 11
 
   891 set *tmp8 null
   892 jump *label10 always
   893 label *label137
-    * jump *label157 equal *tmp9 2
+  894 jump *label157 equal .page 2
   895 jump *label156 always
   896 label *label157
   897 draw reset

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-43 instructions):
 
   103 op mul *tmp22 7 *tmp21
   104 op sub *tmp23 150 *tmp22
   105 draw image *tmp23 146 @titanium 12 0
-    * set *tmp20 null
   106 jump *label27 always
   107 label *label26
-    * set *tmp20 null
   108 label *label27
   109 label *label14
   110 set :drawMaterials:col 0
 
   120 set .materialCount 2
   121 op add *tmp29 .monos 1
   122 set :drawMaterials:unitCount *tmp29
-    * set *tmp28 :drawMaterials:unitCount
   123 jump *label34 always
   124 label *label33
   125 set :drawMaterials:targetFactoryLead 0
 
   127 set .materialCount 1
   128 op add *tmp30 .flares 1
   129 set :drawMaterials:unitCount *tmp30
-    * set *tmp28 :drawMaterials:unitCount
   130 label *label34
   131 set :drawBold.1:x 22
   132 set :drawBold.1:y 105
 
   226 jump *label48 equal *tmp56 false
   227 set :drawItem:col 0
   228 op sub :drawItem:y :drawItem:y 15
-    * set *tmp57 :drawItem:y
   229 jump *label49 always
   230 label *label48
-    * set *tmp57 null
   231 label *label49
   232 label *label42
   233 set *tmp34 null
 
   312 jump *label63 equal *tmp82 false
   313 set :drawItem.1:col 0
   314 op sub :drawItem.1:y :drawItem.1:y 15
-    * set *tmp83 :drawItem.1:y
   315 jump *label64 always
   316 label *label63
-    * set *tmp83 null
   317 label *label64
   318 label *label57
   319 set :drawMaterials:col :drawItem.1:col
   320 set :drawMaterials:y :drawItem.1:y
-    * set *tmp60 null
   321 jump *label56 always
   322 label *label55
-    * set *tmp60 null
   323 label *label56
   324 label *label51
   325 multijump *tmp58 0 0 (m:marker0)
 
   327 label *label52
   328 set *tmp34 null
   329 label *label41
-    * set *tmp25 *tmp34
   330 jump *label32 always
   331 label *label31
   332 set *tmp84 .totalTargets
 
   458 jump *label89 equal *tmp111 false
   459 set :drawItem.2:col 0
   460 op sub :drawItem.2:y :drawItem.2:y 15
-    * set *tmp112 :drawItem.2:y
   461 jump *label90 always
   462 label *label89
-    * set *tmp112 null
   463 label *label90
   464 label *label83
   465 set :drawMaterials:col :drawItem.2:col
 
   473 label *label91
   474 set *tmp114 null
   475 label *label92
-    * set *tmp89 *tmp114
   476 jump *label82 always
   477 label *label81
-    * set *tmp89 null
   478 label *label82
   479 label *label73
   480 multijump *tmp87 0 0 (m:marker1)
 
   485 label *label70
   486 set *tmp86 null
   487 label *label71
-    * set *tmp25 *tmp86
   488 label *label32
   489 label *label30
   490 draw col %[white]
 
   596 jump *label110 equal *tmp143 false
   597 set :drawItem.3:col 0
   598 op sub :drawItem.3:y :drawItem.3:y 15
-    * set *tmp144 :drawItem.3:y
   599 jump *label111 always
   600 label *label110
-    * set *tmp144 null
   601 label *label111
   602 label *label104
   603 set :drawUnit.1:y :drawItem.3:y
   604 label *label103
-    * set *tmp119 null
   605 jump *label102 always
   606 label *label101
   607 sensor *tmp145 @unit @firstItem
 
   682 jump *label119 equal *tmp172 false
   683 set :drawItem.4:col 0
   684 op sub :drawItem.4:y :drawItem.4:y 15
-    * set *tmp173 :drawItem.4:y
   685 jump *label120 always
   686 label *label119
-    * set *tmp173 null
   687 label *label120
   688 label *label113
   689 set :drawUnit.2:y :drawItem.4:y
   690 label *label112
-    * set *tmp119 null
   691 label *label102
   692 label *label93
   693 set :drawUnits:x 170
 
   710 label *label126
   711 label *label125
   712 op sub :drawUnits:x :drawUnits:x 30
-    * set *tmp175 :drawUnits:x
   713 jump *label124 always
   714 label *label123
-    * set *tmp175 null
   715 label *label124
   716 label *label122
   717 set :drawUnitCount.1:type @mono
 
   732 label *label131
   733 label *label130
   734 op sub :drawUnits:x :drawUnits:x 30
-    * set *tmp178 :drawUnits:x
   735 jump *label129 always
   736 label *label128
-    * set *tmp178 null
   737 label *label129
   738 label *label127
   739 set :drawUnitCount.2:type @flare
 
   754 label *label136
   755 label *label135
   756 op sub :drawUnits:x :drawUnits:x 30
-    * set *tmp181 :drawUnits:x
   757 jump *label134 always
   758 label *label133
-    * set *tmp181 null
   759 label *label134
   760 label *label132
   761 label *label121
   762 drawflush display1
   763 label *label13
-    * set *tmp8 null
   764 jump *label10 always
   765 label *label11
   766 jump *label138 equal .page 1
 
   783 op equal *tmp187 :displayLog:record false
   784 jump *label143 equal *tmp187 false
   785 jump *label142 always
-    * set *tmp188 null
   786 jump *label144 always
   787 label *label143
-    * set *tmp188 null
   788 label *label144
   789 set :displayRecord:record :displayLog:record
   790 op mod *tmp189 :displayRecord:record 1000
 
   804 jump *label148 equal true false
   805 op idiv *tmp196 :displayRecord:record 1000
   806 set :displayRecord:t *tmp196
-    * set *tmp195 :displayRecord:t
   807 jump *label149 always
   808 label *label148
   809 op idiv *tmp197 :displayRecord:record 1000
 
   811 op sub *tmp198 :displayRecord:r .lastTime
   812 set :displayRecord:t *tmp198
   813 set .lastTime :displayRecord:r
-    * set *tmp195 .lastTime
   814 label *label149
   815 op idiv *tmp199 :displayRecord:t 60
   816 set :displayRecord:m *tmp199
 
   844 jump *label154 equal *tmp206 false
   845 op add :displayLog:x :displayLog:x 58
   846 set :displayLog:y 164
-    * set *tmp207 :displayLog:y
   847 jump *label155 always
   848 label *label154
-    * set *tmp207 null
   849 label *label155
   850 label *label145
   851 label *label141
 
   853 label *label142
   854 drawflush display1
   855 label *label139
-    * set *tmp8 null
   856 jump *label10 always
   857 label *label137
   858 jump *label157 equal .page 2
 
   907 op equal *tmp225 :displayOreMap:pos 0
   908 jump *label164 equal *tmp225 false
   909 jump *label163 always
-    * set *tmp226 null
   910 jump *label165 always
   911 label *label164
-    * set *tmp226 null
   912 label *label165
   913 op mod *tmp227 :displayOreMap:pos @mapw
   914 set :displayOreMap:x *tmp227
   915 op idiv *tmp228 :displayOreMap:pos @mapw
   916 set :displayOreMap:y *tmp228
   917 draw rect :displayOreMap:x :displayOreMap:y :displayOreMap:width :displayOreMap:height
-    * set *tmp229 :displayOreMap:index
   918 op add :displayOreMap:index :displayOreMap:index 1
   919 label *label162
   920 jump *label161 always
 
   937 label *label166
   938 drawflush display1
   939 label *label158
-    * set *tmp8 null
   940 jump *label10 always
   941 label *label156
-    * set *tmp8 null
   942 label *label10
   943 print "[gold]Building "
   944 print .nextBlock
 
   974 label *label171
   975 set *tmp235 null
   976 label *label172
-    * set *tmp233 *tmp235
   977 jump *label170 always
   978 label *label169
   979 op sub *tmp239 @second 1
   980 set :main:nextSwitch *tmp239
-    * set *tmp233 :main:nextSwitch
   981 label *label170
   982 label *label8
   983 jump *label7 always

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-8 instructions):
 
   230 label *label48
   231 label *label49
   232 label *label42
-    * set *tmp34 null
   233 jump *label41 always
   234 label *label40
   235 set :drawMaterials:item @lead
 
   324 multijump *tmp58 0 0 (m:marker0)
   325 multilabel *label54 (m:marker0)
   326 label *label52
-    * set *tmp34 null
   327 label *label41
   328 jump *label32 always
   329 label *label31
 
   466 op lessThanEq *tmp113 :drawMaterials:count 0
   467 jump *label91 equal *tmp113 false
   468 jump *label74 always
-    * set *tmp114 null
   469 jump *label92 always
   470 label *label91
-    * set *tmp114 null
   471 label *label92
   472 jump *label82 always
   473 label *label81
 
   476 multijump *tmp87 0 0 (m:marker1)
   477 multilabel *label80 (m:marker1)
   478 label *label74
-    * set *tmp86 null
   479 jump *label71 always
   480 label *label70
-    * set *tmp86 null
   481 label *label71
   482 label *label32
   483 label *label30
 
   963 set .page *tmp237
   964 op add *tmp238 @second 3
   965 set :main:nextSwitch *tmp238
-    * set *tmp235 :main:nextSwitch
   966 jump *label172 always
   967 label *label171
-    * set *tmp235 null
   968 label *label172
   969 jump *label170 always
   970 label *label169

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-81 instructions):
 
     5 label *label1
     6 label *label4
     7 ubind @poly
-    * ulocate building core false @copper *tmp3 *tmp4 *tmp5 *tmp2
-    * set .core *tmp2
+    8 ulocate building core false @copper 0 0 0 .core
     9 label *label5
    10 op equal *tmp6 .core null
    11 jump *label4 notEqual *tmp6 false
    12 label *label6
    13 printflush null
    14 drawflush null
-    * op add *tmp7 @second 3
-    * set :main:nextSwitch *tmp7
+   15 op add :main:nextSwitch @second 3
    16 label *label7
    17 jump *label9 equal true false
    18 jump *label12 equal .page 0
 
    34 draw print :drawPrint:x :drawPrint:y :drawPrint:alignment
    35 label *label17
    36 label *label16
-    * op add *tmp10 :drawBold:x 1
-    * set :drawText.1:x *tmp10
+   37 op add :drawText.1:x :drawBold:x 1
    38 set :drawText.1:y :drawBold:y
    39 set :drawText.1:alignment :drawBold:alignment
    40 print "Building"
 
    48 draw col %[white]
    49 op equal *tmp11 .nextBlock null
    50 jump *label20 equal *tmp11 false
-    * sensor *tmp13 .factory @config
-    * set *tmp12 *tmp13
+   51 sensor *tmp12 .factory @config
    52 jump *label21 always
    53 label *label20
    54 set *tmp12 .nextBlock
    55 label *label21
    56 draw image 40 137 *tmp12 32 0
-    * op floor *tmp14 @second
-    * set :drawHeader:t *tmp14
-    * op idiv *tmp15 :drawHeader:t 60
-    * set :drawHeader:m *tmp15
-    * op mod *tmp16 :drawHeader:t 60
-    * set :drawHeader:s *tmp16
+   57 op floor :drawHeader:t @second
+   58 op idiv :drawHeader:m :drawHeader:t 60
+   59 op mod :drawHeader:s :drawHeader:t 60
    60 op lessThan *tmp17 :drawHeader:s 10
    61 jump *label22 equal *tmp17 false
    62 set *tmp18 "0"
 
    78 draw print :drawPrint.2:x :drawPrint.2:y :drawPrint.2:alignment
    79 label *label25
    80 label *label24
-    * sensor *tmp19 .titaniumDrill @titanium
-    * set :drawHeader:count *tmp19
+   81 sensor :drawHeader:count .titaniumDrill @titanium
    82 jump *label26 equal :drawHeader:count false
    83 set :drawText.3:x 170
    84 set :drawText.3:y 155
 
   103 set :drawMaterials:y 90
   104 op equal *tmp24 .nextBlock null
   105 jump *label31 equal *tmp24 false
-    * sensor *tmp26 .factory @config
-    * set :drawMaterials:unit *tmp26
+  106 sensor :drawMaterials:unit .factory @config
   107 op equal *tmp27 :drawMaterials:unit @mono
   108 jump *label33 equal *tmp27 false
   109 set :drawMaterials:targetFactoryLead 15
   110 set :drawMaterials:targetFactorySilicon 30
   111 set .materialCount 2
-    * op add *tmp29 .monos 1
-    * set :drawMaterials:unitCount *tmp29
+  112 op add :drawMaterials:unitCount .monos 1
   113 jump *label34 always
   114 label *label33
   115 set :drawMaterials:targetFactoryLead 0
   116 set :drawMaterials:targetFactorySilicon 15
   117 set .materialCount 1
-    * op add *tmp30 .flares 1
-    * set :drawMaterials:unitCount *tmp30
+  118 op add :drawMaterials:unitCount .flares 1
   119 label *label34
   120 set :drawBold.1:x 22
   121 set :drawBold.1:y 105
 
   130 draw print :drawPrint.4:x :drawPrint.4:y :drawPrint.4:alignment
   131 label *label37
   132 label *label36
-    * op add *tmp31 :drawBold.1:x 1
-    * set :drawText.5:x *tmp31
+  133 op add :drawText.5:x :drawBold.1:x 1
   134 set :drawText.5:y :drawBold.1:y
   135 set :drawText.5:alignment :drawBold.1:alignment
   136 print "Air Factory"
 
   153 set :drawItem:target 1
   154 op mul *tmp36 :drawItem:columns 176
   155 op div *tmp37 *tmp36 2
-    * op sub *tmp38 210 *tmp37
-    * set :drawItem:barLength *tmp38
-    * op add *tmp39 48 :drawItem:barLength
-    * set :drawItem:textEnd *tmp39
+  156 op sub :drawItem:barLength 210 *tmp37
+  157 op add :drawItem:textEnd 48 :drawItem:barLength
   158 op mul *tmp40 :drawItem:barLength :drawItem:current
   159 op div *tmp41 *tmp40 :drawItem:target
-    * op min *tmp42 :drawItem:barLength *tmp41
-    * set :drawItem:length *tmp42
+  160 op min :drawItem:length :drawItem:barLength *tmp41
   161 op mul *tmp43 :drawItem:col 176
   162 op div *tmp44 *tmp43 2
-    * op add *tmp45 11 *tmp44
-    * set :drawItem:iconX *tmp45
+  163 op add :drawItem:iconX 11 *tmp44
   164 op mul *tmp46 :drawItem:col 176
   165 op div *tmp47 *tmp46 2
-    * op add *tmp48 22 *tmp47
-    * set :drawItem:barX *tmp48
+  166 op add :drawItem:barX 22 *tmp47
   167 op mul *tmp49 :drawItem:col 176
   168 op div *tmp50 *tmp49 2
-    * op add *tmp51 :drawItem:textEnd *tmp50
-    * set :drawItem:textX *tmp51
+  169 op add :drawItem:textX :drawItem:textEnd *tmp50
   170 draw col %[white]
   171 op add *tmp52 :drawItem:y 5
   172 draw image :drawItem:iconX *tmp52 :drawItem:item 16 0
 
   190 draw print :drawPrint.6:x :drawPrint.6:y :drawPrint.6:alignment
   191 label *label45
   192 label *label44
-    * op add *tmp55 :drawBold.2:x 1
-    * set :drawText.7:x *tmp55
+  193 op add :drawText.7:x :drawBold.2:x 1
   194 set :drawText.7:y :drawBold.2:y
   195 set :drawText.7:alignment :drawBold.2:alignment
   196 print :drawMaterials:unitCount
 
   233 set :drawItem.1:target :drawMaterials:target
   234 op mul *tmp62 :drawItem.1:columns 176
   235 op div *tmp63 *tmp62 2
-    * op sub *tmp64 210 *tmp63
-    * set :drawItem.1:barLength *tmp64
-    * op add *tmp65 48 :drawItem.1:barLength
-    * set :drawItem.1:textEnd *tmp65
+  236 op sub :drawItem.1:barLength 210 *tmp63
+  237 op add :drawItem.1:textEnd 48 :drawItem.1:barLength
   238 op mul *tmp66 :drawItem.1:barLength :drawItem.1:current
   239 op div *tmp67 *tmp66 :drawItem.1:target
-    * op min *tmp68 :drawItem.1:barLength *tmp67
-    * set :drawItem.1:length *tmp68
+  240 op min :drawItem.1:length :drawItem.1:barLength *tmp67
   241 op mul *tmp69 :drawItem.1:col 176
   242 op div *tmp70 *tmp69 2
-    * op add *tmp71 11 *tmp70
-    * set :drawItem.1:iconX *tmp71
+  243 op add :drawItem.1:iconX 11 *tmp70
   244 op mul *tmp72 :drawItem.1:col 176
   245 op div *tmp73 *tmp72 2
-    * op add *tmp74 22 *tmp73
-    * set :drawItem.1:barX *tmp74
+  246 op add :drawItem.1:barX 22 *tmp73
   247 op mul *tmp75 :drawItem.1:col 176
   248 op div *tmp76 *tmp75 2
-    * op add *tmp77 :drawItem.1:textEnd *tmp76
-    * set :drawItem.1:textX *tmp77
+  249 op add :drawItem.1:textX :drawItem.1:textEnd *tmp76
   250 draw col %[white]
   251 op add *tmp78 :drawItem.1:y 5
   252 draw image :drawItem.1:iconX *tmp78 :drawItem.1:item 16 0
 
   269 draw print :drawPrint.8:x :drawPrint.8:y :drawPrint.8:alignment
   270 label *label60
   271 label *label59
-    * op add *tmp81 :drawBold.3:x 1
-    * set :drawText.9:x *tmp81
+  272 op add :drawText.9:x :drawBold.3:x 1
   273 set :drawText.9:y :drawBold.3:y
   274 set :drawText.9:alignment :drawBold.3:alignment
   275 print :drawMaterials:target
 
   301 label *label41
   302 jump *label32 always
   303 label *label31
-    * set *tmp84 .totalTargets
-    * set .materialCount *tmp84
+  304 set .materialCount .totalTargets
   305 set :drawMaterials:count .materialCount
   306 set :drawBold.4:x 22
   307 set :drawBold.4:y 105
 
   316 draw print :drawPrint.10:x :drawPrint.10:y :drawPrint.10:alignment
   317 label *label67
   318 label *label66
-    * op add *tmp85 :drawBold.4:x 1
-    * set :drawText.11:x *tmp85
+  319 op add :drawText.11:x :drawBold.4:x 1
   320 set :drawText.11:y :drawBold.4:y
   321 set :drawText.11:alignment :drawBold.4:alignment
   322 print "Materials"
 
   369 set :drawItem.2:target :drawMaterials:target.1
   370 op mul *tmp91 :drawItem.2:columns 176
   371 op div *tmp92 *tmp91 2
-    * op sub *tmp93 210 *tmp92
-    * set :drawItem.2:barLength *tmp93
-    * op add *tmp94 48 :drawItem.2:barLength
-    * set :drawItem.2:textEnd *tmp94
+  372 op sub :drawItem.2:barLength 210 *tmp92
+  373 op add :drawItem.2:textEnd 48 :drawItem.2:barLength
   374 op mul *tmp95 :drawItem.2:barLength :drawItem.2:current
   375 op div *tmp96 *tmp95 :drawItem.2:target
-    * op min *tmp97 :drawItem.2:barLength *tmp96
-    * set :drawItem.2:length *tmp97
+  376 op min :drawItem.2:length :drawItem.2:barLength *tmp96
   377 op mul *tmp98 :drawItem.2:col 176
   378 op div *tmp99 *tmp98 2
-    * op add *tmp100 11 *tmp99
-    * set :drawItem.2:iconX *tmp100
+  379 op add :drawItem.2:iconX 11 *tmp99
   380 op mul *tmp101 :drawItem.2:col 176
   381 op div *tmp102 *tmp101 2
-    * op add *tmp103 22 *tmp102
-    * set :drawItem.2:barX *tmp103
+  382 op add :drawItem.2:barX 22 *tmp102
   383 op mul *tmp104 :drawItem.2:col 176
   384 op div *tmp105 *tmp104 2
-    * op add *tmp106 :drawItem.2:textEnd *tmp105
-    * set :drawItem.2:textX *tmp106
+  385 op add :drawItem.2:textX :drawItem.2:textEnd *tmp105
   386 draw col %[white]
   387 op add *tmp107 :drawItem.2:y 5
   388 draw image :drawItem.2:iconX *tmp107 :drawItem.2:item 16 0
 
   405 draw print :drawPrint.12:x :drawPrint.12:y :drawPrint.12:alignment
   406 label *label86
   407 label *label85
-    * op add *tmp110 :drawBold.5:x 1
-    * set :drawText.13:x *tmp110
+  408 op add :drawText.13:x :drawBold.5:x 1
   409 set :drawText.13:y :drawBold.5:y
   410 set :drawText.13:alignment :drawBold.5:alignment
   411 print :drawMaterials:target.1
 
   468 draw print :drawPrint.14:x :drawPrint.14:y :drawPrint.14:alignment
   469 label *label98
   470 label *label97
-    * op add *tmp117 :drawBold.6:x 1
-    * set :drawText.15:x *tmp117
+  471 op add :drawText.15:x :drawBold.6:x 1
   472 set :drawText.15:y :drawBold.6:y
   473 set :drawText.15:alignment :drawBold.6:alignment
   474 print "Builder"
 
   493 set :drawItem.3:target .transportTarget
   494 op mul *tmp121 :drawItem.3:columns 176
   495 op div *tmp122 *tmp121 2
-    * op sub *tmp123 210 *tmp122
-    * set :drawItem.3:barLength *tmp123
-    * op add *tmp124 48 :drawItem.3:barLength
-    * set :drawItem.3:textEnd *tmp124
+  496 op sub :drawItem.3:barLength 210 *tmp122
+  497 op add :drawItem.3:textEnd 48 :drawItem.3:barLength
   498 op mul *tmp125 :drawItem.3:barLength :drawItem.3:current
   499 op div *tmp126 *tmp125 :drawItem.3:target
-    * op min *tmp127 :drawItem.3:barLength *tmp126
-    * set :drawItem.3:length *tmp127
+  500 op min :drawItem.3:length :drawItem.3:barLength *tmp126
   501 op mul *tmp128 :drawItem.3:col 176
   502 op div *tmp129 *tmp128 2
-    * op add *tmp130 11 *tmp129
-    * set :drawItem.3:iconX *tmp130
+  503 op add :drawItem.3:iconX 11 *tmp129
   504 op mul *tmp131 :drawItem.3:col 176
   505 op div *tmp132 *tmp131 2
-    * op add *tmp133 22 *tmp132
-    * set :drawItem.3:barX *tmp133
+  506 op add :drawItem.3:barX 22 *tmp132
   507 op mul *tmp134 :drawItem.3:col 176
   508 op div *tmp135 *tmp134 2
-    * op add *tmp136 :drawItem.3:textEnd *tmp135
-    * set :drawItem.3:textX *tmp136
+  509 op add :drawItem.3:textX :drawItem.3:textEnd *tmp135
   510 draw col %[white]
   511 op add *tmp137 :drawItem.3:y 5
   512 draw image :drawItem.3:iconX *tmp137 :drawItem.3:item 16 0
 
   522 set :drawText.16:x :drawBold.7:x
   523 set :drawText.16:y :drawBold.7:y
   524 set :drawText.16:alignment :drawBold.7:alignment
-    * set *tmp140 .transportTarget
-    * print *tmp140
+  525 print .transportTarget
   526 set :drawPrint.16:x :drawText.16:x
   527 set :drawPrint.16:y :drawText.16:y
   528 set :drawPrint.16:alignment :drawText.16:alignment
   529 draw print :drawPrint.16:x :drawPrint.16:y :drawPrint.16:alignment
   530 label *label107
   531 label *label106
-    * op add *tmp141 :drawBold.7:x 1
-    * set :drawText.17:x *tmp141
+  532 op add :drawText.17:x :drawBold.7:x 1
   533 set :drawText.17:y :drawBold.7:y
   534 set :drawText.17:alignment :drawBold.7:alignment
-    * set *tmp142 .transportTarget
-    * print *tmp142
+  535 print .transportTarget
   536 set :drawPrint.17:x :drawText.17:x
   537 set :drawPrint.17:y :drawText.17:y
   538 set :drawPrint.17:alignment :drawText.17:alignment
 
   553 label *label103
   554 jump *label102 always
   555 label *label101
-    * sensor *tmp145 @unit @firstItem
-    * set :drawUnit:unitItem *tmp145
+  556 sensor :drawUnit:unitItem @unit @firstItem
   557 sensor *tmp146 @unit @totalItems
   558 op equal *tmp147 :drawUnit:unitItem .transportItem
   559 op mul *tmp148 *tmp146 *tmp147
 
   569 set :drawItem.4:target .transportTarget
   570 op mul *tmp150 :drawItem.4:columns 176
   571 op div *tmp151 *tmp150 2
-    * op sub *tmp152 210 *tmp151
-    * set :drawItem.4:barLength *tmp152
-    * op add *tmp153 48 :drawItem.4:barLength
-    * set :drawItem.4:textEnd *tmp153
+  572 op sub :drawItem.4:barLength 210 *tmp151
+  573 op add :drawItem.4:textEnd 48 :drawItem.4:barLength
   574 op mul *tmp154 :drawItem.4:barLength :drawItem.4:current
   575 op div *tmp155 *tmp154 :drawItem.4:target
-    * op min *tmp156 :drawItem.4:barLength *tmp155
-    * set :drawItem.4:length *tmp156
+  576 op min :drawItem.4:length :drawItem.4:barLength *tmp155
   577 op mul *tmp157 :drawItem.4:col 176
   578 op div *tmp158 *tmp157 2
-    * op add *tmp159 11 *tmp158
-    * set :drawItem.4:iconX *tmp159
+  579 op add :drawItem.4:iconX 11 *tmp158
   580 op mul *tmp160 :drawItem.4:col 176
   581 op div *tmp161 *tmp160 2
-    * op add *tmp162 22 *tmp161
-    * set :drawItem.4:barX *tmp162
+  582 op add :drawItem.4:barX 22 *tmp161
   583 op mul *tmp163 :drawItem.4:col 176
   584 op div *tmp164 *tmp163 2
-    * op add *tmp165 :drawItem.4:textEnd *tmp164
-    * set :drawItem.4:textX *tmp165
+  585 op add :drawItem.4:textX :drawItem.4:textEnd *tmp164
   586 draw col %[white]
   587 op add *tmp166 :drawItem.4:y 5
   588 draw image :drawItem.4:iconX *tmp166 :drawItem.4:item 16 0
 
   598 set :drawText.18:x :drawBold.8:x
   599 set :drawText.18:y :drawBold.8:y
   600 set :drawText.18:alignment :drawBold.8:alignment
-    * set *tmp169 .transportTarget
-    * print *tmp169
+  601 print .transportTarget
   602 set :drawPrint.18:x :drawText.18:x
   603 set :drawPrint.18:y :drawText.18:y
   604 set :drawPrint.18:alignment :drawText.18:alignment
   605 draw print :drawPrint.18:x :drawPrint.18:y :drawPrint.18:alignment
   606 label *label116
   607 label *label115
-    * op add *tmp170 :drawBold.8:x 1
-    * set :drawText.19:x *tmp170
+  608 op add :drawText.19:x :drawBold.8:x 1
   609 set :drawText.19:y :drawBold.8:y
   610 set :drawText.19:alignment :drawBold.8:alignment
-    * set *tmp171 .transportTarget
-    * print *tmp171
+  611 print .transportTarget
   612 set :drawPrint.19:x :drawText.19:x
   613 set :drawPrint.19:y :drawText.19:y
   614 set :drawPrint.19:alignment :drawText.19:alignment
 
   711 draw clear 0 0 32
   712 set .lastTime 0
   713 sensor *tmp183 bank1 @memoryCapacity
-    * op sub *tmp184 *tmp183 1
-    * set :displayLog:position *tmp184
+  714 op sub :displayLog:position *tmp183 1
   715 label *label140
   716 jump *label142 equal true false
   717 op sub :displayLog:position :displayLog:position 1
-    * set *tmp185 :displayLog:position
-    * read *tmp186 bank1 *tmp185
-    * set :displayLog:record *tmp186
+  718 read :displayLog:record bank1 :displayLog:position
   719 op equal *tmp187 :displayLog:record false
   720 jump *label143 equal *tmp187 false
   721 jump *label142 always
 
   723 label *label143
   724 label *label144
   725 set :displayRecord:record :displayLog:record
-    * op mod *tmp189 :displayRecord:record 1000
-    * set :displayRecord:id *tmp189
+  726 op mod :displayRecord:id :displayRecord:record 1000
   727 op greaterThan *tmp190 :displayRecord:id @blockCount
   728 jump *label146 equal *tmp190 false
   729 op sub *tmp192 :displayRecord:id @blockCount
-    * lookup unit *tmp193 *tmp192
-    * set *tmp191 *tmp193
+  730 lookup unit *tmp191 *tmp192
   731 jump *label147 always
   732 label *label146
-    * lookup block *tmp194 :displayRecord:id
-    * set *tmp191 *tmp194
+  733 lookup block *tmp191 :displayRecord:id
   734 label *label147
   735 set :displayRecord:icon *tmp191
   736 draw image :displayLog:x :displayLog:y :displayRecord:icon 14 0
   737 jump *label148 equal true false
-    * op idiv *tmp196 :displayRecord:record 1000
-    * set :displayRecord:t *tmp196
+  738 op idiv :displayRecord:t :displayRecord:record 1000
   739 jump *label149 always
   740 label *label148
-    * op idiv *tmp197 :displayRecord:record 1000
-    * set :displayRecord:r *tmp197
-    * op sub *tmp198 :displayRecord:r .lastTime
-    * set :displayRecord:t *tmp198
+  741 op idiv :displayRecord:r :displayRecord:record 1000
+  742 op sub :displayRecord:t :displayRecord:r .lastTime
   743 set .lastTime :displayRecord:r
   744 label *label149
-    * op idiv *tmp199 :displayRecord:t 60
-    * set :displayRecord:m *tmp199
-    * op mod *tmp200 :displayRecord:t 60
-    * set :displayRecord:s *tmp200
+  745 op idiv :displayRecord:m :displayRecord:t 60
+  746 op mod :displayRecord:s :displayRecord:t 60
   747 op lessThan *tmp201 :displayRecord:s 10
   748 jump *label150 equal *tmp201 false
   749 set *tmp202 "0"
 
   807 draw scale *tmp208 *tmp209
   808 op mul *tmp210 3 :displayOreMap:mapw
   809 op div *tmp211 *tmp210 176
-    * op ceil *tmp212 *tmp211
-    * set :displayOreMap:width *tmp212
+  810 op ceil :displayOreMap:width *tmp211
   811 op mul *tmp213 3 :displayOreMap:mapw
   812 op div *tmp214 *tmp213 176
-    * op ceil *tmp215 *tmp214
-    * set :displayOreMap:height *tmp215
-    * read *tmp216 bank1 0
-    * set :displayOreMap:minX *tmp216
-    * read *tmp217 bank1 1
-    * set :displayOreMap:minY *tmp217
-    * read *tmp218 bank1 2
-    * set :displayOreMap:maxX *tmp218
-    * read *tmp219 bank1 3
-    * set :displayOreMap:maxY *tmp219
+  813 op ceil :displayOreMap:height *tmp214
+  814 read :displayOreMap:minX bank1 0
+  815 read :displayOreMap:minY bank1 1
+  816 read :displayOreMap:maxX bank1 2
+  817 read :displayOreMap:maxY bank1 3
   818 op sub *tmp220 :displayOreMap:maxX :displayOreMap:minX
   819 op sub *tmp221 :displayOreMap:maxY :displayOreMap:minY
   820 draw lineRect :displayOreMap:minX :displayOreMap:minY *tmp220 *tmp221
 
   823 label *label161
   824 op lessThan *tmp222 :displayOreMap:index 256
   825 jump *label163 equal *tmp222 false
-    * set *tmp223 :displayOreMap:index
-    * read *tmp224 bank1 *tmp223
-    * set :displayOreMap:pos *tmp224
+  826 read :displayOreMap:pos bank1 :displayOreMap:index
   827 op equal *tmp225 :displayOreMap:pos 0
   828 jump *label164 equal *tmp225 false
   829 jump *label163 always
   830 jump *label165 always
   831 label *label164
   832 label *label165
-    * op mod *tmp227 :displayOreMap:pos @mapw
-    * set :displayOreMap:x *tmp227
-    * op idiv *tmp228 :displayOreMap:pos @mapw
-    * set :displayOreMap:y *tmp228
+  833 op mod :displayOreMap:x :displayOreMap:pos @mapw
+  834 op idiv :displayOreMap:y :displayOreMap:pos @mapw
   835 draw rect :displayOreMap:x :displayOreMap:y :displayOreMap:width :displayOreMap:height
   836 op add :displayOreMap:index :displayOreMap:index 1
   837 label *label162
 
   863 print "\n"
   864 print "==================================[]"
   865 print "\n"
-    * set *tmp230 .status1
-    * print *tmp230
+  866 print .status1
   867 print "\n"
   868 print .status2
   869 print .item2
 
   872 print .block2
   873 print ")"
   874 print "\n"
-    * set *tmp231 .status3
-    * print *tmp231
+  875 print .status3
   876 print "\n"
   877 printflush message1
   878 label *label168
 
   881 op greaterThan *tmp234 @second :main:nextSwitch
   882 jump *label171 equal *tmp234 false
   883 op add *tmp236 .page 1
-    * op mod *tmp237 *tmp236 .numPages
-    * set .page *tmp237
-    * op add *tmp238 @second 3
-    * set :main:nextSwitch *tmp238
+  884 op mod .page *tmp236 .numPages
+  885 op add :main:nextSwitch @second 3
   886 jump *label172 always
   887 label *label171
   888 label *label172
   889 jump *label170 always
   890 label *label169
-    * op sub *tmp239 @second 1
-    * set :main:nextSwitch *tmp239
+  891 op sub :main:nextSwitch @second 1
   892 label *label170
   893 label *label8
   894 jump *label7 always

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-3 instructions):
 
    14 drawflush null
    15 op add :main:nextSwitch @second 3
    16 label *label7
-    * jump *label9 equal true false
    17 jump *label12 equal .page 0
    18 jump *label11 always
    19 label *label12
 
   712 sensor *tmp183 bank1 @memoryCapacity
   713 op sub :displayLog:position *tmp183 1
   714 label *label140
-    * jump *label142 equal true false
   715 op sub :displayLog:position :displayLog:position 1
   716 read :displayLog:record bank1 :displayLog:position
   717 op equal *tmp187 :displayLog:record false
 
   732 label *label147
   733 set :displayRecord:icon *tmp191
   734 draw image :displayLog:x :displayLog:y :displayRecord:icon 14 0
-    * jump *label148 equal true false
   735 op idiv :displayRecord:t :displayRecord:record 1000
   736 jump *label149 always
   737 label *label148

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-3 instructions):
 
    14 drawflush null
    15 op add :main:nextSwitch @second 3
    16 label *label7
-    * jump *label12 equal .page 0
-    * jump *label11 always
+   17 jump *label11 notEqual .page 0
    18 label *label12
    19 draw reset
    20 draw clear 0 0 32
 
   700 label *label13
   701 jump *label10 always
   702 label *label11
-    * jump *label138 equal .page 1
-    * jump *label137 always
+  703 jump *label137 notEqual .page 1
   704 label *label138
   705 set :displayLog:x 11
   706 set :displayLog:y 163
 
   778 label *label139
   779 jump *label10 always
   780 label *label137
-    * jump *label157 equal .page 2
-    * jump *label156 always
+  781 jump *label156 notEqual .page 2
   782 label *label157
   783 draw reset
   784 draw clear 0 0 32

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-26 instructions):
 
     7 ubind @poly
     8 ulocate building core false @copper 0 0 0 .core
     9 label *label5
-    * op equal *tmp6 .core null
-    * jump *label4 notEqual *tmp6 false
+   10 jump *label4 equal .core null
    11 label *label6
    12 printflush null
    13 drawflush null
 
    43 label *label18
    44 label *label15
    45 draw col %[white]
-    * op equal *tmp11 .nextBlock null
-    * jump *label20 equal *tmp11 false
+   46 jump *label20 notEqual .nextBlock null
    47 sensor *tmp12 .factory @config
    48 jump *label21 always
    49 label *label20
 
    53 op floor :drawHeader:t @second
    54 op idiv :drawHeader:m :drawHeader:t 60
    55 op mod :drawHeader:s :drawHeader:t 60
-    * op lessThan *tmp17 :drawHeader:s 10
-    * jump *label22 equal *tmp17 false
+   56 jump *label22 greaterThanEq :drawHeader:s 10
    57 set *tmp18 "0"
    58 jump *label23 always
    59 label *label22
 
    96 label *label14
    97 set :drawMaterials:col 0
    98 set :drawMaterials:y 90
-    * op equal *tmp24 .nextBlock null
-    * jump *label31 equal *tmp24 false
+   99 jump *label31 notEqual .nextBlock null
   100 sensor :drawMaterials:unit .factory @config
-    * op equal *tmp27 :drawMaterials:unit @mono
-    * jump *label33 equal *tmp27 false
+  101 jump *label33 notEqual :drawMaterials:unit @mono
   102 set :drawMaterials:targetFactoryLead 15
   103 set :drawMaterials:targetFactorySilicon 30
   104 set .materialCount 2
 
   135 label *label38
   136 label *label35
   137 sensor *tmp32 .factory @progress
-    * op greaterThan *tmp33 *tmp32 0
-    * jump *label40 equal *tmp33 false
+  138 jump *label40 lessThanEq *tmp32 0
   139 sensor *tmp35 .factory @progress
   140 set :drawItem:col 0
   141 set :drawItem:y 90
 
   195 label *label46
   196 label *label43
   197 op add :drawItem:col :drawItem:col 1
-    * op greaterThanEq *tmp56 :drawItem:col :drawItem:columns
-    * jump *label48 equal *tmp56 false
+  198 jump *label48 lessThan :drawItem:col :drawItem:columns
   199 set :drawItem:col 0
   200 op sub :drawItem:y :drawItem:y 15
   201 jump *label49 always
 
   213 set :drawMaterials:target :drawMaterials:targetFactorySilicon
   214 setaddr *tmp58 *label54
   215 label *label50
-    * op greaterThan *tmp59 :drawMaterials:target 0
-    * jump *label55 equal *tmp59 false
+  216 jump *label55 lessThanEq :drawMaterials:target 0
   217 sensor *tmp61 .factory :drawMaterials:item
   218 set :drawItem.1:col :drawMaterials:col
   219 set :drawItem.1:y :drawMaterials:y
 
   271 label *label61
   272 label *label58
   273 op add :drawItem.1:col :drawItem.1:col 1
-    * op greaterThanEq *tmp82 :drawItem.1:col :drawItem.1:columns
-    * jump *label63 equal *tmp82 false
+  274 jump *label63 lessThan :drawItem.1:col :drawItem.1:columns
   275 set :drawItem.1:col 0
   276 op sub :drawItem.1:y :drawItem.1:y 15
   277 jump *label64 always
 
   347 set :drawMaterials:target.1 .targetMetaglass
   348 setaddr *tmp87 *label80
   349 label *label72
-    * op greaterThan *tmp88 :drawMaterials:target.1 0
-    * jump *label81 equal *tmp88 false
+  350 jump *label81 lessThanEq :drawMaterials:target.1 0
   351 sensor *tmp90 .core :drawMaterials:item.1
   352 set :drawItem.2:col :drawMaterials:col
   353 set :drawItem.2:y :drawMaterials:y
 
   405 label *label87
   406 label *label84
   407 op add :drawItem.2:col :drawItem.2:col 1
-    * op greaterThanEq *tmp111 :drawItem.2:col :drawItem.2:columns
-    * jump *label89 equal *tmp111 false
+  408 jump *label89 lessThan :drawItem.2:col :drawItem.2:columns
   409 set :drawItem.2:col 0
   410 op sub :drawItem.2:y :drawItem.2:y 15
   411 jump *label90 always
 
   415 set :drawMaterials:col :drawItem.2:col
   416 set :drawMaterials:y :drawItem.2:y
   417 op sub :drawMaterials:count :drawMaterials:count 1
-    * op lessThanEq *tmp113 :drawMaterials:count 0
-    * jump *label91 equal *tmp113 false
+  418 jump *label91 greaterThan :drawMaterials:count 0
   419 jump *label74 always
   420 jump *label92 always
   421 label *label91
 
   433 label *label32
   434 label *label30
   435 draw col %[white]
-    * op lessThan *tmp115 .materialCount 4
-    * jump *label94 equal *tmp115 false
+  436 jump *label94 greaterThanEq .materialCount 4
   437 set *tmp116 40
   438 jump *label95 always
   439 label *label94
 
   464 label *label100
   465 label *label99
   466 label *label96
-    * op equal *tmp118 .transportItem null
-    * jump *label101 equal *tmp118 false
+  467 jump *label101 notEqual .transportItem null
   468 op sub *tmp120 :drawUnit:y 15
   469 set :drawUnit.1:item @poly
   470 set :drawUnit.1:items 0
 
   525 label *label108
   526 label *label105
   527 op add :drawItem.3:col :drawItem.3:col 1
-    * op greaterThanEq *tmp143 :drawItem.3:col :drawItem.3:columns
-    * jump *label110 equal *tmp143 false
+  528 jump *label110 lessThan :drawItem.3:col :drawItem.3:columns
   529 set :drawItem.3:col 0
   530 op sub :drawItem.3:y :drawItem.3:y 15
   531 jump *label111 always
 
   600 label *label117
   601 label *label114
   602 op add :drawItem.4:col :drawItem.4:col 1
-    * op greaterThanEq *tmp172 :drawItem.4:col :drawItem.4:columns
-    * jump *label119 equal *tmp172 false
+  603 jump *label119 lessThan :drawItem.4:col :drawItem.4:columns
   604 set :drawItem.4:col 0
   605 op sub :drawItem.4:y :drawItem.4:y 15
   606 jump *label120 always
 
   615 draw col %[white]
   616 set :drawUnitCount:type @poly
   617 set :drawUnitCount:count .polys
-    * op greaterThan *tmp174 :drawUnitCount:count 0
-    * jump *label123 equal *tmp174 false
+  618 jump *label123 lessThanEq :drawUnitCount:count 0
   619 op sub *tmp176 :drawUnits:x 20
   620 draw image *tmp176 127 :drawUnitCount:type 12 0
   621 set :drawText.20:x :drawUnits:x
 
   636 label *label122
   637 set :drawUnitCount.1:type @mono
   638 set :drawUnitCount.1:count .monos
-    * op greaterThan *tmp177 :drawUnitCount.1:count 0
-    * jump *label128 equal *tmp177 false
+  639 jump *label128 lessThanEq :drawUnitCount.1:count 0
   640 op sub *tmp179 :drawUnits:x 20
   641 draw image *tmp179 127 :drawUnitCount.1:type 12 0
   642 set :drawText.21:x :drawUnits:x
 
   657 label *label127
   658 set :drawUnitCount.2:type @flare
   659 set :drawUnitCount.2:count .flares
-    * op greaterThan *tmp180 :drawUnitCount.2:count 0
-    * jump *label133 equal *tmp180 false
+  660 jump *label133 lessThanEq :drawUnitCount.2:count 0
   661 op sub *tmp182 :drawUnits:x 20
   662 draw image *tmp182 127 :drawUnitCount.2:type 12 0
   663 set :drawText.22:x :drawUnits:x
 
   693 label *label140
   694 op sub :displayLog:position :displayLog:position 1
   695 read :displayLog:record bank1 :displayLog:position
-    * op equal *tmp187 :displayLog:record false
-    * jump *label143 equal *tmp187 false
+  696 jump *label143 notEqual :displayLog:record false
   697 jump *label142 always
   698 jump *label144 always
   699 label *label143
   700 label *label144
   701 set :displayRecord:record :displayLog:record
   702 op mod :displayRecord:id :displayRecord:record 1000
-    * op greaterThan *tmp190 :displayRecord:id @blockCount
-    * jump *label146 equal *tmp190 false
+  703 jump *label146 lessThanEq :displayRecord:id @blockCount
   704 op sub *tmp192 :displayRecord:id @blockCount
   705 lookup unit *tmp191 *tmp192
   706 jump *label147 always
 
   718 label *label149
   719 op idiv :displayRecord:m :displayRecord:t 60
   720 op mod :displayRecord:s :displayRecord:t 60
-    * op lessThan *tmp201 :displayRecord:s 10
-    * jump *label150 equal *tmp201 false
+  721 jump *label150 greaterThanEq :displayRecord:s 10
   722 set *tmp202 "0"
   723 jump *label151 always
   724 label *label150
 
   741 label *label153
   742 label *label152
   743 op sub :displayLog:y :displayLog:y 15
-    * op lessThan *tmp206 :displayLog:y 10
-    * jump *label154 equal *tmp206 false
+  744 jump *label154 greaterThanEq :displayLog:y 10
   745 op add :displayLog:x :displayLog:x 58
   746 set :displayLog:y 164
   747 jump *label155 always
 
   792 draw col %[red]
   793 set :displayOreMap:index 4
   794 label *label161
-    * op lessThan *tmp222 :displayOreMap:index 256
-    * jump *label163 equal *tmp222 false
+  795 jump *label163 greaterThanEq :displayOreMap:index 256
   796 read :displayOreMap:pos bank1 :displayOreMap:index
-    * op equal *tmp225 :displayOreMap:pos 0
-    * jump *label164 equal *tmp225 false
+  797 jump *label164 notEqual :displayOreMap:pos 0
   798 jump *label163 always
   799 jump *label165 always
   800 label *label164
 
   847 label *label168
   848 sensor *tmp232 switch1 @enabled
   849 jump *label169 equal *tmp232 false
-    * op greaterThan *tmp234 @second :main:nextSwitch
-    * jump *label171 equal *tmp234 false
+  850 jump *label171 lessThanEq @second :main:nextSwitch
   851 op add *tmp236 .page 1
   852 op mod .page *tmp236 .numPages
   853 op add :main:nextSwitch @second 3

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-18 instructions):
 
    90 op mul *tmp22 7 *tmp21
    91 op sub *tmp23 150 *tmp22
    92 draw image *tmp23 146 @titanium 12 0
-    * jump *label27 always
    93 label *label26
    94 label *label27
    95 label *label14
 
   197 jump *label48 lessThan :drawItem:col :drawItem:columns
   198 set :drawItem:col 0
   199 op sub :drawItem:y :drawItem:y 15
-    * jump *label49 always
   200 label *label48
   201 label *label49
   202 label *label42
 
   272 jump *label63 lessThan :drawItem.1:col :drawItem.1:columns
   273 set :drawItem.1:col 0
   274 op sub :drawItem.1:y :drawItem.1:y 15
-    * jump *label64 always
   275 label *label63
   276 label *label64
   277 label *label57
   278 set :drawMaterials:col :drawItem.1:col
   279 set :drawMaterials:y :drawItem.1:y
-    * jump *label56 always
   280 label *label55
   281 label *label56
   282 label *label51
 
   404 jump *label89 lessThan :drawItem.2:col :drawItem.2:columns
   405 set :drawItem.2:col 0
   406 op sub :drawItem.2:y :drawItem.2:y 15
-    * jump *label90 always
   407 label *label89
   408 label *label90
   409 label *label83
 
   412 op sub :drawMaterials:count :drawMaterials:count 1
   413 jump *label91 greaterThan :drawMaterials:count 0
   414 jump *label74 always
-    * jump *label92 always
   415 label *label91
   416 label *label92
-    * jump *label82 always
   417 label *label81
   418 label *label82
   419 label *label73
   420 multijump *tmp87 0 0 (m:marker1)
   421 multilabel *label80 (m:marker1)
   422 label *label74
-    * jump *label71 always
   423 label *label70
   424 label *label71
   425 label *label32
 
   520 jump *label110 lessThan :drawItem.3:col :drawItem.3:columns
   521 set :drawItem.3:col 0
   522 op sub :drawItem.3:y :drawItem.3:y 15
-    * jump *label111 always
   523 label *label110
   524 label *label111
   525 label *label104
 
   594 jump *label119 lessThan :drawItem.4:col :drawItem.4:columns
   595 set :drawItem.4:col 0
   596 op sub :drawItem.4:y :drawItem.4:y 15
-    * jump *label120 always
   597 label *label119
   598 label *label120
   599 label *label113
 
   620 label *label126
   621 label *label125
   622 op sub :drawUnits:x :drawUnits:x 30
-    * jump *label124 always
   623 label *label123
   624 label *label124
   625 label *label122
 
   640 label *label131
   641 label *label130
   642 op sub :drawUnits:x :drawUnits:x 30
-    * jump *label129 always
   643 label *label128
   644 label *label129
   645 label *label127
 
   660 label *label136
   661 label *label135
   662 op sub :drawUnits:x :drawUnits:x 30
-    * jump *label134 always
   663 label *label133
   664 label *label134
   665 label *label132
 
   682 read :displayLog:record bank1 :displayLog:position
   683 jump *label143 notEqual :displayLog:record false
   684 jump *label142 always
-    * jump *label144 always
   685 label *label143
   686 label *label144
   687 set :displayRecord:record :displayLog:record
 
   730 jump *label154 greaterThanEq :displayLog:y 10
   731 op add :displayLog:x :displayLog:x 58
   732 set :displayLog:y 164
-    * jump *label155 always
   733 label *label154
   734 label *label155
   735 label *label145
 
   781 read :displayOreMap:pos bank1 :displayOreMap:index
   782 jump *label164 notEqual :displayOreMap:pos 0
   783 jump *label163 always
-    * jump *label165 always
   784 label *label164
   785 label *label165
   786 op mod :displayOreMap:x :displayOreMap:pos @mapw
 
   808 label *label166
   809 drawflush display1
   810 label *label158
-    * jump *label10 always
   811 label *label156
   812 label *label10
   813 print "[gold]Building "
 
   834 op add *tmp236 .page 1
   835 op mod .page *tmp236 .numPages
   836 op add :main:nextSwitch @second 3
-    * jump *label172 always
   837 label *label171
   838 label *label172
   839 jump *label170 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-8 instructions):
 
    21 set :drawBold:x 40
    22 set :drawBold:y 161
    23 set :drawBold:alignment @bottom
-    * set :drawText:x :drawBold:x
-    * set :drawText:y :drawBold:y
-    * set :drawText:alignment :drawBold:alignment
+   24 set :drawText:x 40
+   25 set :drawText:y 161
+   26 set :drawText:alignment @bottom
    27 print "Building"
-    * set :drawPrint:x :drawText:x
-    * set :drawPrint:y :drawText:y
-    * set :drawPrint:alignment :drawText:alignment
-    * draw print :drawPrint:x :drawPrint:y :drawPrint:alignment
+   28 set :drawPrint:x :drawBold:x
+   29 set :drawPrint:y :drawBold:y
+   30 set :drawPrint:alignment :drawBold:alignment
+   31 draw print :drawText:x :drawText:y :drawText:alignment
    32 label *label17
    33 label *label16
-    * op add :drawText.1:x :drawBold:x 1
-    * set :drawText.1:y :drawBold:y
-    * set :drawText.1:alignment :drawBold:alignment
+   34 op add :drawText.1:x 40 1
+   35 set :drawText.1:y 161
+   36 set :drawText.1:alignment @bottom
    37 print "Building"
-    * set :drawPrint.1:x :drawText.1:x
-    * set :drawPrint.1:y :drawText.1:y
-    * set :drawPrint.1:alignment :drawText.1:alignment
-    * draw print :drawPrint.1:x :drawPrint.1:y :drawPrint.1:alignment
+   38 set :drawPrint.1:x 41
+   39 set :drawPrint.1:y :drawBold:y
+   40 set :drawPrint.1:alignment :drawBold:alignment
+   41 draw print :drawText.1:x :drawText.1:y :drawText.1:alignment
    42 label *label19
    43 label *label18
    44 label *label15
 
    67 set :drawText.2:y 172
    68 set :drawText.2:alignment @topRight
    69 print ""
-    * set :drawPrint.2:x :drawText.2:x
-    * set :drawPrint.2:y :drawText.2:y
-    * set :drawPrint.2:alignment :drawText.2:alignment
-    * draw print :drawPrint.2:x :drawPrint.2:y :drawPrint.2:alignment
+   70 set :drawPrint.2:x 170
+   71 set :drawPrint.2:y 172
+   72 set :drawPrint.2:alignment @topRight
+   73 draw print :drawText.2:x :drawText.2:y :drawText.2:alignment
    74 label *label25
    75 label *label24
    76 sensor :drawHeader:count .titaniumDrill @titanium
 
    80 set :drawText.3:alignment @topRight
    81 print "x"
    82 print :drawHeader:count
-    * set :drawPrint.3:x :drawText.3:x
-    * set :drawPrint.3:y :drawText.3:y
-    * set :drawPrint.3:alignment :drawText.3:alignment
-    * draw print :drawPrint.3:x :drawPrint.3:y :drawPrint.3:alignment
+   83 set :drawPrint.3:x 170
+   84 set :drawPrint.3:y 155
+   85 set :drawPrint.3:alignment @topRight
+   86 draw print :drawText.3:x :drawText.3:y :drawText.3:alignment
    87 label *label29
    88 label *label28
    89 op idiv *tmp21 :drawHeader:count 10
 
   112 set :drawBold.1:x 22
   113 set :drawBold.1:y 105
   114 set :drawBold.1:alignment @bottomLeft
-    * set :drawText.4:x :drawBold.1:x
-    * set :drawText.4:y :drawBold.1:y
-    * set :drawText.4:alignment :drawBold.1:alignment
+  115 set :drawText.4:x 22
+  116 set :drawText.4:y 105
+  117 set :drawText.4:alignment @bottomLeft
   118 print "Air Factory"
-    * set :drawPrint.4:x :drawText.4:x
-    * set :drawPrint.4:y :drawText.4:y
-    * set :drawPrint.4:alignment :drawText.4:alignment
-    * draw print :drawPrint.4:x :drawPrint.4:y :drawPrint.4:alignment
+  119 set :drawPrint.4:x :drawBold.1:x
+  120 set :drawPrint.4:y :drawBold.1:y
+  121 set :drawPrint.4:alignment :drawBold.1:alignment
+  122 draw print :drawText.4:x :drawText.4:y :drawText.4:alignment
   123 label *label37
   124 label *label36
-    * op add :drawText.5:x :drawBold.1:x 1
-    * set :drawText.5:y :drawBold.1:y
-    * set :drawText.5:alignment :drawBold.1:alignment
+  125 op add :drawText.5:x 22 1
+  126 set :drawText.5:y 105
+  127 set :drawText.5:alignment @bottomLeft
   128 print "Air Factory"
-    * set :drawPrint.5:x :drawText.5:x
-    * set :drawPrint.5:y :drawText.5:y
-    * set :drawPrint.5:alignment :drawText.5:alignment
-    * draw print :drawPrint.5:x :drawPrint.5:y :drawPrint.5:alignment
+  129 set :drawPrint.5:x 23
+  130 set :drawPrint.5:y :drawBold.1:y
+  131 set :drawPrint.5:alignment :drawBold.1:alignment
+  132 draw print :drawText.5:x :drawText.5:y :drawText.5:alignment
   133 label *label39
   134 label *label38
   135 label *label35
 
   142 set :drawItem:item :drawMaterials:unit
   143 set :drawItem:current *tmp35
   144 set :drawItem:target 1
-    * op mul *tmp36 :drawItem:columns 176
-    * op div *tmp37 *tmp36 2
-    * op sub :drawItem:barLength 210 *tmp37
-    * op add :drawItem:textEnd 48 :drawItem:barLength
-    * op mul *tmp40 :drawItem:barLength :drawItem:current
-    * op div *tmp41 *tmp40 :drawItem:target
-    * op min :drawItem:length :drawItem:barLength *tmp41
-    * op mul *tmp43 :drawItem:col 176
-    * op div *tmp44 *tmp43 2
-    * op add :drawItem:iconX 11 *tmp44
-    * op mul *tmp46 :drawItem:col 176
-    * op div *tmp47 *tmp46 2
-    * op add :drawItem:barX 22 *tmp47
-    * op mul *tmp49 :drawItem:col 176
-    * op div *tmp50 *tmp49 2
-    * op add :drawItem:textX :drawItem:textEnd *tmp50
+  145 op mul *tmp36 1 176
+  146 op div *tmp37 176 2
+  147 op sub :drawItem:barLength 210 88
+  148 op add :drawItem:textEnd 48 122
+  149 op mul *tmp40 122 *tmp35
+  150 op div *tmp41 *tmp40 1
+  151 op min :drawItem:length 122 *tmp41
+  152 op mul *tmp43 0 176
+  153 op div *tmp44 0 2
+  154 op add :drawItem:iconX 11 0
+  155 op mul *tmp46 0 176
+  156 op div *tmp47 0 2
+  157 op add :drawItem:barX 22 0
+  158 op mul *tmp49 0 176
+  159 op div *tmp50 0 2
+  160 op add :drawItem:textX 170 0
   161 draw col %[white]
-    * op add *tmp52 :drawItem:y 5
-    * draw image :drawItem:iconX *tmp52 :drawItem:item 16 0
+  162 op add *tmp52 90 5
+  163 draw image 11 95 :drawMaterials:unit 16 0
   164 draw color 0 128 0 255
-    * draw rect :drawItem:barX :drawItem:y :drawItem:length 10
+  165 draw rect 22 90 :drawItem:length 10
   166 draw color 0 255 0 255
-    * draw lineRect :drawItem:barX :drawItem:y :drawItem:barLength 10
-    * op add *tmp53 :drawItem:y 5
-    * op add *tmp54 *tmp53 2
-    * set :drawBold.2:x :drawItem:textX
-    * set :drawBold.2:y *tmp54
+  167 draw lineRect 22 90 122 10
+  168 op add *tmp53 90 5
+  169 op add *tmp54 95 2
+  170 set :drawBold.2:x 170
+  171 set :drawBold.2:y 97
   172 set :drawBold.2:alignment @right
-    * set :drawText.6:x :drawBold.2:x
-    * set :drawText.6:y :drawBold.2:y
-    * set :drawText.6:alignment :drawBold.2:alignment
+  173 set :drawText.6:x :drawItem:textX
+  174 set :drawText.6:y *tmp54
+  175 set :drawText.6:alignment @right
   176 print :drawMaterials:unitCount
   177 print "/8"
-    * set :drawPrint.6:x :drawText.6:x
-    * set :drawPrint.6:y :drawText.6:y
-    * set :drawPrint.6:alignment :drawText.6:alignment
-    * draw print :drawPrint.6:x :drawPrint.6:y :drawPrint.6:alignment
+  178 set :drawPrint.6:x :drawBold.2:x
+  179 set :drawPrint.6:y :drawBold.2:y
+  180 set :drawPrint.6:alignment :drawBold.2:alignment
+  181 draw print :drawText.6:x :drawText.6:y :drawText.6:alignment
   182 label *label45
   183 label *label44
-    * op add :drawText.7:x :drawBold.2:x 1
-    * set :drawText.7:y :drawBold.2:y
-    * set :drawText.7:alignment :drawBold.2:alignment
+  184 op add :drawText.7:x :drawItem:textX 1
+  185 set :drawText.7:y *tmp54
+  186 set :drawText.7:alignment @right
   187 print :drawMaterials:unitCount
   188 print "/8"
   189 set :drawPrint.7:x :drawText.7:x
-    * set :drawPrint.7:y :drawText.7:y
-    * set :drawPrint.7:alignment :drawText.7:alignment
-    * draw print :drawPrint.7:x :drawPrint.7:y :drawPrint.7:alignment
+  190 set :drawPrint.7:y :drawBold.2:y
+  191 set :drawPrint.7:alignment :drawBold.2:alignment
+  192 draw print :drawText.7:x :drawText.7:y :drawText.7:alignment
   193 label *label47
   194 label *label46
   195 label *label43
-    * op add :drawItem:col :drawItem:col 1
-    * jump *label48 lessThan :drawItem:col :drawItem:columns
-    * set :drawItem:col 0
-    * op sub :drawItem:y :drawItem:y 15
+  196 op add :drawItem:col 0 1
+  197 jump *label48 lessThan 1 1
+  198 op sub :drawItem:y 90 15
   199 label *label48
   200 label *label49
   201 label *label42
 
   218 set :drawItem.1:item :drawMaterials:item
   219 set :drawItem.1:current *tmp61
   220 set :drawItem.1:target :drawMaterials:target
-    * op mul *tmp62 :drawItem.1:columns 176
-    * op div *tmp63 *tmp62 2
-    * op sub :drawItem.1:barLength 210 *tmp63
-    * op add :drawItem.1:textEnd 48 :drawItem.1:barLength
-    * op mul *tmp66 :drawItem.1:barLength :drawItem.1:current
-    * op div *tmp67 *tmp66 :drawItem.1:target
-    * op min :drawItem.1:length :drawItem.1:barLength *tmp67
-    * op mul *tmp69 :drawItem.1:col 176
-    * op div *tmp70 *tmp69 2
+  221 op mul *tmp62 1 176
+  222 op div *tmp63 176 2
+  223 op sub :drawItem.1:barLength 210 88
+  224 op add :drawItem.1:textEnd 48 122
+  225 op mul *tmp66 122 *tmp61
+  226 op div *tmp67 *tmp66 :drawMaterials:target
+  227 op min :drawItem.1:length 122 *tmp67
+  228 op mul *tmp69 :drawMaterials:col 176
+  229 op mul *tmp70 :drawItem.1:col 88
   230 op add :drawItem.1:iconX 11 *tmp70
-    * op mul *tmp72 :drawItem.1:col 176
-    * op div *tmp73 *tmp72 2
-    * op add :drawItem.1:barX 22 *tmp73
-    * op mul *tmp75 :drawItem.1:col 176
-    * op div *tmp76 *tmp75 2
-    * op add :drawItem.1:textX :drawItem.1:textEnd *tmp76
+  231 op mul *tmp72 :drawMaterials:col 176
+  232 op div *tmp73 *tmp69 2
+  233 op add :drawItem.1:barX 22 *tmp70
+  234 op mul *tmp75 :drawMaterials:col 176
+  235 op div *tmp76 *tmp69 2
+  236 op add :drawItem.1:textX 170 *tmp70
   237 draw col %[white]
-    * op add *tmp78 :drawItem.1:y 5
-    * draw image :drawItem.1:iconX *tmp78 :drawItem.1:item 16 0
+  238 op add *tmp78 :drawMaterials:y 5
+  239 draw image :drawItem.1:iconX *tmp78 :drawMaterials:item 16 0
   240 draw color 0 128 0 255
-    * draw rect :drawItem.1:barX :drawItem.1:y :drawItem.1:length 10
+  241 draw rect :drawItem.1:barX :drawMaterials:y :drawItem.1:length 10
   242 draw color 0 255 0 255
-    * draw lineRect :drawItem.1:barX :drawItem.1:y :drawItem.1:barLength 10
-    * op add *tmp79 :drawItem.1:y 5
-    * op add *tmp80 *tmp79 2
+  243 draw lineRect :drawItem.1:barX :drawMaterials:y 122 10
+  244 op add *tmp79 :drawMaterials:y 5
+  245 op add *tmp80 *tmp78 2
   246 set :drawBold.3:x :drawItem.1:textX
   247 set :drawBold.3:y *tmp80
   248 set :drawBold.3:alignment @right
-    * set :drawText.8:x :drawBold.3:x
-    * set :drawText.8:y :drawBold.3:y
-    * set :drawText.8:alignment :drawBold.3:alignment
+  249 set :drawText.8:x :drawItem.1:textX
+  250 set :drawText.8:y *tmp80
+  251 set :drawText.8:alignment @right
   252 print :drawMaterials:target
-    * set :drawPrint.8:x :drawText.8:x
-    * set :drawPrint.8:y :drawText.8:y
-    * set :drawPrint.8:alignment :drawText.8:alignment
-    * draw print :drawPrint.8:x :drawPrint.8:y :drawPrint.8:alignment
+  253 set :drawPrint.8:x :drawBold.3:x
+  254 set :drawPrint.8:y :drawBold.3:y
+  255 set :drawPrint.8:alignment :drawBold.3:alignment
+  256 draw print :drawText.8:x :drawText.8:y :drawText.8:alignment
   257 label *label60
   258 label *label59
-    * op add :drawText.9:x :drawBold.3:x 1
-    * set :drawText.9:y :drawBold.3:y
-    * set :drawText.9:alignment :drawBold.3:alignment
+  259 op add :drawText.9:x :drawItem.1:textX 1
+  260 set :drawText.9:y *tmp80
+  261 set :drawText.9:alignment @right
   262 print :drawMaterials:target
   263 set :drawPrint.9:x :drawText.9:x
-    * set :drawPrint.9:y :drawText.9:y
-    * set :drawPrint.9:alignment :drawText.9:alignment
-    * draw print :drawPrint.9:x :drawPrint.9:y :drawPrint.9:alignment
+  264 set :drawPrint.9:y :drawBold.3:y
+  265 set :drawPrint.9:alignment :drawBold.3:alignment
+  266 draw print :drawText.9:x :drawText.9:y :drawText.9:alignment
   267 label *label62
   268 label *label61
   269 label *label58
-    * op add :drawItem.1:col :drawItem.1:col 1
-    * jump *label63 lessThan :drawItem.1:col :drawItem.1:columns
+  270 op add :drawItem.1:col :drawMaterials:col 1
+  271 jump *label63 lessThan :drawItem.1:col 1
   272 set :drawItem.1:col 0
-    * op sub :drawItem.1:y :drawItem.1:y 15
+  273 op sub :drawItem.1:y :drawMaterials:y 15
   274 label *label63
   275 label *label64
   276 label *label57
 
   290 set :drawBold.4:x 22
   291 set :drawBold.4:y 105
   292 set :drawBold.4:alignment @bottomLeft
-    * set :drawText.10:x :drawBold.4:x
-    * set :drawText.10:y :drawBold.4:y
-    * set :drawText.10:alignment :drawBold.4:alignment
+  293 set :drawText.10:x 22
+  294 set :drawText.10:y 105
+  295 set :drawText.10:alignment @bottomLeft
   296 print "Materials"
-    * set :drawPrint.10:x :drawText.10:x
-    * set :drawPrint.10:y :drawText.10:y
-    * set :drawPrint.10:alignment :drawText.10:alignment
-    * draw print :drawPrint.10:x :drawPrint.10:y :drawPrint.10:alignment
+  297 set :drawPrint.10:x :drawBold.4:x
+  298 set :drawPrint.10:y :drawBold.4:y
+  299 set :drawPrint.10:alignment :drawBold.4:alignment
+  300 draw print :drawText.10:x :drawText.10:y :drawText.10:alignment
   301 label *label67
   302 label *label66
-    * op add :drawText.11:x :drawBold.4:x 1
-    * set :drawText.11:y :drawBold.4:y
-    * set :drawText.11:alignment :drawBold.4:alignment
+  303 op add :drawText.11:x 22 1
+  304 set :drawText.11:y 105
+  305 set :drawText.11:alignment @bottomLeft
   306 print "Materials"
-    * set :drawPrint.11:x :drawText.11:x
-    * set :drawPrint.11:y :drawText.11:y
-    * set :drawPrint.11:alignment :drawText.11:alignment
-    * draw print :drawPrint.11:x :drawPrint.11:y :drawPrint.11:alignment
+  307 set :drawPrint.11:x 23
+  308 set :drawPrint.11:y :drawBold.4:y
+  309 set :drawPrint.11:alignment :drawBold.4:alignment
+  310 draw print :drawText.11:x :drawText.11:y :drawText.11:alignment
   311 label *label69
   312 label *label68
   313 label *label65
   314 set :drawMaterials:columns 1
-    * jump *label70 equal :drawMaterials:count false
+  315 jump *label70 equal .materialCount false
   316 set :drawMaterials:item.1 @copper
   317 set :drawMaterials:target.1 .targetCopper
   318 setaddr *tmp87 *label75
 
   346 sensor *tmp90 .core :drawMaterials:item.1
   347 set :drawItem.2:col :drawMaterials:col
   348 set :drawItem.2:y :drawMaterials:y
-    * set :drawItem.2:columns :drawMaterials:columns
+  349 set :drawItem.2:columns 1
   350 set :drawItem.2:item :drawMaterials:item.1
   351 set :drawItem.2:current *tmp90
   352 set :drawItem.2:target :drawMaterials:target.1
-    * op mul *tmp91 :drawItem.2:columns 176
-    * op div *tmp92 *tmp91 2
+  353 op mul *tmp91 :drawMaterials:columns 176
+  354 op mul *tmp92 :drawItem.2:columns 88
   355 op sub :drawItem.2:barLength 210 *tmp92
   356 op add :drawItem.2:textEnd 48 :drawItem.2:barLength
-    * op mul *tmp95 :drawItem.2:barLength :drawItem.2:current
-    * op div *tmp96 *tmp95 :drawItem.2:target
+  357 op mul *tmp95 :drawItem.2:barLength *tmp90
+  358 op div *tmp96 *tmp95 :drawMaterials:target.1
   359 op min :drawItem.2:length :drawItem.2:barLength *tmp96
-    * op mul *tmp98 :drawItem.2:col 176
-    * op div *tmp99 *tmp98 2
+  360 op mul *tmp98 :drawMaterials:col 176
+  361 op mul *tmp99 :drawItem.2:col 88
   362 op add :drawItem.2:iconX 11 *tmp99
-    * op mul *tmp101 :drawItem.2:col 176
-    * op div *tmp102 *tmp101 2
-    * op add :drawItem.2:barX 22 *tmp102
-    * op mul *tmp104 :drawItem.2:col 176
-    * op div *tmp105 *tmp104 2
-    * op add :drawItem.2:textX :drawItem.2:textEnd *tmp105
+  363 op mul *tmp101 :drawMaterials:col 176
+  364 op div *tmp102 *tmp98 2
+  365 op add :drawItem.2:barX 22 *tmp99
+  366 op mul *tmp104 :drawMaterials:col 176
+  367 op div *tmp105 *tmp98 2
+  368 op add :drawItem.2:textX :drawItem.2:textEnd *tmp99
   369 draw col %[white]
-    * op add *tmp107 :drawItem.2:y 5
-    * draw image :drawItem.2:iconX *tmp107 :drawItem.2:item 16 0
+  370 op add *tmp107 :drawMaterials:y 5
+  371 draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
   372 draw color 0 128 0 255
-    * draw rect :drawItem.2:barX :drawItem.2:y :drawItem.2:length 10
+  373 draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
   374 draw color 0 255 0 255
-    * draw lineRect :drawItem.2:barX :drawItem.2:y :drawItem.2:barLength 10
-    * op add *tmp108 :drawItem.2:y 5
-    * op add *tmp109 *tmp108 2
+  375 draw lineRect :drawItem.2:barX :drawMaterials:y :drawItem.2:barLength 10
+  376 op add *tmp108 :drawMaterials:y 5
+  377 op add *tmp109 *tmp107 2
   378 set :drawBold.5:x :drawItem.2:textX
   379 set :drawBold.5:y *tmp109
   380 set :drawBold.5:alignment @right
-    * set :drawText.12:x :drawBold.5:x
-    * set :drawText.12:y :drawBold.5:y
-    * set :drawText.12:alignment :drawBold.5:alignment
+  381 set :drawText.12:x :drawItem.2:textX
+  382 set :drawText.12:y *tmp109
+  383 set :drawText.12:alignment @right
   384 print :drawMaterials:target.1
-    * set :drawPrint.12:x :drawText.12:x
-    * set :drawPrint.12:y :drawText.12:y
-    * set :drawPrint.12:alignment :drawText.12:alignment
-    * draw print :drawPrint.12:x :drawPrint.12:y :drawPrint.12:alignment
+  385 set :drawPrint.12:x :drawBold.5:x
+  386 set :drawPrint.12:y :drawBold.5:y
+  387 set :drawPrint.12:alignment :drawBold.5:alignment
+  388 draw print :drawText.12:x :drawText.12:y :drawText.12:alignment
   389 label *label86
   390 label *label85
-    * op add :drawText.13:x :drawBold.5:x 1
-    * set :drawText.13:y :drawBold.5:y
-    * set :drawText.13:alignment :drawBold.5:alignment
+  391 op add :drawText.13:x :drawItem.2:textX 1
+  392 set :drawText.13:y *tmp109
+  393 set :drawText.13:alignment @right
   394 print :drawMaterials:target.1
   395 set :drawPrint.13:x :drawText.13:x
-    * set :drawPrint.13:y :drawText.13:y
-    * set :drawPrint.13:alignment :drawText.13:alignment
-    * draw print :drawPrint.13:x :drawPrint.13:y :drawPrint.13:alignment
+  396 set :drawPrint.13:y :drawBold.5:y
+  397 set :drawPrint.13:alignment :drawBold.5:alignment
+  398 draw print :drawText.13:x :drawText.13:y :drawText.13:alignment
   399 label *label88
   400 label *label87
   401 label *label84
-    * op add :drawItem.2:col :drawItem.2:col 1
-    * jump *label89 lessThan :drawItem.2:col :drawItem.2:columns
+  402 op add :drawItem.2:col :drawMaterials:col 1
+  403 jump *label89 lessThan :drawItem.2:col :drawMaterials:columns
   404 set :drawItem.2:col 0
-    * op sub :drawItem.2:y :drawItem.2:y 15
+  405 op sub :drawItem.2:y :drawMaterials:y 15
   406 label *label89
   407 label *label90
   408 label *label83
 
   432 label *label95
   433 set :drawUnit:y *tmp116
   434 set :drawBold.6:x 22
-    * set :drawBold.6:y :drawUnit:y
+  435 set :drawBold.6:y *tmp116
   436 set :drawBold.6:alignment @bottomLeft
-    * set :drawText.14:x :drawBold.6:x
-    * set :drawText.14:y :drawBold.6:y
-    * set :drawText.14:alignment :drawBold.6:alignment
+  437 set :drawText.14:x 22
+  438 set :drawText.14:y :drawUnit:y
+  439 set :drawText.14:alignment @bottomLeft
   440 print "Builder"
-    * set :drawPrint.14:x :drawText.14:x
-    * set :drawPrint.14:y :drawText.14:y
-    * set :drawPrint.14:alignment :drawText.14:alignment
-    * draw print :drawPrint.14:x :drawPrint.14:y :drawPrint.14:alignment
+  441 set :drawPrint.14:x :drawBold.6:x
+  442 set :drawPrint.14:y :drawBold.6:y
+  443 set :drawPrint.14:alignment :drawBold.6:alignment
+  444 draw print :drawText.14:x :drawText.14:y :drawText.14:alignment
   445 label *label98
   446 label *label97
-    * op add :drawText.15:x :drawBold.6:x 1
-    * set :drawText.15:y :drawBold.6:y
-    * set :drawText.15:alignment :drawBold.6:alignment
+  447 op add :drawText.15:x 22 1
+  448 set :drawText.15:y :drawUnit:y
+  449 set :drawText.15:alignment @bottomLeft
   450 print "Builder"
-    * set :drawPrint.15:x :drawText.15:x
-    * set :drawPrint.15:y :drawText.15:y
-    * set :drawPrint.15:alignment :drawText.15:alignment
-    * draw print :drawPrint.15:x :drawPrint.15:y :drawPrint.15:alignment
+  451 set :drawPrint.15:x 23
+  452 set :drawPrint.15:y :drawBold.6:y
+  453 set :drawPrint.15:alignment :drawBold.6:alignment
+  454 draw print :drawText.15:x :drawText.15:y :drawText.15:alignment
   455 label *label100
   456 label *label99
   457 label *label96
   458 jump *label101 notEqual .transportItem null
-    * op sub *tmp120 :drawUnit:y 15
+  459 op sub *tmp120 *tmp116 15
   460 set :drawUnit.1:item @poly
   461 set :drawUnit.1:items 0
   462 set :drawUnit.1:y *tmp120
   463 set :drawItem.3:col 0
-    * set :drawItem.3:y :drawUnit.1:y
+  464 set :drawItem.3:y *tmp120
   465 set :drawItem.3:columns 1
-    * set :drawItem.3:item :drawUnit.1:item
-    * set :drawItem.3:current :drawUnit.1:items
+  466 set :drawItem.3:item @poly
+  467 set :drawItem.3:current 0
   468 set :drawItem.3:target .transportTarget
-    * op mul *tmp121 :drawItem.3:columns 176
-    * op div *tmp122 *tmp121 2
-    * op sub :drawItem.3:barLength 210 *tmp122
-    * op add :drawItem.3:textEnd 48 :drawItem.3:barLength
-    * op mul *tmp125 :drawItem.3:barLength :drawItem.3:current
+  469 op mul *tmp121 1 176
+  470 op div *tmp122 176 2
+  471 op sub :drawItem.3:barLength 210 88
+  472 op add :drawItem.3:textEnd 48 122
+  473 op mul *tmp125 122 :drawUnit.1:items
   474 op div *tmp126 *tmp125 :drawItem.3:target
-    * op min :drawItem.3:length :drawItem.3:barLength *tmp126
-    * op mul *tmp128 :drawItem.3:col 176
-    * op div *tmp129 *tmp128 2
-    * op add :drawItem.3:iconX 11 *tmp129
-    * op mul *tmp131 :drawItem.3:col 176
-    * op div *tmp132 *tmp131 2
-    * op add :drawItem.3:barX 22 *tmp132
-    * op mul *tmp134 :drawItem.3:col 176
-    * op div *tmp135 *tmp134 2
-    * op add :drawItem.3:textX :drawItem.3:textEnd *tmp135
+  475 op min :drawItem.3:length 122 *tmp126
+  476 op mul *tmp128 0 176
+  477 op div *tmp129 0 2
+  478 op add :drawItem.3:iconX 11 0
+  479 op mul *tmp131 0 176
+  480 op div *tmp132 0 2
+  481 op add :drawItem.3:barX 22 0
+  482 op mul *tmp134 0 176
+  483 op div *tmp135 0 2
+  484 op add :drawItem.3:textX 170 0
   485 draw col %[white]
-    * op add *tmp137 :drawItem.3:y 5
-    * draw image :drawItem.3:iconX *tmp137 :drawItem.3:item 16 0
+  486 op add *tmp137 :drawUnit.1:y 5
+  487 draw image 11 *tmp137 :drawUnit.1:item 16 0
   488 draw color 0 128 0 255
-    * draw rect :drawItem.3:barX :drawItem.3:y :drawItem.3:length 10
+  489 draw rect 22 :drawUnit.1:y :drawItem.3:length 10
   490 draw color 0 255 0 255
-    * draw lineRect :drawItem.3:barX :drawItem.3:y :drawItem.3:barLength 10
-    * op add *tmp138 :drawItem.3:y 5
-    * op add *tmp139 *tmp138 2
-    * set :drawBold.7:x :drawItem.3:textX
+  491 draw lineRect 22 :drawUnit.1:y 122 10
+  492 op add *tmp138 :drawUnit.1:y 5
+  493 op add *tmp139 *tmp137 2
+  494 set :drawBold.7:x 170
   495 set :drawBold.7:y *tmp139
   496 set :drawBold.7:alignment @right
-    * set :drawText.16:x :drawBold.7:x
-    * set :drawText.16:y :drawBold.7:y
-    * set :drawText.16:alignment :drawBold.7:alignment
+  497 set :drawText.16:x :drawItem.3:textX
+  498 set :drawText.16:y *tmp139
+  499 set :drawText.16:alignment @right
   500 print .transportTarget
-    * set :drawPrint.16:x :drawText.16:x
-    * set :drawPrint.16:y :drawText.16:y
-    * set :drawPrint.16:alignment :drawText.16:alignment
-    * draw print :drawPrint.16:x :drawPrint.16:y :drawPrint.16:alignment
+  501 set :drawPrint.16:x :drawBold.7:x
+  502 set :drawPrint.16:y :drawBold.7:y
+  503 set :drawPrint.16:alignment :drawBold.7:alignment
+  504 draw print :drawText.16:x :drawText.16:y :drawText.16:alignment
   505 label *label107
   506 label *label106
-    * op add :drawText.17:x :drawBold.7:x 1
-    * set :drawText.17:y :drawBold.7:y
-    * set :drawText.17:alignment :drawBold.7:alignment
+  507 op add :drawText.17:x :drawItem.3:textX 1
+  508 set :drawText.17:y *tmp139
+  509 set :drawText.17:alignment @right
   510 print .transportTarget
   511 set :drawPrint.17:x :drawText.17:x
-    * set :drawPrint.17:y :drawText.17:y
-    * set :drawPrint.17:alignment :drawText.17:alignment
-    * draw print :drawPrint.17:x :drawPrint.17:y :drawPrint.17:alignment
+  512 set :drawPrint.17:y :drawBold.7:y
+  513 set :drawPrint.17:alignment :drawBold.7:alignment
+  514 draw print :drawText.17:x :drawText.17:y :drawText.17:alignment
   515 label *label109
   516 label *label108
   517 label *label105
-    * op add :drawItem.3:col :drawItem.3:col 1
-    * jump *label110 lessThan :drawItem.3:col :drawItem.3:columns
-    * set :drawItem.3:col 0
-    * op sub :drawItem.3:y :drawItem.3:y 15
+  518 op add :drawItem.3:col 0 1
+  519 jump *label110 lessThan 1 1
+  520 op sub :drawItem.3:y :drawUnit.1:y 15
   521 label *label110
   522 label *label111
   523 label *label104
-    * set :drawUnit.1:y :drawItem.3:y
   524 label *label103
   525 jump *label102 always
   526 label *label101
 
   528 sensor *tmp146 @unit @totalItems
   529 op equal *tmp147 :drawUnit:unitItem .transportItem
   530 op mul *tmp148 *tmp146 *tmp147
-    * op sub *tmp149 :drawUnit:y 15
+  531 op sub *tmp149 *tmp116 15
   532 set :drawUnit.2:item .transportItem
   533 set :drawUnit.2:items *tmp148
   534 set :drawUnit.2:y *tmp149
   535 set :drawItem.4:col 0
-    * set :drawItem.4:y :drawUnit.2:y
+  536 set :drawItem.4:y *tmp149
   537 set :drawItem.4:columns 1
   538 set :drawItem.4:item :drawUnit.2:item
-    * set :drawItem.4:current :drawUnit.2:items
+  539 set :drawItem.4:current *tmp148
   540 set :drawItem.4:target .transportTarget
-    * op mul *tmp150 :drawItem.4:columns 176
-    * op div *tmp151 *tmp150 2
-    * op sub :drawItem.4:barLength 210 *tmp151
-    * op add :drawItem.4:textEnd 48 :drawItem.4:barLength
-    * op mul *tmp154 :drawItem.4:barLength :drawItem.4:current
+  541 op mul *tmp150 1 176
+  542 op div *tmp151 176 2
+  543 op sub :drawItem.4:barLength 210 88
+  544 op add :drawItem.4:textEnd 48 122
+  545 op mul *tmp154 122 :drawUnit.2:items
   546 op div *tmp155 *tmp154 :drawItem.4:target
-    * op min :drawItem.4:length :drawItem.4:barLength *tmp155
-    * op mul *tmp157 :drawItem.4:col 176
-    * op div *tmp158 *tmp157 2
-    * op add :drawItem.4:iconX 11 *tmp158
-    * op mul *tmp160 :drawItem.4:col 176
-    * op div *tmp161 *tmp160 2
-    * op add :drawItem.4:barX 22 *tmp161
-    * op mul *tmp163 :drawItem.4:col 176
-    * op div *tmp164 *tmp163 2
-    * op add :drawItem.4:textX :drawItem.4:textEnd *tmp164
+  547 op min :drawItem.4:length 122 *tmp155
+  548 op mul *tmp157 0 176
+  549 op div *tmp158 0 2
+  550 op add :drawItem.4:iconX 11 0
+  551 op mul *tmp160 0 176
+  552 op div *tmp161 0 2
+  553 op add :drawItem.4:barX 22 0
+  554 op mul *tmp163 0 176
+  555 op div *tmp164 0 2
+  556 op add :drawItem.4:textX 170 0
   557 draw col %[white]
-    * op add *tmp166 :drawItem.4:y 5
-    * draw image :drawItem.4:iconX *tmp166 :drawItem.4:item 16 0
+  558 op add *tmp166 :drawUnit.2:y 5
+  559 draw image 11 *tmp166 :drawUnit.2:item 16 0
   560 draw color 0 128 0 255
-    * draw rect :drawItem.4:barX :drawItem.4:y :drawItem.4:length 10
+  561 draw rect 22 :drawUnit.2:y :drawItem.4:length 10
   562 draw color 0 255 0 255
-    * draw lineRect :drawItem.4:barX :drawItem.4:y :drawItem.4:barLength 10
-    * op add *tmp167 :drawItem.4:y 5
-    * op add *tmp168 *tmp167 2
-    * set :drawBold.8:x :drawItem.4:textX
+  563 draw lineRect 22 :drawUnit.2:y 122 10
+  564 op add *tmp167 :drawUnit.2:y 5
+  565 op add *tmp168 *tmp166 2
+  566 set :drawBold.8:x 170
   567 set :drawBold.8:y *tmp168
   568 set :drawBold.8:alignment @right
-    * set :drawText.18:x :drawBold.8:x
-    * set :drawText.18:y :drawBold.8:y
-    * set :drawText.18:alignment :drawBold.8:alignment
+  569 set :drawText.18:x :drawItem.4:textX
+  570 set :drawText.18:y *tmp168
+  571 set :drawText.18:alignment @right
   572 print .transportTarget
-    * set :drawPrint.18:x :drawText.18:x
-    * set :drawPrint.18:y :drawText.18:y
-    * set :drawPrint.18:alignment :drawText.18:alignment
-    * draw print :drawPrint.18:x :drawPrint.18:y :drawPrint.18:alignment
+  573 set :drawPrint.18:x :drawBold.8:x
+  574 set :drawPrint.18:y :drawBold.8:y
+  575 set :drawPrint.18:alignment :drawBold.8:alignment
+  576 draw print :drawText.18:x :drawText.18:y :drawText.18:alignment
   577 label *label116
   578 label *label115
-    * op add :drawText.19:x :drawBold.8:x 1
-    * set :drawText.19:y :drawBold.8:y
-    * set :drawText.19:alignment :drawBold.8:alignment
+  579 op add :drawText.19:x :drawItem.4:textX 1
+  580 set :drawText.19:y *tmp168
+  581 set :drawText.19:alignment @right
   582 print .transportTarget
   583 set :drawPrint.19:x :drawText.19:x
-    * set :drawPrint.19:y :drawText.19:y
-    * set :drawPrint.19:alignment :drawText.19:alignment
-    * draw print :drawPrint.19:x :drawPrint.19:y :drawPrint.19:alignment
+  584 set :drawPrint.19:y :drawBold.8:y
+  585 set :drawPrint.19:alignment :drawBold.8:alignment
+  586 draw print :drawText.19:x :drawText.19:y :drawText.19:alignment
   587 label *label118
   588 label *label117
   589 label *label114
-    * op add :drawItem.4:col :drawItem.4:col 1
-    * jump *label119 lessThan :drawItem.4:col :drawItem.4:columns
-    * set :drawItem.4:col 0
-    * op sub :drawItem.4:y :drawItem.4:y 15
+  590 op add :drawItem.4:col 0 1
+  591 jump *label119 lessThan 1 1
+  592 op sub :drawItem.4:y :drawUnit.2:y 15
   593 label *label119
   594 label *label120
   595 label *label113
-    * set :drawUnit.2:y :drawItem.4:y
   596 label *label112
   597 label *label102
   598 label *label93
 
   601 set :drawUnitCount:type @poly
   602 set :drawUnitCount:count .polys
   603 jump *label123 lessThanEq :drawUnitCount:count 0
-    * op sub *tmp176 :drawUnits:x 20
-    * draw image *tmp176 127 :drawUnitCount:type 12 0
-    * set :drawText.20:x :drawUnits:x
+  604 op sub *tmp176 170 20
+  605 draw image 150 127 @poly 12 0
+  606 set :drawText.20:x 170
   607 set :drawText.20:y 129
   608 set :drawText.20:alignment @right
   609 print "x"
   610 print :drawUnitCount:count
-    * set :drawPrint.20:x :drawText.20:x
-    * set :drawPrint.20:y :drawText.20:y
-    * set :drawPrint.20:alignment :drawText.20:alignment
-    * draw print :drawPrint.20:x :drawPrint.20:y :drawPrint.20:alignment
+  611 set :drawPrint.20:x :drawUnits:x
+  612 set :drawPrint.20:y 129
+  613 set :drawPrint.20:alignment @right
+  614 draw print :drawText.20:x :drawText.20:y :drawText.20:alignment
   615 label *label126
   616 label *label125
-    * op sub :drawUnits:x :drawUnits:x 30
+  617 op sub :drawUnits:x 170 30
   618 label *label123
   619 label *label124
   620 label *label122
 
   622 set :drawUnitCount.1:count .monos
   623 jump *label128 lessThanEq :drawUnitCount.1:count 0
   624 op sub *tmp179 :drawUnits:x 20
-    * draw image *tmp179 127 :drawUnitCount.1:type 12 0
+  625 draw image *tmp179 127 @mono 12 0
   626 set :drawText.21:x :drawUnits:x
   627 set :drawText.21:y 129
   628 set :drawText.21:alignment @right
   629 print "x"
   630 print :drawUnitCount.1:count
-    * set :drawPrint.21:x :drawText.21:x
-    * set :drawPrint.21:y :drawText.21:y
-    * set :drawPrint.21:alignment :drawText.21:alignment
-    * draw print :drawPrint.21:x :drawPrint.21:y :drawPrint.21:alignment
+  631 set :drawPrint.21:x :drawUnits:x
+  632 set :drawPrint.21:y 129
+  633 set :drawPrint.21:alignment @right
+  634 draw print :drawText.21:x :drawText.21:y :drawText.21:alignment
   635 label *label131
   636 label *label130
   637 op sub :drawUnits:x :drawUnits:x 30
 
   642 set :drawUnitCount.2:count .flares
   643 jump *label133 lessThanEq :drawUnitCount.2:count 0
   644 op sub *tmp182 :drawUnits:x 20
-    * draw image *tmp182 127 :drawUnitCount.2:type 12 0
+  645 draw image *tmp182 127 @flare 12 0
   646 set :drawText.22:x :drawUnits:x
   647 set :drawText.22:y 129
   648 set :drawText.22:alignment @right
   649 print "x"
   650 print :drawUnitCount.2:count
-    * set :drawPrint.22:x :drawText.22:x
-    * set :drawPrint.22:y :drawText.22:y
-    * set :drawPrint.22:alignment :drawText.22:alignment
-    * draw print :drawPrint.22:x :drawPrint.22:y :drawPrint.22:alignment
+  651 set :drawPrint.22:x :drawUnits:x
+  652 set :drawPrint.22:y 129
+  653 set :drawPrint.22:alignment @right
+  654 draw print :drawText.22:x :drawText.22:y :drawText.22:alignment
   655 label *label136
   656 label *label135
-    * op sub :drawUnits:x :drawUnits:x 30
   657 label *label133
   658 label *label134
   659 label *label132
 
   668 set :displayLog:y 163
   669 draw reset
   670 draw clear 0 0 32
-    * set .lastTime 0
   671 sensor *tmp183 bank1 @memoryCapacity
   672 op sub :displayLog:position *tmp183 1
   673 label *label140
 
   678 label *label143
   679 label *label144
   680 set :displayRecord:record :displayLog:record
-    * op mod :displayRecord:id :displayRecord:record 1000
+  681 op mod :displayRecord:id :displayLog:record 1000
   682 jump *label146 lessThanEq :displayRecord:id @blockCount
   683 op sub *tmp192 :displayRecord:id @blockCount
   684 lookup unit *tmp191 *tmp192
 
   687 lookup block *tmp191 :displayRecord:id
   688 label *label147
   689 set :displayRecord:icon *tmp191
-    * draw image :displayLog:x :displayLog:y :displayRecord:icon 14 0
-    * op idiv :displayRecord:t :displayRecord:record 1000
+  690 draw image :displayLog:x :displayLog:y *tmp191 14 0
+  691 op idiv :displayRecord:t :displayLog:record 1000
   692 jump *label149 always
   693 label *label148
-    * op idiv :displayRecord:r :displayRecord:record 1000
-    * op sub :displayRecord:t :displayRecord:r .lastTime
-    * set .lastTime :displayRecord:r
+  694 op idiv :displayRecord:r :displayLog:record 1000
+  695 op sub :displayRecord:t :displayRecord:r 0
   696 label *label149
   697 op idiv :displayRecord:m :displayRecord:t 60
   698 op mod :displayRecord:s :displayRecord:t 60
 
   706 print ":"
   707 print *tmp202
   708 op add *tmp203 :displayLog:x 56
-    * op sub *tmp204 *tmp203 12
+  709 op add *tmp204 :displayLog:x 44
   710 op add *tmp205 :displayLog:y 2
   711 set :drawText.23:x *tmp204
   712 set :drawText.23:y *tmp205
   713 set :drawText.23:alignment @right
   714 print :displayRecord:s
-    * set :drawPrint.23:x :drawText.23:x
-    * set :drawPrint.23:y :drawText.23:y
-    * set :drawPrint.23:alignment :drawText.23:alignment
-    * draw print :drawPrint.23:x :drawPrint.23:y :drawPrint.23:alignment
+  715 set :drawPrint.23:x *tmp204
+  716 set :drawPrint.23:y *tmp205
+  717 set :drawPrint.23:alignment @right
+  718 draw print :drawText.23:x :drawText.23:y :drawText.23:alignment
   719 label *label153
   720 label *label152
   721 op sub :displayLog:y :displayLog:y 15
 
   742 set :drawText.24:y 172
   743 set :drawText.24:alignment @topLeft
   744 print .frame
-    * set :drawPrint.24:x :drawText.24:x
-    * set :drawPrint.24:y :drawText.24:y
-    * set :drawPrint.24:alignment :drawText.24:alignment
-    * draw print :drawPrint.24:x :drawPrint.24:y :drawPrint.24:alignment
+  745 set :drawPrint.24:x 4
+  746 set :drawPrint.24:y 172
+  747 set :drawPrint.24:alignment @topLeft
+  748 draw print :drawText.24:x :drawText.24:y :drawText.24:alignment
   749 label *label160
   750 label *label159
   751 set :displayOreMap:mapw @mapw
   752 set :displayOreMap:maph @maph
-    * op div *tmp208 176 :displayOreMap:mapw
-    * op div *tmp209 176 :displayOreMap:maph
+  753 op div *tmp208 176 @mapw
+  754 op div *tmp209 176 @maph
   755 draw scale *tmp208 *tmp209
-    * op mul *tmp210 3 :displayOreMap:mapw
-    * op div *tmp211 *tmp210 176
+  756 op mul *tmp210 3 @mapw
+  757 op div *tmp211 :displayOreMap:mapw 58.666666666666664
   758 op ceil :displayOreMap:width *tmp211
-    * op mul *tmp213 3 :displayOreMap:mapw
-    * op div *tmp214 *tmp213 176
-    * op ceil :displayOreMap:height *tmp214
+  759 op mul *tmp213 3 @mapw
+  760 op div *tmp214 *tmp210 176
+  761 op ceil :displayOreMap:height *tmp211
   762 read :displayOreMap:minX bank1 0
   763 read :displayOreMap:minY bank1 1
   764 read :displayOreMap:maxX bank1 2
 
   777 label *label165
   778 op mod :displayOreMap:x :displayOreMap:pos @mapw
   779 op idiv :displayOreMap:y :displayOreMap:pos @mapw
-    * draw rect :displayOreMap:x :displayOreMap:y :displayOreMap:width :displayOreMap:height
+  780 draw rect :displayOreMap:x :displayOreMap:y :displayOreMap:width :displayOreMap:width
   781 op add :displayOreMap:index :displayOreMap:index 1
   782 label *label162
   783 jump *label161 always
 
   785 draw col %[gold]
   786 read *tmp0 processor1 ".px"
   787 read *tmp1 processor1 ".py"
-    * draw rect *tmp0 *tmp1 :displayOreMap:width :displayOreMap:height
+  788 draw rect *tmp0 *tmp1 :displayOreMap:width :displayOreMap:width
   789 draw reset
   790 draw col %[white]
   791 set :drawText.25:x 175
   792 set :drawText.25:y 172
   793 set :drawText.25:alignment @topRight
   794 print :displayOreMap:index
-    * set :drawPrint.25:x :drawText.25:x
-    * set :drawPrint.25:y :drawText.25:y
-    * set :drawPrint.25:alignment :drawText.25:alignment
-    * draw print :drawPrint.25:x :drawPrint.25:y :drawPrint.25:alignment
+  795 set :drawPrint.25:x 175
+  796 set :drawPrint.25:y 172
+  797 set :drawPrint.25:alignment @topRight
+  798 draw print :drawText.25:x :drawText.25:y :drawText.25:alignment
   799 label *label167
   800 label *label166
   801 drawflush display1
 
   824 jump *label169 equal *tmp232 false
   825 jump *label171 lessThanEq @second :main:nextSwitch
   826 op add *tmp236 .page 1
-    * op mod .page *tmp236 .numPages
+  827 op mod .page *tmp236 3
   828 op add :main:nextSwitch @second 3
   829 label *label171
   830 label *label172

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-118 instructions):
     0 set .core null
     1 set .page 0
-    * set .numPages 3
     2 set .frame 0
     3 set *signature "0:v1"
     4 label *label1
 
    24 set :drawText:y 161
    25 set :drawText:alignment @bottom
    26 print "Building"
-    * set :drawPrint:x :drawBold:x
-    * set :drawPrint:y :drawBold:y
-    * set :drawPrint:alignment :drawBold:alignment
-    * draw print :drawText:x :drawText:y :drawText:alignment
+   27 set :drawPrint:x 40
+   28 set :drawPrint:y 161
+   29 set :drawPrint:alignment @bottom
+   30 draw print 40 161 @bottom
    31 label *label17
    32 label *label16
    33 op add :drawText.1:x 40 1
    34 set :drawText.1:y 161
    35 set :drawText.1:alignment @bottom
    36 print "Building"
-    * set :drawPrint.1:x 41
-    * set :drawPrint.1:y :drawBold:y
-    * set :drawPrint.1:alignment :drawBold:alignment
-    * draw print :drawText.1:x :drawText.1:y :drawText.1:alignment
+   37 set :drawPrint.1:y 161
+   38 set :drawPrint.1:alignment @bottom
+   39 draw print 41 161 @bottom
    40 label *label19
    41 label *label18
    42 label *label15
 
    65 set :drawText.2:y 172
    66 set :drawText.2:alignment @topRight
    67 print ""
-    * set :drawPrint.2:x 170
-    * set :drawPrint.2:y 172
-    * set :drawPrint.2:alignment @topRight
-    * draw print :drawText.2:x :drawText.2:y :drawText.2:alignment
+   68 draw print 170 172 @topRight
    69 label *label25
    70 label *label24
    71 sensor :drawHeader:count .titaniumDrill @titanium
 
    75 set :drawText.3:alignment @topRight
    76 print "x"
    77 print :drawHeader:count
-    * set :drawPrint.3:x 170
-    * set :drawPrint.3:y 155
-    * set :drawPrint.3:alignment @topRight
-    * draw print :drawText.3:x :drawText.3:y :drawText.3:alignment
+   78 draw print 170 155 @topRight
    79 label *label29
    80 label *label28
    81 op idiv *tmp21 :drawHeader:count 10
 
   108 set :drawText.4:y 105
   109 set :drawText.4:alignment @bottomLeft
   110 print "Air Factory"
-    * set :drawPrint.4:x :drawBold.1:x
-    * set :drawPrint.4:y :drawBold.1:y
-    * set :drawPrint.4:alignment :drawBold.1:alignment
-    * draw print :drawText.4:x :drawText.4:y :drawText.4:alignment
+  111 set :drawPrint.4:x 22
+  112 set :drawPrint.4:y 105
+  113 set :drawPrint.4:alignment @bottomLeft
+  114 draw print 22 105 @bottomLeft
   115 label *label37
   116 label *label36
   117 op add :drawText.5:x 22 1
   118 set :drawText.5:y 105
   119 set :drawText.5:alignment @bottomLeft
   120 print "Air Factory"
-    * set :drawPrint.5:x 23
-    * set :drawPrint.5:y :drawBold.1:y
-    * set :drawPrint.5:alignment :drawBold.1:alignment
-    * draw print :drawText.5:x :drawText.5:y :drawText.5:alignment
+  121 set :drawPrint.5:y 105
+  122 set :drawPrint.5:alignment @bottomLeft
+  123 draw print 23 105 @bottomLeft
   124 label *label39
   125 label *label38
   126 label *label35
   127 sensor *tmp32 .factory @progress
   128 jump *label40 lessThanEq *tmp32 0
   129 sensor *tmp35 .factory @progress
-    * set :drawItem:col 0
-    * set :drawItem:y 90
-    * set :drawItem:columns 1
-    * set :drawItem:item :drawMaterials:unit
-    * set :drawItem:current *tmp35
-    * set :drawItem:target 1
-    * op mul *tmp36 1 176
-    * op div *tmp37 176 2
-    * op sub :drawItem:barLength 210 88
-    * op add :drawItem:textEnd 48 122
   130 op mul *tmp40 122 *tmp35
-    * op div *tmp41 *tmp40 1
+  131 op mul *tmp41 *tmp35 122
   132 op min :drawItem:length 122 *tmp41
-    * op mul *tmp43 0 176
-    * op div *tmp44 0 2
-    * op add :drawItem:iconX 11 0
-    * op mul *tmp46 0 176
-    * op div *tmp47 0 2
-    * op add :drawItem:barX 22 0
-    * op mul *tmp49 0 176
-    * op div *tmp50 0 2
   133 op add :drawItem:textX 170 0
   134 draw col %[white]
-    * op add *tmp52 90 5
   135 draw image 11 95 :drawMaterials:unit 16 0
   136 draw color 0 128 0 255
   137 draw rect 22 90 :drawItem:length 10
   138 draw color 0 255 0 255
   139 draw lineRect 22 90 122 10
-    * op add *tmp53 90 5
   140 op add *tmp54 95 2
   141 set :drawBold.2:x 170
   142 set :drawBold.2:y 97
   143 set :drawBold.2:alignment @right
-    * set :drawText.6:x :drawItem:textX
-    * set :drawText.6:y *tmp54
+  144 set :drawText.6:x 170
+  145 set :drawText.6:y 97
   146 set :drawText.6:alignment @right
   147 print :drawMaterials:unitCount
   148 print "/8"
-    * set :drawPrint.6:x :drawBold.2:x
-    * set :drawPrint.6:y :drawBold.2:y
-    * set :drawPrint.6:alignment :drawBold.2:alignment
-    * draw print :drawText.6:x :drawText.6:y :drawText.6:alignment
+  149 set :drawPrint.6:x 170
+  150 set :drawPrint.6:y 97
+  151 set :drawPrint.6:alignment @right
+  152 draw print :drawItem:textX *tmp54 @right
   153 label *label45
   154 label *label44
-    * op add :drawText.7:x :drawItem:textX 1
-    * set :drawText.7:y *tmp54
+  155 op add :drawText.7:x 170 1
+  156 set :drawText.7:y 97
   157 set :drawText.7:alignment @right
   158 print :drawMaterials:unitCount
   159 print "/8"
-    * set :drawPrint.7:x :drawText.7:x
-    * set :drawPrint.7:y :drawBold.2:y
-    * set :drawPrint.7:alignment :drawBold.2:alignment
-    * draw print :drawText.7:x :drawText.7:y :drawText.7:alignment
+  160 set :drawPrint.7:x 171
+  161 set :drawPrint.7:y 97
+  162 set :drawPrint.7:alignment @right
+  163 draw print 171 *tmp54 @right
   164 label *label47
   165 label *label46
   166 label *label43
-    * op add :drawItem:col 0 1
   167 jump *label48 lessThan 1 1
-    * op sub :drawItem:y 90 15
   168 label *label48
   169 label *label49
   170 label *label42
 
   183 sensor *tmp61 .factory :drawMaterials:item
   184 set :drawItem.1:col :drawMaterials:col
   185 set :drawItem.1:y :drawMaterials:y
-    * set :drawItem.1:columns 1
-    * set :drawItem.1:item :drawMaterials:item
-    * set :drawItem.1:current *tmp61
-    * set :drawItem.1:target :drawMaterials:target
-    * op mul *tmp62 1 176
-    * op div *tmp63 176 2
-    * op sub :drawItem.1:barLength 210 88
-    * op add :drawItem.1:textEnd 48 122
   186 op mul *tmp66 122 *tmp61
   187 op div *tmp67 *tmp66 :drawMaterials:target
   188 op min :drawItem.1:length 122 *tmp67
   189 op mul *tmp69 :drawMaterials:col 176
-    * op mul *tmp70 :drawItem.1:col 88
+  190 op mul *tmp70 :drawMaterials:col 88
   191 op add :drawItem.1:iconX 11 *tmp70
-    * op mul *tmp72 :drawMaterials:col 176
-    * op div *tmp73 *tmp69 2
+  192 op mul *tmp73 :drawMaterials:col 88
   193 op add :drawItem.1:barX 22 *tmp70
-    * op mul *tmp75 :drawMaterials:col 176
-    * op div *tmp76 *tmp69 2
+  194 op mul *tmp76 :drawMaterials:col 88
   195 op add :drawItem.1:textX 170 *tmp70
   196 draw col %[white]
   197 op add *tmp78 :drawMaterials:y 5
 
   200 draw rect :drawItem.1:barX :drawMaterials:y :drawItem.1:length 10
   201 draw color 0 255 0 255
   202 draw lineRect :drawItem.1:barX :drawMaterials:y 122 10
-    * op add *tmp79 :drawMaterials:y 5
-    * op add *tmp80 *tmp78 2
+  203 op add *tmp80 :drawMaterials:y 7
   204 set :drawBold.3:x :drawItem.1:textX
   205 set :drawBold.3:y *tmp80
   206 set :drawBold.3:alignment @right
 
   208 set :drawText.8:y *tmp80
   209 set :drawText.8:alignment @right
   210 print :drawMaterials:target
-    * set :drawPrint.8:x :drawBold.3:x
-    * set :drawPrint.8:y :drawBold.3:y
-    * set :drawPrint.8:alignment :drawBold.3:alignment
-    * draw print :drawText.8:x :drawText.8:y :drawText.8:alignment
+  211 set :drawPrint.8:x :drawItem.1:textX
+  212 set :drawPrint.8:y *tmp80
+  213 set :drawPrint.8:alignment @right
+  214 draw print :drawItem.1:textX *tmp80 @right
   215 label *label60
   216 label *label59
-    * op add :drawText.9:x :drawItem.1:textX 1
+  217 op add :drawText.9:x *tmp70 171
   218 set :drawText.9:y *tmp80
   219 set :drawText.9:alignment @right
   220 print :drawMaterials:target
-    * set :drawPrint.9:x :drawText.9:x
-    * set :drawPrint.9:y :drawBold.3:y
-    * set :drawPrint.9:alignment :drawBold.3:alignment
-    * draw print :drawText.9:x :drawText.9:y :drawText.9:alignment
+  221 set :drawPrint.9:y *tmp80
+  222 set :drawPrint.9:alignment @right
+  223 draw print :drawText.9:x *tmp80 @right
   224 label *label62
   225 label *label61
   226 label *label58
 
   251 set :drawText.10:y 105
   252 set :drawText.10:alignment @bottomLeft
   253 print "Materials"
-    * set :drawPrint.10:x :drawBold.4:x
-    * set :drawPrint.10:y :drawBold.4:y
-    * set :drawPrint.10:alignment :drawBold.4:alignment
-    * draw print :drawText.10:x :drawText.10:y :drawText.10:alignment
+  254 set :drawPrint.10:x 22
+  255 set :drawPrint.10:y 105
+  256 set :drawPrint.10:alignment @bottomLeft
+  257 draw print 22 105 @bottomLeft
   258 label *label67
   259 label *label66
   260 op add :drawText.11:x 22 1
   261 set :drawText.11:y 105
   262 set :drawText.11:alignment @bottomLeft
   263 print "Materials"
-    * set :drawPrint.11:x 23
-    * set :drawPrint.11:y :drawBold.4:y
-    * set :drawPrint.11:alignment :drawBold.4:alignment
-    * draw print :drawText.11:x :drawText.11:y :drawText.11:alignment
+  264 set :drawPrint.11:y 105
+  265 set :drawPrint.11:alignment @bottomLeft
+  266 draw print 23 105 @bottomLeft
   267 label *label69
   268 label *label68
   269 label *label65
 
   303 set :drawItem.2:col :drawMaterials:col
   304 set :drawItem.2:y :drawMaterials:y
   305 set :drawItem.2:columns 1
-    * set :drawItem.2:item :drawMaterials:item.1
-    * set :drawItem.2:current *tmp90
-    * set :drawItem.2:target :drawMaterials:target.1
-    * op mul *tmp91 :drawMaterials:columns 176
-    * op mul *tmp92 :drawItem.2:columns 88
-    * op sub :drawItem.2:barLength 210 *tmp92
-    * op add :drawItem.2:textEnd 48 :drawItem.2:barLength
-    * op mul *tmp95 :drawItem.2:barLength *tmp90
+  306 op mul *tmp91 1 176
+  307 op mul *tmp92 1 88
+  308 op sub :drawItem.2:barLength 210 88
+  309 op add :drawItem.2:textEnd 48 122
+  310 op mul *tmp95 122 *tmp90
   311 op div *tmp96 *tmp95 :drawMaterials:target.1
-    * op min :drawItem.2:length :drawItem.2:barLength *tmp96
+  312 op min :drawItem.2:length 122 *tmp96
   313 op mul *tmp98 :drawMaterials:col 176
-    * op mul *tmp99 :drawItem.2:col 88
+  314 op mul *tmp99 :drawMaterials:col 88
   315 op add :drawItem.2:iconX 11 *tmp99
-    * op mul *tmp101 :drawMaterials:col 176
-    * op div *tmp102 *tmp98 2
+  316 op mul *tmp102 :drawMaterials:col 88
   317 op add :drawItem.2:barX 22 *tmp99
-    * op mul *tmp104 :drawMaterials:col 176
-    * op div *tmp105 *tmp98 2
-    * op add :drawItem.2:textX :drawItem.2:textEnd *tmp99
+  318 op mul *tmp105 :drawMaterials:col 88
+  319 op add :drawItem.2:textX 170 *tmp99
   320 draw col %[white]
   321 op add *tmp107 :drawMaterials:y 5
   322 draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
   323 draw color 0 128 0 255
   324 draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
   325 draw color 0 255 0 255
-    * draw lineRect :drawItem.2:barX :drawMaterials:y :drawItem.2:barLength 10
-    * op add *tmp108 :drawMaterials:y 5
-    * op add *tmp109 *tmp107 2
+  326 draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
+  327 op add *tmp109 :drawMaterials:y 7
   328 set :drawBold.5:x :drawItem.2:textX
   329 set :drawBold.5:y *tmp109
   330 set :drawBold.5:alignment @right
 
   332 set :drawText.12:y *tmp109
   333 set :drawText.12:alignment @right
   334 print :drawMaterials:target.1
-    * set :drawPrint.12:x :drawBold.5:x
-    * set :drawPrint.12:y :drawBold.5:y
-    * set :drawPrint.12:alignment :drawBold.5:alignment
-    * draw print :drawText.12:x :drawText.12:y :drawText.12:alignment
+  335 set :drawPrint.12:x :drawItem.2:textX
+  336 set :drawPrint.12:y *tmp109
+  337 set :drawPrint.12:alignment @right
+  338 draw print :drawItem.2:textX *tmp109 @right
   339 label *label86
   340 label *label85
   341 op add :drawText.13:x :drawItem.2:textX 1
   342 set :drawText.13:y *tmp109
   343 set :drawText.13:alignment @right
   344 print :drawMaterials:target.1
-    * set :drawPrint.13:x :drawText.13:x
-    * set :drawPrint.13:y :drawBold.5:y
-    * set :drawPrint.13:alignment :drawBold.5:alignment
-    * draw print :drawText.13:x :drawText.13:y :drawText.13:alignment
+  345 set :drawPrint.13:y *tmp109
+  346 set :drawPrint.13:alignment @right
+  347 draw print :drawText.13:x *tmp109 @right
   348 label *label88
   349 label *label87
   350 label *label84
   351 op add :drawItem.2:col :drawMaterials:col 1
-    * jump *label89 lessThan :drawItem.2:col :drawMaterials:columns
+  352 jump *label89 lessThan :drawItem.2:col 1
   353 set :drawItem.2:col 0
   354 op sub :drawItem.2:y :drawMaterials:y 15
   355 label *label89
 
   384 set :drawBold.6:y *tmp116
   385 set :drawBold.6:alignment @bottomLeft
   386 set :drawText.14:x 22
-    * set :drawText.14:y :drawUnit:y
+  387 set :drawText.14:y *tmp116
   388 set :drawText.14:alignment @bottomLeft
   389 print "Builder"
-    * set :drawPrint.14:x :drawBold.6:x
-    * set :drawPrint.14:y :drawBold.6:y
-    * set :drawPrint.14:alignment :drawBold.6:alignment
-    * draw print :drawText.14:x :drawText.14:y :drawText.14:alignment
+  390 set :drawPrint.14:x 22
+  391 set :drawPrint.14:y *tmp116
+  392 set :drawPrint.14:alignment @bottomLeft
+  393 draw print 22 :drawUnit:y @bottomLeft
   394 label *label98
   395 label *label97
   396 op add :drawText.15:x 22 1
-    * set :drawText.15:y :drawUnit:y
+  397 set :drawText.15:y *tmp116
   398 set :drawText.15:alignment @bottomLeft
   399 print "Builder"
-    * set :drawPrint.15:x 23
-    * set :drawPrint.15:y :drawBold.6:y
-    * set :drawPrint.15:alignment :drawBold.6:alignment
-    * draw print :drawText.15:x :drawText.15:y :drawText.15:alignment
+  400 set :drawPrint.15:y *tmp116
+  401 set :drawPrint.15:alignment @bottomLeft
+  402 draw print 23 :drawUnit:y @bottomLeft
   403 label *label100
   404 label *label99
   405 label *label96
 
   408 set :drawUnit.1:item @poly
   409 set :drawUnit.1:items 0
   410 set :drawUnit.1:y *tmp120
-    * set :drawItem.3:col 0
-    * set :drawItem.3:y *tmp120
-    * set :drawItem.3:columns 1
-    * set :drawItem.3:item @poly
-    * set :drawItem.3:current 0
   411 set :drawItem.3:target .transportTarget
-    * op mul *tmp121 1 176
-    * op div *tmp122 176 2
-    * op sub :drawItem.3:barLength 210 88
-    * op add :drawItem.3:textEnd 48 122
-    * op mul *tmp125 122 :drawUnit.1:items
-    * op div *tmp126 *tmp125 :drawItem.3:target
+  412 op mul *tmp125 122 0
+  413 op div *tmp126 0 :drawItem.3:target
   414 op min :drawItem.3:length 122 *tmp126
-    * op mul *tmp128 0 176
-    * op div *tmp129 0 2
-    * op add :drawItem.3:iconX 11 0
-    * op mul *tmp131 0 176
-    * op div *tmp132 0 2
-    * op add :drawItem.3:barX 22 0
-    * op mul *tmp134 0 176
-    * op div *tmp135 0 2
   415 op add :drawItem.3:textX 170 0
   416 draw col %[white]
-    * op add *tmp137 :drawUnit.1:y 5
-    * draw image 11 *tmp137 :drawUnit.1:item 16 0
+  417 op add *tmp137 *tmp120 5
+  418 draw image 11 *tmp137 @poly 16 0
   419 draw color 0 128 0 255
-    * draw rect 22 :drawUnit.1:y :drawItem.3:length 10
+  420 draw rect 22 *tmp120 :drawItem.3:length 10
   421 draw color 0 255 0 255
-    * draw lineRect 22 :drawUnit.1:y 122 10
-    * op add *tmp138 :drawUnit.1:y 5
-    * op add *tmp139 *tmp137 2
+  422 draw lineRect 22 *tmp120 122 10
+  423 op add *tmp138 *tmp120 5
+  424 op add *tmp139 :drawUnit.1:y 7
   425 set :drawBold.7:x 170
   426 set :drawBold.7:y *tmp139
   427 set :drawBold.7:alignment @right
-    * set :drawText.16:x :drawItem.3:textX
+  428 set :drawText.16:x 170
   429 set :drawText.16:y *tmp139
   430 set :drawText.16:alignment @right
   431 print .transportTarget
-    * set :drawPrint.16:x :drawBold.7:x
-    * set :drawPrint.16:y :drawBold.7:y
-    * set :drawPrint.16:alignment :drawBold.7:alignment
-    * draw print :drawText.16:x :drawText.16:y :drawText.16:alignment
+  432 set :drawPrint.16:x 170
+  433 set :drawPrint.16:y *tmp139
+  434 set :drawPrint.16:alignment @right
+  435 draw print :drawItem.3:textX *tmp139 @right
   436 label *label107
   437 label *label106
-    * op add :drawText.17:x :drawItem.3:textX 1
+  438 op add :drawText.17:x 170 1
   439 set :drawText.17:y *tmp139
   440 set :drawText.17:alignment @right
   441 print .transportTarget
-    * set :drawPrint.17:x :drawText.17:x
-    * set :drawPrint.17:y :drawBold.7:y
-    * set :drawPrint.17:alignment :drawBold.7:alignment
-    * draw print :drawText.17:x :drawText.17:y :drawText.17:alignment
+  442 set :drawPrint.17:x 171
+  443 set :drawPrint.17:y *tmp139
+  444 set :drawPrint.17:alignment @right
+  445 draw print 171 *tmp139 @right
   446 label *label109
   447 label *label108
   448 label *label105
-    * op add :drawItem.3:col 0 1
   449 jump *label110 lessThan 1 1
-    * op sub :drawItem.3:y :drawUnit.1:y 15
+  450 op sub :drawItem.3:y *tmp120 15
   451 label *label110
   452 label *label111
   453 label *label104
 
   462 set :drawUnit.2:item .transportItem
   463 set :drawUnit.2:items *tmp148
   464 set :drawUnit.2:y *tmp149
-    * set :drawItem.4:col 0
-    * set :drawItem.4:y *tmp149
-    * set :drawItem.4:columns 1
-    * set :drawItem.4:item :drawUnit.2:item
-    * set :drawItem.4:current *tmp148
   465 set :drawItem.4:target .transportTarget
-    * op mul *tmp150 1 176
-    * op div *tmp151 176 2
-    * op sub :drawItem.4:barLength 210 88
-    * op add :drawItem.4:textEnd 48 122
-    * op mul *tmp154 122 :drawUnit.2:items
+  466 op mul *tmp154 122 *tmp148
   467 op div *tmp155 *tmp154 :drawItem.4:target
   468 op min :drawItem.4:length 122 *tmp155
-    * op mul *tmp157 0 176
-    * op div *tmp158 0 2
-    * op add :drawItem.4:iconX 11 0
-    * op mul *tmp160 0 176
-    * op div *tmp161 0 2
-    * op add :drawItem.4:barX 22 0
-    * op mul *tmp163 0 176
-    * op div *tmp164 0 2
   469 op add :drawItem.4:textX 170 0
   470 draw col %[white]
-    * op add *tmp166 :drawUnit.2:y 5
+  471 op add *tmp166 *tmp149 5
   472 draw image 11 *tmp166 :drawUnit.2:item 16 0
   473 draw color 0 128 0 255
-    * draw rect 22 :drawUnit.2:y :drawItem.4:length 10
+  474 draw rect 22 *tmp149 :drawItem.4:length 10
   475 draw color 0 255 0 255
-    * draw lineRect 22 :drawUnit.2:y 122 10
-    * op add *tmp167 :drawUnit.2:y 5
-    * op add *tmp168 *tmp166 2
+  476 draw lineRect 22 *tmp149 122 10
+  477 op add *tmp167 *tmp149 5
+  478 op add *tmp168 :drawUnit.2:y 7
   479 set :drawBold.8:x 170
   480 set :drawBold.8:y *tmp168
   481 set :drawBold.8:alignment @right
-    * set :drawText.18:x :drawItem.4:textX
+  482 set :drawText.18:x 170
   483 set :drawText.18:y *tmp168
   484 set :drawText.18:alignment @right
   485 print .transportTarget
-    * set :drawPrint.18:x :drawBold.8:x
-    * set :drawPrint.18:y :drawBold.8:y
-    * set :drawPrint.18:alignment :drawBold.8:alignment
-    * draw print :drawText.18:x :drawText.18:y :drawText.18:alignment
+  486 set :drawPrint.18:x 170
+  487 set :drawPrint.18:y *tmp168
+  488 set :drawPrint.18:alignment @right
+  489 draw print :drawItem.4:textX *tmp168 @right
   490 label *label116
   491 label *label115
-    * op add :drawText.19:x :drawItem.4:textX 1
+  492 op add :drawText.19:x 170 1
   493 set :drawText.19:y *tmp168
   494 set :drawText.19:alignment @right
   495 print .transportTarget
-    * set :drawPrint.19:x :drawText.19:x
-    * set :drawPrint.19:y :drawBold.8:y
-    * set :drawPrint.19:alignment :drawBold.8:alignment
-    * draw print :drawText.19:x :drawText.19:y :drawText.19:alignment
+  496 set :drawPrint.19:x 171
+  497 set :drawPrint.19:y *tmp168
+  498 set :drawPrint.19:alignment @right
+  499 draw print 171 *tmp168 @right
   500 label *label118
   501 label *label117
   502 label *label114
-    * op add :drawItem.4:col 0 1
   503 jump *label119 lessThan 1 1
-    * op sub :drawItem.4:y :drawUnit.2:y 15
+  504 op sub :drawItem.4:y *tmp149 15
   505 label *label119
   506 label *label120
   507 label *label113
 
   510 label *label93
   511 set :drawUnits:x 170
   512 draw col %[white]
-    * set :drawUnitCount:type @poly
   513 set :drawUnitCount:count .polys
   514 jump *label123 lessThanEq :drawUnitCount:count 0
-    * op sub *tmp176 170 20
   515 draw image 150 127 @poly 12 0
   516 set :drawText.20:x 170
   517 set :drawText.20:y 129
   518 set :drawText.20:alignment @right
   519 print "x"
   520 print :drawUnitCount:count
-    * set :drawPrint.20:x :drawUnits:x
-    * set :drawPrint.20:y 129
-    * set :drawPrint.20:alignment @right
-    * draw print :drawText.20:x :drawText.20:y :drawText.20:alignment
+  521 set :drawPrint.20:x 170
+  522 draw print 170 129 @right
   523 label *label126
   524 label *label125
   525 op sub :drawUnits:x 170 30
   526 label *label123
   527 label *label124
   528 label *label122
-    * set :drawUnitCount.1:type @mono
   529 set :drawUnitCount.1:count .monos
   530 jump *label128 lessThanEq :drawUnitCount.1:count 0
   531 op sub *tmp179 :drawUnits:x 20
 
   535 set :drawText.21:alignment @right
   536 print "x"
   537 print :drawUnitCount.1:count
-    * set :drawPrint.21:x :drawUnits:x
-    * set :drawPrint.21:y 129
-    * set :drawPrint.21:alignment @right
-    * draw print :drawText.21:x :drawText.21:y :drawText.21:alignment
+  538 draw print :drawUnits:x 129 @right
   539 label *label131
   540 label *label130
   541 op sub :drawUnits:x :drawUnits:x 30
   542 label *label128
   543 label *label129
   544 label *label127
-    * set :drawUnitCount.2:type @flare
   545 set :drawUnitCount.2:count .flares
   546 jump *label133 lessThanEq :drawUnitCount.2:count 0
   547 op sub *tmp182 :drawUnits:x 20
 
   551 set :drawText.22:alignment @right
   552 print "x"
   553 print :drawUnitCount.2:count
-    * set :drawPrint.22:x :drawUnits:x
-    * set :drawPrint.22:y 129
-    * set :drawPrint.22:alignment @right
-    * draw print :drawText.22:x :drawText.22:y :drawText.22:alignment
+  554 draw print :drawUnits:x 129 @right
   555 label *label136
   556 label *label135
   557 label *label133
 
   577 jump *label142 always
   578 label *label143
   579 label *label144
-    * set :displayRecord:record :displayLog:record
   580 op mod :displayRecord:id :displayLog:record 1000
   581 jump *label146 lessThanEq :displayRecord:id @blockCount
   582 op sub *tmp192 :displayRecord:id @blockCount
 
   585 label *label146
   586 lookup block *tmp191 :displayRecord:id
   587 label *label147
-    * set :displayRecord:icon *tmp191
   588 draw image :displayLog:x :displayLog:y *tmp191 14 0
   589 op idiv :displayRecord:t :displayLog:record 1000
   590 jump *label149 always
   591 label *label148
-    * op idiv :displayRecord:r :displayLog:record 1000
-    * op sub :displayRecord:t :displayRecord:r 0
   592 label *label149
   593 op idiv :displayRecord:m :displayRecord:t 60
   594 op mod :displayRecord:s :displayRecord:t 60
 
   601 print :displayRecord:m
   602 print ":"
   603 print *tmp202
-    * op add *tmp203 :displayLog:x 56
   604 op add *tmp204 :displayLog:x 44
   605 op add *tmp205 :displayLog:y 2
   606 set :drawText.23:x *tmp204
   607 set :drawText.23:y *tmp205
   608 set :drawText.23:alignment @right
   609 print :displayRecord:s
-    * set :drawPrint.23:x *tmp204
-    * set :drawPrint.23:y *tmp205
-    * set :drawPrint.23:alignment @right
-    * draw print :drawText.23:x :drawText.23:y :drawText.23:alignment
+  610 draw print *tmp204 *tmp205 @right
   611 label *label153
   612 label *label152
   613 op sub :displayLog:y :displayLog:y 15
 
   634 set :drawText.24:y 172
   635 set :drawText.24:alignment @topLeft
   636 print .frame
-    * set :drawPrint.24:x 4
-    * set :drawPrint.24:y 172
-    * set :drawPrint.24:alignment @topLeft
-    * draw print :drawText.24:x :drawText.24:y :drawText.24:alignment
+  637 draw print 4 172 @topLeft
   638 label *label160
   639 label *label159
   640 set :displayOreMap:mapw @mapw
-    * set :displayOreMap:maph @maph
   641 op div *tmp208 176 @mapw
   642 op div *tmp209 176 @maph
   643 draw scale *tmp208 *tmp209
   644 op mul *tmp210 3 @mapw
-    * op div *tmp211 :displayOreMap:mapw 58.666666666666664
+  645 op div *tmp211 @mapw 58.666666666666664
   646 op ceil :displayOreMap:width *tmp211
-    * op mul *tmp213 3 @mapw
-    * op div *tmp214 *tmp210 176
-    * op ceil :displayOreMap:height *tmp211
   647 read :displayOreMap:minX bank1 0
   648 read :displayOreMap:minY bank1 1
   649 read :displayOreMap:maxX bank1 2
 
   677 set :drawText.25:y 172
   678 set :drawText.25:alignment @topRight
   679 print :displayOreMap:index
-    * set :drawPrint.25:x 175
-    * set :drawPrint.25:y 172
-    * set :drawPrint.25:alignment @topRight
-    * draw print :drawText.25:x :drawText.25:y :drawText.25:alignment
+  680 draw print 175 172 @topRight
   681 label *label167
   682 label *label166
   683 drawflush display1

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-172 instructions):
 
    17 draw reset
    18 draw clear 0 0 32
    19 draw col %[gold]
-    * set :drawBold:x 40
-    * set :drawBold:y 161
-    * set :drawBold:alignment @bottom
-    * set :drawText:x 40
-    * set :drawText:y 161
-    * set :drawText:alignment @bottom
    20 print "Building"
-    * set :drawPrint:x 40
-    * set :drawPrint:y 161
-    * set :drawPrint:alignment @bottom
    21 draw print 40 161 @bottom
    22 label *label17
    23 label *label16
-    * op add :drawText.1:x 40 1
-    * set :drawText.1:y 161
-    * set :drawText.1:alignment @bottom
    24 print "Building"
-    * set :drawPrint.1:y 161
-    * set :drawPrint.1:alignment @bottom
    25 draw print 41 161 @bottom
    26 label *label19
    27 label *label18
 
    47 print ":"
    48 print *tmp18
    49 print :drawHeader:s
-    * set :drawText.2:x 170
-    * set :drawText.2:y 172
-    * set :drawText.2:alignment @topRight
    50 print ""
    51 draw print 170 172 @topRight
    52 label *label25
    53 label *label24
    54 sensor :drawHeader:count .titaniumDrill @titanium
    55 jump *label26 equal :drawHeader:count false
-    * set :drawText.3:x 170
-    * set :drawText.3:y 155
-    * set :drawText.3:alignment @topRight
    56 print "x"
    57 print :drawHeader:count
    58 draw print 170 155 @topRight
 
    81 set .materialCount 1
    82 op add :drawMaterials:unitCount .flares 1
    83 label *label34
-    * set :drawBold.1:x 22
-    * set :drawBold.1:y 105
-    * set :drawBold.1:alignment @bottomLeft
-    * set :drawText.4:x 22
-    * set :drawText.4:y 105
-    * set :drawText.4:alignment @bottomLeft
    84 print "Air Factory"
-    * set :drawPrint.4:x 22
-    * set :drawPrint.4:y 105
-    * set :drawPrint.4:alignment @bottomLeft
    85 draw print 22 105 @bottomLeft
    86 label *label37
    87 label *label36
-    * op add :drawText.5:x 22 1
-    * set :drawText.5:y 105
-    * set :drawText.5:alignment @bottomLeft
    88 print "Air Factory"
-    * set :drawPrint.5:y 105
-    * set :drawPrint.5:alignment @bottomLeft
    89 draw print 23 105 @bottomLeft
    90 label *label39
    91 label *label38
 
    95 sensor *tmp35 .factory @progress
    96 op mul *tmp40 122 *tmp35
    97 op mul *tmp41 *tmp35 122
-    * op min :drawItem:length 122 *tmp41
+   98 op min :drawItem:length 122 *tmp40
    99 op add :drawItem:textX 170 0
   100 draw col %[white]
   101 draw image 11 95 :drawMaterials:unit 16 0
 
   104 draw color 0 255 0 255
   105 draw lineRect 22 90 122 10
   106 op add *tmp54 95 2
-    * set :drawBold.2:x 170
-    * set :drawBold.2:y 97
-    * set :drawBold.2:alignment @right
-    * set :drawText.6:x 170
-    * set :drawText.6:y 97
-    * set :drawText.6:alignment @right
   107 print :drawMaterials:unitCount
   108 print "/8"
-    * set :drawPrint.6:x 170
-    * set :drawPrint.6:y 97
-    * set :drawPrint.6:alignment @right
-    * draw print :drawItem:textX *tmp54 @right
+  109 draw print 170 97 @right
   110 label *label45
   111 label *label44
-    * op add :drawText.7:x 170 1
-    * set :drawText.7:y 97
-    * set :drawText.7:alignment @right
   112 print :drawMaterials:unitCount
   113 print "/8"
-    * set :drawPrint.7:x 171
-    * set :drawPrint.7:y 97
-    * set :drawPrint.7:alignment @right
-    * draw print 171 *tmp54 @right
+  114 draw print 171 97 @right
   115 label *label47
   116 label *label46
   117 label *label43
 
   132 label *label50
   133 jump *label55 lessThanEq :drawMaterials:target 0
   134 sensor *tmp61 .factory :drawMaterials:item
-    * set :drawItem.1:col :drawMaterials:col
   135 set :drawItem.1:y :drawMaterials:y
   136 op mul *tmp66 122 *tmp61
   137 op div *tmp67 *tmp66 :drawMaterials:target
   138 op min :drawItem.1:length 122 *tmp67
-    * op mul *tmp69 :drawMaterials:col 176
   139 op mul *tmp70 :drawMaterials:col 88
   140 op add :drawItem.1:iconX 11 *tmp70
-    * op mul *tmp73 :drawMaterials:col 88
   141 op add :drawItem.1:barX 22 *tmp70
-    * op mul *tmp76 :drawMaterials:col 88
   142 op add :drawItem.1:textX 170 *tmp70
   143 draw col %[white]
   144 op add *tmp78 :drawMaterials:y 5
 
   148 draw color 0 255 0 255
   149 draw lineRect :drawItem.1:barX :drawMaterials:y 122 10
   150 op add *tmp80 :drawMaterials:y 7
-    * set :drawBold.3:x :drawItem.1:textX
-    * set :drawBold.3:y *tmp80
-    * set :drawBold.3:alignment @right
-    * set :drawText.8:x :drawItem.1:textX
-    * set :drawText.8:y *tmp80
-    * set :drawText.8:alignment @right
   151 print :drawMaterials:target
-    * set :drawPrint.8:x :drawItem.1:textX
-    * set :drawPrint.8:y *tmp80
-    * set :drawPrint.8:alignment @right
   152 draw print :drawItem.1:textX *tmp80 @right
   153 label *label60
   154 label *label59
   155 op add :drawText.9:x *tmp70 171
-    * set :drawText.9:y *tmp80
-    * set :drawText.9:alignment @right
   156 print :drawMaterials:target
-    * set :drawPrint.9:y *tmp80
-    * set :drawPrint.9:alignment @right
   157 draw print :drawText.9:x *tmp80 @right
   158 label *label62
   159 label *label61
 
   178 label *label31
   179 set .materialCount .totalTargets
   180 set :drawMaterials:count .materialCount
-    * set :drawBold.4:x 22
-    * set :drawBold.4:y 105
-    * set :drawBold.4:alignment @bottomLeft
-    * set :drawText.10:x 22
-    * set :drawText.10:y 105
-    * set :drawText.10:alignment @bottomLeft
   181 print "Materials"
-    * set :drawPrint.10:x 22
-    * set :drawPrint.10:y 105
-    * set :drawPrint.10:alignment @bottomLeft
   182 draw print 22 105 @bottomLeft
   183 label *label67
   184 label *label66
-    * op add :drawText.11:x 22 1
-    * set :drawText.11:y 105
-    * set :drawText.11:alignment @bottomLeft
   185 print "Materials"
-    * set :drawPrint.11:y 105
-    * set :drawPrint.11:alignment @bottomLeft
   186 draw print 23 105 @bottomLeft
   187 label *label69
   188 label *label68
   189 label *label65
-    * set :drawMaterials:columns 1
   190 jump *label70 equal .materialCount false
   191 set :drawMaterials:item.1 @copper
   192 set :drawMaterials:target.1 .targetCopper
 
   219 label *label72
   220 jump *label81 lessThanEq :drawMaterials:target.1 0
   221 sensor *tmp90 .core :drawMaterials:item.1
-    * set :drawItem.2:col :drawMaterials:col
   222 set :drawItem.2:y :drawMaterials:y
-    * set :drawItem.2:columns 1
-    * op mul *tmp91 1 176
-    * op mul *tmp92 1 88
-    * op sub :drawItem.2:barLength 210 88
-    * op add :drawItem.2:textEnd 48 122
   223 op mul *tmp95 122 *tmp90
   224 op div *tmp96 *tmp95 :drawMaterials:target.1
   225 op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp98 :drawMaterials:col 176
   226 op mul *tmp99 :drawMaterials:col 88
   227 op add :drawItem.2:iconX 11 *tmp99
-    * op mul *tmp102 :drawMaterials:col 88
   228 op add :drawItem.2:barX 22 *tmp99
-    * op mul *tmp105 :drawMaterials:col 88
   229 op add :drawItem.2:textX 170 *tmp99
   230 draw col %[white]
   231 op add *tmp107 :drawMaterials:y 5
 
   235 draw color 0 255 0 255
   236 draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
   237 op add *tmp109 :drawMaterials:y 7
-    * set :drawBold.5:x :drawItem.2:textX
-    * set :drawBold.5:y *tmp109
-    * set :drawBold.5:alignment @right
-    * set :drawText.12:x :drawItem.2:textX
-    * set :drawText.12:y *tmp109
-    * set :drawText.12:alignment @right
   238 print :drawMaterials:target.1
-    * set :drawPrint.12:x :drawItem.2:textX
-    * set :drawPrint.12:y *tmp109
-    * set :drawPrint.12:alignment @right
   239 draw print :drawItem.2:textX *tmp109 @right
   240 label *label86
   241 label *label85
   242 op add :drawText.13:x :drawItem.2:textX 1
-    * set :drawText.13:y *tmp109
-    * set :drawText.13:alignment @right
   243 print :drawMaterials:target.1
-    * set :drawPrint.13:y *tmp109
-    * set :drawPrint.13:alignment @right
   244 draw print :drawText.13:x *tmp109 @right
   245 label *label88
   246 label *label87
 
   277 set *tmp116 25
   278 label *label95
   279 set :drawUnit:y *tmp116
-    * set :drawBold.6:x 22
-    * set :drawBold.6:y *tmp116
-    * set :drawBold.6:alignment @bottomLeft
-    * set :drawText.14:x 22
-    * set :drawText.14:y *tmp116
-    * set :drawText.14:alignment @bottomLeft
   280 print "Builder"
-    * set :drawPrint.14:x 22
-    * set :drawPrint.14:y *tmp116
-    * set :drawPrint.14:alignment @bottomLeft
-    * draw print 22 :drawUnit:y @bottomLeft
+  281 draw print 22 *tmp116 @bottomLeft
   282 label *label98
   283 label *label97
-    * op add :drawText.15:x 22 1
-    * set :drawText.15:y *tmp116
-    * set :drawText.15:alignment @bottomLeft
   284 print "Builder"
-    * set :drawPrint.15:y *tmp116
-    * set :drawPrint.15:alignment @bottomLeft
-    * draw print 23 :drawUnit:y @bottomLeft
+  285 draw print 23 *tmp116 @bottomLeft
   286 label *label100
   287 label *label99
   288 label *label96
   289 jump *label101 notEqual .transportItem null
   290 op sub *tmp120 *tmp116 15
-    * set :drawUnit.1:item @poly
-    * set :drawUnit.1:items 0
   291 set :drawUnit.1:y *tmp120
   292 set :drawItem.3:target .transportTarget
-    * op mul *tmp125 122 0
   293 op div *tmp126 0 :drawItem.3:target
   294 op min :drawItem.3:length 122 *tmp126
   295 op add :drawItem.3:textX 170 0
   296 draw col %[white]
-    * op add *tmp137 *tmp120 5
+  297 op sub *tmp137 *tmp116 10
   298 draw image 11 *tmp137 @poly 16 0
   299 draw color 0 128 0 255
   300 draw rect 22 *tmp120 :drawItem.3:length 10
   301 draw color 0 255 0 255
   302 draw lineRect 22 *tmp120 122 10
-    * op add *tmp138 *tmp120 5
-    * op add *tmp139 :drawUnit.1:y 7
-    * set :drawBold.7:x 170
-    * set :drawBold.7:y *tmp139
-    * set :drawBold.7:alignment @right
-    * set :drawText.16:x 170
-    * set :drawText.16:y *tmp139
-    * set :drawText.16:alignment @right
+  303 op sub *tmp138 *tmp116 10
+  304 op add *tmp139 *tmp120 7
   305 print .transportTarget
-    * set :drawPrint.16:x 170
-    * set :drawPrint.16:y *tmp139
-    * set :drawPrint.16:alignment @right
-    * draw print :drawItem.3:textX *tmp139 @right
+  306 draw print 170 *tmp139 @right
   307 label *label107
   308 label *label106
-    * op add :drawText.17:x 170 1
-    * set :drawText.17:y *tmp139
-    * set :drawText.17:alignment @right
   309 print .transportTarget
-    * set :drawPrint.17:x 171
-    * set :drawPrint.17:y *tmp139
-    * set :drawPrint.17:alignment @right
   310 draw print 171 *tmp139 @right
   311 label *label109
   312 label *label108
   313 label *label105
   314 jump *label110 lessThan 1 1
-    * op sub :drawItem.3:y *tmp120 15
+  315 op sub :drawItem.3:y *tmp116 30
   316 label *label110
   317 label *label111
   318 label *label104
 
   325 op mul *tmp148 *tmp146 *tmp147
   326 op sub *tmp149 *tmp116 15
   327 set :drawUnit.2:item .transportItem
-    * set :drawUnit.2:items *tmp148
   328 set :drawUnit.2:y *tmp149
   329 set :drawItem.4:target .transportTarget
   330 op mul *tmp154 122 *tmp148
 
   332 op min :drawItem.4:length 122 *tmp155
   333 op add :drawItem.4:textX 170 0
   334 draw col %[white]
-    * op add *tmp166 *tmp149 5
+  335 op sub *tmp166 *tmp116 10
   336 draw image 11 *tmp166 :drawUnit.2:item 16 0
   337 draw color 0 128 0 255
   338 draw rect 22 *tmp149 :drawItem.4:length 10
   339 draw color 0 255 0 255
   340 draw lineRect 22 *tmp149 122 10
-    * op add *tmp167 *tmp149 5
-    * op add *tmp168 :drawUnit.2:y 7
-    * set :drawBold.8:x 170
-    * set :drawBold.8:y *tmp168
-    * set :drawBold.8:alignment @right
-    * set :drawText.18:x 170
-    * set :drawText.18:y *tmp168
-    * set :drawText.18:alignment @right
+  341 op sub *tmp167 *tmp116 10
+  342 op add *tmp168 *tmp149 7
   343 print .transportTarget
-    * set :drawPrint.18:x 170
-    * set :drawPrint.18:y *tmp168
-    * set :drawPrint.18:alignment @right
-    * draw print :drawItem.4:textX *tmp168 @right
+  344 draw print 170 *tmp168 @right
   345 label *label116
   346 label *label115
-    * op add :drawText.19:x 170 1
-    * set :drawText.19:y *tmp168
-    * set :drawText.19:alignment @right
   347 print .transportTarget
-    * set :drawPrint.19:x 171
-    * set :drawPrint.19:y *tmp168
-    * set :drawPrint.19:alignment @right
   348 draw print 171 *tmp168 @right
   349 label *label118
   350 label *label117
   351 label *label114
   352 jump *label119 lessThan 1 1
-    * op sub :drawItem.4:y *tmp149 15
+  353 op sub :drawItem.4:y *tmp116 30
   354 label *label119
   355 label *label120
   356 label *label113
 
   362 set :drawUnitCount:count .polys
   363 jump *label123 lessThanEq :drawUnitCount:count 0
   364 draw image 150 127 @poly 12 0
-    * set :drawText.20:x 170
-    * set :drawText.20:y 129
-    * set :drawText.20:alignment @right
   365 print "x"
   366 print :drawUnitCount:count
-    * set :drawPrint.20:x 170
   367 draw print 170 129 @right
   368 label *label126
   369 label *label125
 
   375 jump *label128 lessThanEq :drawUnitCount.1:count 0
   376 op sub *tmp179 :drawUnits:x 20
   377 draw image *tmp179 127 @mono 12 0
-    * set :drawText.21:x :drawUnits:x
-    * set :drawText.21:y 129
-    * set :drawText.21:alignment @right
   378 print "x"
   379 print :drawUnitCount.1:count
   380 draw print :drawUnits:x 129 @right
 
   388 jump *label133 lessThanEq :drawUnitCount.2:count 0
   389 op sub *tmp182 :drawUnits:x 20
   390 draw image *tmp182 127 @flare 12 0
-    * set :drawText.22:x :drawUnits:x
-    * set :drawText.22:y 129
-    * set :drawText.22:alignment @right
   391 print "x"
   392 print :drawUnitCount.2:count
   393 draw print :drawUnits:x 129 @right
 
   442 print *tmp202
   443 op add *tmp204 :displayLog:x 44
   444 op add *tmp205 :displayLog:y 2
-    * set :drawText.23:x *tmp204
-    * set :drawText.23:y *tmp205
-    * set :drawText.23:alignment @right
   445 print :displayRecord:s
   446 draw print *tmp204 *tmp205 @right
   447 label *label153
 
   466 draw clear 0 0 32
   467 draw col %[white]
   468 op add .frame .frame 1
-    * set :drawText.24:x 4
-    * set :drawText.24:y 172
-    * set :drawText.24:alignment @topLeft
   469 print .frame
   470 draw print 4 172 @topLeft
   471 label *label160
   472 label *label159
-    * set :displayOreMap:mapw @mapw
   473 op div *tmp208 176 @mapw
   474 op div *tmp209 176 @maph
   475 draw scale *tmp208 *tmp209
-    * op mul *tmp210 3 @mapw
   476 op div *tmp211 @mapw 58.666666666666664
   477 op ceil :displayOreMap:width *tmp211
   478 read :displayOreMap:minX bank1 0
 
   504 draw rect *tmp0 *tmp1 :displayOreMap:width :displayOreMap:width
   505 draw reset
   506 draw col %[white]
-    * set :drawText.25:x 175
-    * set :drawText.25:y 172
-    * set :drawText.25:alignment @topRight
   507 print :displayOreMap:index
   508 draw print 175 172 @topRight
   509 label *label167

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 4 (-12 instructions):
 
    94 jump *label40 lessThanEq *tmp32 0
    95 sensor *tmp35 .factory @progress
    96 op mul *tmp40 122 *tmp35
-    * op mul *tmp41 *tmp35 122
    97 op min :drawItem:length 122 *tmp40
-    * op add :drawItem:textX 170 0
    98 draw col %[white]
    99 draw image 11 95 :drawMaterials:unit 16 0
   100 draw color 0 128 0 255
   101 draw rect 22 90 :drawItem:length 10
   102 draw color 0 255 0 255
   103 draw lineRect 22 90 122 10
-    * op add *tmp54 95 2
   104 print :drawMaterials:unitCount
   105 print "/8"
   106 draw print 170 97 @right
 
   236 draw print :drawItem.2:textX *tmp109 @right
   237 label *label86
   238 label *label85
-    * op add :drawText.13:x :drawItem.2:textX 1
+  239 op add :drawText.13:x *tmp99 171
   240 print :drawMaterials:target.1
   241 draw print :drawText.13:x *tmp109 @right
   242 label *label88
 
   273 label *label94
   274 set *tmp116 25
   275 label *label95
-    * set :drawUnit:y *tmp116
   276 print "Builder"
   277 draw print 22 *tmp116 @bottomLeft
   278 label *label98
 
   284 label *label96
   285 jump *label101 notEqual .transportItem null
   286 op sub *tmp120 *tmp116 15
-    * set :drawUnit.1:y *tmp120
   287 set :drawItem.3:target .transportTarget
   288 op div *tmp126 0 :drawItem.3:target
   289 op min :drawItem.3:length 122 *tmp126
-    * op add :drawItem.3:textX 170 0
   290 draw col %[white]
   291 op sub *tmp137 *tmp116 10
   292 draw image 11 *tmp137 @poly 16 0
 
   294 draw rect 22 *tmp120 :drawItem.3:length 10
   295 draw color 0 255 0 255
   296 draw lineRect 22 *tmp120 122 10
-    * op sub *tmp138 *tmp116 10
-    * op add *tmp139 *tmp120 7
+  297 op sub *tmp139 *tmp116 8
   298 print .transportTarget
   299 draw print 170 *tmp139 @right
   300 label *label107
 
   305 label *label108
   306 label *label105
   307 jump *label110 lessThan 1 1
-    * op sub :drawItem.3:y *tmp116 30
   308 label *label110
   309 label *label111
   310 label *label104
 
   317 op mul *tmp148 *tmp146 *tmp147
   318 op sub *tmp149 *tmp116 15
   319 set :drawUnit.2:item .transportItem
-    * set :drawUnit.2:y *tmp149
   320 set :drawItem.4:target .transportTarget
   321 op mul *tmp154 122 *tmp148
   322 op div *tmp155 *tmp154 :drawItem.4:target
   323 op min :drawItem.4:length 122 *tmp155
-    * op add :drawItem.4:textX 170 0
   324 draw col %[white]
   325 op sub *tmp166 *tmp116 10
   326 draw image 11 *tmp166 :drawUnit.2:item 16 0
 
   328 draw rect 22 *tmp149 :drawItem.4:length 10
   329 draw color 0 255 0 255
   330 draw lineRect 22 *tmp149 122 10
-    * op sub *tmp167 *tmp116 10
-    * op add *tmp168 *tmp149 7
+  331 op sub *tmp168 *tmp116 8
   332 print .transportTarget
   333 draw print 170 *tmp168 @right
   334 label *label116
 
   339 label *label117
   340 label *label114
   341 jump *label119 lessThan 1 1
-    * op sub :drawItem.4:y *tmp116 30
   342 label *label119
   343 label *label120
   344 label *label113

Modifications by Iterated phase, Loop Optimization, pass 1, iteration 1 (-1 instructions):
 
   473 draw col %[red]
   474 set :displayOreMap:index 4
   475 label *label161
-    * jump *label163 greaterThanEq :displayOreMap:index 256
+  476 label *label173
   477 read :displayOreMap:pos bank1 :displayOreMap:index
   478 jump *label164 notEqual :displayOreMap:pos 0
   479 jump *label163 always
 
   484 draw rect :displayOreMap:x :displayOreMap:y :displayOreMap:width :displayOreMap:width
   485 op add :displayOreMap:index :displayOreMap:index 1
   486 label *label162
-    * jump *label161 always
+  487 jump *label173 lessThan :displayOreMap:index 256
   488 label *label163
   489 draw col %[gold]
   490 read *tmp0 processor1 ".px"

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1:
 
    37 op floor :drawHeader:t @second
    38 op idiv :drawHeader:m :drawHeader:t 60
    39 op mod :drawHeader:s :drawHeader:t 60
-    * jump *label22 greaterThanEq :drawHeader:s 10
+   40 set *tmp18 ""
+   41 jump *label23 greaterThanEq :drawHeader:s 10
    42 set *tmp18 "0"
    43 jump *label23 always
-    * label *label22
-    * set *tmp18 ""
    44 label *label23
    45 print :drawHeader:m
    46 print ":"
 
   266 label *label32
   267 label *label30
   268 draw col %[white]
-    * jump *label94 greaterThanEq .materialCount 4
+  269 set *tmp116 25
+  270 jump *label95 greaterThanEq .materialCount 4
   271 set *tmp116 40
   272 jump *label95 always
-    * label *label94
-    * set *tmp116 25
   273 label *label95
   274 print "Builder"
   275 draw print 22 *tmp116 @bottomLeft
 
   403 label *label143
   404 label *label144
   405 op mod :displayRecord:id :displayLog:record 1000
-    * jump *label146 lessThanEq :displayRecord:id @blockCount
+  406 lookup block *tmp191 :displayRecord:id
+  407 jump *label147 lessThanEq :displayRecord:id @blockCount
   408 op sub *tmp192 :displayRecord:id @blockCount
   409 lookup unit *tmp191 *tmp192
   410 jump *label147 always
-    * label *label146
-    * lookup block *tmp191 :displayRecord:id
   411 label *label147
   412 draw image :displayLog:x :displayLog:y *tmp191 14 0
   413 op idiv :displayRecord:t :displayLog:record 1000
 
   416 label *label149
   417 op idiv :displayRecord:m :displayRecord:t 60
   418 op mod :displayRecord:s :displayRecord:t 60
-    * jump *label150 greaterThanEq :displayRecord:s 10
+  419 set *tmp202 ""
+  420 jump *label151 greaterThanEq :displayRecord:s 10
   421 set *tmp202 "0"
   422 jump *label151 always
-    * label *label150
-    * set *tmp202 ""
   423 label *label151
   424 print :displayRecord:m
   425 print ":"

Modifications by Unroll iteration loop at line 124:13 (+25 instructions):
 
   117 label *label42
   118 jump *label41 always
   119 label *label40
-    * set :drawMaterials:item @lead
-    * set :drawMaterials:target :drawMaterials:targetFactoryLead
-    * setaddr *tmp58 *label53
-    * jump *label50 always
-    * multilabel *label53 (m:marker0)
-    * set :drawMaterials:item @silicon
-    * set :drawMaterials:target :drawMaterials:targetFactorySilicon
-    * setaddr *tmp58 *label54
-    * label *label50
-    * jump *label55 lessThanEq :drawMaterials:target 0
-    * sensor *tmp61 .factory :drawMaterials:item
-    * set :drawItem.1:y :drawMaterials:y
-    * op mul *tmp66 122 *tmp61
-    * op div *tmp67 *tmp66 :drawMaterials:target
-    * op min :drawItem.1:length 122 *tmp67
-    * op mul *tmp70 :drawMaterials:col 88
-    * op add :drawItem.1:iconX 11 *tmp70
-    * op add :drawItem.1:barX 22 *tmp70
-    * op add :drawItem.1:textX 170 *tmp70
-    * draw col %[white]
-    * op add *tmp78 :drawMaterials:y 5
-    * draw image :drawItem.1:iconX *tmp78 :drawMaterials:item 16 0
-    * draw color 0 128 0 255
-    * draw rect :drawItem.1:barX :drawMaterials:y :drawItem.1:length 10
-    * draw color 0 255 0 255
-    * draw lineRect :drawItem.1:barX :drawMaterials:y 122 10
-    * op add *tmp80 :drawMaterials:y 7
-    * print :drawMaterials:target
-    * draw print :drawItem.1:textX *tmp80 @right
-    * label *label60
-    * label *label59
-    * op add :drawText.9:x *tmp70 171
-    * print :drawMaterials:target
-    * draw print :drawText.9:x *tmp80 @right
-    * label *label62
-    * label *label61
-    * label *label58
-    * op add :drawItem.1:col :drawMaterials:col 1
-    * jump *label63 lessThan :drawItem.1:col 1
-    * set :drawItem.1:col 0
-    * op sub :drawItem.1:y :drawMaterials:y 15
-    * label *label63
-    * label *label64
-    * label *label57
-    * set :drawMaterials:col :drawItem.1:col
-    * set :drawMaterials:y :drawItem.1:y
-    * label *label55
-    * label *label56
-    * label *label51
-    * multijump *tmp58 0 0 (m:marker0)
-    * multilabel *label54 (m:marker0)
-    * label *label52
+  120 set :drawMaterials:item @lead
+  121 set :drawMaterials:target :drawMaterials:targetFactoryLead
+  122 label *label174
+  123 jump *label183 lessThanEq :drawMaterials:target 0
+  124 sensor *tmp61 .factory :drawMaterials:item
+  125 set :drawItem.1:y :drawMaterials:y
+  126 op mul *tmp66 122 *tmp61
+  127 op div *tmp67 *tmp66 :drawMaterials:target
+  128 op min :drawItem.1:length 122 *tmp67
+  129 op mul *tmp70 :drawMaterials:col 88
+  130 op add :drawItem.1:iconX 11 *tmp70
+  131 op add :drawItem.1:barX 22 *tmp70
+  132 op add :drawItem.1:textX 170 *tmp70
+  133 draw col %[white]
+  134 op add *tmp78 :drawMaterials:y 5
+  135 draw image :drawItem.1:iconX *tmp78 :drawMaterials:item 16 0
+  136 draw color 0 128 0 255
+  137 draw rect :drawItem.1:barX :drawMaterials:y :drawItem.1:length 10
+  138 draw color 0 255 0 255
+  139 draw lineRect :drawItem.1:barX :drawMaterials:y 122 10
+  140 op add *tmp80 :drawMaterials:y 7
+  141 print :drawMaterials:target
+  142 draw print :drawItem.1:textX *tmp80 @right
+  143 label *label175
+  144 label *label176
+  145 op add :drawText.9:x *tmp70 171
+  146 print :drawMaterials:target
+  147 draw print :drawText.9:x *tmp80 @right
+  148 label *label177
+  149 label *label178
+  150 label *label179
+  151 op add :drawItem.1:col :drawMaterials:col 1
+  152 jump *label180 lessThan :drawItem.1:col 1
+  153 set :drawItem.1:col 0
+  154 op sub :drawItem.1:y :drawMaterials:y 15
+  155 label *label180
+  156 label *label181
+  157 label *label182
+  158 set :drawMaterials:col :drawItem.1:col
+  159 set :drawMaterials:y :drawItem.1:y
+  160 label *label183
+  161 label *label184
+  162 label *label185
+  163 set :drawMaterials:item @silicon
+  164 set :drawMaterials:target :drawMaterials:targetFactorySilicon
+  165 label *label188
+  166 jump *label197 lessThanEq :drawMaterials:target 0
+  167 sensor *tmp61 .factory :drawMaterials:item
+  168 set :drawItem.1:y :drawMaterials:y
+  169 op mul *tmp66 122 *tmp61
+  170 op div *tmp67 *tmp66 :drawMaterials:target
+  171 op min :drawItem.1:length 122 *tmp67
+  172 op mul *tmp70 :drawMaterials:col 88
+  173 op add :drawItem.1:iconX 11 *tmp70
+  174 op add :drawItem.1:barX 22 *tmp70
+  175 op add :drawItem.1:textX 170 *tmp70
+  176 draw col %[white]
+  177 op add *tmp78 :drawMaterials:y 5
+  178 draw image :drawItem.1:iconX *tmp78 :drawMaterials:item 16 0
+  179 draw color 0 128 0 255
+  180 draw rect :drawItem.1:barX :drawMaterials:y :drawItem.1:length 10
+  181 draw color 0 255 0 255
+  182 draw lineRect :drawItem.1:barX :drawMaterials:y 122 10
+  183 op add *tmp80 :drawMaterials:y 7
+  184 print :drawMaterials:target
+  185 draw print :drawItem.1:textX *tmp80 @right
+  186 label *label189
+  187 label *label190
+  188 op add :drawText.9:x *tmp70 171
+  189 print :drawMaterials:target
+  190 draw print :drawText.9:x *tmp80 @right
+  191 label *label191
+  192 label *label192
+  193 label *label193
+  194 op add :drawItem.1:col :drawMaterials:col 1
+  195 jump *label194 lessThan :drawItem.1:col 1
+  196 set :drawItem.1:col 0
+  197 op sub :drawItem.1:y :drawMaterials:y 15
+  198 label *label194
+  199 label *label195
+  200 label *label196
+  201 set :drawMaterials:col :drawItem.1:col
+  202 set :drawMaterials:y :drawItem.1:y
+  203 label *label197
+  204 label *label198
+  205 label *label199
+  206 label *label52
   207 label *label41
   208 jump *label32 always
   209 label *label31

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-2 instructions):
 
   120 set :drawMaterials:item @lead
   121 set :drawMaterials:target :drawMaterials:targetFactoryLead
   122 label *label174
-    * jump *label183 lessThanEq :drawMaterials:target 0
-    * sensor *tmp61 .factory :drawMaterials:item
-    * set :drawItem.1:y :drawMaterials:y
+  123 jump *label183 lessThanEq :drawMaterials:targetFactoryLead 0
+  124 sensor *tmp61 .factory @lead
+  125 set :drawItem.1:y 90
   126 op mul *tmp66 122 *tmp61
-    * op div *tmp67 *tmp66 :drawMaterials:target
+  127 op div *tmp67 *tmp66 :drawMaterials:targetFactoryLead
   128 op min :drawItem.1:length 122 *tmp67
-    * op mul *tmp70 :drawMaterials:col 88
-    * op add :drawItem.1:iconX 11 *tmp70
-    * op add :drawItem.1:barX 22 *tmp70
-    * op add :drawItem.1:textX 170 *tmp70
+  129 op mul *tmp70 0 88
+  130 op add :drawItem.1:iconX 11 0
+  131 op add :drawItem.1:barX 22 0
+  132 op add :drawItem.1:textX 170 0
   133 draw col %[white]
-    * op add *tmp78 :drawMaterials:y 5
-    * draw image :drawItem.1:iconX *tmp78 :drawMaterials:item 16 0
+  134 op add *tmp78 90 5
+  135 draw image 11 95 @lead 16 0
   136 draw color 0 128 0 255
-    * draw rect :drawItem.1:barX :drawMaterials:y :drawItem.1:length 10
+  137 draw rect 22 90 :drawItem.1:length 10
   138 draw color 0 255 0 255
-    * draw lineRect :drawItem.1:barX :drawMaterials:y 122 10
-    * op add *tmp80 :drawMaterials:y 7
-    * print :drawMaterials:target
-    * draw print :drawItem.1:textX *tmp80 @right
+  139 draw lineRect 22 90 122 10
+  140 op add *tmp80 90 7
+  141 print :drawMaterials:targetFactoryLead
+  142 draw print 170 97 @right
   143 label *label175
   144 label *label176
-    * op add :drawText.9:x *tmp70 171
-    * print :drawMaterials:target
-    * draw print :drawText.9:x *tmp80 @right
+  145 op add :drawText.9:x 0 171
+  146 print :drawMaterials:targetFactoryLead
+  147 draw print 171 97 @right
   148 label *label177
   149 label *label178
   150 label *label179
-    * op add :drawItem.1:col :drawMaterials:col 1
-    * jump *label180 lessThan :drawItem.1:col 1
+  151 op add :drawItem.1:col 0 1
+  152 jump *label180 lessThan 1 1
   153 set :drawItem.1:col 0
-    * op sub :drawItem.1:y :drawMaterials:y 15
+  154 op sub :drawItem.1:y 90 15
   155 label *label180
   156 label *label181
   157 label *label182
-    * set :drawMaterials:col :drawItem.1:col
-    * set :drawMaterials:y :drawItem.1:y
+  158 set :drawMaterials:col 0
+  159 set :drawMaterials:y 75
   160 label *label183
   161 label *label184
   162 label *label185
   163 set :drawMaterials:item @silicon
   164 set :drawMaterials:target :drawMaterials:targetFactorySilicon
   165 label *label188
-    * jump *label197 lessThanEq :drawMaterials:target 0
-    * sensor *tmp61 .factory :drawMaterials:item
+  166 jump *label197 lessThanEq :drawMaterials:targetFactorySilicon 0
+  167 sensor *tmp61 .factory @silicon
   168 set :drawItem.1:y :drawMaterials:y
   169 op mul *tmp66 122 *tmp61
-    * op div *tmp67 *tmp66 :drawMaterials:target
+  170 op div *tmp67 *tmp66 :drawMaterials:targetFactorySilicon
   171 op min :drawItem.1:length 122 *tmp67
   172 op mul *tmp70 :drawMaterials:col 88
   173 op add :drawItem.1:iconX 11 *tmp70
 
   175 op add :drawItem.1:textX 170 *tmp70
   176 draw col %[white]
   177 op add *tmp78 :drawMaterials:y 5
-    * draw image :drawItem.1:iconX *tmp78 :drawMaterials:item 16 0
+  178 draw image :drawItem.1:iconX *tmp78 @silicon 16 0
   179 draw color 0 128 0 255
   180 draw rect :drawItem.1:barX :drawMaterials:y :drawItem.1:length 10
   181 draw color 0 255 0 255
   182 draw lineRect :drawItem.1:barX :drawMaterials:y 122 10
   183 op add *tmp80 :drawMaterials:y 7
-    * print :drawMaterials:target
+  184 print :drawMaterials:targetFactorySilicon
   185 draw print :drawItem.1:textX *tmp80 @right
   186 label *label189
   187 label *label190
   188 op add :drawText.9:x *tmp70 171
-    * print :drawMaterials:target
+  189 print :drawMaterials:targetFactorySilicon
   190 draw print :drawText.9:x *tmp80 @right
   191 label *label191
   192 label *label192
 
   198 label *label194
   199 label *label195
   200 label *label196
-    * set :drawMaterials:col :drawItem.1:col
-    * set :drawMaterials:y :drawItem.1:y
   201 label *label197
   202 label *label198
   203 label *label199

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-18 instructions):
 
   117 label *label42
   118 jump *label41 always
   119 label *label40
-    * set :drawMaterials:item @lead
-    * set :drawMaterials:target :drawMaterials:targetFactoryLead
   120 label *label174
   121 jump *label183 lessThanEq :drawMaterials:targetFactoryLead 0
   122 sensor *tmp61 .factory @lead
-    * set :drawItem.1:y 90
   123 op mul *tmp66 122 *tmp61
   124 op div *tmp67 *tmp66 :drawMaterials:targetFactoryLead
   125 op min :drawItem.1:length 122 *tmp67
-    * op mul *tmp70 0 88
-    * op add :drawItem.1:iconX 11 0
-    * op add :drawItem.1:barX 22 0
-    * op add :drawItem.1:textX 170 0
   126 draw col %[white]
-    * op add *tmp78 90 5
   127 draw image 11 95 @lead 16 0
   128 draw color 0 128 0 255
   129 draw rect 22 90 :drawItem.1:length 10
   130 draw color 0 255 0 255
   131 draw lineRect 22 90 122 10
-    * op add *tmp80 90 7
   132 print :drawMaterials:targetFactoryLead
   133 draw print 170 97 @right
   134 label *label175
   135 label *label176
-    * op add :drawText.9:x 0 171
   136 print :drawMaterials:targetFactoryLead
   137 draw print 171 97 @right
   138 label *label177
   139 label *label178
   140 label *label179
-    * op add :drawItem.1:col 0 1
   141 jump *label180 lessThan 1 1
-    * set :drawItem.1:col 0
-    * op sub :drawItem.1:y 90 15
   142 label *label180
   143 label *label181
   144 label *label182
 
   147 label *label183
   148 label *label184
   149 label *label185
-    * set :drawMaterials:item @silicon
-    * set :drawMaterials:target :drawMaterials:targetFactorySilicon
   150 label *label188
   151 jump *label197 lessThanEq :drawMaterials:targetFactorySilicon 0
   152 sensor *tmp61 .factory @silicon
-    * set :drawItem.1:y :drawMaterials:y
   153 op mul *tmp66 122 *tmp61
   154 op div *tmp67 *tmp66 :drawMaterials:targetFactorySilicon
   155 op min :drawItem.1:length 122 *tmp67
-    * op mul *tmp70 :drawMaterials:col 88
-    * op add :drawItem.1:iconX 11 *tmp70
-    * op add :drawItem.1:barX 22 *tmp70
-    * op add :drawItem.1:textX 170 *tmp70
+  156 op mul *tmp70 0 88
+  157 op add :drawItem.1:iconX 11 0
+  158 op add :drawItem.1:barX 22 0
+  159 op add :drawItem.1:textX 170 0
   160 draw col %[white]
   161 op add *tmp78 :drawMaterials:y 5
-    * draw image :drawItem.1:iconX *tmp78 @silicon 16 0
+  162 draw image 11 *tmp78 @silicon 16 0
   163 draw color 0 128 0 255
-    * draw rect :drawItem.1:barX :drawMaterials:y :drawItem.1:length 10
+  164 draw rect 22 :drawMaterials:y :drawItem.1:length 10
   165 draw color 0 255 0 255
-    * draw lineRect :drawItem.1:barX :drawMaterials:y 122 10
+  166 draw lineRect 22 :drawMaterials:y 122 10
   167 op add *tmp80 :drawMaterials:y 7
   168 print :drawMaterials:targetFactorySilicon
-    * draw print :drawItem.1:textX *tmp80 @right
+  169 draw print 170 *tmp80 @right
   170 label *label189
   171 label *label190
-    * op add :drawText.9:x *tmp70 171
+  172 op add :drawText.9:x 0 171
   173 print :drawMaterials:targetFactorySilicon
-    * draw print :drawText.9:x *tmp80 @right
+  174 draw print 171 *tmp80 @right
   175 label *label191
   176 label *label192
   177 label *label193
-    * op add :drawItem.1:col :drawMaterials:col 1
-    * jump *label194 lessThan :drawItem.1:col 1
-    * set :drawItem.1:col 0
-    * op sub :drawItem.1:y :drawMaterials:y 15
+  178 op add :drawItem.1:col 0 1
+  179 jump *label194 lessThan 1 1
   180 label *label194
   181 label *label195
   182 label *label196

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-7 instructions):
 
   142 label *label180
   143 label *label181
   144 label *label182
-    * set :drawMaterials:col 0
   145 set :drawMaterials:y 75
   146 label *label183
   147 label *label184
 
   152 op mul *tmp66 122 *tmp61
   153 op div *tmp67 *tmp66 :drawMaterials:targetFactorySilicon
   154 op min :drawItem.1:length 122 *tmp67
-    * op mul *tmp70 0 88
-    * op add :drawItem.1:iconX 11 0
-    * op add :drawItem.1:barX 22 0
-    * op add :drawItem.1:textX 170 0
   155 draw col %[white]
   156 op add *tmp78 :drawMaterials:y 5
   157 draw image 11 *tmp78 @silicon 16 0
 
   164 draw print 170 *tmp80 @right
   165 label *label189
   166 label *label190
-    * op add :drawText.9:x 0 171
   167 print :drawMaterials:targetFactorySilicon
   168 draw print 171 *tmp80 @right
   169 label *label191
   170 label *label192
   171 label *label193
-    * op add :drawItem.1:col 0 1
   172 jump *label194 lessThan 1 1
   173 label *label194
   174 label *label195

Modifications by Unroll iteration loop at line 139:13 (+148 instructions):
 
   192 label *label68
   193 label *label65
   194 jump *label70 equal .materialCount false
-    * set :drawMaterials:item.1 @copper
-    * set :drawMaterials:target.1 .targetCopper
-    * setaddr *tmp87 *label75
-    * jump *label72 always
-    * multilabel *label75 (m:marker1)
-    * set :drawMaterials:item.1 @lead
-    * set :drawMaterials:target.1 .targetLead
-    * setaddr *tmp87 *label76
-    * jump *label72 always
-    * multilabel *label76 (m:marker1)
-    * set :drawMaterials:item.1 @graphite
-    * set :drawMaterials:target.1 .targetGraphite
-    * setaddr *tmp87 *label77
-    * jump *label72 always
-    * multilabel *label77 (m:marker1)
-    * set :drawMaterials:item.1 @silicon
-    * set :drawMaterials:target.1 .targetSilicon
-    * setaddr *tmp87 *label78
-    * jump *label72 always
-    * multilabel *label78 (m:marker1)
-    * set :drawMaterials:item.1 @titanium
-    * set :drawMaterials:target.1 .targetTitanium
-    * setaddr *tmp87 *label79
-    * jump *label72 always
-    * multilabel *label79 (m:marker1)
-    * set :drawMaterials:item.1 @metaglass
-    * set :drawMaterials:target.1 .targetMetaglass
-    * setaddr *tmp87 *label80
-    * label *label72
-    * jump *label81 lessThanEq :drawMaterials:target.1 0
-    * sensor *tmp90 .core :drawMaterials:item.1
-    * set :drawItem.2:y :drawMaterials:y
-    * op mul *tmp95 122 *tmp90
-    * op div *tmp96 *tmp95 :drawMaterials:target.1
-    * op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp99 :drawMaterials:col 88
-    * op add :drawItem.2:iconX 11 *tmp99
-    * op add :drawItem.2:barX 22 *tmp99
-    * op add :drawItem.2:textX 170 *tmp99
-    * draw col %[white]
-    * op add *tmp107 :drawMaterials:y 5
-    * draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
-    * draw color 0 128 0 255
-    * draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
-    * draw color 0 255 0 255
-    * draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
-    * op add *tmp109 :drawMaterials:y 7
-    * print :drawMaterials:target.1
-    * draw print :drawItem.2:textX *tmp109 @right
-    * label *label86
-    * label *label85
-    * op add :drawText.13:x *tmp99 171
-    * print :drawMaterials:target.1
-    * draw print :drawText.13:x *tmp109 @right
-    * label *label88
-    * label *label87
-    * label *label84
-    * op add :drawItem.2:col :drawMaterials:col 1
-    * jump *label89 lessThan :drawItem.2:col 1
-    * set :drawItem.2:col 0
-    * op sub :drawItem.2:y :drawMaterials:y 15
-    * label *label89
-    * label *label90
-    * label *label83
-    * set :drawMaterials:col :drawItem.2:col
-    * set :drawMaterials:y :drawItem.2:y
-    * op sub :drawMaterials:count :drawMaterials:count 1
-    * jump *label91 greaterThan :drawMaterials:count 0
-    * jump *label74 always
-    * label *label91
-    * label *label92
-    * label *label81
-    * label *label82
-    * label *label73
-    * multijump *tmp87 0 0 (m:marker1)
-    * multilabel *label80 (m:marker1)
-    * label *label74
+  195 set :drawMaterials:item.1 @copper
+  196 set :drawMaterials:target.1 .targetCopper
+  197 label *label203
+  198 jump *label214 lessThanEq :drawMaterials:target.1 0
+  199 sensor *tmp90 .core :drawMaterials:item.1
+  200 set :drawItem.2:y :drawMaterials:y
+  201 op mul *tmp95 122 *tmp90
+  202 op div *tmp96 *tmp95 :drawMaterials:target.1
+  203 op min :drawItem.2:length 122 *tmp96
+  204 op mul *tmp99 :drawMaterials:col 88
+  205 op add :drawItem.2:iconX 11 *tmp99
+  206 op add :drawItem.2:barX 22 *tmp99
+  207 op add :drawItem.2:textX 170 *tmp99
+  208 draw col %[white]
+  209 op add *tmp107 :drawMaterials:y 5
+  210 draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
+  211 draw color 0 128 0 255
+  212 draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
+  213 draw color 0 255 0 255
+  214 draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
+  215 op add *tmp109 :drawMaterials:y 7
+  216 print :drawMaterials:target.1
+  217 draw print :drawItem.2:textX *tmp109 @right
+  218 label *label204
+  219 label *label205
+  220 op add :drawText.13:x *tmp99 171
+  221 print :drawMaterials:target.1
+  222 draw print :drawText.13:x *tmp109 @right
+  223 label *label206
+  224 label *label207
+  225 label *label208
+  226 op add :drawItem.2:col :drawMaterials:col 1
+  227 jump *label209 lessThan :drawItem.2:col 1
+  228 set :drawItem.2:col 0
+  229 op sub :drawItem.2:y :drawMaterials:y 15
+  230 label *label209
+  231 label *label210
+  232 label *label211
+  233 set :drawMaterials:col :drawItem.2:col
+  234 set :drawMaterials:y :drawItem.2:y
+  235 op sub :drawMaterials:count :drawMaterials:count 1
+  236 jump *label212 greaterThan :drawMaterials:count 0
+  237 jump *label74 always
+  238 label *label212
+  239 label *label213
+  240 label *label214
+  241 label *label215
+  242 label *label216
+  243 set :drawMaterials:item.1 @lead
+  244 set :drawMaterials:target.1 .targetLead
+  245 label *label219
+  246 jump *label230 lessThanEq :drawMaterials:target.1 0
+  247 sensor *tmp90 .core :drawMaterials:item.1
+  248 set :drawItem.2:y :drawMaterials:y
+  249 op mul *tmp95 122 *tmp90
+  250 op div *tmp96 *tmp95 :drawMaterials:target.1
+  251 op min :drawItem.2:length 122 *tmp96
+  252 op mul *tmp99 :drawMaterials:col 88
+  253 op add :drawItem.2:iconX 11 *tmp99
+  254 op add :drawItem.2:barX 22 *tmp99
+  255 op add :drawItem.2:textX 170 *tmp99
+  256 draw col %[white]
+  257 op add *tmp107 :drawMaterials:y 5
+  258 draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
+  259 draw color 0 128 0 255
+  260 draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
+  261 draw color 0 255 0 255
+  262 draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
+  263 op add *tmp109 :drawMaterials:y 7
+  264 print :drawMaterials:target.1
+  265 draw print :drawItem.2:textX *tmp109 @right
+  266 label *label220
+  267 label *label221
+  268 op add :drawText.13:x *tmp99 171
+  269 print :drawMaterials:target.1
+  270 draw print :drawText.13:x *tmp109 @right
+  271 label *label222
+  272 label *label223
+  273 label *label224
+  274 op add :drawItem.2:col :drawMaterials:col 1
+  275 jump *label225 lessThan :drawItem.2:col 1
+  276 set :drawItem.2:col 0
+  277 op sub :drawItem.2:y :drawMaterials:y 15
+  278 label *label225
+  279 label *label226
+  280 label *label227
+  281 set :drawMaterials:col :drawItem.2:col
+  282 set :drawMaterials:y :drawItem.2:y
+  283 op sub :drawMaterials:count :drawMaterials:count 1
+  284 jump *label228 greaterThan :drawMaterials:count 0
+  285 jump *label74 always
+  286 label *label228
+  287 label *label229
+  288 label *label230
+  289 label *label231
+  290 label *label232
+  291 set :drawMaterials:item.1 @graphite
+  292 set :drawMaterials:target.1 .targetGraphite
+  293 label *label235
+  294 jump *label246 lessThanEq :drawMaterials:target.1 0
+  295 sensor *tmp90 .core :drawMaterials:item.1
+  296 set :drawItem.2:y :drawMaterials:y
+  297 op mul *tmp95 122 *tmp90
+  298 op div *tmp96 *tmp95 :drawMaterials:target.1
+  299 op min :drawItem.2:length 122 *tmp96
+  300 op mul *tmp99 :drawMaterials:col 88
+  301 op add :drawItem.2:iconX 11 *tmp99
+  302 op add :drawItem.2:barX 22 *tmp99
+  303 op add :drawItem.2:textX 170 *tmp99
+  304 draw col %[white]
+  305 op add *tmp107 :drawMaterials:y 5
+  306 draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
+  307 draw color 0 128 0 255
+  308 draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
+  309 draw color 0 255 0 255
+  310 draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
+  311 op add *tmp109 :drawMaterials:y 7
+  312 print :drawMaterials:target.1
+  313 draw print :drawItem.2:textX *tmp109 @right
+  314 label *label236
+  315 label *label237
+  316 op add :drawText.13:x *tmp99 171
+  317 print :drawMaterials:target.1
+  318 draw print :drawText.13:x *tmp109 @right
+  319 label *label238
+  320 label *label239
+  321 label *label240
+  322 op add :drawItem.2:col :drawMaterials:col 1
+  323 jump *label241 lessThan :drawItem.2:col 1
+  324 set :drawItem.2:col 0
+  325 op sub :drawItem.2:y :drawMaterials:y 15
+  326 label *label241
+  327 label *label242
+  328 label *label243
+  329 set :drawMaterials:col :drawItem.2:col
+  330 set :drawMaterials:y :drawItem.2:y
+  331 op sub :drawMaterials:count :drawMaterials:count 1
+  332 jump *label244 greaterThan :drawMaterials:count 0
+  333 jump *label74 always
+  334 label *label244
+  335 label *label245
+  336 label *label246
+  337 label *label247
+  338 label *label248
+  339 set :drawMaterials:item.1 @silicon
+  340 set :drawMaterials:target.1 .targetSilicon
+  341 label *label251
+  342 jump *label262 lessThanEq :drawMaterials:target.1 0
+  343 sensor *tmp90 .core :drawMaterials:item.1
+  344 set :drawItem.2:y :drawMaterials:y
+  345 op mul *tmp95 122 *tmp90
+  346 op div *tmp96 *tmp95 :drawMaterials:target.1
+  347 op min :drawItem.2:length 122 *tmp96
+  348 op mul *tmp99 :drawMaterials:col 88
+  349 op add :drawItem.2:iconX 11 *tmp99
+  350 op add :drawItem.2:barX 22 *tmp99
+  351 op add :drawItem.2:textX 170 *tmp99
+  352 draw col %[white]
+  353 op add *tmp107 :drawMaterials:y 5
+  354 draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
+  355 draw color 0 128 0 255
+  356 draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
+  357 draw color 0 255 0 255
+  358 draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
+  359 op add *tmp109 :drawMaterials:y 7
+  360 print :drawMaterials:target.1
+  361 draw print :drawItem.2:textX *tmp109 @right
+  362 label *label252
+  363 label *label253
+  364 op add :drawText.13:x *tmp99 171
+  365 print :drawMaterials:target.1
+  366 draw print :drawText.13:x *tmp109 @right
+  367 label *label254
+  368 label *label255
+  369 label *label256
+  370 op add :drawItem.2:col :drawMaterials:col 1
+  371 jump *label257 lessThan :drawItem.2:col 1
+  372 set :drawItem.2:col 0
+  373 op sub :drawItem.2:y :drawMaterials:y 15
+  374 label *label257
+  375 label *label258
+  376 label *label259
+  377 set :drawMaterials:col :drawItem.2:col
+  378 set :drawMaterials:y :drawItem.2:y
+  379 op sub :drawMaterials:count :drawMaterials:count 1
+  380 jump *label260 greaterThan :drawMaterials:count 0
+  381 jump *label74 always
+  382 label *label260
+  383 label *label261
+  384 label *label262
+  385 label *label263
+  386 label *label264
+  387 set :drawMaterials:item.1 @titanium
+  388 set :drawMaterials:target.1 .targetTitanium
+  389 label *label267
+  390 jump *label278 lessThanEq :drawMaterials:target.1 0
+  391 sensor *tmp90 .core :drawMaterials:item.1
+  392 set :drawItem.2:y :drawMaterials:y
+  393 op mul *tmp95 122 *tmp90
+  394 op div *tmp96 *tmp95 :drawMaterials:target.1
+  395 op min :drawItem.2:length 122 *tmp96
+  396 op mul *tmp99 :drawMaterials:col 88
+  397 op add :drawItem.2:iconX 11 *tmp99
+  398 op add :drawItem.2:barX 22 *tmp99
+  399 op add :drawItem.2:textX 170 *tmp99
+  400 draw col %[white]
+  401 op add *tmp107 :drawMaterials:y 5
+  402 draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
+  403 draw color 0 128 0 255
+  404 draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
+  405 draw color 0 255 0 255
+  406 draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
+  407 op add *tmp109 :drawMaterials:y 7
+  408 print :drawMaterials:target.1
+  409 draw print :drawItem.2:textX *tmp109 @right
+  410 label *label268
+  411 label *label269
+  412 op add :drawText.13:x *tmp99 171
+  413 print :drawMaterials:target.1
+  414 draw print :drawText.13:x *tmp109 @right
+  415 label *label270
+  416 label *label271
+  417 label *label272
+  418 op add :drawItem.2:col :drawMaterials:col 1
+  419 jump *label273 lessThan :drawItem.2:col 1
+  420 set :drawItem.2:col 0
+  421 op sub :drawItem.2:y :drawMaterials:y 15
+  422 label *label273
+  423 label *label274
+  424 label *label275
+  425 set :drawMaterials:col :drawItem.2:col
+  426 set :drawMaterials:y :drawItem.2:y
+  427 op sub :drawMaterials:count :drawMaterials:count 1
+  428 jump *label276 greaterThan :drawMaterials:count 0
+  429 jump *label74 always
+  430 label *label276
+  431 label *label277
+  432 label *label278
+  433 label *label279
+  434 label *label280
+  435 set :drawMaterials:item.1 @metaglass
+  436 set :drawMaterials:target.1 .targetMetaglass
+  437 label *label283
+  438 jump *label294 lessThanEq :drawMaterials:target.1 0
+  439 sensor *tmp90 .core :drawMaterials:item.1
+  440 set :drawItem.2:y :drawMaterials:y
+  441 op mul *tmp95 122 *tmp90
+  442 op div *tmp96 *tmp95 :drawMaterials:target.1
+  443 op min :drawItem.2:length 122 *tmp96
+  444 op mul *tmp99 :drawMaterials:col 88
+  445 op add :drawItem.2:iconX 11 *tmp99
+  446 op add :drawItem.2:barX 22 *tmp99
+  447 op add :drawItem.2:textX 170 *tmp99
+  448 draw col %[white]
+  449 op add *tmp107 :drawMaterials:y 5
+  450 draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
+  451 draw color 0 128 0 255
+  452 draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
+  453 draw color 0 255 0 255
+  454 draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
+  455 op add *tmp109 :drawMaterials:y 7
+  456 print :drawMaterials:target.1
+  457 draw print :drawItem.2:textX *tmp109 @right
+  458 label *label284
+  459 label *label285
+  460 op add :drawText.13:x *tmp99 171
+  461 print :drawMaterials:target.1
+  462 draw print :drawText.13:x *tmp109 @right
+  463 label *label286
+  464 label *label287
+  465 label *label288
+  466 op add :drawItem.2:col :drawMaterials:col 1
+  467 jump *label289 lessThan :drawItem.2:col 1
+  468 set :drawItem.2:col 0
+  469 op sub :drawItem.2:y :drawMaterials:y 15
+  470 label *label289
+  471 label *label290
+  472 label *label291
+  473 set :drawMaterials:col :drawItem.2:col
+  474 set :drawMaterials:y :drawItem.2:y
+  475 op sub :drawMaterials:count :drawMaterials:count 1
+  476 jump *label292 greaterThan :drawMaterials:count 0
+  477 jump *label74 always
+  478 label *label292
+  479 label *label293
+  480 label *label294
+  481 label *label295
+  482 label *label296
+  483 label *label74
   484 label *label70
   485 label *label71
   486 label *label32

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-2 instructions):
 
   196 set :drawMaterials:target.1 .targetCopper
   197 label *label203
   198 jump *label214 lessThanEq :drawMaterials:target.1 0
-    * sensor *tmp90 .core :drawMaterials:item.1
-    * set :drawItem.2:y :drawMaterials:y
+  199 sensor *tmp90 .core @copper
+  200 set :drawItem.2:y 90
   201 op mul *tmp95 122 *tmp90
   202 op div *tmp96 *tmp95 :drawMaterials:target.1
   203 op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp99 :drawMaterials:col 88
-    * op add :drawItem.2:iconX 11 *tmp99
-    * op add :drawItem.2:barX 22 *tmp99
-    * op add :drawItem.2:textX 170 *tmp99
+  204 op mul *tmp99 0 88
+  205 op add :drawItem.2:iconX 11 0
+  206 op add :drawItem.2:barX 22 0
+  207 op add :drawItem.2:textX 170 0
   208 draw col %[white]
-    * op add *tmp107 :drawMaterials:y 5
-    * draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
+  209 op add *tmp107 90 5
+  210 draw image 11 95 @copper 16 0
   211 draw color 0 128 0 255
-    * draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
+  212 draw rect 22 90 :drawItem.2:length 10
   213 draw color 0 255 0 255
-    * draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
-    * op add *tmp109 :drawMaterials:y 7
+  214 draw lineRect 22 90 122 10
+  215 op add *tmp109 90 7
   216 print :drawMaterials:target.1
-    * draw print :drawItem.2:textX *tmp109 @right
+  217 draw print 170 97 @right
   218 label *label204
   219 label *label205
-    * op add :drawText.13:x *tmp99 171
+  220 op add :drawText.13:x 0 171
   221 print :drawMaterials:target.1
-    * draw print :drawText.13:x *tmp109 @right
+  222 draw print 171 97 @right
   223 label *label206
   224 label *label207
   225 label *label208
-    * op add :drawItem.2:col :drawMaterials:col 1
-    * jump *label209 lessThan :drawItem.2:col 1
+  226 op add :drawItem.2:col 0 1
+  227 jump *label209 lessThan 1 1
   228 set :drawItem.2:col 0
-    * op sub :drawItem.2:y :drawMaterials:y 15
+  229 op sub :drawItem.2:y 90 15
   230 label *label209
   231 label *label210
   232 label *label211
-    * set :drawMaterials:col :drawItem.2:col
-    * set :drawMaterials:y :drawItem.2:y
-    * op sub :drawMaterials:count :drawMaterials:count 1
+  233 set :drawMaterials:col 0
+  234 set :drawMaterials:y 75
+  235 op sub :drawMaterials:count .materialCount 1
   236 jump *label212 greaterThan :drawMaterials:count 0
   237 jump *label74 always
   238 label *label212
 
   244 set :drawMaterials:target.1 .targetLead
   245 label *label219
   246 jump *label230 lessThanEq :drawMaterials:target.1 0
-    * sensor *tmp90 .core :drawMaterials:item.1
+  247 sensor *tmp90 .core @lead
   248 set :drawItem.2:y :drawMaterials:y
   249 op mul *tmp95 122 *tmp90
   250 op div *tmp96 *tmp95 :drawMaterials:target.1
 
   255 op add :drawItem.2:textX 170 *tmp99
   256 draw col %[white]
   257 op add *tmp107 :drawMaterials:y 5
-    * draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
+  258 draw image :drawItem.2:iconX *tmp107 @lead 16 0
   259 draw color 0 128 0 255
   260 draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
   261 draw color 0 255 0 255
 
   292 set :drawMaterials:target.1 .targetGraphite
   293 label *label235
   294 jump *label246 lessThanEq :drawMaterials:target.1 0
-    * sensor *tmp90 .core :drawMaterials:item.1
+  295 sensor *tmp90 .core @graphite
   296 set :drawItem.2:y :drawMaterials:y
   297 op mul *tmp95 122 *tmp90
   298 op div *tmp96 *tmp95 :drawMaterials:target.1
 
   303 op add :drawItem.2:textX 170 *tmp99
   304 draw col %[white]
   305 op add *tmp107 :drawMaterials:y 5
-    * draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
+  306 draw image :drawItem.2:iconX *tmp107 @graphite 16 0
   307 draw color 0 128 0 255
   308 draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
   309 draw color 0 255 0 255
 
   340 set :drawMaterials:target.1 .targetSilicon
   341 label *label251
   342 jump *label262 lessThanEq :drawMaterials:target.1 0
-    * sensor *tmp90 .core :drawMaterials:item.1
+  343 sensor *tmp90 .core @silicon
   344 set :drawItem.2:y :drawMaterials:y
   345 op mul *tmp95 122 *tmp90
   346 op div *tmp96 *tmp95 :drawMaterials:target.1
 
   351 op add :drawItem.2:textX 170 *tmp99
   352 draw col %[white]
   353 op add *tmp107 :drawMaterials:y 5
-    * draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
+  354 draw image :drawItem.2:iconX *tmp107 @silicon 16 0
   355 draw color 0 128 0 255
   356 draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
   357 draw color 0 255 0 255
 
   388 set :drawMaterials:target.1 .targetTitanium
   389 label *label267
   390 jump *label278 lessThanEq :drawMaterials:target.1 0
-    * sensor *tmp90 .core :drawMaterials:item.1
+  391 sensor *tmp90 .core @titanium
   392 set :drawItem.2:y :drawMaterials:y
   393 op mul *tmp95 122 *tmp90
   394 op div *tmp96 *tmp95 :drawMaterials:target.1
 
   399 op add :drawItem.2:textX 170 *tmp99
   400 draw col %[white]
   401 op add *tmp107 :drawMaterials:y 5
-    * draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
+  402 draw image :drawItem.2:iconX *tmp107 @titanium 16 0
   403 draw color 0 128 0 255
   404 draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
   405 draw color 0 255 0 255
 
   436 set :drawMaterials:target.1 .targetMetaglass
   437 label *label283
   438 jump *label294 lessThanEq :drawMaterials:target.1 0
-    * sensor *tmp90 .core :drawMaterials:item.1
+  439 sensor *tmp90 .core @metaglass
   440 set :drawItem.2:y :drawMaterials:y
   441 op mul *tmp95 122 *tmp90
   442 op div *tmp96 *tmp95 :drawMaterials:target.1
 
   447 op add :drawItem.2:textX 170 *tmp99
   448 draw col %[white]
   449 op add *tmp107 :drawMaterials:y 5
-    * draw image :drawItem.2:iconX *tmp107 :drawMaterials:item.1 16 0
+  450 draw image :drawItem.2:iconX *tmp107 @metaglass 16 0
   451 draw color 0 128 0 255
   452 draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
   453 draw color 0 255 0 255
 
   470 label *label289
   471 label *label290
   472 label *label291
-    * set :drawMaterials:col :drawItem.2:col
-    * set :drawMaterials:y :drawItem.2:y
   473 op sub :drawMaterials:count :drawMaterials:count 1
   474 jump *label292 greaterThan :drawMaterials:count 0
   475 jump *label74 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-20 instructions):
 
   192 label *label68
   193 label *label65
   194 jump *label70 equal .materialCount false
-    * set :drawMaterials:item.1 @copper
   195 set :drawMaterials:target.1 .targetCopper
   196 label *label203
   197 jump *label214 lessThanEq :drawMaterials:target.1 0
   198 sensor *tmp90 .core @copper
-    * set :drawItem.2:y 90
   199 op mul *tmp95 122 *tmp90
   200 op div *tmp96 *tmp95 :drawMaterials:target.1
   201 op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp99 0 88
-    * op add :drawItem.2:iconX 11 0
-    * op add :drawItem.2:barX 22 0
-    * op add :drawItem.2:textX 170 0
   202 draw col %[white]
-    * op add *tmp107 90 5
   203 draw image 11 95 @copper 16 0
   204 draw color 0 128 0 255
   205 draw rect 22 90 :drawItem.2:length 10
   206 draw color 0 255 0 255
   207 draw lineRect 22 90 122 10
-    * op add *tmp109 90 7
   208 print :drawMaterials:target.1
   209 draw print 170 97 @right
   210 label *label204
   211 label *label205
-    * op add :drawText.13:x 0 171
   212 print :drawMaterials:target.1
   213 draw print 171 97 @right
   214 label *label206
   215 label *label207
   216 label *label208
-    * op add :drawItem.2:col 0 1
   217 jump *label209 lessThan 1 1
-    * set :drawItem.2:col 0
-    * op sub :drawItem.2:y 90 15
   218 label *label209
   219 label *label210
   220 label *label211
 
   228 label *label214
   229 label *label215
   230 label *label216
-    * set :drawMaterials:item.1 @lead
   231 set :drawMaterials:target.1 .targetLead
   232 label *label219
   233 jump *label230 lessThanEq :drawMaterials:target.1 0
 
   236 op mul *tmp95 122 *tmp90
   237 op div *tmp96 *tmp95 :drawMaterials:target.1
   238 op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp99 :drawMaterials:col 88
-    * op add :drawItem.2:iconX 11 *tmp99
-    * op add :drawItem.2:barX 22 *tmp99
-    * op add :drawItem.2:textX 170 *tmp99
+  239 op mul *tmp99 0 88
+  240 op add :drawItem.2:iconX 11 0
+  241 op add :drawItem.2:barX 22 0
+  242 op add :drawItem.2:textX 170 0
   243 draw col %[white]
   244 op add *tmp107 :drawMaterials:y 5
-    * draw image :drawItem.2:iconX *tmp107 @lead 16 0
+  245 draw image 11 *tmp107 @lead 16 0
   246 draw color 0 128 0 255
-    * draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
+  247 draw rect 22 :drawMaterials:y :drawItem.2:length 10
   248 draw color 0 255 0 255
-    * draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
+  249 draw lineRect 22 :drawMaterials:y 122 10
   250 op add *tmp109 :drawMaterials:y 7
   251 print :drawMaterials:target.1
-    * draw print :drawItem.2:textX *tmp109 @right
+  252 draw print 170 *tmp109 @right
   253 label *label220
   254 label *label221
-    * op add :drawText.13:x *tmp99 171
+  255 op add :drawText.13:x 0 171
   256 print :drawMaterials:target.1
-    * draw print :drawText.13:x *tmp109 @right
+  257 draw print 171 *tmp109 @right
   258 label *label222
   259 label *label223
   260 label *label224
-    * op add :drawItem.2:col :drawMaterials:col 1
-    * jump *label225 lessThan :drawItem.2:col 1
+  261 op add :drawItem.2:col 0 1
+  262 jump *label225 lessThan 1 1
   263 set :drawItem.2:col 0
   264 op sub :drawItem.2:y :drawMaterials:y 15
   265 label *label225
   266 label *label226
   267 label *label227
-    * set :drawMaterials:col :drawItem.2:col
+  268 set :drawMaterials:col 0
   269 set :drawMaterials:y :drawItem.2:y
   270 op sub :drawMaterials:count :drawMaterials:count 1
   271 jump *label228 greaterThan :drawMaterials:count 0
 
   275 label *label230
   276 label *label231
   277 label *label232
-    * set :drawMaterials:item.1 @graphite
   278 set :drawMaterials:target.1 .targetGraphite
   279 label *label235
   280 jump *label246 lessThanEq :drawMaterials:target.1 0
 
   322 label *label246
   323 label *label247
   324 label *label248
-    * set :drawMaterials:item.1 @silicon
   325 set :drawMaterials:target.1 .targetSilicon
   326 label *label251
   327 jump *label262 lessThanEq :drawMaterials:target.1 0
 
   369 label *label262
   370 label *label263
   371 label *label264
-    * set :drawMaterials:item.1 @titanium
   372 set :drawMaterials:target.1 .targetTitanium
   373 label *label267
   374 jump *label278 lessThanEq :drawMaterials:target.1 0
 
   416 label *label278
   417 label *label279
   418 label *label280
-    * set :drawMaterials:item.1 @metaglass
   419 set :drawMaterials:target.1 .targetMetaglass
   420 label *label283
   421 jump *label294 lessThanEq :drawMaterials:target.1 0
   422 sensor *tmp90 .core @metaglass
-    * set :drawItem.2:y :drawMaterials:y
   423 op mul *tmp95 122 *tmp90
   424 op div *tmp96 *tmp95 :drawMaterials:target.1
   425 op min :drawItem.2:length 122 *tmp96
 
   447 label *label288
   448 op add :drawItem.2:col :drawMaterials:col 1
   449 jump *label289 lessThan :drawItem.2:col 1
-    * set :drawItem.2:col 0
-    * op sub :drawItem.2:y :drawMaterials:y 15
   450 label *label289
   451 label *label290
   452 label *label291

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-8 instructions):
 
   232 label *label219
   233 jump *label230 lessThanEq :drawMaterials:target.1 0
   234 sensor *tmp90 .core @lead
-    * set :drawItem.2:y :drawMaterials:y
   235 op mul *tmp95 122 *tmp90
   236 op div *tmp96 *tmp95 :drawMaterials:target.1
   237 op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp99 0 88
-    * op add :drawItem.2:iconX 11 0
-    * op add :drawItem.2:barX 22 0
-    * op add :drawItem.2:textX 170 0
   238 draw col %[white]
   239 op add *tmp107 :drawMaterials:y 5
   240 draw image 11 *tmp107 @lead 16 0
 
   247 draw print 170 *tmp109 @right
   248 label *label220
   249 label *label221
-    * op add :drawText.13:x 0 171
   250 print :drawMaterials:target.1
   251 draw print 171 *tmp109 @right
   252 label *label222
   253 label *label223
   254 label *label224
-    * op add :drawItem.2:col 0 1
   255 jump *label225 lessThan 1 1
-    * set :drawItem.2:col 0
   256 op sub :drawItem.2:y :drawMaterials:y 15
   257 label *label225
   258 label *label226
 
   275 op mul *tmp95 122 *tmp90
   276 op div *tmp96 *tmp95 :drawMaterials:target.1
   277 op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp99 :drawMaterials:col 88
-    * op add :drawItem.2:iconX 11 *tmp99
-    * op add :drawItem.2:barX 22 *tmp99
-    * op add :drawItem.2:textX 170 *tmp99
+  278 op mul *tmp99 0 88
+  279 op add :drawItem.2:iconX 11 0
+  280 op add :drawItem.2:barX 22 0
+  281 op add :drawItem.2:textX 170 0
   282 draw col %[white]
   283 op add *tmp107 :drawMaterials:y 5
-    * draw image :drawItem.2:iconX *tmp107 @graphite 16 0
+  284 draw image 11 *tmp107 @graphite 16 0
   285 draw color 0 128 0 255
-    * draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
+  286 draw rect 22 :drawMaterials:y :drawItem.2:length 10
   287 draw color 0 255 0 255
-    * draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
+  288 draw lineRect 22 :drawMaterials:y 122 10
   289 op add *tmp109 :drawMaterials:y 7
   290 print :drawMaterials:target.1
-    * draw print :drawItem.2:textX *tmp109 @right
+  291 draw print 170 *tmp109 @right
   292 label *label236
   293 label *label237
-    * op add :drawText.13:x *tmp99 171
+  294 op add :drawText.13:x 0 171
   295 print :drawMaterials:target.1
-    * draw print :drawText.13:x *tmp109 @right
+  296 draw print 171 *tmp109 @right
   297 label *label238
   298 label *label239
   299 label *label240
-    * op add :drawItem.2:col :drawMaterials:col 1
-    * jump *label241 lessThan :drawItem.2:col 1
+  300 op add :drawItem.2:col 0 1
+  301 jump *label241 lessThan 1 1
   302 set :drawItem.2:col 0
   303 op sub :drawItem.2:y :drawMaterials:y 15
   304 label *label241
   305 label *label242
   306 label *label243
-    * set :drawMaterials:col :drawItem.2:col
+  307 set :drawMaterials:col 0
   308 set :drawMaterials:y :drawItem.2:y
   309 op sub :drawMaterials:count :drawMaterials:count 1
   310 jump *label244 greaterThan :drawMaterials:count 0

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 4 (-8 instructions):
 
   271 label *label235
   272 jump *label246 lessThanEq :drawMaterials:target.1 0
   273 sensor *tmp90 .core @graphite
-    * set :drawItem.2:y :drawMaterials:y
   274 op mul *tmp95 122 *tmp90
   275 op div *tmp96 *tmp95 :drawMaterials:target.1
   276 op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp99 0 88
-    * op add :drawItem.2:iconX 11 0
-    * op add :drawItem.2:barX 22 0
-    * op add :drawItem.2:textX 170 0
   277 draw col %[white]
   278 op add *tmp107 :drawMaterials:y 5
   279 draw image 11 *tmp107 @graphite 16 0
 
   286 draw print 170 *tmp109 @right
   287 label *label236
   288 label *label237
-    * op add :drawText.13:x 0 171
   289 print :drawMaterials:target.1
   290 draw print 171 *tmp109 @right
   291 label *label238
   292 label *label239
   293 label *label240
-    * op add :drawItem.2:col 0 1
   294 jump *label241 lessThan 1 1
-    * set :drawItem.2:col 0
   295 op sub :drawItem.2:y :drawMaterials:y 15
   296 label *label241
   297 label *label242
 
   314 op mul *tmp95 122 *tmp90
   315 op div *tmp96 *tmp95 :drawMaterials:target.1
   316 op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp99 :drawMaterials:col 88
-    * op add :drawItem.2:iconX 11 *tmp99
-    * op add :drawItem.2:barX 22 *tmp99
-    * op add :drawItem.2:textX 170 *tmp99
+  317 op mul *tmp99 0 88
+  318 op add :drawItem.2:iconX 11 0
+  319 op add :drawItem.2:barX 22 0
+  320 op add :drawItem.2:textX 170 0
   321 draw col %[white]
   322 op add *tmp107 :drawMaterials:y 5
-    * draw image :drawItem.2:iconX *tmp107 @silicon 16 0
+  323 draw image 11 *tmp107 @silicon 16 0
   324 draw color 0 128 0 255
-    * draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
+  325 draw rect 22 :drawMaterials:y :drawItem.2:length 10
   326 draw color 0 255 0 255
-    * draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
+  327 draw lineRect 22 :drawMaterials:y 122 10
   328 op add *tmp109 :drawMaterials:y 7
   329 print :drawMaterials:target.1
-    * draw print :drawItem.2:textX *tmp109 @right
+  330 draw print 170 *tmp109 @right
   331 label *label252
   332 label *label253
-    * op add :drawText.13:x *tmp99 171
+  333 op add :drawText.13:x 0 171
   334 print :drawMaterials:target.1
-    * draw print :drawText.13:x *tmp109 @right
+  335 draw print 171 *tmp109 @right
   336 label *label254
   337 label *label255
   338 label *label256
-    * op add :drawItem.2:col :drawMaterials:col 1
-    * jump *label257 lessThan :drawItem.2:col 1
+  339 op add :drawItem.2:col 0 1
+  340 jump *label257 lessThan 1 1
   341 set :drawItem.2:col 0
   342 op sub :drawItem.2:y :drawMaterials:y 15
   343 label *label257
   344 label *label258
   345 label *label259
-    * set :drawMaterials:col :drawItem.2:col
+  346 set :drawMaterials:col 0
   347 set :drawMaterials:y :drawItem.2:y
   348 op sub :drawMaterials:count :drawMaterials:count 1
   349 jump *label260 greaterThan :drawMaterials:count 0

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 5 (-8 instructions):
 
   310 label *label251
   311 jump *label262 lessThanEq :drawMaterials:target.1 0
   312 sensor *tmp90 .core @silicon
-    * set :drawItem.2:y :drawMaterials:y
   313 op mul *tmp95 122 *tmp90
   314 op div *tmp96 *tmp95 :drawMaterials:target.1
   315 op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp99 0 88
-    * op add :drawItem.2:iconX 11 0
-    * op add :drawItem.2:barX 22 0
-    * op add :drawItem.2:textX 170 0
   316 draw col %[white]
   317 op add *tmp107 :drawMaterials:y 5
   318 draw image 11 *tmp107 @silicon 16 0
 
   325 draw print 170 *tmp109 @right
   326 label *label252
   327 label *label253
-    * op add :drawText.13:x 0 171
   328 print :drawMaterials:target.1
   329 draw print 171 *tmp109 @right
   330 label *label254
   331 label *label255
   332 label *label256
-    * op add :drawItem.2:col 0 1
   333 jump *label257 lessThan 1 1
-    * set :drawItem.2:col 0
   334 op sub :drawItem.2:y :drawMaterials:y 15
   335 label *label257
   336 label *label258
 
   353 op mul *tmp95 122 *tmp90
   354 op div *tmp96 *tmp95 :drawMaterials:target.1
   355 op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp99 :drawMaterials:col 88
-    * op add :drawItem.2:iconX 11 *tmp99
-    * op add :drawItem.2:barX 22 *tmp99
-    * op add :drawItem.2:textX 170 *tmp99
+  356 op mul *tmp99 0 88
+  357 op add :drawItem.2:iconX 11 0
+  358 op add :drawItem.2:barX 22 0
+  359 op add :drawItem.2:textX 170 0
   360 draw col %[white]
   361 op add *tmp107 :drawMaterials:y 5
-    * draw image :drawItem.2:iconX *tmp107 @titanium 16 0
+  362 draw image 11 *tmp107 @titanium 16 0
   363 draw color 0 128 0 255
-    * draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
+  364 draw rect 22 :drawMaterials:y :drawItem.2:length 10
   365 draw color 0 255 0 255
-    * draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
+  366 draw lineRect 22 :drawMaterials:y 122 10
   367 op add *tmp109 :drawMaterials:y 7
   368 print :drawMaterials:target.1
-    * draw print :drawItem.2:textX *tmp109 @right
+  369 draw print 170 *tmp109 @right
   370 label *label268
   371 label *label269
-    * op add :drawText.13:x *tmp99 171
+  372 op add :drawText.13:x 0 171
   373 print :drawMaterials:target.1
-    * draw print :drawText.13:x *tmp109 @right
+  374 draw print 171 *tmp109 @right
   375 label *label270
   376 label *label271
   377 label *label272
-    * op add :drawItem.2:col :drawMaterials:col 1
-    * jump *label273 lessThan :drawItem.2:col 1
+  378 op add :drawItem.2:col 0 1
+  379 jump *label273 lessThan 1 1
   380 set :drawItem.2:col 0
   381 op sub :drawItem.2:y :drawMaterials:y 15
   382 label *label273
   383 label *label274
   384 label *label275
-    * set :drawMaterials:col :drawItem.2:col
+  385 set :drawMaterials:col 0
   386 set :drawMaterials:y :drawItem.2:y
   387 op sub :drawMaterials:count :drawMaterials:count 1
   388 jump *label276 greaterThan :drawMaterials:count 0

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 6 (-8 instructions):
 
   349 label *label267
   350 jump *label278 lessThanEq :drawMaterials:target.1 0
   351 sensor *tmp90 .core @titanium
-    * set :drawItem.2:y :drawMaterials:y
   352 op mul *tmp95 122 *tmp90
   353 op div *tmp96 *tmp95 :drawMaterials:target.1
   354 op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp99 0 88
-    * op add :drawItem.2:iconX 11 0
-    * op add :drawItem.2:barX 22 0
-    * op add :drawItem.2:textX 170 0
   355 draw col %[white]
   356 op add *tmp107 :drawMaterials:y 5
   357 draw image 11 *tmp107 @titanium 16 0
 
   364 draw print 170 *tmp109 @right
   365 label *label268
   366 label *label269
-    * op add :drawText.13:x 0 171
   367 print :drawMaterials:target.1
   368 draw print 171 *tmp109 @right
   369 label *label270
   370 label *label271
   371 label *label272
-    * op add :drawItem.2:col 0 1
   372 jump *label273 lessThan 1 1
-    * set :drawItem.2:col 0
   373 op sub :drawItem.2:y :drawMaterials:y 15
   374 label *label273
   375 label *label274
 
   391 op mul *tmp95 122 *tmp90
   392 op div *tmp96 *tmp95 :drawMaterials:target.1
   393 op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp99 :drawMaterials:col 88
-    * op add :drawItem.2:iconX 11 *tmp99
-    * op add :drawItem.2:barX 22 *tmp99
-    * op add :drawItem.2:textX 170 *tmp99
+  394 op mul *tmp99 0 88
+  395 op add :drawItem.2:iconX 11 0
+  396 op add :drawItem.2:barX 22 0
+  397 op add :drawItem.2:textX 170 0
   398 draw col %[white]
   399 op add *tmp107 :drawMaterials:y 5
-    * draw image :drawItem.2:iconX *tmp107 @metaglass 16 0
+  400 draw image 11 *tmp107 @metaglass 16 0
   401 draw color 0 128 0 255
-    * draw rect :drawItem.2:barX :drawMaterials:y :drawItem.2:length 10
+  402 draw rect 22 :drawMaterials:y :drawItem.2:length 10
   403 draw color 0 255 0 255
-    * draw lineRect :drawItem.2:barX :drawMaterials:y 122 10
+  404 draw lineRect 22 :drawMaterials:y 122 10
   405 op add *tmp109 :drawMaterials:y 7
   406 print :drawMaterials:target.1
-    * draw print :drawItem.2:textX *tmp109 @right
+  407 draw print 170 *tmp109 @right
   408 label *label284
   409 label *label285
-    * op add :drawText.13:x *tmp99 171
+  410 op add :drawText.13:x 0 171
   411 print :drawMaterials:target.1
-    * draw print :drawText.13:x *tmp109 @right
+  412 draw print 171 *tmp109 @right
   413 label *label286
   414 label *label287
   415 label *label288
-    * op add :drawItem.2:col :drawMaterials:col 1
-    * jump *label289 lessThan :drawItem.2:col 1
+  416 op add :drawItem.2:col 0 1
+  417 jump *label289 lessThan 1 1
   418 label *label289
   419 label *label290
   420 label *label291

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 7 (-12 instructions):
 
    64 label *label26
    65 label *label27
    66 label *label14
-    * set :drawMaterials:col 0
    67 set :drawMaterials:y 90
    68 jump *label31 notEqual .nextBlock null
    69 sensor :drawMaterials:unit .factory @config
 
   217 label *label209
   218 label *label210
   219 label *label211
-    * set :drawMaterials:col 0
   220 set :drawMaterials:y 75
   221 op sub :drawMaterials:count .materialCount 1
   222 jump *label212 greaterThan :drawMaterials:count 0
 
   255 label *label225
   256 label *label226
   257 label *label227
-    * set :drawMaterials:col 0
   258 set :drawMaterials:y :drawItem.2:y
   259 op sub :drawMaterials:count :drawMaterials:count 1
   260 jump *label228 greaterThan :drawMaterials:count 0
 
   293 label *label241
   294 label *label242
   295 label *label243
-    * set :drawMaterials:col 0
   296 set :drawMaterials:y :drawItem.2:y
   297 op sub :drawMaterials:count :drawMaterials:count 1
   298 jump *label244 greaterThan :drawMaterials:count 0
 
   331 label *label257
   332 label *label258
   333 label *label259
-    * set :drawMaterials:col 0
   334 set :drawMaterials:y :drawItem.2:y
   335 op sub :drawMaterials:count :drawMaterials:count 1
   336 jump *label260 greaterThan :drawMaterials:count 0
 
   369 label *label273
   370 label *label274
   371 label *label275
-    * set :drawMaterials:col 0
   372 set :drawMaterials:y :drawItem.2:y
   373 op sub :drawMaterials:count :drawMaterials:count 1
   374 jump *label276 greaterThan :drawMaterials:count 0
 
   385 op mul *tmp95 122 *tmp90
   386 op div *tmp96 *tmp95 :drawMaterials:target.1
   387 op min :drawItem.2:length 122 *tmp96
-    * op mul *tmp99 0 88
-    * op add :drawItem.2:iconX 11 0
-    * op add :drawItem.2:barX 22 0
-    * op add :drawItem.2:textX 170 0
   388 draw col %[white]
   389 op add *tmp107 :drawMaterials:y 5
   390 draw image 11 *tmp107 @metaglass 16 0
 
   397 draw print 170 *tmp109 @right
   398 label *label284
   399 label *label285
-    * op add :drawText.13:x 0 171
   400 print :drawMaterials:target.1
   401 draw print 171 *tmp109 @right
   402 label *label286
   403 label *label287
   404 label *label288
-    * op add :drawItem.2:col 0 1
   405 jump *label289 lessThan 1 1
   406 label *label289
   407 label *label290

Modifications by Iterated phase, Jump Normalization, pass 2, iteration 1 (-11 instructions):
 
   110 label *label47
   111 label *label46
   112 label *label43
-    * jump *label48 lessThan 1 1
   113 label *label48
   114 label *label49
   115 label *label42
 
   136 label *label177
   137 label *label178
   138 label *label179
-    * jump *label180 lessThan 1 1
   139 label *label180
   140 label *label181
   141 label *label182
 
   166 label *label191
   167 label *label192
   168 label *label193
-    * jump *label194 lessThan 1 1
   169 label *label194
   170 label *label195
   171 label *label196
 
   210 label *label206
   211 label *label207
   212 label *label208
-    * jump *label209 lessThan 1 1
   213 label *label209
   214 label *label210
   215 label *label211
 
   246 label *label222
   247 label *label223
   248 label *label224
-    * jump *label225 lessThan 1 1
   249 op sub :drawItem.2:y :drawMaterials:y 15
   250 label *label225
   251 label *label226
 
   283 label *label238
   284 label *label239
   285 label *label240
-    * jump *label241 lessThan 1 1
   286 op sub :drawItem.2:y :drawMaterials:y 15
   287 label *label241
   288 label *label242
 
   320 label *label254
   321 label *label255
   322 label *label256
-    * jump *label257 lessThan 1 1
   323 op sub :drawItem.2:y :drawMaterials:y 15
   324 label *label257
   325 label *label258
 
   357 label *label270
   358 label *label271
   359 label *label272
-    * jump *label273 lessThan 1 1
   360 op sub :drawItem.2:y :drawMaterials:y 15
   361 label *label273
   362 label *label274
 
   394 label *label286
   395 label *label287
   396 label *label288
-    * jump *label289 lessThan 1 1
   397 label *label289
   398 label *label290
   399 label *label291
 
   447 label *label109
   448 label *label108
   449 label *label105
-    * jump *label110 lessThan 1 1
   450 label *label110
   451 label *label111
   452 label *label104
 
   480 label *label118
   481 label *label117
   482 label *label114
-    * jump *label119 lessThan 1 1
   483 label *label119
   484 label *label120
   485 label *label113

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-6 instructions):
 
    40 set *tmp18 ""
    41 jump *label23 greaterThanEq :drawHeader:s 10
    42 set *tmp18 "0"
-    * jump *label23 always
    43 label *label23
    44 print :drawHeader:m
    45 print ":"
 
   398 label *label291
   399 op sub :drawMaterials:count :drawMaterials:count 1
   400 jump *label292 greaterThan :drawMaterials:count 0
-    * jump *label74 always
   401 label *label292
   402 label *label293
   403 label *label294
 
   412 set *tmp116 25
   413 jump *label95 greaterThanEq .materialCount 4
   414 set *tmp116 40
-    * jump *label95 always
   415 label *label95
   416 print "Builder"
   417 draw print 22 *tmp116 @bottomLeft
 
   547 jump *label147 lessThanEq :displayRecord:id @blockCount
   548 op sub *tmp192 :displayRecord:id @blockCount
   549 lookup unit *tmp191 *tmp192
-    * jump *label147 always
   550 label *label147
   551 draw image :displayLog:x :displayLog:y *tmp191 14 0
   552 op idiv :displayRecord:t :displayLog:record 1000
-    * jump *label149 always
   553 label *label148
   554 label *label149
   555 op idiv :displayRecord:m :displayRecord:t 60
 
   557 set *tmp202 ""
   558 jump *label151 greaterThanEq :displayRecord:s 10
   559 set *tmp202 "0"
-    * jump *label151 always
   560 label *label151
   561 print :displayRecord:m
   562 print ":"

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 2 (-1 instructions):
 
   397 label *label290
   398 label *label291
   399 op sub :drawMaterials:count :drawMaterials:count 1
-    * jump *label292 greaterThan :drawMaterials:count 0
   400 label *label292
   401 label *label293
   402 label *label294

Modifications by Iterated phase, Expression Optimization, pass 2, iteration 1:
 
   424 jump *label101 notEqual .transportItem null
   425 op sub *tmp120 *tmp116 15
   426 set :drawItem.3:target .transportTarget
-    * op div *tmp126 0 :drawItem.3:target
+  427 set *tmp126 0
   428 op min :drawItem.3:length 122 *tmp126
   429 draw col %[white]
   430 op sub *tmp137 *tmp116 10

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-2 instructions):
 
   396 label *label289
   397 label *label290
   398 label *label291
-    * op sub :drawMaterials:count :drawMaterials:count 1
   399 label *label292
   400 label *label293
   401 label *label294
 
   422 label *label96
   423 jump *label101 notEqual .transportItem null
   424 op sub *tmp120 *tmp116 15
-    * set :drawItem.3:target .transportTarget
   425 set *tmp126 0
-    * op min :drawItem.3:length 122 *tmp126
+  426 op min :drawItem.3:length 122 0
   427 draw col %[white]
   428 op sub *tmp137 *tmp116 10
   429 draw image 11 *tmp137 @poly 16 0
   430 draw color 0 128 0 255
-    * draw rect 22 *tmp120 :drawItem.3:length 10
+  431 draw rect 22 *tmp120 0 10
   432 draw color 0 255 0 255
   433 draw lineRect 22 *tmp120 122 10
   434 op sub *tmp139 *tmp116 8

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2 (-2 instructions):
 
   422 label *label96
   423 jump *label101 notEqual .transportItem null
   424 op sub *tmp120 *tmp116 15
-    * set *tmp126 0
-    * op min :drawItem.3:length 122 0
   425 draw col %[white]
   426 op sub *tmp137 *tmp116 10
   427 draw image 11 *tmp137 @poly 16 0

Modifications by Jumps phase, Jump Normalization, pass 4, iteration 1:
 
     5 label *label4
     6 ubind @poly
     7 ulocate building core false @copper 0 0 0 .core
-    * label *label5
     8 jump *label4 equal .core null
-    * label *label6
     9 printflush null
    10 drawflush null
    11 op add :main:nextSwitch @second 3
    12 label *label7
    13 jump *label11 notEqual .page 0
-    * label *label12
    14 draw reset
    15 draw clear 0 0 32
    16 draw col %[gold]
    17 print "Building"
    18 draw print 40 161 @bottom
-    * label *label17
-    * label *label16
    19 print "Building"
    20 draw print 41 161 @bottom
-    * label *label19
-    * label *label18
-    * label *label15
    21 draw col %[white]
    22 jump *label20 notEqual .nextBlock null
    23 sensor *tmp12 .factory @config
 
    39 print :drawHeader:s
    40 print ""
    41 draw print 170 172 @topRight
-    * label *label25
-    * label *label24
    42 sensor :drawHeader:count .titaniumDrill @titanium
    43 jump *label26 equal :drawHeader:count false
    44 print "x"
    45 print :drawHeader:count
    46 draw print 170 155 @topRight
-    * label *label29
-    * label *label28
    47 op idiv *tmp21 :drawHeader:count 10
    48 op mul *tmp22 7 *tmp21
    49 op sub *tmp23 150 *tmp22
    50 draw image *tmp23 146 @titanium 12 0
    51 label *label26
-    * label *label27
-    * label *label14
    52 set :drawMaterials:y 90
    53 jump *label31 notEqual .nextBlock null
    54 sensor :drawMaterials:unit .factory @config
 
    66 label *label34
    67 print "Air Factory"
    68 draw print 22 105 @bottomLeft
-    * label *label37
-    * label *label36
    69 print "Air Factory"
    70 draw print 23 105 @bottomLeft
-    * label *label39
-    * label *label38
-    * label *label35
    71 sensor *tmp32 .factory @progress
    72 jump *label40 lessThanEq *tmp32 0
    73 sensor *tmp35 .factory @progress
 
    82 print :drawMaterials:unitCount
    83 print "/8"
    84 draw print 170 97 @right
-    * label *label45
-    * label *label44
    85 print :drawMaterials:unitCount
    86 print "/8"
    87 draw print 171 97 @right
-    * label *label47
-    * label *label46
-    * label *label43
-    * label *label48
-    * label *label49
-    * label *label42
    88 jump *label41 always
    89 label *label40
-    * label *label174
    90 jump *label183 lessThanEq :drawMaterials:targetFactoryLead 0
    91 sensor *tmp61 .factory @lead
    92 op mul *tmp66 122 *tmp61
 
   100 draw lineRect 22 90 122 10
   101 print :drawMaterials:targetFactoryLead
   102 draw print 170 97 @right
-    * label *label175
-    * label *label176
   103 print :drawMaterials:targetFactoryLead
   104 draw print 171 97 @right
-    * label *label177
-    * label *label178
-    * label *label179
-    * label *label180
-    * label *label181
-    * label *label182
   105 set :drawMaterials:y 75
   106 label *label183
-    * label *label184
-    * label *label185
-    * label *label188
   107 jump *label197 lessThanEq :drawMaterials:targetFactorySilicon 0
   108 sensor *tmp61 .factory @silicon
   109 op mul *tmp66 122 *tmp61
 
   119 op add *tmp80 :drawMaterials:y 7
   120 print :drawMaterials:targetFactorySilicon
   121 draw print 170 *tmp80 @right
-    * label *label189
-    * label *label190
   122 print :drawMaterials:targetFactorySilicon
   123 draw print 171 *tmp80 @right
-    * label *label191
-    * label *label192
-    * label *label193
-    * label *label194
-    * label *label195
-    * label *label196
   124 label *label197
-    * label *label198
-    * label *label199
-    * label *label52
   125 label *label41
   126 jump *label32 always
   127 label *label31
 
   129 set :drawMaterials:count .materialCount
   130 print "Materials"
   131 draw print 22 105 @bottomLeft
-    * label *label67
-    * label *label66
   132 print "Materials"
   133 draw print 23 105 @bottomLeft
-    * label *label69
-    * label *label68
-    * label *label65
   134 jump *label70 equal .materialCount false
   135 set :drawMaterials:target.1 .targetCopper
-    * label *label203
   136 jump *label214 lessThanEq :drawMaterials:target.1 0
   137 sensor *tmp90 .core @copper
   138 op mul *tmp95 122 *tmp90
 
   146 draw lineRect 22 90 122 10
   147 print :drawMaterials:target.1
   148 draw print 170 97 @right
-    * label *label204
-    * label *label205
   149 print :drawMaterials:target.1
   150 draw print 171 97 @right
-    * label *label206
-    * label *label207
-    * label *label208
-    * label *label209
-    * label *label210
-    * label *label211
   151 set :drawMaterials:y 75
   152 op sub :drawMaterials:count .materialCount 1
   153 jump *label212 greaterThan :drawMaterials:count 0
   154 jump *label74 always
   155 label *label212
-    * label *label213
   156 label *label214
-    * label *label215
-    * label *label216
   157 set :drawMaterials:target.1 .targetLead
-    * label *label219
   158 jump *label230 lessThanEq :drawMaterials:target.1 0
   159 sensor *tmp90 .core @lead
   160 op mul *tmp95 122 *tmp90
 
   170 op add *tmp109 :drawMaterials:y 7
   171 print :drawMaterials:target.1
   172 draw print 170 *tmp109 @right
-    * label *label220
-    * label *label221
   173 print :drawMaterials:target.1
   174 draw print 171 *tmp109 @right
-    * label *label222
-    * label *label223
-    * label *label224
   175 op sub :drawItem.2:y :drawMaterials:y 15
-    * label *label225
-    * label *label226
-    * label *label227
   176 set :drawMaterials:y :drawItem.2:y
   177 op sub :drawMaterials:count :drawMaterials:count 1
   178 jump *label228 greaterThan :drawMaterials:count 0
   179 jump *label74 always
   180 label *label228
-    * label *label229
   181 label *label230
-    * label *label231
-    * label *label232
   182 set :drawMaterials:target.1 .targetGraphite
-    * label *label235
   183 jump *label246 lessThanEq :drawMaterials:target.1 0
   184 sensor *tmp90 .core @graphite
   185 op mul *tmp95 122 *tmp90
 
   195 op add *tmp109 :drawMaterials:y 7
   196 print :drawMaterials:target.1
   197 draw print 170 *tmp109 @right
-    * label *label236
-    * label *label237
   198 print :drawMaterials:target.1
   199 draw print 171 *tmp109 @right
-    * label *label238
-    * label *label239
-    * label *label240
   200 op sub :drawItem.2:y :drawMaterials:y 15
-    * label *label241
-    * label *label242
-    * label *label243
   201 set :drawMaterials:y :drawItem.2:y
   202 op sub :drawMaterials:count :drawMaterials:count 1
   203 jump *label244 greaterThan :drawMaterials:count 0
   204 jump *label74 always
   205 label *label244
-    * label *label245
   206 label *label246
-    * label *label247
-    * label *label248
   207 set :drawMaterials:target.1 .targetSilicon
-    * label *label251
   208 jump *label262 lessThanEq :drawMaterials:target.1 0
   209 sensor *tmp90 .core @silicon
   210 op mul *tmp95 122 *tmp90
 
   220 op add *tmp109 :drawMaterials:y 7
   221 print :drawMaterials:target.1
   222 draw print 170 *tmp109 @right
-    * label *label252
-    * label *label253
   223 print :drawMaterials:target.1
   224 draw print 171 *tmp109 @right
-    * label *label254
-    * label *label255
-    * label *label256
   225 op sub :drawItem.2:y :drawMaterials:y 15
-    * label *label257
-    * label *label258
-    * label *label259
   226 set :drawMaterials:y :drawItem.2:y
   227 op sub :drawMaterials:count :drawMaterials:count 1
   228 jump *label260 greaterThan :drawMaterials:count 0
   229 jump *label74 always
   230 label *label260
-    * label *label261
   231 label *label262
-    * label *label263
-    * label *label264
   232 set :drawMaterials:target.1 .targetTitanium
-    * label *label267
   233 jump *label278 lessThanEq :drawMaterials:target.1 0
   234 sensor *tmp90 .core @titanium
   235 op mul *tmp95 122 *tmp90
 
   245 op add *tmp109 :drawMaterials:y 7
   246 print :drawMaterials:target.1
   247 draw print 170 *tmp109 @right
-    * label *label268
-    * label *label269
   248 print :drawMaterials:target.1
   249 draw print 171 *tmp109 @right
-    * label *label270
-    * label *label271
-    * label *label272
   250 op sub :drawItem.2:y :drawMaterials:y 15
-    * label *label273
-    * label *label274
-    * label *label275
   251 set :drawMaterials:y :drawItem.2:y
   252 op sub :drawMaterials:count :drawMaterials:count 1
   253 jump *label276 greaterThan :drawMaterials:count 0
   254 jump *label74 always
   255 label *label276
-    * label *label277
   256 label *label278
-    * label *label279
-    * label *label280
   257 set :drawMaterials:target.1 .targetMetaglass
-    * label *label283
   258 jump *label294 lessThanEq :drawMaterials:target.1 0
   259 sensor *tmp90 .core @metaglass
   260 op mul *tmp95 122 *tmp90
 
   270 op add *tmp109 :drawMaterials:y 7
   271 print :drawMaterials:target.1
   272 draw print 170 *tmp109 @right
-    * label *label284
-    * label *label285
   273 print :drawMaterials:target.1
   274 draw print 171 *tmp109 @right
-    * label *label286
-    * label *label287
-    * label *label288
-    * label *label289
-    * label *label290
-    * label *label291
-    * label *label292
-    * label *label293
   275 label *label294
-    * label *label295
-    * label *label296
   276 label *label74
   277 label *label70
-    * label *label71
   278 label *label32
-    * label *label30
   279 draw col %[white]
   280 set *tmp116 25
   281 jump *label95 greaterThanEq .materialCount 4
 
   283 label *label95
   284 print "Builder"
   285 draw print 22 *tmp116 @bottomLeft
-    * label *label98
-    * label *label97
   286 print "Builder"
   287 draw print 23 *tmp116 @bottomLeft
-    * label *label100
-    * label *label99
-    * label *label96
   288 jump *label101 notEqual .transportItem null
   289 op sub *tmp120 *tmp116 15
   290 draw col %[white]
 
   297 op sub *tmp139 *tmp116 8
   298 print .transportTarget
   299 draw print 170 *tmp139 @right
-    * label *label107
-    * label *label106
   300 print .transportTarget
   301 draw print 171 *tmp139 @right
-    * label *label109
-    * label *label108
-    * label *label105
-    * label *label110
-    * label *label111
-    * label *label104
-    * label *label103
   302 jump *label102 always
   303 label *label101
   304 sensor :drawUnit:unitItem @unit @firstItem
 
   321 op sub *tmp168 *tmp116 8
   322 print .transportTarget
   323 draw print 170 *tmp168 @right
-    * label *label116
-    * label *label115
   324 print .transportTarget
   325 draw print 171 *tmp168 @right
-    * label *label118
-    * label *label117
-    * label *label114
-    * label *label119
-    * label *label120
-    * label *label113
-    * label *label112
   326 label *label102
-    * label *label93
   327 set :drawUnits:x 170
   328 draw col %[white]
   329 set :drawUnitCount:count .polys
 
   332 print "x"
   333 print :drawUnitCount:count
   334 draw print 170 129 @right
-    * label *label126
-    * label *label125
   335 op sub :drawUnits:x 170 30
   336 label *label123
-    * label *label124
-    * label *label122
   337 set :drawUnitCount.1:count .monos
   338 jump *label128 lessThanEq :drawUnitCount.1:count 0
   339 op sub *tmp179 :drawUnits:x 20
 
   341 print "x"
   342 print :drawUnitCount.1:count
   343 draw print :drawUnits:x 129 @right
-    * label *label131
-    * label *label130
   344 op sub :drawUnits:x :drawUnits:x 30
   345 label *label128
-    * label *label129
-    * label *label127
   346 set :drawUnitCount.2:count .flares
   347 jump *label133 lessThanEq :drawUnitCount.2:count 0
   348 op sub *tmp182 :drawUnits:x 20
 
   350 print "x"
   351 print :drawUnitCount.2:count
   352 draw print :drawUnits:x 129 @right
-    * label *label136
-    * label *label135
   353 label *label133
-    * label *label134
-    * label *label132
-    * label *label121
   354 drawflush display1
-    * label *label13
   355 jump *label10 always
   356 label *label11
   357 jump *label137 notEqual .page 1
-    * label *label138
   358 set :displayLog:x 11
   359 set :displayLog:y 163
   360 draw reset
 
   367 jump *label143 notEqual :displayLog:record false
   368 jump *label142 always
   369 label *label143
-    * label *label144
   370 op mod :displayRecord:id :displayLog:record 1000
   371 lookup block *tmp191 :displayRecord:id
   372 jump *label147 lessThanEq :displayRecord:id @blockCount
 
   375 label *label147
   376 draw image :displayLog:x :displayLog:y *tmp191 14 0
   377 op idiv :displayRecord:t :displayLog:record 1000
-    * label *label148
-    * label *label149
   378 op idiv :displayRecord:m :displayRecord:t 60
   379 op mod :displayRecord:s :displayRecord:t 60
   380 set *tmp202 ""
 
   388 op add *tmp205 :displayLog:y 2
   389 print :displayRecord:s
   390 draw print *tmp204 *tmp205 @right
-    * label *label153
-    * label *label152
   391 op sub :displayLog:y :displayLog:y 15
   392 jump *label154 greaterThanEq :displayLog:y 10
   393 op add :displayLog:x :displayLog:x 58
   394 set :displayLog:y 164
   395 label *label154
-    * label *label155
-    * label *label145
-    * label *label141
   396 jump *label140 always
   397 label *label142
   398 drawflush display1
-    * label *label139
   399 jump *label10 always
   400 label *label137
   401 jump *label156 notEqual .page 2
-    * label *label157
   402 draw reset
   403 draw clear 0 0 32
   404 draw col %[white]
   405 op add .frame .frame 1
   406 print .frame
   407 draw print 4 172 @topLeft
-    * label *label160
-    * label *label159
   408 op div *tmp208 176 @mapw
   409 op div *tmp209 176 @maph
   410 draw scale *tmp208 *tmp209
 
   419 draw lineRect :displayOreMap:minX :displayOreMap:minY *tmp220 *tmp221
   420 draw col %[red]
   421 set :displayOreMap:index 4
-    * label *label161
   422 label *label173
   423 read :displayOreMap:pos bank1 :displayOreMap:index
   424 jump *label164 notEqual :displayOreMap:pos 0
   425 jump *label163 always
   426 label *label164
-    * label *label165
   427 op mod :displayOreMap:x :displayOreMap:pos @mapw
   428 op idiv :displayOreMap:y :displayOreMap:pos @mapw
   429 draw rect :displayOreMap:x :displayOreMap:y :displayOreMap:width :displayOreMap:width
   430 op add :displayOreMap:index :displayOreMap:index 1
-    * label *label162
   431 jump *label173 lessThan :displayOreMap:index 256
   432 label *label163
   433 draw col %[gold]
 
   438 draw col %[white]
   439 print :displayOreMap:index
   440 draw print 175 172 @topRight
-    * label *label167
-    * label *label166
   441 drawflush display1
-    * label *label158
   442 label *label156
   443 label *label10
   444 print "[gold]Building "
 
   458 print .status3
   459 print "\n"
   460 printflush message1
-    * label *label168
   461 sensor *tmp232 switch1 @enabled
   462 jump *label169 equal *tmp232 false
   463 jump *label171 lessThanEq @second :main:nextSwitch
 
   465 op mod .page *tmp236 3
   466 op add :main:nextSwitch @second 3
   467 label *label171
-    * label *label172
   468 jump *label170 always
   469 label *label169
   470 op sub :main:nextSwitch @second 1
   471 label *label170
-    * label *label8
   472 jump *label7 always
-    * label *label9
-    * label *label3
-    * label *label2
   473 wait 1e12
   474 jump *label1 always
   475 end

Modifications by Jumps phase, Jump Straightening, pass 4, iteration 1 (-7 instructions):
 
   150 draw print 171 97 @right
   151 set :drawMaterials:y 75
   152 op sub :drawMaterials:count .materialCount 1
-    * jump *label212 greaterThan :drawMaterials:count 0
-    * jump *label74 always
+  153 jump *label74 lessThanEq :drawMaterials:count 0
   154 label *label212
   155 label *label214
   156 set :drawMaterials:target.1 .targetLead
 
   174 op sub :drawItem.2:y :drawMaterials:y 15
   175 set :drawMaterials:y :drawItem.2:y
   176 op sub :drawMaterials:count :drawMaterials:count 1
-    * jump *label228 greaterThan :drawMaterials:count 0
-    * jump *label74 always
+  177 jump *label74 lessThanEq :drawMaterials:count 0
   178 label *label228
   179 label *label230
   180 set :drawMaterials:target.1 .targetGraphite
 
   198 op sub :drawItem.2:y :drawMaterials:y 15
   199 set :drawMaterials:y :drawItem.2:y
   200 op sub :drawMaterials:count :drawMaterials:count 1
-    * jump *label244 greaterThan :drawMaterials:count 0
-    * jump *label74 always
+  201 jump *label74 lessThanEq :drawMaterials:count 0
   202 label *label244
   203 label *label246
   204 set :drawMaterials:target.1 .targetSilicon
 
   222 op sub :drawItem.2:y :drawMaterials:y 15
   223 set :drawMaterials:y :drawItem.2:y
   224 op sub :drawMaterials:count :drawMaterials:count 1
-    * jump *label260 greaterThan :drawMaterials:count 0
-    * jump *label74 always
+  225 jump *label74 lessThanEq :drawMaterials:count 0
   226 label *label260
   227 label *label262
   228 set :drawMaterials:target.1 .targetTitanium
 
   246 op sub :drawItem.2:y :drawMaterials:y 15
   247 set :drawMaterials:y :drawItem.2:y
   248 op sub :drawMaterials:count :drawMaterials:count 1
-    * jump *label276 greaterThan :drawMaterials:count 0
-    * jump *label74 always
+  249 jump *label74 lessThanEq :drawMaterials:count 0
   250 label *label276
   251 label *label278
   252 set :drawMaterials:target.1 .targetMetaglass
 
   359 label *label140
   360 op sub :displayLog:position :displayLog:position 1
   361 read :displayLog:record bank1 :displayLog:position
-    * jump *label143 notEqual :displayLog:record false
-    * jump *label142 always
+  362 jump *label142 equal :displayLog:record false
   363 label *label143
   364 op mod :displayRecord:id :displayLog:record 1000
   365 lookup block *tmp191 :displayRecord:id
 
   415 set :displayOreMap:index 4
   416 label *label173
   417 read :displayOreMap:pos bank1 :displayOreMap:index
-    * jump *label164 notEqual :displayOreMap:pos 0
-    * jump *label163 always
+  418 jump *label163 equal :displayOreMap:pos 0
   419 label *label164
   420 op mod :displayOreMap:x :displayOreMap:pos @mapw
   421 op idiv :displayOreMap:y :displayOreMap:pos @mapw

Modifications by Jumps phase, Jump Optimization, pass 4, iteration 1:
 
   151 set :drawMaterials:y 75
   152 op sub :drawMaterials:count .materialCount 1
   153 jump *label74 lessThanEq :drawMaterials:count 0
-    * label *label212
   154 label *label214
   155 set :drawMaterials:target.1 .targetLead
   156 jump *label230 lessThanEq :drawMaterials:target.1 0
 
   174 set :drawMaterials:y :drawItem.2:y
   175 op sub :drawMaterials:count :drawMaterials:count 1
   176 jump *label74 lessThanEq :drawMaterials:count 0
-    * label *label228
   177 label *label230
   178 set :drawMaterials:target.1 .targetGraphite
   179 jump *label246 lessThanEq :drawMaterials:target.1 0
 
   197 set :drawMaterials:y :drawItem.2:y
   198 op sub :drawMaterials:count :drawMaterials:count 1
   199 jump *label74 lessThanEq :drawMaterials:count 0
-    * label *label244
   200 label *label246
   201 set :drawMaterials:target.1 .targetSilicon
   202 jump *label262 lessThanEq :drawMaterials:target.1 0
 
   220 set :drawMaterials:y :drawItem.2:y
   221 op sub :drawMaterials:count :drawMaterials:count 1
   222 jump *label74 lessThanEq :drawMaterials:count 0
-    * label *label260
   223 label *label262
   224 set :drawMaterials:target.1 .targetTitanium
   225 jump *label278 lessThanEq :drawMaterials:target.1 0
 
   243 set :drawMaterials:y :drawItem.2:y
   244 op sub :drawMaterials:count :drawMaterials:count 1
   245 jump *label74 lessThanEq :drawMaterials:count 0
-    * label *label276
   246 label *label278
   247 set :drawMaterials:target.1 .targetMetaglass
   248 jump *label294 lessThanEq :drawMaterials:target.1 0
 
   355 op sub :displayLog:position :displayLog:position 1
   356 read :displayLog:record bank1 :displayLog:position
   357 jump *label142 equal :displayLog:record false
-    * label *label143
   358 op mod :displayRecord:id :displayLog:record 1000
   359 lookup block *tmp191 :displayRecord:id
   360 jump *label147 lessThanEq :displayRecord:id @blockCount
 
   410 label *label173
   411 read :displayOreMap:pos bank1 :displayOreMap:index
   412 jump *label163 equal :displayOreMap:pos 0
-    * label *label164
   413 op mod :displayOreMap:x :displayOreMap:pos @mapw
   414 op idiv :displayOreMap:y :displayOreMap:pos @mapw
   415 draw rect :displayOreMap:x :displayOreMap:y :displayOreMap:width :displayOreMap:width

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
 
    85 print :drawMaterials:unitCount
    86 print "/8"
    87 draw print 171 97 @right
-    * jump *label41 always
+   88 jump *label32 always
    89 label *label40
    90 jump *label183 lessThanEq :drawMaterials:targetFactoryLead 0
    91 sensor *tmp61 .factory @lead
 
   104 draw print 171 97 @right
   105 set :drawMaterials:y 75
   106 label *label183
-    * jump *label197 lessThanEq :drawMaterials:targetFactorySilicon 0
+  107 jump *label32 lessThanEq :drawMaterials:targetFactorySilicon 0
   108 sensor *tmp61 .factory @silicon
   109 op mul *tmp66 122 *tmp61
   110 op div *tmp67 *tmp66 :drawMaterials:targetFactorySilicon
 
   377 print :displayRecord:s
   378 draw print *tmp204 *tmp205 @right
   379 op sub :displayLog:y :displayLog:y 15
-    * jump *label154 greaterThanEq :displayLog:y 10
+  380 jump *label140 greaterThanEq :displayLog:y 10
   381 op add :displayLog:x :displayLog:x 58
   382 set :displayLog:y 164
   383 label *label154
 
   446 printflush message1
   447 sensor *tmp232 switch1 @enabled
   448 jump *label169 equal *tmp232 false
-    * jump *label171 lessThanEq @second :main:nextSwitch
+  449 jump *label7 lessThanEq @second :main:nextSwitch
   450 op add *tmp236 .page 1
   451 op mod .page *tmp236 3
   452 op add :main:nextSwitch @second 3
   453 label *label171
-    * jump *label170 always
+  454 jump *label7 always
   455 label *label169
   456 op sub :main:nextSwitch @second 1
   457 label *label170

Modifications by Jumps phase, Unreachable Code Elimination, pass 4, iteration 1 (-3 instructions):
 
   121 draw print 170 *tmp80 @right
   122 print :drawMaterials:targetFactorySilicon
   123 draw print 171 *tmp80 @right
-    * label *label197
-    * label *label41
   124 jump *label32 always
   125 label *label31
   126 set .materialCount .totalTargets
 
   378 jump *label140 greaterThanEq :displayLog:y 10
   379 op add :displayLog:x :displayLog:x 58
   380 set :displayLog:y 164
-    * label *label154
   381 jump *label140 always
   382 label *label142
   383 drawflush display1
 
   447 op add *tmp236 .page 1
   448 op mod .page *tmp236 3
   449 op add :main:nextSwitch @second 3
-    * label *label171
   450 jump *label7 always
   451 label *label169
   452 op sub :main:nextSwitch @second 1
-    * label *label170
   453 jump *label7 always
-    * wait 1e12
-    * jump *label1 always
-    * end

Modifications by Jumps phase, Dead Code Elimination, pass 4, iteration 1:
 
     1 set .page 0
     2 set .frame 0
     3 set *signature "0:v1"
-    * label *label1
     4 label *label4
     5 ubind @poly
     6 ulocate building core false @copper 0 0 0 .core

Modifications by Final phase, Print Merging, iteration 1 (-10 instructions):
 
    33 set *tmp18 "0"
    34 label *label23
    35 print :drawHeader:m
-    * print ":"
-    * print *tmp18
-    * print :drawHeader:s
-    * print ""
+   36 print ":{0}{0}"
+   37 format *tmp18
+   38 format :drawHeader:s
    39 draw print 170 172 @topRight
    40 sensor :drawHeader:count .titaniumDrill @titanium
    41 jump *label26 equal :drawHeader:count false
 
   422 drawflush display1
   423 label *label156
   424 label *label10
-    * print "[gold]Building "
-    * print .nextBlock
-    * print "\n"
-    * print "==================================[]"
-    * print "\n"
-    * print .status1
-    * print "\n"
-    * print .status2
-    * print .item2
-    * print " "
-    * print "("
-    * print .block2
-    * print ")"
-    * print "\n"
-    * print .status3
-    * print "\n"
+  425 print "[gold]Building {0}\n==================================[]\n{0}\n{0}{0} ({0})\n{0}\n"
+  426 format .nextBlock
+  427 format .status1
+  428 format .status2
+  429 format .item2
+  430 format .block2
+  431 format .status3
   432 printflush message1
   433 sensor *tmp232 switch1 @enabled
   434 jump *label169 equal *tmp232 false

Final code before resolving virtual instructions:

    0:  jump *label300 always 0 0
    1:  draw triangle bank1 display1 message1 processor1 switch1 .block2
    2:  draw triangle .core .factory .flares .frame .item2 .materialCount
    3:  draw triangle .monos .nextBlock .page .polys .status1 .status2
    4:  draw triangle .status3 .targetCopper .targetGraphite .targetLead .targetMetaglass .targetSilicon
    5:  draw triangle .targetTitanium .titaniumDrill .totalTargets .transportItem .transportTarget :displayLog:position
    6:  draw triangle :displayLog:record :displayLog:x :displayLog:y :displayOreMap:index :displayOreMap:maxX :displayOreMap:maxY
    7:  draw triangle :displayOreMap:minX :displayOreMap:minY :displayOreMap:pos :displayOreMap:width :displayOreMap:x :displayOreMap:y
    8:  draw triangle :displayRecord:id :displayRecord:m :displayRecord:s :displayRecord:t :drawHeader:count :drawHeader:m
    9:  draw triangle :drawHeader:s :drawHeader:t :drawItem:length :drawItem.2:length :drawItem.4:length :drawItem.1:length
   10:  draw triangle :drawItem.4:target :drawItem.2:y :drawMaterials:count :drawMaterials:target.1 :drawMaterials:targetFactoryLead :drawMaterials:targetFactorySilicon
   11:  draw triangle :drawMaterials:unit :drawMaterials:unitCount :drawMaterials:y :drawUnit.2:item :drawUnit:unitItem :drawUnitCount:count
   12:  draw triangle :drawUnitCount.1:count :drawUnitCount.2:count :drawUnits:x :main:nextSwitch 0 0
        label *label300
   13:  set .core null                                               var
   14:  set .page 0                                                  ...
   15:  set .frame 0                                                 var frame = 0;
   16:  set *signature "0:v1"                                        #set target = 8;
        label *label4                                                do
   17:  ubind @poly                                                  ubind(@poly);
   18:  ulocate building core false @copper 0 0 0 .core              core = ulocate(:building, :core, false);
   19:  jump *label4 equal .core null                                do
   20:  printflush null                                              printflush(null);
   21:  drawflush null                                               drawflush(null);
   22:  op add :main:nextSwitch @second 3                            var nextSwitch = @second + 3;
        label *label7                                                while true do
   23:  jump *label11 notEqual .page 0                               case page
   24:  draw reset 0 0 0 0 0 0                                       reset();
   25:  draw clear 0 0 32 0 0 0                                      clear(0, 0, 32);
   26:  draw col %[gold] 0 0 0 0 0                                   col(%[gold]);
   27:  print "Building"                                             print(text);
   28:  draw print 40 161 @bottom                                    mlogText("draw", "print", in x, in y, in alignment);
   29:  print "Building"                                             print(text);
   30:  draw print 41 161 @bottom                                    mlogText("draw", "print", in x, in y, in alignment);
   31:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
   32:  jump *label20 notEqual .nextBlock null                       image(HEADER_X, HEADER1_Y - 24, nextBlock == null ? factory.@config : nextBlock, 32, 0);
   33:  sensor *tmp12 .factory @config                               ...
   34:  jump *label21 always 0 0                                     ...
        label *label20                                               ...
   35:  set *tmp12 .nextBlock                                        ...
        label *label21                                               ...
   36:  draw image 40 137 *tmp12 32 0 0                              ...
   37:  op floor :drawHeader:t @second 0                             var t = floor(@second);
   38:  op idiv :drawHeader:m :drawHeader:t 60                       var m = t \ 60;
   39:  op mod :drawHeader:s :drawHeader:t 60                        var s = t % 60;
   40:  set *tmp18 ""                                                print(m, ":", s < 10 ? "0" : "", s);
   41:  jump *label23 greaterThanEq :drawHeader:s 10                 ...
   42:  set *tmp18 "0"                                               ...
        label *label23                                               ...
   43:  print :drawHeader:m                                          ...
   44:  print ":{0}{0}"                                              ...
   45:  format *tmp18                                                ...
   46:  format :drawHeader:s                                         ...
   47:  draw print 170 172 @topRight                                 mlogText("draw", "print", in x, in y, in alignment);
   48:  sensor :drawHeader:count .titaniumDrill @titanium            var count = titaniumDrill.@titanium;
   49:  jump *label26 equal :drawHeader:count false                  if count then
   50:  print "x"                                                    print(text);
   51:  print :drawHeader:count                                      ...
   52:  draw print 170 155 @topRight                                 mlogText("draw", "print", in x, in y, in alignment);
   53:  op idiv *tmp21 :drawHeader:count 10                          image(150 - 7 * (count \ 10), 146, @titanium, 12, 0);
   54:  op mul *tmp22 7 *tmp21                                       ...
   55:  op sub *tmp23 150 *tmp22                                     ...
   56:  draw image *tmp23 146 @titanium 12 0 0                       ...
        label *label26                                               if count then
   57:  set :drawMaterials:y 90                                      var col = 0, y = HEADER2_Y - ROW_HEIGHT;
   58:  jump *label31 notEqual .nextBlock null                       if nextBlock == null then
   59:  sensor :drawMaterials:unit .factory @config                  var unit = factory.@config;
   60:  jump *label33 notEqual :drawMaterials:unit @mono             if unit == @mono then
   61:  set :drawMaterials:targetFactoryLead 15                      targetFactoryLead = 15;
   62:  set :drawMaterials:targetFactorySilicon 30                   targetFactorySilicon = 30;
   63:  set .materialCount 2                                         materialCount = 2;
   64:  op add :drawMaterials:unitCount .monos 1                     unitCount = monos + 1;
   65:  jump *label34 always 0 0                                     if unit == @mono then
        label *label33                                               ...
   66:  set :drawMaterials:targetFactoryLead 0                       targetFactoryLead = 0;
   67:  set :drawMaterials:targetFactorySilicon 15                   targetFactorySilicon = 15;
   68:  set .materialCount 1                                         materialCount = 1;
   69:  op add :drawMaterials:unitCount .flares 1                    unitCount = flares + 1;
        label *label34                                               if unit == @mono then
   70:  print "Air Factory"                                          print(text);
   71:  draw print 22 105 @bottomLeft                                mlogText("draw", "print", in x, in y, in alignment);
   72:  print "Air Factory"                                          print(text);
   73:  draw print 23 105 @bottomLeft                                mlogText("draw", "print", in x, in y, in alignment);
   74:  sensor *tmp32 .factory @progress                             if factory.@progress > 0 then
   75:  jump *label40 lessThanEq *tmp32 0                            ...
   76:  sensor *tmp35 .factory @progress                             drawItem(in 0, in HEADER2_Y - ROW_HEIGHT, 1, unit, factory.@progress, 1.0, unitCount, "/8");
   77:  op mul *tmp40 122 *tmp35                                     var length = min(barLength, barLength * current / target);
   78:  op min :drawItem:length 122 *tmp40                           ...
   79:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
   80:  draw image 11 95 :drawMaterials:unit 16 0 0                  image(iconX, y + ICON_Y, item, 16, 0);
   81:  draw color 0 128 0 255 0 0                                   color(0,128,0,255);
   82:  draw rect 22 90 :drawItem:length 10 0 0                      rect(barX, y, length, BAR_HEIGHT);
   83:  draw color 0 255 0 255 0 0                                   color(0,255,0,255);
   84:  draw lineRect 22 90 122 10 0 0                               lineRect(barX, y, barLength, BAR_HEIGHT);
   85:  print :drawMaterials:unitCount                               print(text);
   86:  print "/8"                                                   ...
   87:  draw print 170 97 @right                                     mlogText("draw", "print", in x, in y, in alignment);
   88:  print :drawMaterials:unitCount                               print(text);
   89:  print "/8"                                                   ...
   90:  draw print 171 97 @right                                     mlogText("draw", "print", in x, in y, in alignment);
   91:  jump *label32 always 0 0                                     if factory.@progress > 0 then
        label *label40                                               ...
   92:  jump *label183 lessThanEq :drawMaterials:targetFactoryLead 0 if target > 0 then
   93:  sensor *tmp61 .factory @lead                                 drawItem(in out col, in out y, 1, item, factory.sensor(item), target, target);
   94:  op mul *tmp66 122 *tmp61                                     var length = min(barLength, barLength * current / target);
   95:  op div *tmp67 *tmp66 :drawMaterials:targetFactoryLead        ...
   96:  op min :drawItem.1:length 122 *tmp67                         ...
   97:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
   98:  draw image 11 95 @lead 16 0 0                                image(iconX, y + ICON_Y, item, 16, 0);
   99:  draw color 0 128 0 255 0 0                                   color(0,128,0,255);
  100:  draw rect 22 90 :drawItem.1:length 10 0 0                    rect(barX, y, length, BAR_HEIGHT);
  101:  draw color 0 255 0 255 0 0                                   color(0,255,0,255);
  102:  draw lineRect 22 90 122 10 0 0                               lineRect(barX, y, barLength, BAR_HEIGHT);
  103:  print :drawMaterials:targetFactoryLead                       print(text);
  104:  draw print 170 97 @right                                     mlogText("draw", "print", in x, in y, in alignment);
  105:  print :drawMaterials:targetFactoryLead                       print(text);
  106:  draw print 171 97 @right                                     mlogText("draw", "print", in x, in y, in alignment);
  107:  set :drawMaterials:y 75                                      drawItem(in out col, in out y, 1, item, factory.sensor(item), target, target);
        label *label183                                              if target > 0 then
  108:  jump *label32 lessThanEq :drawMaterials:targetFactorySilicon ...
  109:  sensor *tmp61 .factory @silicon                              drawItem(in out col, in out y, 1, item, factory.sensor(item), target, target);
  110:  op mul *tmp66 122 *tmp61                                     var length = min(barLength, barLength * current / target);
  111:  op div *tmp67 *tmp66 :drawMaterials:targetFactorySilicon     ...
  112:  op min :drawItem.1:length 122 *tmp67                         ...
  113:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
  114:  op add *tmp78 :drawMaterials:y 5                             image(iconX, y + ICON_Y, item, 16, 0);
  115:  draw image 11 *tmp78 @silicon 16 0 0                         ...
  116:  draw color 0 128 0 255 0 0                                   color(0,128,0,255);
  117:  draw rect 22 :drawMaterials:y :drawItem.1:length 10 0 0      rect(barX, y, length, BAR_HEIGHT);
  118:  draw color 0 255 0 255 0 0                                   color(0,255,0,255);
  119:  draw lineRect 22 :drawMaterials:y 122 10 0 0                 lineRect(barX, y, barLength, BAR_HEIGHT);
  120:  op add *tmp80 :drawMaterials:y 7                             drawBold(textX, y + ICON_Y + 2, @right, text);
  121:  print :drawMaterials:targetFactorySilicon                    print(text);
  122:  draw print 170 *tmp80 @right                                 mlogText("draw", "print", in x, in y, in alignment);
  123:  print :drawMaterials:targetFactorySilicon                    print(text);
  124:  draw print 171 *tmp80 @right                                 mlogText("draw", "print", in x, in y, in alignment);
  125:  jump *label32 always 0 0                                     if nextBlock == null then
        label *label31                                               ...
  126:  set .materialCount .totalTargets                             count = materialCount = totalTargets;
  127:  set :drawMaterials:count .materialCount                      ...
  128:  print "Materials"                                            print(text);
  129:  draw print 22 105 @bottomLeft                                mlogText("draw", "print", in x, in y, in alignment);
  130:  print "Materials"                                            print(text);
  131:  draw print 23 105 @bottomLeft                                mlogText("draw", "print", in x, in y, in alignment);
  132:  jump *label70 equal .materialCount false                     if count then
  133:  set :drawMaterials:target.1 .targetCopper                    for var item, target in
  134:  jump *label214 lessThanEq :drawMaterials:target.1 0          if target > 0 then
  135:  sensor *tmp90 .core @copper                                  drawItem(in out col, in out y, columns, item, core.sensor(item), target, target);
  136:  op mul *tmp95 122 *tmp90                                     var length = min(barLength, barLength * current / target);
  137:  op div *tmp96 *tmp95 :drawMaterials:target.1                 ...
  138:  op min :drawItem.2:length 122 *tmp96                         ...
  139:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
  140:  draw image 11 95 @copper 16 0 0                              image(iconX, y + ICON_Y, item, 16, 0);
  141:  draw color 0 128 0 255 0 0                                   color(0,128,0,255);
  142:  draw rect 22 90 :drawItem.2:length 10 0 0                    rect(barX, y, length, BAR_HEIGHT);
  143:  draw color 0 255 0 255 0 0                                   color(0,255,0,255);
  144:  draw lineRect 22 90 122 10 0 0                               lineRect(barX, y, barLength, BAR_HEIGHT);
  145:  print :drawMaterials:target.1                                print(text);
  146:  draw print 170 97 @right                                     mlogText("draw", "print", in x, in y, in alignment);
  147:  print :drawMaterials:target.1                                print(text);
  148:  draw print 171 97 @right                                     mlogText("draw", "print", in x, in y, in alignment);
  149:  set :drawMaterials:y 75                                      drawItem(in out col, in out y, columns, item, core.sensor(item), target, target);
  150:  op sub :drawMaterials:count .materialCount 1                 if --count <= 0 then break; end;
  151:  jump *label74 lessThanEq :drawMaterials:count 0              ...
        label *label214                                              if target > 0 then
  152:  set :drawMaterials:target.1 .targetLead                      for var item, target in
  153:  jump *label230 lessThanEq :drawMaterials:target.1 0          if target > 0 then
  154:  sensor *tmp90 .core @lead                                    drawItem(in out col, in out y, columns, item, core.sensor(item), target, target);
  155:  op mul *tmp95 122 *tmp90                                     var length = min(barLength, barLength * current / target);
  156:  op div *tmp96 *tmp95 :drawMaterials:target.1                 ...
  157:  op min :drawItem.2:length 122 *tmp96                         ...
  158:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
  159:  op add *tmp107 :drawMaterials:y 5                            image(iconX, y + ICON_Y, item, 16, 0);
  160:  draw image 11 *tmp107 @lead 16 0 0                           ...
  161:  draw color 0 128 0 255 0 0                                   color(0,128,0,255);
  162:  draw rect 22 :drawMaterials:y :drawItem.2:length 10 0 0      rect(barX, y, length, BAR_HEIGHT);
  163:  draw color 0 255 0 255 0 0                                   color(0,255,0,255);
  164:  draw lineRect 22 :drawMaterials:y 122 10 0 0                 lineRect(barX, y, barLength, BAR_HEIGHT);
  165:  op add *tmp109 :drawMaterials:y 7                            drawBold(textX, y + ICON_Y + 2, @right, text);
  166:  print :drawMaterials:target.1                                print(text);
  167:  draw print 170 *tmp109 @right                                mlogText("draw", "print", in x, in y, in alignment);
  168:  print :drawMaterials:target.1                                print(text);
  169:  draw print 171 *tmp109 @right                                mlogText("draw", "print", in x, in y, in alignment);
  170:  op sub :drawItem.2:y :drawMaterials:y 15                     y -= ROW_HEIGHT;
  171:  set :drawMaterials:y :drawItem.2:y                           drawItem(in out col, in out y, columns, item, core.sensor(item), target, target);
  172:  op sub :drawMaterials:count :drawMaterials:count 1           if --count <= 0 then break; end;
  173:  jump *label74 lessThanEq :drawMaterials:count 0              ...
        label *label230                                              if target > 0 then
  174:  set :drawMaterials:target.1 .targetGraphite                  for var item, target in
  175:  jump *label246 lessThanEq :drawMaterials:target.1 0          if target > 0 then
  176:  sensor *tmp90 .core @graphite                                drawItem(in out col, in out y, columns, item, core.sensor(item), target, target);
  177:  op mul *tmp95 122 *tmp90                                     var length = min(barLength, barLength * current / target);
  178:  op div *tmp96 *tmp95 :drawMaterials:target.1                 ...
  179:  op min :drawItem.2:length 122 *tmp96                         ...
  180:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
  181:  op add *tmp107 :drawMaterials:y 5                            image(iconX, y + ICON_Y, item, 16, 0);
  182:  draw image 11 *tmp107 @graphite 16 0 0                       ...
  183:  draw color 0 128 0 255 0 0                                   color(0,128,0,255);
  184:  draw rect 22 :drawMaterials:y :drawItem.2:length 10 0 0      rect(barX, y, length, BAR_HEIGHT);
  185:  draw color 0 255 0 255 0 0                                   color(0,255,0,255);
  186:  draw lineRect 22 :drawMaterials:y 122 10 0 0                 lineRect(barX, y, barLength, BAR_HEIGHT);
  187:  op add *tmp109 :drawMaterials:y 7                            drawBold(textX, y + ICON_Y + 2, @right, text);
  188:  print :drawMaterials:target.1                                print(text);
  189:  draw print 170 *tmp109 @right                                mlogText("draw", "print", in x, in y, in alignment);
  190:  print :drawMaterials:target.1                                print(text);
  191:  draw print 171 *tmp109 @right                                mlogText("draw", "print", in x, in y, in alignment);
  192:  op sub :drawItem.2:y :drawMaterials:y 15                     y -= ROW_HEIGHT;
  193:  set :drawMaterials:y :drawItem.2:y                           drawItem(in out col, in out y, columns, item, core.sensor(item), target, target);
  194:  op sub :drawMaterials:count :drawMaterials:count 1           if --count <= 0 then break; end;
  195:  jump *label74 lessThanEq :drawMaterials:count 0              ...
        label *label246                                              if target > 0 then
  196:  set :drawMaterials:target.1 .targetSilicon                   for var item, target in
  197:  jump *label262 lessThanEq :drawMaterials:target.1 0          if target > 0 then
  198:  sensor *tmp90 .core @silicon                                 drawItem(in out col, in out y, columns, item, core.sensor(item), target, target);
  199:  op mul *tmp95 122 *tmp90                                     var length = min(barLength, barLength * current / target);
  200:  op div *tmp96 *tmp95 :drawMaterials:target.1                 ...
  201:  op min :drawItem.2:length 122 *tmp96                         ...
  202:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
  203:  op add *tmp107 :drawMaterials:y 5                            image(iconX, y + ICON_Y, item, 16, 0);
  204:  draw image 11 *tmp107 @silicon 16 0 0                        ...
  205:  draw color 0 128 0 255 0 0                                   color(0,128,0,255);
  206:  draw rect 22 :drawMaterials:y :drawItem.2:length 10 0 0      rect(barX, y, length, BAR_HEIGHT);
  207:  draw color 0 255 0 255 0 0                                   color(0,255,0,255);
  208:  draw lineRect 22 :drawMaterials:y 122 10 0 0                 lineRect(barX, y, barLength, BAR_HEIGHT);
  209:  op add *tmp109 :drawMaterials:y 7                            drawBold(textX, y + ICON_Y + 2, @right, text);
  210:  print :drawMaterials:target.1                                print(text);
  211:  draw print 170 *tmp109 @right                                mlogText("draw", "print", in x, in y, in alignment);
  212:  print :drawMaterials:target.1                                print(text);
  213:  draw print 171 *tmp109 @right                                mlogText("draw", "print", in x, in y, in alignment);
  214:  op sub :drawItem.2:y :drawMaterials:y 15                     y -= ROW_HEIGHT;
  215:  set :drawMaterials:y :drawItem.2:y                           drawItem(in out col, in out y, columns, item, core.sensor(item), target, target);
  216:  op sub :drawMaterials:count :drawMaterials:count 1           if --count <= 0 then break; end;
  217:  jump *label74 lessThanEq :drawMaterials:count 0              ...
        label *label262                                              if target > 0 then
  218:  set :drawMaterials:target.1 .targetTitanium                  for var item, target in
  219:  jump *label278 lessThanEq :drawMaterials:target.1 0          if target > 0 then
  220:  sensor *tmp90 .core @titanium                                drawItem(in out col, in out y, columns, item, core.sensor(item), target, target);
  221:  op mul *tmp95 122 *tmp90                                     var length = min(barLength, barLength * current / target);
  222:  op div *tmp96 *tmp95 :drawMaterials:target.1                 ...
  223:  op min :drawItem.2:length 122 *tmp96                         ...
  224:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
  225:  op add *tmp107 :drawMaterials:y 5                            image(iconX, y + ICON_Y, item, 16, 0);
  226:  draw image 11 *tmp107 @titanium 16 0 0                       ...
  227:  draw color 0 128 0 255 0 0                                   color(0,128,0,255);
  228:  draw rect 22 :drawMaterials:y :drawItem.2:length 10 0 0      rect(barX, y, length, BAR_HEIGHT);
  229:  draw color 0 255 0 255 0 0                                   color(0,255,0,255);
  230:  draw lineRect 22 :drawMaterials:y 122 10 0 0                 lineRect(barX, y, barLength, BAR_HEIGHT);
  231:  op add *tmp109 :drawMaterials:y 7                            drawBold(textX, y + ICON_Y + 2, @right, text);
  232:  print :drawMaterials:target.1                                print(text);
  233:  draw print 170 *tmp109 @right                                mlogText("draw", "print", in x, in y, in alignment);
  234:  print :drawMaterials:target.1                                print(text);
  235:  draw print 171 *tmp109 @right                                mlogText("draw", "print", in x, in y, in alignment);
  236:  op sub :drawItem.2:y :drawMaterials:y 15                     y -= ROW_HEIGHT;
  237:  set :drawMaterials:y :drawItem.2:y                           drawItem(in out col, in out y, columns, item, core.sensor(item), target, target);
  238:  op sub :drawMaterials:count :drawMaterials:count 1           if --count <= 0 then break; end;
  239:  jump *label74 lessThanEq :drawMaterials:count 0              ...
        label *label278                                              if target > 0 then
  240:  set :drawMaterials:target.1 .targetMetaglass                 for var item, target in
  241:  jump *label294 lessThanEq :drawMaterials:target.1 0          if target > 0 then
  242:  sensor *tmp90 .core @metaglass                               drawItem(in out col, in out y, columns, item, core.sensor(item), target, target);
  243:  op mul *tmp95 122 *tmp90                                     var length = min(barLength, barLength * current / target);
  244:  op div *tmp96 *tmp95 :drawMaterials:target.1                 ...
  245:  op min :drawItem.2:length 122 *tmp96                         ...
  246:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
  247:  op add *tmp107 :drawMaterials:y 5                            image(iconX, y + ICON_Y, item, 16, 0);
  248:  draw image 11 *tmp107 @metaglass 16 0 0                      ...
  249:  draw color 0 128 0 255 0 0                                   color(0,128,0,255);
  250:  draw rect 22 :drawMaterials:y :drawItem.2:length 10 0 0      rect(barX, y, length, BAR_HEIGHT);
  251:  draw color 0 255 0 255 0 0                                   color(0,255,0,255);
  252:  draw lineRect 22 :drawMaterials:y 122 10 0 0                 lineRect(barX, y, barLength, BAR_HEIGHT);
  253:  op add *tmp109 :drawMaterials:y 7                            drawBold(textX, y + ICON_Y + 2, @right, text);
  254:  print :drawMaterials:target.1                                print(text);
  255:  draw print 170 *tmp109 @right                                mlogText("draw", "print", in x, in y, in alignment);
  256:  print :drawMaterials:target.1                                print(text);
  257:  draw print 171 *tmp109 @right                                mlogText("draw", "print", in x, in y, in alignment);
        label *label294                                              if target > 0 then
        label *label74                                               for var item, target in
        label *label70                                               if count then
        label *label32                                               if nextBlock == null then
  258:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
  259:  set *tmp116 25                                               var y = materialCount < 4 ? HEADER3_Y : HEADER4_Y;
  260:  jump *label95 greaterThanEq .materialCount 4                 ...
  261:  set *tmp116 40                                               ...
        label *label95                                               ...
  262:  print "Builder"                                              print(text);
  263:  draw print 22 *tmp116 @bottomLeft                            mlogText("draw", "print", in x, in y, in alignment);
  264:  print "Builder"                                              print(text);
  265:  draw print 23 *tmp116 @bottomLeft                            mlogText("draw", "print", in x, in y, in alignment);
  266:  jump *label101 notEqual .transportItem null                  if transportItem == null then
  267:  op sub *tmp120 *tmp116 15                                    drawUnit(@poly, 0, in y - ROW_HEIGHT);
  268:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
  269:  op sub *tmp137 *tmp116 10                                    image(iconX, y + ICON_Y, item, 16, 0);
  270:  draw image 11 *tmp137 @poly 16 0 0                           ...
  271:  draw color 0 128 0 255 0 0                                   color(0,128,0,255);
  272:  draw rect 22 *tmp120 0 10 0 0                                rect(barX, y, length, BAR_HEIGHT);
  273:  draw color 0 255 0 255 0 0                                   color(0,255,0,255);
  274:  draw lineRect 22 *tmp120 122 10 0 0                          lineRect(barX, y, barLength, BAR_HEIGHT);
  275:  op sub *tmp139 *tmp116 8                                     drawBold(textX, y + ICON_Y + 2, @right, text);
  276:  print .transportTarget                                       print(text);
  277:  draw print 170 *tmp139 @right                                mlogText("draw", "print", in x, in y, in alignment);
  278:  print .transportTarget                                       print(text);
  279:  draw print 171 *tmp139 @right                                mlogText("draw", "print", in x, in y, in alignment);
  280:  jump *label102 always 0 0                                    if transportItem == null then
        label *label101                                              ...
  281:  sensor :drawUnit:unitItem @unit @firstItem                   var unitItem = @unit.@firstItem;
  282:  sensor *tmp146 @unit @totalItems                             drawUnit(transportItem, @unit.@totalItems * (unitItem == transportItem), in y - ROW_HEIGHT);
  283:  op equal *tmp147 :drawUnit:unitItem .transportItem           ...
  284:  op mul *tmp148 *tmp146 *tmp147                               ...
  285:  op sub *tmp149 *tmp116 15                                    ...
  286:  set :drawUnit.2:item .transportItem                          ...
  287:  set :drawItem.4:target .transportTarget                      drawItem(in 0, in out y, 1, item, items, transportTarget, transportTarget);
  288:  op mul *tmp154 122 *tmp148                                   var length = min(barLength, barLength * current / target);
  289:  op div *tmp155 *tmp154 :drawItem.4:target                    ...
  290:  op min :drawItem.4:length 122 *tmp155                        ...
  291:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
  292:  op sub *tmp166 *tmp116 10                                    image(iconX, y + ICON_Y, item, 16, 0);
  293:  draw image 11 *tmp166 :drawUnit.2:item 16 0 0                ...
  294:  draw color 0 128 0 255 0 0                                   color(0,128,0,255);
  295:  draw rect 22 *tmp149 :drawItem.4:length 10 0 0               rect(barX, y, length, BAR_HEIGHT);
  296:  draw color 0 255 0 255 0 0                                   color(0,255,0,255);
  297:  draw lineRect 22 *tmp149 122 10 0 0                          lineRect(barX, y, barLength, BAR_HEIGHT);
  298:  op sub *tmp168 *tmp116 8                                     drawBold(textX, y + ICON_Y + 2, @right, text);
  299:  print .transportTarget                                       print(text);
  300:  draw print 170 *tmp168 @right                                mlogText("draw", "print", in x, in y, in alignment);
  301:  print .transportTarget                                       print(text);
  302:  draw print 171 *tmp168 @right                                mlogText("draw", "print", in x, in y, in alignment);
        label *label102                                              if transportItem == null then
  303:  set :drawUnits:x 170                                         var x = 170;
  304:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
  305:  set :drawUnitCount:count .polys                              drawUnitCount(@poly, polys, ref x);
  306:  jump *label123 lessThanEq :drawUnitCount:count 0             if count > 0 then
  307:  draw image 150 127 @poly 12 0 0                              image(x - 20, HEADER1_Y - 34, type, 12, 0);
  308:  print "x"                                                    print(text);
  309:  print :drawUnitCount:count                                   ...
  310:  draw print 170 129 @right                                    mlogText("draw", "print", in x, in y, in alignment);
  311:  op sub :drawUnits:x 170 30                                   x -= 30;
        label *label123                                              if count > 0 then
  312:  set :drawUnitCount.1:count .monos                            drawUnitCount(@mono, monos, ref x);
  313:  jump *label128 lessThanEq :drawUnitCount.1:count 0           if count > 0 then
  314:  op sub *tmp179 :drawUnits:x 20                               image(x - 20, HEADER1_Y - 34, type, 12, 0);
  315:  draw image *tmp179 127 @mono 12 0 0                          ...
  316:  print "x"                                                    print(text);
  317:  print :drawUnitCount.1:count                                 ...
  318:  draw print :drawUnits:x 129 @right                           mlogText("draw", "print", in x, in y, in alignment);
  319:  op sub :drawUnits:x :drawUnits:x 30                          x -= 30;
        label *label128                                              if count > 0 then
  320:  set :drawUnitCount.2:count .flares                           drawUnitCount(@flare, flares, ref x);
  321:  jump *label133 lessThanEq :drawUnitCount.2:count 0           if count > 0 then
  322:  op sub *tmp182 :drawUnits:x 20                               image(x - 20, HEADER1_Y - 34, type, 12, 0);
  323:  draw image *tmp182 127 @flare 12 0 0                         ...
  324:  print "x"                                                    print(text);
  325:  print :drawUnitCount.2:count                                 ...
  326:  draw print :drawUnits:x 129 @right                           mlogText("draw", "print", in x, in y, in alignment);
        label *label133                                              if count > 0 then
  327:  drawflush display1                                           drawflush(display1);
  328:  jump *label10 always 0 0                                     case page
        label *label11                                               ...
  329:  jump *label137 notEqual .page 1                              ...
  330:  set :displayLog:x 11                                         var x = 3 + 8;
  331:  set :displayLog:y 163                                        var y = 176 - 5 - 8;
  332:  draw reset 0 0 0 0 0 0                                       reset();
  333:  draw clear 0 0 32 0 0 0                                      clear(0, 0, 32);
  334:  sensor *tmp183 bank1 @memoryCapacity                         var position = bank1.@memoryCapacity - 1;
  335:  op sub :displayLog:position *tmp183 1                        ...
        label *label140                                              while true do
  336:  op sub :displayLog:position :displayLog:position 1           var record = bank1[--position];
  337:  read :displayLog:record bank1 :displayLog:position           ...
  338:  jump *label142 equal :displayLog:record false                if !record then break; end;
  339:  op mod :displayRecord:id :displayLog:record 1000             var id = record % 1000;
  340:  lookup block *tmp191 :displayRecord:id                       var icon = id > @blockCount ? lookup(:unit, id - @blockCount) : lookup(:block, id);
  341:  jump *label147 lessThanEq :displayRecord:id @blockCount      ...
  342:  op sub *tmp192 :displayRecord:id @blockCount                 ...
  343:  lookup unit *tmp191 *tmp192                                  ...
        label *label147                                              ...
  344:  draw image :displayLog:x :displayLog:y *tmp191 14 0 0        image(x, y, icon, 14, 0);
  345:  op idiv :displayRecord:t :displayLog:record 1000             t = record \ 1000;
  346:  op idiv :displayRecord:m :displayRecord:t 60                 var m = t \ 60;
  347:  op mod :displayRecord:s :displayRecord:t 60                  var s = t % 60;
  348:  set *tmp202 ""                                               print(m, ":", s < 10 ? "0" : "");
  349:  jump *label151 greaterThanEq :displayRecord:s 10             ...
  350:  set *tmp202 "0"                                              ...
        label *label151                                              ...
  351:  print :displayRecord:m                                       ...
  352:  print ":"                                                    ...
  353:  print *tmp202                                                ...
  354:  op add *tmp204 :displayLog:x 44                              drawText(x + 56 - 12, y + 2, @right, s);
  355:  op add *tmp205 :displayLog:y 2                               ...
  356:  print :displayRecord:s                                       print(text);
  357:  draw print *tmp204 *tmp205 @right                            mlogText("draw", "print", in x, in y, in alignment);
  358:  op sub :displayLog:y :displayLog:y 15                        y -= 15;
  359:  jump *label140 greaterThanEq :displayLog:y 10                if y < 10 then
  360:  op add :displayLog:x :displayLog:x 58                        x += 58;
  361:  set :displayLog:y 164                                        y = 176 - 4 - 8;
  362:  jump *label140 always 0 0                                    while true do
        label *label142                                              ...
  363:  drawflush display1                                           drawflush(display1);
  364:  jump *label10 always 0 0                                     case page
        label *label137                                              ...
  365:  jump *label156 notEqual .page 2                              ...
  366:  draw reset 0 0 0 0 0 0                                       reset();
  367:  draw clear 0 0 32 0 0 0                                      clear(0, 0, 32);
  368:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
  369:  op add .frame .frame 1                                       drawText(4, 172, @topLeft, ++frame);
  370:  print .frame                                                 print(text);
  371:  draw print 4 172 @topLeft                                    mlogText("draw", "print", in x, in y, in alignment);
  372:  op div *tmp208 176 @mapw                                     scale(176 / mapw, 176 / maph);
  373:  op div *tmp209 176 @maph                                     ...
  374:  draw scale *tmp208 *tmp209 0 0 0 0                           ...
  375:  op div *tmp211 @mapw 58.666666666666664                      var width = ceil(3 * mapw / 176);
  376:  op ceil :displayOreMap:width *tmp211 0                       ...
  377:  read :displayOreMap:minX bank1 0                             var minX = bank1[0];
  378:  read :displayOreMap:minY bank1 1                             var minY = bank1[1];
  379:  read :displayOreMap:maxX bank1 2                             var maxX = bank1[2];
  380:  read :displayOreMap:maxY bank1 3                             var maxY = bank1[3];
  381:  op sub *tmp220 :displayOreMap:maxX :displayOreMap:minX       lineRect(minX, minY, maxX - minX, maxY - minY);
  382:  op sub *tmp221 :displayOreMap:maxY :displayOreMap:minY       ...
  383:  draw lineRect :displayOreMap:minX :displayOreMap:minY *tmp22 ...
  384:  draw col %[red] 0 0 0 0 0                                    col(%[red]);
  385:  set :displayOreMap:index 4                                   var index = 4;
        label *label173                                              while index < 256 do
  386:  read :displayOreMap:pos bank1 :displayOreMap:index           var pos = bank1[index];
  387:  jump *label163 equal :displayOreMap:pos 0                    if pos == 0 then break; end;
  388:  op mod :displayOreMap:x :displayOreMap:pos @mapw             var x = pos % @mapw;
  389:  op idiv :displayOreMap:y :displayOreMap:pos @mapw            var y = pos \ @mapw;
  390:  draw rect :displayOreMap:x :displayOreMap:y :displayOreMap:w rect(x, y, width, height);
  391:  op add :displayOreMap:index :displayOreMap:index 1           while index < 256 do
  392:  jump *label173 lessThan :displayOreMap:index 256             ...
        label *label163                                              ...
  393:  draw col %[gold] 0 0 0 0 0                                   col(%[gold]);
  394:  read *tmp0 processor1 ".px"                                  rect(px, py, width, height);
  395:  read *tmp1 processor1 ".py"                                  ...
  396:  draw rect *tmp0 *tmp1 :displayOreMap:width :displayOreMap:wi ...
  397:  draw reset 0 0 0 0 0 0                                       reset();
  398:  draw col %[white] 0 0 0 0 0                                  col(%[white]);
  399:  print :displayOreMap:index                                   print(text);
  400:  draw print 175 172 @topRight                                 mlogText("draw", "print", in x, in y, in alignment);
  401:  drawflush display1                                           drawflush(display1);
        label *label156                                              case page
        label *label10                                               ...
  402:  print "[gold]Building {0}\n================================= println($"[gold]Building $nextBlock");
  403:  format .nextBlock                                            ...
  404:  format .status1                                              println(status1);
  405:  format .status2                                              println($"$status2$item2 ($block2)");
  406:  format .item2                                                ...
  407:  format .block2                                               ...
  408:  format .status3                                              println(status3);
  409:  printflush message1                                          printflush(message1);
  410:  sensor *tmp232 switch1 @enabled                              if switch1.enabled then
  411:  jump *label169 equal *tmp232 false                           ...
  412:  jump *label7 lessThanEq @second :main:nextSwitch             if @second > nextSwitch then
  413:  op add *tmp236 .page 1                                       page = (page + 1) % numPages;
  414:  op mod .page *tmp236 3                                       ...
  415:  op add :main:nextSwitch @second 3                            nextSwitch = @second + 3;
  416:  jump *label7 always 0 0                                      if switch1.enabled then
        label *label169                                              ...
  417:  op sub :main:nextSwitch @second 1                            nextSwitch = @second - 1;
  418:  jump *label7 always 0 0                                      while true do


Performance: parsed in 320 ms, compiled in 266 ms, optimized in 1,134 ms, run in 12 ms.

Compiled mlog code was sent to Mlog Watcher.
  Mlog Watcher: no processor selected.
  (The target processor must be selected in Mindustry to receive the code.)

Program output (6 steps):
The program didn't generate any output.
Execution exception at instruction 17: ubind @poly:
Instruction not supported by Mindcode emulator.
(Use the '#set err-unsupported-opcode = false;' directive or the '--err-unsupported-opcode false' command line option to ignore this exception.)
