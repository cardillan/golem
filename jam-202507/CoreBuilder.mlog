jump 24 always 0 0
draw triangle bank1 processor1 processor2 processor3 processor4 TIME_COMPRESS
draw triangle .ERROR .battery .builder .controller .core .coreX
draw triangle .coreY .display .generator .graphiteSurplus .metaglassSurplus .powerTarget
draw triangle .press .siliconSurplus .smelter .targetCopper .targetGraphite .targetLead
draw triangle .targetMetaglass .targetSilicon .targetTitanium .thoriumDrill .thoriumGenerator .titaniumDrill
draw triangle .unloader1 :flares :monos :polys :searchThorium :buildBlock:block
draw triangle :buildBlock:config :buildBlock:copper :buildBlock:graphite :buildBlock:lead :buildBlock:metaglass :buildBlock:rotation
draw triangle :buildBlock:silicon :buildBlock:titanium :buildBlock:x :buildBlock:y :buildBlockAt:block :buildBlockAt:building
draw triangle :buildBlockAt:config :buildBlockAt:rotation :buildBlockAt:skipError :buildBlockAt:type :buildBlockAt:x :buildBlockAt:y
draw triangle :buildBlockFromCfg.10:x :buildBlockFromCfg.14:x :buildBlockFromCfg:x :buildBlockFromCfg.9:x :buildBlockFromCfg.4:x :buildBlockFromCfg.12:x
draw triangle :buildBlockFromCfg.7:x :buildBlockFromCfg.11:x :buildBlockFromCfg.6:x :buildBlockFromCfg.2:x :buildBlockFromCfg.14:y :buildBlockFromCfg.5:y
draw triangle :buildBlockFromCfg.1:y :buildBlockFromCfg:y :buildBlockFromCfg.8:y :buildBlockFromCfg.12:y :buildBlockFromCfg.3:y :buildBlockFromCfg.7:y
draw triangle :buildThoriumDrill:result :buildTitaniumDrill:dx :buildTitaniumDrill:dy :buildTitaniumDrill:result :depositItems:block :depositItems:cap
draw triangle :depositItems:item :fetchBlock:block :fetchBlock:item :fetchBlock:unitItem :findFreeUnit:first_unit :findFreeUnit:initial_flag
draw triangle :findFreeUnit:unit_type :findUnits:count :findUnits:firstUnit :findUnits:type :locateOre:ore :locateOre:x
draw triangle :locateOre:y :log:encodedId :logBlock:block :meetTarget:block :meetTarget:copper :meetTarget:count
draw triangle :meetTarget:graphite :meetTarget:lead :meetTarget:metaglass :meetTarget:silicon :meetTarget:titanium :mineOre:amount
draw triangle :mineOre:block :mineOre:item :mineOre.1:ore :mineOre:ore :mineOre:stop :mineOre:x
draw triangle :mineOre:y :moveTo:radius :moveTo.1:x :moveTo:x :moveTo.1:y :moveTo:y
draw triangle :moveToBlock:block :moveToBlock:radius :moveToEmpty:x :moveToEmpty:y :second:result :second.2:result
draw triangle :second.1:result :supplyBase0:coal.1 :supplyBase0:coal :supplyBase0:sand.1 :supplyBase0:sand :supplyBase0:supplied
draw triangle :supplyBlock.3:blockCapacity :supplyBlock:blockCapacity :supplyBlock.1:blockCapacity :supplyBlock.2:blockCapacity :supplyBlock.1:missing :supplyBlock:missing
draw triangle :supplyBlock.2:missing :supplyBlock.3:missing :transportStatus.2:target 0 0 0
set TIME_COMPRESS 8
set .ERROR ""
set .press null
set .generator null
set .battery null
set .smelter null
set .titaniumDrill null
set .unloader1 null
set .graphiteSurplus 20
set .siliconSurplus 20
set .metaglassSurplus 20
write 511 bank1 511
ubind @poly
set .builder @unit
ulocate building core false @copper .coreX .coreY 0 .core
jump 36 equal .core null
set .display processor1
set :findUnits:type @mono
set :findUnits*retaddr 44
jump 927 always 0 0
write :findUnits:count processor1 ".monos"
set :monos :findUnits*retval
set :findUnits:type @flare
set :findUnits*retaddr 49
jump 927 always 0 0
write :findUnits:count processor1 ".flares"
set :flares :findUnits*retval
set :findUnits:type @poly
set :findUnits*retaddr 54
jump 927 always 0 0
write :findUnits:count processor1 ".polys"
set :polys :findUnits*retval
op add :buildBlockFromCfg:x .coreX -1.5
op add :buildBlockFromCfg:y .coreY 2.5
set :buildBlock:block @graphite-press
set :buildBlock:x :buildBlockFromCfg:x
set :buildBlock:y :buildBlockFromCfg:y
set :buildBlock:copper 75
set :buildBlock:lead 30
set :buildBlock:graphite 0
set :buildBlock:silicon 0
set :buildBlock:titanium 0
set :buildBlock:metaglass 0
set :buildBlock:rotation 0
set :buildBlock:config null
set :buildBlock*retaddr 71
jump 908 always 0 0
set *tmp87 :buildBlock*retval
set .press *tmp87
op add :buildBlockFromCfg.1:y .coreY 4
set :buildBlock:block @battery
set :buildBlock:x .coreX
set :buildBlock:y :buildBlockFromCfg.1:y
set :buildBlock:copper 5
set :buildBlock:lead 20
set :buildBlock*retaddr 81
jump 908 always 0 0
set *tmp91 :buildBlock*retval
set .battery *tmp91
op add :buildBlockFromCfg.2:x .coreX -1
set :buildBlock:x :buildBlockFromCfg.2:x
set :buildBlock:y :buildBlockFromCfg.1:y
set :buildBlock*retaddr 88
jump 908 always 0 0
op add :buildBlockFromCfg.3:y .coreY 3
set :buildBlock:block @combustion-generator
set :buildBlock:x .coreX
set :buildBlock:y :buildBlockFromCfg.3:y
set :buildBlock:copper 25
set :buildBlock:lead 15
set :buildBlock*retaddr 96
jump 908 always 0 0
set *tmp99 :buildBlock*retval
set .generator *tmp99
set .powerTarget 800
op add :buildBlockFromCfg.4:x .coreX 1.5
set :buildBlock:block @silicon-smelter
set :buildBlock:x :buildBlockFromCfg.4:x
set :buildBlock:y :buildBlockFromCfg:y
set :buildBlock:copper 30
set :buildBlock:lead 25
set :buildBlock*retaddr 107
jump 908 always 0 0
set *tmp103 :buildBlock*retval
set .smelter *tmp103
set :meetTarget:block @pneumatic-drill
set :meetTarget:copper 18
set :meetTarget:lead 0
set :meetTarget:graphite 10
set :meetTarget:silicon 0
set :meetTarget:titanium 0
set :meetTarget:metaglass 0
set :meetTarget*retaddr 118
jump 820 always 0 0
write @titanium processor1 ".nextBlock"
write .coreX processor4 ":findDrillLocation:x"
write .coreY processor4 ":findDrillLocation:y"
write @unit processor4 ":findDrillLocation:unit"
write @titanium processor4 ":findDrillLocation:item"
write @ore-titanium processor4 ":findDrillLocation:ore"
write false processor4 ":findDrillLocation:large"
write 4 processor4 ":findDrillLocation:limit"
write false processor4 ":findDrillLocation*finished"
write 1 processor4 "@counter"
wait 1e-15
read *tmp118 processor4 ":findDrillLocation*finished"
jump 128 equal *tmp118 false
read :buildTitaniumDrill:dx processor4 ":findDrillLocation:dx"
read :buildTitaniumDrill:dy processor4 ":findDrillLocation:dy"
read :buildTitaniumDrill:result processor4 ":findDrillLocation*retval"
jump 137 notEqual :buildTitaniumDrill:result false
set .ERROR "Cannot locate spot for titanium drill"
stop
write @pneumatic-drill processor1 ".nextBlock"
set :buildBlockAt:block @pneumatic-drill
set :buildBlockAt:x :buildTitaniumDrill:dx
set :buildBlockAt:y :buildTitaniumDrill:dy
set :buildBlockAt:rotation null
set :buildBlockAt:config 0
set :buildBlockAt:skipError false
set :buildBlockAt*retaddr 146
jump 881 always 0 0
set *tmp107 :buildBlockAt*retval
set .titaniumDrill :buildBlockAt*retval
write :buildBlockAt*retval processor1 ".titaniumDrill"
op add :buildBlockFromCfg.5:y .coreY 2
set :buildBlock:block @unloader
set :buildBlock:x .coreX
set :buildBlock:y :buildBlockFromCfg.5:y
set :buildBlock:copper 0
set :buildBlock:lead 0
set :buildBlock:silicon 30
set :buildBlock:titanium 25
set :buildBlock*retaddr 159
jump 908 always 0 0
set *tmp122 :buildBlock*retval
set .unloader1 *tmp122
op add :buildBlockFromCfg.6:x .coreX 1
set :buildBlock:block @micro-processor
set :buildBlock:x :buildBlockFromCfg.6:x
set :buildBlock:y :buildBlockFromCfg.1:y
set :buildBlock:copper 90
set :buildBlock:lead 50
set :buildBlock:silicon 50
set :buildBlock:titanium 0
set :buildBlock*retaddr 172
set :buildBlock:config processor2
jump 908 always 0 0
set *tmp126 :buildBlock*retval
set .controller *tmp126
write processor1 *tmp126 ".display"
write .core *tmp126 ".core"
write bank1 *tmp126 ".bank"
write *tmp91 *tmp126 ".battery"
write *tmp99 *tmp126 ".generator"
write *tmp103 *tmp126 ".smelter"
write *tmp87 *tmp126 ".press"
write :monos *tmp126 ".monos"
write :flares *tmp126 ".flares"
write :polys *tmp126 ".polys"
op add :buildBlockFromCfg.7:x .coreX -2
op add :buildBlockFromCfg.7:y .coreY -1
set :buildBlock:block @power-node
set :buildBlock:x :buildBlockFromCfg.7:x
set :buildBlock:y :buildBlockFromCfg.7:y
set :buildBlock:copper 2
set :buildBlock:lead 6
set :buildBlock:silicon 0
set :buildBlock:config null
set :buildBlock*retaddr 195
jump 908 always 0 0
op add :buildBlockFromCfg.8:y .coreY 1
set :buildBlock:block @unloader
set :buildBlock:x :buildBlockFromCfg.7:x
set :buildBlock:y :buildBlockFromCfg.8:y
set :buildBlock:copper 0
set :buildBlock:lead 0
set :buildBlock:silicon 30
set :buildBlock:titanium 25
set :buildBlock*retaddr 205
jump 908 always 0 0
set *tmp134 :buildBlock*retval
write *tmp134 *tmp126 ".unloader2"
op add :buildBlockFromCfg.9:x .coreX -3
set :buildBlock:block @overflow-gate
set :buildBlock:x :buildBlockFromCfg.9:x
set :buildBlock:y :buildBlockFromCfg.8:y
set :buildBlock:copper 4
set :buildBlock:lead 2
set :buildBlock:silicon 0
set :buildBlock:titanium 0
set :buildBlock*retaddr 217
jump 908 always 0 0
op add :buildBlockFromCfg.10:x .coreX -4
set :buildBlock:block @air-factory
set :buildBlock:x :buildBlockFromCfg.10:x
set :buildBlock:y :buildBlockFromCfg.7:y
set :buildBlock:copper 60
set :buildBlock:lead 70
set :buildBlock:rotation 3
set :buildBlock:config @mono
set :buildBlock*retaddr 227
jump 908 always 0 0
set *tmp142 :buildBlock*retval
write *tmp142 *tmp126 ".factory"
write *tmp142 processor1 ".factory"
write 2 *tmp126 ".flareTarget"
write 0 processor1 ".totalTargets"
write null processor1 ".nextBlock"
write 0 *tmp126 ".leadReserve"
write 0 *tmp126 ".siliconReserve"
write @flare *tmp126 ".unitToProduce"
write 85 *tmp126 ".pressTarget"
write 150 *tmp126 ".smelterTarget"
write 30 *tmp126 ".kilnTarget"
set :searchThorium true
read *tmp35 *tmp126 ".flares"
op greaterThan *tmp147 *tmp35 0
op land *tmp148 :searchThorium *tmp147
jump 263 equal *tmp148 false
set :searchThorium false
set :findFreeUnit:unit_type @flare
set :findFreeUnit:initial_flag 0
set :findFreeUnit*retaddr 249
jump 641 always 0 0
write .coreX processor4 ":layoutThoriumDrill:x"
write .coreY processor4 ":layoutThoriumDrill:y"
write @unit processor4 ":layoutThoriumDrill:unit"
write 7 processor4 ":layoutThoriumDrill:limit"
write false processor4 ":layoutThoriumDrill*finished"
write 2 processor4 "@counter"
ubind .builder
write .core processor3 ":start:aCore"
write *tmp107 processor3 ":start:drill"
write false processor3 ":start*finished"
write 3 processor3 "@counter"
wait 1e-15
read *tmp157 processor3 ":start*finished"
jump 260 equal *tmp157 false
set :supplyBase*retaddr 265
jump 796 always 0 0
sensor *tmp158 *tmp91 @totalPower
jump 269 lessThan *tmp158 300
read *tmp34 *tmp126 ".monos"
jump 240 lessThan *tmp34 3
write .core processor3 ":start:aCore"
write *tmp107 processor3 ":start:drill"
write false processor3 ":start*finished"
write 3 processor3 "@counter"
wait 1e-15
read *tmp164 processor3 ":start*finished"
jump 273 equal *tmp164 false
op add :buildBlockFromCfg.11:x .coreX 2
set :buildBlock:block @unloader
set :buildBlock:x :buildBlockFromCfg.11:x
set :buildBlock:y .coreY
set :buildBlock:copper 0
set :buildBlock:lead 0
set :buildBlock:silicon 30
set :buildBlock:titanium 25
set :buildBlock:rotation 0
set :buildBlock:config null
set :buildBlock*retaddr 288
jump 908 always 0 0
op add :buildBlockFromCfg.12:x .coreX 3.5
op add :buildBlockFromCfg.12:y .coreY 0.5
set :buildBlock:block @kiln
set :buildBlock:x :buildBlockFromCfg.12:x
set :buildBlock:y :buildBlockFromCfg.12:y
set :buildBlock:copper 60
set :buildBlock:lead 30
set :buildBlock:graphite 30
set :buildBlock:silicon 0
set :buildBlock:titanium 0
set :buildBlock*retaddr 300
jump 908 always 0 0
set *tmp169 :buildBlock*retval
write *tmp169 *tmp126 ".kiln"
set :buildBlock:block @junction
set :buildBlock:x :buildBlockFromCfg.11:x
set :buildBlock:y :buildBlockFromCfg.8:y
set :buildBlock:copper 3
set :buildBlock:lead 0
set :buildBlock:graphite 0
set :buildBlock*retaddr 310
jump 908 always 0 0
op add :buildBlockFromCfg.14:x .coreX -3.5
op add :buildBlockFromCfg.14:y .coreY 4.5
set :buildBlock:block @water-extractor
set :buildBlock:x :buildBlockFromCfg.14:x
set :buildBlock:y :buildBlockFromCfg.14:y
set :buildBlock:copper 30
set :buildBlock:lead 30
set :buildBlock:graphite 30
set :buildBlock:metaglass 30
set :buildBlock*retaddr 321
jump 908 always 0 0
set :buildBlock:block @steam-generator
set :buildBlock:x :buildBlockFromCfg.14:x
set :buildBlock:y :buildBlockFromCfg:y
set :buildBlock:copper 35
set :buildBlock:lead 40
set :buildBlock:graphite 25
set :buildBlock:silicon 30
set :buildBlock:metaglass 0
set :buildBlock*retaddr 331
jump 908 always 0 0
set *tmp181 :buildBlock*retval
write *tmp181 *tmp126 ".generator2"
set .graphiteSurplus 200
set .siliconSurplus 1000
set .metaglassSurplus 200
jump 358 equal :searchThorium false
read *tmp35 *tmp126 ".flares"
jump 343 greaterThanEq *tmp35 1
set :supplyBase*retaddr 341
jump 796 always 0 0
read *tmp35 *tmp126 ".flares"
jump 339 lessThan *tmp35 1
set :findFreeUnit:unit_type @flare
set :findFreeUnit:initial_flag 0
set :findFreeUnit*retaddr 347
jump 641 always 0 0
write .coreX processor4 ":layoutThoriumDrill:x"
write .coreY processor4 ":layoutThoriumDrill:y"
write @unit processor4 ":layoutThoriumDrill:unit"
write 7 processor4 ":layoutThoriumDrill:limit"
write false processor4 ":layoutThoriumDrill*finished"
write 2 processor4 "@counter"
ubind .builder
set :supplyBase*retaddr 356
jump 796 always 0 0
read *tmp192 processor4 ":layoutThoriumDrill*finished"
jump 354 equal *tmp192 false
set :meetTarget:block @laser-drill
set :meetTarget:copper 35
set :meetTarget:lead 0
set :meetTarget:graphite 30
set :meetTarget:silicon 30
set :meetTarget:titanium 20
set :meetTarget:metaglass 0
set :meetTarget*retaddr 367
jump 820 always 0 0
wait 1e-15
read *tmp194 processor4 ":layoutThoriumDrill*finished"
jump 367 equal *tmp194 false
read :buildThoriumDrill:result processor4 ":layoutThoriumDrill*retval"
jump 374 notEqual :buildThoriumDrill:result false
set .ERROR "Cannot locate spot for thorium drill"
stop
set :buildBlockAt:block @laser-drill
read :buildBlockAt:x processor4 ".drillX"
read :buildBlockAt:y processor4 ".drillY"
set :buildBlockAt:rotation null
set :buildBlockAt:config 0
set :buildBlockAt:skipError false
set :buildBlockAt*retaddr 382
jump 881 always 0 0
set .thoriumDrill :buildBlockAt*retval
read *tmp66 processor4 ".water1X"
jump 482 lessThan *tmp66 0
set :meetTarget:block @water-extractor
set :meetTarget:copper 30
set :meetTarget:lead 30
set :meetTarget:graphite 30
set :meetTarget:silicon 0
set :meetTarget:titanium 0
set :meetTarget:metaglass 30
set :meetTarget*retaddr 394
jump 820 always 0 0
set :buildBlockAt:block @water-extractor
read *tmp66 processor4 ".water1X"
set :buildBlockAt:x *tmp66
read :buildBlockAt:y processor4 ".water1Y"
set :buildBlockAt:rotation null
set :buildBlockAt:config 0
set :buildBlockAt:skipError false
set :buildBlockAt*retaddr 403
jump 881 always 0 0
read *tmp68 processor4 ".water2X"
jump 482 lessThan *tmp68 0
set :meetTarget:block @water-extractor
set :meetTarget:copper 30
set :meetTarget:lead 30
set :meetTarget:graphite 30
set :meetTarget:silicon 0
set :meetTarget:titanium 0
set :meetTarget:metaglass 30
set :meetTarget*retaddr 414
jump 820 always 0 0
set :buildBlockAt:block @water-extractor
read *tmp68 processor4 ".water2X"
set :buildBlockAt:x *tmp68
read :buildBlockAt:y processor4 ".water2Y"
set :buildBlockAt:rotation null
set :buildBlockAt:config 0
set :buildBlockAt:skipError false
set :buildBlockAt*retaddr 423
jump 881 always 0 0
set :meetTarget:block @water-extractor
set :meetTarget:copper 30
set :meetTarget:lead 30
set :meetTarget:graphite 30
set :meetTarget:silicon 0
set :meetTarget:titanium 0
set :meetTarget:metaglass 30
set :meetTarget*retaddr 432
jump 820 always 0 0
set :buildBlockAt:block @steam-generator
read :buildBlockAt:x processor4 ".generatorX"
read :buildBlockAt:y processor4 ".generatorY"
set :buildBlockAt:rotation null
set :buildBlockAt:config 0
set :buildBlockAt:skipError false
set :buildBlockAt*retaddr 440
jump 881 always 0 0
set .thoriumGenerator :buildBlockAt*retval
set :meetTarget:block @power-node
set :meetTarget:copper 2
set :meetTarget:lead 6
set :meetTarget:graphite 0
set :meetTarget:silicon 0
set :meetTarget:titanium 0
set :meetTarget:metaglass 0
set :meetTarget*retaddr 450
jump 820 always 0 0
set :buildBlockAt:block @power-node
read :buildBlockAt:x processor4 ".nodeX"
read :buildBlockAt:y processor4 ".nodeY"
set :buildBlockAt:rotation null
set :buildBlockAt:config 0
set :buildBlockAt:skipError false
set :buildBlockAt*retaddr 458
jump 881 always 0 0
set :meetTarget:block @solar-panel
set :meetTarget:copper 0
set :meetTarget:lead 10
set :meetTarget:graphite 0
set :meetTarget:silicon 8
set :meetTarget:titanium 0
set :meetTarget:metaglass 0
set :meetTarget*retaddr 467
jump 820 always 0 0
set :buildBlockAt:block @solar-panel
read :buildBlockAt:x processor4 ".panelX"
read :buildBlockAt:y processor4 ".panelY"
set :buildBlockAt:rotation null
set :buildBlockAt:config 0
set :buildBlockAt:skipError false
set :buildBlockAt*retaddr 475
jump 881 always 0 0
write .thoriumDrill processor3 ":addThoriumDrill:drill"
write .thoriumGenerator processor3 ":addThoriumDrill:generator"
write false processor3 ":addThoriumDrill*finished"
write 1 processor3 "@counter"
wait 1e-15
read *tmp210 processor3 ":addThoriumDrill*finished"
jump 479 equal *tmp210 false
set :buildBlock:block @sorter
set :buildBlock:x :buildBlockFromCfg.10:x
set :buildBlock:y :buildBlockFromCfg.8:y
set :buildBlock:copper 2
set :buildBlock:lead 2
set :buildBlock:graphite 0
set :buildBlock:silicon 0
set :buildBlock:config @coal
set :buildBlock*retaddr 492
jump 908 always 0 0
write 0 processor1 ".totalTargets"
write null processor1 ".nextBlock"
set :supplyBase*retaddr 496
jump 796 always 0 0
read *tmp35 *tmp126 ".flares"
read *tmp34 *tmp126 ".monos"
op add *tmp215 *tmp35 *tmp34
jump 494 lessThan *tmp215 16
set :supplyBase*retaddr 502
jump 796 always 0 0
jump 500 always 0 0
write "Moving..." .display ".status3"
op sub *tmp219 :moveTo:radius 0.5
ucontrol within :moveTo:x :moveTo:y :moveTo:radius *tmp217 0
jump 510 notEqual *tmp217 false
ucontrol approach :moveTo:x :moveTo:y *tmp219 0 0
ucontrol within :moveTo:x :moveTo:y :moveTo:radius *tmp217 0
jump 507 equal *tmp217 false
set @counter :moveTo*retaddr
set :moveTo:x :moveTo.1:x
set :moveTo:y :moveTo.1:y
set :moveTo:radius 6
set :moveTo*retaddr 516
jump 503 always 0 0
set @counter :moveTo.1*retaddr
write "Moving..." .display ".status3"
sensor *tmp222 @unit @firstItem
jump 521 equal *tmp222 null
ucontrol itemDrop @air 1000 0 0 0
ucontrol approach :moveToEmpty:x :moveToEmpty:y 5.5 0 0
ucontrol within :moveToEmpty:x :moveToEmpty:y 6 *tmp225 0
jump 518 equal *tmp225 false
set @counter :moveToEmpty*retaddr
sensor *tmp227 :moveToBlock:block @x
sensor *tmp228 :moveToBlock:block @y
set :moveTo:x *tmp227
set :moveTo:y *tmp228
set :moveTo:radius :moveToBlock:radius
set :moveTo*retaddr 532
jump 503 always 0 0
set @counter :moveToBlock*retaddr
write "Depositing..." .display ".status3"
sensor *tmp229 @unit @firstItem
jump 547 notEqual *tmp229 :depositItems:item
set :moveToBlock:block :depositItems:block
set :moveToBlock:radius 6
set :moveToBlock*retaddr 540
jump 525 always 0 0
sensor :depositItems:cap :depositItems:block @itemCapacity
ucontrol itemDrop :depositItems:block 30 0 0 0
sensor *tmp233 @unit @firstItem
op mul *tmp234 *tmp233 :depositItems:cap
sensor *tmp235 :depositItems:block :depositItems:item
jump 541 greaterThan *tmp234 *tmp235
jump 552 always 0 0
sensor *tmp237 @unit @firstItem
jump 552 equal *tmp237 null
ucontrol itemDrop @air 1000 0 0 0
sensor *tmp237 @unit @firstItem
jump 549 notEqual *tmp237 null
write 0 .display ".transportTarget"
write null .display ".transportItem"
set @counter :depositItems*retaddr
ulocate ore core true :locateOre:ore :locateOre:x :locateOre:y *tmp239 0
jump 559 notEqual *tmp239 false
set .ERROR "Cannot locate ore"
stop
set @counter :locateOre*retaddr
op min :mineOre:amount :mineOre:amount 30
write :mineOre:amount .display ".transportTarget"
write :mineOre:ore .display ".transportItem"
set :locateOre:ore :mineOre:ore
set :locateOre*retaddr 566
jump 555 always 0 0
set :mineOre:x :locateOre:x
set :mineOre:y :locateOre:y
set :moveToEmpty:x :locateOre:x
set :moveToEmpty:y :locateOre:y
set :moveToEmpty*retaddr 572
jump 517 always 0 0
sensor *tmp244 @unit @firstItem
jump 579 equal *tmp244 :mineOre:ore
sensor *tmp247 @unit @firstItem
jump 579 equal *tmp247 null
ucontrol itemDrop @air 1000 0 0 0
sensor *tmp247 @unit @firstItem
jump 576 notEqual *tmp247 null
write "Mining..." .display ".status3"
op mul :second:result @second TIME_COMPRESS
op add :mineOre:stop :second:result 10
sensor :mineOre:item @unit @firstItem
op notEqual *tmp252 :mineOre:item null
op notEqual *tmp253 :mineOre:item :mineOre:ore
op land *tmp254 *tmp252 *tmp253
jump 592 notEqual *tmp254 false
ucontrol mine :mineOre:x :mineOre:y 0 0 0
op mul :second.1:result @second TIME_COMPRESS
jump 592 greaterThan :second.1:result :mineOre:stop
sensor *tmp259 @unit @totalItems
jump 582 lessThan *tmp259 :mineOre:amount
ucontrol unbind 0 0 0 0 0
set :depositItems:block :mineOre:block
set :depositItems:item :mineOre:ore
set :depositItems*retaddr 597
jump 533 always 0 0
set @counter :mineOre*retaddr
write "Mining " .display ".status2"
write :mineOre.1:ore .display ".item2"
write "core" .display ".block2"
set :mineOre:ore :mineOre.1:ore
set :mineOre:amount 30
set :mineOre:block .core
set :mineOre*retaddr 606
jump 560 always 0 0
set @counter :mineOre.1*retaddr
sensor :transportStatus.2:target :fetchBlock:block @itemCapacity
write :transportStatus.2:target .display ".transportTarget"
write :fetchBlock:item .display ".transportItem"
write "Fetching " .display ".status2"
write :fetchBlock:item .display ".item2"
write :fetchBlock:block .display ".block2"
sensor *tmp263 :fetchBlock:block @x
sensor *tmp264 :fetchBlock:block @y
set :moveToEmpty:x *tmp263
set :moveToEmpty:y *tmp264
set :moveToEmpty*retaddr 619
jump 517 always 0 0
sensor *tmp265 @unit @firstItem
jump 624 equal *tmp265 null
ucontrol itemDrop @air 1000 0 0 0
sensor *tmp265 @unit @firstItem
jump 621 notEqual *tmp265 null
ucontrol itemTake :fetchBlock:block :fetchBlock:item 30 0 0
sensor :fetchBlock:unitItem @unit @firstItem
op notEqual *tmp268 :fetchBlock:unitItem null
op notEqual *tmp269 :fetchBlock:unitItem :fetchBlock:item
op land *tmp270 *tmp268 *tmp269
jump 631 equal *tmp270 false
ucontrol itemDrop @air 1000 0 0 0
sensor *tmp272 @unit :fetchBlock:item
op lessThan *tmp273 *tmp272 30
sensor *tmp274 :fetchBlock:block :fetchBlock:item
op land *tmp275 *tmp273 *tmp274
jump 624 notEqual *tmp275 false
set :depositItems:block .core
set :depositItems:item :fetchBlock:item
set :depositItems*retaddr 640
jump 533 always 0 0
set @counter :fetchBlock*retaddr
ubind :findFreeUnit:unit_type
jump 653 equal @unit null
set :findFreeUnit:first_unit @unit
sensor *tmp278 @unit @controlled
jump 648 notEqual *tmp278 0
ucontrol flag :findFreeUnit:initial_flag 0 0 0 0
set @counter :findFreeUnit*retaddr
sensor *tmp281 :findFreeUnit:first_unit @dead
jump 651 notEqual *tmp281 1
set :findFreeUnit:first_unit @unit
ubind :findFreeUnit:unit_type
jump 644 notEqual :findFreeUnit:first_unit @unit
set @counter :findFreeUnit*retaddr
set :supplyBase0:supplied false
jump 727 notEqual .unloader1 null
sensor *tmp288 .core @graphite
jump 674 greaterThanEq *tmp288 .targetGraphite
sensor *tmp291 .press @coal
jump 674 greaterThanEq *tmp291 5
write "Goal 1: graphite requirement" .display ".status1"
write "Supplying " .display ".status2"
write @coal .display ".item2"
write .press .display ".block2"
sensor :supplyBlock:blockCapacity .press @itemCapacity
sensor *tmp295 .press @coal
op sub :supplyBlock:missing :supplyBlock:blockCapacity *tmp295
jump 673 lessThanEq :supplyBlock:missing 0
set :mineOre:ore @coal
set :mineOre:amount :supplyBlock:blockCapacity
set :mineOre:block .press
set :mineOre*retaddr 673
jump 560 always 0 0
set :supplyBase0:supplied true
sensor *tmp299 .core @silicon
jump 709 greaterThanEq *tmp299 .targetSilicon
sensor *tmp302 .smelter @coal
jump 693 greaterThanEq *tmp302 5
write "Goal 2: coal for silicon requirement" .display ".status1"
write "Supplying " .display ".status2"
write @coal .display ".item2"
write .smelter .display ".block2"
sensor :supplyBlock.1:blockCapacity .smelter @itemCapacity
sensor *tmp306 .smelter @coal
op sub :supplyBlock.1:missing :supplyBlock.1:blockCapacity *tmp306
jump 691 lessThanEq :supplyBlock.1:missing 0
set :mineOre:ore @coal
set :mineOre:amount :supplyBlock.1:blockCapacity
set :mineOre:block .smelter
set :mineOre*retaddr 691
jump 560 always 0 0
set :supplyBase0:supplied true
jump 709 always 0 0
sensor *tmp310 .smelter @sand
jump 709 greaterThanEq *tmp310 5
write "Goal 3: sand for silicon requirement" .display ".status1"
write "Supplying " .display ".status2"
write @sand .display ".item2"
write .smelter .display ".block2"
sensor :supplyBlock.2:blockCapacity .smelter @itemCapacity
sensor *tmp314 .smelter @sand
op sub :supplyBlock.2:missing :supplyBlock.2:blockCapacity *tmp314
jump 708 lessThanEq :supplyBlock.2:missing 0
set :mineOre:ore @sand
set :mineOre:amount :supplyBlock.2:blockCapacity
set :mineOre:block .smelter
set :mineOre*retaddr 708
jump 560 always 0 0
set :supplyBase0:supplied true
sensor *tmp318 .battery @totalPower
jump 727 greaterThanEq *tmp318 .powerTarget
sensor *tmp321 .generator @coal
jump 727 greaterThanEq *tmp321 2
write "Goal 4: supplying generator" .display ".status1"
write "Supplying " .display ".status2"
write @coal .display ".item2"
write .generator .display ".block2"
sensor :supplyBlock.3:blockCapacity .generator @itemCapacity
sensor *tmp325 .generator @coal
op sub :supplyBlock.3:missing :supplyBlock.3:blockCapacity *tmp325
jump 726 lessThanEq :supplyBlock.3:missing 0
set :mineOre:ore @coal
set :mineOre:amount :supplyBlock.3:blockCapacity
set :mineOre:block .generator
set :mineOre*retaddr 726
jump 560 always 0 0
set :supplyBase0:supplied true
set *tmp331 100
sensor *tmp329 .core @titanium
jump 733 greaterThanEq *tmp329 .targetTitanium
sensor *tmp332 .core @titanium
op sub *tmp333 .targetTitanium *tmp332
op min *tmp331 7 *tmp333
sensor *tmp335 .titaniumDrill @titanium
jump 785 greaterThanEq *tmp335 *tmp331
jump 790 notEqual :supplyBase0:supplied false
sensor *tmp340 .battery @totalPower
op mul *tmp341 .unloader1 .powerTarget
jump 744 greaterThanEq *tmp340 *tmp341
write "Goal 5: supplying generator" .display ".status1"
set :mineOre.1:ore @coal
set :mineOre.1*retaddr 743
jump 598 always 0 0
set @counter :supplyBase0*retaddr
sensor *tmp344 .core @silicon
jump 755 greaterThanEq *tmp344 .targetSilicon
write "Goal 6: silicon requirement" .display ".status1"
sensor :supplyBase0:coal .core @coal
sensor :supplyBase0:sand .core @sand
set :mineOre.1:ore @sand
jump 752 greaterThanEq :supplyBase0:coal :supplyBase0:sand
set :mineOre.1:ore @coal
set :mineOre.1*retaddr 754
jump 598 always 0 0
set @counter :supplyBase0*retaddr
sensor *tmp351 .core @copper
jump 762 greaterThanEq *tmp351 .targetCopper
write "Goal 7: copper requirement" .display ".status1"
set :mineOre.1:ore @copper
set :mineOre.1*retaddr 761
jump 598 always 0 0
set @counter :supplyBase0*retaddr
sensor *tmp354 .core @lead
jump 769 greaterThanEq *tmp354 .targetLead
write "Goal 8: lead requirement" .display ".status1"
set :mineOre.1:ore @lead
set :mineOre.1*retaddr 768
jump 598 always 0 0
set @counter :supplyBase0*retaddr
sensor *tmp357 .core @metaglass
jump 776 greaterThanEq *tmp357 .targetMetaglass
write "Goal 9: metaglass requirement" .display ".status1"
set :mineOre.1:ore @sand
set :mineOre.1*retaddr 775
jump 598 always 0 0
set @counter :supplyBase0*retaddr
write "Goal 10: supplying base" .display ".status1"
sensor :supplyBase0:coal.1 .core @coal
sensor :supplyBase0:sand.1 .core @sand
set :mineOre.1:ore @sand
jump 782 greaterThan :supplyBase0:coal.1 :supplyBase0:sand.1
set :mineOre.1:ore @coal
set :mineOre.1*retaddr 784
jump 598 always 0 0
set @counter :supplyBase0*retaddr
write "Goal 11: Fetching titanium" .display ".status1"
set :fetchBlock:block .titaniumDrill
set :fetchBlock:item @titanium
set :fetchBlock*retaddr 790
jump 607 always 0 0
set @counter :supplyBase0*retaddr
write "Phase 1: supplying base" .display ".status1"
set :mineOre.1:ore @coal
set :mineOre.1*retaddr 795
jump 598 always 0 0
set @counter :supplyBase1*retaddr
read *tmp34 .controller ".monos"
jump 801 lessThanEq *tmp34 3
set :supplyBase1*retaddr 800
jump 791 always 0 0
set @counter :supplyBase*retaddr
set :supplyBase0*retaddr 803
jump 654 always 0 0
set @counter :supplyBase*retaddr
sensor *tmp366 .core @copper
jump 818 lessThan *tmp366 .targetCopper
sensor *tmp369 .core @lead
jump 818 lessThan *tmp369 .targetLead
sensor *tmp372 .core @graphite
jump 818 lessThan *tmp372 .targetGraphite
sensor *tmp375 .core @silicon
jump 818 lessThan *tmp375 .targetSilicon
sensor *tmp378 .core @titanium
jump 818 lessThan *tmp378 .targetTitanium
sensor *tmp381 .core @metaglass
jump 818 lessThan *tmp381 .targetMetaglass
set :targetMet*retval true
set @counter :targetMet*retaddr
set :targetMet*retval false
set @counter :targetMet*retaddr
op sign :meetTarget:count :meetTarget:copper 0
op sign *tmp385 :meetTarget:lead 0
op add :meetTarget:count :meetTarget:count *tmp385
op sign *tmp385 :meetTarget:graphite 0
op add :meetTarget:count :meetTarget:count *tmp385
op sign *tmp385 :meetTarget:silicon 0
op add :meetTarget:count :meetTarget:count *tmp385
op sign *tmp385 :meetTarget:titanium 0
op add :meetTarget:count :meetTarget:count *tmp385
op sign *tmp385 :meetTarget:metaglass 0
op add :meetTarget:count :meetTarget:count *tmp385
write :meetTarget:count .display ".totalTargets"
write :meetTarget:block .display ".nextBlock"
write :meetTarget:copper .display ".targetCopper"
write :meetTarget:lead .display ".targetLead"
write :meetTarget:graphite .display ".targetGraphite"
write :meetTarget:silicon .display ".targetSilicon"
write :meetTarget:titanium .display ".targetTitanium"
write :meetTarget:metaglass .display ".targetMetaglass"
set .targetCopper :meetTarget:copper
set .targetLead :meetTarget:lead
set .targetGraphite :meetTarget:graphite
set .targetSilicon :meetTarget:silicon
set .targetTitanium :meetTarget:titanium
set .targetMetaglass :meetTarget:metaglass
op add *tmp386 :meetTarget:graphite .graphiteSurplus
write *tmp386 .controller ".pressTarget"
op add *tmp387 :meetTarget:silicon .siliconSurplus
write *tmp387 .controller ".smelterTarget"
op add *tmp388 :meetTarget:metaglass .metaglassSurplus
write *tmp388 .controller ".kilnTarget"
op sign *tmp389 :meetTarget:lead 0
op mul *tmp390 *tmp389 20
op add *tmp391 :meetTarget:lead *tmp390
write *tmp391 .controller ".leadReserve"
op sign *tmp392 :meetTarget:silicon 0
op mul *tmp393 *tmp392 20
op add *tmp394 :meetTarget:silicon *tmp393
write *tmp394 .controller ".siliconReserve"
set :targetMet*retaddr 861
jump 804 always 0 0
jump 867 notEqual :targetMet*retval false
set :supplyBase*retaddr 864
jump 796 always 0 0
set :targetMet*retaddr 866
jump 804 always 0 0
jump 862 equal :targetMet*retval false
set @counter :meetTarget*retaddr
read *tmp76 bank1 511
op sub *tmp396 *tmp76 1
write *tmp396 bank1 511
op mul :second.2:result @second TIME_COMPRESS
op floor *tmp400 :second.2:result 0
op mul *tmp401 *tmp400 1000
op add *tmp402 :log:encodedId *tmp401
write *tmp402 bank1 *tmp396
set @counter :log*retaddr
sensor :log:encodedId :logBlock:block @id
set :log*retaddr 880
jump 868 always 0 0
set @counter :logBlock*retaddr
set :moveTo.1:x :buildBlockAt:x
set :moveTo.1:y :buildBlockAt:y
set :moveTo.1*retaddr 885
jump 511 always 0 0
write "Building..." .display ".status3"
ucontrol getBlock :buildBlockAt:x :buildBlockAt:y :buildBlockAt:type :buildBlockAt:building 0
jump 896 equal :buildBlockAt:building null
jump 891 notEqual :buildBlockAt:type :buildBlockAt:block
set :buildBlockAt*retval :buildBlockAt:building
set @counter :buildBlockAt*retaddr
jump 894 equal :buildBlockAt:skipError false
set :buildBlockAt*retval null
set @counter :buildBlockAt*retaddr
set .ERROR "Cannot build at ("
stop
ucontrol build :buildBlockAt:x :buildBlockAt:y :buildBlockAt:block :buildBlockAt:rotation :buildBlockAt:config
wait 0.25
ucontrol getBlock :buildBlockAt:x :buildBlockAt:y :buildBlockAt:type :buildBlockAt:building 0
jump 902 notEqual :buildBlockAt:building null
set :buildBlockAt*retval null
set @counter :buildBlockAt*retaddr
jump 898 notEqual :buildBlockAt:type :buildBlockAt:block
set :logBlock:block :buildBlockAt:block
set :logBlock*retaddr 906
jump 877 always 0 0
set :buildBlockAt*retval :buildBlockAt:building
set @counter :buildBlockAt*retaddr
set :meetTarget:block :buildBlock:block
set :meetTarget:copper :buildBlock:copper
set :meetTarget:lead :buildBlock:lead
set :meetTarget:graphite :buildBlock:graphite
set :meetTarget:silicon :buildBlock:silicon
set :meetTarget:titanium :buildBlock:titanium
set :meetTarget:metaglass :buildBlock:metaglass
set :meetTarget*retaddr 917
jump 820 always 0 0
set :buildBlockAt:block :buildBlock:block
set :buildBlockAt:x :buildBlock:x
set :buildBlockAt:y :buildBlock:y
set :buildBlockAt:rotation :buildBlock:rotation
set :buildBlockAt:config :buildBlock:config
set :buildBlockAt:skipError false
set :buildBlockAt*retaddr 925
jump 881 always 0 0
set :buildBlock*retval :buildBlockAt*retval
set @counter :buildBlock*retaddr
set :findUnits:count 0
ubind :findUnits:type
set :findUnits:firstUnit @unit
jump 934 equal :findUnits:firstUnit null
op add :findUnits:count :findUnits:count 1
ubind :findUnits:type
jump 931 notEqual @unit :findUnits:firstUnit
set :findUnits*retval :findUnits:count
set @counter :findUnits*retaddr
print "Compiled by Mindcode - github.com/cardillan/mindcode"

