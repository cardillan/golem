  1795 instructions before optimizations.
   111 instructions eliminated by Temp Variables Elimination (2 iterations).
   239 instructions eliminated by Dead Code Elimination (7 iterations).
C:\Home\golem\jam-202507\OreLocator.mnd:21:19 Variable 'mapProgress' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:21:32 Variable 'mapTotal' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:21:42 Variable 'mapAction' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:26:5 Variable 'searchFinished' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:28:5 Variable 'water1X' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:28:14 Variable 'water1Y' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:29:5 Variable 'containerX' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:29:17 Variable 'containerY' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:30:5 Variable 'water2X' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:30:14 Variable 'water2Y' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:31:5 Variable 'generatorX' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:31:17 Variable 'generatorY' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:32:5 Variable 'nodeX' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:32:12 Variable 'nodeY' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:33:5 Variable 'panelX' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:33:13 Variable 'panelY' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:34:5 Variable 'batteryX' is not used.
C:\Home\golem\jam-202507\OreLocator.mnd:34:15 Variable 'batteryY' is not used.
     2 instructions eliminated by Jump Normalization (6 iterations).
   122 instructions eliminated by Jump Optimization (6 iterations).
   123 instructions eliminated by Single Step Elimination (2 passes, 8 iterations).
     7 instructions modified by Expression Optimization (3 iterations).
   337 instructions eliminated by Data Flow Optimization (4 passes, 15 iterations).
     2 loops improved by Loop Hoisting.
     2 instructions added by Loop Optimization (3 iterations).
    10 loops improved by Loop Optimization.
    78 instructions added by Function Inlining (8 iterations).
     1 function calls inlined by Function Inlining.
     6 instructions eliminated by Jump Straightening (2 passes, 6 iterations).
    20 instructions updated by JumpThreading.
    17 instructions eliminated by Unreachable Code Elimination (3 iterations).
   918 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 126):
    Replicate loop condition at line 41:5                        size    +1, benefit       50.0, efficiency     50.000
  * Replicate loop condition at line 41:5                        size    +1, benefit    31250.0, efficiency  31250.000 (+1 instructions)
    Replicate loop condition at line 41:5                        size    +1, benefit     1250.0, efficiency   1250.000
    Replicate loop condition at line 41:5                        size    +1, benefit      650.0, efficiency    650.000
  ! Inline function 'computeRowValues' defined at line 74:1      size  +473, benefit    34375.0, efficiency     72.674
    Inline function 'tryPlaceGenerator' defined at line 569:1    size   +75, benefit      143.0, efficiency      1.907
    Inline function call at line 160:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 161:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 162:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 163:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 164:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 194:18                          size   +79, benefit     1562.5, efficiency     19.778
    Inline function call at line 195:18                          size   +79, benefit     1562.5, efficiency     19.778
    Inline function call at line 710:8                           size   +76, benefit        5.5, efficiency      0.072
    Inline function call at line 734:12                          size   +76, benefit      137.5, efficiency      1.809

Pass 1: speed optimization selection (cost limit 125):
    Replicate loop condition at line 41:5                        size    +1, benefit       50.0, efficiency     50.000
  * Replicate loop condition at line 41:5                        size    +1, benefit     1250.0, efficiency   1250.000 (+1 instructions)
    Replicate loop condition at line 41:5                        size    +1, benefit      650.0, efficiency    650.000
  ! Inline function 'computeRowValues' defined at line 74:1      size  +473, benefit    34375.0, efficiency     72.674
    Inline function 'tryPlaceGenerator' defined at line 569:1    size   +75, benefit      143.0, efficiency      1.907
    Inline function call at line 160:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 161:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 162:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 163:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 164:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 194:18                          size   +79, benefit     1562.5, efficiency     19.778
    Inline function call at line 195:18                          size   +79, benefit     1562.5, efficiency     19.778
    Inline function call at line 710:8                           size   +76, benefit        5.5, efficiency      0.072
    Inline function call at line 734:12                          size   +76, benefit      137.5, efficiency      1.809

Pass 1: speed optimization selection (cost limit 124):
    Replicate loop condition at line 41:5                        size    +1, benefit       50.0, efficiency     50.000
  * Replicate loop condition at line 41:5                        size    +1, benefit      650.0, efficiency    650.000 (+1 instructions)
  ! Inline function 'computeRowValues' defined at line 74:1      size  +473, benefit    34375.0, efficiency     72.674
    Inline function 'tryPlaceGenerator' defined at line 569:1    size   +75, benefit      143.0, efficiency      1.907
    Inline function call at line 160:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 161:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 162:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 163:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 164:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 194:18                          size   +79, benefit     1562.5, efficiency     19.778
    Inline function call at line 195:18                          size   +79, benefit     1562.5, efficiency     19.778
    Inline function call at line 710:8                           size   +76, benefit        5.5, efficiency      0.072
    Inline function call at line 734:12                          size   +76, benefit      137.5, efficiency      1.809

Pass 1: speed optimization selection (cost limit 123):
    Replicate loop condition at line 41:5                        size    +1, benefit       50.0, efficiency     50.000
  ! Inline function 'computeRowValues' defined at line 74:1      size  +473, benefit    34375.0, efficiency     72.674
    Inline function 'tryPlaceGenerator' defined at line 569:1    size   +75, benefit      143.0, efficiency      1.907
  * Inline function call at line 160:14                          size   +79, benefit     6250.0, efficiency     79.114 (+74 instructions)
    Inline function call at line 161:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 162:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 163:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 164:14                          size   +79, benefit     6250.0, efficiency     79.114
    Inline function call at line 194:18                          size   +79, benefit     1562.5, efficiency     19.778
    Inline function call at line 195:18                          size   +79, benefit     1562.5, efficiency     19.778
    Inline function call at line 710:8                           size   +76, benefit        5.5, efficiency      0.072
    Inline function call at line 734:12                          size   +76, benefit      137.5, efficiency      1.809

Pass 1: speed optimization selection (cost limit 49):
  * Replicate loop condition at line 41:5                        size    +1, benefit       50.0, efficiency     50.000 (+1 instructions)
  ! Inline function 'computeRowValues' defined at line 74:1      size  +394, benefit    28125.0, efficiency     71.383
  ! Inline function 'tryPlaceGenerator' defined at line 569:1    size   +75, benefit      143.0, efficiency      1.907
  ! Inline function call at line 161:14                          size   +79, benefit     6250.0, efficiency     79.114
  ! Inline function call at line 162:14                          size   +79, benefit     6250.0, efficiency     79.114
  ! Inline function call at line 163:14                          size   +79, benefit     6250.0, efficiency     79.114
  ! Inline function call at line 164:14                          size   +79, benefit     6250.0, efficiency     79.114
  ! Inline function call at line 194:18                          size   +79, benefit     1562.5, efficiency     19.778
  ! Inline function call at line 195:18                          size   +79, benefit     1562.5, efficiency     19.778
  ! Inline function call at line 710:8                           size   +76, benefit        5.5, efficiency      0.072
  ! Inline function call at line 734:12                          size   +76, benefit      137.5, efficiency      1.809

Pass 1: speed optimization selection (cost limit 48):
  ! Inline function 'computeRowValues' defined at line 74:1      size  +394, benefit    28125.0, efficiency     71.383
  ! Inline function 'tryPlaceGenerator' defined at line 569:1    size   +75, benefit      143.0, efficiency      1.907
  ! Inline function call at line 161:14                          size   +79, benefit     6250.0, efficiency     79.114
  ! Inline function call at line 162:14                          size   +79, benefit     6250.0, efficiency     79.114
  ! Inline function call at line 163:14                          size   +79, benefit     6250.0, efficiency     79.114
  ! Inline function call at line 164:14                          size   +79, benefit     6250.0, efficiency     79.114
  ! Inline function call at line 194:18                          size   +79, benefit     1562.5, efficiency     19.778
  ! Inline function call at line 195:18                          size   +79, benefit     1562.5, efficiency     19.778
  ! Inline function call at line 710:8                           size   +76, benefit        5.5, efficiency      0.072
  ! Inline function call at line 734:12                          size   +76, benefit      137.5, efficiency      1.809

Pass 2: speed optimization selection (cost limit 59):
  ! Inline function 'computeRowValues' defined at line 74:1      size  +389, benefit    28125.0, efficiency     72.301
  ! Inline function 'tryPlaceGenerator' defined at line 569:1    size   +75, benefit      143.0, efficiency      1.907
  ! Inline function call at line 161:14                          size   +78, benefit     6250.0, efficiency     80.128
  ! Inline function call at line 162:14                          size   +78, benefit     6250.0, efficiency     80.128
  ! Inline function call at line 163:14                          size   +78, benefit     6250.0, efficiency     80.128
  ! Inline function call at line 164:14                          size   +78, benefit     6250.0, efficiency     80.128
  ! Inline function call at line 194:18                          size   +78, benefit     1562.5, efficiency     20.032
  ! Inline function call at line 195:18                          size   +78, benefit     1562.5, efficiency     20.032
  ! Inline function call at line 710:8                           size   +76, benefit        5.5, efficiency      0.072
  ! Inline function call at line 734:12                          size   +76, benefit      137.5, efficiency      1.809

Pass 3: speed optimization selection (cost limit 59):
  ! Inline function 'computeRowValues' defined at line 74:1      size  +389, benefit    28125.0, efficiency     72.301
  ! Inline function 'tryPlaceGenerator' defined at line 569:1    size   +75, benefit      143.0, efficiency      1.907
  ! Inline function call at line 161:14                          size   +78, benefit     6250.0, efficiency     80.128
  ! Inline function call at line 162:14                          size   +78, benefit     6250.0, efficiency     80.128
  ! Inline function call at line 163:14                          size   +78, benefit     6250.0, efficiency     80.128
  ! Inline function call at line 164:14                          size   +78, benefit     6250.0, efficiency     80.128
  ! Inline function call at line 194:18                          size   +78, benefit     1562.5, efficiency     20.032
  ! Inline function call at line 195:18                          size   +78, benefit     1562.5, efficiency     20.032
  ! Inline function call at line 710:8                           size   +76, benefit        5.5, efficiency      0.072
  ! Inline function call at line 734:12                          size   +76, benefit      137.5, efficiency      1.809

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-146 instructions):
 
   261 jump *label63 equal *tmp126 false
   262 set *tmp98 false
   263 jump *label53 always
-    * set *tmp127 null
   264 jump *label64 always
   265 label *label63
-    * set *tmp127 null
   266 label *label64
   267 op sub *tmp128 :locateOreAway:x .coreX
   268 op abs *tmp129 *tmp128
 
   284 label *label67
   285 set *tmp139 null
   286 label *label68
-    * set *tmp137 *tmp139
   287 jump *label66 always
   288 label *label65
-    * set *tmp137 null
   289 label *label66
   290 op greaterThanEq *tmp140 :locateOreAway:coreDist 7
   291 jump *label69 equal *tmp140 false
 
   316 jump *label77 equal *tmp156 false
   317 set *tmp144 true
   318 jump *label73 always
-    * set *tmp157 null
   319 jump *label78 always
   320 label *label77
-    * set *tmp157 null
   321 label *label78
   322 label *label75
   323 op add :visited:i :visited:i 1
 
   346 label *label71
   347 set *tmp143 null
   348 label *label72
-    * set *tmp141 *tmp143
   349 jump *label70 always
   350 label *label69
-    * set *tmp141 null
   351 label *label70
   352 label *label55
   353 jump *label54 always
 
   363 op greaterThan *tmp164 :findDrillLocationLocal:capacity 0
   364 set :findDrillLocationLocal*retval *tmp164
   365 jump *label44 always
-    * set *tmp163 null
   366 jump *label82 always
   367 label *label81
-    * set *tmp163 null
   368 label *label82
   369 op greaterThanEq *tmp165 :findDrillLocationLocal:limit 1000
   370 jump *label83 equal *tmp165 false
   371 set *tmp167 .mapSpots
   372 op add .mapSpots .mapSpots 1
-    * set *tmp166 *tmp167
   373 jump *label84 always
   374 label *label83
-    * set *tmp166 null
   375 label *label84
   376 set :moveTo.5:x :findDrillLocationLocal:oreX
   377 set :moveTo.5:y :findDrillLocationLocal:oreY
 
   479 label *label105
   480 set *tmp193 null
   481 label *label106
-    * set *tmp191 *tmp193
   482 jump *label104 always
   483 label *label103
-    * set *tmp191 null
   484 label *label104
   485 label *label102
   486 set :updatePosition.1:dx -0.5
 
   498 label *label110
   499 set *tmp197 null
   500 label *label111
-    * set *tmp195 *tmp197
   501 jump *label109 always
   502 label *label108
-    * set *tmp195 null
   503 label *label109
   504 label *label107
   505 set :updatePosition.2:dx 0.5
 
   517 label *label115
   518 set *tmp201 null
   519 label *label116
-    * set *tmp199 *tmp201
   520 jump *label114 always
   521 label *label113
-    * set *tmp199 null
   522 label *label114
   523 label *label112
   524 set :updatePosition.3:dx 1.5
 
   536 label *label120
   537 set *tmp205 null
   538 label *label121
-    * set *tmp203 *tmp205
   539 jump *label119 always
   540 label *label118
-    * set *tmp203 null
   541 label *label119
   542 label *label117
   543 label *label101
 
   559 label *label126
   560 set *tmp209 null
   561 label *label127
-    * set *tmp207 *tmp209
   562 jump *label125 always
   563 label *label124
-    * set *tmp207 null
   564 label *label125
   565 label *label123
   566 set :updatePosition.5:dx -0.5
 
   578 label *label131
   579 set *tmp213 null
   580 label *label132
-    * set *tmp211 *tmp213
   581 jump *label130 always
   582 label *label129
-    * set *tmp211 null
   583 label *label130
   584 label *label128
   585 set :updatePosition.6:dx 0.5
 
   597 label *label136
   598 set *tmp217 null
   599 label *label137
-    * set *tmp215 *tmp217
   600 jump *label135 always
   601 label *label134
-    * set *tmp215 null
   602 label *label135
   603 label *label133
   604 set :updatePosition.7:dx 1.5
 
   616 label *label141
   617 set *tmp221 null
   618 label *label142
-    * set *tmp219 *tmp221
   619 jump *label140 always
   620 label *label139
-    * set *tmp219 null
   621 label *label140
   622 label *label138
   623 label *label122
 
   639 label *label147
   640 set *tmp225 null
   641 label *label148
-    * set *tmp223 *tmp225
   642 jump *label146 always
   643 label *label145
-    * set *tmp223 null
   644 label *label146
   645 label *label144
   646 set :updatePosition.9:dx -0.5
 
   658 label *label152
   659 set *tmp229 null
   660 label *label153
-    * set *tmp227 *tmp229
   661 jump *label151 always
   662 label *label150
-    * set *tmp227 null
   663 label *label151
   664 label *label149
   665 set :updatePosition.10:dx 0.5
 
   677 label *label157
   678 set *tmp233 null
   679 label *label158
-    * set *tmp231 *tmp233
   680 jump *label156 always
   681 label *label155
-    * set *tmp231 null
   682 label *label156
   683 label *label154
   684 set :updatePosition.11:dx 1.5
 
   696 label *label162
   697 set *tmp237 null
   698 label *label163
-    * set *tmp235 *tmp237
   699 jump *label161 always
   700 label *label160
-    * set *tmp235 null
   701 label *label161
   702 label *label159
   703 label *label143
 
   719 label *label168
   720 set *tmp241 null
   721 label *label169
-    * set *tmp239 *tmp241
   722 jump *label167 always
   723 label *label166
-    * set *tmp239 null
   724 label *label167
   725 label *label165
   726 set :updatePosition.13:dx -0.5
 
   738 label *label173
   739 set *tmp245 null
   740 label *label174
-    * set *tmp243 *tmp245
   741 jump *label172 always
   742 label *label171
-    * set *tmp243 null
   743 label *label172
   744 label *label170
   745 set :updatePosition.14:dx 0.5
 
   757 label *label178
   758 set *tmp249 null
   759 label *label179
-    * set *tmp247 *tmp249
   760 jump *label177 always
   761 label *label176
-    * set *tmp247 null
   762 label *label177
   763 label *label175
   764 set :updatePosition.15:dx 1.5
 
   776 label *label183
   777 set *tmp253 null
   778 label *label184
-    * set *tmp251 *tmp253
   779 jump *label182 always
   780 label *label181
-    * set *tmp251 null
   781 label *label182
   782 label *label180
   783 label *label164
-    * set *tmp185 null
   784 jump *label100 always
   785 label *label99
   786 op equal *tmp254 :findBestPosition:size 3
 
   812 label *label191
   813 set *tmp266 null
   814 label *label192
-    * set *tmp264 *tmp266
   815 jump *label190 always
   816 label *label189
-    * set *tmp264 null
   817 label *label190
   818 label *label188
   819 set :updatePosition.17:dx 0
 
   831 label *label196
   832 set *tmp270 null
   833 label *label197
-    * set *tmp268 *tmp270
   834 jump *label195 always
   835 label *label194
-    * set *tmp268 null
   836 label *label195
   837 label *label193
   838 set :updatePosition.18:dx 1
 
   850 label *label201
   851 set *tmp274 null
   852 label *label202
-    * set *tmp272 *tmp274
   853 jump *label200 always
   854 label *label199
-    * set *tmp272 null
   855 label *label200
   856 label *label198
   857 label *label187
 
   873 label *label207
   874 set *tmp279 null
   875 label *label208
-    * set *tmp277 *tmp279
   876 jump *label206 always
   877 label *label205
-    * set *tmp277 null
   878 label *label206
   879 label *label204
   880 set :updatePosition.20:dx 0
 
   892 label *label212
   893 set *tmp283 null
   894 label *label213
-    * set *tmp281 *tmp283
   895 jump *label211 always
   896 label *label210
-    * set *tmp281 null
   897 label *label211
   898 label *label209
   899 set :updatePosition.21:dx 1
 
   911 label *label217
   912 set *tmp287 null
   913 label *label218
-    * set *tmp285 *tmp287
   914 jump *label216 always
   915 label *label215
-    * set *tmp285 null
   916 label *label216
   917 label *label214
   918 label *label203
 
   934 label *label223
   935 set *tmp292 null
   936 label *label224
-    * set *tmp290 *tmp292
   937 jump *label222 always
   938 label *label221
-    * set *tmp290 null
   939 label *label222
   940 label *label220
   941 set :updatePosition.23:dx 0
 
   953 label *label228
   954 set *tmp296 null
   955 label *label229
-    * set *tmp294 *tmp296
   956 jump *label227 always
   957 label *label226
-    * set *tmp294 null
   958 label *label227
   959 label *label225
   960 set :updatePosition.24:dx 1
 
   972 label *label233
   973 set *tmp300 null
   974 label *label234
-    * set *tmp298 *tmp300
   975 jump *label232 always
   976 label *label231
-    * set *tmp298 null
   977 label *label232
   978 label *label230
   979 label *label219
 
  1034 label *label241
  1035 set *tmp320 null
  1036 label *label242
-    * set *tmp318 *tmp320
  1037 jump *label240 always
  1038 label *label239
-    * set *tmp318 null
  1039 label *label240
  1040 label *label238
  1041 set :updatePosition.26:dx -0.5
 
  1053 label *label246
  1054 set *tmp324 null
  1055 label *label247
-    * set *tmp322 *tmp324
  1056 jump *label245 always
  1057 label *label244
-    * set *tmp322 null
  1058 label *label245
  1059 label *label243
  1060 set :updatePosition.27:dx 0.5
 
  1072 label *label251
  1073 set *tmp328 null
  1074 label *label252
-    * set *tmp326 *tmp328
  1075 jump *label250 always
  1076 label *label249
-    * set *tmp326 null
  1077 label *label250
  1078 label *label248
  1079 set :updatePosition.28:dx 1.5
 
  1091 label *label256
  1092 set *tmp332 null
  1093 label *label257
-    * set *tmp330 *tmp332
  1094 jump *label255 always
  1095 label *label254
-    * set *tmp330 null
  1096 label *label255
  1097 label *label253
  1098 label *label237
 
  1114 label *label262
  1115 set *tmp336 null
  1116 label *label263
-    * set *tmp334 *tmp336
  1117 jump *label261 always
  1118 label *label260
-    * set *tmp334 null
  1119 label *label261
  1120 label *label259
  1121 set :updatePosition.30:dx -0.5
 
  1133 label *label267
  1134 set *tmp340 null
  1135 label *label268
-    * set *tmp338 *tmp340
  1136 jump *label266 always
  1137 label *label265
-    * set *tmp338 null
  1138 label *label266
  1139 label *label264
  1140 set :updatePosition.31:dx 0.5
 
  1152 label *label272
  1153 set *tmp344 null
  1154 label *label273
-    * set *tmp342 *tmp344
  1155 jump *label271 always
  1156 label *label270
-    * set *tmp342 null
  1157 label *label271
  1158 label *label269
  1159 set :updatePosition.32:dx 1.5
 
  1171 label *label277
  1172 set *tmp348 null
  1173 label *label278
-    * set *tmp346 *tmp348
  1174 jump *label276 always
  1175 label *label275
-    * set *tmp346 null
  1176 label *label276
  1177 label *label274
  1178 label *label258
 
  1194 label *label283
  1195 set *tmp352 null
  1196 label *label284
-    * set *tmp350 *tmp352
  1197 jump *label282 always
  1198 label *label281
-    * set *tmp350 null
  1199 label *label282
  1200 label *label280
  1201 set :updatePosition.34:dx -0.5
 
  1213 label *label288
  1214 set *tmp356 null
  1215 label *label289
-    * set *tmp354 *tmp356
  1216 jump *label287 always
  1217 label *label286
-    * set *tmp354 null
  1218 label *label287
  1219 label *label285
  1220 set :updatePosition.35:dx 0.5
 
  1232 label *label293
  1233 set *tmp360 null
  1234 label *label294
-    * set *tmp358 *tmp360
  1235 jump *label292 always
  1236 label *label291
-    * set *tmp358 null
  1237 label *label292
  1238 label *label290
  1239 set :updatePosition.36:dx 1.5
 
  1251 label *label298
  1252 set *tmp364 null
  1253 label *label299
-    * set *tmp362 *tmp364
  1254 jump *label297 always
  1255 label *label296
-    * set *tmp362 null
  1256 label *label297
  1257 label *label295
  1258 label *label279
 
  1274 label *label304
  1275 set *tmp368 null
  1276 label *label305
-    * set *tmp366 *tmp368
  1277 jump *label303 always
  1278 label *label302
-    * set *tmp366 null
  1279 label *label303
  1280 label *label301
  1281 set :updatePosition.38:dx -0.5
 
  1293 label *label309
  1294 set *tmp372 null
  1295 label *label310
-    * set *tmp370 *tmp372
  1296 jump *label308 always
  1297 label *label307
-    * set *tmp370 null
  1298 label *label308
  1299 label *label306
  1300 set :updatePosition.39:dx 0.5
 
  1312 label *label314
  1313 set *tmp376 null
  1314 label *label315
-    * set *tmp374 *tmp376
  1315 jump *label313 always
  1316 label *label312
-    * set *tmp374 null
  1317 label *label313
  1318 label *label311
  1319 set :updatePosition.40:dx 1.5
 
  1331 label *label319
  1332 set *tmp380 null
  1333 label *label320
-    * set *tmp378 *tmp380
  1334 jump *label318 always
  1335 label *label317
-    * set *tmp378 null
  1336 label *label318
  1337 label *label316
  1338 label *label300
  1339 set *tmp255 null
  1340 label *label186
-    * set *tmp185 *tmp255
  1341 label *label100
  1342 op mul *tmp381 :findBestPosition:best 255
  1343 set *tmp173 *tmp381
 
  1355 op lessThan *tmp386 :findDrillLocationLocal:limit 1000
  1356 jump *label323 equal *tmp386 false
  1357 set .mapSpots :findDrillLocationLocal:score
-    * set *tmp387 :findDrillLocationLocal:score
  1358 jump *label324 always
  1359 label *label323
-    * set *tmp387 null
  1360 label *label324
  1361 op greaterThanEq *tmp388 :findDrillLocationLocal:capacity :findDrillLocationLocal:limit
  1362 jump *label325 equal *tmp388 false
 
  1377 op add .count .count 1
  1378 set *tmp397 .count
  1379 write :saveLocation:y bank1 *tmp397
-    * set *tmp399 .locations
  1380 op add .locations .locations 1
  1381 label *label327
  1382 ucontrol unbind
 
  1387 label *label325
  1388 set *tmp389 null
  1389 label *label326
-    * set *tmp383 *tmp389
  1390 jump *label322 always
  1391 label *label321
-    * set *tmp383 null
  1392 label *label322
  1393 op greaterThan *tmp400 :findDrillLocationLocal:score :findDrillLocationLocal:best
  1394 jump *label328 equal *tmp400 false
 
  1397 op add *tmp403 :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
  1398 set :findDrillLocationLocal:bestY *tmp403
  1399 set :findDrillLocationLocal:best :findDrillLocationLocal:score
-    * set *tmp401 :findDrillLocationLocal:best
  1400 jump *label329 always
  1401 label *label328
-    * set *tmp401 null
  1402 label *label329
  1403 op lessThanEq *tmp404 :findDrillLocationLocal:score :findDrillLocationLocal:last
  1404 jump *label330 equal *tmp404 false
  1405 jump *label92 always
-    * set *tmp405 null
  1406 jump *label331 always
  1407 label *label330
-    * set *tmp405 null
  1408 label *label331
  1409 set :findDrillLocationLocal:last :findDrillLocationLocal:score
  1410 op mul *tmp406 :findDrillLocationLocal:diffX 1.1
 
  1429 op lessThan *tmp419 *tmp418 7
  1430 jump *label334 equal *tmp419 false
  1431 jump *label92 always
-    * set *tmp420 null
  1432 jump *label335 always
  1433 label *label334
-    * set *tmp420 null
  1434 label *label335
  1435 label *label91
  1436 jump *label90 always
 
  1454 op add .count .count 1
  1455 set *tmp430 .count
  1456 write :saveLocation.1:y bank1 *tmp430
-    * set *tmp432 .locations
  1457 op add .locations .locations 1
  1458 label *label338
-    * set *tmp422 null
  1459 jump *label337 always
  1460 label *label336
-    * set *tmp422 null
  1461 label *label337
  1462 label *label51
  1463 jump *label50 always
 
  1537 op add *tmp451 *tmp450 :findPossiblePlacement:x
  1538 set :findPossiblePlacement*retval *tmp451
  1539 jump *label352 always
-    * set *tmp448 null
  1540 jump *label360 always
  1541 label *label359
-    * set *tmp448 null
  1542 label *label360
  1543 op sub *tmp452 3 :findPossiblePlacement:width
  1544 op greaterThan *tmp453 :findPossiblePlacement:x *tmp452
  1545 jump *label361 equal *tmp453 false
  1546 jump *label358 always
-    * set *tmp454 null
  1547 jump *label362 always
  1548 label *label361
-    * set *tmp454 null
  1549 label *label362
  1550 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
  1551 label *label357
 
  1556 op greaterThan *tmp456 :findPossiblePlacement:y *tmp455
  1557 jump *label363 equal *tmp456 false
  1558 jump *label355 always
-    * set *tmp457 null
  1559 jump *label364 always
  1560 label *label363
-    * set *tmp457 null
  1561 label *label364
  1562 label *label354
  1563 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
 
  1587 jump *label369 equal *tmp461 false
  1588 set :tryPlaceGenerator*retval false
  1589 jump *label365 always
-    * set *tmp462 null
  1590 jump *label370 always
  1591 label *label369
-    * set *tmp462 null
  1592 label *label370
  1593 op add *tmp463 :tryPlaceGenerator:centerX 0.5
  1594 op add *tmp464 *tmp463 :tryPlaceGenerator:c
 
  1604 set .generatorY *tmp470
  1605 op shl *tmp471 :tryPlaceGenerator:generatorVertical :tryPlaceGenerator:shift
  1606 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp471
-    * set *tmp460 :tryPlaceGenerator:terrainMask
  1607 jump *label368 always
  1608 label *label367
  1609 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
 
  1621 jump *label372 equal *tmp473 false
  1622 set :tryPlaceGenerator*retval false
  1623 jump *label365 always
-    * set *tmp474 null
  1624 jump *label373 always
  1625 label *label372
-    * set *tmp474 null
  1626 label *label373
  1627 op add *tmp475 :tryPlaceGenerator:centerX 0.5
  1628 op add *tmp476 *tmp475 :tryPlaceGenerator:c
 
  1638 set .generatorY *tmp482
  1639 op shl *tmp483 :tryPlaceGenerator:generatorHorizontal :tryPlaceGenerator:shift
  1640 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp483
-    * set *tmp460 :tryPlaceGenerator:terrainMask
  1641 label *label368
  1642 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
  1643 set :findPossiblePlacement:placementMask 1
 
  1654 jump *label375 equal *tmp485 false
  1655 set :tryPlaceGenerator*retval false
  1656 jump *label365 always
-    * set *tmp486 null
  1657 jump *label376 always
  1658 label *label375
-    * set *tmp486 null
  1659 label *label376
  1660 op add *tmp487 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
  1661 set .nodeX *tmp487
 
  1678 jump *label378 equal *tmp491 false
  1679 set :tryPlaceGenerator*retval false
  1680 jump *label365 always
-    * set *tmp492 null
  1681 jump *label379 always
  1682 label *label378
-    * set *tmp492 null
  1683 label *label379
  1684 op add *tmp493 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
  1685 set .panelX *tmp493
 
  1702 jump *label381 equal *tmp497 false
  1703 set :tryPlaceGenerator*retval false
  1704 jump *label365 always
-    * set *tmp498 null
  1705 jump *label382 always
  1706 label *label381
-    * set *tmp498 null
  1707 label *label382
  1708 op add *tmp499 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
  1709 set .batteryX *tmp499
 
  1812 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp544
  1813 op shl *tmp545 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
  1814 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp545
-    * set *tmp539 :layoutThoriumDrillAtLocation:cornersMask
  1815 jump *label390 always
  1816 label *label389
-    * set *tmp539 null
  1817 label *label390
  1818 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
  1819 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
 
  1836 set .containerY *tmp552
  1837 op shl *tmp553 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
  1838 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp553
-    * set *tmp548 :layoutThoriumDrillAtLocation:terrainMask
  1839 jump *label393 always
  1840 label *label392
-    * set *tmp548 null
  1841 label *label393
  1842 set :createFixedMatrix.3:row0 0b1111
  1843 set :createFixedMatrix.3:row1 0b1111
 
  1873 jump *label397 equal *tmp566 false
  1874 set :layoutThoriumDrillAtLocation*retval true
  1875 jump *label383 always
-    * set *tmp567 null
  1876 jump *label398 always
  1877 label *label397
-    * set *tmp567 null
  1878 label *label398
  1879 set :layoutThoriumDrillAtLocation:sx 3
  1880 set :layoutThoriumDrillAtLocation:sy 3
 
  1917 jump *label408 equal *tmp577 false
  1918 set *tmp572 0
  1919 jump *label407 always
-    * set *tmp578 null
  1920 jump *label409 always
  1921 label *label408
-    * set *tmp578 null
  1922 label *label409
  1923 op mul *tmp579 7 :shiftMask:shiftY
  1924 op add *tmp580 :shiftMask:shiftX *tmp579
 
  1930 op and *tmp584 :shiftMask:mask :shiftMask:clearMask
  1931 op shl *tmp585 *tmp584 :shiftMask:shift
  1932 set :shiftMask:mask *tmp585
-    * set *tmp582 :shiftMask:mask
  1933 jump *label411 always
  1934 label *label410
  1935 op sub *tmp586 0 :shiftMask:shift
  1936 op shr :shiftMask:mask :shiftMask:mask *tmp586
-    * set *tmp582 :shiftMask:mask
  1937 label *label411
  1938 op notEqual *tmp587 :shiftMask:shiftX 0
  1939 jump *label412 equal *tmp587 false
 
  1946 op abs *tmp594 :shiftMask:shiftX
  1947 op sub *tmp595 7 *tmp594
  1948 op shl :shiftMask:keep :shiftMask:keep *tmp595
-    * set *tmp593 :shiftMask:keep
  1949 jump *label415 always
  1950 label *label414
-    * set *tmp593 null
  1951 label *label415
  1952 op shl *tmp596 :shiftMask:keep 7
  1953 op or :shiftMask:keep :shiftMask:keep *tmp596
 
  1956 op shl *tmp598 :shiftMask:keep 21
  1957 op or :shiftMask:keep :shiftMask:keep *tmp598
  1958 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
-    * set *tmp588 :shiftMask:mask
  1959 jump *label413 always
  1960 label *label412
-    * set *tmp588 null
  1961 label *label413
  1962 set *tmp572 :shiftMask:mask
  1963 jump *label407 always
 
  1980 jump *label417 equal *tmp602 false
  1981 set :layoutThoriumDrillAtLocation*retval true
  1982 jump *label383 always
-    * set *tmp603 null
  1983 jump *label418 always
  1984 label *label417
-    * set *tmp603 null
  1985 label *label418
  1986 label *label400
  1987 multijump *tmp568 0 0 (m:marker0)
 
  2031 jump *label423 equal *tmp604 false
  2032 set :layoutThoriumDrill*retval false
  2033 jump *label421 always
-    * set *tmp605 null
  2034 jump *label424 always
  2035 label *label423
-    * set *tmp605 null
  2036 label *label424
  2037 setaddr :layoutThoriumDrillAtLocation*retaddr *label425 (h:*label425)
  2038 call *label13 *invalid :layoutThoriumDrillAtLocation*retval (m:*label425) (h:*label425)

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-91 instructions):
 
   279 op equal *tmp138 :locateOreAway:lastY :locateOreAway:y
   280 jump *label67 equal *tmp138 false
   281 jump *label55 always
-    * set *tmp139 null
   282 jump *label68 always
   283 label *label67
-    * set *tmp139 null
   284 label *label68
   285 jump *label66 always
   286 label *label65
 
   339 label *label79
   340 set *tmp159 null
   341 label *label80
-    * set *tmp143 *tmp159
   342 jump *label72 always
   343 label *label71
-    * set *tmp143 null
   344 label *label72
   345 jump *label70 always
   346 label *label69
 
   364 label *label82
   365 op greaterThanEq *tmp165 :findDrillLocationLocal:limit 1000
   366 jump *label83 equal *tmp165 false
-    * set *tmp167 .mapSpots
   367 op add .mapSpots .mapSpots 1
   368 jump *label84 always
   369 label *label83
 
   469 set :findDrillLocationLocal:diffX :updatePosition:dx
   470 set :findDrillLocationLocal:diffY :updatePosition:dy
   471 set :findBestPosition:best :updatePosition:value
-    * set *tmp193 :findBestPosition:best
   472 jump *label106 always
   473 label *label105
-    * set *tmp193 null
   474 label *label106
   475 jump *label104 always
   476 label *label103
 
   486 set :findDrillLocationLocal:diffX :updatePosition.1:dx
   487 set :findDrillLocationLocal:diffY :updatePosition.1:dy
   488 set :findBestPosition:best :updatePosition.1:value
-    * set *tmp197 :findBestPosition:best
   489 jump *label111 always
   490 label *label110
-    * set *tmp197 null
   491 label *label111
   492 jump *label109 always
   493 label *label108
 
   503 set :findDrillLocationLocal:diffX :updatePosition.2:dx
   504 set :findDrillLocationLocal:diffY :updatePosition.2:dy
   505 set :findBestPosition:best :updatePosition.2:value
-    * set *tmp201 :findBestPosition:best
   506 jump *label116 always
   507 label *label115
-    * set *tmp201 null
   508 label *label116
   509 jump *label114 always
   510 label *label113
 
   520 set :findDrillLocationLocal:diffX :updatePosition.3:dx
   521 set :findDrillLocationLocal:diffY :updatePosition.3:dy
   522 set :findBestPosition:best :updatePosition.3:value
-    * set *tmp205 :findBestPosition:best
   523 jump *label121 always
   524 label *label120
-    * set *tmp205 null
   525 label *label121
   526 jump *label119 always
   527 label *label118
 
   541 set :findDrillLocationLocal:diffX :updatePosition.4:dx
   542 set :findDrillLocationLocal:diffY :updatePosition.4:dy
   543 set :findBestPosition:best :updatePosition.4:value
-    * set *tmp209 :findBestPosition:best
   544 jump *label127 always
   545 label *label126
-    * set *tmp209 null
   546 label *label127
   547 jump *label125 always
   548 label *label124
 
   558 set :findDrillLocationLocal:diffX :updatePosition.5:dx
   559 set :findDrillLocationLocal:diffY :updatePosition.5:dy
   560 set :findBestPosition:best :updatePosition.5:value
-    * set *tmp213 :findBestPosition:best
   561 jump *label132 always
   562 label *label131
-    * set *tmp213 null
   563 label *label132
   564 jump *label130 always
   565 label *label129
 
   575 set :findDrillLocationLocal:diffX :updatePosition.6:dx
   576 set :findDrillLocationLocal:diffY :updatePosition.6:dy
   577 set :findBestPosition:best :updatePosition.6:value
-    * set *tmp217 :findBestPosition:best
   578 jump *label137 always
   579 label *label136
-    * set *tmp217 null
   580 label *label137
   581 jump *label135 always
   582 label *label134
 
   592 set :findDrillLocationLocal:diffX :updatePosition.7:dx
   593 set :findDrillLocationLocal:diffY :updatePosition.7:dy
   594 set :findBestPosition:best :updatePosition.7:value
-    * set *tmp221 :findBestPosition:best
   595 jump *label142 always
   596 label *label141
-    * set *tmp221 null
   597 label *label142
   598 jump *label140 always
   599 label *label139
 
   613 set :findDrillLocationLocal:diffX :updatePosition.8:dx
   614 set :findDrillLocationLocal:diffY :updatePosition.8:dy
   615 set :findBestPosition:best :updatePosition.8:value
-    * set *tmp225 :findBestPosition:best
   616 jump *label148 always
   617 label *label147
-    * set *tmp225 null
   618 label *label148
   619 jump *label146 always
   620 label *label145
 
   630 set :findDrillLocationLocal:diffX :updatePosition.9:dx
   631 set :findDrillLocationLocal:diffY :updatePosition.9:dy
   632 set :findBestPosition:best :updatePosition.9:value
-    * set *tmp229 :findBestPosition:best
   633 jump *label153 always
   634 label *label152
-    * set *tmp229 null
   635 label *label153
   636 jump *label151 always
   637 label *label150
 
   647 set :findDrillLocationLocal:diffX :updatePosition.10:dx
   648 set :findDrillLocationLocal:diffY :updatePosition.10:dy
   649 set :findBestPosition:best :updatePosition.10:value
-    * set *tmp233 :findBestPosition:best
   650 jump *label158 always
   651 label *label157
-    * set *tmp233 null
   652 label *label158
   653 jump *label156 always
   654 label *label155
 
   664 set :findDrillLocationLocal:diffX :updatePosition.11:dx
   665 set :findDrillLocationLocal:diffY :updatePosition.11:dy
   666 set :findBestPosition:best :updatePosition.11:value
-    * set *tmp237 :findBestPosition:best
   667 jump *label163 always
   668 label *label162
-    * set *tmp237 null
   669 label *label163
   670 jump *label161 always
   671 label *label160
 
   685 set :findDrillLocationLocal:diffX :updatePosition.12:dx
   686 set :findDrillLocationLocal:diffY :updatePosition.12:dy
   687 set :findBestPosition:best :updatePosition.12:value
-    * set *tmp241 :findBestPosition:best
   688 jump *label169 always
   689 label *label168
-    * set *tmp241 null
   690 label *label169
   691 jump *label167 always
   692 label *label166
 
   702 set :findDrillLocationLocal:diffX :updatePosition.13:dx
   703 set :findDrillLocationLocal:diffY :updatePosition.13:dy
   704 set :findBestPosition:best :updatePosition.13:value
-    * set *tmp245 :findBestPosition:best
   705 jump *label174 always
   706 label *label173
-    * set *tmp245 null
   707 label *label174
   708 jump *label172 always
   709 label *label171
 
   719 set :findDrillLocationLocal:diffX :updatePosition.14:dx
   720 set :findDrillLocationLocal:diffY :updatePosition.14:dy
   721 set :findBestPosition:best :updatePosition.14:value
-    * set *tmp249 :findBestPosition:best
   722 jump *label179 always
   723 label *label178
-    * set *tmp249 null
   724 label *label179
   725 jump *label177 always
   726 label *label176
 
   736 set :findDrillLocationLocal:diffX :updatePosition.15:dx
   737 set :findDrillLocationLocal:diffY :updatePosition.15:dy
   738 set :findBestPosition:best :updatePosition.15:value
-    * set *tmp253 :findBestPosition:best
   739 jump *label184 always
   740 label *label183
-    * set *tmp253 null
   741 label *label184
   742 jump *label182 always
   743 label *label181
 
   770 set :findDrillLocationLocal:diffX :updatePosition.16:dx
   771 set :findDrillLocationLocal:diffY :updatePosition.16:dy
   772 set :findBestPosition:best :updatePosition.16:value
-    * set *tmp266 :findBestPosition:best
   773 jump *label192 always
   774 label *label191
-    * set *tmp266 null
   775 label *label192
   776 jump *label190 always
   777 label *label189
 
   787 set :findDrillLocationLocal:diffX :updatePosition.17:dx
   788 set :findDrillLocationLocal:diffY :updatePosition.17:dy
   789 set :findBestPosition:best :updatePosition.17:value
-    * set *tmp270 :findBestPosition:best
   790 jump *label197 always
   791 label *label196
-    * set *tmp270 null
   792 label *label197
   793 jump *label195 always
   794 label *label194
 
   804 set :findDrillLocationLocal:diffX :updatePosition.18:dx
   805 set :findDrillLocationLocal:diffY :updatePosition.18:dy
   806 set :findBestPosition:best :updatePosition.18:value
-    * set *tmp274 :findBestPosition:best
   807 jump *label202 always
   808 label *label201
-    * set *tmp274 null
   809 label *label202
   810 jump *label200 always
   811 label *label199
 
   825 set :findDrillLocationLocal:diffX :updatePosition.19:dx
   826 set :findDrillLocationLocal:diffY :updatePosition.19:dy
   827 set :findBestPosition:best :updatePosition.19:value
-    * set *tmp279 :findBestPosition:best
   828 jump *label208 always
   829 label *label207
-    * set *tmp279 null
   830 label *label208
   831 jump *label206 always
   832 label *label205
 
   842 set :findDrillLocationLocal:diffX :updatePosition.20:dx
   843 set :findDrillLocationLocal:diffY :updatePosition.20:dy
   844 set :findBestPosition:best :updatePosition.20:value
-    * set *tmp283 :findBestPosition:best
   845 jump *label213 always
   846 label *label212
-    * set *tmp283 null
   847 label *label213
   848 jump *label211 always
   849 label *label210
 
   859 set :findDrillLocationLocal:diffX :updatePosition.21:dx
   860 set :findDrillLocationLocal:diffY :updatePosition.21:dy
   861 set :findBestPosition:best :updatePosition.21:value
-    * set *tmp287 :findBestPosition:best
   862 jump *label218 always
   863 label *label217
-    * set *tmp287 null
   864 label *label218
   865 jump *label216 always
   866 label *label215
 
   880 set :findDrillLocationLocal:diffX :updatePosition.22:dx
   881 set :findDrillLocationLocal:diffY :updatePosition.22:dy
   882 set :findBestPosition:best :updatePosition.22:value
-    * set *tmp292 :findBestPosition:best
   883 jump *label224 always
   884 label *label223
-    * set *tmp292 null
   885 label *label224
   886 jump *label222 always
   887 label *label221
 
   897 set :findDrillLocationLocal:diffX :updatePosition.23:dx
   898 set :findDrillLocationLocal:diffY :updatePosition.23:dy
   899 set :findBestPosition:best :updatePosition.23:value
-    * set *tmp296 :findBestPosition:best
   900 jump *label229 always
   901 label *label228
-    * set *tmp296 null
   902 label *label229
   903 jump *label227 always
   904 label *label226
 
   914 set :findDrillLocationLocal:diffX :updatePosition.24:dx
   915 set :findDrillLocationLocal:diffY :updatePosition.24:dy
   916 set :findBestPosition:best :updatePosition.24:value
-    * set *tmp300 :findBestPosition:best
   917 jump *label234 always
   918 label *label233
-    * set *tmp300 null
   919 label *label234
   920 jump *label232 always
   921 label *label231
   922 label *label232
   923 label *label230
   924 label *label219
-    * set *tmp255 null
   925 jump *label186 always
   926 label *label185
   927 op sub *tmp301 :findBestPosition:y 3
 
   973 set :findDrillLocationLocal:diffX :updatePosition.25:dx
   974 set :findDrillLocationLocal:diffY :updatePosition.25:dy
   975 set :findBestPosition:best :updatePosition.25:value
-    * set *tmp320 :findBestPosition:best
   976 jump *label242 always
   977 label *label241
-    * set *tmp320 null
   978 label *label242
   979 jump *label240 always
   980 label *label239
 
   990 set :findDrillLocationLocal:diffX :updatePosition.26:dx
   991 set :findDrillLocationLocal:diffY :updatePosition.26:dy
   992 set :findBestPosition:best :updatePosition.26:value
-    * set *tmp324 :findBestPosition:best
   993 jump *label247 always
   994 label *label246
-    * set *tmp324 null
   995 label *label247
   996 jump *label245 always
   997 label *label244
 
  1007 set :findDrillLocationLocal:diffX :updatePosition.27:dx
  1008 set :findDrillLocationLocal:diffY :updatePosition.27:dy
  1009 set :findBestPosition:best :updatePosition.27:value
-    * set *tmp328 :findBestPosition:best
  1010 jump *label252 always
  1011 label *label251
-    * set *tmp328 null
  1012 label *label252
  1013 jump *label250 always
  1014 label *label249
 
  1024 set :findDrillLocationLocal:diffX :updatePosition.28:dx
  1025 set :findDrillLocationLocal:diffY :updatePosition.28:dy
  1026 set :findBestPosition:best :updatePosition.28:value
-    * set *tmp332 :findBestPosition:best
  1027 jump *label257 always
  1028 label *label256
-    * set *tmp332 null
  1029 label *label257
  1030 jump *label255 always
  1031 label *label254
 
  1045 set :findDrillLocationLocal:diffX :updatePosition.29:dx
  1046 set :findDrillLocationLocal:diffY :updatePosition.29:dy
  1047 set :findBestPosition:best :updatePosition.29:value
-    * set *tmp336 :findBestPosition:best
  1048 jump *label263 always
  1049 label *label262
-    * set *tmp336 null
  1050 label *label263
  1051 jump *label261 always
  1052 label *label260
 
  1062 set :findDrillLocationLocal:diffX :updatePosition.30:dx
  1063 set :findDrillLocationLocal:diffY :updatePosition.30:dy
  1064 set :findBestPosition:best :updatePosition.30:value
-    * set *tmp340 :findBestPosition:best
  1065 jump *label268 always
  1066 label *label267
-    * set *tmp340 null
  1067 label *label268
  1068 jump *label266 always
  1069 label *label265
 
  1079 set :findDrillLocationLocal:diffX :updatePosition.31:dx
  1080 set :findDrillLocationLocal:diffY :updatePosition.31:dy
  1081 set :findBestPosition:best :updatePosition.31:value
-    * set *tmp344 :findBestPosition:best
  1082 jump *label273 always
  1083 label *label272
-    * set *tmp344 null
  1084 label *label273
  1085 jump *label271 always
  1086 label *label270
 
  1096 set :findDrillLocationLocal:diffX :updatePosition.32:dx
  1097 set :findDrillLocationLocal:diffY :updatePosition.32:dy
  1098 set :findBestPosition:best :updatePosition.32:value
-    * set *tmp348 :findBestPosition:best
  1099 jump *label278 always
  1100 label *label277
-    * set *tmp348 null
  1101 label *label278
  1102 jump *label276 always
  1103 label *label275
 
  1117 set :findDrillLocationLocal:diffX :updatePosition.33:dx
  1118 set :findDrillLocationLocal:diffY :updatePosition.33:dy
  1119 set :findBestPosition:best :updatePosition.33:value
-    * set *tmp352 :findBestPosition:best
  1120 jump *label284 always
  1121 label *label283
-    * set *tmp352 null
  1122 label *label284
  1123 jump *label282 always
  1124 label *label281
 
  1134 set :findDrillLocationLocal:diffX :updatePosition.34:dx
  1135 set :findDrillLocationLocal:diffY :updatePosition.34:dy
  1136 set :findBestPosition:best :updatePosition.34:value
-    * set *tmp356 :findBestPosition:best
  1137 jump *label289 always
  1138 label *label288
-    * set *tmp356 null
  1139 label *label289
  1140 jump *label287 always
  1141 label *label286
 
  1151 set :findDrillLocationLocal:diffX :updatePosition.35:dx
  1152 set :findDrillLocationLocal:diffY :updatePosition.35:dy
  1153 set :findBestPosition:best :updatePosition.35:value
-    * set *tmp360 :findBestPosition:best
  1154 jump *label294 always
  1155 label *label293
-    * set *tmp360 null
  1156 label *label294
  1157 jump *label292 always
  1158 label *label291
 
  1168 set :findDrillLocationLocal:diffX :updatePosition.36:dx
  1169 set :findDrillLocationLocal:diffY :updatePosition.36:dy
  1170 set :findBestPosition:best :updatePosition.36:value
-    * set *tmp364 :findBestPosition:best
  1171 jump *label299 always
  1172 label *label298
-    * set *tmp364 null
  1173 label *label299
  1174 jump *label297 always
  1175 label *label296
 
  1189 set :findDrillLocationLocal:diffX :updatePosition.37:dx
  1190 set :findDrillLocationLocal:diffY :updatePosition.37:dy
  1191 set :findBestPosition:best :updatePosition.37:value
-    * set *tmp368 :findBestPosition:best
  1192 jump *label305 always
  1193 label *label304
-    * set *tmp368 null
  1194 label *label305
  1195 jump *label303 always
  1196 label *label302
 
  1206 set :findDrillLocationLocal:diffX :updatePosition.38:dx
  1207 set :findDrillLocationLocal:diffY :updatePosition.38:dy
  1208 set :findBestPosition:best :updatePosition.38:value
-    * set *tmp372 :findBestPosition:best
  1209 jump *label310 always
  1210 label *label309
-    * set *tmp372 null
  1211 label *label310
  1212 jump *label308 always
  1213 label *label307
 
  1223 set :findDrillLocationLocal:diffX :updatePosition.39:dx
  1224 set :findDrillLocationLocal:diffY :updatePosition.39:dy
  1225 set :findBestPosition:best :updatePosition.39:value
-    * set *tmp376 :findBestPosition:best
  1226 jump *label315 always
  1227 label *label314
-    * set *tmp376 null
  1228 label *label315
  1229 jump *label313 always
  1230 label *label312
 
  1240 set :findDrillLocationLocal:diffX :updatePosition.40:dx
  1241 set :findDrillLocationLocal:diffY :updatePosition.40:dy
  1242 set :findBestPosition:best :updatePosition.40:value
-    * set *tmp380 :findBestPosition:best
  1243 jump *label320 always
  1244 label *label319
-    * set *tmp380 null
  1245 label *label320
  1246 jump *label318 always
  1247 label *label317
  1248 label *label318
  1249 label *label316
  1250 label *label300
-    * set *tmp255 null
  1251 label *label186
  1252 label *label100
  1253 op mul *tmp381 :findBestPosition:best 255
 
  1293 ucontrol unbind
  1294 set :findDrillLocationLocal*retval true
  1295 jump *label44 always
-    * set *tmp389 null
  1296 jump *label326 always
  1297 label *label325
-    * set *tmp389 null
  1298 label *label326
  1299 jump *label322 always
  1300 label *label321

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-2 instructions):
 
   334 printflush message1
   335 set *tmp98 true
   336 jump *label53 always
-    * set *tmp159 null
   337 jump *label80 always
   338 label *label79
-    * set *tmp159 null
   339 label *label80
   340 jump *label72 always
   341 label *label71

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-111 instructions):
 
    11 jump *label15 always
    12 end
    13 label *label6
-    * op sub *tmp0 :computeRowValues:x 2
-    * set :spotValue:x *tmp0
+   14 op sub :spotValue:x :computeRowValues:x 2
    15 set :spotValue:y :computeRowValues:y
    16 set :spotValue:ore :computeRowValues:ore
    17 ucontrol getBlock :spotValue:x :spotValue:y type building floor
 
    21 set *tmp1 :spotValue:result
    22 label *label17
    23 set :computeRowValues:x1 *tmp1
-    * op sub *tmp2 :computeRowValues:x 1
-    * set :spotValue.1:x *tmp2
+   24 op sub :spotValue.1:x :computeRowValues:x 1
    25 set :spotValue.1:y :computeRowValues:y
    26 set :spotValue.1:ore :computeRowValues:ore
    27 ucontrol getBlock :spotValue.1:x :spotValue.1:y type building floor
 
    31 set *tmp3 :spotValue.1:result
    32 label *label18
    33 set :computeRowValues:x2 *tmp3
-    * op add *tmp4 :computeRowValues:x 0
-    * set :spotValue.2:x *tmp4
+   34 op add :spotValue.2:x :computeRowValues:x 0
    35 set :spotValue.2:y :computeRowValues:y
    36 set :spotValue.2:ore :computeRowValues:ore
    37 ucontrol getBlock :spotValue.2:x :spotValue.2:y type building floor
 
    41 set *tmp5 :spotValue.2:result
    42 label *label19
    43 set :computeRowValues:x3 *tmp5
-    * op add *tmp6 :computeRowValues:x 1
-    * set :spotValue.3:x *tmp6
+   44 op add :spotValue.3:x :computeRowValues:x 1
    45 set :spotValue.3:y :computeRowValues:y
    46 set :spotValue.3:ore :computeRowValues:ore
    47 ucontrol getBlock :spotValue.3:x :spotValue.3:y type building floor
 
    51 set *tmp7 :spotValue.3:result
    52 label *label20
    53 set :computeRowValues:x4 *tmp7
-    * op add *tmp8 :computeRowValues:x 2
-    * set :spotValue.4:x *tmp8
+   54 op add :spotValue.4:x :computeRowValues:x 2
    55 set :spotValue.4:y :computeRowValues:y
    56 set :spotValue.4:ore :computeRowValues:ore
    57 ucontrol getBlock :spotValue.4:x :spotValue.4:y type building floor
 
    67 op add *tmp13 :computeRowValues:x2 :computeRowValues:x3
    68 op add *tmp14 :computeRowValues:x3 :computeRowValues:x4
    69 op add *tmp15 :computeRowValues:x4 :computeRowValues:x5
-    * packcolor *tmp16 *tmp12 *tmp13 *tmp14 *tmp15
-    * set :computeRowValues*retval *tmp16
+   70 packcolor :computeRowValues*retval *tmp12 *tmp13 *tmp14 *tmp15
    71 jump *label16 always
    72 set *tmp11 null
    73 jump *label23 always
 
    80 op add *tmp22 *tmp21 :computeRowValues:x4
    81 op add *tmp23 :computeRowValues:x3 :computeRowValues:x4
    82 op add *tmp24 *tmp23 :computeRowValues:x5
-    * packcolor *tmp25 *tmp20 *tmp22 *tmp24 0
-    * set :computeRowValues*retval *tmp25
+   83 packcolor :computeRowValues*retval *tmp20 *tmp22 *tmp24 0
    84 jump *label16 always
    85 set *tmp18 null
    86 jump *label25 always
    87 label *label24
-    * op sub *tmp26 :computeRowValues:x 3
-    * set :spotValue.5:x *tmp26
+   88 op sub :spotValue.5:x :computeRowValues:x 3
    89 set :spotValue.5:y :computeRowValues:y
    90 set :spotValue.5:ore :computeRowValues:ore
    91 ucontrol getBlock :spotValue.5:x :spotValue.5:y type building floor
 
    95 set *tmp27 :spotValue.5:result
    96 label *label26
    97 set :computeRowValues:x0 *tmp27
-    * op add *tmp28 :computeRowValues:x 3
-    * set :spotValue.6:x *tmp28
+   98 op add :spotValue.6:x :computeRowValues:x 3
    99 set :spotValue.6:y :computeRowValues:y
   100 set :spotValue.6:ore :computeRowValues:ore
   101 ucontrol getBlock :spotValue.6:x :spotValue.6:y type building floor
 
   121 op add *tmp43 *tmp42 :computeRowValues:x5
   122 op add *tmp44 *tmp43 :computeRowValues:x6
   123 op min *tmp45 0.09803921568627451 *tmp44
-    * packcolor *tmp46 *tmp33 *tmp37 *tmp41 *tmp45
-    * set :computeRowValues*retval *tmp46
+  124 packcolor :computeRowValues*retval *tmp33 *tmp37 *tmp41 *tmp45
   125 jump *label16 always
   126 set *tmp18 null
   127 label *label25
 
   133 end
   134 label *label9
   135 ubind :findDrillLocationLocal:unit
-    * set *tmp82 .locations
-    * set .locationsStart *tmp82
+  136 set .locationsStart .locations
   137 set .coreX :findDrillLocationLocal:x
   138 set .coreY :findDrillLocationLocal:y
   139 set :findDrillLocationLocal:capacity 0
 
   168 label *label46
   169 label *label45
   170 op div *tmp91 :findDrillLocationLocal:distanceLimit 3.8197185279121366
-    * op pow *tmp92 *tmp91 2
-    * set .mapTotal *tmp92
+  171 op pow .mapTotal *tmp91 2
   172 set :findDrillLocationLocal:oreX 0
   173 set :findDrillLocationLocal:oreY 0
   174 label *label50
 
   177 set :findDrillLocationLocal:bestX :findDrillLocationLocal:x
   178 set :findDrillLocationLocal:bestY :findDrillLocationLocal:y
   179 op sub *tmp93 :findDrillLocationLocal:limit :findDrillLocationLocal:capacity
-    * op mul *tmp94 *tmp93 .attenuationRate
-    * set :findDrillLocationLocal:maxDistance *tmp94
-    * op min *tmp95 :findDrillLocationLocal:distanceLimit :findDrillLocationLocal:maxDistance
-    * set :findDrillLocationLocal:distanceLimit *tmp95
+  180 op mul :findDrillLocationLocal:maxDistance *tmp93 .attenuationRate
+  181 op min :findDrillLocationLocal:distanceLimit :findDrillLocationLocal:distanceLimit :findDrillLocationLocal:maxDistance
   182 op div *tmp96 :findDrillLocationLocal:distanceLimit 3.8197185279121366
-    * op pow *tmp97 *tmp96 2
-    * set .mapTotal *tmp97
+  183 op pow .mapTotal *tmp96 2
   184 set :locateOreAway:ore :findDrillLocationLocal:item
   185 set :locateOreAway:x :findDrillLocationLocal:oreX
   186 set :locateOreAway:y :findDrillLocationLocal:oreY
   187 set :locateOreAway:distanceLimit :findDrillLocationLocal:distanceLimit
-    * op mul *tmp99 3.8197185279121366 .angle
-    * set :locateOreAway:distance *tmp99
+  188 op mul :locateOreAway:distance 3.8197185279121366 .angle
   189 set :locateOreAway:lastX -1
   190 set :locateOreAway:lastY -1
-    * op max *tmp100 .angle @pi
-    * set .angle *tmp100
-    * op mul *tmp101 .angle .angle
-    * set .mapProgress *tmp101
+  191 op max .angle .angle @pi
+  192 op mul .mapProgress .angle .angle
   193 label *label54
   194 op lessThan *tmp102 :locateOreAway:distance :locateOreAway:distanceLimit
   195 jump *label56 equal *tmp102 false
-    * op div *tmp103 .angle @degToRad
-    * set :locateOreAway:a *tmp103
+  196 op div :locateOreAway:a .angle @degToRad
   197 op sin *tmp104 :locateOreAway:a
   198 op mul *tmp105 *tmp104 :locateOreAway:distance
   199 op add *tmp106 .coreX *tmp105
 
   202 set :limit:low 5
   203 set :limit:high *tmp107
   204 op max *tmp109 :limit:value :limit:low
-    * op min *tmp110 *tmp109 :limit:high
-    * set *tmp108 *tmp110
+  205 op min *tmp108 *tmp109 :limit:high
   206 label *label57
   207 set :locateOreAway:lx *tmp108
   208 op cos *tmp111 :locateOreAway:a
 
   213 set :limit.1:low 5
   214 set :limit.1:high *tmp114
   215 op max *tmp116 :limit.1:value :limit.1:low
-    * op min *tmp117 *tmp116 :limit.1:high
-    * set *tmp115 *tmp117
+  216 op min *tmp115 *tmp116 :limit.1:high
   217 label *label58
   218 set :locateOreAway:ly *tmp115
   219 set :moveTo.4:x :locateOreAway:lx
 
   231 label *label59
   232 op div *tmp121 3.8197185279121366 :locateOreAway:distance
   233 op add .angle .angle *tmp121
-    * op mul *tmp122 .angle .angle
-    * set .mapProgress *tmp122
-    * op mul *tmp123 3.8197185279121366 .angle
-    * set :locateOreAway:distance *tmp123
-    * ulocate ore core true :locateOreAway:ore :locateOreAway:x :locateOreAway:y *tmp124 *tmp125
+  234 op mul .mapProgress .angle .angle
+  235 op mul :locateOreAway:distance 3.8197185279121366 .angle
+  236 ulocate ore core true :locateOreAway:ore :locateOreAway:x :locateOreAway:y *tmp124 0
   237 op equal *tmp126 *tmp124 false
   238 jump *label63 equal *tmp126 false
   239 set *tmp98 false
 
   245 op abs *tmp129 *tmp128
   246 op sub *tmp130 :locateOreAway:y .coreY
   247 op abs *tmp131 *tmp130
-    * op max *tmp132 *tmp129 *tmp131
-    * set :locateOreAway:coreDist *tmp132
+  248 op max :locateOreAway:coreDist *tmp129 *tmp131
   249 op sub *tmp133 :locateOreAway:x :locateOreAway:lx
   250 op sub *tmp134 :locateOreAway:y :locateOreAway:ly
-    * op len *tmp135 *tmp133 *tmp134
-    * set :locateOreAway:unitDist *tmp135
+  251 op len :locateOreAway:unitDist *tmp133 *tmp134
   252 op equal *tmp136 :locateOreAway:lastX :locateOreAway:x
   253 jump *label65 equal *tmp136 false
   254 op equal *tmp138 :locateOreAway:lastY :locateOreAway:y
 
   272 set :visited:i .locationsStart
   273 label *label74
   274 jump *label76 greaterThanEq :visited:i *tmp145
-    * op mul *tmp146 4 :visited:i
-    * set :visited:index *tmp146
+  275 op mul :visited:index 4 :visited:i
   276 op add *tmp147 :visited:index 2
-    * set *tmp148 *tmp147
-    * read *tmp149 bank1 *tmp148
-    * set :visited:lx *tmp149
+  277 read :visited:lx bank1 *tmp147
   278 op add *tmp150 :visited:index 3
-    * set *tmp151 *tmp150
-    * read *tmp152 bank1 *tmp151
-    * set :visited:ly *tmp152
+  279 read :visited:ly bank1 *tmp150
   280 op sub *tmp153 :visited:x :visited:lx
   281 op sub *tmp154 :visited:y :visited:ly
   282 op len *tmp155 *tmp153 *tmp154
 
   299 jump *label79 equal *tmp158 false
   300 op div *tmp160 7.639437055824273 :locateOreAway:distance
   301 op add .angle .angle *tmp160
-    * op mul *tmp161 .angle .angle
-    * set .mapProgress *tmp161
+  302 op mul .mapProgress .angle .angle
   303 printflush message1
   304 set *tmp98 true
   305 jump *label53 always
 
   323 set :findDrillLocationLocal:oreY :locateOreAway:y
   324 op equal *tmp162 *tmp98 false
   325 jump *label81 equal *tmp162 false
-    * op greaterThan *tmp164 :findDrillLocationLocal:capacity 0
-    * set :findDrillLocationLocal*retval *tmp164
+  326 op greaterThan :findDrillLocationLocal*retval :findDrillLocationLocal:capacity 0
   327 jump *label44 always
   328 jump *label82 always
   329 label *label81
 
   367 setaddr :computeRowValues*retaddr *label94 (h:*label94)
   368 call *label6 *invalid :computeRowValues*retval (m:*label94) (h:*label94)
   369 label *label94
-    * set *tmp175 :computeRowValues*retval
-    * set :findBestPosition:y1 *tmp175
+  370 set :findBestPosition:y1 :computeRowValues*retval
   371 op sub *tmp176 :findBestPosition:y 1
   372 set :computeRowValues:x :findBestPosition:x
   373 set :computeRowValues:y *tmp176
 
   376 setaddr :computeRowValues*retaddr *label95 (h:*label95)
   377 call *label6 *invalid :computeRowValues*retval (m:*label95) (h:*label95)
   378 label *label95
-    * set *tmp177 :computeRowValues*retval
-    * set :findBestPosition:y2 *tmp177
+  379 set :findBestPosition:y2 :computeRowValues*retval
   380 op add *tmp178 :findBestPosition:y 0
   381 set :computeRowValues:x :findBestPosition:x
   382 set :computeRowValues:y *tmp178
 
   385 setaddr :computeRowValues*retaddr *label96 (h:*label96)
   386 call *label6 *invalid :computeRowValues*retval (m:*label96) (h:*label96)
   387 label *label96
-    * set *tmp179 :computeRowValues*retval
-    * set :findBestPosition:y3 *tmp179
+  388 set :findBestPosition:y3 :computeRowValues*retval
   389 op add *tmp180 :findBestPosition:y 1
   390 set :computeRowValues:x :findBestPosition:x
   391 set :computeRowValues:y *tmp180
 
   394 setaddr :computeRowValues*retaddr *label97 (h:*label97)
   395 call *label6 *invalid :computeRowValues*retval (m:*label97) (h:*label97)
   396 label *label97
-    * set *tmp181 :computeRowValues*retval
-    * set :findBestPosition:y4 *tmp181
+  397 set :findBestPosition:y4 :computeRowValues*retval
   398 op add *tmp182 :findBestPosition:y 2
   399 set :computeRowValues:x :findBestPosition:x
   400 set :computeRowValues:y *tmp182
 
   403 setaddr :computeRowValues*retaddr *label98 (h:*label98)
   404 call *label6 *invalid :computeRowValues*retval (m:*label98) (h:*label98)
   405 label *label98
-    * set *tmp183 :computeRowValues*retval
-    * set :findBestPosition:y5 *tmp183
+  406 set :findBestPosition:y5 :computeRowValues*retval
   407 set :findBestPosition:best 0
   408 set :findDrillLocationLocal:diffX 0
   409 set :findDrillLocationLocal:diffY 0
   410 op equal *tmp184 :findBestPosition:size 2
   411 jump *label99 equal *tmp184 false
-    * op add *tmp186 :findBestPosition:y1 :findBestPosition:y2
-    * set :findBestPosition:row1 *tmp186
-    * op add *tmp187 :findBestPosition:y2 :findBestPosition:y3
-    * set :findBestPosition:row2 *tmp187
-    * op add *tmp188 :findBestPosition:y3 :findBestPosition:y4
-    * set :findBestPosition:row3 *tmp188
-    * op add *tmp189 :findBestPosition:y4 :findBestPosition:y5
-    * set :findBestPosition:row4 *tmp189
+  412 op add :findBestPosition:row1 :findBestPosition:y1 :findBestPosition:y2
+  413 op add :findBestPosition:row2 :findBestPosition:y2 :findBestPosition:y3
+  414 op add :findBestPosition:row3 :findBestPosition:y3 :findBestPosition:y4
+  415 op add :findBestPosition:row4 :findBestPosition:y4 :findBestPosition:y5
   416 set :updateRowPositions2x2:dy -1.5
   417 set :updateRowPositions2x2:rowSum :findBestPosition:row1
   418 unpackcolor :updateRowPositions2x2:col1 :updateRowPositions2x2:col2 :updateRowPositions2x2:col3 :updateRowPositions2x2:col4 :updateRowPositions2x2:rowSum
 
   706 op equal *tmp254 :findBestPosition:size 3
   707 jump *label185 equal *tmp254 false
   708 op add *tmp256 :findBestPosition:y2 :findBestPosition:y3
-    * op add *tmp257 :findBestPosition:y1 *tmp256
-    * set :findBestPosition:row1.1 *tmp257
+  709 op add :findBestPosition:row1.1 :findBestPosition:y1 *tmp256
   710 op add *tmp258 :findBestPosition:y2 :findBestPosition:y3
-    * op add *tmp259 *tmp258 :findBestPosition:y4
-    * set :findBestPosition:row2.1 *tmp259
+  711 op add :findBestPosition:row2.1 *tmp258 :findBestPosition:y4
   712 op add *tmp260 :findBestPosition:y3 :findBestPosition:y4
-    * op add *tmp261 *tmp260 :findBestPosition:y5
-    * set :findBestPosition:row3.1 *tmp261
+  713 op add :findBestPosition:row3.1 *tmp260 :findBestPosition:y5
   714 set :updateRowPositions3x3:dy -1
   715 set :updateRowPositions3x3:rowSum :findBestPosition:row1.1
-    * unpackcolor :updateRowPositions3x3:col1 :updateRowPositions3x3:col2 :updateRowPositions3x3:col3 *tmp262 :updateRowPositions3x3:rowSum
+  716 unpackcolor :updateRowPositions3x3:col1 :updateRowPositions3x3:col2 :updateRowPositions3x3:col3 0 :updateRowPositions3x3:rowSum
   717 set :updatePosition.16:dx -1
   718 set :updatePosition.16:dy :updateRowPositions3x3:dy
   719 set :updatePosition.16:value :updateRowPositions3x3:col1
 
   768 label *label187
   769 set :updateRowPositions3x3.1:dy 0
   770 set :updateRowPositions3x3.1:rowSum :findBestPosition:row2.1
-    * unpackcolor :updateRowPositions3x3.1:col1 :updateRowPositions3x3.1:col2 :updateRowPositions3x3.1:col3 *tmp275 :updateRowPositions3x3.1:rowSum
+  771 unpackcolor :updateRowPositions3x3.1:col1 :updateRowPositions3x3.1:col2 :updateRowPositions3x3.1:col3 0 :updateRowPositions3x3.1:rowSum
   772 set :updatePosition.19:dx -1
   773 set :updatePosition.19:dy :updateRowPositions3x3.1:dy
   774 set :updatePosition.19:value :updateRowPositions3x3.1:col1
 
   823 label *label203
   824 set :updateRowPositions3x3.2:dy 1
   825 set :updateRowPositions3x3.2:rowSum :findBestPosition:row3.1
-    * unpackcolor :updateRowPositions3x3.2:col1 :updateRowPositions3x3.2:col2 :updateRowPositions3x3.2:col3 *tmp288 :updateRowPositions3x3.2:rowSum
+  826 unpackcolor :updateRowPositions3x3.2:col1 :updateRowPositions3x3.2:col2 :updateRowPositions3x3.2:col3 0 :updateRowPositions3x3.2:rowSum
   827 set :updatePosition.22:dx -1
   828 set :updatePosition.22:dy :updateRowPositions3x3.2:dy
   829 set :updatePosition.22:value :updateRowPositions3x3.2:col1
 
   886 setaddr :computeRowValues*retaddr *label235 (h:*label235)
   887 call *label6 *invalid :computeRowValues*retval (m:*label235) (h:*label235)
   888 label *label235
-    * set *tmp302 :computeRowValues*retval
-    * set :findBestPosition:y0 *tmp302
+  889 set :findBestPosition:y0 :computeRowValues*retval
   890 op add *tmp303 :findBestPosition:y 3
   891 set :computeRowValues:x :findBestPosition:x
   892 set :computeRowValues:y *tmp303
 
   895 setaddr :computeRowValues*retaddr *label236 (h:*label236)
   896 call *label6 *invalid :computeRowValues*retval (m:*label236) (h:*label236)
   897 label *label236
-    * set *tmp304 :computeRowValues*retval
-    * set :findBestPosition:y6 *tmp304
+  898 set :findBestPosition:y6 :computeRowValues*retval
   899 op add *tmp305 :findBestPosition:y1 :findBestPosition:y2
   900 op add *tmp306 *tmp305 :findBestPosition:y3
-    * op add *tmp307 :findBestPosition:y0 *tmp306
-    * set :findBestPosition:row1.2 *tmp307
+  901 op add :findBestPosition:row1.2 :findBestPosition:y0 *tmp306
   902 op add *tmp308 :findBestPosition:y1 :findBestPosition:y2
   903 op add *tmp309 *tmp308 :findBestPosition:y3
-    * op add *tmp310 *tmp309 :findBestPosition:y4
-    * set :findBestPosition:row2.2 *tmp310
+  904 op add :findBestPosition:row2.2 *tmp309 :findBestPosition:y4
   905 op add *tmp311 :findBestPosition:y3 :findBestPosition:y4
   906 op add *tmp312 *tmp311 :findBestPosition:y5
-    * op add *tmp313 :findBestPosition:y2 *tmp312
-    * set :findBestPosition:row3.2 *tmp313
+  907 op add :findBestPosition:row3.2 :findBestPosition:y2 *tmp312
   908 op add *tmp314 :findBestPosition:y3 :findBestPosition:y4
   909 op add *tmp315 *tmp314 :findBestPosition:y5
-    * op add *tmp316 *tmp315 :findBestPosition:y6
-    * set :findBestPosition:row4.1 *tmp316
+  910 op add :findBestPosition:row4.1 *tmp315 :findBestPosition:y6
   911 set :updateRowPositions4x4:dy -1.5
   912 set :updateRowPositions4x4:rowSum :findBestPosition:row1.2
   913 unpackcolor :updateRowPositions4x4:col1 :updateRowPositions4x4:col2 :updateRowPositions4x4:col3 :updateRowPositions4x4:col4 :updateRowPositions4x4:rowSum
 
  1198 label *label300
  1199 label *label186
  1200 label *label100
-    * op mul *tmp381 :findBestPosition:best 255
-    * set *tmp173 *tmp381
+ 1201 op mul *tmp173 :findBestPosition:best 255
  1202 jump *label93 always
  1203 set *tmp173 null
  1204 label *label93
  1205 set :findDrillLocationLocal:score *tmp173
  1206 op greaterThan *tmp382 :findDrillLocationLocal:score :findDrillLocationLocal:capacity
  1207 jump *label321 equal *tmp382 false
-    * op add *tmp384 :findDrillLocationLocal:oreX :findDrillLocationLocal:diffX
-    * set :findDrillLocationLocal:dx *tmp384
-    * op add *tmp385 :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
-    * set :findDrillLocationLocal:dy *tmp385
+ 1208 op add :findDrillLocationLocal:dx :findDrillLocationLocal:oreX :findDrillLocationLocal:diffX
+ 1209 op add :findDrillLocationLocal:dy :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
  1210 set :findDrillLocationLocal:capacity :findDrillLocationLocal:score
  1211 op lessThan *tmp386 :findDrillLocationLocal:limit 1000
  1212 jump *label323 equal *tmp386 false
 
  1225 sensor *tmp392 :saveLocation:item @id
  1226 write *tmp392 bank1 *tmp390
  1227 op add .count .count 1
-    * set *tmp393 .count
-    * write :saveLocation:value bank1 *tmp393
+ 1228 write :saveLocation:value bank1 .count
  1229 op add .count .count 1
-    * set *tmp395 .count
-    * write :saveLocation:x bank1 *tmp395
+ 1230 write :saveLocation:x bank1 .count
  1231 op add .count .count 1
-    * set *tmp397 .count
-    * write :saveLocation:y bank1 *tmp397
+ 1232 write :saveLocation:y bank1 .count
  1233 op add .locations .locations 1
  1234 label *label327
  1235 ucontrol unbind
 
  1243 label *label322
  1244 op greaterThan *tmp400 :findDrillLocationLocal:score :findDrillLocationLocal:best
  1245 jump *label328 equal *tmp400 false
-    * op add *tmp402 :findDrillLocationLocal:oreX :findDrillLocationLocal:diffX
-    * set :findDrillLocationLocal:bestX *tmp402
-    * op add *tmp403 :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
-    * set :findDrillLocationLocal:bestY *tmp403
+ 1246 op add :findDrillLocationLocal:bestX :findDrillLocationLocal:oreX :findDrillLocationLocal:diffX
+ 1247 op add :findDrillLocationLocal:bestY :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
  1248 set :findDrillLocationLocal:best :findDrillLocationLocal:score
  1249 jump *label329 always
  1250 label *label328
 
  1256 label *label330
  1257 label *label331
  1258 set :findDrillLocationLocal:last :findDrillLocationLocal:score
-    * op mul *tmp406 :findDrillLocationLocal:diffX 1.1
-    * set :round:x *tmp406
+ 1259 op mul :round:x :findDrillLocationLocal:diffX 1.1
  1260 op add *tmp408 :round:x 0.5
-    * op floor *tmp409 *tmp408
-    * set *tmp407 *tmp409
+ 1261 op floor *tmp407 *tmp408
  1262 label *label332
  1263 op add :findDrillLocationLocal:oreX :findDrillLocationLocal:oreX *tmp407
-    * op mul *tmp410 :findDrillLocationLocal:diffY 1.1
-    * set :round.1:x *tmp410
+ 1264 op mul :round.1:x :findDrillLocationLocal:diffY 1.1
  1265 op add *tmp412 :round.1:x 0.5
-    * op floor *tmp413 *tmp412
-    * set *tmp411 *tmp413
+ 1266 op floor *tmp411 *tmp412
  1267 label *label333
  1268 op add :findDrillLocationLocal:oreY :findDrillLocationLocal:oreY *tmp411
  1269 op sub *tmp414 :findDrillLocationLocal:oreX .coreX
 
  1291 sensor *tmp425 :saveLocation.1:item @id
  1292 write *tmp425 bank1 *tmp423
  1293 op add .count .count 1
-    * set *tmp426 .count
-    * write :saveLocation.1:value bank1 *tmp426
+ 1294 write :saveLocation.1:value bank1 .count
  1295 op add .count .count 1
-    * set *tmp428 .count
-    * write :saveLocation.1:x bank1 *tmp428
+ 1296 write :saveLocation.1:x bank1 .count
  1297 op add .count .count 1
-    * set *tmp430 .count
-    * write :saveLocation.1:y bank1 *tmp430
+ 1298 write :saveLocation.1:y bank1 .count
  1299 op add .locations .locations 1
  1300 label *label338
  1301 jump *label337 always
 
  1344 select :isBlocked:result equal type @air 0 1
  1345 set *tmp441 :isBlocked:result
  1346 label *label351
-    * op or *tmp442 *tmp438 *tmp441
-    * set :createTerrainMask:result *tmp442
+ 1347 op or :createTerrainMask:result *tmp438 *tmp441
  1348 label *label349
  1349 op sub :createTerrainMask:c :createTerrainMask:c 1
  1350 jump *label348 always
 
  1365 jump *label355 greaterThan :findPossiblePlacement:y 3
  1366 op add *tmp443 :findPossiblePlacement:y 3
  1367 op mul *tmp444 7 *tmp443
-    * op shl *tmp445 :findPossiblePlacement:placementMask *tmp444
-    * set :findPossiblePlacement:mask *tmp445
+ 1368 op shl :findPossiblePlacement:mask :findPossiblePlacement:placementMask *tmp444
  1369 set :findPossiblePlacement:x -3
  1370 label *label356
  1371 jump *label358 greaterThan :findPossiblePlacement:x 3
 
  1374 jump *label359 equal *tmp447 false
  1375 op mul *tmp449 :findPossiblePlacement:y 7
  1376 op add *tmp450 24 *tmp449
-    * op add *tmp451 *tmp450 :findPossiblePlacement:x
-    * set :findPossiblePlacement*retval *tmp451
+ 1377 op add :findPossiblePlacement*retval *tmp450 :findPossiblePlacement:x
  1378 jump *label352 always
  1379 jump *label360 always
  1380 label *label359
 
  1418 label *label366
  1419 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1420 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp458 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp458
+ 1421 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
  1422 op greaterThanEq *tmp459 :tryPlaceGenerator:shift 0
  1423 jump *label367 equal *tmp459 false
  1424 op lessThan *tmp461 :tryPlaceGenerator:shift 0
 
  1429 label *label369
  1430 label *label370
  1431 op add *tmp463 :tryPlaceGenerator:centerX 0.5
-    * op add *tmp464 *tmp463 :tryPlaceGenerator:c
-    * set .water2X *tmp464
+ 1432 op add .water2X *tmp463 :tryPlaceGenerator:c
  1433 op add *tmp465 :tryPlaceGenerator:centerY 0.5
-    * op add *tmp466 *tmp465 :tryPlaceGenerator:r
-    * set .water2Y *tmp466
+ 1434 op add .water2Y *tmp465 :tryPlaceGenerator:r
  1435 op add *tmp467 :tryPlaceGenerator:centerX 0.5
-    * op add *tmp468 *tmp467 :tryPlaceGenerator:c
-    * set .generatorX *tmp468
+ 1436 op add .generatorX *tmp467 :tryPlaceGenerator:c
  1437 op add *tmp469 :tryPlaceGenerator:centerY 2.5
-    * op add *tmp470 *tmp469 :tryPlaceGenerator:r
-    * set .generatorY *tmp470
+ 1438 op add .generatorY *tmp469 :tryPlaceGenerator:r
  1439 op shl *tmp471 :tryPlaceGenerator:generatorVertical :tryPlaceGenerator:shift
  1440 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp471
  1441 jump *label368 always
 
  1449 label *label371
  1450 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1451 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp472 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp472
+ 1452 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
  1453 op lessThan *tmp473 :tryPlaceGenerator:shift 0
  1454 jump *label372 equal *tmp473 false
  1455 set :tryPlaceGenerator*retval false
 
  1458 label *label372
  1459 label *label373
  1460 op add *tmp475 :tryPlaceGenerator:centerX 0.5
-    * op add *tmp476 *tmp475 :tryPlaceGenerator:c
-    * set .water2X *tmp476
+ 1461 op add .water2X *tmp475 :tryPlaceGenerator:c
  1462 op add *tmp477 :tryPlaceGenerator:centerY 0.5
-    * op add *tmp478 *tmp477 :tryPlaceGenerator:r
-    * set .water2Y *tmp478
+ 1463 op add .water2Y *tmp477 :tryPlaceGenerator:r
  1464 op add *tmp479 :tryPlaceGenerator:centerX 2.5
-    * op add *tmp480 *tmp479 :tryPlaceGenerator:c
-    * set .generatorX *tmp480
+ 1465 op add .generatorX *tmp479 :tryPlaceGenerator:c
  1466 op add *tmp481 :tryPlaceGenerator:centerY 0.5
-    * op add *tmp482 *tmp481 :tryPlaceGenerator:r
-    * set .generatorY *tmp482
+ 1467 op add .generatorY *tmp481 :tryPlaceGenerator:r
  1468 op shl *tmp483 :tryPlaceGenerator:generatorHorizontal :tryPlaceGenerator:shift
  1469 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp483
  1470 label *label368
 
  1477 label *label374
  1478 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1479 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp484 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp484
+ 1480 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
  1481 op lessThan *tmp485 :tryPlaceGenerator:shift 0
  1482 jump *label375 equal *tmp485 false
  1483 set :tryPlaceGenerator*retval false
 
  1485 jump *label376 always
  1486 label *label375
  1487 label *label376
-    * op add *tmp487 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * set .nodeX *tmp487
-    * op add *tmp488 :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * set .nodeY *tmp488
+ 1488 op add .nodeX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
+ 1489 op add .nodeY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
  1490 op shl *tmp489 1 :tryPlaceGenerator:shift
  1491 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp489
  1492 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
 
  1498 label *label377
  1499 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1500 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp490 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp490
+ 1501 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
  1502 op lessThan *tmp491 :tryPlaceGenerator:shift 0
  1503 jump *label378 equal *tmp491 false
  1504 set :tryPlaceGenerator*retval false
 
  1506 jump *label379 always
  1507 label *label378
  1508 label *label379
-    * op add *tmp493 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * set .panelX *tmp493
-    * op add *tmp494 :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * set .panelY *tmp494
+ 1509 op add .panelX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
+ 1510 op add .panelY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
  1511 op shl *tmp495 1 :tryPlaceGenerator:shift
  1512 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp495
  1513 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
 
  1519 label *label380
  1520 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1521 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp496 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp496
+ 1522 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
  1523 op lessThan *tmp497 :tryPlaceGenerator:shift 0
  1524 jump *label381 equal *tmp497 false
  1525 set :tryPlaceGenerator*retval false
 
  1527 jump *label382 always
  1528 label *label381
  1529 label *label382
-    * op add *tmp499 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * set .batteryX *tmp499
-    * op add *tmp500 :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * set .batteryY *tmp500
+ 1530 op add .batteryX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
+ 1531 op add .batteryY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
  1532 op shl *tmp501 1 :tryPlaceGenerator:shift
  1533 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp501
  1534 set :tryPlaceGenerator*retval true
 
  1551 setaddr :createTerrainMask*retaddr *label384 (h:*label384)
  1552 call *label10 *invalid :createTerrainMask*retval (m:*label384) (h:*label384)
  1553 label *label384
-    * set *tmp502 :createTerrainMask*retval
-    * set :layoutThoriumDrillAtLocation:plainTerrainMask *tmp502
+ 1554 set :layoutThoriumDrillAtLocation:plainTerrainMask :createTerrainMask*retval
  1555 set :createFixedMatrix:row0 0b0000000
  1556 set :createFixedMatrix:row1 0b0000000
  1557 set :createFixedMatrix:row2 0b0011100
 
  1571 op shl *tmp513 :createFixedMatrix:row5 35
  1572 op or *tmp514 *tmp512 *tmp513
  1573 op shl *tmp515 :createFixedMatrix:row6 42
-    * op or *tmp516 *tmp514 *tmp515
-    * set *tmp503 *tmp516
+ 1574 op or *tmp503 *tmp514 *tmp515
  1575 label *label385
-    * op or *tmp517 :layoutThoriumDrillAtLocation:plainTerrainMask *tmp503
-    * set :layoutThoriumDrillAtLocation:terrainMask *tmp517
+ 1576 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:plainTerrainMask *tmp503
  1577 set :createFixedMatrix.1:row0 0b1000001
  1578 set :createFixedMatrix.1:row1 0b0000000
  1579 set :createFixedMatrix.1:row2 0b0011100
 
  1593 op shl *tmp528 :createFixedMatrix.1:row5 35
  1594 op or *tmp529 *tmp527 *tmp528
  1595 op shl *tmp530 :createFixedMatrix.1:row6 42
-    * op or *tmp531 *tmp529 *tmp530
-    * set *tmp518 *tmp531
+ 1596 op or *tmp518 *tmp529 *tmp530
  1597 label *label386
-    * op or *tmp532 :layoutThoriumDrillAtLocation:terrainMask *tmp518
-    * set :layoutThoriumDrillAtLocation:cornersMask *tmp532
+ 1598 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask *tmp518
  1599 set :createFixedMatrix.2:row0 0b11
  1600 set :createFixedMatrix.2:row1 0b11
  1601 op shl *tmp534 :createFixedMatrix.2:row0 0
  1602 op shl *tmp535 :createFixedMatrix.2:row1 7
-    * op or *tmp536 *tmp534 *tmp535
-    * set *tmp533 *tmp536
+ 1603 op or *tmp533 *tmp534 *tmp535
  1604 label *label387
  1605 set :layoutThoriumDrillAtLocation:mask2x2 *tmp533
  1606 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
 
  1612 label *label388
  1613 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
  1614 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set *tmp537 :findPossiblePlacement*retval
-    * set :layoutThoriumDrillAtLocation:shift *tmp537
+ 1615 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
  1616 op greaterThanEq *tmp538 :layoutThoriumDrillAtLocation:shift 0
  1617 jump *label389 equal *tmp538 false
  1618 op add *tmp540 .drillX 0.5
-    * op add *tmp541 *tmp540 :layoutThoriumDrillAtLocation:c
-    * set .water1X *tmp541
+ 1619 op add .water1X *tmp540 :layoutThoriumDrillAtLocation:c
  1620 op add *tmp542 .drillY 0.5
-    * op add *tmp543 *tmp542 :layoutThoriumDrillAtLocation:r
-    * set .water1Y *tmp543
+ 1621 op add .water1Y *tmp542 :layoutThoriumDrillAtLocation:r
  1622 op shl *tmp544 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
  1623 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp544
  1624 op shl *tmp545 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
 
  1635 label *label391
  1636 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
  1637 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set *tmp546 :findPossiblePlacement*retval
-    * set :layoutThoriumDrillAtLocation:shift *tmp546
+ 1638 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
  1639 op greaterThanEq *tmp547 :layoutThoriumDrillAtLocation:shift 0
  1640 jump *label392 equal *tmp547 false
  1641 op add *tmp549 .drillX 0.5
-    * op add *tmp550 *tmp549 :layoutThoriumDrillAtLocation:c
-    * set .containerX *tmp550
+ 1642 op add .containerX *tmp549 :layoutThoriumDrillAtLocation:c
  1643 op add *tmp551 .drillY 0.5
-    * op add *tmp552 *tmp551 :layoutThoriumDrillAtLocation:r
-    * set .containerY *tmp552
+ 1644 op add .containerY *tmp551 :layoutThoriumDrillAtLocation:r
  1645 op shl *tmp553 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
  1646 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp553
  1647 jump *label393 always
 
  1651 set :createFixedMatrix.3:row1 0b1111
  1652 op shl *tmp555 :createFixedMatrix.3:row0 0
  1653 op shl *tmp556 :createFixedMatrix.3:row1 7
-    * op or *tmp557 *tmp555 *tmp556
-    * set *tmp554 *tmp557
+ 1654 op or *tmp554 *tmp555 *tmp556
  1655 label *label394
  1656 set :layoutThoriumDrillAtLocation:generatorHorizontal *tmp554
  1657 set :createFixedMatrix.4:row0 0b11
 
  1664 op shl *tmp562 :createFixedMatrix.4:row2 14
  1665 op or *tmp563 *tmp561 *tmp562
  1666 op shl *tmp564 :createFixedMatrix.4:row3 21
-    * op or *tmp565 *tmp563 *tmp564
-    * set *tmp558 *tmp565
+ 1667 op or *tmp558 *tmp563 *tmp564
  1668 label *label395
  1669 set :layoutThoriumDrillAtLocation:generatorVertical *tmp558
  1670 set :tryPlaceGenerator:centerX .drillX
 
  1675 setaddr :tryPlaceGenerator*retaddr *label396 (h:*label396)
  1676 call *label12 *invalid :tryPlaceGenerator*retval (m:*label396) (h:*label396)
  1677 label *label396
-    * set *tmp566 :tryPlaceGenerator*retval
-    * jump *label397 equal *tmp566 false
+ 1678 jump *label397 equal :tryPlaceGenerator*retval false
  1679 set :layoutThoriumDrillAtLocation*retval true
  1680 jump *label383 always
  1681 jump *label398 always
 
  1700 set :layoutThoriumDrillAtLocation:sy -3
  1701 setaddr *tmp568 *label405
  1702 label *label399
-    * op sub *tmp569 .drillX :layoutThoriumDrillAtLocation:sx
-    * set :layoutThoriumDrillAtLocation:newX *tmp569
-    * op sub *tmp570 .drillY :layoutThoriumDrillAtLocation:sy
-    * set :layoutThoriumDrillAtLocation:newY *tmp570
+ 1703 op sub :layoutThoriumDrillAtLocation:newX .drillX :layoutThoriumDrillAtLocation:sx
+ 1704 op sub :layoutThoriumDrillAtLocation:newY .drillY :layoutThoriumDrillAtLocation:sy
  1705 set :createTerrainMask:x :layoutThoriumDrillAtLocation:newX
  1706 set :createTerrainMask:y :layoutThoriumDrillAtLocation:newY
  1707 setaddr :createTerrainMask*retaddr *label406 (h:*label406)
  1708 call *label10 *invalid :createTerrainMask*retval (m:*label406) (h:*label406)
  1709 label *label406
-    * set *tmp571 :createTerrainMask*retval
-    * set :layoutThoriumDrillAtLocation:newTerrainMask *tmp571
+ 1710 set :layoutThoriumDrillAtLocation:newTerrainMask :createTerrainMask*retval
  1711 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
  1712 set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
  1713 set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
 
  1723 label *label408
  1724 label *label409
  1725 op mul *tmp579 7 :shiftMask:shiftY
-    * op add *tmp580 :shiftMask:shiftX *tmp579
-    * set :shiftMask:shift *tmp580
+ 1726 op add :shiftMask:shift :shiftMask:shiftX *tmp579
  1727 op greaterThan *tmp581 :shiftMask:shift 0
  1728 jump *label410 equal *tmp581 false
-    * op shr *tmp583 562949953421311 :shiftMask:shift
-    * set :shiftMask:clearMask *tmp583
+ 1729 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
  1730 op and *tmp584 :shiftMask:mask :shiftMask:clearMask
-    * op shl *tmp585 *tmp584 :shiftMask:shift
-    * set :shiftMask:mask *tmp585
+ 1731 op shl :shiftMask:mask *tmp584 :shiftMask:shift
  1732 jump *label411 always
  1733 label *label410
  1734 op sub *tmp586 0 :shiftMask:shift
 
  1738 jump *label412 equal *tmp587 false
  1739 op abs *tmp589 :shiftMask:shiftX
  1740 op sub *tmp590 7 *tmp589
-    * op shr *tmp591 0b1111111 *tmp590
-    * set :shiftMask:keep *tmp591
+ 1741 op shr :shiftMask:keep 0b1111111 *tmp590
  1742 op greaterThan *tmp592 :shiftMask:shiftX 0
  1743 jump *label414 equal *tmp592 false
  1744 op abs *tmp594 :shiftMask:shiftX
 
  1762 set *tmp572 null
  1763 label *label407
  1764 set :layoutThoriumDrillAtLocation:shiftedMask *tmp572
-    * op or *tmp599 :layoutThoriumDrillAtLocation:newTerrainMask :layoutThoriumDrillAtLocation:shiftedMask
-    * set :layoutThoriumDrillAtLocation:combinedMask *tmp599
+ 1765 op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :layoutThoriumDrillAtLocation:shiftedMask
  1766 op sub *tmp600 .drillX :layoutThoriumDrillAtLocation:sx
  1767 op sub *tmp601 .drillY :layoutThoriumDrillAtLocation:sy
  1768 set :tryPlaceGenerator:centerX *tmp600
 
  1773 setaddr :tryPlaceGenerator*retaddr *label416 (h:*label416)
  1774 call *label12 *invalid :tryPlaceGenerator*retval (m:*label416) (h:*label416)
  1775 label *label416
-    * set *tmp602 :tryPlaceGenerator*retval
-    * jump *label417 equal *tmp602 false
+ 1776 jump *label417 equal :tryPlaceGenerator*retval false
  1777 set :layoutThoriumDrillAtLocation*retval true
  1778 jump *label383 always
  1779 jump *label418 always

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-2 instructions):
 
   172 set :findDrillLocationLocal:oreX 0
   173 set :findDrillLocationLocal:oreY 0
   174 label *label50
-    * jump *label52 equal true false
   175 set :findDrillLocationLocal:best -1
   176 set :findDrillLocationLocal:bestX :findDrillLocationLocal:x
   177 set :findDrillLocationLocal:bestY :findDrillLocationLocal:y
 
   353 label *label85
   354 set :findDrillLocationLocal:last 0
   355 label *label90
-    * jump *label92 equal true false
   356 set :findBestPosition:x :findDrillLocationLocal:oreX
   357 set :findBestPosition:y :findDrillLocationLocal:oreY
   358 set :findBestPosition:ore :findDrillLocationLocal:ore

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-122 instructions):
 
    61 set *tmp9 :spotValue.4:result
    62 label *label21
    63 set :computeRowValues:x5 *tmp9
-    * op equal *tmp10 :computeRowValues:size 2
-    * jump *label22 equal *tmp10 false
+   64 jump *label22 notEqual :computeRowValues:size 2
    65 op add *tmp12 :computeRowValues:x1 :computeRowValues:x2
    66 op add *tmp13 :computeRowValues:x2 :computeRowValues:x3
    67 op add *tmp14 :computeRowValues:x3 :computeRowValues:x4
 
    71 set *tmp11 null
    72 jump *label23 always
    73 label *label22
-    * op equal *tmp17 :computeRowValues:size 3
-    * jump *label24 equal *tmp17 false
+   74 jump *label24 notEqual :computeRowValues:size 3
    75 op add *tmp19 :computeRowValues:x2 :computeRowValues:x3
    76 op add *tmp20 :computeRowValues:x1 *tmp19
    77 op add *tmp21 :computeRowValues:x2 :computeRowValues:x3
 
   156 set :moveTo.3:radius 6
   157 label *label47
   158 ucontrol within :moveTo.3:x :moveTo.3:y :moveTo.3:radius *tmp88
-    * op equal *tmp89 *tmp88 false
-    * jump *label49 equal *tmp89 false
+  159 jump *label49 notEqual *tmp88 false
   160 op sub *tmp90 :moveTo.3:radius 0.5
   161 ucontrol approach :moveTo.3:x :moveTo.3:y *tmp90
   162 label *label48
 
   187 op max .angle .angle @pi
   188 op mul .mapProgress .angle .angle
   189 label *label54
-    * op lessThan *tmp102 :locateOreAway:distance :locateOreAway:distanceLimit
-    * jump *label56 equal *tmp102 false
+  190 jump *label56 greaterThanEq :locateOreAway:distance :locateOreAway:distanceLimit
   191 op div :locateOreAway:a .angle @degToRad
   192 op sin *tmp104 :locateOreAway:a
   193 op mul *tmp105 *tmp104 :locateOreAway:distance
 
   216 set :moveTo.4:radius 5
   217 label *label60
   218 ucontrol within :moveTo.4:x :moveTo.4:y :moveTo.4:radius *tmp118
-    * op equal *tmp119 *tmp118 false
-    * jump *label62 equal *tmp119 false
+  219 jump *label62 notEqual *tmp118 false
   220 op sub *tmp120 :moveTo.4:radius 0.5
   221 ucontrol approach :moveTo.4:x :moveTo.4:y *tmp120
   222 label *label61
 
   228 op mul .mapProgress .angle .angle
   229 op mul :locateOreAway:distance 3.8197185279121366 .angle
   230 ulocate ore core true :locateOreAway:ore :locateOreAway:x :locateOreAway:y *tmp124 0
-    * op equal *tmp126 *tmp124 false
-    * jump *label63 equal *tmp126 false
+  231 jump *label63 notEqual *tmp124 false
   232 set *tmp98 false
   233 jump *label53 always
   234 jump *label64 always
 
   242 op sub *tmp133 :locateOreAway:x :locateOreAway:lx
   243 op sub *tmp134 :locateOreAway:y :locateOreAway:ly
   244 op len :locateOreAway:unitDist *tmp133 *tmp134
-    * op equal *tmp136 :locateOreAway:lastX :locateOreAway:x
-    * jump *label65 equal *tmp136 false
-    * op equal *tmp138 :locateOreAway:lastY :locateOreAway:y
-    * jump *label67 equal *tmp138 false
+  245 jump *label65 notEqual :locateOreAway:lastX :locateOreAway:x
+  246 jump *label67 notEqual :locateOreAway:lastY :locateOreAway:y
   247 jump *label55 always
   248 jump *label68 always
   249 label *label67
 
   251 jump *label66 always
   252 label *label65
   253 label *label66
-    * op greaterThanEq *tmp140 :locateOreAway:coreDist 7
-    * jump *label69 equal *tmp140 false
-    * op lessThan *tmp142 :locateOreAway:unitDist :locateOreAway:distance
-    * jump *label71 equal *tmp142 false
+  254 jump *label69 lessThan :locateOreAway:coreDist 7
+  255 jump *label71 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
   256 set :locateOreAway:lastX :locateOreAway:x
   257 set :locateOreAway:lastY :locateOreAway:y
   258 set :visited:x :locateOreAway:x
 
   269 op sub *tmp153 :visited:x :visited:lx
   270 op sub *tmp154 :visited:y :visited:ly
   271 op len *tmp155 *tmp153 *tmp154
-    * op lessThan *tmp156 *tmp155 7
-    * jump *label77 equal *tmp156 false
+  272 jump *label77 greaterThanEq *tmp155 7
   273 set *tmp144 true
   274 jump *label73 always
   275 jump *label78 always
 
   283 jump *label73 always
   284 set *tmp144 null
   285 label *label73
-    * op equal *tmp158 *tmp144 false
-    * jump *label79 equal *tmp158 false
+  286 jump *label79 notEqual *tmp144 false
   287 op div *tmp160 7.639437055824273 :locateOreAway:distance
   288 op add .angle .angle *tmp160
   289 op mul .mapProgress .angle .angle
 
   308 label *label53
   309 set :findDrillLocationLocal:oreX :locateOreAway:x
   310 set :findDrillLocationLocal:oreY :locateOreAway:y
-    * op equal *tmp162 *tmp98 false
-    * jump *label81 equal *tmp162 false
+  311 jump *label81 notEqual *tmp98 false
   312 op greaterThan :findDrillLocationLocal*retval :findDrillLocationLocal:capacity 0
   313 jump *label44 always
   314 jump *label82 always
   315 label *label81
   316 label *label82
-    * op greaterThanEq *tmp165 :findDrillLocationLocal:limit 1000
-    * jump *label83 equal *tmp165 false
+  317 jump *label83 lessThan :findDrillLocationLocal:limit 1000
   318 op add .mapSpots .mapSpots 1
   319 jump *label84 always
   320 label *label83
 
   328 set :moveTo.6:radius 6
   329 label *label87
   330 ucontrol within :moveTo.6:x :moveTo.6:y :moveTo.6:radius *tmp170
-    * op equal *tmp171 *tmp170 false
-    * jump *label89 equal *tmp171 false
+  331 jump *label89 notEqual *tmp170 false
   332 op sub *tmp172 :moveTo.6:radius 0.5
   333 ucontrol approach :moveTo.6:x :moveTo.6:y *tmp172
   334 label *label88
 
   390 set :findBestPosition:best 0
   391 set :findDrillLocationLocal:diffX 0
   392 set :findDrillLocationLocal:diffY 0
-    * op equal *tmp184 :findBestPosition:size 2
-    * jump *label99 equal *tmp184 false
+  393 jump *label99 notEqual :findBestPosition:size 2
   394 op add :findBestPosition:row1 :findBestPosition:y1 :findBestPosition:y2
   395 op add :findBestPosition:row2 :findBestPosition:y2 :findBestPosition:y3
   396 op add :findBestPosition:row3 :findBestPosition:y3 :findBestPosition:y4
 
   401 set :updatePosition:dx -1.5
   402 set :updatePosition:dy :updateRowPositions2x2:dy
   403 set :updatePosition:value :updateRowPositions2x2:col1
-    * op lessThan *tmp190 :updatePosition:value 0.0784313725490196
-    * jump *label103 equal *tmp190 false
-    * op greaterThan *tmp192 :updatePosition:value :findBestPosition:best
-    * jump *label105 equal *tmp192 false
+  404 jump *label103 greaterThanEq :updatePosition:value 0.0784313725490196
+  405 jump *label105 lessThanEq :updatePosition:value :findBestPosition:best
   406 set :findDrillLocationLocal:diffX :updatePosition:dx
   407 set :findDrillLocationLocal:diffY :updatePosition:dy
   408 set :findBestPosition:best :updatePosition:value
 
   416 set :updatePosition.1:dx -0.5
   417 set :updatePosition.1:dy :updateRowPositions2x2:dy
   418 set :updatePosition.1:value :updateRowPositions2x2:col2
-    * op lessThan *tmp194 :updatePosition.1:value 0.0784313725490196
-    * jump *label108 equal *tmp194 false
-    * op greaterThan *tmp196 :updatePosition.1:value :findBestPosition:best
-    * jump *label110 equal *tmp196 false
+  419 jump *label108 greaterThanEq :updatePosition.1:value 0.0784313725490196
+  420 jump *label110 lessThanEq :updatePosition.1:value :findBestPosition:best
   421 set :findDrillLocationLocal:diffX :updatePosition.1:dx
   422 set :findDrillLocationLocal:diffY :updatePosition.1:dy
   423 set :findBestPosition:best :updatePosition.1:value
 
   431 set :updatePosition.2:dx 0.5
   432 set :updatePosition.2:dy :updateRowPositions2x2:dy
   433 set :updatePosition.2:value :updateRowPositions2x2:col3
-    * op lessThan *tmp198 :updatePosition.2:value 0.0784313725490196
-    * jump *label113 equal *tmp198 false
-    * op greaterThan *tmp200 :updatePosition.2:value :findBestPosition:best
-    * jump *label115 equal *tmp200 false
+  434 jump *label113 greaterThanEq :updatePosition.2:value 0.0784313725490196
+  435 jump *label115 lessThanEq :updatePosition.2:value :findBestPosition:best
   436 set :findDrillLocationLocal:diffX :updatePosition.2:dx
   437 set :findDrillLocationLocal:diffY :updatePosition.2:dy
   438 set :findBestPosition:best :updatePosition.2:value
 
   446 set :updatePosition.3:dx 1.5
   447 set :updatePosition.3:dy :updateRowPositions2x2:dy
   448 set :updatePosition.3:value :updateRowPositions2x2:col4
-    * op lessThan *tmp202 :updatePosition.3:value 0.0784313725490196
-    * jump *label118 equal *tmp202 false
-    * op greaterThan *tmp204 :updatePosition.3:value :findBestPosition:best
-    * jump *label120 equal *tmp204 false
+  449 jump *label118 greaterThanEq :updatePosition.3:value 0.0784313725490196
+  450 jump *label120 lessThanEq :updatePosition.3:value :findBestPosition:best
   451 set :findDrillLocationLocal:diffX :updatePosition.3:dx
   452 set :findDrillLocationLocal:diffY :updatePosition.3:dy
   453 set :findBestPosition:best :updatePosition.3:value
 
   465 set :updatePosition.4:dx -1.5
   466 set :updatePosition.4:dy :updateRowPositions2x2.1:dy
   467 set :updatePosition.4:value :updateRowPositions2x2.1:col1
-    * op lessThan *tmp206 :updatePosition.4:value 0.0784313725490196
-    * jump *label124 equal *tmp206 false
-    * op greaterThan *tmp208 :updatePosition.4:value :findBestPosition:best
-    * jump *label126 equal *tmp208 false
+  468 jump *label124 greaterThanEq :updatePosition.4:value 0.0784313725490196
+  469 jump *label126 lessThanEq :updatePosition.4:value :findBestPosition:best
   470 set :findDrillLocationLocal:diffX :updatePosition.4:dx
   471 set :findDrillLocationLocal:diffY :updatePosition.4:dy
   472 set :findBestPosition:best :updatePosition.4:value
 
   480 set :updatePosition.5:dx -0.5
   481 set :updatePosition.5:dy :updateRowPositions2x2.1:dy
   482 set :updatePosition.5:value :updateRowPositions2x2.1:col2
-    * op lessThan *tmp210 :updatePosition.5:value 0.0784313725490196
-    * jump *label129 equal *tmp210 false
-    * op greaterThan *tmp212 :updatePosition.5:value :findBestPosition:best
-    * jump *label131 equal *tmp212 false
+  483 jump *label129 greaterThanEq :updatePosition.5:value 0.0784313725490196
+  484 jump *label131 lessThanEq :updatePosition.5:value :findBestPosition:best
   485 set :findDrillLocationLocal:diffX :updatePosition.5:dx
   486 set :findDrillLocationLocal:diffY :updatePosition.5:dy
   487 set :findBestPosition:best :updatePosition.5:value
 
   495 set :updatePosition.6:dx 0.5
   496 set :updatePosition.6:dy :updateRowPositions2x2.1:dy
   497 set :updatePosition.6:value :updateRowPositions2x2.1:col3
-    * op lessThan *tmp214 :updatePosition.6:value 0.0784313725490196
-    * jump *label134 equal *tmp214 false
-    * op greaterThan *tmp216 :updatePosition.6:value :findBestPosition:best
-    * jump *label136 equal *tmp216 false
+  498 jump *label134 greaterThanEq :updatePosition.6:value 0.0784313725490196
+  499 jump *label136 lessThanEq :updatePosition.6:value :findBestPosition:best
   500 set :findDrillLocationLocal:diffX :updatePosition.6:dx
   501 set :findDrillLocationLocal:diffY :updatePosition.6:dy
   502 set :findBestPosition:best :updatePosition.6:value
 
   510 set :updatePosition.7:dx 1.5
   511 set :updatePosition.7:dy :updateRowPositions2x2.1:dy
   512 set :updatePosition.7:value :updateRowPositions2x2.1:col4
-    * op lessThan *tmp218 :updatePosition.7:value 0.0784313725490196
-    * jump *label139 equal *tmp218 false
-    * op greaterThan *tmp220 :updatePosition.7:value :findBestPosition:best
-    * jump *label141 equal *tmp220 false
+  513 jump *label139 greaterThanEq :updatePosition.7:value 0.0784313725490196
+  514 jump *label141 lessThanEq :updatePosition.7:value :findBestPosition:best
   515 set :findDrillLocationLocal:diffX :updatePosition.7:dx
   516 set :findDrillLocationLocal:diffY :updatePosition.7:dy
   517 set :findBestPosition:best :updatePosition.7:value
 
   529 set :updatePosition.8:dx -1.5
   530 set :updatePosition.8:dy :updateRowPositions2x2.2:dy
   531 set :updatePosition.8:value :updateRowPositions2x2.2:col1
-    * op lessThan *tmp222 :updatePosition.8:value 0.0784313725490196
-    * jump *label145 equal *tmp222 false
-    * op greaterThan *tmp224 :updatePosition.8:value :findBestPosition:best
-    * jump *label147 equal *tmp224 false
+  532 jump *label145 greaterThanEq :updatePosition.8:value 0.0784313725490196
+  533 jump *label147 lessThanEq :updatePosition.8:value :findBestPosition:best
   534 set :findDrillLocationLocal:diffX :updatePosition.8:dx
   535 set :findDrillLocationLocal:diffY :updatePosition.8:dy
   536 set :findBestPosition:best :updatePosition.8:value
 
   544 set :updatePosition.9:dx -0.5
   545 set :updatePosition.9:dy :updateRowPositions2x2.2:dy
   546 set :updatePosition.9:value :updateRowPositions2x2.2:col2
-    * op lessThan *tmp226 :updatePosition.9:value 0.0784313725490196
-    * jump *label150 equal *tmp226 false
-    * op greaterThan *tmp228 :updatePosition.9:value :findBestPosition:best
-    * jump *label152 equal *tmp228 false
+  547 jump *label150 greaterThanEq :updatePosition.9:value 0.0784313725490196
+  548 jump *label152 lessThanEq :updatePosition.9:value :findBestPosition:best
   549 set :findDrillLocationLocal:diffX :updatePosition.9:dx
   550 set :findDrillLocationLocal:diffY :updatePosition.9:dy
   551 set :findBestPosition:best :updatePosition.9:value
 
   559 set :updatePosition.10:dx 0.5
   560 set :updatePosition.10:dy :updateRowPositions2x2.2:dy
   561 set :updatePosition.10:value :updateRowPositions2x2.2:col3
-    * op lessThan *tmp230 :updatePosition.10:value 0.0784313725490196
-    * jump *label155 equal *tmp230 false
-    * op greaterThan *tmp232 :updatePosition.10:value :findBestPosition:best
-    * jump *label157 equal *tmp232 false
+  562 jump *label155 greaterThanEq :updatePosition.10:value 0.0784313725490196
+  563 jump *label157 lessThanEq :updatePosition.10:value :findBestPosition:best
   564 set :findDrillLocationLocal:diffX :updatePosition.10:dx
   565 set :findDrillLocationLocal:diffY :updatePosition.10:dy
   566 set :findBestPosition:best :updatePosition.10:value
 
   574 set :updatePosition.11:dx 1.5
   575 set :updatePosition.11:dy :updateRowPositions2x2.2:dy
   576 set :updatePosition.11:value :updateRowPositions2x2.2:col4
-    * op lessThan *tmp234 :updatePosition.11:value 0.0784313725490196
-    * jump *label160 equal *tmp234 false
-    * op greaterThan *tmp236 :updatePosition.11:value :findBestPosition:best
-    * jump *label162 equal *tmp236 false
+  577 jump *label160 greaterThanEq :updatePosition.11:value 0.0784313725490196
+  578 jump *label162 lessThanEq :updatePosition.11:value :findBestPosition:best
   579 set :findDrillLocationLocal:diffX :updatePosition.11:dx
   580 set :findDrillLocationLocal:diffY :updatePosition.11:dy
   581 set :findBestPosition:best :updatePosition.11:value
 
   593 set :updatePosition.12:dx -1.5
   594 set :updatePosition.12:dy :updateRowPositions2x2.3:dy
   595 set :updatePosition.12:value :updateRowPositions2x2.3:col1
-    * op lessThan *tmp238 :updatePosition.12:value 0.0784313725490196
-    * jump *label166 equal *tmp238 false
-    * op greaterThan *tmp240 :updatePosition.12:value :findBestPosition:best
-    * jump *label168 equal *tmp240 false
+  596 jump *label166 greaterThanEq :updatePosition.12:value 0.0784313725490196
+  597 jump *label168 lessThanEq :updatePosition.12:value :findBestPosition:best
   598 set :findDrillLocationLocal:diffX :updatePosition.12:dx
   599 set :findDrillLocationLocal:diffY :updatePosition.12:dy
   600 set :findBestPosition:best :updatePosition.12:value
 
   608 set :updatePosition.13:dx -0.5
   609 set :updatePosition.13:dy :updateRowPositions2x2.3:dy
   610 set :updatePosition.13:value :updateRowPositions2x2.3:col2
-    * op lessThan *tmp242 :updatePosition.13:value 0.0784313725490196
-    * jump *label171 equal *tmp242 false
-    * op greaterThan *tmp244 :updatePosition.13:value :findBestPosition:best
-    * jump *label173 equal *tmp244 false
+  611 jump *label171 greaterThanEq :updatePosition.13:value 0.0784313725490196
+  612 jump *label173 lessThanEq :updatePosition.13:value :findBestPosition:best
   613 set :findDrillLocationLocal:diffX :updatePosition.13:dx
   614 set :findDrillLocationLocal:diffY :updatePosition.13:dy
   615 set :findBestPosition:best :updatePosition.13:value
 
   623 set :updatePosition.14:dx 0.5
   624 set :updatePosition.14:dy :updateRowPositions2x2.3:dy
   625 set :updatePosition.14:value :updateRowPositions2x2.3:col3
-    * op lessThan *tmp246 :updatePosition.14:value 0.0784313725490196
-    * jump *label176 equal *tmp246 false
-    * op greaterThan *tmp248 :updatePosition.14:value :findBestPosition:best
-    * jump *label178 equal *tmp248 false
+  626 jump *label176 greaterThanEq :updatePosition.14:value 0.0784313725490196
+  627 jump *label178 lessThanEq :updatePosition.14:value :findBestPosition:best
   628 set :findDrillLocationLocal:diffX :updatePosition.14:dx
   629 set :findDrillLocationLocal:diffY :updatePosition.14:dy
   630 set :findBestPosition:best :updatePosition.14:value
 
   638 set :updatePosition.15:dx 1.5
   639 set :updatePosition.15:dy :updateRowPositions2x2.3:dy
   640 set :updatePosition.15:value :updateRowPositions2x2.3:col4
-    * op lessThan *tmp250 :updatePosition.15:value 0.0784313725490196
-    * jump *label181 equal *tmp250 false
-    * op greaterThan *tmp252 :updatePosition.15:value :findBestPosition:best
-    * jump *label183 equal *tmp252 false
+  641 jump *label181 greaterThanEq :updatePosition.15:value 0.0784313725490196
+  642 jump *label183 lessThanEq :updatePosition.15:value :findBestPosition:best
   643 set :findDrillLocationLocal:diffX :updatePosition.15:dx
   644 set :findDrillLocationLocal:diffY :updatePosition.15:dy
   645 set :findBestPosition:best :updatePosition.15:value
 
   653 label *label164
   654 jump *label100 always
   655 label *label99
-    * op equal *tmp254 :findBestPosition:size 3
-    * jump *label185 equal *tmp254 false
+  656 jump *label185 notEqual :findBestPosition:size 3
   657 op add *tmp256 :findBestPosition:y2 :findBestPosition:y3
   658 op add :findBestPosition:row1.1 :findBestPosition:y1 *tmp256
   659 op add *tmp258 :findBestPosition:y2 :findBestPosition:y3
 
   666 set :updatePosition.16:dx -1
   667 set :updatePosition.16:dy :updateRowPositions3x3:dy
   668 set :updatePosition.16:value :updateRowPositions3x3:col1
-    * op lessThan *tmp263 :updatePosition.16:value 0.0784313725490196
-    * jump *label189 equal *tmp263 false
-    * op greaterThan *tmp265 :updatePosition.16:value :findBestPosition:best
-    * jump *label191 equal *tmp265 false
+  669 jump *label189 greaterThanEq :updatePosition.16:value 0.0784313725490196
+  670 jump *label191 lessThanEq :updatePosition.16:value :findBestPosition:best
   671 set :findDrillLocationLocal:diffX :updatePosition.16:dx
   672 set :findDrillLocationLocal:diffY :updatePosition.16:dy
   673 set :findBestPosition:best :updatePosition.16:value
 
   681 set :updatePosition.17:dx 0
   682 set :updatePosition.17:dy :updateRowPositions3x3:dy
   683 set :updatePosition.17:value :updateRowPositions3x3:col2
-    * op lessThan *tmp267 :updatePosition.17:value 0.0784313725490196
-    * jump *label194 equal *tmp267 false
-    * op greaterThan *tmp269 :updatePosition.17:value :findBestPosition:best
-    * jump *label196 equal *tmp269 false
+  684 jump *label194 greaterThanEq :updatePosition.17:value 0.0784313725490196
+  685 jump *label196 lessThanEq :updatePosition.17:value :findBestPosition:best
   686 set :findDrillLocationLocal:diffX :updatePosition.17:dx
   687 set :findDrillLocationLocal:diffY :updatePosition.17:dy
   688 set :findBestPosition:best :updatePosition.17:value
 
   696 set :updatePosition.18:dx 1
   697 set :updatePosition.18:dy :updateRowPositions3x3:dy
   698 set :updatePosition.18:value :updateRowPositions3x3:col3
-    * op lessThan *tmp271 :updatePosition.18:value 0.0784313725490196
-    * jump *label199 equal *tmp271 false
-    * op greaterThan *tmp273 :updatePosition.18:value :findBestPosition:best
-    * jump *label201 equal *tmp273 false
+  699 jump *label199 greaterThanEq :updatePosition.18:value 0.0784313725490196
+  700 jump *label201 lessThanEq :updatePosition.18:value :findBestPosition:best
   701 set :findDrillLocationLocal:diffX :updatePosition.18:dx
   702 set :findDrillLocationLocal:diffY :updatePosition.18:dy
   703 set :findBestPosition:best :updatePosition.18:value
 
   715 set :updatePosition.19:dx -1
   716 set :updatePosition.19:dy :updateRowPositions3x3.1:dy
   717 set :updatePosition.19:value :updateRowPositions3x3.1:col1
-    * op lessThan *tmp276 :updatePosition.19:value 0.0784313725490196
-    * jump *label205 equal *tmp276 false
-    * op greaterThan *tmp278 :updatePosition.19:value :findBestPosition:best
-    * jump *label207 equal *tmp278 false
+  718 jump *label205 greaterThanEq :updatePosition.19:value 0.0784313725490196
+  719 jump *label207 lessThanEq :updatePosition.19:value :findBestPosition:best
   720 set :findDrillLocationLocal:diffX :updatePosition.19:dx
   721 set :findDrillLocationLocal:diffY :updatePosition.19:dy
   722 set :findBestPosition:best :updatePosition.19:value
 
   730 set :updatePosition.20:dx 0
   731 set :updatePosition.20:dy :updateRowPositions3x3.1:dy
   732 set :updatePosition.20:value :updateRowPositions3x3.1:col2
-    * op lessThan *tmp280 :updatePosition.20:value 0.0784313725490196
-    * jump *label210 equal *tmp280 false
-    * op greaterThan *tmp282 :updatePosition.20:value :findBestPosition:best
-    * jump *label212 equal *tmp282 false
+  733 jump *label210 greaterThanEq :updatePosition.20:value 0.0784313725490196
+  734 jump *label212 lessThanEq :updatePosition.20:value :findBestPosition:best
   735 set :findDrillLocationLocal:diffX :updatePosition.20:dx
   736 set :findDrillLocationLocal:diffY :updatePosition.20:dy
   737 set :findBestPosition:best :updatePosition.20:value
 
   745 set :updatePosition.21:dx 1
   746 set :updatePosition.21:dy :updateRowPositions3x3.1:dy
   747 set :updatePosition.21:value :updateRowPositions3x3.1:col3
-    * op lessThan *tmp284 :updatePosition.21:value 0.0784313725490196
-    * jump *label215 equal *tmp284 false
-    * op greaterThan *tmp286 :updatePosition.21:value :findBestPosition:best
-    * jump *label217 equal *tmp286 false
+  748 jump *label215 greaterThanEq :updatePosition.21:value 0.0784313725490196
+  749 jump *label217 lessThanEq :updatePosition.21:value :findBestPosition:best
   750 set :findDrillLocationLocal:diffX :updatePosition.21:dx
   751 set :findDrillLocationLocal:diffY :updatePosition.21:dy
   752 set :findBestPosition:best :updatePosition.21:value
 
   764 set :updatePosition.22:dx -1
   765 set :updatePosition.22:dy :updateRowPositions3x3.2:dy
   766 set :updatePosition.22:value :updateRowPositions3x3.2:col1
-    * op lessThan *tmp289 :updatePosition.22:value 0.0784313725490196
-    * jump *label221 equal *tmp289 false
-    * op greaterThan *tmp291 :updatePosition.22:value :findBestPosition:best
-    * jump *label223 equal *tmp291 false
+  767 jump *label221 greaterThanEq :updatePosition.22:value 0.0784313725490196
+  768 jump *label223 lessThanEq :updatePosition.22:value :findBestPosition:best
   769 set :findDrillLocationLocal:diffX :updatePosition.22:dx
   770 set :findDrillLocationLocal:diffY :updatePosition.22:dy
   771 set :findBestPosition:best :updatePosition.22:value
 
   779 set :updatePosition.23:dx 0
   780 set :updatePosition.23:dy :updateRowPositions3x3.2:dy
   781 set :updatePosition.23:value :updateRowPositions3x3.2:col2
-    * op lessThan *tmp293 :updatePosition.23:value 0.0784313725490196
-    * jump *label226 equal *tmp293 false
-    * op greaterThan *tmp295 :updatePosition.23:value :findBestPosition:best
-    * jump *label228 equal *tmp295 false
+  782 jump *label226 greaterThanEq :updatePosition.23:value 0.0784313725490196
+  783 jump *label228 lessThanEq :updatePosition.23:value :findBestPosition:best
   784 set :findDrillLocationLocal:diffX :updatePosition.23:dx
   785 set :findDrillLocationLocal:diffY :updatePosition.23:dy
   786 set :findBestPosition:best :updatePosition.23:value
 
   794 set :updatePosition.24:dx 1
   795 set :updatePosition.24:dy :updateRowPositions3x3.2:dy
   796 set :updatePosition.24:value :updateRowPositions3x3.2:col3
-    * op lessThan *tmp297 :updatePosition.24:value 0.0784313725490196
-    * jump *label231 equal *tmp297 false
-    * op greaterThan *tmp299 :updatePosition.24:value :findBestPosition:best
-    * jump *label233 equal *tmp299 false
+  797 jump *label231 greaterThanEq :updatePosition.24:value 0.0784313725490196
+  798 jump *label233 lessThanEq :updatePosition.24:value :findBestPosition:best
   799 set :findDrillLocationLocal:diffX :updatePosition.24:dx
   800 set :findDrillLocationLocal:diffY :updatePosition.24:dy
   801 set :findBestPosition:best :updatePosition.24:value
 
   845 set :updatePosition.25:dx -1.5
   846 set :updatePosition.25:dy :updateRowPositions4x4:dy
   847 set :updatePosition.25:value :updateRowPositions4x4:col1
-    * op lessThan *tmp317 :updatePosition.25:value 0.0784313725490196
-    * jump *label239 equal *tmp317 false
-    * op greaterThan *tmp319 :updatePosition.25:value :findBestPosition:best
-    * jump *label241 equal *tmp319 false
+  848 jump *label239 greaterThanEq :updatePosition.25:value 0.0784313725490196
+  849 jump *label241 lessThanEq :updatePosition.25:value :findBestPosition:best
   850 set :findDrillLocationLocal:diffX :updatePosition.25:dx
   851 set :findDrillLocationLocal:diffY :updatePosition.25:dy
   852 set :findBestPosition:best :updatePosition.25:value
 
   860 set :updatePosition.26:dx -0.5
   861 set :updatePosition.26:dy :updateRowPositions4x4:dy
   862 set :updatePosition.26:value :updateRowPositions4x4:col2
-    * op lessThan *tmp321 :updatePosition.26:value 0.0784313725490196
-    * jump *label244 equal *tmp321 false
-    * op greaterThan *tmp323 :updatePosition.26:value :findBestPosition:best
-    * jump *label246 equal *tmp323 false
+  863 jump *label244 greaterThanEq :updatePosition.26:value 0.0784313725490196
+  864 jump *label246 lessThanEq :updatePosition.26:value :findBestPosition:best
   865 set :findDrillLocationLocal:diffX :updatePosition.26:dx
   866 set :findDrillLocationLocal:diffY :updatePosition.26:dy
   867 set :findBestPosition:best :updatePosition.26:value
 
   875 set :updatePosition.27:dx 0.5
   876 set :updatePosition.27:dy :updateRowPositions4x4:dy
   877 set :updatePosition.27:value :updateRowPositions4x4:col3
-    * op lessThan *tmp325 :updatePosition.27:value 0.0784313725490196
-    * jump *label249 equal *tmp325 false
-    * op greaterThan *tmp327 :updatePosition.27:value :findBestPosition:best
-    * jump *label251 equal *tmp327 false
+  878 jump *label249 greaterThanEq :updatePosition.27:value 0.0784313725490196
+  879 jump *label251 lessThanEq :updatePosition.27:value :findBestPosition:best
   880 set :findDrillLocationLocal:diffX :updatePosition.27:dx
   881 set :findDrillLocationLocal:diffY :updatePosition.27:dy
   882 set :findBestPosition:best :updatePosition.27:value
 
   890 set :updatePosition.28:dx 1.5
   891 set :updatePosition.28:dy :updateRowPositions4x4:dy
   892 set :updatePosition.28:value :updateRowPositions4x4:col4
-    * op lessThan *tmp329 :updatePosition.28:value 0.0784313725490196
-    * jump *label254 equal *tmp329 false
-    * op greaterThan *tmp331 :updatePosition.28:value :findBestPosition:best
-    * jump *label256 equal *tmp331 false
+  893 jump *label254 greaterThanEq :updatePosition.28:value 0.0784313725490196
+  894 jump *label256 lessThanEq :updatePosition.28:value :findBestPosition:best
   895 set :findDrillLocationLocal:diffX :updatePosition.28:dx
   896 set :findDrillLocationLocal:diffY :updatePosition.28:dy
   897 set :findBestPosition:best :updatePosition.28:value
 
   909 set :updatePosition.29:dx -1.5
   910 set :updatePosition.29:dy :updateRowPositions4x4.1:dy
   911 set :updatePosition.29:value :updateRowPositions4x4.1:col1
-    * op lessThan *tmp333 :updatePosition.29:value 0.0784313725490196
-    * jump *label260 equal *tmp333 false
-    * op greaterThan *tmp335 :updatePosition.29:value :findBestPosition:best
-    * jump *label262 equal *tmp335 false
+  912 jump *label260 greaterThanEq :updatePosition.29:value 0.0784313725490196
+  913 jump *label262 lessThanEq :updatePosition.29:value :findBestPosition:best
   914 set :findDrillLocationLocal:diffX :updatePosition.29:dx
   915 set :findDrillLocationLocal:diffY :updatePosition.29:dy
   916 set :findBestPosition:best :updatePosition.29:value
 
   924 set :updatePosition.30:dx -0.5
   925 set :updatePosition.30:dy :updateRowPositions4x4.1:dy
   926 set :updatePosition.30:value :updateRowPositions4x4.1:col2
-    * op lessThan *tmp337 :updatePosition.30:value 0.0784313725490196
-    * jump *label265 equal *tmp337 false
-    * op greaterThan *tmp339 :updatePosition.30:value :findBestPosition:best
-    * jump *label267 equal *tmp339 false
+  927 jump *label265 greaterThanEq :updatePosition.30:value 0.0784313725490196
+  928 jump *label267 lessThanEq :updatePosition.30:value :findBestPosition:best
   929 set :findDrillLocationLocal:diffX :updatePosition.30:dx
   930 set :findDrillLocationLocal:diffY :updatePosition.30:dy
   931 set :findBestPosition:best :updatePosition.30:value
 
   939 set :updatePosition.31:dx 0.5
   940 set :updatePosition.31:dy :updateRowPositions4x4.1:dy
   941 set :updatePosition.31:value :updateRowPositions4x4.1:col3
-    * op lessThan *tmp341 :updatePosition.31:value 0.0784313725490196
-    * jump *label270 equal *tmp341 false
-    * op greaterThan *tmp343 :updatePosition.31:value :findBestPosition:best
-    * jump *label272 equal *tmp343 false
+  942 jump *label270 greaterThanEq :updatePosition.31:value 0.0784313725490196
+  943 jump *label272 lessThanEq :updatePosition.31:value :findBestPosition:best
   944 set :findDrillLocationLocal:diffX :updatePosition.31:dx
   945 set :findDrillLocationLocal:diffY :updatePosition.31:dy
   946 set :findBestPosition:best :updatePosition.31:value
 
   954 set :updatePosition.32:dx 1.5
   955 set :updatePosition.32:dy :updateRowPositions4x4.1:dy
   956 set :updatePosition.32:value :updateRowPositions4x4.1:col4
-    * op lessThan *tmp345 :updatePosition.32:value 0.0784313725490196
-    * jump *label275 equal *tmp345 false
-    * op greaterThan *tmp347 :updatePosition.32:value :findBestPosition:best
-    * jump *label277 equal *tmp347 false
+  957 jump *label275 greaterThanEq :updatePosition.32:value 0.0784313725490196
+  958 jump *label277 lessThanEq :updatePosition.32:value :findBestPosition:best
   959 set :findDrillLocationLocal:diffX :updatePosition.32:dx
   960 set :findDrillLocationLocal:diffY :updatePosition.32:dy
   961 set :findBestPosition:best :updatePosition.32:value
 
   973 set :updatePosition.33:dx -1.5
   974 set :updatePosition.33:dy :updateRowPositions4x4.2:dy
   975 set :updatePosition.33:value :updateRowPositions4x4.2:col1
-    * op lessThan *tmp349 :updatePosition.33:value 0.0784313725490196
-    * jump *label281 equal *tmp349 false
-    * op greaterThan *tmp351 :updatePosition.33:value :findBestPosition:best
-    * jump *label283 equal *tmp351 false
+  976 jump *label281 greaterThanEq :updatePosition.33:value 0.0784313725490196
+  977 jump *label283 lessThanEq :updatePosition.33:value :findBestPosition:best
   978 set :findDrillLocationLocal:diffX :updatePosition.33:dx
   979 set :findDrillLocationLocal:diffY :updatePosition.33:dy
   980 set :findBestPosition:best :updatePosition.33:value
 
   988 set :updatePosition.34:dx -0.5
   989 set :updatePosition.34:dy :updateRowPositions4x4.2:dy
   990 set :updatePosition.34:value :updateRowPositions4x4.2:col2
-    * op lessThan *tmp353 :updatePosition.34:value 0.0784313725490196
-    * jump *label286 equal *tmp353 false
-    * op greaterThan *tmp355 :updatePosition.34:value :findBestPosition:best
-    * jump *label288 equal *tmp355 false
+  991 jump *label286 greaterThanEq :updatePosition.34:value 0.0784313725490196
+  992 jump *label288 lessThanEq :updatePosition.34:value :findBestPosition:best
   993 set :findDrillLocationLocal:diffX :updatePosition.34:dx
   994 set :findDrillLocationLocal:diffY :updatePosition.34:dy
   995 set :findBestPosition:best :updatePosition.34:value
 
  1003 set :updatePosition.35:dx 0.5
  1004 set :updatePosition.35:dy :updateRowPositions4x4.2:dy
  1005 set :updatePosition.35:value :updateRowPositions4x4.2:col3
-    * op lessThan *tmp357 :updatePosition.35:value 0.0784313725490196
-    * jump *label291 equal *tmp357 false
-    * op greaterThan *tmp359 :updatePosition.35:value :findBestPosition:best
-    * jump *label293 equal *tmp359 false
+ 1006 jump *label291 greaterThanEq :updatePosition.35:value 0.0784313725490196
+ 1007 jump *label293 lessThanEq :updatePosition.35:value :findBestPosition:best
  1008 set :findDrillLocationLocal:diffX :updatePosition.35:dx
  1009 set :findDrillLocationLocal:diffY :updatePosition.35:dy
  1010 set :findBestPosition:best :updatePosition.35:value
 
  1018 set :updatePosition.36:dx 1.5
  1019 set :updatePosition.36:dy :updateRowPositions4x4.2:dy
  1020 set :updatePosition.36:value :updateRowPositions4x4.2:col4
-    * op lessThan *tmp361 :updatePosition.36:value 0.0784313725490196
-    * jump *label296 equal *tmp361 false
-    * op greaterThan *tmp363 :updatePosition.36:value :findBestPosition:best
-    * jump *label298 equal *tmp363 false
+ 1021 jump *label296 greaterThanEq :updatePosition.36:value 0.0784313725490196
+ 1022 jump *label298 lessThanEq :updatePosition.36:value :findBestPosition:best
  1023 set :findDrillLocationLocal:diffX :updatePosition.36:dx
  1024 set :findDrillLocationLocal:diffY :updatePosition.36:dy
  1025 set :findBestPosition:best :updatePosition.36:value
 
  1037 set :updatePosition.37:dx -1.5
  1038 set :updatePosition.37:dy :updateRowPositions4x4.3:dy
  1039 set :updatePosition.37:value :updateRowPositions4x4.3:col1
-    * op lessThan *tmp365 :updatePosition.37:value 0.0784313725490196
-    * jump *label302 equal *tmp365 false
-    * op greaterThan *tmp367 :updatePosition.37:value :findBestPosition:best
-    * jump *label304 equal *tmp367 false
+ 1040 jump *label302 greaterThanEq :updatePosition.37:value 0.0784313725490196
+ 1041 jump *label304 lessThanEq :updatePosition.37:value :findBestPosition:best
  1042 set :findDrillLocationLocal:diffX :updatePosition.37:dx
  1043 set :findDrillLocationLocal:diffY :updatePosition.37:dy
  1044 set :findBestPosition:best :updatePosition.37:value
 
  1052 set :updatePosition.38:dx -0.5
  1053 set :updatePosition.38:dy :updateRowPositions4x4.3:dy
  1054 set :updatePosition.38:value :updateRowPositions4x4.3:col2
-    * op lessThan *tmp369 :updatePosition.38:value 0.0784313725490196
-    * jump *label307 equal *tmp369 false
-    * op greaterThan *tmp371 :updatePosition.38:value :findBestPosition:best
-    * jump *label309 equal *tmp371 false
+ 1055 jump *label307 greaterThanEq :updatePosition.38:value 0.0784313725490196
+ 1056 jump *label309 lessThanEq :updatePosition.38:value :findBestPosition:best
  1057 set :findDrillLocationLocal:diffX :updatePosition.38:dx
  1058 set :findDrillLocationLocal:diffY :updatePosition.38:dy
  1059 set :findBestPosition:best :updatePosition.38:value
 
  1067 set :updatePosition.39:dx 0.5
  1068 set :updatePosition.39:dy :updateRowPositions4x4.3:dy
  1069 set :updatePosition.39:value :updateRowPositions4x4.3:col3
-    * op lessThan *tmp373 :updatePosition.39:value 0.0784313725490196
-    * jump *label312 equal *tmp373 false
-    * op greaterThan *tmp375 :updatePosition.39:value :findBestPosition:best
-    * jump *label314 equal *tmp375 false
+ 1070 jump *label312 greaterThanEq :updatePosition.39:value 0.0784313725490196
+ 1071 jump *label314 lessThanEq :updatePosition.39:value :findBestPosition:best
  1072 set :findDrillLocationLocal:diffX :updatePosition.39:dx
  1073 set :findDrillLocationLocal:diffY :updatePosition.39:dy
  1074 set :findBestPosition:best :updatePosition.39:value
 
  1082 set :updatePosition.40:dx 1.5
  1083 set :updatePosition.40:dy :updateRowPositions4x4.3:dy
  1084 set :updatePosition.40:value :updateRowPositions4x4.3:col4
-    * op lessThan *tmp377 :updatePosition.40:value 0.0784313725490196
-    * jump *label317 equal *tmp377 false
-    * op greaterThan *tmp379 :updatePosition.40:value :findBestPosition:best
-    * jump *label319 equal *tmp379 false
+ 1085 jump *label317 greaterThanEq :updatePosition.40:value 0.0784313725490196
+ 1086 jump *label319 lessThanEq :updatePosition.40:value :findBestPosition:best
  1087 set :findDrillLocationLocal:diffX :updatePosition.40:dx
  1088 set :findDrillLocationLocal:diffY :updatePosition.40:dy
  1089 set :findBestPosition:best :updatePosition.40:value
 
  1102 set *tmp173 null
  1103 label *label93
  1104 set :findDrillLocationLocal:score *tmp173
-    * op greaterThan *tmp382 :findDrillLocationLocal:score :findDrillLocationLocal:capacity
-    * jump *label321 equal *tmp382 false
+ 1105 jump *label321 lessThanEq :findDrillLocationLocal:score :findDrillLocationLocal:capacity
  1106 op add :findDrillLocationLocal:dx :findDrillLocationLocal:oreX :findDrillLocationLocal:diffX
  1107 op add :findDrillLocationLocal:dy :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
  1108 set :findDrillLocationLocal:capacity :findDrillLocationLocal:score
-    * op lessThan *tmp386 :findDrillLocationLocal:limit 1000
-    * jump *label323 equal *tmp386 false
+ 1109 jump *label323 greaterThanEq :findDrillLocationLocal:limit 1000
  1110 set .mapSpots :findDrillLocationLocal:score
  1111 jump *label324 always
  1112 label *label323
  1113 label *label324
-    * op greaterThanEq *tmp388 :findDrillLocationLocal:capacity :findDrillLocationLocal:limit
-    * jump *label325 equal *tmp388 false
+ 1114 jump *label325 lessThan :findDrillLocationLocal:capacity :findDrillLocationLocal:limit
  1115 set :saveLocation:item :findDrillLocationLocal:item
  1116 set :saveLocation:value :findDrillLocationLocal:score
  1117 set :saveLocation:x :findDrillLocationLocal:dx
 
  1137 jump *label322 always
  1138 label *label321
  1139 label *label322
-    * op greaterThan *tmp400 :findDrillLocationLocal:score :findDrillLocationLocal:best
-    * jump *label328 equal *tmp400 false
+ 1140 jump *label328 lessThanEq :findDrillLocationLocal:score :findDrillLocationLocal:best
  1141 op add :findDrillLocationLocal:bestX :findDrillLocationLocal:oreX :findDrillLocationLocal:diffX
  1142 op add :findDrillLocationLocal:bestY :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
  1143 set :findDrillLocationLocal:best :findDrillLocationLocal:score
  1144 jump *label329 always
  1145 label *label328
  1146 label *label329
-    * op lessThanEq *tmp404 :findDrillLocationLocal:score :findDrillLocationLocal:last
-    * jump *label330 equal *tmp404 false
+ 1147 jump *label330 greaterThan :findDrillLocationLocal:score :findDrillLocationLocal:last
  1148 jump *label92 always
  1149 jump *label331 always
  1150 label *label330
 
  1165 op sub *tmp416 :findDrillLocationLocal:oreY .coreY
  1166 op abs *tmp417 *tmp416
  1167 op min *tmp418 *tmp415 *tmp417
-    * op lessThan *tmp419 *tmp418 7
-    * jump *label334 equal *tmp419 false
+ 1168 jump *label334 greaterThanEq *tmp418 7
  1169 jump *label92 always
  1170 jump *label335 always
  1171 label *label334
 
  1173 label *label91
  1174 jump *label90 always
  1175 label *label92
-    * op greaterThanEq *tmp421 :findDrillLocationLocal:best 0
-    * jump *label336 equal *tmp421 false
+ 1176 jump *label336 lessThan :findDrillLocationLocal:best 0
  1177 set :saveLocation.1:item :findDrillLocationLocal:item
  1178 set :saveLocation.1:value :findDrillLocationLocal:best
  1179 set :saveLocation.1:x :findDrillLocationLocal:bestX
 
  1210 set :moveTo.8:radius 6
  1211 label *label342
  1212 ucontrol within :moveTo.8:x :moveTo.8:y :moveTo.8:radius *tmp435
-    * op equal *tmp436 *tmp435 false
-    * jump *label344 equal *tmp436 false
+ 1213 jump *label344 notEqual *tmp435 false
  1214 op sub *tmp437 :moveTo.8:radius 0.5
  1215 ucontrol approach :moveTo.8:x :moveTo.8:y *tmp437
  1216 label *label343
 
  1261 label *label356
  1262 jump *label358 greaterThan :findPossiblePlacement:x 3
  1263 op and *tmp446 :findPossiblePlacement:terrainMask :findPossiblePlacement:mask
-    * op equal *tmp447 *tmp446 0
-    * jump *label359 equal *tmp447 false
+ 1264 jump *label359 notEqual *tmp446 0
  1265 op mul *tmp449 :findPossiblePlacement:y 7
  1266 op add *tmp450 24 *tmp449
  1267 op add :findPossiblePlacement*retval *tmp450 :findPossiblePlacement:x
 
  1270 label *label359
  1271 label *label360
  1272 op sub *tmp452 3 :findPossiblePlacement:width
-    * op greaterThan *tmp453 :findPossiblePlacement:x *tmp452
-    * jump *label361 equal *tmp453 false
+ 1273 jump *label361 lessThanEq :findPossiblePlacement:x *tmp452
  1274 jump *label358 always
  1275 jump *label362 always
  1276 label *label361
 
  1281 jump *label356 always
  1282 label *label358
  1283 op sub *tmp455 3 :findPossiblePlacement:height
-    * op greaterThan *tmp456 :findPossiblePlacement:y *tmp455
-    * jump *label363 equal *tmp456 false
+ 1284 jump *label363 lessThanEq :findPossiblePlacement:y *tmp455
  1285 jump *label355 always
  1286 jump *label364 always
  1287 label *label363
 
  1307 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1308 set :tryPlaceGenerator:r :findPossiblePlacement:y
  1309 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op greaterThanEq *tmp459 :tryPlaceGenerator:shift 0
-    * jump *label367 equal *tmp459 false
-    * op lessThan *tmp461 :tryPlaceGenerator:shift 0
-    * jump *label369 equal *tmp461 false
+ 1310 jump *label367 lessThan :tryPlaceGenerator:shift 0
+ 1311 jump *label369 greaterThanEq :tryPlaceGenerator:shift 0
  1312 set :tryPlaceGenerator*retval false
  1313 jump *label365 always
  1314 jump *label370 always
 
  1336 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1337 set :tryPlaceGenerator:r :findPossiblePlacement:y
  1338 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp473 :tryPlaceGenerator:shift 0
-    * jump *label372 equal *tmp473 false
+ 1339 jump *label372 greaterThanEq :tryPlaceGenerator:shift 0
  1340 set :tryPlaceGenerator*retval false
  1341 jump *label365 always
  1342 jump *label373 always
 
  1363 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1364 set :tryPlaceGenerator:r :findPossiblePlacement:y
  1365 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp485 :tryPlaceGenerator:shift 0
-    * jump *label375 equal *tmp485 false
+ 1366 jump *label375 greaterThanEq :tryPlaceGenerator:shift 0
  1367 set :tryPlaceGenerator*retval false
  1368 jump *label365 always
  1369 jump *label376 always
 
  1383 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1384 set :tryPlaceGenerator:r :findPossiblePlacement:y
  1385 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp491 :tryPlaceGenerator:shift 0
-    * jump *label378 equal *tmp491 false
+ 1386 jump *label378 greaterThanEq :tryPlaceGenerator:shift 0
  1387 set :tryPlaceGenerator*retval false
  1388 jump *label365 always
  1389 jump *label379 always
 
  1403 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1404 set :tryPlaceGenerator:r :findPossiblePlacement:y
  1405 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp497 :tryPlaceGenerator:shift 0
-    * jump *label381 equal *tmp497 false
+ 1406 jump *label381 greaterThanEq :tryPlaceGenerator:shift 0
  1407 set :tryPlaceGenerator*retval false
  1408 jump *label365 always
  1409 jump *label382 always
 
  1495 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
  1496 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
  1497 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * op greaterThanEq *tmp538 :layoutThoriumDrillAtLocation:shift 0
-    * jump *label389 equal *tmp538 false
+ 1498 jump *label389 lessThan :layoutThoriumDrillAtLocation:shift 0
  1499 op add *tmp540 .drillX 0.5
  1500 op add .water1X *tmp540 :layoutThoriumDrillAtLocation:c
  1501 op add *tmp542 .drillY 0.5
 
  1517 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
  1518 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
  1519 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * op greaterThanEq *tmp547 :layoutThoriumDrillAtLocation:shift 0
-    * jump *label392 equal *tmp547 false
+ 1520 jump *label392 lessThan :layoutThoriumDrillAtLocation:shift 0
  1521 op add *tmp549 .drillX 0.5
  1522 op add .containerX *tmp549 :layoutThoriumDrillAtLocation:c
  1523 op add *tmp551 .drillY 0.5
 
  1604 label *label409
  1605 op mul *tmp579 7 :shiftMask:shiftY
  1606 op add :shiftMask:shift :shiftMask:shiftX *tmp579
-    * op greaterThan *tmp581 :shiftMask:shift 0
-    * jump *label410 equal *tmp581 false
+ 1607 jump *label410 lessThanEq :shiftMask:shift 0
  1608 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
  1609 op and *tmp584 :shiftMask:mask :shiftMask:clearMask
  1610 op shl :shiftMask:mask *tmp584 :shiftMask:shift
 
  1613 op sub *tmp586 0 :shiftMask:shift
  1614 op shr :shiftMask:mask :shiftMask:mask *tmp586
  1615 label *label411
-    * op notEqual *tmp587 :shiftMask:shiftX 0
-    * jump *label412 equal *tmp587 false
+ 1616 jump *label412 equal :shiftMask:shiftX 0
  1617 op abs *tmp589 :shiftMask:shiftX
  1618 op sub *tmp590 7 *tmp589
  1619 op shr :shiftMask:keep 0b1111111 *tmp590
-    * op greaterThan *tmp592 :shiftMask:shiftX 0
-    * jump *label414 equal *tmp592 false
+ 1620 jump *label414 lessThanEq :shiftMask:shiftX 0
  1621 op abs *tmp594 :shiftMask:shiftX
  1622 op sub *tmp595 7 *tmp594
  1623 op shl :shiftMask:keep :shiftMask:keep *tmp595
 
  1700 label *label422
  1701 set .drillX :findDrillLocationLocal:dx
  1702 set .drillY :findDrillLocationLocal:dy
-    * op equal *tmp604 :findDrillLocationLocal*retval false
-    * jump *label423 equal *tmp604 false
+ 1703 jump *label423 notEqual :findDrillLocationLocal*retval false
  1704 set :layoutThoriumDrill*retval false
  1705 jump *label421 always
  1706 jump *label424 always

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-114 instructions):
 
   231 jump *label63 notEqual *tmp124 false
   232 set *tmp98 false
   233 jump *label53 always
-    * jump *label64 always
   234 label *label63
   235 label *label64
   236 op sub *tmp128 :locateOreAway:x .coreX
 
   244 jump *label65 notEqual :locateOreAway:lastX :locateOreAway:x
   245 jump *label67 notEqual :locateOreAway:lastY :locateOreAway:y
   246 jump *label55 always
-    * jump *label68 always
   247 label *label67
   248 label *label68
-    * jump *label66 always
   249 label *label65
   250 label *label66
   251 jump *label69 lessThan :locateOreAway:coreDist 7
 
   269 jump *label77 greaterThanEq *tmp155 7
   270 set *tmp144 true
   271 jump *label73 always
-    * jump *label78 always
   272 label *label77
   273 label *label78
   274 label *label75
 
   286 printflush message1
   287 set *tmp98 true
   288 jump *label53 always
-    * jump *label80 always
   289 label *label79
   290 label *label80
-    * jump *label72 always
   291 label *label71
   292 label *label72
-    * jump *label70 always
   293 label *label69
   294 label *label70
   295 label *label55
 
   304 jump *label81 notEqual *tmp98 false
   305 op greaterThan :findDrillLocationLocal*retval :findDrillLocationLocal:capacity 0
   306 jump *label44 always
-    * jump *label82 always
   307 label *label81
   308 label *label82
   309 jump *label83 lessThan :findDrillLocationLocal:limit 1000
   310 op add .mapSpots .mapSpots 1
-    * jump *label84 always
   311 label *label83
   312 label *label84
   313 set :moveTo.5:x :findDrillLocationLocal:oreX
 
   397 set :findDrillLocationLocal:diffX :updatePosition:dx
   398 set :findDrillLocationLocal:diffY :updatePosition:dy
   399 set :findBestPosition:best :updatePosition:value
-    * jump *label106 always
   400 label *label105
   401 label *label106
-    * jump *label104 always
   402 label *label103
   403 label *label104
   404 label *label102
 
   410 set :findDrillLocationLocal:diffX :updatePosition.1:dx
   411 set :findDrillLocationLocal:diffY :updatePosition.1:dy
   412 set :findBestPosition:best :updatePosition.1:value
-    * jump *label111 always
   413 label *label110
   414 label *label111
-    * jump *label109 always
   415 label *label108
   416 label *label109
   417 label *label107
 
   423 set :findDrillLocationLocal:diffX :updatePosition.2:dx
   424 set :findDrillLocationLocal:diffY :updatePosition.2:dy
   425 set :findBestPosition:best :updatePosition.2:value
-    * jump *label116 always
   426 label *label115
   427 label *label116
-    * jump *label114 always
   428 label *label113
   429 label *label114
   430 label *label112
 
   436 set :findDrillLocationLocal:diffX :updatePosition.3:dx
   437 set :findDrillLocationLocal:diffY :updatePosition.3:dy
   438 set :findBestPosition:best :updatePosition.3:value
-    * jump *label121 always
   439 label *label120
   440 label *label121
-    * jump *label119 always
   441 label *label118
   442 label *label119
   443 label *label117
 
   453 set :findDrillLocationLocal:diffX :updatePosition.4:dx
   454 set :findDrillLocationLocal:diffY :updatePosition.4:dy
   455 set :findBestPosition:best :updatePosition.4:value
-    * jump *label127 always
   456 label *label126
   457 label *label127
-    * jump *label125 always
   458 label *label124
   459 label *label125
   460 label *label123
 
   466 set :findDrillLocationLocal:diffX :updatePosition.5:dx
   467 set :findDrillLocationLocal:diffY :updatePosition.5:dy
   468 set :findBestPosition:best :updatePosition.5:value
-    * jump *label132 always
   469 label *label131
   470 label *label132
-    * jump *label130 always
   471 label *label129
   472 label *label130
   473 label *label128
 
   479 set :findDrillLocationLocal:diffX :updatePosition.6:dx
   480 set :findDrillLocationLocal:diffY :updatePosition.6:dy
   481 set :findBestPosition:best :updatePosition.6:value
-    * jump *label137 always
   482 label *label136
   483 label *label137
-    * jump *label135 always
   484 label *label134
   485 label *label135
   486 label *label133
 
   492 set :findDrillLocationLocal:diffX :updatePosition.7:dx
   493 set :findDrillLocationLocal:diffY :updatePosition.7:dy
   494 set :findBestPosition:best :updatePosition.7:value
-    * jump *label142 always
   495 label *label141
   496 label *label142
-    * jump *label140 always
   497 label *label139
   498 label *label140
   499 label *label138
 
   509 set :findDrillLocationLocal:diffX :updatePosition.8:dx
   510 set :findDrillLocationLocal:diffY :updatePosition.8:dy
   511 set :findBestPosition:best :updatePosition.8:value
-    * jump *label148 always
   512 label *label147
   513 label *label148
-    * jump *label146 always
   514 label *label145
   515 label *label146
   516 label *label144
 
   522 set :findDrillLocationLocal:diffX :updatePosition.9:dx
   523 set :findDrillLocationLocal:diffY :updatePosition.9:dy
   524 set :findBestPosition:best :updatePosition.9:value
-    * jump *label153 always
   525 label *label152
   526 label *label153
-    * jump *label151 always
   527 label *label150
   528 label *label151
   529 label *label149
 
   535 set :findDrillLocationLocal:diffX :updatePosition.10:dx
   536 set :findDrillLocationLocal:diffY :updatePosition.10:dy
   537 set :findBestPosition:best :updatePosition.10:value
-    * jump *label158 always
   538 label *label157
   539 label *label158
-    * jump *label156 always
   540 label *label155
   541 label *label156
   542 label *label154
 
   548 set :findDrillLocationLocal:diffX :updatePosition.11:dx
   549 set :findDrillLocationLocal:diffY :updatePosition.11:dy
   550 set :findBestPosition:best :updatePosition.11:value
-    * jump *label163 always
   551 label *label162
   552 label *label163
-    * jump *label161 always
   553 label *label160
   554 label *label161
   555 label *label159
 
   565 set :findDrillLocationLocal:diffX :updatePosition.12:dx
   566 set :findDrillLocationLocal:diffY :updatePosition.12:dy
   567 set :findBestPosition:best :updatePosition.12:value
-    * jump *label169 always
   568 label *label168
   569 label *label169
-    * jump *label167 always
   570 label *label166
   571 label *label167
   572 label *label165
 
   578 set :findDrillLocationLocal:diffX :updatePosition.13:dx
   579 set :findDrillLocationLocal:diffY :updatePosition.13:dy
   580 set :findBestPosition:best :updatePosition.13:value
-    * jump *label174 always
   581 label *label173
   582 label *label174
-    * jump *label172 always
   583 label *label171
   584 label *label172
   585 label *label170
 
   591 set :findDrillLocationLocal:diffX :updatePosition.14:dx
   592 set :findDrillLocationLocal:diffY :updatePosition.14:dy
   593 set :findBestPosition:best :updatePosition.14:value
-    * jump *label179 always
   594 label *label178
   595 label *label179
-    * jump *label177 always
   596 label *label176
   597 label *label177
   598 label *label175
 
   604 set :findDrillLocationLocal:diffX :updatePosition.15:dx
   605 set :findDrillLocationLocal:diffY :updatePosition.15:dy
   606 set :findBestPosition:best :updatePosition.15:value
-    * jump *label184 always
   607 label *label183
   608 label *label184
-    * jump *label182 always
   609 label *label181
   610 label *label182
   611 label *label180
 
   630 set :findDrillLocationLocal:diffX :updatePosition.16:dx
   631 set :findDrillLocationLocal:diffY :updatePosition.16:dy
   632 set :findBestPosition:best :updatePosition.16:value
-    * jump *label192 always
   633 label *label191
   634 label *label192
-    * jump *label190 always
   635 label *label189
   636 label *label190
   637 label *label188
 
   643 set :findDrillLocationLocal:diffX :updatePosition.17:dx
   644 set :findDrillLocationLocal:diffY :updatePosition.17:dy
   645 set :findBestPosition:best :updatePosition.17:value
-    * jump *label197 always
   646 label *label196
   647 label *label197
-    * jump *label195 always
   648 label *label194
   649 label *label195
   650 label *label193
 
   656 set :findDrillLocationLocal:diffX :updatePosition.18:dx
   657 set :findDrillLocationLocal:diffY :updatePosition.18:dy
   658 set :findBestPosition:best :updatePosition.18:value
-    * jump *label202 always
   659 label *label201
   660 label *label202
-    * jump *label200 always
   661 label *label199
   662 label *label200
   663 label *label198
 
   673 set :findDrillLocationLocal:diffX :updatePosition.19:dx
   674 set :findDrillLocationLocal:diffY :updatePosition.19:dy
   675 set :findBestPosition:best :updatePosition.19:value
-    * jump *label208 always
   676 label *label207
   677 label *label208
-    * jump *label206 always
   678 label *label205
   679 label *label206
   680 label *label204
 
   686 set :findDrillLocationLocal:diffX :updatePosition.20:dx
   687 set :findDrillLocationLocal:diffY :updatePosition.20:dy
   688 set :findBestPosition:best :updatePosition.20:value
-    * jump *label213 always
   689 label *label212
   690 label *label213
-    * jump *label211 always
   691 label *label210
   692 label *label211
   693 label *label209
 
   699 set :findDrillLocationLocal:diffX :updatePosition.21:dx
   700 set :findDrillLocationLocal:diffY :updatePosition.21:dy
   701 set :findBestPosition:best :updatePosition.21:value
-    * jump *label218 always
   702 label *label217
   703 label *label218
-    * jump *label216 always
   704 label *label215
   705 label *label216
   706 label *label214
 
   716 set :findDrillLocationLocal:diffX :updatePosition.22:dx
   717 set :findDrillLocationLocal:diffY :updatePosition.22:dy
   718 set :findBestPosition:best :updatePosition.22:value
-    * jump *label224 always
   719 label *label223
   720 label *label224
-    * jump *label222 always
   721 label *label221
   722 label *label222
   723 label *label220
 
   729 set :findDrillLocationLocal:diffX :updatePosition.23:dx
   730 set :findDrillLocationLocal:diffY :updatePosition.23:dy
   731 set :findBestPosition:best :updatePosition.23:value
-    * jump *label229 always
   732 label *label228
   733 label *label229
-    * jump *label227 always
   734 label *label226
   735 label *label227
   736 label *label225
 
   742 set :findDrillLocationLocal:diffX :updatePosition.24:dx
   743 set :findDrillLocationLocal:diffY :updatePosition.24:dy
   744 set :findBestPosition:best :updatePosition.24:value
-    * jump *label234 always
   745 label *label233
   746 label *label234
-    * jump *label232 always
   747 label *label231
   748 label *label232
   749 label *label230
 
   791 set :findDrillLocationLocal:diffX :updatePosition.25:dx
   792 set :findDrillLocationLocal:diffY :updatePosition.25:dy
   793 set :findBestPosition:best :updatePosition.25:value
-    * jump *label242 always
   794 label *label241
   795 label *label242
-    * jump *label240 always
   796 label *label239
   797 label *label240
   798 label *label238
 
   804 set :findDrillLocationLocal:diffX :updatePosition.26:dx
   805 set :findDrillLocationLocal:diffY :updatePosition.26:dy
   806 set :findBestPosition:best :updatePosition.26:value
-    * jump *label247 always
   807 label *label246
   808 label *label247
-    * jump *label245 always
   809 label *label244
   810 label *label245
   811 label *label243
 
   817 set :findDrillLocationLocal:diffX :updatePosition.27:dx
   818 set :findDrillLocationLocal:diffY :updatePosition.27:dy
   819 set :findBestPosition:best :updatePosition.27:value
-    * jump *label252 always
   820 label *label251
   821 label *label252
-    * jump *label250 always
   822 label *label249
   823 label *label250
   824 label *label248
 
   830 set :findDrillLocationLocal:diffX :updatePosition.28:dx
   831 set :findDrillLocationLocal:diffY :updatePosition.28:dy
   832 set :findBestPosition:best :updatePosition.28:value
-    * jump *label257 always
   833 label *label256
   834 label *label257
-    * jump *label255 always
   835 label *label254
   836 label *label255
   837 label *label253
 
   847 set :findDrillLocationLocal:diffX :updatePosition.29:dx
   848 set :findDrillLocationLocal:diffY :updatePosition.29:dy
   849 set :findBestPosition:best :updatePosition.29:value
-    * jump *label263 always
   850 label *label262
   851 label *label263
-    * jump *label261 always
   852 label *label260
   853 label *label261
   854 label *label259
 
   860 set :findDrillLocationLocal:diffX :updatePosition.30:dx
   861 set :findDrillLocationLocal:diffY :updatePosition.30:dy
   862 set :findBestPosition:best :updatePosition.30:value
-    * jump *label268 always
   863 label *label267
   864 label *label268
-    * jump *label266 always
   865 label *label265
   866 label *label266
   867 label *label264
 
   873 set :findDrillLocationLocal:diffX :updatePosition.31:dx
   874 set :findDrillLocationLocal:diffY :updatePosition.31:dy
   875 set :findBestPosition:best :updatePosition.31:value
-    * jump *label273 always
   876 label *label272
   877 label *label273
-    * jump *label271 always
   878 label *label270
   879 label *label271
   880 label *label269
 
   886 set :findDrillLocationLocal:diffX :updatePosition.32:dx
   887 set :findDrillLocationLocal:diffY :updatePosition.32:dy
   888 set :findBestPosition:best :updatePosition.32:value
-    * jump *label278 always
   889 label *label277
   890 label *label278
-    * jump *label276 always
   891 label *label275
   892 label *label276
   893 label *label274
 
   903 set :findDrillLocationLocal:diffX :updatePosition.33:dx
   904 set :findDrillLocationLocal:diffY :updatePosition.33:dy
   905 set :findBestPosition:best :updatePosition.33:value
-    * jump *label284 always
   906 label *label283
   907 label *label284
-    * jump *label282 always
   908 label *label281
   909 label *label282
   910 label *label280
 
   916 set :findDrillLocationLocal:diffX :updatePosition.34:dx
   917 set :findDrillLocationLocal:diffY :updatePosition.34:dy
   918 set :findBestPosition:best :updatePosition.34:value
-    * jump *label289 always
   919 label *label288
   920 label *label289
-    * jump *label287 always
   921 label *label286
   922 label *label287
   923 label *label285
 
   929 set :findDrillLocationLocal:diffX :updatePosition.35:dx
   930 set :findDrillLocationLocal:diffY :updatePosition.35:dy
   931 set :findBestPosition:best :updatePosition.35:value
-    * jump *label294 always
   932 label *label293
   933 label *label294
-    * jump *label292 always
   934 label *label291
   935 label *label292
   936 label *label290
 
   942 set :findDrillLocationLocal:diffX :updatePosition.36:dx
   943 set :findDrillLocationLocal:diffY :updatePosition.36:dy
   944 set :findBestPosition:best :updatePosition.36:value
-    * jump *label299 always
   945 label *label298
   946 label *label299
-    * jump *label297 always
   947 label *label296
   948 label *label297
   949 label *label295
 
   959 set :findDrillLocationLocal:diffX :updatePosition.37:dx
   960 set :findDrillLocationLocal:diffY :updatePosition.37:dy
   961 set :findBestPosition:best :updatePosition.37:value
-    * jump *label305 always
   962 label *label304
   963 label *label305
-    * jump *label303 always
   964 label *label302
   965 label *label303
   966 label *label301
 
   972 set :findDrillLocationLocal:diffX :updatePosition.38:dx
   973 set :findDrillLocationLocal:diffY :updatePosition.38:dy
   974 set :findBestPosition:best :updatePosition.38:value
-    * jump *label310 always
   975 label *label309
   976 label *label310
-    * jump *label308 always
   977 label *label307
   978 label *label308
   979 label *label306
 
   985 set :findDrillLocationLocal:diffX :updatePosition.39:dx
   986 set :findDrillLocationLocal:diffY :updatePosition.39:dy
   987 set :findBestPosition:best :updatePosition.39:value
-    * jump *label315 always
   988 label *label314
   989 label *label315
-    * jump *label313 always
   990 label *label312
   991 label *label313
   992 label *label311
 
   998 set :findDrillLocationLocal:diffX :updatePosition.40:dx
   999 set :findDrillLocationLocal:diffY :updatePosition.40:dy
  1000 set :findBestPosition:best :updatePosition.40:value
-    * jump *label320 always
  1001 label *label319
  1002 label *label320
-    * jump *label318 always
  1003 label *label317
  1004 label *label318
  1005 label *label316
 
  1017 set :findDrillLocationLocal:capacity :findDrillLocationLocal:score
  1018 jump *label323 greaterThanEq :findDrillLocationLocal:limit 1000
  1019 set .mapSpots :findDrillLocationLocal:score
-    * jump *label324 always
  1020 label *label323
  1021 label *label324
  1022 jump *label325 lessThan :findDrillLocationLocal:capacity :findDrillLocationLocal:limit
 
  1039 ucontrol unbind
  1040 set :findDrillLocationLocal*retval true
  1041 jump *label44 always
-    * jump *label326 always
  1042 label *label325
  1043 label *label326
-    * jump *label322 always
  1044 label *label321
  1045 label *label322
  1046 jump *label328 lessThanEq :findDrillLocationLocal:score :findDrillLocationLocal:best
  1047 op add :findDrillLocationLocal:bestX :findDrillLocationLocal:oreX :findDrillLocationLocal:diffX
  1048 op add :findDrillLocationLocal:bestY :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
  1049 set :findDrillLocationLocal:best :findDrillLocationLocal:score
-    * jump *label329 always
  1050 label *label328
  1051 label *label329
  1052 jump *label330 greaterThan :findDrillLocationLocal:score :findDrillLocationLocal:last
  1053 jump *label92 always
-    * jump *label331 always
  1054 label *label330
  1055 label *label331
  1056 set :findDrillLocationLocal:last :findDrillLocationLocal:score
 
  1071 op min *tmp418 *tmp415 *tmp417
  1072 jump *label334 greaterThanEq *tmp418 7
  1073 jump *label92 always
-    * jump *label335 always
  1074 label *label334
  1075 label *label335
  1076 label *label91
 
  1093 write :saveLocation.1:y bank1 .count
  1094 op add .locations .locations 1
  1095 label *label338
-    * jump *label337 always
  1096 label *label336
  1097 label *label337
  1098 label *label51
 
  1168 op add *tmp450 24 *tmp449
  1169 op add :findPossiblePlacement*retval *tmp450 :findPossiblePlacement:x
  1170 jump *label352 always
-    * jump *label360 always
  1171 label *label359
  1172 label *label360
  1173 op sub *tmp452 3 :findPossiblePlacement:width
  1174 jump *label361 lessThanEq :findPossiblePlacement:x *tmp452
  1175 jump *label358 always
-    * jump *label362 always
  1176 label *label361
  1177 label *label362
  1178 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
 
  1183 op sub *tmp455 3 :findPossiblePlacement:height
  1184 jump *label363 lessThanEq :findPossiblePlacement:y *tmp455
  1185 jump *label355 always
-    * jump *label364 always
  1186 label *label363
  1187 label *label364
  1188 label *label354
 
  1210 jump *label369 greaterThanEq :tryPlaceGenerator:shift 0
  1211 set :tryPlaceGenerator*retval false
  1212 jump *label365 always
-    * jump *label370 always
  1213 label *label369
  1214 label *label370
  1215 op add *tmp463 :tryPlaceGenerator:centerX 0.5
 
  1237 jump *label372 greaterThanEq :tryPlaceGenerator:shift 0
  1238 set :tryPlaceGenerator*retval false
  1239 jump *label365 always
-    * jump *label373 always
  1240 label *label372
  1241 label *label373
  1242 op add *tmp475 :tryPlaceGenerator:centerX 0.5
 
  1263 jump *label375 greaterThanEq :tryPlaceGenerator:shift 0
  1264 set :tryPlaceGenerator*retval false
  1265 jump *label365 always
-    * jump *label376 always
  1266 label *label375
  1267 label *label376
  1268 op add .nodeX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
 
  1282 jump *label378 greaterThanEq :tryPlaceGenerator:shift 0
  1283 set :tryPlaceGenerator*retval false
  1284 jump *label365 always
-    * jump *label379 always
  1285 label *label378
  1286 label *label379
  1287 op add .panelX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
 
  1301 jump *label381 greaterThanEq :tryPlaceGenerator:shift 0
  1302 set :tryPlaceGenerator*retval false
  1303 jump *label365 always
-    * jump *label382 always
  1304 label *label381
  1305 label *label382
  1306 op add .batteryX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
 
  1398 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp544
  1399 op shl *tmp545 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
  1400 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp545
-    * jump *label390 always
  1401 label *label389
  1402 label *label390
  1403 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
 
  1417 op add .containerY *tmp551 :layoutThoriumDrillAtLocation:r
  1418 op shl *tmp553 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
  1419 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp553
-    * jump *label393 always
  1420 label *label392
  1421 label *label393
  1422 set :createFixedMatrix.3:row0 0b1111
 
  1450 jump *label397 equal :tryPlaceGenerator*retval false
  1451 set :layoutThoriumDrillAtLocation*retval true
  1452 jump *label383 always
-    * jump *label398 always
  1453 label *label397
  1454 label *label398
  1455 set :layoutThoriumDrillAtLocation:sx 3
 
  1490 jump *label408 equal *tmp577 false
  1491 set *tmp572 0
  1492 jump *label407 always
-    * jump *label409 always
  1493 label *label408
  1494 label *label409
  1495 op mul *tmp579 7 :shiftMask:shiftY
 
  1511 op abs *tmp594 :shiftMask:shiftX
  1512 op sub *tmp595 7 *tmp594
  1513 op shl :shiftMask:keep :shiftMask:keep *tmp595
-    * jump *label415 always
  1514 label *label414
  1515 label *label415
  1516 op shl *tmp596 :shiftMask:keep 7
 
  1520 op shl *tmp598 :shiftMask:keep 21
  1521 op or :shiftMask:keep :shiftMask:keep *tmp598
  1522 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
-    * jump *label413 always
  1523 label *label412
  1524 label *label413
  1525 set *tmp572 :shiftMask:mask
 
  1541 jump *label417 equal :tryPlaceGenerator*retval false
  1542 set :layoutThoriumDrillAtLocation*retval true
  1543 jump *label383 always
-    * jump *label418 always
  1544 label *label417
  1545 label *label418
  1546 label *label400
 
  1590 jump *label423 notEqual :findDrillLocationLocal*retval false
  1591 set :layoutThoriumDrill*retval false
  1592 jump *label421 always
-    * jump *label424 always
  1593 label *label423
  1594 label *label424
  1595 setaddr :layoutThoriumDrillAtLocation*retaddr *label425 (h:*label425)

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1:
 
    31 set *tmp3 :spotValue.1:result
    32 label *label18
    33 set :computeRowValues:x2 *tmp3
-    * op add :spotValue.2:x :computeRowValues:x 0
+   34 set :spotValue.2:x :computeRowValues:x
    35 set :spotValue.2:y :computeRowValues:y
    36 set :spotValue.2:ore :computeRowValues:ore
    37 ucontrol getBlock :spotValue.2:x :spotValue.2:y type building floor
 
   351 call *label6 *invalid :computeRowValues*retval (m:*label95) (h:*label95)
   352 label *label95
   353 set :findBestPosition:y2 :computeRowValues*retval
-    * op add *tmp178 :findBestPosition:y 0
+  354 set *tmp178 :findBestPosition:y
   355 set :computeRowValues:x :findBestPosition:x
   356 set :computeRowValues:y *tmp178
   357 set :computeRowValues:ore :findBestPosition:ore
 
  1335 set :createFixedMatrix:row4 0b0011100
  1336 set :createFixedMatrix:row5 0b0000000
  1337 set :createFixedMatrix:row6 0b0000000
-    * op shl *tmp504 :createFixedMatrix:row0 0
+ 1338 set *tmp504 :createFixedMatrix:row0
  1339 op shl *tmp505 :createFixedMatrix:row1 7
  1340 op or *tmp506 *tmp504 *tmp505
  1341 op shl *tmp507 :createFixedMatrix:row2 14
 
  1357 set :createFixedMatrix.1:row4 0b0011100
  1358 set :createFixedMatrix.1:row5 0b0000000
  1359 set :createFixedMatrix.1:row6 0b1000001
-    * op shl *tmp519 :createFixedMatrix.1:row0 0
+ 1360 set *tmp519 :createFixedMatrix.1:row0
  1361 op shl *tmp520 :createFixedMatrix.1:row1 7
  1362 op or *tmp521 *tmp519 *tmp520
  1363 op shl *tmp522 :createFixedMatrix.1:row2 14
 
  1374 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask *tmp518
  1375 set :createFixedMatrix.2:row0 0b11
  1376 set :createFixedMatrix.2:row1 0b11
-    * op shl *tmp534 :createFixedMatrix.2:row0 0
+ 1377 set *tmp534 :createFixedMatrix.2:row0
  1378 op shl *tmp535 :createFixedMatrix.2:row1 7
  1379 op or *tmp533 *tmp534 *tmp535
  1380 label *label387
 
  1421 label *label393
  1422 set :createFixedMatrix.3:row0 0b1111
  1423 set :createFixedMatrix.3:row1 0b1111
-    * op shl *tmp555 :createFixedMatrix.3:row0 0
+ 1424 set *tmp555 :createFixedMatrix.3:row0
  1425 op shl *tmp556 :createFixedMatrix.3:row1 7
  1426 op or *tmp554 *tmp555 *tmp556
  1427 label *label394
 
  1430 set :createFixedMatrix.4:row1 0b11
  1431 set :createFixedMatrix.4:row2 0b11
  1432 set :createFixedMatrix.4:row3 0b11
-    * op shl *tmp559 :createFixedMatrix.4:row0 0
+ 1433 set *tmp559 :createFixedMatrix.4:row0
  1434 op shl *tmp560 :createFixedMatrix.4:row1 7
  1435 op or *tmp561 *tmp559 *tmp560
  1436 op shl *tmp562 :createFixedMatrix.4:row2 14

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-12 instructions):
 
    20 select :spotValue:result notEqual solid false 0.09803921568627451 value
    21 set *tmp1 :spotValue:result
    22 label *label17
-    * set :computeRowValues:x1 *tmp1
+   23 set :computeRowValues:x1 :spotValue:result
    24 op sub :spotValue.1:x :computeRowValues:x 1
    25 set :spotValue.1:y :computeRowValues:y
    26 set :spotValue.1:ore :computeRowValues:ore
 
    30 select :spotValue.1:result notEqual solid false 0.09803921568627451 value
    31 set *tmp3 :spotValue.1:result
    32 label *label18
-    * set :computeRowValues:x2 *tmp3
+   33 set :computeRowValues:x2 :spotValue.1:result
    34 set :spotValue.2:x :computeRowValues:x
    35 set :spotValue.2:y :computeRowValues:y
    36 set :spotValue.2:ore :computeRowValues:ore
 
    40 select :spotValue.2:result notEqual solid false 0.09803921568627451 value
    41 set *tmp5 :spotValue.2:result
    42 label *label19
-    * set :computeRowValues:x3 *tmp5
+   43 set :computeRowValues:x3 :spotValue.2:result
    44 op add :spotValue.3:x :computeRowValues:x 1
    45 set :spotValue.3:y :computeRowValues:y
    46 set :spotValue.3:ore :computeRowValues:ore
 
    50 select :spotValue.3:result notEqual solid false 0.09803921568627451 value
    51 set *tmp7 :spotValue.3:result
    52 label *label20
-    * set :computeRowValues:x4 *tmp7
+   53 set :computeRowValues:x4 :spotValue.3:result
    54 op add :spotValue.4:x :computeRowValues:x 2
    55 set :spotValue.4:y :computeRowValues:y
    56 set :spotValue.4:ore :computeRowValues:ore
 
    60 select :spotValue.4:result notEqual solid false 0.09803921568627451 value
    61 set *tmp9 :spotValue.4:result
    62 label *label21
-    * set :computeRowValues:x5 *tmp9
+   63 set :computeRowValues:x5 :spotValue.4:result
    64 jump *label22 notEqual :computeRowValues:size 2
-    * op add *tmp12 :computeRowValues:x1 :computeRowValues:x2
-    * op add *tmp13 :computeRowValues:x2 :computeRowValues:x3
-    * op add *tmp14 :computeRowValues:x3 :computeRowValues:x4
-    * op add *tmp15 :computeRowValues:x4 :computeRowValues:x5
+   65 op add *tmp12 *tmp1 *tmp3
+   66 op add *tmp13 *tmp3 *tmp5
+   67 op add *tmp14 *tmp5 *tmp7
+   68 op add *tmp15 *tmp7 *tmp9
    69 packcolor :computeRowValues*retval *tmp12 *tmp13 *tmp14 *tmp15
    70 jump *label16 always
-    * set *tmp11 null
    71 jump *label23 always
    72 label *label22
    73 jump *label24 notEqual :computeRowValues:size 3
-    * op add *tmp19 :computeRowValues:x2 :computeRowValues:x3
-    * op add *tmp20 :computeRowValues:x1 *tmp19
-    * op add *tmp21 :computeRowValues:x2 :computeRowValues:x3
-    * op add *tmp22 *tmp21 :computeRowValues:x4
-    * op add *tmp23 :computeRowValues:x3 :computeRowValues:x4
-    * op add *tmp24 *tmp23 :computeRowValues:x5
+   74 op add *tmp19 *tmp3 *tmp5
+   75 op add *tmp20 *tmp1 *tmp19
+   76 op add *tmp21 *tmp3 *tmp5
+   77 op add *tmp22 *tmp19 *tmp7
+   78 op add *tmp23 *tmp5 *tmp7
+   79 op add *tmp24 *tmp23 *tmp9
    80 packcolor :computeRowValues*retval *tmp20 *tmp22 *tmp24 0
    81 jump *label16 always
-    * set *tmp18 null
    82 jump *label25 always
    83 label *label24
    84 op sub :spotValue.5:x :computeRowValues:x 3
 
    90 select :spotValue.5:result notEqual solid false 0.09803921568627451 value
    91 set *tmp27 :spotValue.5:result
    92 label *label26
-    * set :computeRowValues:x0 *tmp27
+   93 set :computeRowValues:x0 :spotValue.5:result
    94 op add :spotValue.6:x :computeRowValues:x 3
    95 set :spotValue.6:y :computeRowValues:y
    96 set :spotValue.6:ore :computeRowValues:ore
 
   100 select :spotValue.6:result notEqual solid false 0.09803921568627451 value
   101 set *tmp29 :spotValue.6:result
   102 label *label27
-    * set :computeRowValues:x6 *tmp29
-    * op add *tmp30 :computeRowValues:x1 :computeRowValues:x2
-    * op add *tmp31 *tmp30 :computeRowValues:x3
-    * op add *tmp32 :computeRowValues:x0 *tmp31
+  103 set :computeRowValues:x6 :spotValue.6:result
+  104 op add *tmp30 *tmp1 *tmp3
+  105 op add *tmp31 *tmp30 *tmp5
+  106 op add *tmp32 *tmp27 *tmp31
   107 op min *tmp33 0.09803921568627451 *tmp32
-    * op add *tmp34 :computeRowValues:x1 :computeRowValues:x2
-    * op add *tmp35 *tmp34 :computeRowValues:x3
-    * op add *tmp36 *tmp35 :computeRowValues:x4
+  108 op add *tmp34 *tmp1 *tmp3
+  109 op add *tmp35 *tmp30 *tmp5
+  110 op add *tmp36 *tmp31 *tmp7
   111 op min *tmp37 0.09803921568627451 *tmp36
-    * op add *tmp38 :computeRowValues:x3 :computeRowValues:x4
-    * op add *tmp39 *tmp38 :computeRowValues:x5
-    * op add *tmp40 :computeRowValues:x2 *tmp39
+  112 op add *tmp38 *tmp5 *tmp7
+  113 op add *tmp39 *tmp38 *tmp9
+  114 op add *tmp40 *tmp3 *tmp39
   115 op min *tmp41 0.09803921568627451 *tmp40
-    * op add *tmp42 :computeRowValues:x3 :computeRowValues:x4
-    * op add *tmp43 *tmp42 :computeRowValues:x5
-    * op add *tmp44 *tmp43 :computeRowValues:x6
+  116 op add *tmp42 *tmp5 *tmp7
+  117 op add *tmp43 *tmp38 *tmp9
+  118 op add *tmp44 *tmp39 *tmp29
   119 op min *tmp45 0.09803921568627451 *tmp44
   120 packcolor :computeRowValues*retval *tmp33 *tmp37 *tmp41 *tmp45
   121 jump *label16 always
-    * set *tmp18 null
   122 label *label25
-    * set *tmp11 *tmp18
+  123 set *tmp11 null
   124 label *label23
-    * set :computeRowValues*retval *tmp11
+  125 set :computeRowValues*retval null
   126 label *label16
   127 return :computeRowValues*retaddr
   128 end
 
   135 set :findDrillLocationLocal:dy :findDrillLocationLocal:capacity
   136 set :findDrillLocationLocal:dx :findDrillLocationLocal:dy
   137 set .mapSpots :findDrillLocationLocal:dx
-    * op sub *tmp83 @mapw .coreX
-    * op sub *tmp84 @maph .coreY
-    * op max *tmp85 .coreX .coreY
+  138 op sub *tmp83 @mapw :findDrillLocationLocal:x
+  139 op sub *tmp84 @maph :findDrillLocationLocal:y
+  140 op max *tmp85 :findDrillLocationLocal:x :findDrillLocationLocal:y
   141 op max *tmp85 *tmp85 *tmp83
   142 op max *tmp85 *tmp85 *tmp84
   143 set :findDrillLocationLocal:distanceLimit *tmp85
   144 set .mapAction "Locating ore..."
   145 set .angle 0
-    * set .mapProgress .angle
-    * set :moveTo.2:x .coreX
-    * set :moveTo.2:y .coreY
-    * set *tmp86 :moveTo.2:x
-    * set *tmp87 :moveTo.2:y
-    * set :moveTo.3:x *tmp86
-    * set :moveTo.3:y *tmp87
+  146 set .mapProgress 0
+  147 set :moveTo.2:x :findDrillLocationLocal:x
+  148 set :moveTo.2:y :findDrillLocationLocal:y
+  149 set *tmp86 .coreX
+  150 set *tmp87 .coreY
+  151 set :moveTo.3:x :moveTo.2:x
+  152 set :moveTo.3:y :moveTo.2:y
   153 set :moveTo.3:radius 6
   154 label *label47
-    * ucontrol within :moveTo.3:x :moveTo.3:y :moveTo.3:radius *tmp88
+  155 ucontrol within *tmp86 *tmp87 6 *tmp88
   156 jump *label49 notEqual *tmp88 false
-    * op sub *tmp90 :moveTo.3:radius 0.5
-    * ucontrol approach :moveTo.3:x :moveTo.3:y *tmp90
+  157 op sub *tmp90 6 0.5
+  158 ucontrol approach *tmp86 *tmp87 5.5
   159 label *label48
   160 jump *label47 always
   161 label *label49
   162 label *label46
   163 label *label45
-    * op div *tmp91 :findDrillLocationLocal:distanceLimit 3.8197185279121366
+  164 op div *tmp91 *tmp85 3.8197185279121366
   165 op pow .mapTotal *tmp91 2
   166 set :findDrillLocationLocal:oreX 0
   167 set :findDrillLocationLocal:oreY 0
 
   184 op max .angle .angle @pi
   185 op mul .mapProgress .angle .angle
   186 label *label54
-    * jump *label56 greaterThanEq :locateOreAway:distance :locateOreAway:distanceLimit
+  187 jump *label56 greaterThanEq :locateOreAway:distance :findDrillLocationLocal:distanceLimit
   188 op div :locateOreAway:a .angle @degToRad
   189 op sin *tmp104 :locateOreAway:a
   190 op mul *tmp105 *tmp104 :locateOreAway:distance
 
   193 set :limit:value *tmp106
   194 set :limit:low 5
   195 set :limit:high *tmp107
-    * op max *tmp109 :limit:value :limit:low
-    * op min *tmp108 *tmp109 :limit:high
+  196 op max *tmp109 *tmp106 5
+  197 op min *tmp108 *tmp109 *tmp107
   198 label *label57
   199 set :locateOreAway:lx *tmp108
   200 op cos *tmp111 :locateOreAway:a
 
   204 set :limit.1:value *tmp113
   205 set :limit.1:low 5
   206 set :limit.1:high *tmp114
-    * op max *tmp116 :limit.1:value :limit.1:low
-    * op min *tmp115 *tmp116 :limit.1:high
+  207 op max *tmp116 *tmp113 5
+  208 op min *tmp115 *tmp116 *tmp114
   209 label *label58
   210 set :locateOreAway:ly *tmp115
-    * set :moveTo.4:x :locateOreAway:lx
-    * set :moveTo.4:y :locateOreAway:ly
+  211 set :moveTo.4:x *tmp108
+  212 set :moveTo.4:y *tmp115
   213 set :moveTo.4:radius 5
   214 label *label60
-    * ucontrol within :moveTo.4:x :moveTo.4:y :moveTo.4:radius *tmp118
+  215 ucontrol within :locateOreAway:lx :locateOreAway:ly 5 *tmp118
   216 jump *label62 notEqual *tmp118 false
-    * op sub *tmp120 :moveTo.4:radius 0.5
-    * ucontrol approach :moveTo.4:x :moveTo.4:y *tmp120
+  217 op sub *tmp120 5 0.5
+  218 ucontrol approach :locateOreAway:lx :locateOreAway:ly 4.5
   219 label *label61
   220 jump *label60 always
   221 label *label62
 
   224 op add .angle .angle *tmp121
   225 op mul .mapProgress .angle .angle
   226 op mul :locateOreAway:distance 3.8197185279121366 .angle
-    * ulocate ore core true :locateOreAway:ore :locateOreAway:x :locateOreAway:y *tmp124 0
+  227 ulocate ore core true :findDrillLocationLocal:item :locateOreAway:x :locateOreAway:y *tmp124 0
   228 jump *label63 notEqual *tmp124 false
   229 set *tmp98 false
   230 jump *label53 always
 
   235 op sub *tmp130 :locateOreAway:y .coreY
   236 op abs *tmp131 *tmp130
   237 op max :locateOreAway:coreDist *tmp129 *tmp131
-    * op sub *tmp133 :locateOreAway:x :locateOreAway:lx
-    * op sub *tmp134 :locateOreAway:y :locateOreAway:ly
+  238 op sub *tmp133 :locateOreAway:x *tmp108
+  239 op sub *tmp134 :locateOreAway:y *tmp115
   240 op len :locateOreAway:unitDist *tmp133 *tmp134
   241 jump *label65 notEqual :locateOreAway:lastX :locateOreAway:x
   242 jump *label67 notEqual :locateOreAway:lastY :locateOreAway:y
 
   260 read :visited:lx bank1 *tmp147
   261 op add *tmp150 :visited:index 3
   262 read :visited:ly bank1 *tmp150
-    * op sub *tmp153 :visited:x :visited:lx
-    * op sub *tmp154 :visited:y :visited:ly
+  263 op sub *tmp153 :locateOreAway:x :visited:lx
+  264 op sub *tmp154 :locateOreAway:y :visited:ly
   265 op len *tmp155 *tmp153 *tmp154
   266 jump *label77 greaterThanEq *tmp155 7
   267 set *tmp144 true
 
   274 label *label76
   275 set *tmp144 false
   276 jump *label73 always
-    * set *tmp144 null
   277 label *label73
   278 jump *label79 notEqual *tmp144 false
-    * op div *tmp160 7.639437055824273 :locateOreAway:distance
+  279 op div *tmp160 2 .angle
   280 op add .angle .angle *tmp160
   281 op mul .mapProgress .angle .angle
   282 printflush message1
 
   293 label *label56
   294 set *tmp98 false
   295 jump *label53 always
-    * set *tmp98 null
   296 label *label53
   297 set :findDrillLocationLocal:oreX :locateOreAway:x
   298 set :findDrillLocationLocal:oreY :locateOreAway:y
 
   305 op add .mapSpots .mapSpots 1
   306 label *label83
   307 label *label84
-    * set :moveTo.5:x :findDrillLocationLocal:oreX
-    * set :moveTo.5:y :findDrillLocationLocal:oreY
-    * set *tmp168 :moveTo.5:x
-    * set *tmp169 :moveTo.5:y
-    * set :moveTo.6:x *tmp168
-    * set :moveTo.6:y *tmp169
+  308 set :moveTo.5:x :locateOreAway:x
+  309 set :moveTo.5:y :locateOreAway:y
+  310 set *tmp168 :findDrillLocationLocal:oreX
+  311 set *tmp169 :findDrillLocationLocal:oreY
+  312 set :moveTo.6:x :moveTo.5:x
+  313 set :moveTo.6:y :moveTo.5:y
   314 set :moveTo.6:radius 6
   315 label *label87
-    * ucontrol within :moveTo.6:x :moveTo.6:y :moveTo.6:radius *tmp170
+  316 ucontrol within *tmp168 *tmp169 6 *tmp170
   317 jump *label89 notEqual *tmp170 false
-    * op sub *tmp172 :moveTo.6:radius 0.5
-    * ucontrol approach :moveTo.6:x :moveTo.6:y *tmp172
+  318 op sub *tmp172 6 0.5
+  319 ucontrol approach *tmp168 *tmp169 5.5
   320 label *label88
   321 jump *label87 always
   322 label *label89
 
   328 set :findBestPosition:y :findDrillLocationLocal:oreY
   329 set :findBestPosition:ore :findDrillLocationLocal:ore
   330 set :findBestPosition:size :findDrillLocationLocal:size
-    * op sub *tmp174 :findBestPosition:y 2
-    * set :computeRowValues:x :findBestPosition:x
+  331 op sub *tmp174 :findDrillLocationLocal:oreY 2
+  332 set :computeRowValues:x :findDrillLocationLocal:oreX
   333 set :computeRowValues:y *tmp174
-    * set :computeRowValues:ore :findBestPosition:ore
-    * set :computeRowValues:size :findBestPosition:size
+  334 set :computeRowValues:ore :findDrillLocationLocal:ore
+  335 set :computeRowValues:size :findDrillLocationLocal:size
   336 setaddr :computeRowValues*retaddr *label94 (h:*label94)
   337 call *label6 *invalid :computeRowValues*retval (m:*label94) (h:*label94)
   338 label *label94
 
   348 set :findBestPosition:y2 :computeRowValues*retval
   349 set *tmp178 :findBestPosition:y
   350 set :computeRowValues:x :findBestPosition:x
-    * set :computeRowValues:y *tmp178
+  351 set :computeRowValues:y :findBestPosition:y
   352 set :computeRowValues:ore :findBestPosition:ore
   353 set :computeRowValues:size :findBestPosition:size
   354 setaddr :computeRowValues*retaddr *label96 (h:*label96)
 
   380 op add :findBestPosition:row1 :findBestPosition:y1 :findBestPosition:y2
   381 op add :findBestPosition:row2 :findBestPosition:y2 :findBestPosition:y3
   382 op add :findBestPosition:row3 :findBestPosition:y3 :findBestPosition:y4
-    * op add :findBestPosition:row4 :findBestPosition:y4 :findBestPosition:y5
+  383 op add :findBestPosition:row4 :findBestPosition:y4 :computeRowValues*retval
   384 set :updateRowPositions2x2:dy -1.5
   385 set :updateRowPositions2x2:rowSum :findBestPosition:row1
-    * unpackcolor :updateRowPositions2x2:col1 :updateRowPositions2x2:col2 :updateRowPositions2x2:col3 :updateRowPositions2x2:col4 :updateRowPositions2x2:rowSum
+  386 unpackcolor :updateRowPositions2x2:col1 :updateRowPositions2x2:col2 :updateRowPositions2x2:col3 :updateRowPositions2x2:col4 :findBestPosition:row1
   387 set :updatePosition:dx -1.5
-    * set :updatePosition:dy :updateRowPositions2x2:dy
+  388 set :updatePosition:dy -1.5
   389 set :updatePosition:value :updateRowPositions2x2:col1
-    * jump *label103 greaterThanEq :updatePosition:value 0.0784313725490196
-    * jump *label105 lessThanEq :updatePosition:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition:dx
-    * set :findDrillLocationLocal:diffY :updatePosition:dy
-    * set :findBestPosition:best :updatePosition:value
+  390 jump *label103 greaterThanEq :updateRowPositions2x2:col1 0.0784313725490196
+  391 jump *label105 lessThanEq :updateRowPositions2x2:col1 0
+  392 set :findDrillLocationLocal:diffX -1.5
+  393 set :findDrillLocationLocal:diffY :updateRowPositions2x2:dy
+  394 set :findBestPosition:best :updateRowPositions2x2:col1
   395 label *label105
   396 label *label106
   397 label *label103
   398 label *label104
   399 label *label102
   400 set :updatePosition.1:dx -0.5
-    * set :updatePosition.1:dy :updateRowPositions2x2:dy
+  401 set :updatePosition.1:dy -1.5
   402 set :updatePosition.1:value :updateRowPositions2x2:col2
-    * jump *label108 greaterThanEq :updatePosition.1:value 0.0784313725490196
-    * jump *label110 lessThanEq :updatePosition.1:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.1:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.1:dy
-    * set :findBestPosition:best :updatePosition.1:value
+  403 jump *label108 greaterThanEq :updateRowPositions2x2:col2 0.0784313725490196
+  404 jump *label110 lessThanEq :updateRowPositions2x2:col2 :findBestPosition:best
+  405 set :findDrillLocationLocal:diffX -0.5
+  406 set :findDrillLocationLocal:diffY :updateRowPositions2x2:dy
+  407 set :findBestPosition:best :updateRowPositions2x2:col2
   408 label *label110
   409 label *label111
   410 label *label108
   411 label *label109
   412 label *label107
   413 set :updatePosition.2:dx 0.5
-    * set :updatePosition.2:dy :updateRowPositions2x2:dy
+  414 set :updatePosition.2:dy -1.5
   415 set :updatePosition.2:value :updateRowPositions2x2:col3
-    * jump *label113 greaterThanEq :updatePosition.2:value 0.0784313725490196
-    * jump *label115 lessThanEq :updatePosition.2:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.2:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.2:dy
-    * set :findBestPosition:best :updatePosition.2:value
+  416 jump *label113 greaterThanEq :updateRowPositions2x2:col3 0.0784313725490196
+  417 jump *label115 lessThanEq :updateRowPositions2x2:col3 :findBestPosition:best
+  418 set :findDrillLocationLocal:diffX 0.5
+  419 set :findDrillLocationLocal:diffY :updateRowPositions2x2:dy
+  420 set :findBestPosition:best :updateRowPositions2x2:col3
   421 label *label115
   422 label *label116
   423 label *label113
   424 label *label114
   425 label *label112
   426 set :updatePosition.3:dx 1.5
-    * set :updatePosition.3:dy :updateRowPositions2x2:dy
+  427 set :updatePosition.3:dy -1.5
   428 set :updatePosition.3:value :updateRowPositions2x2:col4
-    * jump *label118 greaterThanEq :updatePosition.3:value 0.0784313725490196
-    * jump *label120 lessThanEq :updatePosition.3:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.3:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.3:dy
-    * set :findBestPosition:best :updatePosition.3:value
+  429 jump *label118 greaterThanEq :updateRowPositions2x2:col4 0.0784313725490196
+  430 jump *label120 lessThanEq :updateRowPositions2x2:col4 :findBestPosition:best
+  431 set :findDrillLocationLocal:diffX 1.5
+  432 set :findDrillLocationLocal:diffY :updateRowPositions2x2:dy
+  433 set :findBestPosition:best :updateRowPositions2x2:col4
   434 label *label120
   435 label *label121
   436 label *label118
 
   439 label *label101
   440 set :updateRowPositions2x2.1:dy -0.5
   441 set :updateRowPositions2x2.1:rowSum :findBestPosition:row2
-    * unpackcolor :updateRowPositions2x2.1:col1 :updateRowPositions2x2.1:col2 :updateRowPositions2x2.1:col3 :updateRowPositions2x2.1:col4 :updateRowPositions2x2.1:rowSum
+  442 unpackcolor :updateRowPositions2x2.1:col1 :updateRowPositions2x2.1:col2 :updateRowPositions2x2.1:col3 :updateRowPositions2x2.1:col4 :findBestPosition:row2
   443 set :updatePosition.4:dx -1.5
-    * set :updatePosition.4:dy :updateRowPositions2x2.1:dy
+  444 set :updatePosition.4:dy -0.5
   445 set :updatePosition.4:value :updateRowPositions2x2.1:col1
-    * jump *label124 greaterThanEq :updatePosition.4:value 0.0784313725490196
-    * jump *label126 lessThanEq :updatePosition.4:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.4:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.4:dy
-    * set :findBestPosition:best :updatePosition.4:value
+  446 jump *label124 greaterThanEq :updateRowPositions2x2.1:col1 0.0784313725490196
+  447 jump *label126 lessThanEq :updateRowPositions2x2.1:col1 :findBestPosition:best
+  448 set :findDrillLocationLocal:diffX -1.5
+  449 set :findDrillLocationLocal:diffY :updateRowPositions2x2.1:dy
+  450 set :findBestPosition:best :updateRowPositions2x2.1:col1
   451 label *label126
   452 label *label127
   453 label *label124
   454 label *label125
   455 label *label123
   456 set :updatePosition.5:dx -0.5
-    * set :updatePosition.5:dy :updateRowPositions2x2.1:dy
+  457 set :updatePosition.5:dy -0.5
   458 set :updatePosition.5:value :updateRowPositions2x2.1:col2
-    * jump *label129 greaterThanEq :updatePosition.5:value 0.0784313725490196
-    * jump *label131 lessThanEq :updatePosition.5:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.5:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.5:dy
-    * set :findBestPosition:best :updatePosition.5:value
+  459 jump *label129 greaterThanEq :updateRowPositions2x2.1:col2 0.0784313725490196
+  460 jump *label131 lessThanEq :updateRowPositions2x2.1:col2 :findBestPosition:best
+  461 set :findDrillLocationLocal:diffX -0.5
+  462 set :findDrillLocationLocal:diffY :updateRowPositions2x2.1:dy
+  463 set :findBestPosition:best :updateRowPositions2x2.1:col2
   464 label *label131
   465 label *label132
   466 label *label129
   467 label *label130
   468 label *label128
   469 set :updatePosition.6:dx 0.5
-    * set :updatePosition.6:dy :updateRowPositions2x2.1:dy
+  470 set :updatePosition.6:dy -0.5
   471 set :updatePosition.6:value :updateRowPositions2x2.1:col3
-    * jump *label134 greaterThanEq :updatePosition.6:value 0.0784313725490196
-    * jump *label136 lessThanEq :updatePosition.6:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.6:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.6:dy
-    * set :findBestPosition:best :updatePosition.6:value
+  472 jump *label134 greaterThanEq :updateRowPositions2x2.1:col3 0.0784313725490196
+  473 jump *label136 lessThanEq :updateRowPositions2x2.1:col3 :findBestPosition:best
+  474 set :findDrillLocationLocal:diffX 0.5
+  475 set :findDrillLocationLocal:diffY :updateRowPositions2x2.1:dy
+  476 set :findBestPosition:best :updateRowPositions2x2.1:col3
   477 label *label136
   478 label *label137
   479 label *label134
   480 label *label135
   481 label *label133
   482 set :updatePosition.7:dx 1.5
-    * set :updatePosition.7:dy :updateRowPositions2x2.1:dy
+  483 set :updatePosition.7:dy -0.5
   484 set :updatePosition.7:value :updateRowPositions2x2.1:col4
-    * jump *label139 greaterThanEq :updatePosition.7:value 0.0784313725490196
-    * jump *label141 lessThanEq :updatePosition.7:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.7:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.7:dy
-    * set :findBestPosition:best :updatePosition.7:value
+  485 jump *label139 greaterThanEq :updateRowPositions2x2.1:col4 0.0784313725490196
+  486 jump *label141 lessThanEq :updateRowPositions2x2.1:col4 :findBestPosition:best
+  487 set :findDrillLocationLocal:diffX 1.5
+  488 set :findDrillLocationLocal:diffY :updateRowPositions2x2.1:dy
+  489 set :findBestPosition:best :updateRowPositions2x2.1:col4
   490 label *label141
   491 label *label142
   492 label *label139
 
   495 label *label122
   496 set :updateRowPositions2x2.2:dy 0.5
   497 set :updateRowPositions2x2.2:rowSum :findBestPosition:row3
-    * unpackcolor :updateRowPositions2x2.2:col1 :updateRowPositions2x2.2:col2 :updateRowPositions2x2.2:col3 :updateRowPositions2x2.2:col4 :updateRowPositions2x2.2:rowSum
+  498 unpackcolor :updateRowPositions2x2.2:col1 :updateRowPositions2x2.2:col2 :updateRowPositions2x2.2:col3 :updateRowPositions2x2.2:col4 :findBestPosition:row3
   499 set :updatePosition.8:dx -1.5
-    * set :updatePosition.8:dy :updateRowPositions2x2.2:dy
+  500 set :updatePosition.8:dy 0.5
   501 set :updatePosition.8:value :updateRowPositions2x2.2:col1
-    * jump *label145 greaterThanEq :updatePosition.8:value 0.0784313725490196
-    * jump *label147 lessThanEq :updatePosition.8:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.8:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.8:dy
-    * set :findBestPosition:best :updatePosition.8:value
+  502 jump *label145 greaterThanEq :updateRowPositions2x2.2:col1 0.0784313725490196
+  503 jump *label147 lessThanEq :updateRowPositions2x2.2:col1 :findBestPosition:best
+  504 set :findDrillLocationLocal:diffX -1.5
+  505 set :findDrillLocationLocal:diffY :updateRowPositions2x2.2:dy
+  506 set :findBestPosition:best :updateRowPositions2x2.2:col1
   507 label *label147
   508 label *label148
   509 label *label145
   510 label *label146
   511 label *label144
   512 set :updatePosition.9:dx -0.5
-    * set :updatePosition.9:dy :updateRowPositions2x2.2:dy
+  513 set :updatePosition.9:dy 0.5
   514 set :updatePosition.9:value :updateRowPositions2x2.2:col2
-    * jump *label150 greaterThanEq :updatePosition.9:value 0.0784313725490196
-    * jump *label152 lessThanEq :updatePosition.9:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.9:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.9:dy
-    * set :findBestPosition:best :updatePosition.9:value
+  515 jump *label150 greaterThanEq :updateRowPositions2x2.2:col2 0.0784313725490196
+  516 jump *label152 lessThanEq :updateRowPositions2x2.2:col2 :findBestPosition:best
+  517 set :findDrillLocationLocal:diffX -0.5
+  518 set :findDrillLocationLocal:diffY :updateRowPositions2x2.2:dy
+  519 set :findBestPosition:best :updateRowPositions2x2.2:col2
   520 label *label152
   521 label *label153
   522 label *label150
   523 label *label151
   524 label *label149
   525 set :updatePosition.10:dx 0.5
-    * set :updatePosition.10:dy :updateRowPositions2x2.2:dy
+  526 set :updatePosition.10:dy 0.5
   527 set :updatePosition.10:value :updateRowPositions2x2.2:col3
-    * jump *label155 greaterThanEq :updatePosition.10:value 0.0784313725490196
-    * jump *label157 lessThanEq :updatePosition.10:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.10:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.10:dy
-    * set :findBestPosition:best :updatePosition.10:value
+  528 jump *label155 greaterThanEq :updateRowPositions2x2.2:col3 0.0784313725490196
+  529 jump *label157 lessThanEq :updateRowPositions2x2.2:col3 :findBestPosition:best
+  530 set :findDrillLocationLocal:diffX 0.5
+  531 set :findDrillLocationLocal:diffY :updateRowPositions2x2.2:dy
+  532 set :findBestPosition:best :updateRowPositions2x2.2:col3
   533 label *label157
   534 label *label158
   535 label *label155
   536 label *label156
   537 label *label154
   538 set :updatePosition.11:dx 1.5
-    * set :updatePosition.11:dy :updateRowPositions2x2.2:dy
+  539 set :updatePosition.11:dy 0.5
   540 set :updatePosition.11:value :updateRowPositions2x2.2:col4
-    * jump *label160 greaterThanEq :updatePosition.11:value 0.0784313725490196
-    * jump *label162 lessThanEq :updatePosition.11:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.11:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.11:dy
-    * set :findBestPosition:best :updatePosition.11:value
+  541 jump *label160 greaterThanEq :updateRowPositions2x2.2:col4 0.0784313725490196
+  542 jump *label162 lessThanEq :updateRowPositions2x2.2:col4 :findBestPosition:best
+  543 set :findDrillLocationLocal:diffX 1.5
+  544 set :findDrillLocationLocal:diffY :updateRowPositions2x2.2:dy
+  545 set :findBestPosition:best :updateRowPositions2x2.2:col4
   546 label *label162
   547 label *label163
   548 label *label160
 
   551 label *label143
   552 set :updateRowPositions2x2.3:dy 1.5
   553 set :updateRowPositions2x2.3:rowSum :findBestPosition:row4
-    * unpackcolor :updateRowPositions2x2.3:col1 :updateRowPositions2x2.3:col2 :updateRowPositions2x2.3:col3 :updateRowPositions2x2.3:col4 :updateRowPositions2x2.3:rowSum
+  554 unpackcolor :updateRowPositions2x2.3:col1 :updateRowPositions2x2.3:col2 :updateRowPositions2x2.3:col3 :updateRowPositions2x2.3:col4 :findBestPosition:row4
   555 set :updatePosition.12:dx -1.5
-    * set :updatePosition.12:dy :updateRowPositions2x2.3:dy
+  556 set :updatePosition.12:dy 1.5
   557 set :updatePosition.12:value :updateRowPositions2x2.3:col1
-    * jump *label166 greaterThanEq :updatePosition.12:value 0.0784313725490196
-    * jump *label168 lessThanEq :updatePosition.12:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.12:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.12:dy
-    * set :findBestPosition:best :updatePosition.12:value
+  558 jump *label166 greaterThanEq :updateRowPositions2x2.3:col1 0.0784313725490196
+  559 jump *label168 lessThanEq :updateRowPositions2x2.3:col1 :findBestPosition:best
+  560 set :findDrillLocationLocal:diffX -1.5
+  561 set :findDrillLocationLocal:diffY :updateRowPositions2x2.3:dy
+  562 set :findBestPosition:best :updateRowPositions2x2.3:col1
   563 label *label168
   564 label *label169
   565 label *label166
   566 label *label167
   567 label *label165
   568 set :updatePosition.13:dx -0.5
-    * set :updatePosition.13:dy :updateRowPositions2x2.3:dy
+  569 set :updatePosition.13:dy 1.5
   570 set :updatePosition.13:value :updateRowPositions2x2.3:col2
-    * jump *label171 greaterThanEq :updatePosition.13:value 0.0784313725490196
-    * jump *label173 lessThanEq :updatePosition.13:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.13:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.13:dy
-    * set :findBestPosition:best :updatePosition.13:value
+  571 jump *label171 greaterThanEq :updateRowPositions2x2.3:col2 0.0784313725490196
+  572 jump *label173 lessThanEq :updateRowPositions2x2.3:col2 :findBestPosition:best
+  573 set :findDrillLocationLocal:diffX -0.5
+  574 set :findDrillLocationLocal:diffY :updateRowPositions2x2.3:dy
+  575 set :findBestPosition:best :updateRowPositions2x2.3:col2
   576 label *label173
   577 label *label174
   578 label *label171
   579 label *label172
   580 label *label170
   581 set :updatePosition.14:dx 0.5
-    * set :updatePosition.14:dy :updateRowPositions2x2.3:dy
+  582 set :updatePosition.14:dy 1.5
   583 set :updatePosition.14:value :updateRowPositions2x2.3:col3
-    * jump *label176 greaterThanEq :updatePosition.14:value 0.0784313725490196
-    * jump *label178 lessThanEq :updatePosition.14:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.14:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.14:dy
-    * set :findBestPosition:best :updatePosition.14:value
+  584 jump *label176 greaterThanEq :updateRowPositions2x2.3:col3 0.0784313725490196
+  585 jump *label178 lessThanEq :updateRowPositions2x2.3:col3 :findBestPosition:best
+  586 set :findDrillLocationLocal:diffX 0.5
+  587 set :findDrillLocationLocal:diffY :updateRowPositions2x2.3:dy
+  588 set :findBestPosition:best :updateRowPositions2x2.3:col3
   589 label *label178
   590 label *label179
   591 label *label176
   592 label *label177
   593 label *label175
   594 set :updatePosition.15:dx 1.5
-    * set :updatePosition.15:dy :updateRowPositions2x2.3:dy
+  595 set :updatePosition.15:dy 1.5
   596 set :updatePosition.15:value :updateRowPositions2x2.3:col4
-    * jump *label181 greaterThanEq :updatePosition.15:value 0.0784313725490196
-    * jump *label183 lessThanEq :updatePosition.15:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.15:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.15:dy
-    * set :findBestPosition:best :updatePosition.15:value
+  597 jump *label181 greaterThanEq :updateRowPositions2x2.3:col4 0.0784313725490196
+  598 jump *label183 lessThanEq :updateRowPositions2x2.3:col4 :findBestPosition:best
+  599 set :findDrillLocationLocal:diffX 1.5
+  600 set :findDrillLocationLocal:diffY :updateRowPositions2x2.3:dy
+  601 set :findBestPosition:best :updateRowPositions2x2.3:col4
   602 label *label183
   603 label *label184
   604 label *label181
 
   611 op add *tmp256 :findBestPosition:y2 :findBestPosition:y3
   612 op add :findBestPosition:row1.1 :findBestPosition:y1 *tmp256
   613 op add *tmp258 :findBestPosition:y2 :findBestPosition:y3
-    * op add :findBestPosition:row2.1 *tmp258 :findBestPosition:y4
+  614 op add :findBestPosition:row2.1 *tmp256 :findBestPosition:y4
   615 op add *tmp260 :findBestPosition:y3 :findBestPosition:y4
-    * op add :findBestPosition:row3.1 *tmp260 :findBestPosition:y5
+  616 op add :findBestPosition:row3.1 *tmp260 :computeRowValues*retval
   617 set :updateRowPositions3x3:dy -1
   618 set :updateRowPositions3x3:rowSum :findBestPosition:row1.1
-    * unpackcolor :updateRowPositions3x3:col1 :updateRowPositions3x3:col2 :updateRowPositions3x3:col3 0 :updateRowPositions3x3:rowSum
+  619 unpackcolor :updateRowPositions3x3:col1 :updateRowPositions3x3:col2 :updateRowPositions3x3:col3 0 :findBestPosition:row1.1
   620 set :updatePosition.16:dx -1
-    * set :updatePosition.16:dy :updateRowPositions3x3:dy
+  621 set :updatePosition.16:dy -1
   622 set :updatePosition.16:value :updateRowPositions3x3:col1
-    * jump *label189 greaterThanEq :updatePosition.16:value 0.0784313725490196
-    * jump *label191 lessThanEq :updatePosition.16:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.16:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.16:dy
-    * set :findBestPosition:best :updatePosition.16:value
+  623 jump *label189 greaterThanEq :updateRowPositions3x3:col1 0.0784313725490196
+  624 jump *label191 lessThanEq :updateRowPositions3x3:col1 0
+  625 set :findDrillLocationLocal:diffX -1
+  626 set :findDrillLocationLocal:diffY :updateRowPositions3x3:dy
+  627 set :findBestPosition:best :updateRowPositions3x3:col1
   628 label *label191
   629 label *label192
   630 label *label189
   631 label *label190
   632 label *label188
   633 set :updatePosition.17:dx 0
-    * set :updatePosition.17:dy :updateRowPositions3x3:dy
+  634 set :updatePosition.17:dy -1
   635 set :updatePosition.17:value :updateRowPositions3x3:col2
-    * jump *label194 greaterThanEq :updatePosition.17:value 0.0784313725490196
-    * jump *label196 lessThanEq :updatePosition.17:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.17:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.17:dy
-    * set :findBestPosition:best :updatePosition.17:value
+  636 jump *label194 greaterThanEq :updateRowPositions3x3:col2 0.0784313725490196
+  637 jump *label196 lessThanEq :updateRowPositions3x3:col2 :findBestPosition:best
+  638 set :findDrillLocationLocal:diffX 0
+  639 set :findDrillLocationLocal:diffY :updateRowPositions3x3:dy
+  640 set :findBestPosition:best :updateRowPositions3x3:col2
   641 label *label196
   642 label *label197
   643 label *label194
   644 label *label195
   645 label *label193
   646 set :updatePosition.18:dx 1
-    * set :updatePosition.18:dy :updateRowPositions3x3:dy
+  647 set :updatePosition.18:dy -1
   648 set :updatePosition.18:value :updateRowPositions3x3:col3
-    * jump *label199 greaterThanEq :updatePosition.18:value 0.0784313725490196
-    * jump *label201 lessThanEq :updatePosition.18:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.18:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.18:dy
-    * set :findBestPosition:best :updatePosition.18:value
+  649 jump *label199 greaterThanEq :updateRowPositions3x3:col3 0.0784313725490196
+  650 jump *label201 lessThanEq :updateRowPositions3x3:col3 :findBestPosition:best
+  651 set :findDrillLocationLocal:diffX 1
+  652 set :findDrillLocationLocal:diffY :updateRowPositions3x3:dy
+  653 set :findBestPosition:best :updateRowPositions3x3:col3
   654 label *label201
   655 label *label202
   656 label *label199
 
   659 label *label187
   660 set :updateRowPositions3x3.1:dy 0
   661 set :updateRowPositions3x3.1:rowSum :findBestPosition:row2.1
-    * unpackcolor :updateRowPositions3x3.1:col1 :updateRowPositions3x3.1:col2 :updateRowPositions3x3.1:col3 0 :updateRowPositions3x3.1:rowSum
+  662 unpackcolor :updateRowPositions3x3.1:col1 :updateRowPositions3x3.1:col2 :updateRowPositions3x3.1:col3 0 :findBestPosition:row2.1
   663 set :updatePosition.19:dx -1
-    * set :updatePosition.19:dy :updateRowPositions3x3.1:dy
+  664 set :updatePosition.19:dy 0
   665 set :updatePosition.19:value :updateRowPositions3x3.1:col1
-    * jump *label205 greaterThanEq :updatePosition.19:value 0.0784313725490196
-    * jump *label207 lessThanEq :updatePosition.19:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.19:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.19:dy
-    * set :findBestPosition:best :updatePosition.19:value
+  666 jump *label205 greaterThanEq :updateRowPositions3x3.1:col1 0.0784313725490196
+  667 jump *label207 lessThanEq :updateRowPositions3x3.1:col1 :findBestPosition:best
+  668 set :findDrillLocationLocal:diffX -1
+  669 set :findDrillLocationLocal:diffY :updateRowPositions3x3.1:dy
+  670 set :findBestPosition:best :updateRowPositions3x3.1:col1
   671 label *label207
   672 label *label208
   673 label *label205
   674 label *label206
   675 label *label204
   676 set :updatePosition.20:dx 0
-    * set :updatePosition.20:dy :updateRowPositions3x3.1:dy
+  677 set :updatePosition.20:dy 0
   678 set :updatePosition.20:value :updateRowPositions3x3.1:col2
-    * jump *label210 greaterThanEq :updatePosition.20:value 0.0784313725490196
-    * jump *label212 lessThanEq :updatePosition.20:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.20:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.20:dy
-    * set :findBestPosition:best :updatePosition.20:value
+  679 jump *label210 greaterThanEq :updateRowPositions3x3.1:col2 0.0784313725490196
+  680 jump *label212 lessThanEq :updateRowPositions3x3.1:col2 :findBestPosition:best
+  681 set :findDrillLocationLocal:diffX 0
+  682 set :findDrillLocationLocal:diffY :updateRowPositions3x3.1:dy
+  683 set :findBestPosition:best :updateRowPositions3x3.1:col2
   684 label *label212
   685 label *label213
   686 label *label210
   687 label *label211
   688 label *label209
   689 set :updatePosition.21:dx 1
-    * set :updatePosition.21:dy :updateRowPositions3x3.1:dy
+  690 set :updatePosition.21:dy 0
   691 set :updatePosition.21:value :updateRowPositions3x3.1:col3
-    * jump *label215 greaterThanEq :updatePosition.21:value 0.0784313725490196
-    * jump *label217 lessThanEq :updatePosition.21:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.21:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.21:dy
-    * set :findBestPosition:best :updatePosition.21:value
+  692 jump *label215 greaterThanEq :updateRowPositions3x3.1:col3 0.0784313725490196
+  693 jump *label217 lessThanEq :updateRowPositions3x3.1:col3 :findBestPosition:best
+  694 set :findDrillLocationLocal:diffX 1
+  695 set :findDrillLocationLocal:diffY :updateRowPositions3x3.1:dy
+  696 set :findBestPosition:best :updateRowPositions3x3.1:col3
   697 label *label217
   698 label *label218
   699 label *label215
 
   702 label *label203
   703 set :updateRowPositions3x3.2:dy 1
   704 set :updateRowPositions3x3.2:rowSum :findBestPosition:row3.1
-    * unpackcolor :updateRowPositions3x3.2:col1 :updateRowPositions3x3.2:col2 :updateRowPositions3x3.2:col3 0 :updateRowPositions3x3.2:rowSum
+  705 unpackcolor :updateRowPositions3x3.2:col1 :updateRowPositions3x3.2:col2 :updateRowPositions3x3.2:col3 0 :findBestPosition:row3.1
   706 set :updatePosition.22:dx -1
-    * set :updatePosition.22:dy :updateRowPositions3x3.2:dy
+  707 set :updatePosition.22:dy 1
   708 set :updatePosition.22:value :updateRowPositions3x3.2:col1
-    * jump *label221 greaterThanEq :updatePosition.22:value 0.0784313725490196
-    * jump *label223 lessThanEq :updatePosition.22:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.22:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.22:dy
-    * set :findBestPosition:best :updatePosition.22:value
+  709 jump *label221 greaterThanEq :updateRowPositions3x3.2:col1 0.0784313725490196
+  710 jump *label223 lessThanEq :updateRowPositions3x3.2:col1 :findBestPosition:best
+  711 set :findDrillLocationLocal:diffX -1
+  712 set :findDrillLocationLocal:diffY :updateRowPositions3x3.2:dy
+  713 set :findBestPosition:best :updateRowPositions3x3.2:col1
   714 label *label223
   715 label *label224
   716 label *label221
   717 label *label222
   718 label *label220
   719 set :updatePosition.23:dx 0
-    * set :updatePosition.23:dy :updateRowPositions3x3.2:dy
+  720 set :updatePosition.23:dy 1
   721 set :updatePosition.23:value :updateRowPositions3x3.2:col2
-    * jump *label226 greaterThanEq :updatePosition.23:value 0.0784313725490196
-    * jump *label228 lessThanEq :updatePosition.23:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.23:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.23:dy
-    * set :findBestPosition:best :updatePosition.23:value
+  722 jump *label226 greaterThanEq :updateRowPositions3x3.2:col2 0.0784313725490196
+  723 jump *label228 lessThanEq :updateRowPositions3x3.2:col2 :findBestPosition:best
+  724 set :findDrillLocationLocal:diffX 0
+  725 set :findDrillLocationLocal:diffY :updateRowPositions3x3.2:dy
+  726 set :findBestPosition:best :updateRowPositions3x3.2:col2
   727 label *label228
   728 label *label229
   729 label *label226
   730 label *label227
   731 label *label225
   732 set :updatePosition.24:dx 1
-    * set :updatePosition.24:dy :updateRowPositions3x3.2:dy
+  733 set :updatePosition.24:dy 1
   734 set :updatePosition.24:value :updateRowPositions3x3.2:col3
-    * jump *label231 greaterThanEq :updatePosition.24:value 0.0784313725490196
-    * jump *label233 lessThanEq :updatePosition.24:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.24:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.24:dy
-    * set :findBestPosition:best :updatePosition.24:value
+  735 jump *label231 greaterThanEq :updateRowPositions3x3.2:col3 0.0784313725490196
+  736 jump *label233 lessThanEq :updateRowPositions3x3.2:col3 :findBestPosition:best
+  737 set :findDrillLocationLocal:diffX 1
+  738 set :findDrillLocationLocal:diffY :updateRowPositions3x3.2:dy
+  739 set :findBestPosition:best :updateRowPositions3x3.2:col3
   740 label *label233
   741 label *label234
   742 label *label231
 
   767 op add *tmp306 *tmp305 :findBestPosition:y3
   768 op add :findBestPosition:row1.2 :findBestPosition:y0 *tmp306
   769 op add *tmp308 :findBestPosition:y1 :findBestPosition:y2
-    * op add *tmp309 *tmp308 :findBestPosition:y3
-    * op add :findBestPosition:row2.2 *tmp309 :findBestPosition:y4
+  770 op add *tmp309 *tmp305 :findBestPosition:y3
+  771 op add :findBestPosition:row2.2 *tmp306 :findBestPosition:y4
   772 op add *tmp311 :findBestPosition:y3 :findBestPosition:y4
   773 op add *tmp312 *tmp311 :findBestPosition:y5
   774 op add :findBestPosition:row3.2 :findBestPosition:y2 *tmp312
   775 op add *tmp314 :findBestPosition:y3 :findBestPosition:y4
-    * op add *tmp315 *tmp314 :findBestPosition:y5
-    * op add :findBestPosition:row4.1 *tmp315 :findBestPosition:y6
+  776 op add *tmp315 *tmp311 :findBestPosition:y5
+  777 op add :findBestPosition:row4.1 *tmp312 :computeRowValues*retval
   778 set :updateRowPositions4x4:dy -1.5
   779 set :updateRowPositions4x4:rowSum :findBestPosition:row1.2
-    * unpackcolor :updateRowPositions4x4:col1 :updateRowPositions4x4:col2 :updateRowPositions4x4:col3 :updateRowPositions4x4:col4 :updateRowPositions4x4:rowSum
+  780 unpackcolor :updateRowPositions4x4:col1 :updateRowPositions4x4:col2 :updateRowPositions4x4:col3 :updateRowPositions4x4:col4 :findBestPosition:row1.2
   781 set :updatePosition.25:dx -1.5
-    * set :updatePosition.25:dy :updateRowPositions4x4:dy
+  782 set :updatePosition.25:dy -1.5
   783 set :updatePosition.25:value :updateRowPositions4x4:col1
-    * jump *label239 greaterThanEq :updatePosition.25:value 0.0784313725490196
-    * jump *label241 lessThanEq :updatePosition.25:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.25:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.25:dy
-    * set :findBestPosition:best :updatePosition.25:value
+  784 jump *label239 greaterThanEq :updateRowPositions4x4:col1 0.0784313725490196
+  785 jump *label241 lessThanEq :updateRowPositions4x4:col1 :findBestPosition:best
+  786 set :findDrillLocationLocal:diffX -1.5
+  787 set :findDrillLocationLocal:diffY :updateRowPositions4x4:dy
+  788 set :findBestPosition:best :updateRowPositions4x4:col1
   789 label *label241
   790 label *label242
   791 label *label239
   792 label *label240
   793 label *label238
   794 set :updatePosition.26:dx -0.5
-    * set :updatePosition.26:dy :updateRowPositions4x4:dy
+  795 set :updatePosition.26:dy -1.5
   796 set :updatePosition.26:value :updateRowPositions4x4:col2
-    * jump *label244 greaterThanEq :updatePosition.26:value 0.0784313725490196
-    * jump *label246 lessThanEq :updatePosition.26:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.26:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.26:dy
-    * set :findBestPosition:best :updatePosition.26:value
+  797 jump *label244 greaterThanEq :updateRowPositions4x4:col2 0.0784313725490196
+  798 jump *label246 lessThanEq :updateRowPositions4x4:col2 :findBestPosition:best
+  799 set :findDrillLocationLocal:diffX -0.5
+  800 set :findDrillLocationLocal:diffY :updateRowPositions4x4:dy
+  801 set :findBestPosition:best :updateRowPositions4x4:col2
   802 label *label246
   803 label *label247
   804 label *label244
   805 label *label245
   806 label *label243
   807 set :updatePosition.27:dx 0.5
-    * set :updatePosition.27:dy :updateRowPositions4x4:dy
+  808 set :updatePosition.27:dy -1.5
   809 set :updatePosition.27:value :updateRowPositions4x4:col3
-    * jump *label249 greaterThanEq :updatePosition.27:value 0.0784313725490196
-    * jump *label251 lessThanEq :updatePosition.27:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.27:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.27:dy
-    * set :findBestPosition:best :updatePosition.27:value
+  810 jump *label249 greaterThanEq :updateRowPositions4x4:col3 0.0784313725490196
+  811 jump *label251 lessThanEq :updateRowPositions4x4:col3 :findBestPosition:best
+  812 set :findDrillLocationLocal:diffX 0.5
+  813 set :findDrillLocationLocal:diffY :updateRowPositions4x4:dy
+  814 set :findBestPosition:best :updateRowPositions4x4:col3
   815 label *label251
   816 label *label252
   817 label *label249
   818 label *label250
   819 label *label248
   820 set :updatePosition.28:dx 1.5
-    * set :updatePosition.28:dy :updateRowPositions4x4:dy
+  821 set :updatePosition.28:dy -1.5
   822 set :updatePosition.28:value :updateRowPositions4x4:col4
-    * jump *label254 greaterThanEq :updatePosition.28:value 0.0784313725490196
-    * jump *label256 lessThanEq :updatePosition.28:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.28:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.28:dy
-    * set :findBestPosition:best :updatePosition.28:value
+  823 jump *label254 greaterThanEq :updateRowPositions4x4:col4 0.0784313725490196
+  824 jump *label256 lessThanEq :updateRowPositions4x4:col4 :findBestPosition:best
+  825 set :findDrillLocationLocal:diffX 1.5
+  826 set :findDrillLocationLocal:diffY :updateRowPositions4x4:dy
+  827 set :findBestPosition:best :updateRowPositions4x4:col4
   828 label *label256
   829 label *label257
   830 label *label254
 
   833 label *label237
   834 set :updateRowPositions4x4.1:dy -0.5
   835 set :updateRowPositions4x4.1:rowSum :findBestPosition:row2.2
-    * unpackcolor :updateRowPositions4x4.1:col1 :updateRowPositions4x4.1:col2 :updateRowPositions4x4.1:col3 :updateRowPositions4x4.1:col4 :updateRowPositions4x4.1:rowSum
+  836 unpackcolor :updateRowPositions4x4.1:col1 :updateRowPositions4x4.1:col2 :updateRowPositions4x4.1:col3 :updateRowPositions4x4.1:col4 :findBestPosition:row2.2
   837 set :updatePosition.29:dx -1.5
-    * set :updatePosition.29:dy :updateRowPositions4x4.1:dy
+  838 set :updatePosition.29:dy -0.5
   839 set :updatePosition.29:value :updateRowPositions4x4.1:col1
-    * jump *label260 greaterThanEq :updatePosition.29:value 0.0784313725490196
-    * jump *label262 lessThanEq :updatePosition.29:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.29:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.29:dy
-    * set :findBestPosition:best :updatePosition.29:value
+  840 jump *label260 greaterThanEq :updateRowPositions4x4.1:col1 0.0784313725490196
+  841 jump *label262 lessThanEq :updateRowPositions4x4.1:col1 :findBestPosition:best
+  842 set :findDrillLocationLocal:diffX -1.5
+  843 set :findDrillLocationLocal:diffY :updateRowPositions4x4.1:dy
+  844 set :findBestPosition:best :updateRowPositions4x4.1:col1
   845 label *label262
   846 label *label263
   847 label *label260
   848 label *label261
   849 label *label259
   850 set :updatePosition.30:dx -0.5
-    * set :updatePosition.30:dy :updateRowPositions4x4.1:dy
+  851 set :updatePosition.30:dy -0.5
   852 set :updatePosition.30:value :updateRowPositions4x4.1:col2
-    * jump *label265 greaterThanEq :updatePosition.30:value 0.0784313725490196
-    * jump *label267 lessThanEq :updatePosition.30:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.30:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.30:dy
-    * set :findBestPosition:best :updatePosition.30:value
+  853 jump *label265 greaterThanEq :updateRowPositions4x4.1:col2 0.0784313725490196
+  854 jump *label267 lessThanEq :updateRowPositions4x4.1:col2 :findBestPosition:best
+  855 set :findDrillLocationLocal:diffX -0.5
+  856 set :findDrillLocationLocal:diffY :updateRowPositions4x4.1:dy
+  857 set :findBestPosition:best :updateRowPositions4x4.1:col2
   858 label *label267
   859 label *label268
   860 label *label265
   861 label *label266
   862 label *label264
   863 set :updatePosition.31:dx 0.5
-    * set :updatePosition.31:dy :updateRowPositions4x4.1:dy
+  864 set :updatePosition.31:dy -0.5
   865 set :updatePosition.31:value :updateRowPositions4x4.1:col3
-    * jump *label270 greaterThanEq :updatePosition.31:value 0.0784313725490196
-    * jump *label272 lessThanEq :updatePosition.31:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.31:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.31:dy
-    * set :findBestPosition:best :updatePosition.31:value
+  866 jump *label270 greaterThanEq :updateRowPositions4x4.1:col3 0.0784313725490196
+  867 jump *label272 lessThanEq :updateRowPositions4x4.1:col3 :findBestPosition:best
+  868 set :findDrillLocationLocal:diffX 0.5
+  869 set :findDrillLocationLocal:diffY :updateRowPositions4x4.1:dy
+  870 set :findBestPosition:best :updateRowPositions4x4.1:col3
   871 label *label272
   872 label *label273
   873 label *label270
   874 label *label271
   875 label *label269
   876 set :updatePosition.32:dx 1.5
-    * set :updatePosition.32:dy :updateRowPositions4x4.1:dy
+  877 set :updatePosition.32:dy -0.5
   878 set :updatePosition.32:value :updateRowPositions4x4.1:col4
-    * jump *label275 greaterThanEq :updatePosition.32:value 0.0784313725490196
-    * jump *label277 lessThanEq :updatePosition.32:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.32:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.32:dy
-    * set :findBestPosition:best :updatePosition.32:value
+  879 jump *label275 greaterThanEq :updateRowPositions4x4.1:col4 0.0784313725490196
+  880 jump *label277 lessThanEq :updateRowPositions4x4.1:col4 :findBestPosition:best
+  881 set :findDrillLocationLocal:diffX 1.5
+  882 set :findDrillLocationLocal:diffY :updateRowPositions4x4.1:dy
+  883 set :findBestPosition:best :updateRowPositions4x4.1:col4
   884 label *label277
   885 label *label278
   886 label *label275
 
   889 label *label258
   890 set :updateRowPositions4x4.2:dy 0.5
   891 set :updateRowPositions4x4.2:rowSum :findBestPosition:row3.2
-    * unpackcolor :updateRowPositions4x4.2:col1 :updateRowPositions4x4.2:col2 :updateRowPositions4x4.2:col3 :updateRowPositions4x4.2:col4 :updateRowPositions4x4.2:rowSum
+  892 unpackcolor :updateRowPositions4x4.2:col1 :updateRowPositions4x4.2:col2 :updateRowPositions4x4.2:col3 :updateRowPositions4x4.2:col4 :findBestPosition:row3.2
   893 set :updatePosition.33:dx -1.5
-    * set :updatePosition.33:dy :updateRowPositions4x4.2:dy
+  894 set :updatePosition.33:dy 0.5
   895 set :updatePosition.33:value :updateRowPositions4x4.2:col1
-    * jump *label281 greaterThanEq :updatePosition.33:value 0.0784313725490196
-    * jump *label283 lessThanEq :updatePosition.33:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.33:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.33:dy
-    * set :findBestPosition:best :updatePosition.33:value
+  896 jump *label281 greaterThanEq :updateRowPositions4x4.2:col1 0.0784313725490196
+  897 jump *label283 lessThanEq :updateRowPositions4x4.2:col1 :findBestPosition:best
+  898 set :findDrillLocationLocal:diffX -1.5
+  899 set :findDrillLocationLocal:diffY :updateRowPositions4x4.2:dy
+  900 set :findBestPosition:best :updateRowPositions4x4.2:col1
   901 label *label283
   902 label *label284
   903 label *label281
   904 label *label282
   905 label *label280
   906 set :updatePosition.34:dx -0.5
-    * set :updatePosition.34:dy :updateRowPositions4x4.2:dy
+  907 set :updatePosition.34:dy 0.5
   908 set :updatePosition.34:value :updateRowPositions4x4.2:col2
-    * jump *label286 greaterThanEq :updatePosition.34:value 0.0784313725490196
-    * jump *label288 lessThanEq :updatePosition.34:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.34:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.34:dy
-    * set :findBestPosition:best :updatePosition.34:value
+  909 jump *label286 greaterThanEq :updateRowPositions4x4.2:col2 0.0784313725490196
+  910 jump *label288 lessThanEq :updateRowPositions4x4.2:col2 :findBestPosition:best
+  911 set :findDrillLocationLocal:diffX -0.5
+  912 set :findDrillLocationLocal:diffY :updateRowPositions4x4.2:dy
+  913 set :findBestPosition:best :updateRowPositions4x4.2:col2
   914 label *label288
   915 label *label289
   916 label *label286
   917 label *label287
   918 label *label285
   919 set :updatePosition.35:dx 0.5
-    * set :updatePosition.35:dy :updateRowPositions4x4.2:dy
+  920 set :updatePosition.35:dy 0.5
   921 set :updatePosition.35:value :updateRowPositions4x4.2:col3
-    * jump *label291 greaterThanEq :updatePosition.35:value 0.0784313725490196
-    * jump *label293 lessThanEq :updatePosition.35:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.35:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.35:dy
-    * set :findBestPosition:best :updatePosition.35:value
+  922 jump *label291 greaterThanEq :updateRowPositions4x4.2:col3 0.0784313725490196
+  923 jump *label293 lessThanEq :updateRowPositions4x4.2:col3 :findBestPosition:best
+  924 set :findDrillLocationLocal:diffX 0.5
+  925 set :findDrillLocationLocal:diffY :updateRowPositions4x4.2:dy
+  926 set :findBestPosition:best :updateRowPositions4x4.2:col3
   927 label *label293
   928 label *label294
   929 label *label291
   930 label *label292
   931 label *label290
   932 set :updatePosition.36:dx 1.5
-    * set :updatePosition.36:dy :updateRowPositions4x4.2:dy
+  933 set :updatePosition.36:dy 0.5
   934 set :updatePosition.36:value :updateRowPositions4x4.2:col4
-    * jump *label296 greaterThanEq :updatePosition.36:value 0.0784313725490196
-    * jump *label298 lessThanEq :updatePosition.36:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.36:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.36:dy
-    * set :findBestPosition:best :updatePosition.36:value
+  935 jump *label296 greaterThanEq :updateRowPositions4x4.2:col4 0.0784313725490196
+  936 jump *label298 lessThanEq :updateRowPositions4x4.2:col4 :findBestPosition:best
+  937 set :findDrillLocationLocal:diffX 1.5
+  938 set :findDrillLocationLocal:diffY :updateRowPositions4x4.2:dy
+  939 set :findBestPosition:best :updateRowPositions4x4.2:col4
   940 label *label298
   941 label *label299
   942 label *label296
 
   945 label *label279
   946 set :updateRowPositions4x4.3:dy 1.5
   947 set :updateRowPositions4x4.3:rowSum :findBestPosition:row4.1
-    * unpackcolor :updateRowPositions4x4.3:col1 :updateRowPositions4x4.3:col2 :updateRowPositions4x4.3:col3 :updateRowPositions4x4.3:col4 :updateRowPositions4x4.3:rowSum
+  948 unpackcolor :updateRowPositions4x4.3:col1 :updateRowPositions4x4.3:col2 :updateRowPositions4x4.3:col3 :updateRowPositions4x4.3:col4 :findBestPosition:row4.1
   949 set :updatePosition.37:dx -1.5
-    * set :updatePosition.37:dy :updateRowPositions4x4.3:dy
+  950 set :updatePosition.37:dy 1.5
   951 set :updatePosition.37:value :updateRowPositions4x4.3:col1
-    * jump *label302 greaterThanEq :updatePosition.37:value 0.0784313725490196
-    * jump *label304 lessThanEq :updatePosition.37:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.37:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.37:dy
-    * set :findBestPosition:best :updatePosition.37:value
+  952 jump *label302 greaterThanEq :updateRowPositions4x4.3:col1 0.0784313725490196
+  953 jump *label304 lessThanEq :updateRowPositions4x4.3:col1 :findBestPosition:best
+  954 set :findDrillLocationLocal:diffX -1.5
+  955 set :findDrillLocationLocal:diffY :updateRowPositions4x4.3:dy
+  956 set :findBestPosition:best :updateRowPositions4x4.3:col1
   957 label *label304
   958 label *label305
   959 label *label302
   960 label *label303
   961 label *label301
   962 set :updatePosition.38:dx -0.5
-    * set :updatePosition.38:dy :updateRowPositions4x4.3:dy
+  963 set :updatePosition.38:dy 1.5
   964 set :updatePosition.38:value :updateRowPositions4x4.3:col2
-    * jump *label307 greaterThanEq :updatePosition.38:value 0.0784313725490196
-    * jump *label309 lessThanEq :updatePosition.38:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.38:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.38:dy
-    * set :findBestPosition:best :updatePosition.38:value
+  965 jump *label307 greaterThanEq :updateRowPositions4x4.3:col2 0.0784313725490196
+  966 jump *label309 lessThanEq :updateRowPositions4x4.3:col2 :findBestPosition:best
+  967 set :findDrillLocationLocal:diffX -0.5
+  968 set :findDrillLocationLocal:diffY :updateRowPositions4x4.3:dy
+  969 set :findBestPosition:best :updateRowPositions4x4.3:col2
   970 label *label309
   971 label *label310
   972 label *label307
   973 label *label308
   974 label *label306
   975 set :updatePosition.39:dx 0.5
-    * set :updatePosition.39:dy :updateRowPositions4x4.3:dy
+  976 set :updatePosition.39:dy 1.5
   977 set :updatePosition.39:value :updateRowPositions4x4.3:col3
-    * jump *label312 greaterThanEq :updatePosition.39:value 0.0784313725490196
-    * jump *label314 lessThanEq :updatePosition.39:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.39:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.39:dy
-    * set :findBestPosition:best :updatePosition.39:value
+  978 jump *label312 greaterThanEq :updateRowPositions4x4.3:col3 0.0784313725490196
+  979 jump *label314 lessThanEq :updateRowPositions4x4.3:col3 :findBestPosition:best
+  980 set :findDrillLocationLocal:diffX 0.5
+  981 set :findDrillLocationLocal:diffY :updateRowPositions4x4.3:dy
+  982 set :findBestPosition:best :updateRowPositions4x4.3:col3
   983 label *label314
   984 label *label315
   985 label *label312
   986 label *label313
   987 label *label311
   988 set :updatePosition.40:dx 1.5
-    * set :updatePosition.40:dy :updateRowPositions4x4.3:dy
+  989 set :updatePosition.40:dy 1.5
   990 set :updatePosition.40:value :updateRowPositions4x4.3:col4
-    * jump *label317 greaterThanEq :updatePosition.40:value 0.0784313725490196
-    * jump *label319 lessThanEq :updatePosition.40:value :findBestPosition:best
-    * set :findDrillLocationLocal:diffX :updatePosition.40:dx
-    * set :findDrillLocationLocal:diffY :updatePosition.40:dy
-    * set :findBestPosition:best :updatePosition.40:value
+  991 jump *label317 greaterThanEq :updateRowPositions4x4.3:col4 0.0784313725490196
+  992 jump *label319 lessThanEq :updateRowPositions4x4.3:col4 :findBestPosition:best
+  993 set :findDrillLocationLocal:diffX 1.5
+  994 set :findDrillLocationLocal:diffY :updateRowPositions4x4.3:dy
+  995 set :findBestPosition:best :updateRowPositions4x4.3:col4
   996 label *label319
   997 label *label320
   998 label *label317
 
  1003 label *label100
  1004 op mul *tmp173 :findBestPosition:best 255
  1005 jump *label93 always
-    * set *tmp173 null
  1006 label *label93
  1007 set :findDrillLocationLocal:score *tmp173
-    * jump *label321 lessThanEq :findDrillLocationLocal:score :findDrillLocationLocal:capacity
+ 1008 jump *label321 lessThanEq *tmp173 :findDrillLocationLocal:capacity
  1009 op add :findDrillLocationLocal:dx :findDrillLocationLocal:oreX :findDrillLocationLocal:diffX
  1010 op add :findDrillLocationLocal:dy :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
-    * set :findDrillLocationLocal:capacity :findDrillLocationLocal:score
+ 1011 set :findDrillLocationLocal:capacity *tmp173
  1012 jump *label323 greaterThanEq :findDrillLocationLocal:limit 1000
-    * set .mapSpots :findDrillLocationLocal:score
+ 1013 set .mapSpots *tmp173
  1014 label *label323
  1015 label *label324
  1016 jump *label325 lessThan :findDrillLocationLocal:capacity :findDrillLocationLocal:limit
  1017 set :saveLocation:item :findDrillLocationLocal:item
-    * set :saveLocation:value :findDrillLocationLocal:score
+ 1018 set :saveLocation:value *tmp173
  1019 set :saveLocation:x :findDrillLocationLocal:dx
  1020 set :saveLocation:y :findDrillLocationLocal:dy
  1021 op add .count .count 1
  1022 set *tmp390 .count
-    * sensor *tmp392 :saveLocation:item @id
-    * write *tmp392 bank1 *tmp390
+ 1023 sensor *tmp392 :findDrillLocationLocal:item @id
+ 1024 write *tmp392 bank1 .count
  1025 op add .count .count 1
-    * write :saveLocation:value bank1 .count
+ 1026 write :findDrillLocationLocal:score bank1 .count
  1027 op add .count .count 1
-    * write :saveLocation:x bank1 .count
+ 1028 write :findDrillLocationLocal:dx bank1 .count
  1029 op add .count .count 1
-    * write :saveLocation:y bank1 .count
+ 1030 write :findDrillLocationLocal:dy bank1 .count
  1031 op add .locations .locations 1
  1032 label *label327
  1033 ucontrol unbind
 
  1037 label *label326
  1038 label *label321
  1039 label *label322
-    * jump *label328 lessThanEq :findDrillLocationLocal:score :findDrillLocationLocal:best
+ 1040 jump *label328 lessThanEq *tmp173 :findDrillLocationLocal:best
  1041 op add :findDrillLocationLocal:bestX :findDrillLocationLocal:oreX :findDrillLocationLocal:diffX
  1042 op add :findDrillLocationLocal:bestY :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
-    * set :findDrillLocationLocal:best :findDrillLocationLocal:score
+ 1043 set :findDrillLocationLocal:best *tmp173
  1044 label *label328
  1045 label *label329
-    * jump *label330 greaterThan :findDrillLocationLocal:score :findDrillLocationLocal:last
+ 1046 jump *label330 greaterThan *tmp173 :findDrillLocationLocal:last
  1047 jump *label92 always
  1048 label *label330
  1049 label *label331
-    * set :findDrillLocationLocal:last :findDrillLocationLocal:score
+ 1050 set :findDrillLocationLocal:last *tmp173
  1051 op mul :round:x :findDrillLocationLocal:diffX 1.1
  1052 op add *tmp408 :round:x 0.5
  1053 op floor *tmp407 *tmp408
 
  1077 set :saveLocation.1:y :findDrillLocationLocal:bestY
  1078 op add .count .count 1
  1079 set *tmp423 .count
-    * sensor *tmp425 :saveLocation.1:item @id
-    * write *tmp425 bank1 *tmp423
+ 1080 sensor *tmp425 :findDrillLocationLocal:item @id
+ 1081 write *tmp425 bank1 .count
  1082 op add .count .count 1
-    * write :saveLocation.1:value bank1 .count
+ 1083 write :findDrillLocationLocal:best bank1 .count
  1084 op add .count .count 1
-    * write :saveLocation.1:x bank1 .count
+ 1085 write :findDrillLocationLocal:bestX bank1 .count
  1086 op add .count .count 1
-    * write :saveLocation.1:y bank1 .count
+ 1087 write :findDrillLocationLocal:bestY bank1 .count
  1088 op add .locations .locations 1
  1089 label *label338
  1090 label *label336
 
  1099 label *label10
  1100 set :moveTo.7:x :createTerrainMask:x
  1101 set :moveTo.7:y :createTerrainMask:y
-    * set *tmp433 :moveTo.7:x
-    * set *tmp434 :moveTo.7:y
-    * set :moveTo.8:x *tmp433
-    * set :moveTo.8:y *tmp434
+ 1102 set *tmp433 :createTerrainMask:x
+ 1103 set *tmp434 :createTerrainMask:y
+ 1104 set :moveTo.8:x :moveTo.7:x
+ 1105 set :moveTo.8:y :moveTo.7:y
  1106 set :moveTo.8:radius 6
  1107 label *label342
-    * ucontrol within :moveTo.8:x :moveTo.8:y :moveTo.8:radius *tmp435
+ 1108 ucontrol within *tmp433 *tmp434 6 *tmp435
  1109 jump *label344 notEqual *tmp435 false
-    * op sub *tmp437 :moveTo.8:radius 0.5
-    * ucontrol approach :moveTo.8:x :moveTo.8:y *tmp437
+ 1110 op sub *tmp437 6 0.5
+ 1111 ucontrol approach *tmp433 *tmp434 5.5
  1112 label *label343
  1113 jump *label342 always
  1114 label *label344
 
  1131 select :isBlocked:result equal type @air 0 1
  1132 set *tmp441 :isBlocked:result
  1133 label *label351
-    * op or :createTerrainMask:result *tmp438 *tmp441
+ 1134 op or :createTerrainMask:result *tmp438 :isBlocked:result
  1135 label *label349
  1136 op sub :createTerrainMask:c :createTerrainMask:c 1
  1137 jump *label348 always
 
  1142 label *label347
  1143 set :createTerrainMask*retval :createTerrainMask:result
  1144 jump *label339 always
-    * set :createTerrainMask*retval null
  1145 label *label339
  1146 return :createTerrainMask*retaddr
  1147 end
 
  1184 label *label355
  1185 set :findPossiblePlacement*retval -1
  1186 jump *label352 always
-    * set :findPossiblePlacement*retval null
  1187 label *label352
  1188 return :findPossiblePlacement*retaddr
  1189 end
 
  1198 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1199 set :tryPlaceGenerator:r :findPossiblePlacement:y
  1200 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label367 lessThan :tryPlaceGenerator:shift 0
-    * jump *label369 greaterThanEq :tryPlaceGenerator:shift 0
+ 1201 jump *label367 lessThan :findPossiblePlacement*retval 0
+ 1202 jump *label369 greaterThanEq :findPossiblePlacement*retval 0
  1203 set :tryPlaceGenerator*retval false
  1204 jump *label365 always
  1205 label *label369
  1206 label *label370
  1207 op add *tmp463 :tryPlaceGenerator:centerX 0.5
-    * op add .water2X *tmp463 :tryPlaceGenerator:c
+ 1208 op add .water2X *tmp463 :findPossiblePlacement:x
  1209 op add *tmp465 :tryPlaceGenerator:centerY 0.5
-    * op add .water2Y *tmp465 :tryPlaceGenerator:r
+ 1210 op add .water2Y *tmp465 :findPossiblePlacement:y
  1211 op add *tmp467 :tryPlaceGenerator:centerX 0.5
-    * op add .generatorX *tmp467 :tryPlaceGenerator:c
+ 1212 op add .generatorX *tmp463 :findPossiblePlacement:x
  1213 op add *tmp469 :tryPlaceGenerator:centerY 2.5
-    * op add .generatorY *tmp469 :tryPlaceGenerator:r
-    * op shl *tmp471 :tryPlaceGenerator:generatorVertical :tryPlaceGenerator:shift
+ 1214 op add .generatorY *tmp469 :findPossiblePlacement:y
+ 1215 op shl *tmp471 :tryPlaceGenerator:generatorVertical :findPossiblePlacement*retval
  1216 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp471
  1217 jump *label368 always
  1218 label *label367
 
  1226 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1227 set :tryPlaceGenerator:r :findPossiblePlacement:y
  1228 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label372 greaterThanEq :tryPlaceGenerator:shift 0
+ 1229 jump *label372 greaterThanEq :findPossiblePlacement*retval 0
  1230 set :tryPlaceGenerator*retval false
  1231 jump *label365 always
  1232 label *label372
  1233 label *label373
  1234 op add *tmp475 :tryPlaceGenerator:centerX 0.5
-    * op add .water2X *tmp475 :tryPlaceGenerator:c
+ 1235 op add .water2X *tmp475 :findPossiblePlacement:x
  1236 op add *tmp477 :tryPlaceGenerator:centerY 0.5
-    * op add .water2Y *tmp477 :tryPlaceGenerator:r
+ 1237 op add .water2Y *tmp477 :findPossiblePlacement:y
  1238 op add *tmp479 :tryPlaceGenerator:centerX 2.5
-    * op add .generatorX *tmp479 :tryPlaceGenerator:c
+ 1239 op add .generatorX *tmp479 :findPossiblePlacement:x
  1240 op add *tmp481 :tryPlaceGenerator:centerY 0.5
-    * op add .generatorY *tmp481 :tryPlaceGenerator:r
-    * op shl *tmp483 :tryPlaceGenerator:generatorHorizontal :tryPlaceGenerator:shift
+ 1241 op add .generatorY *tmp477 :findPossiblePlacement:y
+ 1242 op shl *tmp483 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
  1243 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp483
  1244 label *label368
  1245 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
 
  1252 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1253 set :tryPlaceGenerator:r :findPossiblePlacement:y
  1254 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label375 greaterThanEq :tryPlaceGenerator:shift 0
+ 1255 jump *label375 greaterThanEq :findPossiblePlacement*retval 0
  1256 set :tryPlaceGenerator*retval false
  1257 jump *label365 always
  1258 label *label375
  1259 label *label376
-    * op add .nodeX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * op add .nodeY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * op shl *tmp489 1 :tryPlaceGenerator:shift
+ 1260 op add .nodeX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+ 1261 op add .nodeY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+ 1262 op shl *tmp489 1 :findPossiblePlacement*retval
  1263 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp489
  1264 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
  1265 set :findPossiblePlacement:placementMask 1
 
  1271 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1272 set :tryPlaceGenerator:r :findPossiblePlacement:y
  1273 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label378 greaterThanEq :tryPlaceGenerator:shift 0
+ 1274 jump *label378 greaterThanEq :findPossiblePlacement*retval 0
  1275 set :tryPlaceGenerator*retval false
  1276 jump *label365 always
  1277 label *label378
  1278 label *label379
-    * op add .panelX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * op add .panelY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * op shl *tmp495 1 :tryPlaceGenerator:shift
+ 1279 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+ 1280 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+ 1281 op shl *tmp495 1 :findPossiblePlacement*retval
  1282 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp495
  1283 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
  1284 set :findPossiblePlacement:placementMask 1
 
  1290 set :tryPlaceGenerator:c :findPossiblePlacement:x
  1291 set :tryPlaceGenerator:r :findPossiblePlacement:y
  1292 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label381 greaterThanEq :tryPlaceGenerator:shift 0
+ 1293 jump *label381 greaterThanEq :findPossiblePlacement*retval 0
  1294 set :tryPlaceGenerator*retval false
  1295 jump *label365 always
  1296 label *label381
  1297 label *label382
-    * op add .batteryX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * op add .batteryY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * op shl *tmp501 1 :tryPlaceGenerator:shift
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp501
+ 1298 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+ 1299 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+ 1300 op shl *tmp501 1 :findPossiblePlacement*retval
  1301 set :tryPlaceGenerator*retval true
  1302 jump *label365 always
-    * set :tryPlaceGenerator*retval null
  1303 label *label365
  1304 return :tryPlaceGenerator*retaddr
  1305 end
 
  1325 set :createFixedMatrix:row4 0b0011100
  1326 set :createFixedMatrix:row5 0b0000000
  1327 set :createFixedMatrix:row6 0b0000000
-    * set *tmp504 :createFixedMatrix:row0
-    * op shl *tmp505 :createFixedMatrix:row1 7
-    * op or *tmp506 *tmp504 *tmp505
-    * op shl *tmp507 :createFixedMatrix:row2 14
-    * op or *tmp508 *tmp506 *tmp507
-    * op shl *tmp509 :createFixedMatrix:row3 21
-    * op or *tmp510 *tmp508 *tmp509
-    * op shl *tmp511 :createFixedMatrix:row4 28
-    * op or *tmp512 *tmp510 *tmp511
-    * op shl *tmp513 :createFixedMatrix:row5 35
-    * op or *tmp514 *tmp512 *tmp513
-    * op shl *tmp515 :createFixedMatrix:row6 42
-    * op or *tmp503 *tmp514 *tmp515
+ 1328 set *tmp504 0b0000000
+ 1329 op shl *tmp505 0b0000000 7
+ 1330 op or *tmp506 :createFixedMatrix:row0 0
+ 1331 op shl *tmp507 0b0011100 14
+ 1332 op or *tmp508 *tmp506 458752
+ 1333 op shl *tmp509 0b0011100 21
+ 1334 op or *tmp510 *tmp508 58720256
+ 1335 op shl *tmp511 0b0011100 28
+ 1336 op or *tmp512 *tmp510 7516192768
+ 1337 op shl *tmp513 0b0000000 35
+ 1338 op or *tmp514 *tmp512 0
+ 1339 op shl *tmp515 0b0000000 42
+ 1340 op or *tmp503 *tmp514 0
  1341 label *label385
-    * op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:plainTerrainMask *tmp503
+ 1342 op or :layoutThoriumDrillAtLocation:terrainMask :createTerrainMask*retval *tmp503
  1343 set :createFixedMatrix.1:row0 0b1000001
  1344 set :createFixedMatrix.1:row1 0b0000000
  1345 set :createFixedMatrix.1:row2 0b0011100
 
  1347 set :createFixedMatrix.1:row4 0b0011100
  1348 set :createFixedMatrix.1:row5 0b0000000
  1349 set :createFixedMatrix.1:row6 0b1000001
-    * set *tmp519 :createFixedMatrix.1:row0
-    * op shl *tmp520 :createFixedMatrix.1:row1 7
-    * op or *tmp521 *tmp519 *tmp520
-    * op shl *tmp522 :createFixedMatrix.1:row2 14
-    * op or *tmp523 *tmp521 *tmp522
-    * op shl *tmp524 :createFixedMatrix.1:row3 21
-    * op or *tmp525 *tmp523 *tmp524
-    * op shl *tmp526 :createFixedMatrix.1:row4 28
-    * op or *tmp527 *tmp525 *tmp526
-    * op shl *tmp528 :createFixedMatrix.1:row5 35
-    * op or *tmp529 *tmp527 *tmp528
-    * op shl *tmp530 :createFixedMatrix.1:row6 42
-    * op or *tmp518 *tmp529 *tmp530
+ 1350 set *tmp519 0b1000001
+ 1351 op shl *tmp520 0b0000000 7
+ 1352 op or *tmp521 :createFixedMatrix.1:row0 0
+ 1353 op shl *tmp522 0b0011100 14
+ 1354 op or *tmp523 *tmp521 458752
+ 1355 op shl *tmp524 0b0011100 21
+ 1356 op or *tmp525 *tmp523 58720256
+ 1357 op shl *tmp526 0b0011100 28
+ 1358 op or *tmp527 *tmp525 7516192768
+ 1359 op shl *tmp528 0b0000000 35
+ 1360 op or *tmp529 *tmp527 0
+ 1361 op shl *tmp530 0b1000001 42
+ 1362 op or *tmp518 *tmp529 285873023221760
  1363 label *label386
  1364 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask *tmp518
  1365 set :createFixedMatrix.2:row0 0b11
  1366 set :createFixedMatrix.2:row1 0b11
-    * set *tmp534 :createFixedMatrix.2:row0
-    * op shl *tmp535 :createFixedMatrix.2:row1 7
-    * op or *tmp533 *tmp534 *tmp535
+ 1367 set *tmp534 0b11
+ 1368 op shl *tmp535 0b11 7
+ 1369 op or *tmp533 :createFixedMatrix.2:row0 384
  1370 label *label387
  1371 set :layoutThoriumDrillAtLocation:mask2x2 *tmp533
  1372 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
-    * set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
+ 1373 set :findPossiblePlacement:placementMask *tmp533
  1374 set :findPossiblePlacement:width 2
  1375 set :findPossiblePlacement:height 2
  1376 setaddr :findPossiblePlacement*retaddr *label388 (h:*label388)
 
  1379 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
  1380 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
  1381 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * jump *label389 lessThan :layoutThoriumDrillAtLocation:shift 0
+ 1382 jump *label389 lessThan :findPossiblePlacement*retval 0
  1383 op add *tmp540 .drillX 0.5
-    * op add .water1X *tmp540 :layoutThoriumDrillAtLocation:c
+ 1384 op add .water1X *tmp540 :findPossiblePlacement:x
  1385 op add *tmp542 .drillY 0.5
-    * op add .water1Y *tmp542 :layoutThoriumDrillAtLocation:r
-    * op shl *tmp544 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
+ 1386 op add .water1Y *tmp542 :findPossiblePlacement:y
+ 1387 op shl *tmp544 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
  1388 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp544
-    * op shl *tmp545 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
-    * op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp545
+ 1389 op shl *tmp545 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
+ 1390 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp544
  1391 label *label389
  1392 label *label390
  1393 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
 
  1400 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
  1401 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
  1402 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * jump *label392 lessThan :layoutThoriumDrillAtLocation:shift 0
+ 1403 jump *label392 lessThan :findPossiblePlacement*retval 0
  1404 op add *tmp549 .drillX 0.5
-    * op add .containerX *tmp549 :layoutThoriumDrillAtLocation:c
+ 1405 op add .containerX *tmp549 :findPossiblePlacement:x
  1406 op add *tmp551 .drillY 0.5
-    * op add .containerY *tmp551 :layoutThoriumDrillAtLocation:r
-    * op shl *tmp553 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
+ 1407 op add .containerY *tmp551 :findPossiblePlacement:y
+ 1408 op shl *tmp553 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
  1409 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp553
  1410 label *label392
  1411 label *label393
  1412 set :createFixedMatrix.3:row0 0b1111
  1413 set :createFixedMatrix.3:row1 0b1111
-    * set *tmp555 :createFixedMatrix.3:row0
-    * op shl *tmp556 :createFixedMatrix.3:row1 7
-    * op or *tmp554 *tmp555 *tmp556
+ 1414 set *tmp555 0b1111
+ 1415 op shl *tmp556 0b1111 7
+ 1416 op or *tmp554 :createFixedMatrix.3:row0 1920
  1417 label *label394
  1418 set :layoutThoriumDrillAtLocation:generatorHorizontal *tmp554
  1419 set :createFixedMatrix.4:row0 0b11
  1420 set :createFixedMatrix.4:row1 0b11
  1421 set :createFixedMatrix.4:row2 0b11
  1422 set :createFixedMatrix.4:row3 0b11
-    * set *tmp559 :createFixedMatrix.4:row0
-    * op shl *tmp560 :createFixedMatrix.4:row1 7
-    * op or *tmp561 *tmp559 *tmp560
-    * op shl *tmp562 :createFixedMatrix.4:row2 14
-    * op or *tmp563 *tmp561 *tmp562
-    * op shl *tmp564 :createFixedMatrix.4:row3 21
-    * op or *tmp558 *tmp563 *tmp564
+ 1423 set *tmp559 0b11
+ 1424 op shl *tmp560 0b11 7
+ 1425 op or *tmp561 :createFixedMatrix.4:row0 384
+ 1426 op shl *tmp562 0b11 14
+ 1427 op or *tmp563 *tmp561 49152
+ 1428 op shl *tmp564 0b11 21
+ 1429 op or *tmp558 *tmp563 6291456
  1430 label *label395
  1431 set :layoutThoriumDrillAtLocation:generatorVertical *tmp558
  1432 set :tryPlaceGenerator:centerX .drillX
  1433 set :tryPlaceGenerator:centerY .drillY
  1434 set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:terrainMask
-    * set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDrillAtLocation:generatorHorizontal
-    * set :tryPlaceGenerator:generatorVertical :layoutThoriumDrillAtLocation:generatorVertical
+ 1435 set :tryPlaceGenerator:generatorHorizontal *tmp554
+ 1436 set :tryPlaceGenerator:generatorVertical *tmp558
  1437 setaddr :tryPlaceGenerator*retaddr *label396 (h:*label396)
  1438 call *label12 *invalid :tryPlaceGenerator*retval (m:*label396) (h:*label396)
  1439 label *label396
 
  1472 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
  1473 set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
  1474 set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
-    * op abs *tmp573 :shiftMask:shiftX
+ 1475 op abs *tmp573 :layoutThoriumDrillAtLocation:sx
  1476 op greaterThan *tmp574 *tmp573 6
-    * op abs *tmp575 :shiftMask:shiftY
+ 1477 op abs *tmp575 :layoutThoriumDrillAtLocation:sy
  1478 op greaterThan *tmp576 *tmp575 6
  1479 op or *tmp577 *tmp574 *tmp576
  1480 jump *label408 equal *tmp577 false
 
  1482 jump *label407 always
  1483 label *label408
  1484 label *label409
-    * op mul *tmp579 7 :shiftMask:shiftY
-    * op add :shiftMask:shift :shiftMask:shiftX *tmp579
+ 1485 op mul *tmp579 7 :layoutThoriumDrillAtLocation:sy
+ 1486 op add :shiftMask:shift :layoutThoriumDrillAtLocation:sx *tmp579
  1487 jump *label410 lessThanEq :shiftMask:shift 0
  1488 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
-    * op and *tmp584 :shiftMask:mask :shiftMask:clearMask
+ 1489 op and *tmp584 :layoutThoriumDrillAtLocation:terrainMask :shiftMask:clearMask
  1490 op shl :shiftMask:mask *tmp584 :shiftMask:shift
  1491 jump *label411 always
  1492 label *label410
  1493 op sub *tmp586 0 :shiftMask:shift
-    * op shr :shiftMask:mask :shiftMask:mask *tmp586
+ 1494 op shr :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask *tmp586
  1495 label *label411
-    * jump *label412 equal :shiftMask:shiftX 0
-    * op abs *tmp589 :shiftMask:shiftX
-    * op sub *tmp590 7 *tmp589
+ 1496 jump *label412 equal :layoutThoriumDrillAtLocation:sx 0
+ 1497 op abs *tmp589 :layoutThoriumDrillAtLocation:sx
+ 1498 op sub *tmp590 7 *tmp573
  1499 op shr :shiftMask:keep 0b1111111 *tmp590
-    * jump *label414 lessThanEq :shiftMask:shiftX 0
-    * op abs *tmp594 :shiftMask:shiftX
-    * op sub *tmp595 7 *tmp594
-    * op shl :shiftMask:keep :shiftMask:keep *tmp595
+ 1500 jump *label414 lessThanEq :layoutThoriumDrillAtLocation:sx 0
+ 1501 op abs *tmp594 :layoutThoriumDrillAtLocation:sx
+ 1502 op sub *tmp595 7 *tmp573
+ 1503 op shl :shiftMask:keep :shiftMask:keep *tmp590
  1504 label *label414
  1505 label *label415
  1506 op shl *tmp596 :shiftMask:keep 7
 
  1514 label *label413
  1515 set *tmp572 :shiftMask:mask
  1516 jump *label407 always
-    * set *tmp572 null
  1517 label *label407
  1518 set :layoutThoriumDrillAtLocation:shiftedMask *tmp572
-    * op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :layoutThoriumDrillAtLocation:shiftedMask
+ 1519 op or :layoutThoriumDrillAtLocation:combinedMask :createTerrainMask*retval *tmp572
  1520 op sub *tmp600 .drillX :layoutThoriumDrillAtLocation:sx
  1521 op sub *tmp601 .drillY :layoutThoriumDrillAtLocation:sy
  1522 set :tryPlaceGenerator:centerX *tmp600
 
  1538 label *label401
  1539 set :layoutThoriumDrillAtLocation*retval true
  1540 jump *label383 always
-    * set :layoutThoriumDrillAtLocation*retval null
  1541 label *label383
  1542 return :layoutThoriumDrillAtLocation*retaddr
  1543 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-253 instructions):
 
    20 select :spotValue:result notEqual solid false 0.09803921568627451 value
    21 set *tmp1 :spotValue:result
    22 label *label17
-    * set :computeRowValues:x1 :spotValue:result
    23 op sub :spotValue.1:x :computeRowValues:x 1
    24 set :spotValue.1:y :computeRowValues:y
    25 set :spotValue.1:ore :computeRowValues:ore
 
    29 select :spotValue.1:result notEqual solid false 0.09803921568627451 value
    30 set *tmp3 :spotValue.1:result
    31 label *label18
-    * set :computeRowValues:x2 :spotValue.1:result
    32 set :spotValue.2:x :computeRowValues:x
    33 set :spotValue.2:y :computeRowValues:y
    34 set :spotValue.2:ore :computeRowValues:ore
 
    38 select :spotValue.2:result notEqual solid false 0.09803921568627451 value
    39 set *tmp5 :spotValue.2:result
    40 label *label19
-    * set :computeRowValues:x3 :spotValue.2:result
    41 op add :spotValue.3:x :computeRowValues:x 1
    42 set :spotValue.3:y :computeRowValues:y
    43 set :spotValue.3:ore :computeRowValues:ore
 
    47 select :spotValue.3:result notEqual solid false 0.09803921568627451 value
    48 set *tmp7 :spotValue.3:result
    49 label *label20
-    * set :computeRowValues:x4 :spotValue.3:result
    50 op add :spotValue.4:x :computeRowValues:x 2
    51 set :spotValue.4:y :computeRowValues:y
    52 set :spotValue.4:ore :computeRowValues:ore
 
    56 select :spotValue.4:result notEqual solid false 0.09803921568627451 value
    57 set *tmp9 :spotValue.4:result
    58 label *label21
-    * set :computeRowValues:x5 :spotValue.4:result
    59 jump *label22 notEqual :computeRowValues:size 2
-    * op add *tmp12 *tmp1 *tmp3
-    * op add *tmp13 *tmp3 *tmp5
-    * op add *tmp14 *tmp5 *tmp7
-    * op add *tmp15 *tmp7 *tmp9
+   60 op add *tmp12 :spotValue:result :spotValue.1:result
+   61 op add *tmp13 :spotValue.1:result :spotValue.2:result
+   62 op add *tmp14 :spotValue.2:result :spotValue.3:result
+   63 op add *tmp15 :spotValue.3:result :spotValue.4:result
    64 packcolor :computeRowValues*retval *tmp12 *tmp13 *tmp14 *tmp15
    65 jump *label16 always
    66 jump *label23 always
    67 label *label22
    68 jump *label24 notEqual :computeRowValues:size 3
-    * op add *tmp19 *tmp3 *tmp5
-    * op add *tmp20 *tmp1 *tmp19
-    * op add *tmp21 *tmp3 *tmp5
-    * op add *tmp22 *tmp19 *tmp7
-    * op add *tmp23 *tmp5 *tmp7
-    * op add *tmp24 *tmp23 *tmp9
+   69 op add *tmp19 :spotValue.1:result :spotValue.2:result
+   70 op add *tmp20 :spotValue:result *tmp19
+   71 op add *tmp21 :spotValue.1:result :spotValue.2:result
+   72 op add *tmp22 *tmp19 :spotValue.3:result
+   73 op add *tmp23 :spotValue.2:result :spotValue.3:result
+   74 op add *tmp24 *tmp23 :spotValue.4:result
    75 packcolor :computeRowValues*retval *tmp20 *tmp22 *tmp24 0
    76 jump *label16 always
    77 jump *label25 always
 
    85 select :spotValue.5:result notEqual solid false 0.09803921568627451 value
    86 set *tmp27 :spotValue.5:result
    87 label *label26
-    * set :computeRowValues:x0 :spotValue.5:result
    88 op add :spotValue.6:x :computeRowValues:x 3
    89 set :spotValue.6:y :computeRowValues:y
    90 set :spotValue.6:ore :computeRowValues:ore
 
    94 select :spotValue.6:result notEqual solid false 0.09803921568627451 value
    95 set *tmp29 :spotValue.6:result
    96 label *label27
-    * set :computeRowValues:x6 :spotValue.6:result
-    * op add *tmp30 *tmp1 *tmp3
-    * op add *tmp31 *tmp30 *tmp5
-    * op add *tmp32 *tmp27 *tmp31
+   97 op add *tmp30 :spotValue:result :spotValue.1:result
+   98 op add *tmp31 *tmp30 :spotValue.2:result
+   99 op add *tmp32 :spotValue.5:result *tmp31
   100 op min *tmp33 0.09803921568627451 *tmp32
-    * op add *tmp34 *tmp1 *tmp3
-    * op add *tmp35 *tmp30 *tmp5
-    * op add *tmp36 *tmp31 *tmp7
+  101 op add *tmp34 :spotValue:result :spotValue.1:result
+  102 op add *tmp35 *tmp30 :spotValue.2:result
+  103 op add *tmp36 *tmp31 :spotValue.3:result
   104 op min *tmp37 0.09803921568627451 *tmp36
-    * op add *tmp38 *tmp5 *tmp7
-    * op add *tmp39 *tmp38 *tmp9
-    * op add *tmp40 *tmp3 *tmp39
+  105 op add *tmp38 :spotValue.2:result :spotValue.3:result
+  106 op add *tmp39 *tmp38 :spotValue.4:result
+  107 op add *tmp40 :spotValue.1:result *tmp39
   108 op min *tmp41 0.09803921568627451 *tmp40
-    * op add *tmp42 *tmp5 *tmp7
-    * op add *tmp43 *tmp38 *tmp9
-    * op add *tmp44 *tmp39 *tmp29
+  109 op add *tmp42 :spotValue.2:result :spotValue.3:result
+  110 op add *tmp43 *tmp38 :spotValue.4:result
+  111 op add *tmp44 *tmp39 :spotValue.6:result
   112 op min *tmp45 0.09803921568627451 *tmp44
   113 packcolor :computeRowValues*retval *tmp33 *tmp37 *tmp41 *tmp45
   114 jump *label16 always
   115 label *label25
-    * set *tmp11 null
   116 label *label23
-    * set :computeRowValues*retval null
   117 label *label16
   118 return :computeRowValues*retaddr
   119 end
 
   137 set .mapProgress 0
   138 set :moveTo.2:x :findDrillLocationLocal:x
   139 set :moveTo.2:y :findDrillLocationLocal:y
-    * set *tmp86 .coreX
-    * set *tmp87 .coreY
-    * set :moveTo.3:x :moveTo.2:x
-    * set :moveTo.3:y :moveTo.2:y
-    * set :moveTo.3:radius 6
+  140 set *tmp86 :findDrillLocationLocal:x
+  141 set *tmp87 :findDrillLocationLocal:y
+  142 set :moveTo.3:x :findDrillLocationLocal:x
+  143 set :moveTo.3:y :findDrillLocationLocal:y
   144 label *label47
-    * ucontrol within *tmp86 *tmp87 6 *tmp88
+  145 ucontrol within .coreX .coreY 6 *tmp88
   146 jump *label49 notEqual *tmp88 false
-    * op sub *tmp90 6 0.5
-    * ucontrol approach *tmp86 *tmp87 5.5
+  147 ucontrol approach .coreX .coreY 5.5
   148 label *label48
   149 jump *label47 always
   150 label *label49
 
   163 op min :findDrillLocationLocal:distanceLimit :findDrillLocationLocal:distanceLimit :findDrillLocationLocal:maxDistance
   164 op div *tmp96 :findDrillLocationLocal:distanceLimit 3.8197185279121366
   165 op pow .mapTotal *tmp96 2
-    * set :locateOreAway:ore :findDrillLocationLocal:item
   166 set :locateOreAway:x :findDrillLocationLocal:oreX
   167 set :locateOreAway:y :findDrillLocationLocal:oreY
-    * set :locateOreAway:distanceLimit :findDrillLocationLocal:distanceLimit
   168 op mul :locateOreAway:distance 3.8197185279121366 .angle
   169 set :locateOreAway:lastX -1
   170 set :locateOreAway:lastY -1
 
   177 op mul *tmp105 *tmp104 :locateOreAway:distance
   178 op add *tmp106 .coreX *tmp105
   179 op sub *tmp107 @mapw 5
-    * set :limit:value *tmp106
-    * set :limit:low 5
-    * set :limit:high *tmp107
   180 op max *tmp109 *tmp106 5
   181 op min *tmp108 *tmp109 *tmp107
   182 label *label57
 
   185 op mul *tmp112 *tmp111 :locateOreAway:distance
   186 op add *tmp113 .coreY *tmp112
   187 op sub *tmp114 @maph 5
-    * set :limit.1:value *tmp113
-    * set :limit.1:low 5
-    * set :limit.1:high *tmp114
   188 op max *tmp116 *tmp113 5
   189 op min *tmp115 *tmp116 *tmp114
   190 label *label58
   191 set :locateOreAway:ly *tmp115
-    * set :moveTo.4:x *tmp108
-    * set :moveTo.4:y *tmp115
-    * set :moveTo.4:radius 5
   192 label *label60
-    * ucontrol within :locateOreAway:lx :locateOreAway:ly 5 *tmp118
+  193 ucontrol within *tmp108 *tmp115 5 *tmp118
   194 jump *label62 notEqual *tmp118 false
-    * op sub *tmp120 5 0.5
-    * ucontrol approach :locateOreAway:lx :locateOreAway:ly 4.5
+  195 ucontrol approach *tmp108 *tmp115 4.5
   196 label *label61
   197 jump *label60 always
   198 label *label62
 
   226 jump *label71 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
   227 set :locateOreAway:lastX :locateOreAway:x
   228 set :locateOreAway:lastY :locateOreAway:y
-    * set :visited:x :locateOreAway:x
-    * set :visited:y :locateOreAway:y
   229 set *tmp145 .locations
   230 set :visited:i .locationsStart
   231 label *label74
 
   282 label *label84
   283 set :moveTo.5:x :locateOreAway:x
   284 set :moveTo.5:y :locateOreAway:y
-    * set *tmp168 :findDrillLocationLocal:oreX
-    * set *tmp169 :findDrillLocationLocal:oreY
-    * set :moveTo.6:x :moveTo.5:x
-    * set :moveTo.6:y :moveTo.5:y
-    * set :moveTo.6:radius 6
+  285 set *tmp168 :locateOreAway:x
+  286 set *tmp169 :locateOreAway:y
+  287 set :moveTo.6:x :locateOreAway:x
+  288 set :moveTo.6:y :locateOreAway:y
   289 label *label87
-    * ucontrol within *tmp168 *tmp169 6 *tmp170
+  290 ucontrol within :findDrillLocationLocal:oreX :findDrillLocationLocal:oreY 6 *tmp170
   291 jump *label89 notEqual *tmp170 false
-    * op sub *tmp172 6 0.5
-    * ucontrol approach *tmp168 *tmp169 5.5
+  292 ucontrol approach :findDrillLocationLocal:oreX :findDrillLocationLocal:oreY 5.5
   293 label *label88
   294 jump *label87 always
   295 label *label89
 
   319 call *label6 *invalid :computeRowValues*retval (m:*label95) (h:*label95)
   320 label *label95
   321 set :findBestPosition:y2 :computeRowValues*retval
-    * set *tmp178 :findBestPosition:y
   322 set :computeRowValues:x :findBestPosition:x
   323 set :computeRowValues:y :findBestPosition:y
   324 set :computeRowValues:ore :findBestPosition:ore
 
   354 op add :findBestPosition:row3 :findBestPosition:y3 :findBestPosition:y4
   355 op add :findBestPosition:row4 :findBestPosition:y4 :computeRowValues*retval
   356 set :updateRowPositions2x2:dy -1.5
-    * set :updateRowPositions2x2:rowSum :findBestPosition:row1
   357 unpackcolor :updateRowPositions2x2:col1 :updateRowPositions2x2:col2 :updateRowPositions2x2:col3 :updateRowPositions2x2:col4 :findBestPosition:row1
-    * set :updatePosition:dx -1.5
-    * set :updatePosition:dy -1.5
-    * set :updatePosition:value :updateRowPositions2x2:col1
   358 jump *label103 greaterThanEq :updateRowPositions2x2:col1 0.0784313725490196
   359 jump *label105 lessThanEq :updateRowPositions2x2:col1 0
   360 set :findDrillLocationLocal:diffX -1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2:dy
+  361 set :findDrillLocationLocal:diffY -1.5
   362 set :findBestPosition:best :updateRowPositions2x2:col1
   363 label *label105
   364 label *label106
   365 label *label103
   366 label *label104
   367 label *label102
-    * set :updatePosition.1:dx -0.5
-    * set :updatePosition.1:dy -1.5
-    * set :updatePosition.1:value :updateRowPositions2x2:col2
   368 jump *label108 greaterThanEq :updateRowPositions2x2:col2 0.0784313725490196
   369 jump *label110 lessThanEq :updateRowPositions2x2:col2 :findBestPosition:best
   370 set :findDrillLocationLocal:diffX -0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2:dy
+  371 set :findDrillLocationLocal:diffY -1.5
   372 set :findBestPosition:best :updateRowPositions2x2:col2
   373 label *label110
   374 label *label111
   375 label *label108
   376 label *label109
   377 label *label107
-    * set :updatePosition.2:dx 0.5
-    * set :updatePosition.2:dy -1.5
-    * set :updatePosition.2:value :updateRowPositions2x2:col3
   378 jump *label113 greaterThanEq :updateRowPositions2x2:col3 0.0784313725490196
   379 jump *label115 lessThanEq :updateRowPositions2x2:col3 :findBestPosition:best
   380 set :findDrillLocationLocal:diffX 0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2:dy
+  381 set :findDrillLocationLocal:diffY -1.5
   382 set :findBestPosition:best :updateRowPositions2x2:col3
   383 label *label115
   384 label *label116
   385 label *label113
   386 label *label114
   387 label *label112
-    * set :updatePosition.3:dx 1.5
-    * set :updatePosition.3:dy -1.5
-    * set :updatePosition.3:value :updateRowPositions2x2:col4
   388 jump *label118 greaterThanEq :updateRowPositions2x2:col4 0.0784313725490196
   389 jump *label120 lessThanEq :updateRowPositions2x2:col4 :findBestPosition:best
   390 set :findDrillLocationLocal:diffX 1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2:dy
+  391 set :findDrillLocationLocal:diffY -1.5
   392 set :findBestPosition:best :updateRowPositions2x2:col4
   393 label *label120
   394 label *label121
 
   397 label *label117
   398 label *label101
   399 set :updateRowPositions2x2.1:dy -0.5
-    * set :updateRowPositions2x2.1:rowSum :findBestPosition:row2
   400 unpackcolor :updateRowPositions2x2.1:col1 :updateRowPositions2x2.1:col2 :updateRowPositions2x2.1:col3 :updateRowPositions2x2.1:col4 :findBestPosition:row2
-    * set :updatePosition.4:dx -1.5
-    * set :updatePosition.4:dy -0.5
-    * set :updatePosition.4:value :updateRowPositions2x2.1:col1
   401 jump *label124 greaterThanEq :updateRowPositions2x2.1:col1 0.0784313725490196
   402 jump *label126 lessThanEq :updateRowPositions2x2.1:col1 :findBestPosition:best
   403 set :findDrillLocationLocal:diffX -1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2.1:dy
+  404 set :findDrillLocationLocal:diffY -0.5
   405 set :findBestPosition:best :updateRowPositions2x2.1:col1
   406 label *label126
   407 label *label127
   408 label *label124
   409 label *label125
   410 label *label123
-    * set :updatePosition.5:dx -0.5
-    * set :updatePosition.5:dy -0.5
-    * set :updatePosition.5:value :updateRowPositions2x2.1:col2
   411 jump *label129 greaterThanEq :updateRowPositions2x2.1:col2 0.0784313725490196
   412 jump *label131 lessThanEq :updateRowPositions2x2.1:col2 :findBestPosition:best
   413 set :findDrillLocationLocal:diffX -0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2.1:dy
+  414 set :findDrillLocationLocal:diffY -0.5
   415 set :findBestPosition:best :updateRowPositions2x2.1:col2
   416 label *label131
   417 label *label132
   418 label *label129
   419 label *label130
   420 label *label128
-    * set :updatePosition.6:dx 0.5
-    * set :updatePosition.6:dy -0.5
-    * set :updatePosition.6:value :updateRowPositions2x2.1:col3
   421 jump *label134 greaterThanEq :updateRowPositions2x2.1:col3 0.0784313725490196
   422 jump *label136 lessThanEq :updateRowPositions2x2.1:col3 :findBestPosition:best
   423 set :findDrillLocationLocal:diffX 0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2.1:dy
+  424 set :findDrillLocationLocal:diffY -0.5
   425 set :findBestPosition:best :updateRowPositions2x2.1:col3
   426 label *label136
   427 label *label137
   428 label *label134
   429 label *label135
   430 label *label133
-    * set :updatePosition.7:dx 1.5
-    * set :updatePosition.7:dy -0.5
-    * set :updatePosition.7:value :updateRowPositions2x2.1:col4
   431 jump *label139 greaterThanEq :updateRowPositions2x2.1:col4 0.0784313725490196
   432 jump *label141 lessThanEq :updateRowPositions2x2.1:col4 :findBestPosition:best
   433 set :findDrillLocationLocal:diffX 1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2.1:dy
+  434 set :findDrillLocationLocal:diffY -0.5
   435 set :findBestPosition:best :updateRowPositions2x2.1:col4
   436 label *label141
   437 label *label142
 
   440 label *label138
   441 label *label122
   442 set :updateRowPositions2x2.2:dy 0.5
-    * set :updateRowPositions2x2.2:rowSum :findBestPosition:row3
   443 unpackcolor :updateRowPositions2x2.2:col1 :updateRowPositions2x2.2:col2 :updateRowPositions2x2.2:col3 :updateRowPositions2x2.2:col4 :findBestPosition:row3
-    * set :updatePosition.8:dx -1.5
-    * set :updatePosition.8:dy 0.5
-    * set :updatePosition.8:value :updateRowPositions2x2.2:col1
   444 jump *label145 greaterThanEq :updateRowPositions2x2.2:col1 0.0784313725490196
   445 jump *label147 lessThanEq :updateRowPositions2x2.2:col1 :findBestPosition:best
   446 set :findDrillLocationLocal:diffX -1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2.2:dy
+  447 set :findDrillLocationLocal:diffY 0.5
   448 set :findBestPosition:best :updateRowPositions2x2.2:col1
   449 label *label147
   450 label *label148
   451 label *label145
   452 label *label146
   453 label *label144
-    * set :updatePosition.9:dx -0.5
-    * set :updatePosition.9:dy 0.5
-    * set :updatePosition.9:value :updateRowPositions2x2.2:col2
   454 jump *label150 greaterThanEq :updateRowPositions2x2.2:col2 0.0784313725490196
   455 jump *label152 lessThanEq :updateRowPositions2x2.2:col2 :findBestPosition:best
   456 set :findDrillLocationLocal:diffX -0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2.2:dy
+  457 set :findDrillLocationLocal:diffY 0.5
   458 set :findBestPosition:best :updateRowPositions2x2.2:col2
   459 label *label152
   460 label *label153
   461 label *label150
   462 label *label151
   463 label *label149
-    * set :updatePosition.10:dx 0.5
-    * set :updatePosition.10:dy 0.5
-    * set :updatePosition.10:value :updateRowPositions2x2.2:col3
   464 jump *label155 greaterThanEq :updateRowPositions2x2.2:col3 0.0784313725490196
   465 jump *label157 lessThanEq :updateRowPositions2x2.2:col3 :findBestPosition:best
   466 set :findDrillLocationLocal:diffX 0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2.2:dy
+  467 set :findDrillLocationLocal:diffY 0.5
   468 set :findBestPosition:best :updateRowPositions2x2.2:col3
   469 label *label157
   470 label *label158
   471 label *label155
   472 label *label156
   473 label *label154
-    * set :updatePosition.11:dx 1.5
-    * set :updatePosition.11:dy 0.5
-    * set :updatePosition.11:value :updateRowPositions2x2.2:col4
   474 jump *label160 greaterThanEq :updateRowPositions2x2.2:col4 0.0784313725490196
   475 jump *label162 lessThanEq :updateRowPositions2x2.2:col4 :findBestPosition:best
   476 set :findDrillLocationLocal:diffX 1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2.2:dy
+  477 set :findDrillLocationLocal:diffY 0.5
   478 set :findBestPosition:best :updateRowPositions2x2.2:col4
   479 label *label162
   480 label *label163
 
   483 label *label159
   484 label *label143
   485 set :updateRowPositions2x2.3:dy 1.5
-    * set :updateRowPositions2x2.3:rowSum :findBestPosition:row4
   486 unpackcolor :updateRowPositions2x2.3:col1 :updateRowPositions2x2.3:col2 :updateRowPositions2x2.3:col3 :updateRowPositions2x2.3:col4 :findBestPosition:row4
-    * set :updatePosition.12:dx -1.5
-    * set :updatePosition.12:dy 1.5
-    * set :updatePosition.12:value :updateRowPositions2x2.3:col1
   487 jump *label166 greaterThanEq :updateRowPositions2x2.3:col1 0.0784313725490196
   488 jump *label168 lessThanEq :updateRowPositions2x2.3:col1 :findBestPosition:best
   489 set :findDrillLocationLocal:diffX -1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2.3:dy
+  490 set :findDrillLocationLocal:diffY 1.5
   491 set :findBestPosition:best :updateRowPositions2x2.3:col1
   492 label *label168
   493 label *label169
   494 label *label166
   495 label *label167
   496 label *label165
-    * set :updatePosition.13:dx -0.5
-    * set :updatePosition.13:dy 1.5
-    * set :updatePosition.13:value :updateRowPositions2x2.3:col2
   497 jump *label171 greaterThanEq :updateRowPositions2x2.3:col2 0.0784313725490196
   498 jump *label173 lessThanEq :updateRowPositions2x2.3:col2 :findBestPosition:best
   499 set :findDrillLocationLocal:diffX -0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2.3:dy
+  500 set :findDrillLocationLocal:diffY 1.5
   501 set :findBestPosition:best :updateRowPositions2x2.3:col2
   502 label *label173
   503 label *label174
   504 label *label171
   505 label *label172
   506 label *label170
-    * set :updatePosition.14:dx 0.5
-    * set :updatePosition.14:dy 1.5
-    * set :updatePosition.14:value :updateRowPositions2x2.3:col3
   507 jump *label176 greaterThanEq :updateRowPositions2x2.3:col3 0.0784313725490196
   508 jump *label178 lessThanEq :updateRowPositions2x2.3:col3 :findBestPosition:best
   509 set :findDrillLocationLocal:diffX 0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2.3:dy
+  510 set :findDrillLocationLocal:diffY 1.5
   511 set :findBestPosition:best :updateRowPositions2x2.3:col3
   512 label *label178
   513 label *label179
   514 label *label176
   515 label *label177
   516 label *label175
-    * set :updatePosition.15:dx 1.5
-    * set :updatePosition.15:dy 1.5
-    * set :updatePosition.15:value :updateRowPositions2x2.3:col4
   517 jump *label181 greaterThanEq :updateRowPositions2x2.3:col4 0.0784313725490196
   518 jump *label183 lessThanEq :updateRowPositions2x2.3:col4 :findBestPosition:best
   519 set :findDrillLocationLocal:diffX 1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions2x2.3:dy
+  520 set :findDrillLocationLocal:diffY 1.5
   521 set :findBestPosition:best :updateRowPositions2x2.3:col4
   522 label *label183
   523 label *label184
 
   530 jump *label185 notEqual :findBestPosition:size 3
   531 op add *tmp256 :findBestPosition:y2 :findBestPosition:y3
   532 op add :findBestPosition:row1.1 :findBestPosition:y1 *tmp256
-    * op add *tmp258 :findBestPosition:y2 :findBestPosition:y3
   533 op add :findBestPosition:row2.1 *tmp256 :findBestPosition:y4
   534 op add *tmp260 :findBestPosition:y3 :findBestPosition:y4
   535 op add :findBestPosition:row3.1 *tmp260 :computeRowValues*retval
   536 set :updateRowPositions3x3:dy -1
-    * set :updateRowPositions3x3:rowSum :findBestPosition:row1.1
   537 unpackcolor :updateRowPositions3x3:col1 :updateRowPositions3x3:col2 :updateRowPositions3x3:col3 0 :findBestPosition:row1.1
-    * set :updatePosition.16:dx -1
-    * set :updatePosition.16:dy -1
-    * set :updatePosition.16:value :updateRowPositions3x3:col1
   538 jump *label189 greaterThanEq :updateRowPositions3x3:col1 0.0784313725490196
   539 jump *label191 lessThanEq :updateRowPositions3x3:col1 0
   540 set :findDrillLocationLocal:diffX -1
-    * set :findDrillLocationLocal:diffY :updateRowPositions3x3:dy
+  541 set :findDrillLocationLocal:diffY -1
   542 set :findBestPosition:best :updateRowPositions3x3:col1
   543 label *label191
   544 label *label192
   545 label *label189
   546 label *label190
   547 label *label188
-    * set :updatePosition.17:dx 0
-    * set :updatePosition.17:dy -1
-    * set :updatePosition.17:value :updateRowPositions3x3:col2
   548 jump *label194 greaterThanEq :updateRowPositions3x3:col2 0.0784313725490196
   549 jump *label196 lessThanEq :updateRowPositions3x3:col2 :findBestPosition:best
   550 set :findDrillLocationLocal:diffX 0
-    * set :findDrillLocationLocal:diffY :updateRowPositions3x3:dy
+  551 set :findDrillLocationLocal:diffY -1
   552 set :findBestPosition:best :updateRowPositions3x3:col2
   553 label *label196
   554 label *label197
   555 label *label194
   556 label *label195
   557 label *label193
-    * set :updatePosition.18:dx 1
-    * set :updatePosition.18:dy -1
-    * set :updatePosition.18:value :updateRowPositions3x3:col3
   558 jump *label199 greaterThanEq :updateRowPositions3x3:col3 0.0784313725490196
   559 jump *label201 lessThanEq :updateRowPositions3x3:col3 :findBestPosition:best
   560 set :findDrillLocationLocal:diffX 1
-    * set :findDrillLocationLocal:diffY :updateRowPositions3x3:dy
+  561 set :findDrillLocationLocal:diffY -1
   562 set :findBestPosition:best :updateRowPositions3x3:col3
   563 label *label201
   564 label *label202
 
   567 label *label198
   568 label *label187
   569 set :updateRowPositions3x3.1:dy 0
-    * set :updateRowPositions3x3.1:rowSum :findBestPosition:row2.1
   570 unpackcolor :updateRowPositions3x3.1:col1 :updateRowPositions3x3.1:col2 :updateRowPositions3x3.1:col3 0 :findBestPosition:row2.1
-    * set :updatePosition.19:dx -1
-    * set :updatePosition.19:dy 0
-    * set :updatePosition.19:value :updateRowPositions3x3.1:col1
   571 jump *label205 greaterThanEq :updateRowPositions3x3.1:col1 0.0784313725490196
   572 jump *label207 lessThanEq :updateRowPositions3x3.1:col1 :findBestPosition:best
   573 set :findDrillLocationLocal:diffX -1
-    * set :findDrillLocationLocal:diffY :updateRowPositions3x3.1:dy
+  574 set :findDrillLocationLocal:diffY 0
   575 set :findBestPosition:best :updateRowPositions3x3.1:col1
   576 label *label207
   577 label *label208
   578 label *label205
   579 label *label206
   580 label *label204
-    * set :updatePosition.20:dx 0
-    * set :updatePosition.20:dy 0
-    * set :updatePosition.20:value :updateRowPositions3x3.1:col2
   581 jump *label210 greaterThanEq :updateRowPositions3x3.1:col2 0.0784313725490196
   582 jump *label212 lessThanEq :updateRowPositions3x3.1:col2 :findBestPosition:best
   583 set :findDrillLocationLocal:diffX 0
-    * set :findDrillLocationLocal:diffY :updateRowPositions3x3.1:dy
+  584 set :findDrillLocationLocal:diffY 0
   585 set :findBestPosition:best :updateRowPositions3x3.1:col2
   586 label *label212
   587 label *label213
   588 label *label210
   589 label *label211
   590 label *label209
-    * set :updatePosition.21:dx 1
-    * set :updatePosition.21:dy 0
-    * set :updatePosition.21:value :updateRowPositions3x3.1:col3
   591 jump *label215 greaterThanEq :updateRowPositions3x3.1:col3 0.0784313725490196
   592 jump *label217 lessThanEq :updateRowPositions3x3.1:col3 :findBestPosition:best
   593 set :findDrillLocationLocal:diffX 1
-    * set :findDrillLocationLocal:diffY :updateRowPositions3x3.1:dy
+  594 set :findDrillLocationLocal:diffY 0
   595 set :findBestPosition:best :updateRowPositions3x3.1:col3
   596 label *label217
   597 label *label218
 
   600 label *label214
   601 label *label203
   602 set :updateRowPositions3x3.2:dy 1
-    * set :updateRowPositions3x3.2:rowSum :findBestPosition:row3.1
   603 unpackcolor :updateRowPositions3x3.2:col1 :updateRowPositions3x3.2:col2 :updateRowPositions3x3.2:col3 0 :findBestPosition:row3.1
-    * set :updatePosition.22:dx -1
-    * set :updatePosition.22:dy 1
-    * set :updatePosition.22:value :updateRowPositions3x3.2:col1
   604 jump *label221 greaterThanEq :updateRowPositions3x3.2:col1 0.0784313725490196
   605 jump *label223 lessThanEq :updateRowPositions3x3.2:col1 :findBestPosition:best
   606 set :findDrillLocationLocal:diffX -1
-    * set :findDrillLocationLocal:diffY :updateRowPositions3x3.2:dy
+  607 set :findDrillLocationLocal:diffY 1
   608 set :findBestPosition:best :updateRowPositions3x3.2:col1
   609 label *label223
   610 label *label224
   611 label *label221
   612 label *label222
   613 label *label220
-    * set :updatePosition.23:dx 0
-    * set :updatePosition.23:dy 1
-    * set :updatePosition.23:value :updateRowPositions3x3.2:col2
   614 jump *label226 greaterThanEq :updateRowPositions3x3.2:col2 0.0784313725490196
   615 jump *label228 lessThanEq :updateRowPositions3x3.2:col2 :findBestPosition:best
   616 set :findDrillLocationLocal:diffX 0
-    * set :findDrillLocationLocal:diffY :updateRowPositions3x3.2:dy
+  617 set :findDrillLocationLocal:diffY 1
   618 set :findBestPosition:best :updateRowPositions3x3.2:col2
   619 label *label228
   620 label *label229
   621 label *label226
   622 label *label227
   623 label *label225
-    * set :updatePosition.24:dx 1
-    * set :updatePosition.24:dy 1
-    * set :updatePosition.24:value :updateRowPositions3x3.2:col3
   624 jump *label231 greaterThanEq :updateRowPositions3x3.2:col3 0.0784313725490196
   625 jump *label233 lessThanEq :updateRowPositions3x3.2:col3 :findBestPosition:best
   626 set :findDrillLocationLocal:diffX 1
-    * set :findDrillLocationLocal:diffY :updateRowPositions3x3.2:dy
+  627 set :findDrillLocationLocal:diffY 1
   628 set :findBestPosition:best :updateRowPositions3x3.2:col3
   629 label *label233
   630 label *label234
 
   651 setaddr :computeRowValues*retaddr *label236 (h:*label236)
   652 call *label6 *invalid :computeRowValues*retval (m:*label236) (h:*label236)
   653 label *label236
-    * set :findBestPosition:y6 :computeRowValues*retval
   654 op add *tmp305 :findBestPosition:y1 :findBestPosition:y2
   655 op add *tmp306 *tmp305 :findBestPosition:y3
   656 op add :findBestPosition:row1.2 :findBestPosition:y0 *tmp306
-    * op add *tmp308 :findBestPosition:y1 :findBestPosition:y2
-    * op add *tmp309 *tmp305 :findBestPosition:y3
   657 op add :findBestPosition:row2.2 *tmp306 :findBestPosition:y4
   658 op add *tmp311 :findBestPosition:y3 :findBestPosition:y4
   659 op add *tmp312 *tmp311 :findBestPosition:y5
   660 op add :findBestPosition:row3.2 :findBestPosition:y2 *tmp312
-    * op add *tmp314 :findBestPosition:y3 :findBestPosition:y4
-    * op add *tmp315 *tmp311 :findBestPosition:y5
   661 op add :findBestPosition:row4.1 *tmp312 :computeRowValues*retval
   662 set :updateRowPositions4x4:dy -1.5
-    * set :updateRowPositions4x4:rowSum :findBestPosition:row1.2
   663 unpackcolor :updateRowPositions4x4:col1 :updateRowPositions4x4:col2 :updateRowPositions4x4:col3 :updateRowPositions4x4:col4 :findBestPosition:row1.2
-    * set :updatePosition.25:dx -1.5
-    * set :updatePosition.25:dy -1.5
-    * set :updatePosition.25:value :updateRowPositions4x4:col1
   664 jump *label239 greaterThanEq :updateRowPositions4x4:col1 0.0784313725490196
   665 jump *label241 lessThanEq :updateRowPositions4x4:col1 :findBestPosition:best
   666 set :findDrillLocationLocal:diffX -1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4:dy
+  667 set :findDrillLocationLocal:diffY -1.5
   668 set :findBestPosition:best :updateRowPositions4x4:col1
   669 label *label241
   670 label *label242
   671 label *label239
   672 label *label240
   673 label *label238
-    * set :updatePosition.26:dx -0.5
-    * set :updatePosition.26:dy -1.5
-    * set :updatePosition.26:value :updateRowPositions4x4:col2
   674 jump *label244 greaterThanEq :updateRowPositions4x4:col2 0.0784313725490196
   675 jump *label246 lessThanEq :updateRowPositions4x4:col2 :findBestPosition:best
   676 set :findDrillLocationLocal:diffX -0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4:dy
+  677 set :findDrillLocationLocal:diffY -1.5
   678 set :findBestPosition:best :updateRowPositions4x4:col2
   679 label *label246
   680 label *label247
   681 label *label244
   682 label *label245
   683 label *label243
-    * set :updatePosition.27:dx 0.5
-    * set :updatePosition.27:dy -1.5
-    * set :updatePosition.27:value :updateRowPositions4x4:col3
   684 jump *label249 greaterThanEq :updateRowPositions4x4:col3 0.0784313725490196
   685 jump *label251 lessThanEq :updateRowPositions4x4:col3 :findBestPosition:best
   686 set :findDrillLocationLocal:diffX 0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4:dy
+  687 set :findDrillLocationLocal:diffY -1.5
   688 set :findBestPosition:best :updateRowPositions4x4:col3
   689 label *label251
   690 label *label252
   691 label *label249
   692 label *label250
   693 label *label248
-    * set :updatePosition.28:dx 1.5
-    * set :updatePosition.28:dy -1.5
-    * set :updatePosition.28:value :updateRowPositions4x4:col4
   694 jump *label254 greaterThanEq :updateRowPositions4x4:col4 0.0784313725490196
   695 jump *label256 lessThanEq :updateRowPositions4x4:col4 :findBestPosition:best
   696 set :findDrillLocationLocal:diffX 1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4:dy
+  697 set :findDrillLocationLocal:diffY -1.5
   698 set :findBestPosition:best :updateRowPositions4x4:col4
   699 label *label256
   700 label *label257
 
   703 label *label253
   704 label *label237
   705 set :updateRowPositions4x4.1:dy -0.5
-    * set :updateRowPositions4x4.1:rowSum :findBestPosition:row2.2
   706 unpackcolor :updateRowPositions4x4.1:col1 :updateRowPositions4x4.1:col2 :updateRowPositions4x4.1:col3 :updateRowPositions4x4.1:col4 :findBestPosition:row2.2
-    * set :updatePosition.29:dx -1.5
-    * set :updatePosition.29:dy -0.5
-    * set :updatePosition.29:value :updateRowPositions4x4.1:col1
   707 jump *label260 greaterThanEq :updateRowPositions4x4.1:col1 0.0784313725490196
   708 jump *label262 lessThanEq :updateRowPositions4x4.1:col1 :findBestPosition:best
   709 set :findDrillLocationLocal:diffX -1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4.1:dy
+  710 set :findDrillLocationLocal:diffY -0.5
   711 set :findBestPosition:best :updateRowPositions4x4.1:col1
   712 label *label262
   713 label *label263
   714 label *label260
   715 label *label261
   716 label *label259
-    * set :updatePosition.30:dx -0.5
-    * set :updatePosition.30:dy -0.5
-    * set :updatePosition.30:value :updateRowPositions4x4.1:col2
   717 jump *label265 greaterThanEq :updateRowPositions4x4.1:col2 0.0784313725490196
   718 jump *label267 lessThanEq :updateRowPositions4x4.1:col2 :findBestPosition:best
   719 set :findDrillLocationLocal:diffX -0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4.1:dy
+  720 set :findDrillLocationLocal:diffY -0.5
   721 set :findBestPosition:best :updateRowPositions4x4.1:col2
   722 label *label267
   723 label *label268
   724 label *label265
   725 label *label266
   726 label *label264
-    * set :updatePosition.31:dx 0.5
-    * set :updatePosition.31:dy -0.5
-    * set :updatePosition.31:value :updateRowPositions4x4.1:col3
   727 jump *label270 greaterThanEq :updateRowPositions4x4.1:col3 0.0784313725490196
   728 jump *label272 lessThanEq :updateRowPositions4x4.1:col3 :findBestPosition:best
   729 set :findDrillLocationLocal:diffX 0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4.1:dy
+  730 set :findDrillLocationLocal:diffY -0.5
   731 set :findBestPosition:best :updateRowPositions4x4.1:col3
   732 label *label272
   733 label *label273
   734 label *label270
   735 label *label271
   736 label *label269
-    * set :updatePosition.32:dx 1.5
-    * set :updatePosition.32:dy -0.5
-    * set :updatePosition.32:value :updateRowPositions4x4.1:col4
   737 jump *label275 greaterThanEq :updateRowPositions4x4.1:col4 0.0784313725490196
   738 jump *label277 lessThanEq :updateRowPositions4x4.1:col4 :findBestPosition:best
   739 set :findDrillLocationLocal:diffX 1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4.1:dy
+  740 set :findDrillLocationLocal:diffY -0.5
   741 set :findBestPosition:best :updateRowPositions4x4.1:col4
   742 label *label277
   743 label *label278
 
   746 label *label274
   747 label *label258
   748 set :updateRowPositions4x4.2:dy 0.5
-    * set :updateRowPositions4x4.2:rowSum :findBestPosition:row3.2
   749 unpackcolor :updateRowPositions4x4.2:col1 :updateRowPositions4x4.2:col2 :updateRowPositions4x4.2:col3 :updateRowPositions4x4.2:col4 :findBestPosition:row3.2
-    * set :updatePosition.33:dx -1.5
-    * set :updatePosition.33:dy 0.5
-    * set :updatePosition.33:value :updateRowPositions4x4.2:col1
   750 jump *label281 greaterThanEq :updateRowPositions4x4.2:col1 0.0784313725490196
   751 jump *label283 lessThanEq :updateRowPositions4x4.2:col1 :findBestPosition:best
   752 set :findDrillLocationLocal:diffX -1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4.2:dy
+  753 set :findDrillLocationLocal:diffY 0.5
   754 set :findBestPosition:best :updateRowPositions4x4.2:col1
   755 label *label283
   756 label *label284
   757 label *label281
   758 label *label282
   759 label *label280
-    * set :updatePosition.34:dx -0.5
-    * set :updatePosition.34:dy 0.5
-    * set :updatePosition.34:value :updateRowPositions4x4.2:col2
   760 jump *label286 greaterThanEq :updateRowPositions4x4.2:col2 0.0784313725490196
   761 jump *label288 lessThanEq :updateRowPositions4x4.2:col2 :findBestPosition:best
   762 set :findDrillLocationLocal:diffX -0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4.2:dy
+  763 set :findDrillLocationLocal:diffY 0.5
   764 set :findBestPosition:best :updateRowPositions4x4.2:col2
   765 label *label288
   766 label *label289
   767 label *label286
   768 label *label287
   769 label *label285
-    * set :updatePosition.35:dx 0.5
-    * set :updatePosition.35:dy 0.5
-    * set :updatePosition.35:value :updateRowPositions4x4.2:col3
   770 jump *label291 greaterThanEq :updateRowPositions4x4.2:col3 0.0784313725490196
   771 jump *label293 lessThanEq :updateRowPositions4x4.2:col3 :findBestPosition:best
   772 set :findDrillLocationLocal:diffX 0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4.2:dy
+  773 set :findDrillLocationLocal:diffY 0.5
   774 set :findBestPosition:best :updateRowPositions4x4.2:col3
   775 label *label293
   776 label *label294
   777 label *label291
   778 label *label292
   779 label *label290
-    * set :updatePosition.36:dx 1.5
-    * set :updatePosition.36:dy 0.5
-    * set :updatePosition.36:value :updateRowPositions4x4.2:col4
   780 jump *label296 greaterThanEq :updateRowPositions4x4.2:col4 0.0784313725490196
   781 jump *label298 lessThanEq :updateRowPositions4x4.2:col4 :findBestPosition:best
   782 set :findDrillLocationLocal:diffX 1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4.2:dy
+  783 set :findDrillLocationLocal:diffY 0.5
   784 set :findBestPosition:best :updateRowPositions4x4.2:col4
   785 label *label298
   786 label *label299
 
   789 label *label295
   790 label *label279
   791 set :updateRowPositions4x4.3:dy 1.5
-    * set :updateRowPositions4x4.3:rowSum :findBestPosition:row4.1
   792 unpackcolor :updateRowPositions4x4.3:col1 :updateRowPositions4x4.3:col2 :updateRowPositions4x4.3:col3 :updateRowPositions4x4.3:col4 :findBestPosition:row4.1
-    * set :updatePosition.37:dx -1.5
-    * set :updatePosition.37:dy 1.5
-    * set :updatePosition.37:value :updateRowPositions4x4.3:col1
   793 jump *label302 greaterThanEq :updateRowPositions4x4.3:col1 0.0784313725490196
   794 jump *label304 lessThanEq :updateRowPositions4x4.3:col1 :findBestPosition:best
   795 set :findDrillLocationLocal:diffX -1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4.3:dy
+  796 set :findDrillLocationLocal:diffY 1.5
   797 set :findBestPosition:best :updateRowPositions4x4.3:col1
   798 label *label304
   799 label *label305
   800 label *label302
   801 label *label303
   802 label *label301
-    * set :updatePosition.38:dx -0.5
-    * set :updatePosition.38:dy 1.5
-    * set :updatePosition.38:value :updateRowPositions4x4.3:col2
   803 jump *label307 greaterThanEq :updateRowPositions4x4.3:col2 0.0784313725490196
   804 jump *label309 lessThanEq :updateRowPositions4x4.3:col2 :findBestPosition:best
   805 set :findDrillLocationLocal:diffX -0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4.3:dy
+  806 set :findDrillLocationLocal:diffY 1.5
   807 set :findBestPosition:best :updateRowPositions4x4.3:col2
   808 label *label309
   809 label *label310
   810 label *label307
   811 label *label308
   812 label *label306
-    * set :updatePosition.39:dx 0.5
-    * set :updatePosition.39:dy 1.5
-    * set :updatePosition.39:value :updateRowPositions4x4.3:col3
   813 jump *label312 greaterThanEq :updateRowPositions4x4.3:col3 0.0784313725490196
   814 jump *label314 lessThanEq :updateRowPositions4x4.3:col3 :findBestPosition:best
   815 set :findDrillLocationLocal:diffX 0.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4.3:dy
+  816 set :findDrillLocationLocal:diffY 1.5
   817 set :findBestPosition:best :updateRowPositions4x4.3:col3
   818 label *label314
   819 label *label315
   820 label *label312
   821 label *label313
   822 label *label311
-    * set :updatePosition.40:dx 1.5
-    * set :updatePosition.40:dy 1.5
-    * set :updatePosition.40:value :updateRowPositions4x4.3:col4
   823 jump *label317 greaterThanEq :updateRowPositions4x4.3:col4 0.0784313725490196
   824 jump *label319 lessThanEq :updateRowPositions4x4.3:col4 :findBestPosition:best
   825 set :findDrillLocationLocal:diffX 1.5
-    * set :findDrillLocationLocal:diffY :updateRowPositions4x4.3:dy
+  826 set :findDrillLocationLocal:diffY 1.5
   827 set :findBestPosition:best :updateRowPositions4x4.3:col4
   828 label *label319
   829 label *label320
 
   846 label *label323
   847 label *label324
   848 jump *label325 lessThan :findDrillLocationLocal:capacity :findDrillLocationLocal:limit
-    * set :saveLocation:item :findDrillLocationLocal:item
-    * set :saveLocation:value *tmp173
-    * set :saveLocation:x :findDrillLocationLocal:dx
-    * set :saveLocation:y :findDrillLocationLocal:dy
   849 op add .count .count 1
-    * set *tmp390 .count
   850 sensor *tmp392 :findDrillLocationLocal:item @id
   851 write *tmp392 bank1 .count
   852 op add .count .count 1
-    * write :findDrillLocationLocal:score bank1 .count
+  853 write *tmp173 bank1 .count
   854 op add .count .count 1
   855 write :findDrillLocationLocal:dx bank1 .count
   856 op add .count .count 1
 
   898 jump *label90 always
   899 label *label92
   900 jump *label336 lessThan :findDrillLocationLocal:best 0
-    * set :saveLocation.1:item :findDrillLocationLocal:item
-    * set :saveLocation.1:value :findDrillLocationLocal:best
-    * set :saveLocation.1:x :findDrillLocationLocal:bestX
-    * set :saveLocation.1:y :findDrillLocationLocal:bestY
   901 op add .count .count 1
-    * set *tmp423 .count
   902 sensor *tmp425 :findDrillLocationLocal:item @id
   903 write *tmp425 bank1 .count
   904 op add .count .count 1
 
   923 set :moveTo.7:y :createTerrainMask:y
   924 set *tmp433 :createTerrainMask:x
   925 set *tmp434 :createTerrainMask:y
-    * set :moveTo.8:x :moveTo.7:x
-    * set :moveTo.8:y :moveTo.7:y
-    * set :moveTo.8:radius 6
+  926 set :moveTo.8:x :createTerrainMask:x
+  927 set :moveTo.8:y :createTerrainMask:y
   928 label *label342
-    * ucontrol within *tmp433 *tmp434 6 *tmp435
+  929 ucontrol within :createTerrainMask:x :createTerrainMask:y 6 *tmp435
   930 jump *label344 notEqual *tmp435 false
-    * op sub *tmp437 6 0.5
-    * ucontrol approach *tmp433 *tmp434 5.5
+  931 ucontrol approach :createTerrainMask:x :createTerrainMask:y 5.5
   932 label *label343
   933 jump *label342 always
   934 label *label344
 
   949 ucontrol getBlock :isBlocked:x :isBlocked:y type building floor
   950 select type equal type @boulder @air type
   951 select :isBlocked:result equal type @air 0 1
-    * set *tmp441 :isBlocked:result
   952 label *label351
   953 op or :createTerrainMask:result *tmp438 :isBlocked:result
   954 label *label349
 
  1014 setaddr :findPossiblePlacement*retaddr *label366 (h:*label366)
  1015 call *label11 *invalid :findPossiblePlacement*retval (m:*label366) (h:*label366)
  1016 label *label366
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
  1017 jump *label367 lessThan :findPossiblePlacement*retval 0
  1018 jump *label369 greaterThanEq :findPossiblePlacement*retval 0
  1019 set :tryPlaceGenerator*retval false
 
  1024 op add .water2X *tmp463 :findPossiblePlacement:x
  1025 op add *tmp465 :tryPlaceGenerator:centerY 0.5
  1026 op add .water2Y *tmp465 :findPossiblePlacement:y
-    * op add *tmp467 :tryPlaceGenerator:centerX 0.5
  1027 op add .generatorX *tmp463 :findPossiblePlacement:x
  1028 op add *tmp469 :tryPlaceGenerator:centerY 2.5
  1029 op add .generatorY *tmp469 :findPossiblePlacement:y
 
  1038 setaddr :findPossiblePlacement*retaddr *label371 (h:*label371)
  1039 call *label11 *invalid :findPossiblePlacement*retval (m:*label371) (h:*label371)
  1040 label *label371
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
  1041 jump *label372 greaterThanEq :findPossiblePlacement*retval 0
  1042 set :tryPlaceGenerator*retval false
  1043 jump *label365 always
 
  1049 op add .water2Y *tmp477 :findPossiblePlacement:y
  1050 op add *tmp479 :tryPlaceGenerator:centerX 2.5
  1051 op add .generatorX *tmp479 :findPossiblePlacement:x
-    * op add *tmp481 :tryPlaceGenerator:centerY 0.5
  1052 op add .generatorY *tmp477 :findPossiblePlacement:y
  1053 op shl *tmp483 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
  1054 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp483
 
  1060 setaddr :findPossiblePlacement*retaddr *label374 (h:*label374)
  1061 call *label11 *invalid :findPossiblePlacement*retval (m:*label374) (h:*label374)
  1062 label *label374
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
  1063 jump *label375 greaterThanEq :findPossiblePlacement*retval 0
  1064 set :tryPlaceGenerator*retval false
  1065 jump *label365 always
 
  1076 setaddr :findPossiblePlacement*retaddr *label377 (h:*label377)
  1077 call *label11 *invalid :findPossiblePlacement*retval (m:*label377) (h:*label377)
  1078 label *label377
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
  1079 jump *label378 greaterThanEq :findPossiblePlacement*retval 0
  1080 set :tryPlaceGenerator*retval false
  1081 jump *label365 always
 
  1092 setaddr :findPossiblePlacement*retaddr *label380 (h:*label380)
  1093 call *label11 *invalid :findPossiblePlacement*retval (m:*label380) (h:*label380)
  1094 label *label380
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
  1095 jump *label381 greaterThanEq :findPossiblePlacement*retval 0
  1096 set :tryPlaceGenerator*retval false
  1097 jump *label365 always
 
  1099 label *label382
  1100 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
  1101 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
-    * op shl *tmp501 1 :findPossiblePlacement*retval
  1102 set :tryPlaceGenerator*retval true
  1103 jump *label365 always
  1104 label *label365
 
  1118 setaddr :createTerrainMask*retaddr *label384 (h:*label384)
  1119 call *label10 *invalid :createTerrainMask*retval (m:*label384) (h:*label384)
  1120 label *label384
-    * set :layoutThoriumDrillAtLocation:plainTerrainMask :createTerrainMask*retval
  1121 set :createFixedMatrix:row0 0b0000000
-    * set :createFixedMatrix:row1 0b0000000
-    * set :createFixedMatrix:row2 0b0011100
-    * set :createFixedMatrix:row3 0b0011100
-    * set :createFixedMatrix:row4 0b0011100
-    * set :createFixedMatrix:row5 0b0000000
-    * set :createFixedMatrix:row6 0b0000000
-    * set *tmp504 0b0000000
-    * op shl *tmp505 0b0000000 7
-    * op or *tmp506 :createFixedMatrix:row0 0
-    * op shl *tmp507 0b0011100 14
-    * op or *tmp508 *tmp506 458752
-    * op shl *tmp509 0b0011100 21
-    * op or *tmp510 *tmp508 58720256
-    * op shl *tmp511 0b0011100 28
-    * op or *tmp512 *tmp510 7516192768
-    * op shl *tmp513 0b0000000 35
-    * op or *tmp514 *tmp512 0
-    * op shl *tmp515 0b0000000 42
-    * op or *tmp503 *tmp514 0
+ 1122 op or *tmp506 0b0000000 0
+ 1123 op or *tmp508 0 458752
+ 1124 op or *tmp510 458752 58720256
+ 1125 op or *tmp512 59179008 7516192768
+ 1126 op or *tmp514 7575371776 0
+ 1127 op or *tmp503 7575371776 0
  1128 label *label385
-    * op or :layoutThoriumDrillAtLocation:terrainMask :createTerrainMask*retval *tmp503
+ 1129 op or :layoutThoriumDrillAtLocation:terrainMask :createTerrainMask*retval 7575371776
  1130 set :createFixedMatrix.1:row0 0b1000001
-    * set :createFixedMatrix.1:row1 0b0000000
-    * set :createFixedMatrix.1:row2 0b0011100
-    * set :createFixedMatrix.1:row3 0b0011100
-    * set :createFixedMatrix.1:row4 0b0011100
-    * set :createFixedMatrix.1:row5 0b0000000
-    * set :createFixedMatrix.1:row6 0b1000001
-    * set *tmp519 0b1000001
-    * op shl *tmp520 0b0000000 7
-    * op or *tmp521 :createFixedMatrix.1:row0 0
-    * op shl *tmp522 0b0011100 14
-    * op or *tmp523 *tmp521 458752
-    * op shl *tmp524 0b0011100 21
-    * op or *tmp525 *tmp523 58720256
-    * op shl *tmp526 0b0011100 28
-    * op or *tmp527 *tmp525 7516192768
-    * op shl *tmp528 0b0000000 35
-    * op or *tmp529 *tmp527 0
-    * op shl *tmp530 0b1000001 42
-    * op or *tmp518 *tmp529 285873023221760
+ 1131 op or *tmp521 0b1000001 0
+ 1132 op or *tmp523 65 458752
+ 1133 op or *tmp525 458817 58720256
+ 1134 op or *tmp527 59179073 7516192768
+ 1135 op or *tmp529 7575371841 0
+ 1136 op or *tmp518 7575371841 285873023221760
  1137 label *label386
-    * op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask *tmp518
+ 1138 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
  1139 set :createFixedMatrix.2:row0 0b11
-    * set :createFixedMatrix.2:row1 0b11
-    * set *tmp534 0b11
-    * op shl *tmp535 0b11 7
-    * op or *tmp533 :createFixedMatrix.2:row0 384
+ 1140 op or *tmp533 0b11 384
  1141 label *label387
-    * set :layoutThoriumDrillAtLocation:mask2x2 *tmp533
+ 1142 set :layoutThoriumDrillAtLocation:mask2x2 387
  1143 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
-    * set :findPossiblePlacement:placementMask *tmp533
+ 1144 set :findPossiblePlacement:placementMask 387
  1145 set :findPossiblePlacement:width 2
  1146 set :findPossiblePlacement:height 2
  1147 setaddr :findPossiblePlacement*retaddr *label388 (h:*label388)
  1148 call *label11 *invalid :findPossiblePlacement*retval (m:*label388) (h:*label388)
  1149 label *label388
-    * set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
-    * set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
  1150 jump *label389 lessThan :findPossiblePlacement*retval 0
  1151 op add *tmp540 .drillX 0.5
  1152 op add .water1X *tmp540 :findPossiblePlacement:x
 
  1154 op add .water1Y *tmp542 :findPossiblePlacement:y
  1155 op shl *tmp544 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
  1156 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp544
-    * op shl *tmp545 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
  1157 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp544
  1158 label *label389
  1159 label *label390
 
  1164 setaddr :findPossiblePlacement*retaddr *label391 (h:*label391)
  1165 call *label11 *invalid :findPossiblePlacement*retval (m:*label391) (h:*label391)
  1166 label *label391
-    * set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
-    * set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
  1167 jump *label392 lessThan :findPossiblePlacement*retval 0
  1168 op add *tmp549 .drillX 0.5
  1169 op add .containerX *tmp549 :findPossiblePlacement:x
 
  1174 label *label392
  1175 label *label393
  1176 set :createFixedMatrix.3:row0 0b1111
-    * set :createFixedMatrix.3:row1 0b1111
-    * set *tmp555 0b1111
-    * op shl *tmp556 0b1111 7
-    * op or *tmp554 :createFixedMatrix.3:row0 1920
+ 1177 op or *tmp554 0b1111 1920
  1178 label *label394
-    * set :layoutThoriumDrillAtLocation:generatorHorizontal *tmp554
+ 1179 set :layoutThoriumDrillAtLocation:generatorHorizontal 1935
  1180 set :createFixedMatrix.4:row0 0b11
-    * set :createFixedMatrix.4:row1 0b11
-    * set :createFixedMatrix.4:row2 0b11
-    * set :createFixedMatrix.4:row3 0b11
-    * set *tmp559 0b11
-    * op shl *tmp560 0b11 7
-    * op or *tmp561 :createFixedMatrix.4:row0 384
-    * op shl *tmp562 0b11 14
-    * op or *tmp563 *tmp561 49152
-    * op shl *tmp564 0b11 21
-    * op or *tmp558 *tmp563 6291456
+ 1181 op or *tmp561 0b11 384
+ 1182 op or *tmp563 387 49152
+ 1183 op or *tmp558 49539 6291456
  1184 label *label395
-    * set :layoutThoriumDrillAtLocation:generatorVertical *tmp558
+ 1185 set :layoutThoriumDrillAtLocation:generatorVertical 6340995
  1186 set :tryPlaceGenerator:centerX .drillX
  1187 set :tryPlaceGenerator:centerY .drillY
  1188 set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:terrainMask
-    * set :tryPlaceGenerator:generatorHorizontal *tmp554
-    * set :tryPlaceGenerator:generatorVertical *tmp558
+ 1189 set :tryPlaceGenerator:generatorHorizontal 1935
+ 1190 set :tryPlaceGenerator:generatorVertical 6340995
  1191 setaddr :tryPlaceGenerator*retaddr *label396 (h:*label396)
  1192 call *label12 *invalid :tryPlaceGenerator*retval (m:*label396) (h:*label396)
  1193 label *label396
 
  1222 setaddr :createTerrainMask*retaddr *label406 (h:*label406)
  1223 call *label10 *invalid :createTerrainMask*retval (m:*label406) (h:*label406)
  1224 label *label406
-    * set :layoutThoriumDrillAtLocation:newTerrainMask :createTerrainMask*retval
  1225 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
-    * set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
-    * set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
  1226 op abs *tmp573 :layoutThoriumDrillAtLocation:sx
  1227 op greaterThan *tmp574 *tmp573 6
  1228 op abs *tmp575 :layoutThoriumDrillAtLocation:sy
 
  1245 op shr :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask *tmp586
  1246 label *label411
  1247 jump *label412 equal :layoutThoriumDrillAtLocation:sx 0
-    * op abs *tmp589 :layoutThoriumDrillAtLocation:sx
  1248 op sub *tmp590 7 *tmp573
  1249 op shr :shiftMask:keep 0b1111111 *tmp590
  1250 jump *label414 lessThanEq :layoutThoriumDrillAtLocation:sx 0
-    * op abs *tmp594 :layoutThoriumDrillAtLocation:sx
-    * op sub *tmp595 7 *tmp573
  1251 op shl :shiftMask:keep :shiftMask:keep *tmp590
  1252 label *label414
  1253 label *label415
 
  1263 set *tmp572 :shiftMask:mask
  1264 jump *label407 always
  1265 label *label407
-    * set :layoutThoriumDrillAtLocation:shiftedMask *tmp572
  1266 op or :layoutThoriumDrillAtLocation:combinedMask :createTerrainMask*retval *tmp572
  1267 op sub *tmp600 .drillX :layoutThoriumDrillAtLocation:sx
  1268 op sub *tmp601 .drillY :layoutThoriumDrillAtLocation:sy

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-66 instructions):
 
    18 select value equal floor :spotValue:ore 0.00392156862745098 0
    19 sensor solid type @solid
    20 select :spotValue:result notEqual solid false 0.09803921568627451 value
-    * set *tmp1 :spotValue:result
    21 label *label17
    22 op sub :spotValue.1:x :computeRowValues:x 1
    23 set :spotValue.1:y :computeRowValues:y
 
    26 select value equal floor :spotValue.1:ore 0.00392156862745098 0
    27 sensor solid type @solid
    28 select :spotValue.1:result notEqual solid false 0.09803921568627451 value
-    * set *tmp3 :spotValue.1:result
    29 label *label18
    30 set :spotValue.2:x :computeRowValues:x
    31 set :spotValue.2:y :computeRowValues:y
 
    34 select value equal floor :spotValue.2:ore 0.00392156862745098 0
    35 sensor solid type @solid
    36 select :spotValue.2:result notEqual solid false 0.09803921568627451 value
-    * set *tmp5 :spotValue.2:result
    37 label *label19
    38 op add :spotValue.3:x :computeRowValues:x 1
    39 set :spotValue.3:y :computeRowValues:y
 
    42 select value equal floor :spotValue.3:ore 0.00392156862745098 0
    43 sensor solid type @solid
    44 select :spotValue.3:result notEqual solid false 0.09803921568627451 value
-    * set *tmp7 :spotValue.3:result
    45 label *label20
    46 op add :spotValue.4:x :computeRowValues:x 2
    47 set :spotValue.4:y :computeRowValues:y
 
    50 select value equal floor :spotValue.4:ore 0.00392156862745098 0
    51 sensor solid type @solid
    52 select :spotValue.4:result notEqual solid false 0.09803921568627451 value
-    * set *tmp9 :spotValue.4:result
    53 label *label21
    54 jump *label22 notEqual :computeRowValues:size 2
    55 op add *tmp12 :spotValue:result :spotValue.1:result
 
    63 jump *label24 notEqual :computeRowValues:size 3
    64 op add *tmp19 :spotValue.1:result :spotValue.2:result
    65 op add *tmp20 :spotValue:result *tmp19
-    * op add *tmp21 :spotValue.1:result :spotValue.2:result
    66 op add *tmp22 *tmp19 :spotValue.3:result
    67 op add *tmp23 :spotValue.2:result :spotValue.3:result
    68 op add *tmp24 *tmp23 :spotValue.4:result
 
    77 select value equal floor :spotValue.5:ore 0.00392156862745098 0
    78 sensor solid type @solid
    79 select :spotValue.5:result notEqual solid false 0.09803921568627451 value
-    * set *tmp27 :spotValue.5:result
    80 label *label26
    81 op add :spotValue.6:x :computeRowValues:x 3
    82 set :spotValue.6:y :computeRowValues:y
 
    85 select value equal floor :spotValue.6:ore 0.00392156862745098 0
    86 sensor solid type @solid
    87 select :spotValue.6:result notEqual solid false 0.09803921568627451 value
-    * set *tmp29 :spotValue.6:result
    88 label *label27
    89 op add *tmp30 :spotValue:result :spotValue.1:result
    90 op add *tmp31 *tmp30 :spotValue.2:result
    91 op add *tmp32 :spotValue.5:result *tmp31
    92 op min *tmp33 0.09803921568627451 *tmp32
-    * op add *tmp34 :spotValue:result :spotValue.1:result
-    * op add *tmp35 *tmp30 :spotValue.2:result
    93 op add *tmp36 *tmp31 :spotValue.3:result
    94 op min *tmp37 0.09803921568627451 *tmp36
    95 op add *tmp38 :spotValue.2:result :spotValue.3:result
    96 op add *tmp39 *tmp38 :spotValue.4:result
    97 op add *tmp40 :spotValue.1:result *tmp39
    98 op min *tmp41 0.09803921568627451 *tmp40
-    * op add *tmp42 :spotValue.2:result :spotValue.3:result
-    * op add *tmp43 *tmp38 :spotValue.4:result
    99 op add *tmp44 *tmp39 :spotValue.6:result
   100 op min *tmp45 0.09803921568627451 *tmp44
   101 packcolor :computeRowValues*retval *tmp33 *tmp37 *tmp41 *tmp45
 
   123 set .mapAction "Locating ore..."
   124 set .angle 0
   125 set .mapProgress 0
-    * set :moveTo.2:x :findDrillLocationLocal:x
-    * set :moveTo.2:y :findDrillLocationLocal:y
-    * set *tmp86 :findDrillLocationLocal:x
-    * set *tmp87 :findDrillLocationLocal:y
-    * set :moveTo.3:x :findDrillLocationLocal:x
-    * set :moveTo.3:y :findDrillLocationLocal:y
   126 label *label47
-    * ucontrol within .coreX .coreY 6 *tmp88
+  127 ucontrol within :findDrillLocationLocal:x :findDrillLocationLocal:y 6 *tmp88
   128 jump *label49 notEqual *tmp88 false
-    * ucontrol approach .coreX .coreY 5.5
+  129 ucontrol approach :findDrillLocationLocal:x :findDrillLocationLocal:y 5.5
   130 label *label48
   131 jump *label47 always
   132 label *label49
 
   162 op max *tmp109 *tmp106 5
   163 op min *tmp108 *tmp109 *tmp107
   164 label *label57
-    * set :locateOreAway:lx *tmp108
   165 op cos *tmp111 :locateOreAway:a
   166 op mul *tmp112 *tmp111 :locateOreAway:distance
   167 op add *tmp113 .coreY *tmp112
 
   169 op max *tmp116 *tmp113 5
   170 op min *tmp115 *tmp116 *tmp114
   171 label *label58
-    * set :locateOreAway:ly *tmp115
   172 label *label60
   173 ucontrol within *tmp108 *tmp115 5 *tmp118
   174 jump *label62 notEqual *tmp118 false
 
   260 op add .mapSpots .mapSpots 1
   261 label *label83
   262 label *label84
-    * set :moveTo.5:x :locateOreAway:x
-    * set :moveTo.5:y :locateOreAway:y
-    * set *tmp168 :locateOreAway:x
-    * set *tmp169 :locateOreAway:y
-    * set :moveTo.6:x :locateOreAway:x
-    * set :moveTo.6:y :locateOreAway:y
   263 label *label87
-    * ucontrol within :findDrillLocationLocal:oreX :findDrillLocationLocal:oreY 6 *tmp170
+  264 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp170
   265 jump *label89 notEqual *tmp170 false
-    * ucontrol approach :findDrillLocationLocal:oreX :findDrillLocationLocal:oreY 5.5
+  266 ucontrol approach :locateOreAway:x :locateOreAway:y 5.5
   267 label *label88
   268 jump *label87 always
   269 label *label89
 
   327 op add :findBestPosition:row2 :findBestPosition:y2 :findBestPosition:y3
   328 op add :findBestPosition:row3 :findBestPosition:y3 :findBestPosition:y4
   329 op add :findBestPosition:row4 :findBestPosition:y4 :computeRowValues*retval
-    * set :updateRowPositions2x2:dy -1.5
   330 unpackcolor :updateRowPositions2x2:col1 :updateRowPositions2x2:col2 :updateRowPositions2x2:col3 :updateRowPositions2x2:col4 :findBestPosition:row1
   331 jump *label103 greaterThanEq :updateRowPositions2x2:col1 0.0784313725490196
   332 jump *label105 lessThanEq :updateRowPositions2x2:col1 0
 
   369 label *label119
   370 label *label117
   371 label *label101
-    * set :updateRowPositions2x2.1:dy -0.5
   372 unpackcolor :updateRowPositions2x2.1:col1 :updateRowPositions2x2.1:col2 :updateRowPositions2x2.1:col3 :updateRowPositions2x2.1:col4 :findBestPosition:row2
   373 jump *label124 greaterThanEq :updateRowPositions2x2.1:col1 0.0784313725490196
   374 jump *label126 lessThanEq :updateRowPositions2x2.1:col1 :findBestPosition:best
 
   411 label *label140
   412 label *label138
   413 label *label122
-    * set :updateRowPositions2x2.2:dy 0.5
   414 unpackcolor :updateRowPositions2x2.2:col1 :updateRowPositions2x2.2:col2 :updateRowPositions2x2.2:col3 :updateRowPositions2x2.2:col4 :findBestPosition:row3
   415 jump *label145 greaterThanEq :updateRowPositions2x2.2:col1 0.0784313725490196
   416 jump *label147 lessThanEq :updateRowPositions2x2.2:col1 :findBestPosition:best
 
   453 label *label161
   454 label *label159
   455 label *label143
-    * set :updateRowPositions2x2.3:dy 1.5
   456 unpackcolor :updateRowPositions2x2.3:col1 :updateRowPositions2x2.3:col2 :updateRowPositions2x2.3:col3 :updateRowPositions2x2.3:col4 :findBestPosition:row4
   457 jump *label166 greaterThanEq :updateRowPositions2x2.3:col1 0.0784313725490196
   458 jump *label168 lessThanEq :updateRowPositions2x2.3:col1 :findBestPosition:best
 
   503 op add :findBestPosition:row2.1 *tmp256 :findBestPosition:y4
   504 op add *tmp260 :findBestPosition:y3 :findBestPosition:y4
   505 op add :findBestPosition:row3.1 *tmp260 :computeRowValues*retval
-    * set :updateRowPositions3x3:dy -1
   506 unpackcolor :updateRowPositions3x3:col1 :updateRowPositions3x3:col2 :updateRowPositions3x3:col3 0 :findBestPosition:row1.1
   507 jump *label189 greaterThanEq :updateRowPositions3x3:col1 0.0784313725490196
   508 jump *label191 lessThanEq :updateRowPositions3x3:col1 0
 
   535 label *label200
   536 label *label198
   537 label *label187
-    * set :updateRowPositions3x3.1:dy 0
   538 unpackcolor :updateRowPositions3x3.1:col1 :updateRowPositions3x3.1:col2 :updateRowPositions3x3.1:col3 0 :findBestPosition:row2.1
   539 jump *label205 greaterThanEq :updateRowPositions3x3.1:col1 0.0784313725490196
   540 jump *label207 lessThanEq :updateRowPositions3x3.1:col1 :findBestPosition:best
 
   567 label *label216
   568 label *label214
   569 label *label203
-    * set :updateRowPositions3x3.2:dy 1
   570 unpackcolor :updateRowPositions3x3.2:col1 :updateRowPositions3x3.2:col2 :updateRowPositions3x3.2:col3 0 :findBestPosition:row3.1
   571 jump *label221 greaterThanEq :updateRowPositions3x3.2:col1 0.0784313725490196
   572 jump *label223 lessThanEq :updateRowPositions3x3.2:col1 :findBestPosition:best
 
   626 op add *tmp312 *tmp311 :findBestPosition:y5
   627 op add :findBestPosition:row3.2 :findBestPosition:y2 *tmp312
   628 op add :findBestPosition:row4.1 *tmp312 :computeRowValues*retval
-    * set :updateRowPositions4x4:dy -1.5
   629 unpackcolor :updateRowPositions4x4:col1 :updateRowPositions4x4:col2 :updateRowPositions4x4:col3 :updateRowPositions4x4:col4 :findBestPosition:row1.2
   630 jump *label239 greaterThanEq :updateRowPositions4x4:col1 0.0784313725490196
   631 jump *label241 lessThanEq :updateRowPositions4x4:col1 :findBestPosition:best
 
   668 label *label255
   669 label *label253
   670 label *label237
-    * set :updateRowPositions4x4.1:dy -0.5
   671 unpackcolor :updateRowPositions4x4.1:col1 :updateRowPositions4x4.1:col2 :updateRowPositions4x4.1:col3 :updateRowPositions4x4.1:col4 :findBestPosition:row2.2
   672 jump *label260 greaterThanEq :updateRowPositions4x4.1:col1 0.0784313725490196
   673 jump *label262 lessThanEq :updateRowPositions4x4.1:col1 :findBestPosition:best
 
   710 label *label276
   711 label *label274
   712 label *label258
-    * set :updateRowPositions4x4.2:dy 0.5
   713 unpackcolor :updateRowPositions4x4.2:col1 :updateRowPositions4x4.2:col2 :updateRowPositions4x4.2:col3 :updateRowPositions4x4.2:col4 :findBestPosition:row3.2
   714 jump *label281 greaterThanEq :updateRowPositions4x4.2:col1 0.0784313725490196
   715 jump *label283 lessThanEq :updateRowPositions4x4.2:col1 :findBestPosition:best
 
   752 label *label297
   753 label *label295
   754 label *label279
-    * set :updateRowPositions4x4.3:dy 1.5
   755 unpackcolor :updateRowPositions4x4.3:col1 :updateRowPositions4x4.3:col2 :updateRowPositions4x4.3:col3 :updateRowPositions4x4.3:col4 :findBestPosition:row4.1
   756 jump *label302 greaterThanEq :updateRowPositions4x4.3:col1 0.0784313725490196
   757 jump *label304 lessThanEq :updateRowPositions4x4.3:col1 :findBestPosition:best
 
   799 op mul *tmp173 :findBestPosition:best 255
   800 jump *label93 always
   801 label *label93
-    * set :findDrillLocationLocal:score *tmp173
   802 jump *label321 lessThanEq *tmp173 :findDrillLocationLocal:capacity
   803 op add :findDrillLocationLocal:dx :findDrillLocationLocal:oreX :findDrillLocationLocal:diffX
   804 op add :findDrillLocationLocal:dy :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
 
   881 return :findDrillLocationLocal*retaddr
   882 end
   883 label *label10
-    * set :moveTo.7:x :createTerrainMask:x
-    * set :moveTo.7:y :createTerrainMask:y
-    * set *tmp433 :createTerrainMask:x
-    * set *tmp434 :createTerrainMask:y
-    * set :moveTo.8:x :createTerrainMask:x
-    * set :moveTo.8:y :createTerrainMask:y
   884 label *label342
   885 ucontrol within :createTerrainMask:x :createTerrainMask:y 6 *tmp435
   886 jump *label344 notEqual *tmp435 false
 
  1074 setaddr :createTerrainMask*retaddr *label384 (h:*label384)
  1075 call *label10 *invalid :createTerrainMask*retval (m:*label384) (h:*label384)
  1076 label *label384
-    * set :createFixedMatrix:row0 0b0000000
-    * op or *tmp506 0b0000000 0
-    * op or *tmp508 0 458752
-    * op or *tmp510 458752 58720256
-    * op or *tmp512 59179008 7516192768
-    * op or *tmp514 7575371776 0
-    * op or *tmp503 7575371776 0
  1077 label *label385
  1078 op or :layoutThoriumDrillAtLocation:terrainMask :createTerrainMask*retval 7575371776
-    * set :createFixedMatrix.1:row0 0b1000001
-    * op or *tmp521 0b1000001 0
-    * op or *tmp523 65 458752
-    * op or *tmp525 458817 58720256
-    * op or *tmp527 59179073 7516192768
-    * op or *tmp529 7575371841 0
-    * op or *tmp518 7575371841 285873023221760
  1079 label *label386
  1080 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
-    * set :createFixedMatrix.2:row0 0b11
-    * op or *tmp533 0b11 384
  1081 label *label387
  1082 set :layoutThoriumDrillAtLocation:mask2x2 387
  1083 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
 
  1113 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp553
  1114 label *label392
  1115 label *label393
-    * set :createFixedMatrix.3:row0 0b1111
-    * op or *tmp554 0b1111 1920
  1116 label *label394
  1117 set :layoutThoriumDrillAtLocation:generatorHorizontal 1935
-    * set :createFixedMatrix.4:row0 0b11
-    * op or *tmp561 0b11 384
-    * op or *tmp563 387 49152
-    * op or *tmp558 49539 6291456
  1118 label *label395
  1119 set :layoutThoriumDrillAtLocation:generatorVertical 6340995
  1120 set :tryPlaceGenerator:centerX .drillX

Modifications by Iterated phase, Loop Hoisting, pass 1, iteration 1:
 
   152 set :locateOreAway:lastY -1
   153 op max .angle .angle @pi
   154 op mul .mapProgress .angle .angle
+  155 op sub *tmp107 @mapw 5
+  156 op sub *tmp114 @maph 5
   157 label *label54
   158 jump *label56 greaterThanEq :locateOreAway:distance :findDrillLocationLocal:distanceLimit
   159 op div :locateOreAway:a .angle @degToRad
   160 op sin *tmp104 :locateOreAway:a
   161 op mul *tmp105 *tmp104 :locateOreAway:distance
   162 op add *tmp106 .coreX *tmp105
-    * op sub *tmp107 @mapw 5
   163 op max *tmp109 *tmp106 5
   164 op min *tmp108 *tmp109 *tmp107
   165 label *label57
   166 op cos *tmp111 :locateOreAway:a
   167 op mul *tmp112 *tmp111 :locateOreAway:distance
   168 op add *tmp113 .coreY *tmp112
-    * op sub *tmp114 @maph 5
   169 op max *tmp116 *tmp113 5
   170 op min *tmp115 *tmp116 *tmp114
   171 label *label58
 
   895 label *label345
   896 jump *label347 lessThan :createTerrainMask:r -3
   897 set :createTerrainMask:c 3
+  898 op add *tmp440 :createTerrainMask:y :createTerrainMask:r
   899 label *label348
   900 jump *label350 lessThan :createTerrainMask:c -3
   901 op shl *tmp438 :createTerrainMask:result 1
   902 op add *tmp439 :createTerrainMask:x :createTerrainMask:c
-    * op add *tmp440 :createTerrainMask:y :createTerrainMask:r
   903 set :isBlocked:x *tmp439
   904 set :isBlocked:y *tmp440
   905 ucontrol getBlock :isBlocked:x :isBlocked:y type building floor

Modifications by Iterated phase, Loop Optimization, pass 1, iteration 1 (-2 instructions):
 
   156 op sub *tmp114 @maph 5
   157 label *label54
   158 jump *label56 greaterThanEq :locateOreAway:distance :findDrillLocationLocal:distanceLimit
+  159 label *label427
   160 op div :locateOreAway:a .angle @degToRad
   161 op sin *tmp104 :locateOreAway:a
   162 op mul *tmp105 *tmp104 :locateOreAway:distance
 
   211 set :visited:i .locationsStart
   212 label *label74
   213 jump *label76 greaterThanEq :visited:i *tmp145
+  214 label *label428
   215 op mul :visited:index 4 :visited:i
   216 op add *tmp147 :visited:index 2
   217 read :visited:lx bank1 *tmp147
 
   227 label *label78
   228 label *label75
   229 op add :visited:i :visited:i 1
-    * jump *label74 always
+  230 jump *label428 lessThan :visited:i *tmp145
   231 label *label76
   232 set *tmp144 false
   233 jump *label73 always
 
   246 label *label69
   247 label *label70
   248 label *label55
-    * jump *label54 always
+  249 jump *label427 lessThan :locateOreAway:distance :findDrillLocationLocal:distanceLimit
   250 label *label56
   251 set *tmp98 false
   252 jump *label53 always
 
   895 set :createTerrainMask:result 0
   896 set :createTerrainMask:r 3
   897 label *label345
-    * jump *label347 lessThan :createTerrainMask:r -3
+  898 label *label429
   899 set :createTerrainMask:c 3
   900 op add *tmp440 :createTerrainMask:y :createTerrainMask:r
   901 label *label348
-    * jump *label350 lessThan :createTerrainMask:c -3
+  902 label *label430
   903 op shl *tmp438 :createTerrainMask:result 1
   904 op add *tmp439 :createTerrainMask:x :createTerrainMask:c
   905 set :isBlocked:x *tmp439
 
   911 op or :createTerrainMask:result *tmp438 :isBlocked:result
   912 label *label349
   913 op sub :createTerrainMask:c :createTerrainMask:c 1
-    * jump *label348 always
+  914 jump *label430 greaterThanEq :createTerrainMask:c -3
   915 label *label350
   916 label *label346
   917 op sub :createTerrainMask:r :createTerrainMask:r 1
-    * jump *label345 always
+  918 jump *label429 greaterThanEq :createTerrainMask:r -3
   919 label *label347
   920 set :createTerrainMask*retval :createTerrainMask:result
   921 jump *label339 always
 
   926 set :findPossiblePlacement:y -3
   927 label *label353
   928 jump *label355 greaterThan :findPossiblePlacement:y 3
+  929 label *label431
   930 op add *tmp443 :findPossiblePlacement:y 3
   931 op mul *tmp444 7 *tmp443
   932 op shl :findPossiblePlacement:mask :findPossiblePlacement:placementMask *tmp444
   933 set :findPossiblePlacement:x -3
   934 label *label356
   935 jump *label358 greaterThan :findPossiblePlacement:x 3
+  936 label *label432
   937 op and *tmp446 :findPossiblePlacement:terrainMask :findPossiblePlacement:mask
   938 jump *label359 notEqual *tmp446 0
   939 op mul *tmp449 :findPossiblePlacement:y 7
 
   950 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
   951 label *label357
   952 op add :findPossiblePlacement:x :findPossiblePlacement:x 1
-    * jump *label356 always
+  953 jump *label432 lessThanEq :findPossiblePlacement:x 3
   954 label *label358
   955 op sub *tmp455 3 :findPossiblePlacement:height
   956 jump *label363 lessThanEq :findPossiblePlacement:y *tmp455
 
   959 label *label364
   960 label *label354
   961 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
-    * jump *label353 always
+  962 jump *label431 lessThanEq :findPossiblePlacement:y 3
   963 label *label355
   964 set :findPossiblePlacement*retval -1
   965 jump *label352 always

Modifications by Replicate loop condition at line 41:5 (+1 instructions):
 
   173 label *label60
   174 ucontrol within *tmp108 *tmp115 5 *tmp118
   175 jump *label62 notEqual *tmp118 false
+  176 label *label433
   177 ucontrol approach *tmp108 *tmp115 4.5
   178 label *label61
-    * jump *label60 always
+  179 ucontrol within *tmp108 *tmp115 5 *tmp118
+  180 jump *label433 equal *tmp118 false
   181 label *label62
   182 label *label59
   183 op div *tmp121 3.8197185279121366 :locateOreAway:distance

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   212 set *tmp145 .locations
   213 set :visited:i .locationsStart
   214 label *label74
-    * jump *label76 greaterThanEq :visited:i *tmp145
+  215 jump *label76 greaterThanEq .locationsStart *tmp145
   216 label *label428
   217 op mul :visited:index 4 :visited:i
   218 op add *tmp147 :visited:index 2

Modifications by Replicate loop condition at line 41:5 (+1 instructions):
 
   267 label *label87
   268 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp170
   269 jump *label89 notEqual *tmp170 false
+  270 label *label434
   271 ucontrol approach :locateOreAway:x :locateOreAway:y 5.5
   272 label *label88
-    * jump *label87 always
+  273 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp170
+  274 jump *label434 equal *tmp170 false
   275 label *label89
   276 label *label86
   277 label *label85

Modifications by Replicate loop condition at line 41:5 (+1 instructions):
 
   890 label *label342
   891 ucontrol within :createTerrainMask:x :createTerrainMask:y 6 *tmp435
   892 jump *label344 notEqual *tmp435 false
+  893 label *label435
   894 ucontrol approach :createTerrainMask:x :createTerrainMask:y 5.5
   895 label *label343
-    * jump *label342 always
+  896 ucontrol within :createTerrainMask:x :createTerrainMask:y 6 *tmp435
+  897 jump *label435 equal *tmp435 false
   898 label *label344
   899 label *label341
   900 label *label340

Modifications by Inline function call at line 160:14 (+78 instructions):
 
   286 set :computeRowValues:y *tmp174
   287 set :computeRowValues:ore :findDrillLocationLocal:ore
   288 set :computeRowValues:size :findDrillLocationLocal:size
-    * setaddr :computeRowValues*retaddr *label94 (h:*label94)
-    * call *label6 *invalid :computeRowValues*retval (m:*label94) (h:*label94)
-    * label *label94
+  289 label *label436
+  290 op sub :spotValue:x :computeRowValues:x 2
+  291 set :spotValue:y :computeRowValues:y
+  292 set :spotValue:ore :computeRowValues:ore
+  293 ucontrol getBlock :spotValue:x :spotValue:y type building floor
+  294 select value equal floor :spotValue:ore 0.00392156862745098 0
+  295 sensor solid type @solid
+  296 select :spotValue:result notEqual solid false 0.09803921568627451 value
+  297 label *label437
+  298 op sub :spotValue.1:x :computeRowValues:x 1
+  299 set :spotValue.1:y :computeRowValues:y
+  300 set :spotValue.1:ore :computeRowValues:ore
+  301 ucontrol getBlock :spotValue.1:x :spotValue.1:y type building floor
+  302 select value equal floor :spotValue.1:ore 0.00392156862745098 0
+  303 sensor solid type @solid
+  304 select :spotValue.1:result notEqual solid false 0.09803921568627451 value
+  305 label *label438
+  306 set :spotValue.2:x :computeRowValues:x
+  307 set :spotValue.2:y :computeRowValues:y
+  308 set :spotValue.2:ore :computeRowValues:ore
+  309 ucontrol getBlock :spotValue.2:x :spotValue.2:y type building floor
+  310 select value equal floor :spotValue.2:ore 0.00392156862745098 0
+  311 sensor solid type @solid
+  312 select :spotValue.2:result notEqual solid false 0.09803921568627451 value
+  313 label *label439
+  314 op add :spotValue.3:x :computeRowValues:x 1
+  315 set :spotValue.3:y :computeRowValues:y
+  316 set :spotValue.3:ore :computeRowValues:ore
+  317 ucontrol getBlock :spotValue.3:x :spotValue.3:y type building floor
+  318 select value equal floor :spotValue.3:ore 0.00392156862745098 0
+  319 sensor solid type @solid
+  320 select :spotValue.3:result notEqual solid false 0.09803921568627451 value
+  321 label *label440
+  322 op add :spotValue.4:x :computeRowValues:x 2
+  323 set :spotValue.4:y :computeRowValues:y
+  324 set :spotValue.4:ore :computeRowValues:ore
+  325 ucontrol getBlock :spotValue.4:x :spotValue.4:y type building floor
+  326 select value equal floor :spotValue.4:ore 0.00392156862745098 0
+  327 sensor solid type @solid
+  328 select :spotValue.4:result notEqual solid false 0.09803921568627451 value
+  329 label *label441
+  330 jump *label442 notEqual :computeRowValues:size 2
+  331 op add *tmp12 :spotValue:result :spotValue.1:result
+  332 op add *tmp13 :spotValue.1:result :spotValue.2:result
+  333 op add *tmp14 :spotValue.2:result :spotValue.3:result
+  334 op add *tmp15 :spotValue.3:result :spotValue.4:result
+  335 packcolor :computeRowValues*retval *tmp12 *tmp13 *tmp14 *tmp15
+  336 jump *label448 always
+  337 jump *label447 always
+  338 label *label442
+  339 jump *label443 notEqual :computeRowValues:size 3
+  340 op add *tmp19 :spotValue.1:result :spotValue.2:result
+  341 op add *tmp20 :spotValue:result *tmp19
+  342 op add *tmp22 *tmp19 :spotValue.3:result
+  343 op add *tmp23 :spotValue.2:result :spotValue.3:result
+  344 op add *tmp24 *tmp23 :spotValue.4:result
+  345 packcolor :computeRowValues*retval *tmp20 *tmp22 *tmp24 0
+  346 jump *label448 always
+  347 jump *label446 always
+  348 label *label443
+  349 op sub :spotValue.5:x :computeRowValues:x 3
+  350 set :spotValue.5:y :computeRowValues:y
+  351 set :spotValue.5:ore :computeRowValues:ore
+  352 ucontrol getBlock :spotValue.5:x :spotValue.5:y type building floor
+  353 select value equal floor :spotValue.5:ore 0.00392156862745098 0
+  354 sensor solid type @solid
+  355 select :spotValue.5:result notEqual solid false 0.09803921568627451 value
+  356 label *label444
+  357 op add :spotValue.6:x :computeRowValues:x 3
+  358 set :spotValue.6:y :computeRowValues:y
+  359 set :spotValue.6:ore :computeRowValues:ore
+  360 ucontrol getBlock :spotValue.6:x :spotValue.6:y type building floor
+  361 select value equal floor :spotValue.6:ore 0.00392156862745098 0
+  362 sensor solid type @solid
+  363 select :spotValue.6:result notEqual solid false 0.09803921568627451 value
+  364 label *label445
+  365 op add *tmp30 :spotValue:result :spotValue.1:result
+  366 op add *tmp31 *tmp30 :spotValue.2:result
+  367 op add *tmp32 :spotValue.5:result *tmp31
+  368 op min *tmp33 0.09803921568627451 *tmp32
+  369 op add *tmp36 *tmp31 :spotValue.3:result
+  370 op min *tmp37 0.09803921568627451 *tmp36
+  371 op add *tmp38 :spotValue.2:result :spotValue.3:result
+  372 op add *tmp39 *tmp38 :spotValue.4:result
+  373 op add *tmp40 :spotValue.1:result *tmp39
+  374 op min *tmp41 0.09803921568627451 *tmp40
+  375 op add *tmp44 *tmp39 :spotValue.6:result
+  376 op min *tmp45 0.09803921568627451 *tmp44
+  377 packcolor :computeRowValues*retval *tmp33 *tmp37 *tmp41 *tmp45
+  378 jump *label448 always
+  379 label *label446
+  380 label *label447
+  381 label *label448
   382 set :findBestPosition:y1 :computeRowValues*retval
   383 op sub *tmp176 :findBestPosition:y 1
   384 set :computeRowValues:x :findBestPosition:x

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   287 set :computeRowValues:ore :findDrillLocationLocal:ore
   288 set :computeRowValues:size :findDrillLocationLocal:size
   289 label *label436
-    * op sub :spotValue:x :computeRowValues:x 2
-    * set :spotValue:y :computeRowValues:y
-    * set :spotValue:ore :computeRowValues:ore
+  290 op sub :spotValue:x :findDrillLocationLocal:oreX 2
+  291 set :spotValue:y *tmp174
+  292 set :spotValue:ore :findDrillLocationLocal:ore
   293 ucontrol getBlock :spotValue:x :spotValue:y type building floor
   294 select value equal floor :spotValue:ore 0.00392156862745098 0
   295 sensor solid type @solid
   296 select :spotValue:result notEqual solid false 0.09803921568627451 value
   297 label *label437
-    * op sub :spotValue.1:x :computeRowValues:x 1
-    * set :spotValue.1:y :computeRowValues:y
-    * set :spotValue.1:ore :computeRowValues:ore
+  298 op sub :spotValue.1:x :findDrillLocationLocal:oreX 1
+  299 set :spotValue.1:y *tmp174
+  300 set :spotValue.1:ore :findDrillLocationLocal:ore
   301 ucontrol getBlock :spotValue.1:x :spotValue.1:y type building floor
   302 select value equal floor :spotValue.1:ore 0.00392156862745098 0
   303 sensor solid type @solid
   304 select :spotValue.1:result notEqual solid false 0.09803921568627451 value
   305 label *label438
-    * set :spotValue.2:x :computeRowValues:x
-    * set :spotValue.2:y :computeRowValues:y
-    * set :spotValue.2:ore :computeRowValues:ore
+  306 set :spotValue.2:x :findDrillLocationLocal:oreX
+  307 set :spotValue.2:y *tmp174
+  308 set :spotValue.2:ore :findDrillLocationLocal:ore
   309 ucontrol getBlock :spotValue.2:x :spotValue.2:y type building floor
   310 select value equal floor :spotValue.2:ore 0.00392156862745098 0
   311 sensor solid type @solid
   312 select :spotValue.2:result notEqual solid false 0.09803921568627451 value
   313 label *label439
-    * op add :spotValue.3:x :computeRowValues:x 1
-    * set :spotValue.3:y :computeRowValues:y
-    * set :spotValue.3:ore :computeRowValues:ore
+  314 op add :spotValue.3:x :findDrillLocationLocal:oreX 1
+  315 set :spotValue.3:y *tmp174
+  316 set :spotValue.3:ore :findDrillLocationLocal:ore
   317 ucontrol getBlock :spotValue.3:x :spotValue.3:y type building floor
   318 select value equal floor :spotValue.3:ore 0.00392156862745098 0
   319 sensor solid type @solid
   320 select :spotValue.3:result notEqual solid false 0.09803921568627451 value
   321 label *label440
-    * op add :spotValue.4:x :computeRowValues:x 2
-    * set :spotValue.4:y :computeRowValues:y
-    * set :spotValue.4:ore :computeRowValues:ore
+  322 op add :spotValue.4:x :findDrillLocationLocal:oreX 2
+  323 set :spotValue.4:y *tmp174
+  324 set :spotValue.4:ore :findDrillLocationLocal:ore
   325 ucontrol getBlock :spotValue.4:x :spotValue.4:y type building floor
   326 select value equal floor :spotValue.4:ore 0.00392156862745098 0
   327 sensor solid type @solid
   328 select :spotValue.4:result notEqual solid false 0.09803921568627451 value
   329 label *label441
-    * jump *label442 notEqual :computeRowValues:size 2
+  330 jump *label442 notEqual :findDrillLocationLocal:size 2
   331 op add *tmp12 :spotValue:result :spotValue.1:result
   332 op add *tmp13 :spotValue.1:result :spotValue.2:result
   333 op add *tmp14 :spotValue.2:result :spotValue.3:result
 
   336 jump *label448 always
   337 jump *label447 always
   338 label *label442
-    * jump *label443 notEqual :computeRowValues:size 3
+  339 jump *label443 notEqual :findDrillLocationLocal:size 3
   340 op add *tmp19 :spotValue.1:result :spotValue.2:result
   341 op add *tmp20 :spotValue:result *tmp19
   342 op add *tmp22 *tmp19 :spotValue.3:result
 
   346 jump *label448 always
   347 jump *label446 always
   348 label *label443
-    * op sub :spotValue.5:x :computeRowValues:x 3
-    * set :spotValue.5:y :computeRowValues:y
-    * set :spotValue.5:ore :computeRowValues:ore
+  349 op sub :spotValue.5:x :findDrillLocationLocal:oreX 3
+  350 set :spotValue.5:y *tmp174
+  351 set :spotValue.5:ore :findDrillLocationLocal:ore
   352 ucontrol getBlock :spotValue.5:x :spotValue.5:y type building floor
   353 select value equal floor :spotValue.5:ore 0.00392156862745098 0
   354 sensor solid type @solid
   355 select :spotValue.5:result notEqual solid false 0.09803921568627451 value
   356 label *label444
-    * op add :spotValue.6:x :computeRowValues:x 3
-    * set :spotValue.6:y :computeRowValues:y
-    * set :spotValue.6:ore :computeRowValues:ore
+  357 op add :spotValue.6:x :findDrillLocationLocal:oreX 3
+  358 set :spotValue.6:y *tmp174
+  359 set :spotValue.6:ore :findDrillLocationLocal:ore
   360 ucontrol getBlock :spotValue.6:x :spotValue.6:y type building floor
   361 select value equal floor :spotValue.6:ore 0.00392156862745098 0
   362 sensor solid type @solid
 
   380 label *label447
   381 label *label448
   382 set :findBestPosition:y1 :computeRowValues*retval
-    * op sub *tmp176 :findBestPosition:y 1
-    * set :computeRowValues:x :findBestPosition:x
+  383 op sub *tmp176 :findDrillLocationLocal:oreY 1
+  384 set :computeRowValues:x :findDrillLocationLocal:oreX
   385 set :computeRowValues:y *tmp176
-    * set :computeRowValues:ore :findBestPosition:ore
-    * set :computeRowValues:size :findBestPosition:size
+  386 set :computeRowValues:ore :findDrillLocationLocal:ore
+  387 set :computeRowValues:size :findDrillLocationLocal:size
   388 setaddr :computeRowValues*retaddr *label95 (h:*label95)
   389 call *label6 *invalid :computeRowValues*retval (m:*label95) (h:*label95)
   390 label *label95

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-4 instructions):
 
   282 set :findBestPosition:ore :findDrillLocationLocal:ore
   283 set :findBestPosition:size :findDrillLocationLocal:size
   284 op sub *tmp174 :findDrillLocationLocal:oreY 2
-    * set :computeRowValues:x :findDrillLocationLocal:oreX
-    * set :computeRowValues:y *tmp174
-    * set :computeRowValues:ore :findDrillLocationLocal:ore
-    * set :computeRowValues:size :findDrillLocationLocal:size
   285 label *label436
   286 op sub :spotValue:x :findDrillLocationLocal:oreX 2
   287 set :spotValue:y *tmp174

Modifications by Replicate loop condition at line 41:5 (+1 instructions):
 
   126 label *label47
   127 ucontrol within :findDrillLocationLocal:x :findDrillLocationLocal:y 6 *tmp88
   128 jump *label49 notEqual *tmp88 false
+  129 label *label449
   130 ucontrol approach :findDrillLocationLocal:x :findDrillLocationLocal:y 5.5
   131 label *label48
-    * jump *label47 always
+  132 ucontrol within :findDrillLocationLocal:x :findDrillLocationLocal:y 6 *tmp88
+  133 jump *label449 equal *tmp88 false
   134 label *label49
   135 label *label46
   136 label *label45

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-9 instructions):
 
    99 op add *tmp44 *tmp39 :spotValue.6:result
   100 op min *tmp45 0.09803921568627451 *tmp44
   101 packcolor :computeRowValues*retval *tmp33 *tmp37 *tmp41 *tmp45
-    * jump *label16 always
   102 label *label25
   103 label *label23
   104 label *label16
 
   233 jump *label428 lessThan :visited:i *tmp145
   234 label *label76
   235 set *tmp144 false
-    * jump *label73 always
   236 label *label73
   237 jump *label79 notEqual *tmp144 false
   238 op div *tmp160 2 .angle
 
   251 jump *label427 lessThan :locateOreAway:distance :findDrillLocationLocal:distanceLimit
   252 label *label56
   253 set *tmp98 false
-    * jump *label53 always
   254 label *label53
   255 set :findDrillLocationLocal:oreX :locateOreAway:x
   256 set :findDrillLocationLocal:oreY :locateOreAway:y
 
   370 op add *tmp44 *tmp39 :spotValue.6:result
   371 op min *tmp45 0.09803921568627451 *tmp44
   372 packcolor :computeRowValues*retval *tmp33 *tmp37 *tmp41 *tmp45
-    * jump *label448 always
   373 label *label446
   374 label *label447
   375 label *label448
 
   887 label *label186
   888 label *label100
   889 op mul *tmp173 :findBestPosition:best 255
-    * jump *label93 always
   890 label *label93
   891 jump *label321 lessThanEq *tmp173 :findDrillLocationLocal:capacity
   892 op add :findDrillLocationLocal:dx :findDrillLocationLocal:oreX :findDrillLocationLocal:diffX
 
  1007 jump *label429 greaterThanEq :createTerrainMask:r -3
  1008 label *label347
  1009 set :createTerrainMask*retval :createTerrainMask:result
-    * jump *label339 always
  1010 label *label339
  1011 return :createTerrainMask*retaddr
  1012 end
 
  1050 jump *label431 lessThanEq :findPossiblePlacement:y 3
  1051 label *label355
  1052 set :findPossiblePlacement*retval -1
-    * jump *label352 always
  1053 label *label352
  1054 return :findPossiblePlacement*retaddr
  1055 end
 
  1286 label *label412
  1287 label *label413
  1288 set *tmp572 :shiftMask:mask
-    * jump *label407 always
  1289 label *label407
  1290 op or :layoutThoriumDrillAtLocation:combinedMask :createTerrainMask*retval *tmp572
  1291 op sub *tmp600 .drillX :layoutThoriumDrillAtLocation:sx
 
  1308 multilabel *label405 (m:marker0)
  1309 label *label401
  1310 set :layoutThoriumDrillAtLocation*retval true
-    * jump *label383 always
  1311 label *label383
  1312 return :layoutThoriumDrillAtLocation*retaddr
  1313 end

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-2 instructions):
 
   327 op add *tmp13 :spotValue.1:result :spotValue.2:result
   328 op add *tmp14 :spotValue.2:result :spotValue.3:result
   329 op add *tmp15 :spotValue.3:result :spotValue.4:result
-    * packcolor :computeRowValues*retval *tmp12 *tmp13 *tmp14 *tmp15
+  330 packcolor :findBestPosition:y1 *tmp12 *tmp13 *tmp14 *tmp15
   331 jump *label448 always
   332 jump *label447 always
   333 label *label442
 
   337 op add *tmp22 *tmp19 :spotValue.3:result
   338 op add *tmp23 :spotValue.2:result :spotValue.3:result
   339 op add *tmp24 *tmp23 :spotValue.4:result
-    * packcolor :computeRowValues*retval *tmp20 *tmp22 *tmp24 0
+  340 packcolor :findBestPosition:y1 *tmp20 *tmp22 *tmp24 0
   341 jump *label448 always
   342 jump *label446 always
   343 label *label443
 
   369 op min *tmp41 0.09803921568627451 *tmp40
   370 op add *tmp44 *tmp39 :spotValue.6:result
   371 op min *tmp45 0.09803921568627451 *tmp44
-    * packcolor :computeRowValues*retval *tmp33 *tmp37 *tmp41 *tmp45
+  372 packcolor :findBestPosition:y1 *tmp33 *tmp37 *tmp41 *tmp45
   373 label *label446
   374 label *label447
   375 label *label448
-    * set :findBestPosition:y1 :computeRowValues*retval
   376 op sub *tmp176 :findDrillLocationLocal:oreY 1
   377 set :computeRowValues:x :findDrillLocationLocal:oreX
   378 set :computeRowValues:y *tmp176
 
   989 label *label348
   990 label *label430
   991 op shl *tmp438 :createTerrainMask:result 1
-    * op add *tmp439 :createTerrainMask:x :createTerrainMask:c
-    * set :isBlocked:x *tmp439
+  992 op add :isBlocked:x :createTerrainMask:x :createTerrainMask:c
   993 set :isBlocked:y *tmp440
   994 ucontrol getBlock :isBlocked:x :isBlocked:y type building floor
   995 select type equal type @boulder @air type

Modifications by Jumps phase, Jump Normalization, pass 4, iteration 1:
 
    18 select value equal floor :spotValue:ore 0.00392156862745098 0
    19 sensor solid type @solid
    20 select :spotValue:result notEqual solid false 0.09803921568627451 value
-    * label *label17
    21 op sub :spotValue.1:x :computeRowValues:x 1
    22 set :spotValue.1:y :computeRowValues:y
    23 set :spotValue.1:ore :computeRowValues:ore
 
    25 select value equal floor :spotValue.1:ore 0.00392156862745098 0
    26 sensor solid type @solid
    27 select :spotValue.1:result notEqual solid false 0.09803921568627451 value
-    * label *label18
    28 set :spotValue.2:x :computeRowValues:x
    29 set :spotValue.2:y :computeRowValues:y
    30 set :spotValue.2:ore :computeRowValues:ore
 
    32 select value equal floor :spotValue.2:ore 0.00392156862745098 0
    33 sensor solid type @solid
    34 select :spotValue.2:result notEqual solid false 0.09803921568627451 value
-    * label *label19
    35 op add :spotValue.3:x :computeRowValues:x 1
    36 set :spotValue.3:y :computeRowValues:y
    37 set :spotValue.3:ore :computeRowValues:ore
 
    39 select value equal floor :spotValue.3:ore 0.00392156862745098 0
    40 sensor solid type @solid
    41 select :spotValue.3:result notEqual solid false 0.09803921568627451 value
-    * label *label20
    42 op add :spotValue.4:x :computeRowValues:x 2
    43 set :spotValue.4:y :computeRowValues:y
    44 set :spotValue.4:ore :computeRowValues:ore
 
    46 select value equal floor :spotValue.4:ore 0.00392156862745098 0
    47 sensor solid type @solid
    48 select :spotValue.4:result notEqual solid false 0.09803921568627451 value
-    * label *label21
    49 jump *label22 notEqual :computeRowValues:size 2
    50 op add *tmp12 :spotValue:result :spotValue.1:result
    51 op add *tmp13 :spotValue.1:result :spotValue.2:result
 
    72 select value equal floor :spotValue.5:ore 0.00392156862745098 0
    73 sensor solid type @solid
    74 select :spotValue.5:result notEqual solid false 0.09803921568627451 value
-    * label *label26
    75 op add :spotValue.6:x :computeRowValues:x 3
    76 set :spotValue.6:y :computeRowValues:y
    77 set :spotValue.6:ore :computeRowValues:ore
 
    79 select value equal floor :spotValue.6:ore 0.00392156862745098 0
    80 sensor solid type @solid
    81 select :spotValue.6:result notEqual solid false 0.09803921568627451 value
-    * label *label27
    82 op add *tmp30 :spotValue:result :spotValue.1:result
    83 op add *tmp31 *tmp30 :spotValue.2:result
    84 op add *tmp32 :spotValue.5:result *tmp31
 
   115 set .mapAction "Locating ore..."
   116 set .angle 0
   117 set .mapProgress 0
-    * label *label47
   118 ucontrol within :findDrillLocationLocal:x :findDrillLocationLocal:y 6 *tmp88
   119 jump *label49 notEqual *tmp88 false
   120 label *label449
   121 ucontrol approach :findDrillLocationLocal:x :findDrillLocationLocal:y 5.5
-    * label *label48
   122 ucontrol within :findDrillLocationLocal:x :findDrillLocationLocal:y 6 *tmp88
   123 jump *label449 equal *tmp88 false
   124 label *label49
-    * label *label46
-    * label *label45
   125 op div *tmp91 *tmp85 3.8197185279121366
   126 op pow .mapTotal *tmp91 2
   127 set :findDrillLocationLocal:oreX 0
 
   144 op mul .mapProgress .angle .angle
   145 op sub *tmp107 @mapw 5
   146 op sub *tmp114 @maph 5
-    * label *label54
   147 jump *label56 greaterThanEq :locateOreAway:distance :findDrillLocationLocal:distanceLimit
   148 label *label427
   149 op div :locateOreAway:a .angle @degToRad
 
   152 op add *tmp106 .coreX *tmp105
   153 op max *tmp109 *tmp106 5
   154 op min *tmp108 *tmp109 *tmp107
-    * label *label57
   155 op cos *tmp111 :locateOreAway:a
   156 op mul *tmp112 *tmp111 :locateOreAway:distance
   157 op add *tmp113 .coreY *tmp112
   158 op max *tmp116 *tmp113 5
   159 op min *tmp115 *tmp116 *tmp114
-    * label *label58
-    * label *label60
   160 ucontrol within *tmp108 *tmp115 5 *tmp118
   161 jump *label62 notEqual *tmp118 false
   162 label *label433
   163 ucontrol approach *tmp108 *tmp115 4.5
-    * label *label61
   164 ucontrol within *tmp108 *tmp115 5 *tmp118
   165 jump *label433 equal *tmp118 false
   166 label *label62
-    * label *label59
   167 op div *tmp121 3.8197185279121366 :locateOreAway:distance
   168 op add .angle .angle *tmp121
   169 op mul .mapProgress .angle .angle
 
   173 set *tmp98 false
   174 jump *label53 always
   175 label *label63
-    * label *label64
   176 op sub *tmp128 :locateOreAway:x .coreX
   177 op abs *tmp129 *tmp128
   178 op sub *tmp130 :locateOreAway:y .coreY
 
   185 jump *label67 notEqual :locateOreAway:lastY :locateOreAway:y
   186 jump *label55 always
   187 label *label67
-    * label *label68
   188 label *label65
-    * label *label66
   189 jump *label69 lessThan :locateOreAway:coreDist 7
   190 jump *label71 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
   191 set :locateOreAway:lastX :locateOreAway:x
   192 set :locateOreAway:lastY :locateOreAway:y
   193 set *tmp145 .locations
   194 set :visited:i .locationsStart
-    * label *label74
   195 jump *label76 greaterThanEq .locationsStart *tmp145
   196 label *label428
   197 op mul :visited:index 4 :visited:i
 
   206 set *tmp144 true
   207 jump *label73 always
   208 label *label77
-    * label *label78
-    * label *label75
   209 op add :visited:i :visited:i 1
   210 jump *label428 lessThan :visited:i *tmp145
   211 label *label76
 
   219 set *tmp98 true
   220 jump *label53 always
   221 label *label79
-    * label *label80
   222 label *label71
-    * label *label72
   223 label *label69
-    * label *label70
   224 label *label55
   225 jump *label427 lessThan :locateOreAway:distance :findDrillLocationLocal:distanceLimit
   226 label *label56
 
   232 op greaterThan :findDrillLocationLocal*retval :findDrillLocationLocal:capacity 0
   233 jump *label44 always
   234 label *label81
-    * label *label82
   235 jump *label83 lessThan :findDrillLocationLocal:limit 1000
   236 op add .mapSpots .mapSpots 1
   237 label *label83
-    * label *label84
-    * label *label87
   238 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp170
   239 jump *label89 notEqual *tmp170 false
   240 label *label434
   241 ucontrol approach :locateOreAway:x :locateOreAway:y 5.5
-    * label *label88
   242 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp170
   243 jump *label434 equal *tmp170 false
   244 label *label89
-    * label *label86
-    * label *label85
   245 set :findDrillLocationLocal:last 0
   246 label *label90
   247 set :findBestPosition:x :findDrillLocationLocal:oreX
 
   249 set :findBestPosition:ore :findDrillLocationLocal:ore
   250 set :findBestPosition:size :findDrillLocationLocal:size
   251 op sub *tmp174 :findDrillLocationLocal:oreY 2
-    * label *label436
   252 op sub :spotValue:x :findDrillLocationLocal:oreX 2
   253 set :spotValue:y *tmp174
   254 set :spotValue:ore :findDrillLocationLocal:ore
 
   256 select value equal floor :spotValue:ore 0.00392156862745098 0
   257 sensor solid type @solid
   258 select :spotValue:result notEqual solid false 0.09803921568627451 value
-    * label *label437
   259 op sub :spotValue.1:x :findDrillLocationLocal:oreX 1
   260 set :spotValue.1:y *tmp174
   261 set :spotValue.1:ore :findDrillLocationLocal:ore
 
   263 select value equal floor :spotValue.1:ore 0.00392156862745098 0
   264 sensor solid type @solid
   265 select :spotValue.1:result notEqual solid false 0.09803921568627451 value
-    * label *label438
   266 set :spotValue.2:x :findDrillLocationLocal:oreX
   267 set :spotValue.2:y *tmp174
   268 set :spotValue.2:ore :findDrillLocationLocal:ore
 
   270 select value equal floor :spotValue.2:ore 0.00392156862745098 0
   271 sensor solid type @solid
   272 select :spotValue.2:result notEqual solid false 0.09803921568627451 value
-    * label *label439
   273 op add :spotValue.3:x :findDrillLocationLocal:oreX 1
   274 set :spotValue.3:y *tmp174
   275 set :spotValue.3:ore :findDrillLocationLocal:ore
 
   277 select value equal floor :spotValue.3:ore 0.00392156862745098 0
   278 sensor solid type @solid
   279 select :spotValue.3:result notEqual solid false 0.09803921568627451 value
-    * label *label440
   280 op add :spotValue.4:x :findDrillLocationLocal:oreX 2
   281 set :spotValue.4:y *tmp174
   282 set :spotValue.4:ore :findDrillLocationLocal:ore
 
   284 select value equal floor :spotValue.4:ore 0.00392156862745098 0
   285 sensor solid type @solid
   286 select :spotValue.4:result notEqual solid false 0.09803921568627451 value
-    * label *label441
   287 jump *label442 notEqual :findDrillLocationLocal:size 2
   288 op add *tmp12 :spotValue:result :spotValue.1:result
   289 op add *tmp13 :spotValue.1:result :spotValue.2:result
 
   310 select value equal floor :spotValue.5:ore 0.00392156862745098 0
   311 sensor solid type @solid
   312 select :spotValue.5:result notEqual solid false 0.09803921568627451 value
-    * label *label444
   313 op add :spotValue.6:x :findDrillLocationLocal:oreX 3
   314 set :spotValue.6:y *tmp174
   315 set :spotValue.6:ore :findDrillLocationLocal:ore
 
   317 select value equal floor :spotValue.6:ore 0.00392156862745098 0
   318 sensor solid type @solid
   319 select :spotValue.6:result notEqual solid false 0.09803921568627451 value
-    * label *label445
   320 op add *tmp30 :spotValue:result :spotValue.1:result
   321 op add *tmp31 *tmp30 :spotValue.2:result
   322 op add *tmp32 :spotValue.5:result *tmp31
 
   383 set :findDrillLocationLocal:diffY -1.5
   384 set :findBestPosition:best :updateRowPositions2x2:col1
   385 label *label105
-    * label *label106
   386 label *label103
-    * label *label104
-    * label *label102
   387 jump *label108 greaterThanEq :updateRowPositions2x2:col2 0.0784313725490196
   388 jump *label110 lessThanEq :updateRowPositions2x2:col2 :findBestPosition:best
   389 set :findDrillLocationLocal:diffX -0.5
   390 set :findDrillLocationLocal:diffY -1.5
   391 set :findBestPosition:best :updateRowPositions2x2:col2
   392 label *label110
-    * label *label111
   393 label *label108
-    * label *label109
-    * label *label107
   394 jump *label113 greaterThanEq :updateRowPositions2x2:col3 0.0784313725490196
   395 jump *label115 lessThanEq :updateRowPositions2x2:col3 :findBestPosition:best
   396 set :findDrillLocationLocal:diffX 0.5
   397 set :findDrillLocationLocal:diffY -1.5
   398 set :findBestPosition:best :updateRowPositions2x2:col3
   399 label *label115
-    * label *label116
   400 label *label113
-    * label *label114
-    * label *label112
   401 jump *label118 greaterThanEq :updateRowPositions2x2:col4 0.0784313725490196
   402 jump *label120 lessThanEq :updateRowPositions2x2:col4 :findBestPosition:best
   403 set :findDrillLocationLocal:diffX 1.5
   404 set :findDrillLocationLocal:diffY -1.5
   405 set :findBestPosition:best :updateRowPositions2x2:col4
   406 label *label120
-    * label *label121
   407 label *label118
-    * label *label119
-    * label *label117
-    * label *label101
   408 unpackcolor :updateRowPositions2x2.1:col1 :updateRowPositions2x2.1:col2 :updateRowPositions2x2.1:col3 :updateRowPositions2x2.1:col4 :findBestPosition:row2
   409 jump *label124 greaterThanEq :updateRowPositions2x2.1:col1 0.0784313725490196
   410 jump *label126 lessThanEq :updateRowPositions2x2.1:col1 :findBestPosition:best
 
   412 set :findDrillLocationLocal:diffY -0.5
   413 set :findBestPosition:best :updateRowPositions2x2.1:col1
   414 label *label126
-    * label *label127
   415 label *label124
-    * label *label125
-    * label *label123
   416 jump *label129 greaterThanEq :updateRowPositions2x2.1:col2 0.0784313725490196
   417 jump *label131 lessThanEq :updateRowPositions2x2.1:col2 :findBestPosition:best
   418 set :findDrillLocationLocal:diffX -0.5
   419 set :findDrillLocationLocal:diffY -0.5
   420 set :findBestPosition:best :updateRowPositions2x2.1:col2
   421 label *label131
-    * label *label132
   422 label *label129
-    * label *label130
-    * label *label128
   423 jump *label134 greaterThanEq :updateRowPositions2x2.1:col3 0.0784313725490196
   424 jump *label136 lessThanEq :updateRowPositions2x2.1:col3 :findBestPosition:best
   425 set :findDrillLocationLocal:diffX 0.5
   426 set :findDrillLocationLocal:diffY -0.5
   427 set :findBestPosition:best :updateRowPositions2x2.1:col3
   428 label *label136
-    * label *label137
   429 label *label134
-    * label *label135
-    * label *label133
   430 jump *label139 greaterThanEq :updateRowPositions2x2.1:col4 0.0784313725490196
   431 jump *label141 lessThanEq :updateRowPositions2x2.1:col4 :findBestPosition:best
   432 set :findDrillLocationLocal:diffX 1.5
   433 set :findDrillLocationLocal:diffY -0.5
   434 set :findBestPosition:best :updateRowPositions2x2.1:col4
   435 label *label141
-    * label *label142
   436 label *label139
-    * label *label140
-    * label *label138
-    * label *label122
   437 unpackcolor :updateRowPositions2x2.2:col1 :updateRowPositions2x2.2:col2 :updateRowPositions2x2.2:col3 :updateRowPositions2x2.2:col4 :findBestPosition:row3
   438 jump *label145 greaterThanEq :updateRowPositions2x2.2:col1 0.0784313725490196
   439 jump *label147 lessThanEq :updateRowPositions2x2.2:col1 :findBestPosition:best
 
   441 set :findDrillLocationLocal:diffY 0.5
   442 set :findBestPosition:best :updateRowPositions2x2.2:col1
   443 label *label147
-    * label *label148
   444 label *label145
-    * label *label146
-    * label *label144
   445 jump *label150 greaterThanEq :updateRowPositions2x2.2:col2 0.0784313725490196
   446 jump *label152 lessThanEq :updateRowPositions2x2.2:col2 :findBestPosition:best
   447 set :findDrillLocationLocal:diffX -0.5
   448 set :findDrillLocationLocal:diffY 0.5
   449 set :findBestPosition:best :updateRowPositions2x2.2:col2
   450 label *label152
-    * label *label153
   451 label *label150
-    * label *label151
-    * label *label149
   452 jump *label155 greaterThanEq :updateRowPositions2x2.2:col3 0.0784313725490196
   453 jump *label157 lessThanEq :updateRowPositions2x2.2:col3 :findBestPosition:best
   454 set :findDrillLocationLocal:diffX 0.5
   455 set :findDrillLocationLocal:diffY 0.5
   456 set :findBestPosition:best :updateRowPositions2x2.2:col3
   457 label *label157
-    * label *label158
   458 label *label155
-    * label *label156
-    * label *label154
   459 jump *label160 greaterThanEq :updateRowPositions2x2.2:col4 0.0784313725490196
   460 jump *label162 lessThanEq :updateRowPositions2x2.2:col4 :findBestPosition:best
   461 set :findDrillLocationLocal:diffX 1.5
   462 set :findDrillLocationLocal:diffY 0.5
   463 set :findBestPosition:best :updateRowPositions2x2.2:col4
   464 label *label162
-    * label *label163
   465 label *label160
-    * label *label161
-    * label *label159
-    * label *label143
   466 unpackcolor :updateRowPositions2x2.3:col1 :updateRowPositions2x2.3:col2 :updateRowPositions2x2.3:col3 :updateRowPositions2x2.3:col4 :findBestPosition:row4
   467 jump *label166 greaterThanEq :updateRowPositions2x2.3:col1 0.0784313725490196
   468 jump *label168 lessThanEq :updateRowPositions2x2.3:col1 :findBestPosition:best
 
   470 set :findDrillLocationLocal:diffY 1.5
   471 set :findBestPosition:best :updateRowPositions2x2.3:col1
   472 label *label168
-    * label *label169
   473 label *label166
-    * label *label167
-    * label *label165
   474 jump *label171 greaterThanEq :updateRowPositions2x2.3:col2 0.0784313725490196
   475 jump *label173 lessThanEq :updateRowPositions2x2.3:col2 :findBestPosition:best
   476 set :findDrillLocationLocal:diffX -0.5
   477 set :findDrillLocationLocal:diffY 1.5
   478 set :findBestPosition:best :updateRowPositions2x2.3:col2
   479 label *label173
-    * label *label174
   480 label *label171
-    * label *label172
-    * label *label170
   481 jump *label176 greaterThanEq :updateRowPositions2x2.3:col3 0.0784313725490196
   482 jump *label178 lessThanEq :updateRowPositions2x2.3:col3 :findBestPosition:best
   483 set :findDrillLocationLocal:diffX 0.5
   484 set :findDrillLocationLocal:diffY 1.5
   485 set :findBestPosition:best :updateRowPositions2x2.3:col3
   486 label *label178
-    * label *label179
   487 label *label176
-    * label *label177
-    * label *label175
   488 jump *label181 greaterThanEq :updateRowPositions2x2.3:col4 0.0784313725490196
   489 jump *label183 lessThanEq :updateRowPositions2x2.3:col4 :findBestPosition:best
   490 set :findDrillLocationLocal:diffX 1.5
   491 set :findDrillLocationLocal:diffY 1.5
   492 set :findBestPosition:best :updateRowPositions2x2.3:col4
   493 label *label183
-    * label *label184
   494 label *label181
-    * label *label182
-    * label *label180
-    * label *label164
   495 jump *label100 always
   496 label *label99
   497 jump *label185 notEqual :findBestPosition:size 3
 
   507 set :findDrillLocationLocal:diffY -1
   508 set :findBestPosition:best :updateRowPositions3x3:col1
   509 label *label191
-    * label *label192
   510 label *label189
-    * label *label190
-    * label *label188
   511 jump *label194 greaterThanEq :updateRowPositions3x3:col2 0.0784313725490196
   512 jump *label196 lessThanEq :updateRowPositions3x3:col2 :findBestPosition:best
   513 set :findDrillLocationLocal:diffX 0
   514 set :findDrillLocationLocal:diffY -1
   515 set :findBestPosition:best :updateRowPositions3x3:col2
   516 label *label196
-    * label *label197
   517 label *label194
-    * label *label195
-    * label *label193
   518 jump *label199 greaterThanEq :updateRowPositions3x3:col3 0.0784313725490196
   519 jump *label201 lessThanEq :updateRowPositions3x3:col3 :findBestPosition:best
   520 set :findDrillLocationLocal:diffX 1
   521 set :findDrillLocationLocal:diffY -1
   522 set :findBestPosition:best :updateRowPositions3x3:col3
   523 label *label201
-    * label *label202
   524 label *label199
-    * label *label200
-    * label *label198
-    * label *label187
   525 unpackcolor :updateRowPositions3x3.1:col1 :updateRowPositions3x3.1:col2 :updateRowPositions3x3.1:col3 0 :findBestPosition:row2.1
   526 jump *label205 greaterThanEq :updateRowPositions3x3.1:col1 0.0784313725490196
   527 jump *label207 lessThanEq :updateRowPositions3x3.1:col1 :findBestPosition:best
 
   529 set :findDrillLocationLocal:diffY 0
   530 set :findBestPosition:best :updateRowPositions3x3.1:col1
   531 label *label207
-    * label *label208
   532 label *label205
-    * label *label206
-    * label *label204
   533 jump *label210 greaterThanEq :updateRowPositions3x3.1:col2 0.0784313725490196
   534 jump *label212 lessThanEq :updateRowPositions3x3.1:col2 :findBestPosition:best
   535 set :findDrillLocationLocal:diffX 0
   536 set :findDrillLocationLocal:diffY 0
   537 set :findBestPosition:best :updateRowPositions3x3.1:col2
   538 label *label212
-    * label *label213
   539 label *label210
-    * label *label211
-    * label *label209
   540 jump *label215 greaterThanEq :updateRowPositions3x3.1:col3 0.0784313725490196
   541 jump *label217 lessThanEq :updateRowPositions3x3.1:col3 :findBestPosition:best
   542 set :findDrillLocationLocal:diffX 1
   543 set :findDrillLocationLocal:diffY 0
   544 set :findBestPosition:best :updateRowPositions3x3.1:col3
   545 label *label217
-    * label *label218
   546 label *label215
-    * label *label216
-    * label *label214
-    * label *label203
   547 unpackcolor :updateRowPositions3x3.2:col1 :updateRowPositions3x3.2:col2 :updateRowPositions3x3.2:col3 0 :findBestPosition:row3.1
   548 jump *label221 greaterThanEq :updateRowPositions3x3.2:col1 0.0784313725490196
   549 jump *label223 lessThanEq :updateRowPositions3x3.2:col1 :findBestPosition:best
 
   551 set :findDrillLocationLocal:diffY 1
   552 set :findBestPosition:best :updateRowPositions3x3.2:col1
   553 label *label223
-    * label *label224
   554 label *label221
-    * label *label222
-    * label *label220
   555 jump *label226 greaterThanEq :updateRowPositions3x3.2:col2 0.0784313725490196
   556 jump *label228 lessThanEq :updateRowPositions3x3.2:col2 :findBestPosition:best
   557 set :findDrillLocationLocal:diffX 0
   558 set :findDrillLocationLocal:diffY 1
   559 set :findBestPosition:best :updateRowPositions3x3.2:col2
   560 label *label228
-    * label *label229
   561 label *label226
-    * label *label227
-    * label *label225
   562 jump *label231 greaterThanEq :updateRowPositions3x3.2:col3 0.0784313725490196
   563 jump *label233 lessThanEq :updateRowPositions3x3.2:col3 :findBestPosition:best
   564 set :findDrillLocationLocal:diffX 1
   565 set :findDrillLocationLocal:diffY 1
   566 set :findBestPosition:best :updateRowPositions3x3.2:col3
   567 label *label233
-    * label *label234
   568 label *label231
-    * label *label232
-    * label *label230
-    * label *label219
   569 jump *label186 always
   570 label *label185
   571 op sub *tmp301 :findBestPosition:y 3
 
   600 set :findDrillLocationLocal:diffY -1.5
   601 set :findBestPosition:best :updateRowPositions4x4:col1
   602 label *label241
-    * label *label242
   603 label *label239
-    * label *label240
-    * label *label238
   604 jump *label244 greaterThanEq :updateRowPositions4x4:col2 0.0784313725490196
   605 jump *label246 lessThanEq :updateRowPositions4x4:col2 :findBestPosition:best
   606 set :findDrillLocationLocal:diffX -0.5
   607 set :findDrillLocationLocal:diffY -1.5
   608 set :findBestPosition:best :updateRowPositions4x4:col2
   609 label *label246
-    * label *label247
   610 label *label244
-    * label *label245
-    * label *label243
   611 jump *label249 greaterThanEq :updateRowPositions4x4:col3 0.0784313725490196
   612 jump *label251 lessThanEq :updateRowPositions4x4:col3 :findBestPosition:best
   613 set :findDrillLocationLocal:diffX 0.5
   614 set :findDrillLocationLocal:diffY -1.5
   615 set :findBestPosition:best :updateRowPositions4x4:col3
   616 label *label251
-    * label *label252
   617 label *label249
-    * label *label250
-    * label *label248
   618 jump *label254 greaterThanEq :updateRowPositions4x4:col4 0.0784313725490196
   619 jump *label256 lessThanEq :updateRowPositions4x4:col4 :findBestPosition:best
   620 set :findDrillLocationLocal:diffX 1.5
   621 set :findDrillLocationLocal:diffY -1.5
   622 set :findBestPosition:best :updateRowPositions4x4:col4
   623 label *label256
-    * label *label257
   624 label *label254
-    * label *label255
-    * label *label253
-    * label *label237
   625 unpackcolor :updateRowPositions4x4.1:col1 :updateRowPositions4x4.1:col2 :updateRowPositions4x4.1:col3 :updateRowPositions4x4.1:col4 :findBestPosition:row2.2
   626 jump *label260 greaterThanEq :updateRowPositions4x4.1:col1 0.0784313725490196
   627 jump *label262 lessThanEq :updateRowPositions4x4.1:col1 :findBestPosition:best
 
   629 set :findDrillLocationLocal:diffY -0.5
   630 set :findBestPosition:best :updateRowPositions4x4.1:col1
   631 label *label262
-    * label *label263
   632 label *label260
-    * label *label261
-    * label *label259
   633 jump *label265 greaterThanEq :updateRowPositions4x4.1:col2 0.0784313725490196
   634 jump *label267 lessThanEq :updateRowPositions4x4.1:col2 :findBestPosition:best
   635 set :findDrillLocationLocal:diffX -0.5
   636 set :findDrillLocationLocal:diffY -0.5
   637 set :findBestPosition:best :updateRowPositions4x4.1:col2
   638 label *label267
-    * label *label268
   639 label *label265
-    * label *label266
-    * label *label264
   640 jump *label270 greaterThanEq :updateRowPositions4x4.1:col3 0.0784313725490196
   641 jump *label272 lessThanEq :updateRowPositions4x4.1:col3 :findBestPosition:best
   642 set :findDrillLocationLocal:diffX 0.5
   643 set :findDrillLocationLocal:diffY -0.5
   644 set :findBestPosition:best :updateRowPositions4x4.1:col3
   645 label *label272
-    * label *label273
   646 label *label270
-    * label *label271
-    * label *label269
   647 jump *label275 greaterThanEq :updateRowPositions4x4.1:col4 0.0784313725490196
   648 jump *label277 lessThanEq :updateRowPositions4x4.1:col4 :findBestPosition:best
   649 set :findDrillLocationLocal:diffX 1.5
   650 set :findDrillLocationLocal:diffY -0.5
   651 set :findBestPosition:best :updateRowPositions4x4.1:col4
   652 label *label277
-    * label *label278
   653 label *label275
-    * label *label276
-    * label *label274
-    * label *label258
   654 unpackcolor :updateRowPositions4x4.2:col1 :updateRowPositions4x4.2:col2 :updateRowPositions4x4.2:col3 :updateRowPositions4x4.2:col4 :findBestPosition:row3.2
   655 jump *label281 greaterThanEq :updateRowPositions4x4.2:col1 0.0784313725490196
   656 jump *label283 lessThanEq :updateRowPositions4x4.2:col1 :findBestPosition:best
 
   658 set :findDrillLocationLocal:diffY 0.5
   659 set :findBestPosition:best :updateRowPositions4x4.2:col1
   660 label *label283
-    * label *label284
   661 label *label281
-    * label *label282
-    * label *label280
   662 jump *label286 greaterThanEq :updateRowPositions4x4.2:col2 0.0784313725490196
   663 jump *label288 lessThanEq :updateRowPositions4x4.2:col2 :findBestPosition:best
   664 set :findDrillLocationLocal:diffX -0.5
   665 set :findDrillLocationLocal:diffY 0.5
   666 set :findBestPosition:best :updateRowPositions4x4.2:col2
   667 label *label288
-    * label *label289
   668 label *label286
-    * label *label287
-    * label *label285
   669 jump *label291 greaterThanEq :updateRowPositions4x4.2:col3 0.0784313725490196
   670 jump *label293 lessThanEq :updateRowPositions4x4.2:col3 :findBestPosition:best
   671 set :findDrillLocationLocal:diffX 0.5
   672 set :findDrillLocationLocal:diffY 0.5
   673 set :findBestPosition:best :updateRowPositions4x4.2:col3
   674 label *label293
-    * label *label294
   675 label *label291
-    * label *label292
-    * label *label290
   676 jump *label296 greaterThanEq :updateRowPositions4x4.2:col4 0.0784313725490196
   677 jump *label298 lessThanEq :updateRowPositions4x4.2:col4 :findBestPosition:best
   678 set :findDrillLocationLocal:diffX 1.5
   679 set :findDrillLocationLocal:diffY 0.5
   680 set :findBestPosition:best :updateRowPositions4x4.2:col4
   681 label *label298
-    * label *label299
   682 label *label296
-    * label *label297
-    * label *label295
-    * label *label279
   683 unpackcolor :updateRowPositions4x4.3:col1 :updateRowPositions4x4.3:col2 :updateRowPositions4x4.3:col3 :updateRowPositions4x4.3:col4 :findBestPosition:row4.1
   684 jump *label302 greaterThanEq :updateRowPositions4x4.3:col1 0.0784313725490196
   685 jump *label304 lessThanEq :updateRowPositions4x4.3:col1 :findBestPosition:best
 
   687 set :findDrillLocationLocal:diffY 1.5
   688 set :findBestPosition:best :updateRowPositions4x4.3:col1
   689 label *label304
-    * label *label305
   690 label *label302
-    * label *label303
-    * label *label301
   691 jump *label307 greaterThanEq :updateRowPositions4x4.3:col2 0.0784313725490196
   692 jump *label309 lessThanEq :updateRowPositions4x4.3:col2 :findBestPosition:best
   693 set :findDrillLocationLocal:diffX -0.5
   694 set :findDrillLocationLocal:diffY 1.5
   695 set :findBestPosition:best :updateRowPositions4x4.3:col2
   696 label *label309
-    * label *label310
   697 label *label307
-    * label *label308
-    * label *label306
   698 jump *label312 greaterThanEq :updateRowPositions4x4.3:col3 0.0784313725490196
   699 jump *label314 lessThanEq :updateRowPositions4x4.3:col3 :findBestPosition:best
   700 set :findDrillLocationLocal:diffX 0.5
   701 set :findDrillLocationLocal:diffY 1.5
   702 set :findBestPosition:best :updateRowPositions4x4.3:col3
   703 label *label314
-    * label *label315
   704 label *label312
-    * label *label313
-    * label *label311
   705 jump *label317 greaterThanEq :updateRowPositions4x4.3:col4 0.0784313725490196
   706 jump *label319 lessThanEq :updateRowPositions4x4.3:col4 :findBestPosition:best
   707 set :findDrillLocationLocal:diffX 1.5
   708 set :findDrillLocationLocal:diffY 1.5
   709 set :findBestPosition:best :updateRowPositions4x4.3:col4
   710 label *label319
-    * label *label320
   711 label *label317
-    * label *label318
-    * label *label316
-    * label *label300
   712 label *label186
   713 label *label100
   714 op mul *tmp173 :findBestPosition:best 255
-    * label *label93
   715 jump *label321 lessThanEq *tmp173 :findDrillLocationLocal:capacity
   716 op add :findDrillLocationLocal:dx :findDrillLocationLocal:oreX :findDrillLocationLocal:diffX
   717 op add :findDrillLocationLocal:dy :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
 
   719 jump *label323 greaterThanEq :findDrillLocationLocal:limit 1000
   720 set .mapSpots *tmp173
   721 label *label323
-    * label *label324
   722 jump *label325 lessThan :findDrillLocationLocal:capacity :findDrillLocationLocal:limit
   723 op add .count .count 1
   724 sensor *tmp392 :findDrillLocationLocal:item @id
 
   730 op add .count .count 1
   731 write :findDrillLocationLocal:dy bank1 .count
   732 op add .locations .locations 1
-    * label *label327
   733 ucontrol unbind
   734 set :findDrillLocationLocal*retval true
   735 jump *label44 always
   736 label *label325
-    * label *label326
   737 label *label321
-    * label *label322
   738 jump *label328 lessThanEq *tmp173 :findDrillLocationLocal:best
   739 op add :findDrillLocationLocal:bestX :findDrillLocationLocal:oreX :findDrillLocationLocal:diffX
   740 op add :findDrillLocationLocal:bestY :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
   741 set :findDrillLocationLocal:best *tmp173
   742 label *label328
-    * label *label329
   743 jump *label330 greaterThan *tmp173 :findDrillLocationLocal:last
   744 jump *label92 always
   745 label *label330
-    * label *label331
   746 set :findDrillLocationLocal:last *tmp173
   747 op mul :round:x :findDrillLocationLocal:diffX 1.1
   748 op add *tmp408 :round:x 0.5
   749 op floor *tmp407 *tmp408
-    * label *label332
   750 op add :findDrillLocationLocal:oreX :findDrillLocationLocal:oreX *tmp407
   751 op mul :round.1:x :findDrillLocationLocal:diffY 1.1
   752 op add *tmp412 :round.1:x 0.5
   753 op floor *tmp411 *tmp412
-    * label *label333
   754 op add :findDrillLocationLocal:oreY :findDrillLocationLocal:oreY *tmp411
   755 op sub *tmp414 :findDrillLocationLocal:oreX .coreX
   756 op abs *tmp415 *tmp414
 
   760 jump *label334 greaterThanEq *tmp418 7
   761 jump *label92 always
   762 label *label334
-    * label *label335
-    * label *label91
   763 jump *label90 always
   764 label *label92
   765 jump *label336 lessThan :findDrillLocationLocal:best 0
 
   773 op add .count .count 1
   774 write :findDrillLocationLocal:bestY bank1 .count
   775 op add .locations .locations 1
-    * label *label338
   776 label *label336
-    * label *label337
-    * label *label51
   777 jump *label50 always
-    * label *label52
   778 set :findDrillLocationLocal*retval null
   779 label *label44
   780 return :findDrillLocationLocal*retaddr
   781 end
   782 label *label10
-    * label *label342
   783 ucontrol within :createTerrainMask:x :createTerrainMask:y 6 *tmp435
   784 jump *label344 notEqual *tmp435 false
   785 label *label435
   786 ucontrol approach :createTerrainMask:x :createTerrainMask:y 5.5
-    * label *label343
   787 ucontrol within :createTerrainMask:x :createTerrainMask:y 6 *tmp435
   788 jump *label435 equal *tmp435 false
   789 label *label344
-    * label *label341
-    * label *label340
   790 set :createTerrainMask:result 0
   791 set :createTerrainMask:r 3
-    * label *label345
   792 label *label429
   793 set :createTerrainMask:c 3
   794 op add *tmp440 :createTerrainMask:y :createTerrainMask:r
-    * label *label348
   795 label *label430
   796 op shl *tmp438 :createTerrainMask:result 1
   797 op add :isBlocked:x :createTerrainMask:x :createTerrainMask:c
 
   799 ucontrol getBlock :isBlocked:x :isBlocked:y type building floor
   800 select type equal type @boulder @air type
   801 select :isBlocked:result equal type @air 0 1
-    * label *label351
   802 op or :createTerrainMask:result *tmp438 :isBlocked:result
-    * label *label349
   803 op sub :createTerrainMask:c :createTerrainMask:c 1
   804 jump *label430 greaterThanEq :createTerrainMask:c -3
-    * label *label350
-    * label *label346
   805 op sub :createTerrainMask:r :createTerrainMask:r 1
   806 jump *label429 greaterThanEq :createTerrainMask:r -3
-    * label *label347
   807 set :createTerrainMask*retval :createTerrainMask:result
-    * label *label339
   808 return :createTerrainMask*retaddr
   809 end
   810 label *label11
   811 set :findPossiblePlacement:y -3
-    * label *label353
   812 jump *label355 greaterThan :findPossiblePlacement:y 3
   813 label *label431
   814 op add *tmp443 :findPossiblePlacement:y 3
   815 op mul *tmp444 7 *tmp443
   816 op shl :findPossiblePlacement:mask :findPossiblePlacement:placementMask *tmp444
   817 set :findPossiblePlacement:x -3
-    * label *label356
   818 jump *label358 greaterThan :findPossiblePlacement:x 3
   819 label *label432
   820 op and *tmp446 :findPossiblePlacement:terrainMask :findPossiblePlacement:mask
 
   824 op add :findPossiblePlacement*retval *tmp450 :findPossiblePlacement:x
   825 jump *label352 always
   826 label *label359
-    * label *label360
   827 op sub *tmp452 3 :findPossiblePlacement:width
   828 jump *label361 lessThanEq :findPossiblePlacement:x *tmp452
   829 jump *label358 always
   830 label *label361
-    * label *label362
   831 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
-    * label *label357
   832 op add :findPossiblePlacement:x :findPossiblePlacement:x 1
   833 jump *label432 lessThanEq :findPossiblePlacement:x 3
   834 label *label358
 
   836 jump *label363 lessThanEq :findPossiblePlacement:y *tmp455
   837 jump *label355 always
   838 label *label363
-    * label *label364
-    * label *label354
   839 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
   840 jump *label431 lessThanEq :findPossiblePlacement:y 3
   841 label *label355
 
   856 set :tryPlaceGenerator*retval false
   857 jump *label365 always
   858 label *label369
-    * label *label370
   859 op add *tmp463 :tryPlaceGenerator:centerX 0.5
   860 op add .water2X *tmp463 :findPossiblePlacement:x
   861 op add *tmp465 :tryPlaceGenerator:centerY 0.5
 
   878 set :tryPlaceGenerator*retval false
   879 jump *label365 always
   880 label *label372
-    * label *label373
   881 op add *tmp475 :tryPlaceGenerator:centerX 0.5
   882 op add .water2X *tmp475 :findPossiblePlacement:x
   883 op add *tmp477 :tryPlaceGenerator:centerY 0.5
 
   899 set :tryPlaceGenerator*retval false
   900 jump *label365 always
   901 label *label375
-    * label *label376
   902 op add .nodeX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   903 op add .nodeY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   904 op shl *tmp489 1 :findPossiblePlacement*retval
 
   914 set :tryPlaceGenerator*retval false
   915 jump *label365 always
   916 label *label378
-    * label *label379
   917 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   918 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   919 op shl *tmp495 1 :findPossiblePlacement*retval
 
   929 set :tryPlaceGenerator*retval false
   930 jump *label365 always
   931 label *label381
-    * label *label382
   932 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   933 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   934 set :tryPlaceGenerator*retval true
 
   950 setaddr :createTerrainMask*retaddr *label384 (h:*label384)
   951 call *label10 *invalid :createTerrainMask*retval (m:*label384) (h:*label384)
   952 label *label384
-    * label *label385
   953 op or :layoutThoriumDrillAtLocation:terrainMask :createTerrainMask*retval 7575371776
-    * label *label386
   954 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
-    * label *label387
   955 set :layoutThoriumDrillAtLocation:mask2x2 387
   956 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
   957 set :findPossiblePlacement:placementMask 387
 
   969 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp544
   970 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp544
   971 label *label389
-    * label *label390
   972 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
   973 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
   974 set :findPossiblePlacement:width 2
 
   984 op shl *tmp553 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   985 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp553
   986 label *label392
-    * label *label393
-    * label *label394
   987 set :layoutThoriumDrillAtLocation:generatorHorizontal 1935
-    * label *label395
   988 set :layoutThoriumDrillAtLocation:generatorVertical 6340995
   989 set :tryPlaceGenerator:centerX .drillX
   990 set :tryPlaceGenerator:centerY .drillY
 
   998 set :layoutThoriumDrillAtLocation*retval true
   999 jump *label383 always
  1000 label *label397
-    * label *label398
  1001 set :layoutThoriumDrillAtLocation:sx 3
  1002 set :layoutThoriumDrillAtLocation:sy 3
  1003 setaddr *tmp568 *label402
 
  1034 set *tmp572 0
  1035 jump *label407 always
  1036 label *label408
-    * label *label409
  1037 op mul *tmp579 7 :layoutThoriumDrillAtLocation:sy
  1038 op add :shiftMask:shift :layoutThoriumDrillAtLocation:sx *tmp579
  1039 jump *label410 lessThanEq :shiftMask:shift 0
 
  1051 jump *label414 lessThanEq :layoutThoriumDrillAtLocation:sx 0
  1052 op shl :shiftMask:keep :shiftMask:keep *tmp590
  1053 label *label414
-    * label *label415
  1054 op shl *tmp596 :shiftMask:keep 7
  1055 op or :shiftMask:keep :shiftMask:keep *tmp596
  1056 op shl *tmp597 :shiftMask:keep 14
 
  1059 op or :shiftMask:keep :shiftMask:keep *tmp598
  1060 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
  1061 label *label412
-    * label *label413
  1062 set *tmp572 :shiftMask:mask
  1063 label *label407
  1064 op or :layoutThoriumDrillAtLocation:combinedMask :createTerrainMask*retval *tmp572
 
  1076 set :layoutThoriumDrillAtLocation*retval true
  1077 jump *label383 always
  1078 label *label417
-    * label *label418
-    * label *label400
  1079 multijump *tmp568 0 0 (m:marker0)
  1080 multilabel *label405 (m:marker0)
-    * label *label401
  1081 set :layoutThoriumDrillAtLocation*retval true
  1082 label *label383
  1083 return :layoutThoriumDrillAtLocation*retaddr
 
  1099 set :findDrillLocation:capacity :findDrillLocationLocal:capacity
  1100 set .searchFinished true
  1101 set :findDrillLocation*retval true
-    * label *label419
  1102 set :findDrillLocation*finished true
  1103 jump *label15 always
  1104 end
 
  1119 set :layoutThoriumDrill*retval false
  1120 jump *label421 always
  1121 label *label423
-    * label *label424
  1122 setaddr :layoutThoriumDrillAtLocation*retaddr *label425 (h:*label425)
  1123 call *label13 *invalid :layoutThoriumDrillAtLocation*retval (m:*label425) (h:*label425)
  1124 label *label425
 
  1133 set .mapTotal 0
  1134 set .mapProgress 0
  1135 ucontrol unbind
-    * label *label426
  1136 set :stopLocation*finished true
  1137 jump *label15 always
  1138 end

Modifications by Jumps phase, Jump Straightening, pass 4, iteration 1 (-5 instructions):
 
   182 op sub *tmp134 :locateOreAway:y *tmp115
   183 op len :locateOreAway:unitDist *tmp133 *tmp134
   184 jump *label65 notEqual :locateOreAway:lastX :locateOreAway:x
-    * jump *label67 notEqual :locateOreAway:lastY :locateOreAway:y
-    * jump *label55 always
+  185 jump *label55 equal :locateOreAway:lastY :locateOreAway:y
   186 label *label67
   187 label *label65
   188 jump *label69 lessThan :locateOreAway:coreDist 7
 
   739 op add :findDrillLocationLocal:bestY :findDrillLocationLocal:oreY :findDrillLocationLocal:diffY
   740 set :findDrillLocationLocal:best *tmp173
   741 label *label328
-    * jump *label330 greaterThan *tmp173 :findDrillLocationLocal:last
-    * jump *label92 always
+  742 jump *label92 lessThanEq *tmp173 :findDrillLocationLocal:last
   743 label *label330
   744 set :findDrillLocationLocal:last *tmp173
   745 op mul :round:x :findDrillLocationLocal:diffX 1.1
 
   755 op sub *tmp416 :findDrillLocationLocal:oreY .coreY
   756 op abs *tmp417 *tmp416
   757 op min *tmp418 *tmp415 *tmp417
-    * jump *label334 greaterThanEq *tmp418 7
-    * jump *label92 always
+  758 jump *label92 lessThan *tmp418 7
   759 label *label334
   760 jump *label90 always
   761 label *label92
 
   822 jump *label352 always
   823 label *label359
   824 op sub *tmp452 3 :findPossiblePlacement:width
-    * jump *label361 lessThanEq :findPossiblePlacement:x *tmp452
-    * jump *label358 always
+  825 jump *label358 greaterThan :findPossiblePlacement:x *tmp452
   826 label *label361
   827 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
   828 op add :findPossiblePlacement:x :findPossiblePlacement:x 1
   829 jump *label432 lessThanEq :findPossiblePlacement:x 3
   830 label *label358
   831 op sub *tmp455 3 :findPossiblePlacement:height
-    * jump *label363 lessThanEq :findPossiblePlacement:y *tmp455
-    * jump *label355 always
+  832 jump *label355 greaterThan :findPossiblePlacement:y *tmp455
   833 label *label363
   834 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
   835 jump *label431 lessThanEq :findPossiblePlacement:y 3

Modifications by Jumps phase, Jump Optimization, pass 4, iteration 1:
 
   183 op len :locateOreAway:unitDist *tmp133 *tmp134
   184 jump *label65 notEqual :locateOreAway:lastX :locateOreAway:x
   185 jump *label55 equal :locateOreAway:lastY :locateOreAway:y
-    * label *label67
   186 label *label65
   187 jump *label69 lessThan :locateOreAway:coreDist 7
   188 jump *label71 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
 
   739 set :findDrillLocationLocal:best *tmp173
   740 label *label328
   741 jump *label92 lessThanEq *tmp173 :findDrillLocationLocal:last
-    * label *label330
   742 set :findDrillLocationLocal:last *tmp173
   743 op mul :round:x :findDrillLocationLocal:diffX 1.1
   744 op add *tmp408 :round:x 0.5
 
   754 op abs *tmp417 *tmp416
   755 op min *tmp418 *tmp415 *tmp417
   756 jump *label92 lessThan *tmp418 7
-    * label *label334
   757 jump *label90 always
   758 label *label92
   759 jump *label336 lessThan :findDrillLocationLocal:best 0
 
   820 label *label359
   821 op sub *tmp452 3 :findPossiblePlacement:width
   822 jump *label358 greaterThan :findPossiblePlacement:x *tmp452
-    * label *label361
   823 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
   824 op add :findPossiblePlacement:x :findPossiblePlacement:x 1
   825 jump *label432 lessThanEq :findPossiblePlacement:x 3
   826 label *label358
   827 op sub *tmp455 3 :findPossiblePlacement:height
   828 jump *label355 greaterThan :findPossiblePlacement:y *tmp455
-    * label *label363
   829 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
   830 jump *label431 lessThanEq :findPossiblePlacement:y 3
   831 label *label355

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
 
    52 op add *tmp14 :spotValue.2:result :spotValue.3:result
    53 op add *tmp15 :spotValue.3:result :spotValue.4:result
    54 packcolor :computeRowValues*retval *tmp12 *tmp13 *tmp14 *tmp15
-    * jump *label16 always
-    * jump *label23 always
+   55 return :computeRowValues*retaddr
+   56 return :computeRowValues*retaddr
    57 label *label22
    58 jump *label24 notEqual :computeRowValues:size 3
    59 op add *tmp19 :spotValue.1:result :spotValue.2:result
 
    62 op add *tmp23 :spotValue.2:result :spotValue.3:result
    63 op add *tmp24 *tmp23 :spotValue.4:result
    64 packcolor :computeRowValues*retval *tmp20 *tmp22 *tmp24 0
-    * jump *label16 always
-    * jump *label25 always
+   65 return :computeRowValues*retaddr
+   66 return :computeRowValues*retaddr
    67 label *label24
    68 op sub :spotValue.5:x :computeRowValues:x 3
    69 set :spotValue.5:y :computeRowValues:y
 
   228 set :findDrillLocationLocal:oreY :locateOreAway:y
   229 jump *label81 notEqual *tmp98 false
   230 op greaterThan :findDrillLocationLocal*retval :findDrillLocationLocal:capacity 0
-    * jump *label44 always
+  231 return :findDrillLocationLocal*retaddr
   232 label *label81
   233 jump *label83 lessThan :findDrillLocationLocal:limit 1000
   234 op add .mapSpots .mapSpots 1
 
   483 set :findBestPosition:best :updateRowPositions2x2.3:col3
   484 label *label178
   485 label *label176
-    * jump *label181 greaterThanEq :updateRowPositions2x2.3:col4 0.0784313725490196
-    * jump *label183 lessThanEq :updateRowPositions2x2.3:col4 :findBestPosition:best
+  486 jump *label100 greaterThanEq :updateRowPositions2x2.3:col4 0.0784313725490196
+  487 jump *label100 lessThanEq :updateRowPositions2x2.3:col4 :findBestPosition:best
   488 set :findDrillLocationLocal:diffX 1.5
   489 set :findDrillLocationLocal:diffY 1.5
   490 set :findBestPosition:best :updateRowPositions2x2.3:col4
 
   557 set :findBestPosition:best :updateRowPositions3x3.2:col2
   558 label *label228
   559 label *label226
-    * jump *label231 greaterThanEq :updateRowPositions3x3.2:col3 0.0784313725490196
-    * jump *label233 lessThanEq :updateRowPositions3x3.2:col3 :findBestPosition:best
+  560 jump *label186 greaterThanEq :updateRowPositions3x3.2:col3 0.0784313725490196
+  561 jump *label186 lessThanEq :updateRowPositions3x3.2:col3 :findBestPosition:best
   562 set :findDrillLocationLocal:diffX 1
   563 set :findDrillLocationLocal:diffY 1
   564 set :findBestPosition:best :updateRowPositions3x3.2:col3
 
   730 op add .locations .locations 1
   731 ucontrol unbind
   732 set :findDrillLocationLocal*retval true
-    * jump *label44 always
+  733 return :findDrillLocationLocal*retaddr
   734 label *label325
   735 label *label321
   736 jump *label328 lessThanEq *tmp173 :findDrillLocationLocal:best
 
   756 jump *label92 lessThan *tmp418 7
   757 jump *label90 always
   758 label *label92
-    * jump *label336 lessThan :findDrillLocationLocal:best 0
+  759 jump *label50 lessThan :findDrillLocationLocal:best 0
   760 op add .count .count 1
   761 sensor *tmp425 :findDrillLocationLocal:item @id
   762 write *tmp425 bank1 .count
 
   816 op mul *tmp449 :findPossiblePlacement:y 7
   817 op add *tmp450 24 *tmp449
   818 op add :findPossiblePlacement*retval *tmp450 :findPossiblePlacement:x
-    * jump *label352 always
+  819 return :findPossiblePlacement*retaddr
   820 label *label359
   821 op sub *tmp452 3 :findPossiblePlacement:width
   822 jump *label358 greaterThan :findPossiblePlacement:x *tmp452
 
   844 jump *label367 lessThan :findPossiblePlacement*retval 0
   845 jump *label369 greaterThanEq :findPossiblePlacement*retval 0
   846 set :tryPlaceGenerator*retval false
-    * jump *label365 always
+  847 return :tryPlaceGenerator*retaddr
   848 label *label369
   849 op add *tmp463 :tryPlaceGenerator:centerX 0.5
   850 op add .water2X *tmp463 :findPossiblePlacement:x
 
   866 label *label371
   867 jump *label372 greaterThanEq :findPossiblePlacement*retval 0
   868 set :tryPlaceGenerator*retval false
-    * jump *label365 always
+  869 return :tryPlaceGenerator*retaddr
   870 label *label372
   871 op add *tmp475 :tryPlaceGenerator:centerX 0.5
   872 op add .water2X *tmp475 :findPossiblePlacement:x
 
   887 label *label374
   888 jump *label375 greaterThanEq :findPossiblePlacement*retval 0
   889 set :tryPlaceGenerator*retval false
-    * jump *label365 always
+  890 return :tryPlaceGenerator*retaddr
   891 label *label375
   892 op add .nodeX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   893 op add .nodeY :tryPlaceGenerator:centerY :findPossiblePlacement:y
 
   902 label *label377
   903 jump *label378 greaterThanEq :findPossiblePlacement*retval 0
   904 set :tryPlaceGenerator*retval false
-    * jump *label365 always
+  905 return :tryPlaceGenerator*retaddr
   906 label *label378
   907 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   908 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
 
   917 label *label380
   918 jump *label381 greaterThanEq :findPossiblePlacement*retval 0
   919 set :tryPlaceGenerator*retval false
-    * jump *label365 always
+  920 return :tryPlaceGenerator*retaddr
   921 label *label381
   922 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   923 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   924 set :tryPlaceGenerator*retval true
-    * jump *label365 always
+  925 return :tryPlaceGenerator*retaddr
   926 label *label365
   927 return :tryPlaceGenerator*retaddr
   928 end
 
   986 label *label396
   987 jump *label397 equal :tryPlaceGenerator*retval false
   988 set :layoutThoriumDrillAtLocation*retval true
-    * jump *label383 always
+  989 return :layoutThoriumDrillAtLocation*retaddr
   990 label *label397
   991 set :layoutThoriumDrillAtLocation:sx 3
   992 set :layoutThoriumDrillAtLocation:sy 3
 
  1064 label *label416
  1065 jump *label417 equal :tryPlaceGenerator*retval false
  1066 set :layoutThoriumDrillAtLocation*retval true
-    * jump *label383 always
+ 1067 return :layoutThoriumDrillAtLocation*retaddr
  1068 label *label417
  1069 multijump *tmp568 0 0 (m:marker0)
  1070 multilabel *label405 (m:marker0)

Modifications by Jumps phase, Unreachable Code Elimination, pass 4, iteration 1 (-17 instructions):
 
     9 label *label15
    10 wait 1e12
    11 jump *label15 always
-    * end
    12 label *label6
    13 op sub :spotValue:x :computeRowValues:x 2
    14 set :spotValue:y :computeRowValues:y
 
    52 op add *tmp15 :spotValue.3:result :spotValue.4:result
    53 packcolor :computeRowValues*retval *tmp12 *tmp13 *tmp14 *tmp15
    54 return :computeRowValues*retaddr
-    * return :computeRowValues*retaddr
    55 label *label22
    56 jump *label24 notEqual :computeRowValues:size 3
    57 op add *tmp19 :spotValue.1:result :spotValue.2:result
 
    61 op add *tmp24 *tmp23 :spotValue.4:result
    62 packcolor :computeRowValues*retval *tmp20 *tmp22 *tmp24 0
    63 return :computeRowValues*retaddr
-    * return :computeRowValues*retaddr
    64 label *label24
    65 op sub :spotValue.5:x :computeRowValues:x 3
    66 set :spotValue.5:y :computeRowValues:y
 
    89 op add *tmp44 *tmp39 :spotValue.6:result
    90 op min *tmp45 0.09803921568627451 *tmp44
    91 packcolor :computeRowValues*retval *tmp33 *tmp37 *tmp41 *tmp45
-    * label *label25
-    * label *label23
-    * label *label16
    92 return :computeRowValues*retaddr
-    * end
    93 label *label9
    94 ubind :findDrillLocationLocal:unit
    95 set .locationsStart .locations
 
   282 op add *tmp15 :spotValue.3:result :spotValue.4:result
   283 packcolor :findBestPosition:y1 *tmp12 *tmp13 *tmp14 *tmp15
   284 jump *label448 always
-    * jump *label447 always
   285 label *label442
   286 jump *label443 notEqual :findDrillLocationLocal:size 3
   287 op add *tmp19 :spotValue.1:result :spotValue.2:result
 
   291 op add *tmp24 *tmp23 :spotValue.4:result
   292 packcolor :findBestPosition:y1 *tmp20 *tmp22 *tmp24 0
   293 jump *label448 always
-    * jump *label446 always
   294 label *label443
   295 op sub :spotValue.5:x :findDrillLocationLocal:oreX 3
   296 set :spotValue.5:y *tmp174
 
   479 set :findDrillLocationLocal:diffX 1.5
   480 set :findDrillLocationLocal:diffY 1.5
   481 set :findBestPosition:best :updateRowPositions2x2.3:col4
-    * label *label183
-    * label *label181
   482 jump *label100 always
   483 label *label99
   484 jump *label185 notEqual :findBestPosition:size 3
 
   551 set :findDrillLocationLocal:diffX 1
   552 set :findDrillLocationLocal:diffY 1
   553 set :findBestPosition:best :updateRowPositions3x3.2:col3
-    * label *label233
-    * label *label231
   554 jump *label186 always
   555 label *label185
   556 op sub *tmp301 :findBestPosition:y 3
 
   754 op add .count .count 1
   755 write :findDrillLocationLocal:bestY bank1 .count
   756 op add .locations .locations 1
-    * label *label336
   757 jump *label50 always
-    * set :findDrillLocationLocal*retval null
-    * label *label44
-    * return :findDrillLocationLocal*retaddr
-    * end
   758 label *label10
   759 ucontrol within :createTerrainMask:x :createTerrainMask:y 6 *tmp435
   760 jump *label344 notEqual *tmp435 false
 
   782 jump *label429 greaterThanEq :createTerrainMask:r -3
   783 set :createTerrainMask*retval :createTerrainMask:result
   784 return :createTerrainMask*retaddr
-    * end
   785 label *label11
   786 set :findPossiblePlacement:y -3
   787 jump *label355 greaterThan :findPossiblePlacement:y 3
 
   811 jump *label431 lessThanEq :findPossiblePlacement:y 3
   812 label *label355
   813 set :findPossiblePlacement*retval -1
-    * label *label352
   814 return :findPossiblePlacement*retaddr
-    * end
   815 label *label12
   816 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
   817 set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorVertical
 
   902 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   903 set :tryPlaceGenerator*retval true
   904 return :tryPlaceGenerator*retaddr
-    * label *label365
-    * return :tryPlaceGenerator*retaddr
-    * end
   905 label *label13
   906 set .panelY -1
   907 set .panelX -1
 
  1045 multijump *tmp568 0 0 (m:marker0)
  1046 multilabel *label405 (m:marker0)
  1047 set :layoutThoriumDrillAtLocation*retval true
-    * label *label383
  1048 return :layoutThoriumDrillAtLocation*retaddr
-    * end
  1049 label *label0
  1050 set .searchFinished false
  1051 set :findDrillLocationLocal:x :findDrillLocation:x
 
  1065 set :findDrillLocation*retval true
  1066 set :findDrillLocation*finished true
  1067 jump *label15 always
-    * end
  1068 label *label1
  1069 set :findDrillLocationLocal:x :layoutThoriumDrill:x
  1070 set :findDrillLocationLocal:y :layoutThoriumDrill:y
 
  1089 label *label421
  1090 set :layoutThoriumDrill*finished true
  1091 jump *label15 always
-    * end
  1092 label *label2
  1093 set .mapSpots 0
  1094 set .mapAction 0
 
  1097 ucontrol unbind
  1098 set :stopLocation*finished true
  1099 jump *label15 always
-    * end

Modifications by Jumps phase, Dead Code Elimination, pass 4, iteration 1:
 
   319 op add *tmp44 *tmp39 :spotValue.6:result
   320 op min *tmp45 0.09803921568627451 *tmp44
   321 packcolor :findBestPosition:y1 *tmp33 *tmp37 *tmp41 *tmp45
-    * label *label446
-    * label *label447
   322 label *label448
   323 op sub *tmp176 :findDrillLocationLocal:oreY 1
   324 set :computeRowValues:x :findDrillLocationLocal:oreX

Modifications by Jumps phase, Jump Straightening, pass 5, iteration 1 (-1 instructions):
 
   738 op sub *tmp416 :findDrillLocationLocal:oreY .coreY
   739 op abs *tmp417 *tmp416
   740 op min *tmp418 *tmp415 *tmp417
-    * jump *label92 lessThan *tmp418 7
-    * jump *label90 always
+  741 jump *label90 greaterThanEq *tmp418 7
   742 label *label92
   743 jump *label50 lessThan :findDrillLocationLocal:best 0
   744 op add .count .count 1

Final code before resolving virtual instructions:

    0:  jump *label14 always 0 0                                     #set target = 8;
    1:  jump *label0 always 0 0                                      ...
    2:  jump *label1 always 0 0                                      ...
    3:  jump *label2 always 0 0                                      ...
    4:  draw triangle bank1 message1 .angle .attenuationRate .batteryX .batteryY
    5:  draw triangle .containerX .containerY .coreX .coreY .count .drillX
    6:  draw triangle .drillY .generatorX .generatorY .locations .locationsStart .mapAction
    7:  draw triangle .mapProgress .mapSpots .mapTotal .nodeX .nodeY .panelX
    8:  draw triangle .panelY .searchFinished .water1X .water1Y .water2X .water2Y
    9:  draw triangle :computeRowValues:ore :computeRowValues:size :computeRowValues:x :computeRowValues:y :createTerrainMask:c :createTerrainMask:r
   10:  draw triangle :createTerrainMask:result :createTerrainMask:x :createTerrainMask:y :findBestPosition:best :findBestPosition:ore :findBestPosition:row1
   11:  draw triangle :findBestPosition:row1.2 :findBestPosition:row1.1 :findBestPosition:row2.1 :findBestPosition:row2.2 :findBestPosition:row2 :findBestPosition:row3
   12:  draw triangle :findBestPosition:row3.1 :findBestPosition:row3.2 :findBestPosition:row4.1 :findBestPosition:row4 :findBestPosition:size :findBestPosition:x
   13:  draw triangle :findBestPosition:y :findBestPosition:y0 :findBestPosition:y1 :findBestPosition:y2 :findBestPosition:y3 :findBestPosition:y4
   14:  draw triangle :findBestPosition:y5 :findDrillLocation:capacity :findDrillLocation:dx :findDrillLocation:dy :findDrillLocation:item :findDrillLocation:limit
   15:  draw triangle :findDrillLocation:ore :findDrillLocation:size :findDrillLocation:unit :findDrillLocation:x :findDrillLocation:y :findDrillLocationLocal:best
   16:  draw triangle :findDrillLocationLocal:bestX :findDrillLocationLocal:bestY :findDrillLocationLocal:capacity :findDrillLocationLocal:diffX :findDrillLocationLocal:diffY :findDrillLocationLocal:distanceLimit
   17:  draw triangle :findDrillLocationLocal:dx :findDrillLocationLocal:dy :findDrillLocationLocal:item :findDrillLocationLocal:last :findDrillLocationLocal:limit :findDrillLocationLocal:maxDistance
   18:  draw triangle :findDrillLocationLocal:ore :findDrillLocationLocal:oreX :findDrillLocationLocal:oreY :findDrillLocationLocal:size :findDrillLocationLocal:unit :findDrillLocationLocal:x
   19:  draw triangle :findDrillLocationLocal:y :findPossiblePlacement:height :findPossiblePlacement:mask :findPossiblePlacement:placementMask :findPossiblePlacement:terrainMask :findPossiblePlacement:width
   20:  draw triangle :findPossiblePlacement:x :findPossiblePlacement:y :isBlocked:result :isBlocked:x :isBlocked:y :layoutThoriumDrill:limit
   21:  draw triangle :layoutThoriumDrill:unit :layoutThoriumDrill:x :layoutThoriumDrill:y :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:generatorHorizontal
   22:  draw triangle :layoutThoriumDrillAtLocation:generatorVertical :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:newX :layoutThoriumDrillAtLocation:newY :layoutThoriumDrillAtLocation:sx :layoutThoriumDrillAtLocation:sy
   23:  draw triangle :layoutThoriumDrillAtLocation:terrainMask :locateOreAway:a :locateOreAway:coreDist :locateOreAway:distance :locateOreAway:lastX :locateOreAway:lastY
   24:  draw triangle :locateOreAway:unitDist :locateOreAway:x :locateOreAway:y :round.1:x :round:x :shiftMask:clearMask
   25:  draw triangle :shiftMask:keep :shiftMask:mask :shiftMask:shift :spotValue.3:ore :spotValue.4:ore :spotValue.1:ore
   26:  draw triangle :spotValue.5:ore :spotValue:ore :spotValue.2:ore :spotValue.6:ore :spotValue.4:result :spotValue:result
   27:  draw triangle :spotValue.2:result :spotValue.5:result :spotValue.1:result :spotValue.3:result :spotValue.6:result :spotValue.6:x
   28:  draw triangle :spotValue.5:x :spotValue.4:x :spotValue:x :spotValue.3:x :spotValue.2:x :spotValue.1:x
   29:  draw triangle :spotValue.6:y :spotValue.5:y :spotValue.4:y :spotValue:y :spotValue.3:y :spotValue.2:y
   30:  draw triangle :spotValue.1:y :tryPlaceGenerator:centerX :tryPlaceGenerator:centerY :tryPlaceGenerator:generatorHorizontal :tryPlaceGenerator:generatorVertical :tryPlaceGenerator:terrainMask
   31:  draw triangle :updateRowPositions2x2:col1 :updateRowPositions2x2.2:col1 :updateRowPositions2x2.1:col1 :updateRowPositions2x2.3:col1 :updateRowPositions2x2:col2 :updateRowPositions2x2.2:col2
   32:  draw triangle :updateRowPositions2x2.1:col2 :updateRowPositions2x2.3:col2 :updateRowPositions2x2:col3 :updateRowPositions2x2.2:col3 :updateRowPositions2x2.1:col3 :updateRowPositions2x2.3:col3
   33:  draw triangle :updateRowPositions2x2:col4 :updateRowPositions2x2.2:col4 :updateRowPositions2x2.1:col4 :updateRowPositions2x2.3:col4 :updateRowPositions3x3:col1 :updateRowPositions3x3.2:col1
   34:  draw triangle :updateRowPositions3x3.1:col1 :updateRowPositions3x3:col2 :updateRowPositions3x3.2:col2 :updateRowPositions3x3.1:col2 :updateRowPositions3x3:col3 :updateRowPositions3x3.2:col3
   35:  draw triangle :updateRowPositions3x3.1:col3 :updateRowPositions4x4.2:col1 :updateRowPositions4x4.1:col1 :updateRowPositions4x4.3:col1 :updateRowPositions4x4:col1 :updateRowPositions4x4.2:col2
   36:  draw triangle :updateRowPositions4x4.1:col2 :updateRowPositions4x4.3:col2 :updateRowPositions4x4:col2 :updateRowPositions4x4.2:col3 :updateRowPositions4x4.1:col3 :updateRowPositions4x4.3:col3
   37:  draw triangle :updateRowPositions4x4:col3 :updateRowPositions4x4.2:col4 :updateRowPositions4x4.1:col4 :updateRowPositions4x4.3:col4 :updateRowPositions4x4:col4 :visited:i
   38:  draw triangle :visited:index :visited:lx :visited:ly 0 0 0
        label *label14                                               ...
   39:  set .attenuationRate 50                                      remote var attenuationRate = 50;
   40:  set .locations 0                                             remote var locations = 0;
   41:  set .count -1                                                var count = -1, locationsStart, start;
   42:  set *signature "3290b8c661787058:v1"                         #set target = 8;
        label *label15                                               ...
   43:  wait 1e12                                                    ...
   44:  jump *label15 always 0 0                                     ...
        label *label6                                                def computeRowValues(x, y, ore, size)
   45:  op sub :spotValue:x :computeRowValues:x 2                    var x1 = spotValue(x - 2, y, ore);
   46:  set :spotValue:y :computeRowValues:y                         ...
   47:  set :spotValue:ore :computeRowValues:ore                     ...
   48:  ucontrol getBlock :spotValue:x :spotValue:y type building fl mlog(in x, in y, in ore, in ORE, in WALL, out result) {
   49:  select value equal floor :spotValue:ore 0.00392156862745098  ...
   50:  sensor solid type @solid                                     ...
   51:  select :spotValue:result notEqual solid false 0.098039215686 ...
   52:  op sub :spotValue.1:x :computeRowValues:x 1                  var x2 = spotValue(x - 1, y, ore);
   53:  set :spotValue.1:y :computeRowValues:y                       ...
   54:  set :spotValue.1:ore :computeRowValues:ore                   ...
   55:  ucontrol getBlock :spotValue.1:x :spotValue.1:y type buildin mlog(in x, in y, in ore, in ORE, in WALL, out result) {
   56:  select value equal floor :spotValue.1:ore 0.0039215686274509 ...
   57:  sensor solid type @solid                                     ...
   58:  select :spotValue.1:result notEqual solid false 0.0980392156 ...
   59:  set :spotValue.2:x :computeRowValues:x                       var x3 = spotValue(x + 0, y, ore);
   60:  set :spotValue.2:y :computeRowValues:y                       ...
   61:  set :spotValue.2:ore :computeRowValues:ore                   ...
   62:  ucontrol getBlock :spotValue.2:x :spotValue.2:y type buildin mlog(in x, in y, in ore, in ORE, in WALL, out result) {
   63:  select value equal floor :spotValue.2:ore 0.0039215686274509 ...
   64:  sensor solid type @solid                                     ...
   65:  select :spotValue.2:result notEqual solid false 0.0980392156 ...
   66:  op add :spotValue.3:x :computeRowValues:x 1                  var x4 = spotValue(x + 1, y, ore);
   67:  set :spotValue.3:y :computeRowValues:y                       ...
   68:  set :spotValue.3:ore :computeRowValues:ore                   ...
   69:  ucontrol getBlock :spotValue.3:x :spotValue.3:y type buildin mlog(in x, in y, in ore, in ORE, in WALL, out result) {
   70:  select value equal floor :spotValue.3:ore 0.0039215686274509 ...
   71:  sensor solid type @solid                                     ...
   72:  select :spotValue.3:result notEqual solid false 0.0980392156 ...
   73:  op add :spotValue.4:x :computeRowValues:x 2                  var x5 = spotValue(x + 2, y, ore);
   74:  set :spotValue.4:y :computeRowValues:y                       ...
   75:  set :spotValue.4:ore :computeRowValues:ore                   ...
   76:  ucontrol getBlock :spotValue.4:x :spotValue.4:y type buildin mlog(in x, in y, in ore, in ORE, in WALL, out result) {
   77:  select value equal floor :spotValue.4:ore 0.0039215686274509 ...
   78:  sensor solid type @solid                                     ...
   79:  select :spotValue.4:result notEqual solid false 0.0980392156 ...
   80:  jump *label22 notEqual :computeRowValues:size 2              if size == 2 then
   81:  op add *tmp12 :spotValue:result :spotValue.1:result          x1 + x2,        // drill at x - 1.5
   82:  op add *tmp13 :spotValue.1:result :spotValue.2:result        x2 + x3,        // drill at x - 0.5
   83:  op add *tmp14 :spotValue.2:result :spotValue.3:result        x3 + x4,        // drill at x + 0.5
   84:  op add *tmp15 :spotValue.3:result :spotValue.4:result        x4 + x5         // drill at x + 1.5
   85:  packcolor :computeRowValues*retval *tmp12 *tmp13 *tmp14 *tmp return packcolor(
   86:  return :computeRowValues*retaddr                             ...
        label *label22                                               if size == 2 then
   87:  jump *label24 notEqual :computeRowValues:size 3              elsif size == 3 then
   88:  op add *tmp19 :spotValue.1:result :spotValue.2:result        x1 + (x2 + x3),   // drill at x - 1
   89:  op add *tmp20 :spotValue:result *tmp19                       ...
   90:  op add *tmp22 *tmp19 :spotValue.3:result                     (x2 + x3) + x4,   // drill at x
   91:  op add *tmp23 :spotValue.2:result :spotValue.3:result        x3 + x4 + x5,   // drill at x + 1
   92:  op add *tmp24 *tmp23 :spotValue.4:result                     ...
   93:  packcolor :computeRowValues*retval *tmp20 *tmp22 *tmp24 0    return packcolor(
   94:  return :computeRowValues*retaddr                             ...
        label *label24                                               elsif size == 3 then
   95:  op sub :spotValue.5:x :computeRowValues:x 3                  var x0 = spotValue(x - 3, y, ore);
   96:  set :spotValue.5:y :computeRowValues:y                       ...
   97:  set :spotValue.5:ore :computeRowValues:ore                   ...
   98:  ucontrol getBlock :spotValue.5:x :spotValue.5:y type buildin mlog(in x, in y, in ore, in ORE, in WALL, out result) {
   99:  select value equal floor :spotValue.5:ore 0.0039215686274509 ...
  100:  sensor solid type @solid                                     ...
  101:  select :spotValue.5:result notEqual solid false 0.0980392156 ...
  102:  op add :spotValue.6:x :computeRowValues:x 3                  var x6 = spotValue(x + 3, y, ore);
  103:  set :spotValue.6:y :computeRowValues:y                       ...
  104:  set :spotValue.6:ore :computeRowValues:ore                   ...
  105:  ucontrol getBlock :spotValue.6:x :spotValue.6:y type buildin mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  106:  select value equal floor :spotValue.6:ore 0.0039215686274509 ...
  107:  sensor solid type @solid                                     ...
  108:  select :spotValue.6:result notEqual solid false 0.0980392156 ...
  109:  op add *tmp30 :spotValue:result :spotValue.1:result          min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  110:  op add *tmp31 *tmp30 :spotValue.2:result                     ...
  111:  op add *tmp32 :spotValue.5:result *tmp31                     ...
  112:  op min *tmp33 0.09803921568627451 *tmp32                     ...
  113:  op add *tmp36 *tmp31 :spotValue.3:result                     min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  114:  op min *tmp37 0.09803921568627451 *tmp36                     ...
  115:  op add *tmp38 :spotValue.2:result :spotValue.3:result        min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  116:  op add *tmp39 *tmp38 :spotValue.4:result                     ...
  117:  op add *tmp40 :spotValue.1:result *tmp39                     ...
  118:  op min *tmp41 0.09803921568627451 *tmp40                     ...
  119:  op add *tmp44 *tmp39 :spotValue.6:result                     min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  120:  op min *tmp45 0.09803921568627451 *tmp44                     ...
  121:  packcolor :computeRowValues*retval *tmp33 *tmp37 *tmp41 *tmp return packcolor(
  122:  return :computeRowValues*retaddr                             def computeRowValues(x, y, ore, size)
        label *label9                                                noinline def findDrillLocationLocal(x, y, unit, item, ore, size, limit, out dx, out dy, out capacity)
  123:  ubind :findDrillLocationLocal:unit                           ubind(unit);
  124:  set .locationsStart .locations                               locationsStart = locations;
  125:  set .coreX :findDrillLocationLocal:x                         coreX = x;
  126:  set .coreY :findDrillLocationLocal:y                         coreY = y;
  127:  set :findDrillLocationLocal:capacity 0                       mapSpots = dx = dy = capacity = 0;
  128:  set :findDrillLocationLocal:dy :findDrillLocationLocal:capac ...
  129:  set :findDrillLocationLocal:dx :findDrillLocationLocal:dy    ...
  130:  set .mapSpots :findDrillLocationLocal:dx                     ...
  131:  op sub *tmp83 @mapw :findDrillLocationLocal:x                var distanceLimit = max(coreX, coreY, @mapw - coreX, @maph - coreY);
  132:  op sub *tmp84 @maph :findDrillLocationLocal:y                ...
  133:  op max *tmp85 :findDrillLocationLocal:x :findDrillLocationLo ...
  134:  op max *tmp85 *tmp85 *tmp83                                  ...
  135:  op max *tmp85 *tmp85 *tmp84                                  ...
  136:  set :findDrillLocationLocal:distanceLimit *tmp85             ...
  137:  set .mapAction "Locating ore..."                             mapAction = "Locating ore...";
  138:  set .angle 0                                                 mapProgress = angle = 0;
  139:  set .mapProgress 0                                           ...
  140:  ucontrol within :findDrillLocationLocal:x :findDrillLocation while !within(x, y, radius) do
  141:  jump *label49 notEqual *tmp88 false                          ...
        label *label449                                              ...
  142:  ucontrol approach :findDrillLocationLocal:x :findDrillLocati approach(x, y, radius - 0.5);
  143:  ucontrol within :findDrillLocationLocal:x :findDrillLocation while !within(x, y, radius) do
  144:  jump *label449 equal *tmp88 false                            ...
        label *label49                                               ...
  145:  op div *tmp91 *tmp85 3.8197185279121366                      mapTotal = (distanceLimit / SPIRAL_WIDTH) ** 2;
  146:  op pow .mapTotal *tmp91 2                                    ...
  147:  set :findDrillLocationLocal:oreX 0                           var oreX = 0, oreY = 0;
  148:  set :findDrillLocationLocal:oreY 0                           ...
        label *label50                                               while true do
  149:  set :findDrillLocationLocal:best -1                          var best = -1, bestX = x, bestY = y;
  150:  set :findDrillLocationLocal:bestX :findDrillLocationLocal:x  ...
  151:  set :findDrillLocationLocal:bestY :findDrillLocationLocal:y  ...
  152:  op sub *tmp93 :findDrillLocationLocal:limit :findDrillLocati var maxDistance = (limit - capacity) * attenuationRate;
  153:  op mul :findDrillLocationLocal:maxDistance *tmp93 .attenuati ...
  154:  op min :findDrillLocationLocal:distanceLimit :findDrillLocat distanceLimit = min(distanceLimit, maxDistance);
  155:  op div *tmp96 :findDrillLocationLocal:distanceLimit 3.819718 mapTotal = (distanceLimit / SPIRAL_WIDTH) ** 2;
  156:  op pow .mapTotal *tmp96 2                                    ...
  157:  set :locateOreAway:x :findDrillLocationLocal:oreX            if !locateOreAway(item, in out oreX, in out oreY, in distanceLimit) then
  158:  set :locateOreAway:y :findDrillLocationLocal:oreY            ...
  159:  op mul :locateOreAway:distance 3.8197185279121366 .angle     var distance = SPIRAL_WIDTH * angle;
  160:  set :locateOreAway:lastX -1                                  var lastX = -1, lastY = -1;
  161:  set :locateOreAway:lastY -1                                  ...
  162:  op max .angle .angle @pi                                     angle = max(angle, @pi);
  163:  op mul .mapProgress .angle .angle                            mapProgress = angle * angle;
  164:  op sub *tmp107 @mapw 5                                       while distance < distanceLimit do
  165:  op sub *tmp114 @maph 5                                       ...
  166:  jump *label56 greaterThanEq :locateOreAway:distance :findDri ...
        label *label427                                              ...
  167:  op div :locateOreAway:a .angle @degToRad                     var a = angle / @degToRad;
  168:  op sin *tmp104 :locateOreAway:a 0                            var lx = limit(coreX + sin(a) * distance, 5, @mapw - 5);
  169:  op mul *tmp105 *tmp104 :locateOreAway:distance               ...
  170:  op add *tmp106 .coreX *tmp105                                ...
  171:  op max *tmp109 *tmp106 5                                     min(max(value, low), high);
  172:  op min *tmp108 *tmp109 *tmp107                               var lx = limit(coreX + sin(a) * distance, 5, @mapw - 5);
  173:  op cos *tmp111 :locateOreAway:a 0                            var ly = limit(coreY + cos(a) * distance, 5, @maph - 5);
  174:  op mul *tmp112 *tmp111 :locateOreAway:distance               ...
  175:  op add *tmp113 .coreY *tmp112                                ...
  176:  op max *tmp116 *tmp113 5                                     min(max(value, low), high);
  177:  op min *tmp115 *tmp116 *tmp114                               var ly = limit(coreY + cos(a) * distance, 5, @maph - 5);
  178:  ucontrol within *tmp108 *tmp115 5 *tmp118 0                  while !within(x, y, radius) do
  179:  jump *label62 notEqual *tmp118 false                         ...
        label *label433                                              ...
  180:  ucontrol approach *tmp108 *tmp115 4.5 0 0                    approach(x, y, radius - 0.5);
  181:  ucontrol within *tmp108 *tmp115 5 *tmp118 0                  while !within(x, y, radius) do
  182:  jump *label433 equal *tmp118 false                           ...
        label *label62                                               ...
  183:  op div *tmp121 3.8197185279121366 :locateOreAway:distance    angle += SPIRAL_WIDTH / distance;
  184:  op add .angle .angle *tmp121                                 ...
  185:  op mul .mapProgress .angle .angle                            mapProgress = angle * angle;
  186:  op mul :locateOreAway:distance 3.8197185279121366 .angle     distance = SPIRAL_WIDTH * angle;
  187:  ulocate ore core true :findDrillLocationLocal:item :locateOr if !ulocate(:ore, ore, out x, out y) then
  188:  jump *label63 notEqual *tmp124 false                         ...
  189:  set *tmp98 false                                             return false;
  190:  jump *label53 always 0 0                                     ...
        label *label63                                               if !ulocate(:ore, ore, out x, out y) then
  191:  op sub *tmp128 :locateOreAway:x .coreX                       var coreDist = max(abs(x - coreX), abs(y - coreY));
  192:  op abs *tmp129 *tmp128 0                                     ...
  193:  op sub *tmp130 :locateOreAway:y .coreY                       ...
  194:  op abs *tmp131 *tmp130 0                                     ...
  195:  op max :locateOreAway:coreDist *tmp129 *tmp131               ...
  196:  op sub *tmp133 :locateOreAway:x *tmp108                      var unitDist = len(x - lx, y - ly);
  197:  op sub *tmp134 :locateOreAway:y *tmp115                      ...
  198:  op len :locateOreAway:unitDist *tmp133 *tmp134               ...
  199:  jump *label65 notEqual :locateOreAway:lastX :locateOreAway:x if lastX == x then if lastY == y then continue; end; end;
  200:  jump *label55 equal :locateOreAway:lastY :locateOreAway:y    ...
        label *label65                                               ...
  201:  jump *label69 lessThan :locateOreAway:coreDist 7             if coreDist >= 7 then
  202:  jump *label71 greaterThanEq :locateOreAway:unitDist :locateO if unitDist < distance then
  203:  set :locateOreAway:lastX :locateOreAway:x                    lastX = x;
  204:  set :locateOreAway:lastY :locateOreAway:y                    lastY = y;
  205:  set *tmp145 .locations                                       for var i in locationsStart ... locations do
  206:  set :visited:i .locationsStart                               ...
  207:  jump *label76 greaterThanEq .locationsStart *tmp145          ...
        label *label428                                              ...
  208:  op mul :visited:index 4 :visited:i                           var index = 4 * i;
  209:  op add *tmp147 :visited:index 2                              var lx = bank1[index + 2];
  210:  read :visited:lx bank1 *tmp147                               ...
  211:  op add *tmp150 :visited:index 3                              var ly = bank1[index + 3];
  212:  read :visited:ly bank1 *tmp150                               ...
  213:  op sub *tmp153 :locateOreAway:x :visited:lx                  if len(x - lx, y - ly) < 7 then
  214:  op sub *tmp154 :locateOreAway:y :visited:ly                  ...
  215:  op len *tmp155 *tmp153 *tmp154                               ...
  216:  jump *label77 greaterThanEq *tmp155 7                        ...
  217:  set *tmp144 true                                             return true;
  218:  jump *label73 always 0 0                                     ...
        label *label77                                               if len(x - lx, y - ly) < 7 then
  219:  op add :visited:i :visited:i 1                               for var i in locationsStart ... locations do
  220:  jump *label428 lessThan :visited:i *tmp145                   ...
        label *label76                                               ...
  221:  set *tmp144 false                                            return false;
        label *label73                                               if !visited(x, y) then
  222:  jump *label79 notEqual *tmp144 false                         ...
  223:  op div *tmp160 2 .angle                                      angle += 2 * SPIRAL_WIDTH / distance;
  224:  op add .angle .angle *tmp160                                 ...
  225:  op mul .mapProgress .angle .angle                            mapProgress = angle * angle;
  226:  printflush message1                                          printflush(message1);
  227:  set *tmp98 true                                              return true;
  228:  jump *label53 always 0 0                                     ...
        label *label79                                               if !visited(x, y) then
        label *label71                                               if unitDist < distance then
        label *label69                                               if coreDist >= 7 then
        label *label55                                               while distance < distanceLimit do
  229:  jump *label427 lessThan :locateOreAway:distance :findDrillLo ...
        label *label56                                               ...
  230:  set *tmp98 false                                             return false;
        label *label53                                               if !locateOreAway(item, in out oreX, in out oreY, in distanceLimit) then
  231:  set :findDrillLocationLocal:oreX :locateOreAway:x            ...
  232:  set :findDrillLocationLocal:oreY :locateOreAway:y            ...
  233:  jump *label81 notEqual *tmp98 false                          ...
  234:  op greaterThan :findDrillLocationLocal*retval :findDrillLoca return capacity > 0;
  235:  return :findDrillLocationLocal*retaddr                       ...
        label *label81                                               if !locateOreAway(item, in out oreX, in out oreY, in distanceLimit) then
  236:  jump *label83 lessThan :findDrillLocationLocal:limit 1000    if limit >= 1000 then mapSpots++; end;
  237:  op add .mapSpots .mapSpots 1                                 ...
        label *label83                                               ...
  238:  ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp170  while !within(x, y, radius) do
  239:  jump *label89 notEqual *tmp170 false                         ...
        label *label434                                              ...
  240:  ucontrol approach :locateOreAway:x :locateOreAway:y 5.5 0 0  approach(x, y, radius - 0.5);
  241:  ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp170  while !within(x, y, radius) do
  242:  jump *label434 equal *tmp170 false                           ...
        label *label89                                               ...
  243:  set :findDrillLocationLocal:last 0                           var last = 0;
        label *label90                                               while true do
  244:  set :findBestPosition:x :findDrillLocationLocal:oreX         var score = findBestPosition(oreX, oreY, ore, size, ref diffX, ref diffY);
  245:  set :findBestPosition:y :findDrillLocationLocal:oreY         ...
  246:  set :findBestPosition:ore :findDrillLocationLocal:ore        ...
  247:  set :findBestPosition:size :findDrillLocationLocal:size      ...
  248:  op sub *tmp174 :findDrillLocationLocal:oreY 2                var y1 = computeRowValues(x, y - 2, ore, size);
  249:  op sub :spotValue:x :findDrillLocationLocal:oreX 2           var x1 = spotValue(x - 2, y, ore);
  250:  set :spotValue:y *tmp174                                     ...
  251:  set :spotValue:ore :findDrillLocationLocal:ore               ...
  252:  ucontrol getBlock :spotValue:x :spotValue:y type building fl mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  253:  select value equal floor :spotValue:ore 0.00392156862745098  ...
  254:  sensor solid type @solid                                     ...
  255:  select :spotValue:result notEqual solid false 0.098039215686 ...
  256:  op sub :spotValue.1:x :findDrillLocationLocal:oreX 1         var x2 = spotValue(x - 1, y, ore);
  257:  set :spotValue.1:y *tmp174                                   ...
  258:  set :spotValue.1:ore :findDrillLocationLocal:ore             ...
  259:  ucontrol getBlock :spotValue.1:x :spotValue.1:y type buildin mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  260:  select value equal floor :spotValue.1:ore 0.0039215686274509 ...
  261:  sensor solid type @solid                                     ...
  262:  select :spotValue.1:result notEqual solid false 0.0980392156 ...
  263:  set :spotValue.2:x :findDrillLocationLocal:oreX              var x3 = spotValue(x + 0, y, ore);
  264:  set :spotValue.2:y *tmp174                                   ...
  265:  set :spotValue.2:ore :findDrillLocationLocal:ore             ...
  266:  ucontrol getBlock :spotValue.2:x :spotValue.2:y type buildin mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  267:  select value equal floor :spotValue.2:ore 0.0039215686274509 ...
  268:  sensor solid type @solid                                     ...
  269:  select :spotValue.2:result notEqual solid false 0.0980392156 ...
  270:  op add :spotValue.3:x :findDrillLocationLocal:oreX 1         var x4 = spotValue(x + 1, y, ore);
  271:  set :spotValue.3:y *tmp174                                   ...
  272:  set :spotValue.3:ore :findDrillLocationLocal:ore             ...
  273:  ucontrol getBlock :spotValue.3:x :spotValue.3:y type buildin mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  274:  select value equal floor :spotValue.3:ore 0.0039215686274509 ...
  275:  sensor solid type @solid                                     ...
  276:  select :spotValue.3:result notEqual solid false 0.0980392156 ...
  277:  op add :spotValue.4:x :findDrillLocationLocal:oreX 2         var x5 = spotValue(x + 2, y, ore);
  278:  set :spotValue.4:y *tmp174                                   ...
  279:  set :spotValue.4:ore :findDrillLocationLocal:ore             ...
  280:  ucontrol getBlock :spotValue.4:x :spotValue.4:y type buildin mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  281:  select value equal floor :spotValue.4:ore 0.0039215686274509 ...
  282:  sensor solid type @solid                                     ...
  283:  select :spotValue.4:result notEqual solid false 0.0980392156 ...
  284:  jump *label442 notEqual :findDrillLocationLocal:size 2       if size == 2 then
  285:  op add *tmp12 :spotValue:result :spotValue.1:result          x1 + x2,        // drill at x - 1.5
  286:  op add *tmp13 :spotValue.1:result :spotValue.2:result        x2 + x3,        // drill at x - 0.5
  287:  op add *tmp14 :spotValue.2:result :spotValue.3:result        x3 + x4,        // drill at x + 0.5
  288:  op add *tmp15 :spotValue.3:result :spotValue.4:result        x4 + x5         // drill at x + 1.5
  289:  packcolor :findBestPosition:y1 *tmp12 *tmp13 *tmp14 *tmp15   return packcolor(
  290:  jump *label448 always 0 0                                    ...
        label *label442                                              if size == 2 then
  291:  jump *label443 notEqual :findDrillLocationLocal:size 3       elsif size == 3 then
  292:  op add *tmp19 :spotValue.1:result :spotValue.2:result        x1 + (x2 + x3),   // drill at x - 1
  293:  op add *tmp20 :spotValue:result *tmp19                       ...
  294:  op add *tmp22 *tmp19 :spotValue.3:result                     (x2 + x3) + x4,   // drill at x
  295:  op add *tmp23 :spotValue.2:result :spotValue.3:result        x3 + x4 + x5,   // drill at x + 1
  296:  op add *tmp24 *tmp23 :spotValue.4:result                     ...
  297:  packcolor :findBestPosition:y1 *tmp20 *tmp22 *tmp24 0        return packcolor(
  298:  jump *label448 always 0 0                                    ...
        label *label443                                              elsif size == 3 then
  299:  op sub :spotValue.5:x :findDrillLocationLocal:oreX 3         var x0 = spotValue(x - 3, y, ore);
  300:  set :spotValue.5:y *tmp174                                   ...
  301:  set :spotValue.5:ore :findDrillLocationLocal:ore             ...
  302:  ucontrol getBlock :spotValue.5:x :spotValue.5:y type buildin mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  303:  select value equal floor :spotValue.5:ore 0.0039215686274509 ...
  304:  sensor solid type @solid                                     ...
  305:  select :spotValue.5:result notEqual solid false 0.0980392156 ...
  306:  op add :spotValue.6:x :findDrillLocationLocal:oreX 3         var x6 = spotValue(x + 3, y, ore);
  307:  set :spotValue.6:y *tmp174                                   ...
  308:  set :spotValue.6:ore :findDrillLocationLocal:ore             ...
  309:  ucontrol getBlock :spotValue.6:x :spotValue.6:y type buildin mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  310:  select value equal floor :spotValue.6:ore 0.0039215686274509 ...
  311:  sensor solid type @solid                                     ...
  312:  select :spotValue.6:result notEqual solid false 0.0980392156 ...
  313:  op add *tmp30 :spotValue:result :spotValue.1:result          min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  314:  op add *tmp31 *tmp30 :spotValue.2:result                     ...
  315:  op add *tmp32 :spotValue.5:result *tmp31                     ...
  316:  op min *tmp33 0.09803921568627451 *tmp32                     ...
  317:  op add *tmp36 *tmp31 :spotValue.3:result                     min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  318:  op min *tmp37 0.09803921568627451 *tmp36                     ...
  319:  op add *tmp38 :spotValue.2:result :spotValue.3:result        min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  320:  op add *tmp39 *tmp38 :spotValue.4:result                     ...
  321:  op add *tmp40 :spotValue.1:result *tmp39                     ...
  322:  op min *tmp41 0.09803921568627451 *tmp40                     ...
  323:  op add *tmp44 *tmp39 :spotValue.6:result                     min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  324:  op min *tmp45 0.09803921568627451 *tmp44                     ...
  325:  packcolor :findBestPosition:y1 *tmp33 *tmp37 *tmp41 *tmp45   return packcolor(
        label *label448                                              var y1 = computeRowValues(x, y - 2, ore, size);
  326:  op sub *tmp176 :findDrillLocationLocal:oreY 1                var y2 = computeRowValues(x, y - 1, ore, size);
  327:  set :computeRowValues:x :findDrillLocationLocal:oreX         ...
  328:  set :computeRowValues:y *tmp176                              ...
  329:  set :computeRowValues:ore :findDrillLocationLocal:ore        ...
  330:  set :computeRowValues:size :findDrillLocationLocal:size      ...
  331:  setaddr :computeRowValues*retaddr *label95                   ...
  332:  call *label6 *invalid :computeRowValues*retval               ...
        label *label95                                               ...
  333:  set :findBestPosition:y2 :computeRowValues*retval            ...
  334:  set :computeRowValues:x :findBestPosition:x                  var y3 = computeRowValues(x, y + 0, ore, size);
  335:  set :computeRowValues:y :findBestPosition:y                  ...
  336:  set :computeRowValues:ore :findBestPosition:ore              ...
  337:  set :computeRowValues:size :findBestPosition:size            ...
  338:  setaddr :computeRowValues*retaddr *label96                   ...
  339:  call *label6 *invalid :computeRowValues*retval               ...
        label *label96                                               ...
  340:  set :findBestPosition:y3 :computeRowValues*retval            ...
  341:  op add *tmp180 :findBestPosition:y 1                         var y4 = computeRowValues(x, y + 1, ore, size);
  342:  set :computeRowValues:x :findBestPosition:x                  ...
  343:  set :computeRowValues:y *tmp180                              ...
  344:  set :computeRowValues:ore :findBestPosition:ore              ...
  345:  set :computeRowValues:size :findBestPosition:size            ...
  346:  setaddr :computeRowValues*retaddr *label97                   ...
  347:  call *label6 *invalid :computeRowValues*retval               ...
        label *label97                                               ...
  348:  set :findBestPosition:y4 :computeRowValues*retval            ...
  349:  op add *tmp182 :findBestPosition:y 2                         var y5 = computeRowValues(x, y + 2, ore, size);
  350:  set :computeRowValues:x :findBestPosition:x                  ...
  351:  set :computeRowValues:y *tmp182                              ...
  352:  set :computeRowValues:ore :findBestPosition:ore              ...
  353:  set :computeRowValues:size :findBestPosition:size            ...
  354:  setaddr :computeRowValues*retaddr *label98                   ...
  355:  call *label6 *invalid :computeRowValues*retval               ...
        label *label98                                               ...
  356:  set :findBestPosition:y5 :computeRowValues*retval            ...
  357:  set :findBestPosition:best 0                                 var best = 0;
  358:  set :findDrillLocationLocal:diffX 0                          bestX = 0;
  359:  set :findDrillLocationLocal:diffY 0                          bestY = 0;
  360:  jump *label99 notEqual :findBestPosition:size 2              if size == 2 then
  361:  op add :findBestPosition:row1 :findBestPosition:y1 :findBest var row1 = y1 + y2;         // drill at y - 1.5
  362:  op add :findBestPosition:row2 :findBestPosition:y2 :findBest var row2 = y2 + y3;         // drill at y - 0.5
  363:  op add :findBestPosition:row3 :findBestPosition:y3 :findBest var row3 = y3 + y4;         // drill at y + 0.5
  364:  op add :findBestPosition:row4 :findBestPosition:y4 :computeR var row4 = y4 + y5;         // drill at y + 1.5
  365:  unpackcolor :updateRowPositions2x2:col1 :updateRowPositions2 unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  366:  jump *label103 greaterThanEq :updateRowPositions2x2:col1 0.0 if value < LIMIT then
  367:  jump *label105 lessThanEq :updateRowPositions2x2:col1 0      if value > best then
  368:  set :findDrillLocationLocal:diffX -1.5                       bestX = dx;
  369:  set :findDrillLocationLocal:diffY -1.5                       bestY = dy;
  370:  set :findBestPosition:best :updateRowPositions2x2:col1       best = value;
        label *label105                                              if value > best then
        label *label103                                              if value < LIMIT then
  371:  jump *label108 greaterThanEq :updateRowPositions2x2:col2 0.0 ...
  372:  jump *label110 lessThanEq :updateRowPositions2x2:col2 :findB if value > best then
  373:  set :findDrillLocationLocal:diffX -0.5                       bestX = dx;
  374:  set :findDrillLocationLocal:diffY -1.5                       bestY = dy;
  375:  set :findBestPosition:best :updateRowPositions2x2:col2       best = value;
        label *label110                                              if value > best then
        label *label108                                              if value < LIMIT then
  376:  jump *label113 greaterThanEq :updateRowPositions2x2:col3 0.0 ...
  377:  jump *label115 lessThanEq :updateRowPositions2x2:col3 :findB if value > best then
  378:  set :findDrillLocationLocal:diffX 0.5                        bestX = dx;
  379:  set :findDrillLocationLocal:diffY -1.5                       bestY = dy;
  380:  set :findBestPosition:best :updateRowPositions2x2:col3       best = value;
        label *label115                                              if value > best then
        label *label113                                              if value < LIMIT then
  381:  jump *label118 greaterThanEq :updateRowPositions2x2:col4 0.0 ...
  382:  jump *label120 lessThanEq :updateRowPositions2x2:col4 :findB if value > best then
  383:  set :findDrillLocationLocal:diffX 1.5                        bestX = dx;
  384:  set :findDrillLocationLocal:diffY -1.5                       bestY = dy;
  385:  set :findBestPosition:best :updateRowPositions2x2:col4       best = value;
        label *label120                                              if value > best then
        label *label118                                              if value < LIMIT then
  386:  unpackcolor :updateRowPositions2x2.1:col1 :updateRowPosition unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  387:  jump *label124 greaterThanEq :updateRowPositions2x2.1:col1 0 if value < LIMIT then
  388:  jump *label126 lessThanEq :updateRowPositions2x2.1:col1 :fin if value > best then
  389:  set :findDrillLocationLocal:diffX -1.5                       bestX = dx;
  390:  set :findDrillLocationLocal:diffY -0.5                       bestY = dy;
  391:  set :findBestPosition:best :updateRowPositions2x2.1:col1     best = value;
        label *label126                                              if value > best then
        label *label124                                              if value < LIMIT then
  392:  jump *label129 greaterThanEq :updateRowPositions2x2.1:col2 0 ...
  393:  jump *label131 lessThanEq :updateRowPositions2x2.1:col2 :fin if value > best then
  394:  set :findDrillLocationLocal:diffX -0.5                       bestX = dx;
  395:  set :findDrillLocationLocal:diffY -0.5                       bestY = dy;
  396:  set :findBestPosition:best :updateRowPositions2x2.1:col2     best = value;
        label *label131                                              if value > best then
        label *label129                                              if value < LIMIT then
  397:  jump *label134 greaterThanEq :updateRowPositions2x2.1:col3 0 ...
  398:  jump *label136 lessThanEq :updateRowPositions2x2.1:col3 :fin if value > best then
  399:  set :findDrillLocationLocal:diffX 0.5                        bestX = dx;
  400:  set :findDrillLocationLocal:diffY -0.5                       bestY = dy;
  401:  set :findBestPosition:best :updateRowPositions2x2.1:col3     best = value;
        label *label136                                              if value > best then
        label *label134                                              if value < LIMIT then
  402:  jump *label139 greaterThanEq :updateRowPositions2x2.1:col4 0 ...
  403:  jump *label141 lessThanEq :updateRowPositions2x2.1:col4 :fin if value > best then
  404:  set :findDrillLocationLocal:diffX 1.5                        bestX = dx;
  405:  set :findDrillLocationLocal:diffY -0.5                       bestY = dy;
  406:  set :findBestPosition:best :updateRowPositions2x2.1:col4     best = value;
        label *label141                                              if value > best then
        label *label139                                              if value < LIMIT then
  407:  unpackcolor :updateRowPositions2x2.2:col1 :updateRowPosition unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  408:  jump *label145 greaterThanEq :updateRowPositions2x2.2:col1 0 if value < LIMIT then
  409:  jump *label147 lessThanEq :updateRowPositions2x2.2:col1 :fin if value > best then
  410:  set :findDrillLocationLocal:diffX -1.5                       bestX = dx;
  411:  set :findDrillLocationLocal:diffY 0.5                        bestY = dy;
  412:  set :findBestPosition:best :updateRowPositions2x2.2:col1     best = value;
        label *label147                                              if value > best then
        label *label145                                              if value < LIMIT then
  413:  jump *label150 greaterThanEq :updateRowPositions2x2.2:col2 0 ...
  414:  jump *label152 lessThanEq :updateRowPositions2x2.2:col2 :fin if value > best then
  415:  set :findDrillLocationLocal:diffX -0.5                       bestX = dx;
  416:  set :findDrillLocationLocal:diffY 0.5                        bestY = dy;
  417:  set :findBestPosition:best :updateRowPositions2x2.2:col2     best = value;
        label *label152                                              if value > best then
        label *label150                                              if value < LIMIT then
  418:  jump *label155 greaterThanEq :updateRowPositions2x2.2:col3 0 ...
  419:  jump *label157 lessThanEq :updateRowPositions2x2.2:col3 :fin if value > best then
  420:  set :findDrillLocationLocal:diffX 0.5                        bestX = dx;
  421:  set :findDrillLocationLocal:diffY 0.5                        bestY = dy;
  422:  set :findBestPosition:best :updateRowPositions2x2.2:col3     best = value;
        label *label157                                              if value > best then
        label *label155                                              if value < LIMIT then
  423:  jump *label160 greaterThanEq :updateRowPositions2x2.2:col4 0 ...
  424:  jump *label162 lessThanEq :updateRowPositions2x2.2:col4 :fin if value > best then
  425:  set :findDrillLocationLocal:diffX 1.5                        bestX = dx;
  426:  set :findDrillLocationLocal:diffY 0.5                        bestY = dy;
  427:  set :findBestPosition:best :updateRowPositions2x2.2:col4     best = value;
        label *label162                                              if value > best then
        label *label160                                              if value < LIMIT then
  428:  unpackcolor :updateRowPositions2x2.3:col1 :updateRowPosition unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  429:  jump *label166 greaterThanEq :updateRowPositions2x2.3:col1 0 if value < LIMIT then
  430:  jump *label168 lessThanEq :updateRowPositions2x2.3:col1 :fin if value > best then
  431:  set :findDrillLocationLocal:diffX -1.5                       bestX = dx;
  432:  set :findDrillLocationLocal:diffY 1.5                        bestY = dy;
  433:  set :findBestPosition:best :updateRowPositions2x2.3:col1     best = value;
        label *label168                                              if value > best then
        label *label166                                              if value < LIMIT then
  434:  jump *label171 greaterThanEq :updateRowPositions2x2.3:col2 0 ...
  435:  jump *label173 lessThanEq :updateRowPositions2x2.3:col2 :fin if value > best then
  436:  set :findDrillLocationLocal:diffX -0.5                       bestX = dx;
  437:  set :findDrillLocationLocal:diffY 1.5                        bestY = dy;
  438:  set :findBestPosition:best :updateRowPositions2x2.3:col2     best = value;
        label *label173                                              if value > best then
        label *label171                                              if value < LIMIT then
  439:  jump *label176 greaterThanEq :updateRowPositions2x2.3:col3 0 ...
  440:  jump *label178 lessThanEq :updateRowPositions2x2.3:col3 :fin if value > best then
  441:  set :findDrillLocationLocal:diffX 0.5                        bestX = dx;
  442:  set :findDrillLocationLocal:diffY 1.5                        bestY = dy;
  443:  set :findBestPosition:best :updateRowPositions2x2.3:col3     best = value;
        label *label178                                              if value > best then
        label *label176                                              if value < LIMIT then
  444:  jump *label100 greaterThanEq :updateRowPositions2x2.3:col4 0 ...
  445:  jump *label100 lessThanEq :updateRowPositions2x2.3:col4 :fin if value > best then
  446:  set :findDrillLocationLocal:diffX 1.5                        bestX = dx;
  447:  set :findDrillLocationLocal:diffY 1.5                        bestY = dy;
  448:  set :findBestPosition:best :updateRowPositions2x2.3:col4     best = value;
  449:  jump *label100 always 0 0                                    if size == 2 then
        label *label99                                               ...
  450:  jump *label185 notEqual :findBestPosition:size 3             elsif size == 3 then
  451:  op add *tmp256 :findBestPosition:y2 :findBestPosition:y3     var row1 = y1 + (y2 + y3);  // drill at y - 1
  452:  op add :findBestPosition:row1.1 :findBestPosition:y1 *tmp256 ...
  453:  op add :findBestPosition:row2.1 *tmp256 :findBestPosition:y4 var row2 = (y2 + y3) + y4;  // drill at y
  454:  op add *tmp260 :findBestPosition:y3 :findBestPosition:y4     var row3 = y3 + y4 + y5;    // drill at y + 1
  455:  op add :findBestPosition:row3.1 *tmp260 :computeRowValues*re ...
  456:  unpackcolor :updateRowPositions3x3:col1 :updateRowPositions3 unpackcolor(out col1, out col2, out col3, , rowSum);
  457:  jump *label189 greaterThanEq :updateRowPositions3x3:col1 0.0 if value < LIMIT then
  458:  jump *label191 lessThanEq :updateRowPositions3x3:col1 0      if value > best then
  459:  set :findDrillLocationLocal:diffX -1                         bestX = dx;
  460:  set :findDrillLocationLocal:diffY -1                         bestY = dy;
  461:  set :findBestPosition:best :updateRowPositions3x3:col1       best = value;
        label *label191                                              if value > best then
        label *label189                                              if value < LIMIT then
  462:  jump *label194 greaterThanEq :updateRowPositions3x3:col2 0.0 ...
  463:  jump *label196 lessThanEq :updateRowPositions3x3:col2 :findB if value > best then
  464:  set :findDrillLocationLocal:diffX 0                          bestX = dx;
  465:  set :findDrillLocationLocal:diffY -1                         bestY = dy;
  466:  set :findBestPosition:best :updateRowPositions3x3:col2       best = value;
        label *label196                                              if value > best then
        label *label194                                              if value < LIMIT then
  467:  jump *label199 greaterThanEq :updateRowPositions3x3:col3 0.0 ...
  468:  jump *label201 lessThanEq :updateRowPositions3x3:col3 :findB if value > best then
  469:  set :findDrillLocationLocal:diffX 1                          bestX = dx;
  470:  set :findDrillLocationLocal:diffY -1                         bestY = dy;
  471:  set :findBestPosition:best :updateRowPositions3x3:col3       best = value;
        label *label201                                              if value > best then
        label *label199                                              if value < LIMIT then
  472:  unpackcolor :updateRowPositions3x3.1:col1 :updateRowPosition unpackcolor(out col1, out col2, out col3, , rowSum);
  473:  jump *label205 greaterThanEq :updateRowPositions3x3.1:col1 0 if value < LIMIT then
  474:  jump *label207 lessThanEq :updateRowPositions3x3.1:col1 :fin if value > best then
  475:  set :findDrillLocationLocal:diffX -1                         bestX = dx;
  476:  set :findDrillLocationLocal:diffY 0                          bestY = dy;
  477:  set :findBestPosition:best :updateRowPositions3x3.1:col1     best = value;
        label *label207                                              if value > best then
        label *label205                                              if value < LIMIT then
  478:  jump *label210 greaterThanEq :updateRowPositions3x3.1:col2 0 ...
  479:  jump *label212 lessThanEq :updateRowPositions3x3.1:col2 :fin if value > best then
  480:  set :findDrillLocationLocal:diffX 0                          bestX = dx;
  481:  set :findDrillLocationLocal:diffY 0                          bestY = dy;
  482:  set :findBestPosition:best :updateRowPositions3x3.1:col2     best = value;
        label *label212                                              if value > best then
        label *label210                                              if value < LIMIT then
  483:  jump *label215 greaterThanEq :updateRowPositions3x3.1:col3 0 ...
  484:  jump *label217 lessThanEq :updateRowPositions3x3.1:col3 :fin if value > best then
  485:  set :findDrillLocationLocal:diffX 1                          bestX = dx;
  486:  set :findDrillLocationLocal:diffY 0                          bestY = dy;
  487:  set :findBestPosition:best :updateRowPositions3x3.1:col3     best = value;
        label *label217                                              if value > best then
        label *label215                                              if value < LIMIT then
  488:  unpackcolor :updateRowPositions3x3.2:col1 :updateRowPosition unpackcolor(out col1, out col2, out col3, , rowSum);
  489:  jump *label221 greaterThanEq :updateRowPositions3x3.2:col1 0 if value < LIMIT then
  490:  jump *label223 lessThanEq :updateRowPositions3x3.2:col1 :fin if value > best then
  491:  set :findDrillLocationLocal:diffX -1                         bestX = dx;
  492:  set :findDrillLocationLocal:diffY 1                          bestY = dy;
  493:  set :findBestPosition:best :updateRowPositions3x3.2:col1     best = value;
        label *label223                                              if value > best then
        label *label221                                              if value < LIMIT then
  494:  jump *label226 greaterThanEq :updateRowPositions3x3.2:col2 0 ...
  495:  jump *label228 lessThanEq :updateRowPositions3x3.2:col2 :fin if value > best then
  496:  set :findDrillLocationLocal:diffX 0                          bestX = dx;
  497:  set :findDrillLocationLocal:diffY 1                          bestY = dy;
  498:  set :findBestPosition:best :updateRowPositions3x3.2:col2     best = value;
        label *label228                                              if value > best then
        label *label226                                              if value < LIMIT then
  499:  jump *label186 greaterThanEq :updateRowPositions3x3.2:col3 0 ...
  500:  jump *label186 lessThanEq :updateRowPositions3x3.2:col3 :fin if value > best then
  501:  set :findDrillLocationLocal:diffX 1                          bestX = dx;
  502:  set :findDrillLocationLocal:diffY 1                          bestY = dy;
  503:  set :findBestPosition:best :updateRowPositions3x3.2:col3     best = value;
  504:  jump *label186 always 0 0                                    elsif size == 3 then
        label *label185                                              ...
  505:  op sub *tmp301 :findBestPosition:y 3                         var y0 = computeRowValues(x, y - 3, ore, size);
  506:  set :computeRowValues:x :findBestPosition:x                  ...
  507:  set :computeRowValues:y *tmp301                              ...
  508:  set :computeRowValues:ore :findBestPosition:ore              ...
  509:  set :computeRowValues:size :findBestPosition:size            ...
  510:  setaddr :computeRowValues*retaddr *label235                  ...
  511:  call *label6 *invalid :computeRowValues*retval               ...
        label *label235                                              ...
  512:  set :findBestPosition:y0 :computeRowValues*retval            ...
  513:  op add *tmp303 :findBestPosition:y 3                         var y6 = computeRowValues(x, y + 3, ore, size);
  514:  set :computeRowValues:x :findBestPosition:x                  ...
  515:  set :computeRowValues:y *tmp303                              ...
  516:  set :computeRowValues:ore :findBestPosition:ore              ...
  517:  set :computeRowValues:size :findBestPosition:size            ...
  518:  setaddr :computeRowValues*retaddr *label236                  ...
  519:  call *label6 *invalid :computeRowValues*retval               ...
        label *label236                                              ...
  520:  op add *tmp305 :findBestPosition:y1 :findBestPosition:y2     var row1 = y0 + (y1 + y2 + y3);     // drill at y - 1.5
  521:  op add *tmp306 *tmp305 :findBestPosition:y3                  ...
  522:  op add :findBestPosition:row1.2 :findBestPosition:y0 *tmp306 ...
  523:  op add :findBestPosition:row2.2 *tmp306 :findBestPosition:y4 var row2 = (y1 + y2 + y3) + y4;     // drill at y - 0.5
  524:  op add *tmp311 :findBestPosition:y3 :findBestPosition:y4     var row3 = y2 + (y3 + y4 + y5);     // drill at y + 0.5
  525:  op add *tmp312 *tmp311 :findBestPosition:y5                  ...
  526:  op add :findBestPosition:row3.2 :findBestPosition:y2 *tmp312 ...
  527:  op add :findBestPosition:row4.1 *tmp312 :computeRowValues*re var row4 = (y3 + y4 + y5) + y6;     // drill at y + 1.5
  528:  unpackcolor :updateRowPositions4x4:col1 :updateRowPositions4 unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  529:  jump *label239 greaterThanEq :updateRowPositions4x4:col1 0.0 if value < LIMIT then
  530:  jump *label241 lessThanEq :updateRowPositions4x4:col1 :findB if value > best then
  531:  set :findDrillLocationLocal:diffX -1.5                       bestX = dx;
  532:  set :findDrillLocationLocal:diffY -1.5                       bestY = dy;
  533:  set :findBestPosition:best :updateRowPositions4x4:col1       best = value;
        label *label241                                              if value > best then
        label *label239                                              if value < LIMIT then
  534:  jump *label244 greaterThanEq :updateRowPositions4x4:col2 0.0 ...
  535:  jump *label246 lessThanEq :updateRowPositions4x4:col2 :findB if value > best then
  536:  set :findDrillLocationLocal:diffX -0.5                       bestX = dx;
  537:  set :findDrillLocationLocal:diffY -1.5                       bestY = dy;
  538:  set :findBestPosition:best :updateRowPositions4x4:col2       best = value;
        label *label246                                              if value > best then
        label *label244                                              if value < LIMIT then
  539:  jump *label249 greaterThanEq :updateRowPositions4x4:col3 0.0 ...
  540:  jump *label251 lessThanEq :updateRowPositions4x4:col3 :findB if value > best then
  541:  set :findDrillLocationLocal:diffX 0.5                        bestX = dx;
  542:  set :findDrillLocationLocal:diffY -1.5                       bestY = dy;
  543:  set :findBestPosition:best :updateRowPositions4x4:col3       best = value;
        label *label251                                              if value > best then
        label *label249                                              if value < LIMIT then
  544:  jump *label254 greaterThanEq :updateRowPositions4x4:col4 0.0 ...
  545:  jump *label256 lessThanEq :updateRowPositions4x4:col4 :findB if value > best then
  546:  set :findDrillLocationLocal:diffX 1.5                        bestX = dx;
  547:  set :findDrillLocationLocal:diffY -1.5                       bestY = dy;
  548:  set :findBestPosition:best :updateRowPositions4x4:col4       best = value;
        label *label256                                              if value > best then
        label *label254                                              if value < LIMIT then
  549:  unpackcolor :updateRowPositions4x4.1:col1 :updateRowPosition unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  550:  jump *label260 greaterThanEq :updateRowPositions4x4.1:col1 0 if value < LIMIT then
  551:  jump *label262 lessThanEq :updateRowPositions4x4.1:col1 :fin if value > best then
  552:  set :findDrillLocationLocal:diffX -1.5                       bestX = dx;
  553:  set :findDrillLocationLocal:diffY -0.5                       bestY = dy;
  554:  set :findBestPosition:best :updateRowPositions4x4.1:col1     best = value;
        label *label262                                              if value > best then
        label *label260                                              if value < LIMIT then
  555:  jump *label265 greaterThanEq :updateRowPositions4x4.1:col2 0 ...
  556:  jump *label267 lessThanEq :updateRowPositions4x4.1:col2 :fin if value > best then
  557:  set :findDrillLocationLocal:diffX -0.5                       bestX = dx;
  558:  set :findDrillLocationLocal:diffY -0.5                       bestY = dy;
  559:  set :findBestPosition:best :updateRowPositions4x4.1:col2     best = value;
        label *label267                                              if value > best then
        label *label265                                              if value < LIMIT then
  560:  jump *label270 greaterThanEq :updateRowPositions4x4.1:col3 0 ...
  561:  jump *label272 lessThanEq :updateRowPositions4x4.1:col3 :fin if value > best then
  562:  set :findDrillLocationLocal:diffX 0.5                        bestX = dx;
  563:  set :findDrillLocationLocal:diffY -0.5                       bestY = dy;
  564:  set :findBestPosition:best :updateRowPositions4x4.1:col3     best = value;
        label *label272                                              if value > best then
        label *label270                                              if value < LIMIT then
  565:  jump *label275 greaterThanEq :updateRowPositions4x4.1:col4 0 ...
  566:  jump *label277 lessThanEq :updateRowPositions4x4.1:col4 :fin if value > best then
  567:  set :findDrillLocationLocal:diffX 1.5                        bestX = dx;
  568:  set :findDrillLocationLocal:diffY -0.5                       bestY = dy;
  569:  set :findBestPosition:best :updateRowPositions4x4.1:col4     best = value;
        label *label277                                              if value > best then
        label *label275                                              if value < LIMIT then
  570:  unpackcolor :updateRowPositions4x4.2:col1 :updateRowPosition unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  571:  jump *label281 greaterThanEq :updateRowPositions4x4.2:col1 0 if value < LIMIT then
  572:  jump *label283 lessThanEq :updateRowPositions4x4.2:col1 :fin if value > best then
  573:  set :findDrillLocationLocal:diffX -1.5                       bestX = dx;
  574:  set :findDrillLocationLocal:diffY 0.5                        bestY = dy;
  575:  set :findBestPosition:best :updateRowPositions4x4.2:col1     best = value;
        label *label283                                              if value > best then
        label *label281                                              if value < LIMIT then
  576:  jump *label286 greaterThanEq :updateRowPositions4x4.2:col2 0 ...
  577:  jump *label288 lessThanEq :updateRowPositions4x4.2:col2 :fin if value > best then
  578:  set :findDrillLocationLocal:diffX -0.5                       bestX = dx;
  579:  set :findDrillLocationLocal:diffY 0.5                        bestY = dy;
  580:  set :findBestPosition:best :updateRowPositions4x4.2:col2     best = value;
        label *label288                                              if value > best then
        label *label286                                              if value < LIMIT then
  581:  jump *label291 greaterThanEq :updateRowPositions4x4.2:col3 0 ...
  582:  jump *label293 lessThanEq :updateRowPositions4x4.2:col3 :fin if value > best then
  583:  set :findDrillLocationLocal:diffX 0.5                        bestX = dx;
  584:  set :findDrillLocationLocal:diffY 0.5                        bestY = dy;
  585:  set :findBestPosition:best :updateRowPositions4x4.2:col3     best = value;
        label *label293                                              if value > best then
        label *label291                                              if value < LIMIT then
  586:  jump *label296 greaterThanEq :updateRowPositions4x4.2:col4 0 ...
  587:  jump *label298 lessThanEq :updateRowPositions4x4.2:col4 :fin if value > best then
  588:  set :findDrillLocationLocal:diffX 1.5                        bestX = dx;
  589:  set :findDrillLocationLocal:diffY 0.5                        bestY = dy;
  590:  set :findBestPosition:best :updateRowPositions4x4.2:col4     best = value;
        label *label298                                              if value > best then
        label *label296                                              if value < LIMIT then
  591:  unpackcolor :updateRowPositions4x4.3:col1 :updateRowPosition unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  592:  jump *label302 greaterThanEq :updateRowPositions4x4.3:col1 0 if value < LIMIT then
  593:  jump *label304 lessThanEq :updateRowPositions4x4.3:col1 :fin if value > best then
  594:  set :findDrillLocationLocal:diffX -1.5                       bestX = dx;
  595:  set :findDrillLocationLocal:diffY 1.5                        bestY = dy;
  596:  set :findBestPosition:best :updateRowPositions4x4.3:col1     best = value;
        label *label304                                              if value > best then
        label *label302                                              if value < LIMIT then
  597:  jump *label307 greaterThanEq :updateRowPositions4x4.3:col2 0 ...
  598:  jump *label309 lessThanEq :updateRowPositions4x4.3:col2 :fin if value > best then
  599:  set :findDrillLocationLocal:diffX -0.5                       bestX = dx;
  600:  set :findDrillLocationLocal:diffY 1.5                        bestY = dy;
  601:  set :findBestPosition:best :updateRowPositions4x4.3:col2     best = value;
        label *label309                                              if value > best then
        label *label307                                              if value < LIMIT then
  602:  jump *label312 greaterThanEq :updateRowPositions4x4.3:col3 0 ...
  603:  jump *label314 lessThanEq :updateRowPositions4x4.3:col3 :fin if value > best then
  604:  set :findDrillLocationLocal:diffX 0.5                        bestX = dx;
  605:  set :findDrillLocationLocal:diffY 1.5                        bestY = dy;
  606:  set :findBestPosition:best :updateRowPositions4x4.3:col3     best = value;
        label *label314                                              if value > best then
        label *label312                                              if value < LIMIT then
  607:  jump *label317 greaterThanEq :updateRowPositions4x4.3:col4 0 ...
  608:  jump *label319 lessThanEq :updateRowPositions4x4.3:col4 :fin if value > best then
  609:  set :findDrillLocationLocal:diffX 1.5                        bestX = dx;
  610:  set :findDrillLocationLocal:diffY 1.5                        bestY = dy;
  611:  set :findBestPosition:best :updateRowPositions4x4.3:col4     best = value;
        label *label319                                              if value > best then
        label *label317                                              if value < LIMIT then
        label *label186                                              elsif size == 3 then
        label *label100                                              if size == 2 then
  612:  op mul *tmp173 :findBestPosition:best 255                    return best * 255;
  613:  jump *label321 lessThanEq *tmp173 :findDrillLocationLocal:ca if score > capacity then
  614:  op add :findDrillLocationLocal:dx :findDrillLocationLocal:or dx = oreX + diffX;
  615:  op add :findDrillLocationLocal:dy :findDrillLocationLocal:or dy = oreY + diffY;
  616:  set :findDrillLocationLocal:capacity *tmp173                 capacity = score;
  617:  jump *label323 greaterThanEq :findDrillLocationLocal:limit 1 if limit < 1000 then mapSpots = score; end;
  618:  set .mapSpots *tmp173                                        ...
        label *label323                                              ...
  619:  jump *label325 lessThan :findDrillLocationLocal:capacity :fi if capacity >= limit then
  620:  op add .count .count 1                                       bank1[++count] = item.@id;
  621:  sensor *tmp392 :findDrillLocationLocal:item @id              ...
  622:  write *tmp392 bank1 .count                                   ...
  623:  op add .count .count 1                                       bank1[++count] = value;
  624:  write *tmp173 bank1 .count                                   ...
  625:  op add .count .count 1                                       bank1[++count] = x;
  626:  write :findDrillLocationLocal:dx bank1 .count                ...
  627:  op add .count .count 1                                       bank1[++count] = y;
  628:  write :findDrillLocationLocal:dy bank1 .count                ...
  629:  op add .locations .locations 1                               saveLocation(item, score, dx, dy);
  630:  ucontrol unbind 0 0 0 0 0                                    unbind();
  631:  set :findDrillLocationLocal*retval true                      return true;
  632:  return :findDrillLocationLocal*retaddr                       ...
        label *label325                                              if capacity >= limit then
        label *label321                                              if score > capacity then
  633:  jump *label328 lessThanEq *tmp173 :findDrillLocationLocal:be if score > best then
  634:  op add :findDrillLocationLocal:bestX :findDrillLocationLocal bestX = oreX + diffX;
  635:  op add :findDrillLocationLocal:bestY :findDrillLocationLocal bestY = oreY + diffY;
  636:  set :findDrillLocationLocal:best *tmp173                     best = score;
        label *label328                                              if score > best then
  637:  jump *label92 lessThanEq *tmp173 :findDrillLocationLocal:las if score <= last then break; end;
  638:  set :findDrillLocationLocal:last *tmp173                     last = score;
  639:  op mul :round:x :findDrillLocationLocal:diffX 1.1            oreX += round(diffX * 1.1);    // Rounds halves to higher absolute values
  640:  op add *tmp408 :round:x 0.5                                  *math: floor(x + 0.5);
  641:  op floor *tmp407 *tmp408 0                                   oreX += round(diffX * 1.1);    // Rounds halves to higher absolute values
  642:  op add :findDrillLocationLocal:oreX :findDrillLocationLocal: ...
  643:  op mul :round.1:x :findDrillLocationLocal:diffY 1.1          oreY += round(diffY * 1.1);
  644:  op add *tmp412 :round.1:x 0.5                                *math: floor(x + 0.5);
  645:  op floor *tmp411 *tmp412 0                                   oreY += round(diffY * 1.1);
  646:  op add :findDrillLocationLocal:oreY :findDrillLocationLocal: ...
  647:  op sub *tmp414 :findDrillLocationLocal:oreX .coreX           if min(abs(oreX - coreX), abs(oreY - coreY)) < 7 then break; end;
  648:  op abs *tmp415 *tmp414 0                                     ...
  649:  op sub *tmp416 :findDrillLocationLocal:oreY .coreY           ...
  650:  op abs *tmp417 *tmp416 0                                     ...
  651:  op min *tmp418 *tmp415 *tmp417                               ...
  652:  jump *label90 greaterThanEq *tmp418 7                        ...
        label *label92                                               while true do
  653:  jump *label50 lessThan :findDrillLocationLocal:best 0        if best >= 0 then
  654:  op add .count .count 1                                       bank1[++count] = item.@id;
  655:  sensor *tmp425 :findDrillLocationLocal:item @id              ...
  656:  write *tmp425 bank1 .count                                   ...
  657:  op add .count .count 1                                       bank1[++count] = value;
  658:  write :findDrillLocationLocal:best bank1 .count              ...
  659:  op add .count .count 1                                       bank1[++count] = x;
  660:  write :findDrillLocationLocal:bestX bank1 .count             ...
  661:  op add .count .count 1                                       bank1[++count] = y;
  662:  write :findDrillLocationLocal:bestY bank1 .count             ...
  663:  op add .locations .locations 1                               saveLocation(item, best, bestX, bestY);
  664:  jump *label50 always 0 0                                     while true do
        label *label10                                               noinline def createTerrainMask(x, y)
  665:  ucontrol within :createTerrainMask:x :createTerrainMask:y 6  while !within(x, y, radius) do
  666:  jump *label344 notEqual *tmp435 false                        ...
        label *label435                                              ...
  667:  ucontrol approach :createTerrainMask:x :createTerrainMask:y  approach(x, y, radius - 0.5);
  668:  ucontrol within :createTerrainMask:x :createTerrainMask:y 6  while !within(x, y, radius) do
  669:  jump *label435 equal *tmp435 false                           ...
        label *label344                                              ...
  670:  set :createTerrainMask:result 0                              var result = 0;
  671:  set :createTerrainMask:r 3                                   for var r in -3 .. 3 descending do
        label *label429                                              ...
  672:  set :createTerrainMask:c 3                                   for var c in -3 .. 3 descending do
  673:  op add *tmp440 :createTerrainMask:y :createTerrainMask:r     ...
        label *label430                                              ...
  674:  op shl *tmp438 :createTerrainMask:result 1                   result = (result << 1) | isBlocked(x + c, y + r);
  675:  op add :isBlocked:x :createTerrainMask:x :createTerrainMask: ...
  676:  set :isBlocked:y *tmp440                                     ...
  677:  ucontrol getBlock :isBlocked:x :isBlocked:y type building fl mlog(in x, in y, out result) {
  678:  select type equal type @boulder @air type                    ...
  679:  select :isBlocked:result equal type @air 0 1                 ...
  680:  op or :createTerrainMask:result *tmp438 :isBlocked:result    result = (result << 1) | isBlocked(x + c, y + r);
  681:  op sub :createTerrainMask:c :createTerrainMask:c 1           for var c in -3 .. 3 descending do
  682:  jump *label430 greaterThanEq :createTerrainMask:c -3         ...
  683:  op sub :createTerrainMask:r :createTerrainMask:r 1           for var r in -3 .. 3 descending do
  684:  jump *label429 greaterThanEq :createTerrainMask:r -3         ...
  685:  set :createTerrainMask*retval :createTerrainMask:result      return result;
  686:  return :createTerrainMask*retaddr                            noinline def createTerrainMask(x, y)
        label *label11                                               noinline def findPossiblePlacement(terrainMask, placementMask, width, height, out x, out y)
  687:  set :findPossiblePlacement:y -3                              for y in -3 .. 3 do
  688:  jump *label355 greaterThan :findPossiblePlacement:y 3        ...
        label *label431                                              ...
  689:  op add *tmp443 :findPossiblePlacement:y 3                    var mask = placementMask << 7 * (y + 3);
  690:  op mul *tmp444 7 *tmp443                                     ...
  691:  op shl :findPossiblePlacement:mask :findPossiblePlacement:pl ...
  692:  set :findPossiblePlacement:x -3                              for x in -3 .. 3 do
  693:  jump *label358 greaterThan :findPossiblePlacement:x 3        ...
        label *label432                                              ...
  694:  op and *tmp446 :findPossiblePlacement:terrainMask :findPossi if (terrainMask & mask) == 0 then return 3 * 8 + y * 7 + x; end;
  695:  jump *label359 notEqual *tmp446 0                            ...
  696:  op mul *tmp449 :findPossiblePlacement:y 7                    ...
  697:  op add *tmp450 24 *tmp449                                    ...
  698:  op add :findPossiblePlacement*retval *tmp450 :findPossiblePl ...
  699:  return :findPossiblePlacement*retaddr                        ...
        label *label359                                              ...
  700:  op sub *tmp452 3 :findPossiblePlacement:width                if x > 3 - width then break; end;
  701:  jump *label358 greaterThan :findPossiblePlacement:x *tmp452  ...
  702:  op shl :findPossiblePlacement:mask :findPossiblePlacement:ma mask <<= 1;
  703:  op add :findPossiblePlacement:x :findPossiblePlacement:x 1   for x in -3 .. 3 do
  704:  jump *label432 lessThanEq :findPossiblePlacement:x 3         ...
        label *label358                                              ...
  705:  op sub *tmp455 3 :findPossiblePlacement:height               if y > 3 - height then break; end;
  706:  jump *label355 greaterThan :findPossiblePlacement:y *tmp455  ...
  707:  op add :findPossiblePlacement:y :findPossiblePlacement:y 1   for y in -3 .. 3 do
  708:  jump *label431 lessThanEq :findPossiblePlacement:y 3         ...
        label *label355                                              ...
  709:  set :findPossiblePlacement*retval -1                         return -1;
  710:  return :findPossiblePlacement*retaddr                        noinline def findPossiblePlacement(terrainMask, placementMask, width, height, out x, out y)
        label *label12                                               def tryPlaceGenerator(centerX, centerY, terrainMask, generatorHorizontal, generatorVertical)
  711:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te var shift = findPossiblePlacement(terrainMask, generatorVertical, 2, 4, out c, out r);
  712:  set :findPossiblePlacement:placementMask :tryPlaceGenerator: ...
  713:  set :findPossiblePlacement:width 2                           ...
  714:  set :findPossiblePlacement:height 4                          ...
  715:  setaddr :findPossiblePlacement*retaddr *label366             ...
  716:  call *label11 *invalid :findPossiblePlacement*retval         ...
        label *label366                                              ...
  717:  jump *label367 lessThan :findPossiblePlacement*retval 0      if shift >= 0 then
  718:  jump *label369 greaterThanEq :findPossiblePlacement*retval 0 if shift < 0 then return false; end;
  719:  set :tryPlaceGenerator*retval false                          ...
  720:  return :tryPlaceGenerator*retaddr                            ...
        label *label369                                              ...
  721:  op add *tmp463 :tryPlaceGenerator:centerX 0.5                water2X = centerX + 0.5 + c;
  722:  op add .water2X *tmp463 :findPossiblePlacement:x             ...
  723:  op add *tmp465 :tryPlaceGenerator:centerY 0.5                water2Y = centerY + 0.5 + r;
  724:  op add .water2Y *tmp465 :findPossiblePlacement:y             ...
  725:  op add .generatorX *tmp463 :findPossiblePlacement:x          generatorX = centerX + 0.5 + c;
  726:  op add *tmp469 :tryPlaceGenerator:centerY 2.5                generatorY = centerY + 2.5 + r;
  727:  op add .generatorY *tmp469 :findPossiblePlacement:y          ...
  728:  op shl *tmp471 :tryPlaceGenerator:generatorVertical :findPos terrainMask |= (generatorVertical << shift);
  729:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  730:  jump *label368 always 0 0                                    if shift >= 0 then
        label *label367                                              ...
  731:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te shift = findPossiblePlacement(terrainMask, generatorHorizontal, 4, 2, out c, out r);
  732:  set :findPossiblePlacement:placementMask :tryPlaceGenerator: ...
  733:  set :findPossiblePlacement:width 4                           ...
  734:  set :findPossiblePlacement:height 2                          ...
  735:  setaddr :findPossiblePlacement*retaddr *label371             ...
  736:  call *label11 *invalid :findPossiblePlacement*retval         ...
        label *label371                                              ...
  737:  jump *label372 greaterThanEq :findPossiblePlacement*retval 0 if shift < 0 then return false; end;
  738:  set :tryPlaceGenerator*retval false                          ...
  739:  return :tryPlaceGenerator*retaddr                            ...
        label *label372                                              ...
  740:  op add *tmp475 :tryPlaceGenerator:centerX 0.5                water2X = centerX + 0.5 + c;
  741:  op add .water2X *tmp475 :findPossiblePlacement:x             ...
  742:  op add *tmp477 :tryPlaceGenerator:centerY 0.5                water2Y = centerY + 0.5 + r;
  743:  op add .water2Y *tmp477 :findPossiblePlacement:y             ...
  744:  op add *tmp479 :tryPlaceGenerator:centerX 2.5                generatorX = centerX + 2.5 + c;
  745:  op add .generatorX *tmp479 :findPossiblePlacement:x          ...
  746:  op add .generatorY *tmp477 :findPossiblePlacement:y          generatorY = centerY + 0.5 + r;
  747:  op shl *tmp483 :tryPlaceGenerator:generatorHorizontal :findP terrainMask |= (generatorHorizontal << shift);
  748:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
        label *label368                                              if shift >= 0 then
  749:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  750:  set :findPossiblePlacement:placementMask 1                   ...
  751:  set :findPossiblePlacement:width 1                           ...
  752:  set :findPossiblePlacement:height 1                          ...
  753:  setaddr :findPossiblePlacement*retaddr *label374             ...
  754:  call *label11 *invalid :findPossiblePlacement*retval         ...
        label *label374                                              ...
  755:  jump *label375 greaterThanEq :findPossiblePlacement*retval 0 if shift < 0 then return false; end;
  756:  set :tryPlaceGenerator*retval false                          ...
  757:  return :tryPlaceGenerator*retaddr                            ...
        label *label375                                              ...
  758:  op add .nodeX :tryPlaceGenerator:centerX :findPossiblePlacem nodeX = centerX + c;
  759:  op add .nodeY :tryPlaceGenerator:centerY :findPossiblePlacem nodeY = centerY + r;
  760:  op shl *tmp489 1 :findPossiblePlacement*retval               terrainMask |= (1 << shift);
  761:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  762:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  763:  set :findPossiblePlacement:placementMask 1                   ...
  764:  set :findPossiblePlacement:width 1                           ...
  765:  set :findPossiblePlacement:height 1                          ...
  766:  setaddr :findPossiblePlacement*retaddr *label377             ...
  767:  call *label11 *invalid :findPossiblePlacement*retval         ...
        label *label377                                              ...
  768:  jump *label378 greaterThanEq :findPossiblePlacement*retval 0 if shift < 0 then return false; end;
  769:  set :tryPlaceGenerator*retval false                          ...
  770:  return :tryPlaceGenerator*retaddr                            ...
        label *label378                                              ...
  771:  op add .panelX :tryPlaceGenerator:centerX :findPossiblePlace panelX = centerX + c;
  772:  op add .panelY :tryPlaceGenerator:centerY :findPossiblePlace panelY = centerY + r;
  773:  op shl *tmp495 1 :findPossiblePlacement*retval               terrainMask |= (1 << shift);
  774:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  775:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  776:  set :findPossiblePlacement:placementMask 1                   ...
  777:  set :findPossiblePlacement:width 1                           ...
  778:  set :findPossiblePlacement:height 1                          ...
  779:  setaddr :findPossiblePlacement*retaddr *label380             ...
  780:  call *label11 *invalid :findPossiblePlacement*retval         ...
        label *label380                                              ...
  781:  jump *label381 greaterThanEq :findPossiblePlacement*retval 0 if shift < 0 then return false; end;
  782:  set :tryPlaceGenerator*retval false                          ...
  783:  return :tryPlaceGenerator*retaddr                            ...
        label *label381                                              ...
  784:  op add .batteryX :tryPlaceGenerator:centerX :findPossiblePla batteryX = centerX + c;
  785:  op add .batteryY :tryPlaceGenerator:centerY :findPossiblePla batteryY = centerY + r;
  786:  set :tryPlaceGenerator*retval true                           return true;
  787:  return :tryPlaceGenerator*retaddr                            ...
        label *label13                                               noinline def layoutThoriumDrillAtLocation()
  788:  set .panelY -1                                               water1X = water1Y = water2X = water2Y = generatorX = generatorY = panelX = panelY = -1;
  789:  set .panelX -1                                               ...
  790:  set .generatorY -1                                           ...
  791:  set .generatorX -1                                           ...
  792:  set .water2Y -1                                              ...
  793:  set .water2X -1                                              ...
  794:  set .water1Y -1                                              ...
  795:  set .water1X -1                                              ...
  796:  set :createTerrainMask:x .drillX                             var plainTerrainMask = createTerrainMask(drillX, drillY);
  797:  set :createTerrainMask:y .drillY                             ...
  798:  setaddr :createTerrainMask*retaddr *label384                 ...
  799:  call *label10 *invalid :createTerrainMask*retval             ...
        label *label384                                              ...
  800:  op or :layoutThoriumDrillAtLocation:terrainMask :createTerra var terrainMask = plainTerrainMask | createFixedMatrix(
  801:  op or :layoutThoriumDrillAtLocation:cornersMask :layoutThori var cornersMask = terrainMask | createFixedMatrix(
  802:  set :layoutThoriumDrillAtLocation:mask2x2 387                var mask2x2 = createFixedMatrix(0b11, 0b11);
  803:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt var shift = findPossiblePlacement(cornersMask, mask2x2, 2, 2, out c, out r);
  804:  set :findPossiblePlacement:placementMask 387                 ...
  805:  set :findPossiblePlacement:width 2                           ...
  806:  set :findPossiblePlacement:height 2                          ...
  807:  setaddr :findPossiblePlacement*retaddr *label388             ...
  808:  call *label11 *invalid :findPossiblePlacement*retval         ...
        label *label388                                              ...
  809:  jump *label389 lessThan :findPossiblePlacement*retval 0      if shift >= 0 then
  810:  op add *tmp540 .drillX 0.5                                   water1X = drillX + 0.5 + c;
  811:  op add .water1X *tmp540 :findPossiblePlacement:x             ...
  812:  op add *tmp542 .drillY 0.5                                   water1Y = drillY + 0.5 + r;
  813:  op add .water1Y *tmp542 :findPossiblePlacement:y             ...
  814:  op shl *tmp544 :layoutThoriumDrillAtLocation:mask2x2 :findPo terrainMask |= (mask2x2 << shift);
  815:  op or :layoutThoriumDrillAtLocation:terrainMask :layoutThori ...
  816:  op or :layoutThoriumDrillAtLocation:cornersMask :layoutThori cornersMask |= (mask2x2 << shift);
        label *label389                                              if shift >= 0 then
  817:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt shift = findPossiblePlacement(cornersMask, mask2x2, 2, 2, out c, out r);
  818:  set :findPossiblePlacement:placementMask :layoutThoriumDrill ...
  819:  set :findPossiblePlacement:width 2                           ...
  820:  set :findPossiblePlacement:height 2                          ...
  821:  setaddr :findPossiblePlacement*retaddr *label391             ...
  822:  call *label11 *invalid :findPossiblePlacement*retval         ...
        label *label391                                              ...
  823:  jump *label392 lessThan :findPossiblePlacement*retval 0      if shift >= 0 then
  824:  op add *tmp549 .drillX 0.5                                   containerX = drillX + 0.5 + c;
  825:  op add .containerX *tmp549 :findPossiblePlacement:x          ...
  826:  op add *tmp551 .drillY 0.5                                   containerY = drillY + 0.5 + r;
  827:  op add .containerY *tmp551 :findPossiblePlacement:y          ...
  828:  op shl *tmp553 :layoutThoriumDrillAtLocation:mask2x2 :findPo terrainMask |= (mask2x2 << shift);
  829:  op or :layoutThoriumDrillAtLocation:terrainMask :layoutThori ...
        label *label392                                              if shift >= 0 then
  830:  set :layoutThoriumDrillAtLocation:generatorHorizontal 1935   var generatorHorizontal = createFixedMatrix(0b1111, 0b1111);
  831:  set :layoutThoriumDrillAtLocation:generatorVertical 6340995  var generatorVertical = createFixedMatrix(0b11, 0b11, 0b11, 0b11);
  832:  set :tryPlaceGenerator:centerX .drillX                       if tryPlaceGenerator(drillX, drillY, terrainMask, generatorHorizontal, generatorVertical) then
  833:  set :tryPlaceGenerator:centerY .drillY                       ...
  834:  set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLoca ...
  835:  set :tryPlaceGenerator:generatorHorizontal 1935              ...
  836:  set :tryPlaceGenerator:generatorVertical 6340995             ...
  837:  setaddr :tryPlaceGenerator*retaddr *label396                 ...
  838:  call *label12 *invalid :tryPlaceGenerator*retval             ...
        label *label396                                              ...
  839:  jump *label397 equal :tryPlaceGenerator*retval false         ...
  840:  set :layoutThoriumDrillAtLocation*retval true                return true;
  841:  return :layoutThoriumDrillAtLocation*retaddr                 ...
        label *label397                                              if tryPlaceGenerator(drillX, drillY, terrainMask, generatorHorizontal, generatorVertical) then
  842:  set :layoutThoriumDrillAtLocation:sx 3                       for var sx in 3, 3, -3, -3; var sy in 3, -3, 3, -3 do
  843:  set :layoutThoriumDrillAtLocation:sy 3                       ...
  844:  setaddr *tmp568 *label402                                    ...
  845:  jump *label399 always 0 0                                    ...
        multilabel *label402                                         ...
  846:  set :layoutThoriumDrillAtLocation:sx 3                       ...
  847:  set :layoutThoriumDrillAtLocation:sy -3                      ...
  848:  setaddr *tmp568 *label403                                    ...
  849:  jump *label399 always 0 0                                    ...
        multilabel *label403                                         ...
  850:  set :layoutThoriumDrillAtLocation:sx -3                      ...
  851:  set :layoutThoriumDrillAtLocation:sy 3                       ...
  852:  setaddr *tmp568 *label404                                    ...
  853:  jump *label399 always 0 0                                    ...
        multilabel *label404                                         ...
  854:  set :layoutThoriumDrillAtLocation:sx -3                      ...
  855:  set :layoutThoriumDrillAtLocation:sy -3                      ...
  856:  setaddr *tmp568 *label405                                    ...
        label *label399                                              ...
  857:  op sub :layoutThoriumDrillAtLocation:newX .drillX :layoutTho var newX = drillX - sx;
  858:  op sub :layoutThoriumDrillAtLocation:newY .drillY :layoutTho var newY = drillY - sy;
  859:  set :createTerrainMask:x :layoutThoriumDrillAtLocation:newX  var newTerrainMask = createTerrainMask(newX, newY);
  860:  set :createTerrainMask:y :layoutThoriumDrillAtLocation:newY  ...
  861:  setaddr :createTerrainMask*retaddr *label406                 ...
  862:  call *label10 *invalid :createTerrainMask*retval             ...
        label *label406                                              ...
  863:  set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMas var shiftedMask = shiftMask(terrainMask, sx, sy);
  864:  op abs *tmp573 :layoutThoriumDrillAtLocation:sx 0            if abs(shiftX) > 6 or abs(shiftY) > 6 then return 0; end;
  865:  op greaterThan *tmp574 *tmp573 6                             ...
  866:  op abs *tmp575 :layoutThoriumDrillAtLocation:sy 0            ...
  867:  op greaterThan *tmp576 *tmp575 6                             ...
  868:  op or *tmp577 *tmp574 *tmp576                                ...
  869:  jump *label408 equal *tmp577 false                           ...
  870:  set *tmp572 0                                                ...
  871:  jump *label407 always 0 0                                    ...
        label *label408                                              ...
  872:  op mul *tmp579 7 :layoutThoriumDrillAtLocation:sy            var shift = shiftX + 7 * shiftY;
  873:  op add :shiftMask:shift :layoutThoriumDrillAtLocation:sx *tm ...
  874:  jump *label410 lessThanEq :shiftMask:shift 0                 if shift > 0 then
  875:  op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift var clearMask = ((1 << 49) - 1) >> shift;
  876:  op and *tmp584 :layoutThoriumDrillAtLocation:terrainMask :sh mask = (mask & clearMask) << shift;
  877:  op shl :shiftMask:mask *tmp584 :shiftMask:shift              ...
  878:  jump *label411 always 0 0                                    if shift > 0 then
        label *label410                                              ...
  879:  op sub *tmp586 0 :shiftMask:shift                            mask >>= -shift;
  880:  op shr :shiftMask:mask :layoutThoriumDrillAtLocation:terrain ...
        label *label411                                              if shift > 0 then
  881:  jump *label412 equal :layoutThoriumDrillAtLocation:sx 0      if shiftX != 0 then
  882:  op sub *tmp590 7 *tmp573                                     var keep = 0b1111111 >> (7 - abs(shiftX));          // The bits we need to keep
  883:  op shr :shiftMask:keep 0b1111111 *tmp590                     ...
  884:  jump *label414 lessThanEq :layoutThoriumDrillAtLocation:sx 0 if shiftX > 0 then keep <<= 7 - abs(shiftX); end;   // Shift to the proper side
  885:  op shl :shiftMask:keep :shiftMask:keep *tmp590               ...
        label *label414                                              ...
  886:  op shl *tmp596 :shiftMask:keep 7                             keep |= keep << 7;
  887:  op or :shiftMask:keep :shiftMask:keep *tmp596                ...
  888:  op shl *tmp597 :shiftMask:keep 14                            keep |= keep << 14;
  889:  op or :shiftMask:keep :shiftMask:keep *tmp597                ...
  890:  op shl *tmp598 :shiftMask:keep 21                            keep |= keep << 21;
  891:  op or :shiftMask:keep :shiftMask:keep *tmp598                ...
  892:  op and :shiftMask:mask :shiftMask:mask :shiftMask:keep       mask &= keep;
        label *label412                                              if shiftX != 0 then
  893:  set *tmp572 :shiftMask:mask                                  return mask;
        label *label407                                              var shiftedMask = shiftMask(terrainMask, sx, sy);
  894:  op or :layoutThoriumDrillAtLocation:combinedMask :createTerr var combinedMask = newTerrainMask | shiftedMask;
  895:  op sub *tmp600 .drillX :layoutThoriumDrillAtLocation:sx      if tryPlaceGenerator(drillX - sx, drillY - sy, combinedMask, generatorHorizontal, generatorVertical) then return true; end;
  896:  op sub *tmp601 .drillY :layoutThoriumDrillAtLocation:sy      ...
  897:  set :tryPlaceGenerator:centerX *tmp600                       ...
  898:  set :tryPlaceGenerator:centerY *tmp601                       ...
  899:  set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLoca ...
  900:  set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDri ...
  901:  set :tryPlaceGenerator:generatorVertical :layoutThoriumDrill ...
  902:  setaddr :tryPlaceGenerator*retaddr *label416                 ...
  903:  call *label12 *invalid :tryPlaceGenerator*retval             ...
        label *label416                                              ...
  904:  jump *label417 equal :tryPlaceGenerator*retval false         ...
  905:  set :layoutThoriumDrillAtLocation*retval true                ...
  906:  return :layoutThoriumDrillAtLocation*retaddr                 ...
        label *label417                                              ...
  907:  multijump *tmp568 0 0                                        for var sx in 3, 3, -3, -3; var sy in 3, -3, 3, -3 do
        multilabel *label405                                         ...
  908:  set :layoutThoriumDrillAtLocation*retval true                return true;
  909:  return :layoutThoriumDrillAtLocation*retaddr                 noinline def layoutThoriumDrillAtLocation()
        label *label0                                                remote def findDrillLocation(x, y, unit, item, ore, size, limit, out dx, out dy, out capacity)
  910:  set .searchFinished false                                    searchFinished = false;
  911:  set :findDrillLocationLocal:x :findDrillLocation:x           findDrillLocationLocal(x, y, unit, item, ore, size, limit, out dx, out dy, out capacity);
  912:  set :findDrillLocationLocal:y :findDrillLocation:y           ...
  913:  set :findDrillLocationLocal:unit :findDrillLocation:unit     ...
  914:  set :findDrillLocationLocal:item :findDrillLocation:item     ...
  915:  set :findDrillLocationLocal:ore :findDrillLocation:ore       ...
  916:  set :findDrillLocationLocal:size :findDrillLocation:size     ...
  917:  set :findDrillLocationLocal:limit :findDrillLocation:limit   ...
  918:  setaddr :findDrillLocationLocal*retaddr *label420            ...
  919:  call *label9 *invalid :findDrillLocationLocal*retval         ...
        label *label420                                              ...
  920:  set :findDrillLocation:dx :findDrillLocationLocal:dx         ...
  921:  set :findDrillLocation:dy :findDrillLocationLocal:dy         ...
  922:  set :findDrillLocation:capacity :findDrillLocationLocal:capa ...
  923:  set .searchFinished true                                     searchFinished = true;
  924:  set :findDrillLocation*retval true                           remote def findDrillLocation(x, y, unit, item, ore, size, limit, out dx, out dy, out capacity)
  925:  set :findDrillLocation*finished true                         ...
  926:  jump *label15 always 0 0                                     ...
        label *label1                                                remote def layoutThoriumDrill(x, y, unit, limit)
  927:  set :findDrillLocationLocal:x :layoutThoriumDrill:x          if !findDrillLocationLocal(x, y, unit, @thorium, @ore-thorium, 3, limit, out drillX, out drillY) then
  928:  set :findDrillLocationLocal:y :layoutThoriumDrill:y          ...
  929:  set :findDrillLocationLocal:unit :layoutThoriumDrill:unit    ...
  930:  set :findDrillLocationLocal:item @thorium                    ...
  931:  set :findDrillLocationLocal:ore @ore-thorium                 ...
  932:  set :findDrillLocationLocal:size 3                           ...
  933:  set :findDrillLocationLocal:limit :layoutThoriumDrill:limit  ...
  934:  setaddr :findDrillLocationLocal*retaddr *label422            ...
  935:  call *label9 *invalid :findDrillLocationLocal*retval         ...
        label *label422                                              ...
  936:  set .drillX :findDrillLocationLocal:dx                       ...
  937:  set .drillY :findDrillLocationLocal:dy                       ...
  938:  jump *label423 notEqual :findDrillLocationLocal*retval false ...
  939:  set :layoutThoriumDrill*retval false                         return false;
  940:  jump *label421 always 0 0                                    ...
        label *label423                                              if !findDrillLocationLocal(x, y, unit, @thorium, @ore-thorium, 3, limit, out drillX, out drillY) then
  941:  setaddr :layoutThoriumDrillAtLocation*retaddr *label425      layoutThoriumDrillAtLocation();
  942:  call *label13 *invalid :layoutThoriumDrillAtLocation*retval  ...
        label *label425                                              ...
  943:  set :layoutThoriumDrill*retval :layoutThoriumDrillAtLocation remote def layoutThoriumDrill(x, y, unit, limit)
        label *label421                                              ...
  944:  set :layoutThoriumDrill*finished true                        ...
  945:  jump *label15 always 0 0                                     ...
        label *label2                                                remote void stopLocation()
  946:  set .mapSpots 0                                              mapProgress = mapTotal = mapAction = mapSpots = 0;
  947:  set .mapAction 0                                             ...
  948:  set .mapTotal 0                                              ...
  949:  set .mapProgress 0                                           ...
  950:  ucontrol unbind 0 0 0 0 0                                    unbind();
  951:  set :stopLocation*finished true                              remote void stopLocation()
  952:  jump *label15 always 0 0                                     ...


Performance: parsed in 519 ms, compiled in 297 ms, optimized in 1,609 ms, run in 7 ms.

Compiled mlog code was sent to Mlog Watcher.
  Mlog Watcher: no processor selected.
  (The target processor must be selected in Mindustry to receive the code.)

Program output (6 steps):
The program didn't generate any output.
Execution exception at instruction 43: wait 1e12:
Instruction not supported by Mindcode emulator.
(Use the '#set err-unsupported-opcode = false;' directive or the '--err-unsupported-opcode false' command line option to ignore this exception.)
