Automatically added missing 'printflush(message1);' call to the end of the program.
   122 instructions before optimizations.
     7 instructions eliminated by Temp Variables Elimination (2 passes, 6 iterations).
     2 instructions eliminated by Dead Code Elimination (5 iterations).
C:\Home\golem\base-builder\test.mnd:37:9 Variable 'createCombinedMask.terrainMask' is not used.
     1 instructions eliminated by Jump Optimization (5 iterations).
    11 instructions eliminated by Single Step Elimination (2 passes, 7 iterations).
    20 instructions modified by Expression Optimization (3 iterations).
     3 instructions eliminated by If Expression Optimization (4 iterations).
   258 instructions eliminated by Data Flow Optimization (7 passes, 25 iterations).
     3 loops improved by Loop Hoisting.
     4 instructions eliminated by Loop Optimization (3 iterations).
     4 loops improved by Loop Optimization.
   486 instructions added by Loop Unrolling (8 iterations).
     4 loops unrolled by Loop Unrolling.
   276 instructions added by Function Inlining (8 iterations).
     9 function calls inlined by Function Inlining.
   598 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 909):
    Unroll loop at test.mnd:23:5                                 size   +80, benefit      350.0, efficiency      4.375
    Unroll loop at test.mnd:46:5                                 size   +69, benefit      350.0, efficiency      5.072
    Unroll loop at test.mnd:47:9                                 size   +44, benefit     8750.0, efficiency    198.864
  * Unroll loop at test.mnd:9:5                                  size   +29, benefit    12150.0, efficiency    418.966 (+27 instructions)
    Inline function 'createBlockMaskRow' defined at test.mnd:7:1 size   +17, benefit      108.0, efficiency      6.353
    Inline function call at test.mnd:20:16                       size    +9, benefit        4.0, efficiency      0.444
    Inline function call at test.mnd:21:16                       size    +9, benefit        4.0, efficiency      0.444
    Inline function call at test.mnd:24:20                       size    +9, benefit      100.0, efficiency     11.111

Pass 1: speed optimization selection (cost limit 882):
    Unroll loop at test.mnd:23:5                                 size   +80, benefit      350.0, efficiency      4.375
    Unroll loop at test.mnd:46:5                                 size   +69, benefit      350.0, efficiency      5.072
  * Unroll loop at test.mnd:47:9                                 size   +44, benefit     8750.0, efficiency    198.864 (+38 instructions)
    Inline function 'createBlockMaskRow' defined at test.mnd:7:1 size   +71, benefit      108.0, efficiency      1.521
    Inline function call at test.mnd:20:16                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:21:16                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit      100.0, efficiency      2.778

Pass 1: speed optimization selection (cost limit 844):
  * Unroll loop at test.mnd:23:5                                 size   +80, benefit      350.0, efficiency      4.375 (+77 instructions)
    Unroll loop at test.mnd:46:5                                 size  +297, benefit      350.0, efficiency      1.178
    Inline function 'createBlockMaskRow' defined at test.mnd:7:1 size   +71, benefit      108.0, efficiency      1.521
    Inline function call at test.mnd:20:16                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:21:16                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit      100.0, efficiency      2.778

Pass 1: speed optimization selection (cost limit 767):
  * Unroll loop at test.mnd:46:5                                 size  +297, benefit      350.0, efficiency      1.178 (+143 instructions)
    Inline function 'createBlockMaskRow' defined at test.mnd:7:1 size  +287, benefit       36.0, efficiency      0.125
    Inline function call at test.mnd:20:16                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:21:16                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111

Pass 1: speed optimization selection (cost limit 624):
  * Inline function 'createBlockMaskRow' defined at test.mnd:7:1 size  +287, benefit       36.0, efficiency      0.125 (+255 instructions)
    Inline function call at test.mnd:20:16                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:21:16                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111
    Inline function call at test.mnd:24:20                       size   +36, benefit        4.0, efficiency      0.111

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-1 instructions):
 
    75 read *tmp35 processor1 ":createTerrainMask*finished"
    76 jump *label17 equal *tmp35 false
    77 read *tmp36 processor1 ":createTerrainMask*retval"
-    * set :createCombinedMask:terrainMask *tmp36
    78 set *tmp15 :createCombinedMask:adjacentMask
    79 jump *label9 always
    80 set *tmp15 null

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-1 instructions):
 
    74 wait 1e-15
    75 read *tmp35 processor1 ":createTerrainMask*finished"
    76 jump *label17 equal *tmp35 false
-    * read *tmp36 processor1 ":createTerrainMask*retval"
    77 set *tmp15 :createCombinedMask:adjacentMask
    78 jump *label9 always
    79 set *tmp15 null

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-7 instructions):
 
    29 setaddr :createBlockMaskRow*retaddr *label11 (h:*label11)
    30 call *label4 *invalid :createBlockMaskRow*retval (m:*label11) (h:*label11)
    31 label *label11
-    * set *tmp21 :createBlockMaskRow*retval
-    * set :createAdjacentMask:row2 *tmp21
+   32 set :createAdjacentMask:row2 :createBlockMaskRow*retval
    33 op add *tmp22 :createAdjacentMask:y 3
    34 set :createBlockMaskRow:x :createAdjacentMask:x
    35 set :createBlockMaskRow:y *tmp22
    36 setaddr :createBlockMaskRow*retaddr *label12 (h:*label12)
    37 call *label4 *invalid :createBlockMaskRow*retval (m:*label12) (h:*label12)
    38 label *label12
-    * set *tmp23 :createBlockMaskRow*retval
-    * set :createAdjacentMask:row1 *tmp23
+   39 set :createAdjacentMask:row1 :createBlockMaskRow*retval
    40 set :createAdjacentMask:r 2
    41 label *label13
    42 jump *label15 lessThan :createAdjacentMask:r -4
 
    46 setaddr :createBlockMaskRow*retaddr *label16 (h:*label16)
    47 call *label4 *invalid :createBlockMaskRow*retval (m:*label16) (h:*label16)
    48 label *label16
-    * set *tmp25 :createBlockMaskRow*retval
-    * set :createAdjacentMask:row0 *tmp25
+   49 set :createAdjacentMask:row0 :createBlockMaskRow*retval
    50 op shl *tmp26 :createAdjacentMask:row1 1
    51 op or *tmp27 :createAdjacentMask:row2 *tmp26
    52 op shr *tmp28 :createAdjacentMask:row1 1
    53 op or *tmp29 *tmp27 *tmp28
-    * op or *tmp30 *tmp29 :createAdjacentMask:row0
-    * set :createAdjacentMask:mask *tmp30
+   54 op or :createAdjacentMask:mask *tmp29 :createAdjacentMask:row0
    55 op shl *tmp31 :createAdjacentMask:result 7
    56 op and *tmp32 :createAdjacentMask:mask 0xFE
-    * op or *tmp33 *tmp31 *tmp32
-    * set :createAdjacentMask:result *tmp33
+   57 op or :createAdjacentMask:result *tmp31 *tmp32
    58 set :createAdjacentMask:row2 :createAdjacentMask:row1
    59 set :createAdjacentMask:row1 :createAdjacentMask:row0
    60 label *label14
    61 op sub :createAdjacentMask:r :createAdjacentMask:r 1
    62 jump *label13 always
    63 label *label15
-    * op shr *tmp34 :createAdjacentMask:result 1
-    * set *tmp19 *tmp34
+   64 op shr *tmp19 :createAdjacentMask:result 1
    65 label *label10
    66 set :createCombinedMask:adjacentMask *tmp19
    67 label *label17
 
   126 op shl *tmp48 :createBlockMaskRow:result 1
   127 op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
   128 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
-    * op or *tmp53 *tmp48 *tmp50
-    * set :createBlockMaskRow:result *tmp53
+  129 op or :createBlockMaskRow:result *tmp48 *tmp50
   130 label *label29
   131 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   132 jump *label28 always

Modifications by Iterated phase, Jump Optimization, pass 1, iteration 1 (-1 instructions):
 
     9 label *label7
    10 op add *tmp12 y 5
    11 ucontrol within x *tmp12 2 *tmp13
-    * op equal *tmp14 *tmp13 false
-    * jump *label6 notEqual *tmp14 false
+   12 jump *label6 equal *tmp13 false
    13 label *label8
    14 set :start @tick
    15 set :createCombinedMask:x x

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-2 instructions):
 
     8 ucontrol move x *tmp11
     9 label *label7
    10 op add *tmp12 y 5
-    * ucontrol within x *tmp12 2 *tmp13
+   11 ucontrol within x *tmp11 2 *tmp13
    12 jump *label6 equal *tmp13 false
    13 label *label8
    14 set :start @tick
    15 set :createCombinedMask:x x
    16 set :createCombinedMask:y y
    17 write @unit processor1 ":createTerrainMask:unit"
-    * write :createCombinedMask:x processor1 ":createTerrainMask:x"
-    * write :createCombinedMask:y processor1 ":createTerrainMask:y"
+   18 write x processor1 ":createTerrainMask:x"
+   19 write y processor1 ":createTerrainMask:y"
    20 write false processor1 ":createTerrainMask*finished"
    21 write 1 processor1 "@counter"
-    * set :createAdjacentMask:x :createCombinedMask:x
-    * set :createAdjacentMask:y :createCombinedMask:y
+   22 set :createAdjacentMask:x x
+   23 set :createAdjacentMask:y y
    24 set :createAdjacentMask:result 0
-    * op add *tmp20 :createAdjacentMask:y 4
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+   25 op add *tmp20 :createCombinedMask:y 4
+   26 set :createBlockMaskRow:x :createCombinedMask:x
    27 set :createBlockMaskRow:y *tmp20
    28 setaddr :createBlockMaskRow*retaddr *label11 (h:*label11)
    29 call *label4 *invalid :createBlockMaskRow*retval (m:*label11) (h:*label11)
    30 label *label11
    31 set :createAdjacentMask:row2 :createBlockMaskRow*retval
-    * op add *tmp22 :createAdjacentMask:y 3
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+   32 op add *tmp22 :createCombinedMask:y 3
+   33 set :createBlockMaskRow:x :createCombinedMask:x
    34 set :createBlockMaskRow:y *tmp22
    35 setaddr :createBlockMaskRow*retaddr *label12 (h:*label12)
    36 call *label4 *invalid :createBlockMaskRow*retval (m:*label12) (h:*label12)
 
    39 set :createAdjacentMask:r 2
    40 label *label13
    41 jump *label15 lessThan :createAdjacentMask:r -4
-    * op add *tmp24 :createAdjacentMask:y :createAdjacentMask:r
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+   42 op add *tmp24 :createCombinedMask:y :createAdjacentMask:r
+   43 set :createBlockMaskRow:x :createCombinedMask:x
    44 set :createBlockMaskRow:y *tmp24
    45 setaddr :createBlockMaskRow*retaddr *label16 (h:*label16)
    46 call *label4 *invalid :createBlockMaskRow*retval (m:*label16) (h:*label16)
 
    50 op or *tmp27 :createAdjacentMask:row2 *tmp26
    51 op shr *tmp28 :createAdjacentMask:row1 1
    52 op or *tmp29 *tmp27 *tmp28
-    * op or :createAdjacentMask:mask *tmp29 :createAdjacentMask:row0
+   53 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
    54 op shl *tmp31 :createAdjacentMask:result 7
    55 op and *tmp32 :createAdjacentMask:mask 0xFE
    56 op or :createAdjacentMask:result *tmp31 *tmp32
    57 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createAdjacentMask:row0
+   58 set :createAdjacentMask:row1 :createBlockMaskRow*retval
    59 label *label14
    60 op sub :createAdjacentMask:r :createAdjacentMask:r 1
    61 jump *label13 always
 
    67 wait 1e-15
    68 read *tmp35 processor1 ":createTerrainMask*finished"
    69 jump *label17 equal *tmp35 false
-    * set *tmp15 :createCombinedMask:adjacentMask
+   70 set *tmp15 *tmp19
    71 jump *label9 always
-    * set *tmp15 null
    72 label *label9
-    * set :m *tmp15
+   73 set :m :createCombinedMask:adjacentMask
    74 set :finish @tick
-    * set :drawMask:mask :m
+   75 set :drawMask:mask *tmp15
    76 draw reset
    77 draw translate 6 6
    78 draw clear 0 0 0
 
    85 op mul *tmp37 7 :drawMask:r
    86 op add *tmp38 *tmp37 :drawMask:c
    87 op shl *tmp39 1 *tmp38
-    * op and *tmp40 :drawMask:mask *tmp39
+   88 op and *tmp40 :m *tmp39
    89 jump *label25 equal *tmp40 false
    90 set *tmp41 %[red]
    91 jump *label26 always
 
    93 set *tmp41 %[green]
    94 label *label26
    95 set :drawMask:color *tmp41
-    * draw col :drawMask:color
+   96 draw col *tmp41
    97 op mul *tmp42 :drawMask:c 10
    98 op mul *tmp43 :drawMask:r 10
    99 draw rect *tmp42 *tmp43 8 8
 
   107 label *label21
   108 drawflush display1
   109 label *label18
-    * print :m
+  110 print *tmp15
   111 print "\n"
   112 op sub *tmp44 :finish :start
   113 op mul *tmp45 1000 *tmp44
-    * op div *tmp46 *tmp45 60
+  114 op div *tmp46 *tmp44 0.06
   115 op round *tmp47 *tmp46
   116 print *tmp47
   117 printflush message1
 
   131 label *label30
   132 set :createBlockMaskRow*retval :createBlockMaskRow:result
   133 jump *label27 always
-    * set :createBlockMaskRow*retval null
   134 label *label27
   135 return :createBlockMaskRow*retaddr
   136 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
     7 op add *tmp11 y 5
     8 ucontrol move x *tmp11
     9 label *label7
-    * op add *tmp12 y 5
    10 ucontrol within x *tmp11 2 *tmp13
    11 jump *label6 equal *tmp13 false
    12 label *label8
 
    18 write y processor1 ":createTerrainMask:y"
    19 write false processor1 ":createTerrainMask*finished"
    20 write 1 processor1 "@counter"
-    * set :createAdjacentMask:x x
-    * set :createAdjacentMask:y y
    21 set :createAdjacentMask:result 0
-    * op add *tmp20 :createCombinedMask:y 4
-    * set :createBlockMaskRow:x :createCombinedMask:x
+   22 op add *tmp20 y 4
+   23 set :createBlockMaskRow:x x
    24 set :createBlockMaskRow:y *tmp20
    25 setaddr :createBlockMaskRow*retaddr *label11 (h:*label11)
    26 call *label4 *invalid :createBlockMaskRow*retval (m:*label11) (h:*label11)
    27 label *label11
    28 set :createAdjacentMask:row2 :createBlockMaskRow*retval
-    * op add *tmp22 :createCombinedMask:y 3
-    * set :createBlockMaskRow:x :createCombinedMask:x
+   29 op add *tmp22 y 3
+   30 set :createBlockMaskRow:x x
    31 set :createBlockMaskRow:y *tmp22
    32 setaddr :createBlockMaskRow*retaddr *label12 (h:*label12)
    33 call *label4 *invalid :createBlockMaskRow*retval (m:*label12) (h:*label12)
 
    36 set :createAdjacentMask:r 2
    37 label *label13
    38 jump *label15 lessThan :createAdjacentMask:r -4
-    * op add *tmp24 :createCombinedMask:y :createAdjacentMask:r
-    * set :createBlockMaskRow:x :createCombinedMask:x
+   39 op add *tmp24 y :createAdjacentMask:r
+   40 set :createBlockMaskRow:x x
    41 set :createBlockMaskRow:y *tmp24
    42 setaddr :createBlockMaskRow*retaddr *label16 (h:*label16)
    43 call *label4 *invalid :createBlockMaskRow*retval (m:*label16) (h:*label16)
    44 label *label16
-    * set :createAdjacentMask:row0 :createBlockMaskRow*retval
    45 op shl *tmp26 :createAdjacentMask:row1 1
    46 op or *tmp27 :createAdjacentMask:row2 *tmp26
    47 op shr *tmp28 :createAdjacentMask:row1 1
 
    66 set *tmp15 *tmp19
    67 jump *label9 always
    68 label *label9
-    * set :m :createCombinedMask:adjacentMask
+   69 set :m *tmp19
    70 set :finish @tick
-    * set :drawMask:mask *tmp15
+   71 set :drawMask:mask *tmp19
    72 draw reset
    73 draw translate 6 6
    74 draw clear 0 0 0
 
    81 op mul *tmp37 7 :drawMask:r
    82 op add *tmp38 *tmp37 :drawMask:c
    83 op shl *tmp39 1 *tmp38
-    * op and *tmp40 :m *tmp39
+   84 op and *tmp40 :createCombinedMask:adjacentMask *tmp39
    85 jump *label25 equal *tmp40 false
    86 set *tmp41 %[red]
    87 jump *label26 always
    88 label *label25
    89 set *tmp41 %[green]
    90 label *label26
-    * set :drawMask:color *tmp41
    91 draw col *tmp41
    92 op mul *tmp42 :drawMask:c 10
    93 op mul *tmp43 :drawMask:r 10
 
   102 label *label21
   103 drawflush display1
   104 label *label18
-    * print *tmp15
+  105 print *tmp19
   106 print "\n"
   107 op sub *tmp44 :finish :start
-    * op mul *tmp45 1000 *tmp44
   108 op div *tmp46 *tmp44 0.06
   109 op round *tmp47 *tmp46
   110 print *tmp47

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-5 instructions):
 
    11 jump *label6 equal *tmp13 false
    12 label *label8
    13 set :start @tick
-    * set :createCombinedMask:x x
-    * set :createCombinedMask:y y
    14 write @unit processor1 ":createTerrainMask:unit"
    15 write x processor1 ":createTerrainMask:x"
    16 write y processor1 ":createTerrainMask:y"
 
    61 wait 1e-15
    62 read *tmp35 processor1 ":createTerrainMask*finished"
    63 jump *label17 equal *tmp35 false
-    * set *tmp15 *tmp19
    64 jump *label9 always
    65 label *label9
-    * set :m *tmp19
    66 set :finish @tick
-    * set :drawMask:mask *tmp19
    67 draw reset
    68 draw translate 6 6
    69 draw clear 0 0 0
 
    76 op mul *tmp37 7 :drawMask:r
    77 op add *tmp38 *tmp37 :drawMask:c
    78 op shl *tmp39 1 *tmp38
-    * op and *tmp40 :createCombinedMask:adjacentMask *tmp39
+   79 op and *tmp40 *tmp19 *tmp39
    80 jump *label25 equal *tmp40 false
    81 set *tmp41 %[red]
    82 jump *label26 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 4 (-1 instructions):
 
    56 label *label15
    57 op shr *tmp19 :createAdjacentMask:result 1
    58 label *label10
-    * set :createCombinedMask:adjacentMask *tmp19
    59 label *label17
    60 wait 1e-15
    61 read *tmp35 processor1 ":createTerrainMask*finished"

Modifications by Iterated phase, Loop Hoisting, pass 1, iteration 1:
 
     3 set x 85
     4 set y 100
     5 ubind @poly
+    6 op add *tmp11 y 5
     7 label *label6
-    * op add *tmp11 y 5
     8 ucontrol move x *tmp11
     9 label *label7
    10 ucontrol within x *tmp11 2 *tmp13
 
    32 label *label12
    33 set :createAdjacentMask:row1 :createBlockMaskRow*retval
    34 set :createAdjacentMask:r 2
+   35 set :createBlockMaskRow:x x
+   36 setaddr :createBlockMaskRow*retaddr *label16 (h:*label16)
    37 label *label13
    38 jump *label15 lessThan :createAdjacentMask:r -4
    39 op add *tmp24 y :createAdjacentMask:r
-    * set :createBlockMaskRow:x x
    40 set :createBlockMaskRow:y *tmp24
-    * setaddr :createBlockMaskRow*retaddr *label16 (h:*label16)
    41 call *label4 *invalid :createBlockMaskRow*retval (m:*label16) (h:*label16)
    42 label *label16
    43 op shl *tmp26 :createAdjacentMask:row1 1
 
    70 label *label19
    71 jump *label21 lessThan :drawMask:r 0
    72 set :drawMask:c 0
+   73 op mul *tmp43 :drawMask:r 10
    74 label *label22
    75 jump *label24 greaterThanEq :drawMask:c 7
    76 op mul *tmp37 7 :drawMask:r
 
    85 label *label26
    86 draw col *tmp41
    87 op mul *tmp42 :drawMask:c 10
-    * op mul *tmp43 :drawMask:r 10
    88 draw rect *tmp42 *tmp43 8 8
    89 label *label23
    90 op add :drawMask:c :drawMask:c 1

Modifications by Iterated phase, Loop Optimization, pass 1, iteration 1 (-4 instructions):
 
    35 set :createBlockMaskRow:x x
    36 setaddr :createBlockMaskRow*retaddr *label16 (h:*label16)
    37 label *label13
-    * jump *label15 lessThan :createAdjacentMask:r -4
+   38 label *label31
    39 op add *tmp24 y :createAdjacentMask:r
    40 set :createBlockMaskRow:y *tmp24
    41 call *label4 *invalid :createBlockMaskRow*retval (m:*label16) (h:*label16)
 
    52 set :createAdjacentMask:row1 :createBlockMaskRow*retval
    53 label *label14
    54 op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * jump *label13 always
+   55 jump *label31 greaterThanEq :createAdjacentMask:r -4
    56 label *label15
    57 op shr *tmp19 :createAdjacentMask:result 1
    58 label *label10
 
    68 draw clear 0 0 0
    69 op sub :drawMask:r 7 1
    70 label *label19
-    * jump *label21 lessThan :drawMask:r 0
+   71 label *label32
    72 set :drawMask:c 0
    73 op mul *tmp43 :drawMask:r 10
    74 label *label22
-    * jump *label24 greaterThanEq :drawMask:c 7
+   75 label *label33
    76 op mul *tmp37 7 :drawMask:r
    77 op add *tmp38 *tmp37 :drawMask:c
    78 op shl *tmp39 1 *tmp38
 
    88 draw rect *tmp42 *tmp43 8 8
    89 label *label23
    90 op add :drawMask:c :drawMask:c 1
-    * jump *label22 always
+   91 jump *label33 lessThan :drawMask:c 7
    92 label *label24
    93 label *label20
    94 op sub :drawMask:r :drawMask:r 1
-    * jump *label19 always
+   95 jump *label32 greaterThanEq :drawMask:r 0
    96 label *label21
    97 drawflush display1
    98 label *label18
 
   108 set :createBlockMaskRow:result 0
   109 set :createBlockMaskRow:c 4
   110 label *label28
-    * jump *label30 lessThan :createBlockMaskRow:c -4
+  111 label *label34
   112 op shl *tmp48 :createBlockMaskRow:result 1
   113 op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
   114 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   115 op or :createBlockMaskRow:result *tmp48 *tmp50
   116 label *label29
   117 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label28 always
+  118 jump *label34 greaterThanEq :createBlockMaskRow:c -4
   119 label *label30
   120 set :createBlockMaskRow*retval :createBlockMaskRow:result
   121 jump *label27 always

Modifications by Iterated phase, If Expression Optimization, pass 1, iteration 1 (-3 instructions):
 
    73 op mul *tmp43 :drawMask:r 10
    74 label *label22
    75 label *label33
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 :drawMask:c
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
-    * jump *label25 equal *tmp40 false
-    * set *tmp41 %[red]
-    * jump *label26 always
-    * label *label25
-    * set *tmp41 %[green]
-    * label *label26
+   76 op mul *tmp37 7 :drawMask:r
+   77 op add *tmp38 *tmp37 :drawMask:c
+   78 op shl *tmp39 1 *tmp38
+   79 op and *tmp40 *tmp19 *tmp39
+   80 select *tmp41 notEqual *tmp40 false %[red] %[green]
    81 draw col *tmp41
    82 op mul *tmp42 :drawMask:c 10
    83 draw rect *tmp42 *tmp43 8 8

Modifications by Unroll loop at test.mnd:9:5 (+39 instructions):
 
   101 end
   102 label *label4
   103 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label28
-    * label *label34
-    * op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label29
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label34 greaterThanEq :createBlockMaskRow:c -4
-    * label *label30
+  104 set :createBlockMaskRow:c 4
+  105 label *label35
+  106 label *label36
+  107 op shl *tmp48 :createBlockMaskRow:result 1
+  108 op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  109 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  110 op or :createBlockMaskRow:result *tmp48 *tmp50
+  111 label *label37
+  112 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  113 label *label38
+  114 op shl *tmp48 :createBlockMaskRow:result 1
+  115 op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  116 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  117 op or :createBlockMaskRow:result *tmp48 *tmp50
+  118 label *label39
+  119 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  120 label *label40
+  121 op shl *tmp48 :createBlockMaskRow:result 1
+  122 op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  123 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  124 op or :createBlockMaskRow:result *tmp48 *tmp50
+  125 label *label41
+  126 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  127 label *label42
+  128 op shl *tmp48 :createBlockMaskRow:result 1
+  129 op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  130 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  131 op or :createBlockMaskRow:result *tmp48 *tmp50
+  132 label *label43
+  133 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  134 label *label44
+  135 op shl *tmp48 :createBlockMaskRow:result 1
+  136 op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  137 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  138 op or :createBlockMaskRow:result *tmp48 *tmp50
+  139 label *label45
+  140 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  141 label *label46
+  142 op shl *tmp48 :createBlockMaskRow:result 1
+  143 op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  144 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  145 op or :createBlockMaskRow:result *tmp48 *tmp50
+  146 label *label47
+  147 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  148 label *label48
+  149 op shl *tmp48 :createBlockMaskRow:result 1
+  150 op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  151 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  152 op or :createBlockMaskRow:result *tmp48 *tmp50
+  153 label *label49
+  154 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  155 label *label50
+  156 op shl *tmp48 :createBlockMaskRow:result 1
+  157 op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  158 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  159 op or :createBlockMaskRow:result *tmp48 *tmp50
+  160 label *label51
+  161 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  162 label *label52
+  163 op shl *tmp48 :createBlockMaskRow:result 1
+  164 op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  165 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  166 op or :createBlockMaskRow:result *tmp48 *tmp50
+  167 label *label53
+  168 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  169 label *label30
   170 set :createBlockMaskRow*retval :createBlockMaskRow:result
   171 jump *label27 always
   172 label *label27

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   104 set :createBlockMaskRow:c 4
   105 label *label35
   106 label *label36
-    * op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  107 op shl *tmp48 0 1
+  108 op add *tmp49 :createBlockMaskRow:x 4
   109 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result *tmp48 *tmp50
+  110 op or :createBlockMaskRow:result 0 *tmp50
   111 label *label37
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  112 op sub :createBlockMaskRow:c 4 1
   113 label *label38
   114 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  115 op add *tmp49 :createBlockMaskRow:x 3
   116 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   117 op or :createBlockMaskRow:result *tmp48 *tmp50
   118 label *label39
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  119 op sub :createBlockMaskRow:c 3 1
   120 label *label40
   121 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  122 op add *tmp49 :createBlockMaskRow:x 2
   123 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   124 op or :createBlockMaskRow:result *tmp48 *tmp50
   125 label *label41
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  126 op sub :createBlockMaskRow:c 2 1
   127 label *label42
   128 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  129 op add *tmp49 :createBlockMaskRow:x 1
   130 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   131 op or :createBlockMaskRow:result *tmp48 *tmp50
   132 label *label43
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  133 op sub :createBlockMaskRow:c 1 1
   134 label *label44
   135 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  136 op add *tmp49 :createBlockMaskRow:x 0
   137 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   138 op or :createBlockMaskRow:result *tmp48 *tmp50
   139 label *label45
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  140 op sub :createBlockMaskRow:c 0 1
   141 label *label46
   142 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  143 op add *tmp49 :createBlockMaskRow:x -1
   144 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   145 op or :createBlockMaskRow:result *tmp48 *tmp50
   146 label *label47
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  147 op sub :createBlockMaskRow:c -1 1
   148 label *label48
   149 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  150 op add *tmp49 :createBlockMaskRow:x -2
   151 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   152 op or :createBlockMaskRow:result *tmp48 *tmp50
   153 label *label49
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  154 op sub :createBlockMaskRow:c -2 1
   155 label *label50
   156 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  157 op add *tmp49 :createBlockMaskRow:x -3
   158 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   159 op or :createBlockMaskRow:result *tmp48 *tmp50
   160 label *label51
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  161 op sub :createBlockMaskRow:c -3 1
   162 label *label52
   163 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x :createBlockMaskRow:c
+  164 op add *tmp49 :createBlockMaskRow:x -4
   165 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   166 op or :createBlockMaskRow:result *tmp48 *tmp50
   167 label *label53
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  168 op sub :createBlockMaskRow:c -4 1
   169 label *label30
   170 set :createBlockMaskRow*retval :createBlockMaskRow:result
   171 jump *label27 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-12 instructions):
 
   100 printflush message1
   101 end
   102 label *label4
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   103 label *label35
   104 label *label36
-    * op shl *tmp48 0 1
   105 op add *tmp49 :createBlockMaskRow:x 4
   106 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   107 op or :createBlockMaskRow:result 0 *tmp50
   108 label *label37
-    * op sub :createBlockMaskRow:c 4 1
   109 label *label38
   110 op shl *tmp48 :createBlockMaskRow:result 1
   111 op add *tmp49 :createBlockMaskRow:x 3
   112 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   113 op or :createBlockMaskRow:result *tmp48 *tmp50
   114 label *label39
-    * op sub :createBlockMaskRow:c 3 1
   115 label *label40
   116 op shl *tmp48 :createBlockMaskRow:result 1
   117 op add *tmp49 :createBlockMaskRow:x 2
   118 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   119 op or :createBlockMaskRow:result *tmp48 *tmp50
   120 label *label41
-    * op sub :createBlockMaskRow:c 2 1
   121 label *label42
   122 op shl *tmp48 :createBlockMaskRow:result 1
   123 op add *tmp49 :createBlockMaskRow:x 1
   124 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   125 op or :createBlockMaskRow:result *tmp48 *tmp50
   126 label *label43
-    * op sub :createBlockMaskRow:c 1 1
   127 label *label44
   128 op shl *tmp48 :createBlockMaskRow:result 1
   129 op add *tmp49 :createBlockMaskRow:x 0
   130 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   131 op or :createBlockMaskRow:result *tmp48 *tmp50
   132 label *label45
-    * op sub :createBlockMaskRow:c 0 1
   133 label *label46
   134 op shl *tmp48 :createBlockMaskRow:result 1
   135 op add *tmp49 :createBlockMaskRow:x -1
   136 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   137 op or :createBlockMaskRow:result *tmp48 *tmp50
   138 label *label47
-    * op sub :createBlockMaskRow:c -1 1
   139 label *label48
   140 op shl *tmp48 :createBlockMaskRow:result 1
   141 op add *tmp49 :createBlockMaskRow:x -2
   142 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   143 op or :createBlockMaskRow:result *tmp48 *tmp50
   144 label *label49
-    * op sub :createBlockMaskRow:c -2 1
   145 label *label50
   146 op shl *tmp48 :createBlockMaskRow:result 1
   147 op add *tmp49 :createBlockMaskRow:x -3
   148 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   149 op or :createBlockMaskRow:result *tmp48 *tmp50
   150 label *label51
-    * op sub :createBlockMaskRow:c -3 1
   151 label *label52
   152 op shl *tmp48 :createBlockMaskRow:result 1
   153 op add *tmp49 :createBlockMaskRow:x -4
   154 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
   155 op or :createBlockMaskRow:result *tmp48 *tmp50
   156 label *label53
-    * op sub :createBlockMaskRow:c -4 1
   157 label *label30
   158 set :createBlockMaskRow*retval :createBlockMaskRow:result
   159 jump *label27 always

Modifications by Unroll loop at test.mnd:47:9 (+53 instructions):
 
    69 op sub :drawMask:r 7 1
    70 label *label19
    71 label *label32
-    * set :drawMask:c 0
-    * op mul *tmp43 :drawMask:r 10
-    * label *label22
-    * label *label33
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 :drawMask:c
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
-    * select *tmp41 notEqual *tmp40 false %[red] %[green]
-    * draw col *tmp41
-    * op mul *tmp42 :drawMask:c 10
-    * draw rect *tmp42 *tmp43 8 8
-    * label *label23
-    * op add :drawMask:c :drawMask:c 1
-    * jump *label33 lessThan :drawMask:c 7
-    * label *label24
+   72 set :drawMask:c 0
+   73 op mul *tmp43 :drawMask:r 10
+   74 label *label54
+   75 label *label55
+   76 op mul *tmp37 7 :drawMask:r
+   77 op add *tmp38 *tmp37 :drawMask:c
+   78 op shl *tmp39 1 *tmp38
+   79 op and *tmp40 *tmp19 *tmp39
+   80 select *tmp41 notEqual *tmp40 false %[red] %[green]
+   81 draw col *tmp41
+   82 op mul *tmp42 :drawMask:c 10
+   83 draw rect *tmp42 *tmp43 8 8
+   84 label *label56
+   85 op add :drawMask:c :drawMask:c 1
+   86 label *label57
+   87 op mul *tmp37 7 :drawMask:r
+   88 op add *tmp38 *tmp37 :drawMask:c
+   89 op shl *tmp39 1 *tmp38
+   90 op and *tmp40 *tmp19 *tmp39
+   91 select *tmp41 notEqual *tmp40 false %[red] %[green]
+   92 draw col *tmp41
+   93 op mul *tmp42 :drawMask:c 10
+   94 draw rect *tmp42 *tmp43 8 8
+   95 label *label58
+   96 op add :drawMask:c :drawMask:c 1
+   97 label *label59
+   98 op mul *tmp37 7 :drawMask:r
+   99 op add *tmp38 *tmp37 :drawMask:c
+  100 op shl *tmp39 1 *tmp38
+  101 op and *tmp40 *tmp19 *tmp39
+  102 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  103 draw col *tmp41
+  104 op mul *tmp42 :drawMask:c 10
+  105 draw rect *tmp42 *tmp43 8 8
+  106 label *label60
+  107 op add :drawMask:c :drawMask:c 1
+  108 label *label61
+  109 op mul *tmp37 7 :drawMask:r
+  110 op add *tmp38 *tmp37 :drawMask:c
+  111 op shl *tmp39 1 *tmp38
+  112 op and *tmp40 *tmp19 *tmp39
+  113 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  114 draw col *tmp41
+  115 op mul *tmp42 :drawMask:c 10
+  116 draw rect *tmp42 *tmp43 8 8
+  117 label *label62
+  118 op add :drawMask:c :drawMask:c 1
+  119 label *label63
+  120 op mul *tmp37 7 :drawMask:r
+  121 op add *tmp38 *tmp37 :drawMask:c
+  122 op shl *tmp39 1 *tmp38
+  123 op and *tmp40 *tmp19 *tmp39
+  124 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  125 draw col *tmp41
+  126 op mul *tmp42 :drawMask:c 10
+  127 draw rect *tmp42 *tmp43 8 8
+  128 label *label64
+  129 op add :drawMask:c :drawMask:c 1
+  130 label *label65
+  131 op mul *tmp37 7 :drawMask:r
+  132 op add *tmp38 *tmp37 :drawMask:c
+  133 op shl *tmp39 1 *tmp38
+  134 op and *tmp40 *tmp19 *tmp39
+  135 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  136 draw col *tmp41
+  137 op mul *tmp42 :drawMask:c 10
+  138 draw rect *tmp42 *tmp43 8 8
+  139 label *label66
+  140 op add :drawMask:c :drawMask:c 1
+  141 label *label67
+  142 op mul *tmp37 7 :drawMask:r
+  143 op add *tmp38 *tmp37 :drawMask:c
+  144 op shl *tmp39 1 *tmp38
+  145 op and *tmp40 *tmp19 *tmp39
+  146 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  147 draw col *tmp41
+  148 op mul *tmp42 :drawMask:c 10
+  149 draw rect *tmp42 *tmp43 8 8
+  150 label *label68
+  151 op add :drawMask:c :drawMask:c 1
+  152 label *label24
   153 label *label20
   154 op sub :drawMask:r :drawMask:r 1
   155 jump *label32 greaterThanEq :drawMask:r 0

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    74 label *label54
    75 label *label55
    76 op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 :drawMask:c
+   77 op add *tmp38 *tmp37 0
    78 op shl *tmp39 1 *tmp38
    79 op and *tmp40 *tmp19 *tmp39
    80 select *tmp41 notEqual *tmp40 false %[red] %[green]
    81 draw col *tmp41
-    * op mul *tmp42 :drawMask:c 10
-    * draw rect *tmp42 *tmp43 8 8
+   82 op mul *tmp42 0 10
+   83 draw rect 0 *tmp43 8 8
    84 label *label56
-    * op add :drawMask:c :drawMask:c 1
+   85 op add :drawMask:c 0 1
    86 label *label57
    87 op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 :drawMask:c
+   88 op add *tmp38 *tmp37 1
    89 op shl *tmp39 1 *tmp38
    90 op and *tmp40 *tmp19 *tmp39
    91 select *tmp41 notEqual *tmp40 false %[red] %[green]
    92 draw col *tmp41
-    * op mul *tmp42 :drawMask:c 10
-    * draw rect *tmp42 *tmp43 8 8
+   93 op mul *tmp42 1 10
+   94 draw rect 10 *tmp43 8 8
    95 label *label58
-    * op add :drawMask:c :drawMask:c 1
+   96 op add :drawMask:c 1 1
    97 label *label59
    98 op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 :drawMask:c
+   99 op add *tmp38 *tmp37 2
   100 op shl *tmp39 1 *tmp38
   101 op and *tmp40 *tmp19 *tmp39
   102 select *tmp41 notEqual *tmp40 false %[red] %[green]
   103 draw col *tmp41
-    * op mul *tmp42 :drawMask:c 10
-    * draw rect *tmp42 *tmp43 8 8
+  104 op mul *tmp42 2 10
+  105 draw rect 20 *tmp43 8 8
   106 label *label60
-    * op add :drawMask:c :drawMask:c 1
+  107 op add :drawMask:c 2 1
   108 label *label61
   109 op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 :drawMask:c
+  110 op add *tmp38 *tmp37 3
   111 op shl *tmp39 1 *tmp38
   112 op and *tmp40 *tmp19 *tmp39
   113 select *tmp41 notEqual *tmp40 false %[red] %[green]
   114 draw col *tmp41
-    * op mul *tmp42 :drawMask:c 10
-    * draw rect *tmp42 *tmp43 8 8
+  115 op mul *tmp42 3 10
+  116 draw rect 30 *tmp43 8 8
   117 label *label62
-    * op add :drawMask:c :drawMask:c 1
+  118 op add :drawMask:c 3 1
   119 label *label63
   120 op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 :drawMask:c
+  121 op add *tmp38 *tmp37 4
   122 op shl *tmp39 1 *tmp38
   123 op and *tmp40 *tmp19 *tmp39
   124 select *tmp41 notEqual *tmp40 false %[red] %[green]
   125 draw col *tmp41
-    * op mul *tmp42 :drawMask:c 10
-    * draw rect *tmp42 *tmp43 8 8
+  126 op mul *tmp42 4 10
+  127 draw rect 40 *tmp43 8 8
   128 label *label64
-    * op add :drawMask:c :drawMask:c 1
+  129 op add :drawMask:c 4 1
   130 label *label65
   131 op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 :drawMask:c
+  132 op add *tmp38 *tmp37 5
   133 op shl *tmp39 1 *tmp38
   134 op and *tmp40 *tmp19 *tmp39
   135 select *tmp41 notEqual *tmp40 false %[red] %[green]
   136 draw col *tmp41
-    * op mul *tmp42 :drawMask:c 10
-    * draw rect *tmp42 *tmp43 8 8
+  137 op mul *tmp42 5 10
+  138 draw rect 50 *tmp43 8 8
   139 label *label66
-    * op add :drawMask:c :drawMask:c 1
+  140 op add :drawMask:c 5 1
   141 label *label67
   142 op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 :drawMask:c
+  143 op add *tmp38 *tmp37 6
   144 op shl *tmp39 1 *tmp38
   145 op and *tmp40 *tmp19 *tmp39
   146 select *tmp41 notEqual *tmp40 false %[red] %[green]
   147 draw col *tmp41
-    * op mul *tmp42 :drawMask:c 10
-    * draw rect *tmp42 *tmp43 8 8
+  148 op mul *tmp42 6 10
+  149 draw rect 60 *tmp43 8 8
   150 label *label68
-    * op add :drawMask:c :drawMask:c 1
+  151 op add :drawMask:c 6 1
   152 label *label24
   153 label *label20
   154 op sub :drawMask:r :drawMask:r 1

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-15 instructions):
 
    69 op sub :drawMask:r 7 1
    70 label *label19
    71 label *label32
-    * set :drawMask:c 0
    72 op mul *tmp43 :drawMask:r 10
    73 label *label54
    74 label *label55
 
    78 op and *tmp40 *tmp19 *tmp39
    79 select *tmp41 notEqual *tmp40 false %[red] %[green]
    80 draw col *tmp41
-    * op mul *tmp42 0 10
    81 draw rect 0 *tmp43 8 8
    82 label *label56
-    * op add :drawMask:c 0 1
    83 label *label57
    84 op mul *tmp37 7 :drawMask:r
    85 op add *tmp38 *tmp37 1
 
    87 op and *tmp40 *tmp19 *tmp39
    88 select *tmp41 notEqual *tmp40 false %[red] %[green]
    89 draw col *tmp41
-    * op mul *tmp42 1 10
    90 draw rect 10 *tmp43 8 8
    91 label *label58
-    * op add :drawMask:c 1 1
    92 label *label59
    93 op mul *tmp37 7 :drawMask:r
    94 op add *tmp38 *tmp37 2
 
    96 op and *tmp40 *tmp19 *tmp39
    97 select *tmp41 notEqual *tmp40 false %[red] %[green]
    98 draw col *tmp41
-    * op mul *tmp42 2 10
    99 draw rect 20 *tmp43 8 8
   100 label *label60
-    * op add :drawMask:c 2 1
   101 label *label61
   102 op mul *tmp37 7 :drawMask:r
   103 op add *tmp38 *tmp37 3
 
   105 op and *tmp40 *tmp19 *tmp39
   106 select *tmp41 notEqual *tmp40 false %[red] %[green]
   107 draw col *tmp41
-    * op mul *tmp42 3 10
   108 draw rect 30 *tmp43 8 8
   109 label *label62
-    * op add :drawMask:c 3 1
   110 label *label63
   111 op mul *tmp37 7 :drawMask:r
   112 op add *tmp38 *tmp37 4
 
   114 op and *tmp40 *tmp19 *tmp39
   115 select *tmp41 notEqual *tmp40 false %[red] %[green]
   116 draw col *tmp41
-    * op mul *tmp42 4 10
   117 draw rect 40 *tmp43 8 8
   118 label *label64
-    * op add :drawMask:c 4 1
   119 label *label65
   120 op mul *tmp37 7 :drawMask:r
   121 op add *tmp38 *tmp37 5
 
   123 op and *tmp40 *tmp19 *tmp39
   124 select *tmp41 notEqual *tmp40 false %[red] %[green]
   125 draw col *tmp41
-    * op mul *tmp42 5 10
   126 draw rect 50 *tmp43 8 8
   127 label *label66
-    * op add :drawMask:c 5 1
   128 label *label67
   129 op mul *tmp37 7 :drawMask:r
   130 op add *tmp38 *tmp37 6
 
   132 op and *tmp40 *tmp19 *tmp39
   133 select *tmp41 notEqual *tmp40 false %[red] %[green]
   134 draw col *tmp41
-    * op mul *tmp42 6 10
   135 draw rect 60 *tmp43 8 8
   136 label *label68
-    * op add :drawMask:c 6 1
   137 label *label24
   138 label *label20
   139 op sub :drawMask:r :drawMask:r 1

Modifications by Unroll loop at test.mnd:23:5 (+89 instructions):
 
    31 call *label4 *invalid :createBlockMaskRow*retval (m:*label12) (h:*label12)
    32 label *label12
    33 set :createAdjacentMask:row1 :createBlockMaskRow*retval
-    * set :createAdjacentMask:r 2
-    * set :createBlockMaskRow:x x
-    * setaddr :createBlockMaskRow*retaddr *label16 (h:*label16)
-    * label *label13
-    * label *label31
-    * op add *tmp24 y :createAdjacentMask:r
-    * set :createBlockMaskRow:y *tmp24
-    * call *label4 *invalid :createBlockMaskRow*retval (m:*label16) (h:*label16)
-    * label *label16
-    * op shl *tmp26 :createAdjacentMask:row1 1
-    * op or *tmp27 :createAdjacentMask:row2 *tmp26
-    * op shr *tmp28 :createAdjacentMask:row1 1
-    * op or *tmp29 *tmp27 *tmp28
-    * op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
-    * op shl *tmp31 :createAdjacentMask:result 7
-    * op and *tmp32 :createAdjacentMask:mask 0xFE
-    * op or :createAdjacentMask:result *tmp31 *tmp32
-    * set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
-    * label *label14
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * jump *label31 greaterThanEq :createAdjacentMask:r -4
-    * label *label15
+   34 set :createAdjacentMask:r 2
+   35 set :createBlockMaskRow:x x
+   36 label *label69
+   37 label *label70
+   38 op add *tmp24 y :createAdjacentMask:r
+   39 set :createBlockMaskRow:y *tmp24
+   40 setaddr :createBlockMaskRow*retaddr *label71
+   41 call *label4 *invalid :createBlockMaskRow*retval (m:*label71) (h:*label71)
+   42 label *label71
+   43 op shl *tmp26 :createAdjacentMask:row1 1
+   44 op or *tmp27 :createAdjacentMask:row2 *tmp26
+   45 op shr *tmp28 :createAdjacentMask:row1 1
+   46 op or *tmp29 *tmp27 *tmp28
+   47 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+   48 op shl *tmp31 :createAdjacentMask:result 7
+   49 op and *tmp32 :createAdjacentMask:mask 0xFE
+   50 op or :createAdjacentMask:result *tmp31 *tmp32
+   51 set :createAdjacentMask:row2 :createAdjacentMask:row1
+   52 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+   53 label *label72
+   54 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+   55 label *label73
+   56 op add *tmp24 y :createAdjacentMask:r
+   57 set :createBlockMaskRow:y *tmp24
+   58 setaddr :createBlockMaskRow*retaddr *label74
+   59 call *label4 *invalid :createBlockMaskRow*retval (m:*label74) (h:*label74)
+   60 label *label74
+   61 op shl *tmp26 :createAdjacentMask:row1 1
+   62 op or *tmp27 :createAdjacentMask:row2 *tmp26
+   63 op shr *tmp28 :createAdjacentMask:row1 1
+   64 op or *tmp29 *tmp27 *tmp28
+   65 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+   66 op shl *tmp31 :createAdjacentMask:result 7
+   67 op and *tmp32 :createAdjacentMask:mask 0xFE
+   68 op or :createAdjacentMask:result *tmp31 *tmp32
+   69 set :createAdjacentMask:row2 :createAdjacentMask:row1
+   70 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+   71 label *label75
+   72 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+   73 label *label76
+   74 op add *tmp24 y :createAdjacentMask:r
+   75 set :createBlockMaskRow:y *tmp24
+   76 setaddr :createBlockMaskRow*retaddr *label77
+   77 call *label4 *invalid :createBlockMaskRow*retval (m:*label77) (h:*label77)
+   78 label *label77
+   79 op shl *tmp26 :createAdjacentMask:row1 1
+   80 op or *tmp27 :createAdjacentMask:row2 *tmp26
+   81 op shr *tmp28 :createAdjacentMask:row1 1
+   82 op or *tmp29 *tmp27 *tmp28
+   83 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+   84 op shl *tmp31 :createAdjacentMask:result 7
+   85 op and *tmp32 :createAdjacentMask:mask 0xFE
+   86 op or :createAdjacentMask:result *tmp31 *tmp32
+   87 set :createAdjacentMask:row2 :createAdjacentMask:row1
+   88 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+   89 label *label78
+   90 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+   91 label *label79
+   92 op add *tmp24 y :createAdjacentMask:r
+   93 set :createBlockMaskRow:y *tmp24
+   94 setaddr :createBlockMaskRow*retaddr *label80
+   95 call *label4 *invalid :createBlockMaskRow*retval (m:*label80) (h:*label80)
+   96 label *label80
+   97 op shl *tmp26 :createAdjacentMask:row1 1
+   98 op or *tmp27 :createAdjacentMask:row2 *tmp26
+   99 op shr *tmp28 :createAdjacentMask:row1 1
+  100 op or *tmp29 *tmp27 *tmp28
+  101 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+  102 op shl *tmp31 :createAdjacentMask:result 7
+  103 op and *tmp32 :createAdjacentMask:mask 0xFE
+  104 op or :createAdjacentMask:result *tmp31 *tmp32
+  105 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  106 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  107 label *label81
+  108 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  109 label *label82
+  110 op add *tmp24 y :createAdjacentMask:r
+  111 set :createBlockMaskRow:y *tmp24
+  112 setaddr :createBlockMaskRow*retaddr *label83
+  113 call *label4 *invalid :createBlockMaskRow*retval (m:*label83) (h:*label83)
+  114 label *label83
+  115 op shl *tmp26 :createAdjacentMask:row1 1
+  116 op or *tmp27 :createAdjacentMask:row2 *tmp26
+  117 op shr *tmp28 :createAdjacentMask:row1 1
+  118 op or *tmp29 *tmp27 *tmp28
+  119 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+  120 op shl *tmp31 :createAdjacentMask:result 7
+  121 op and *tmp32 :createAdjacentMask:mask 0xFE
+  122 op or :createAdjacentMask:result *tmp31 *tmp32
+  123 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  124 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  125 label *label84
+  126 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  127 label *label85
+  128 op add *tmp24 y :createAdjacentMask:r
+  129 set :createBlockMaskRow:y *tmp24
+  130 setaddr :createBlockMaskRow*retaddr *label86
+  131 call *label4 *invalid :createBlockMaskRow*retval (m:*label86) (h:*label86)
+  132 label *label86
+  133 op shl *tmp26 :createAdjacentMask:row1 1
+  134 op or *tmp27 :createAdjacentMask:row2 *tmp26
+  135 op shr *tmp28 :createAdjacentMask:row1 1
+  136 op or *tmp29 *tmp27 *tmp28
+  137 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+  138 op shl *tmp31 :createAdjacentMask:result 7
+  139 op and *tmp32 :createAdjacentMask:mask 0xFE
+  140 op or :createAdjacentMask:result *tmp31 *tmp32
+  141 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  142 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  143 label *label87
+  144 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  145 label *label88
+  146 op add *tmp24 y :createAdjacentMask:r
+  147 set :createBlockMaskRow:y *tmp24
+  148 setaddr :createBlockMaskRow*retaddr *label89
+  149 call *label4 *invalid :createBlockMaskRow*retval (m:*label89) (h:*label89)
+  150 label *label89
+  151 op shl *tmp26 :createAdjacentMask:row1 1
+  152 op or *tmp27 :createAdjacentMask:row2 *tmp26
+  153 op shr *tmp28 :createAdjacentMask:row1 1
+  154 op or *tmp29 *tmp27 *tmp28
+  155 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+  156 op shl *tmp31 :createAdjacentMask:result 7
+  157 op and *tmp32 :createAdjacentMask:mask 0xFE
+  158 op or :createAdjacentMask:result *tmp31 *tmp32
+  159 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  160 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  161 label *label90
+  162 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  163 label *label15
   164 op shr *tmp19 :createAdjacentMask:result 1
   165 label *label10
   166 label *label17

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-2 instructions):
 
    35 set :createBlockMaskRow:x x
    36 label *label69
    37 label *label70
-    * op add *tmp24 y :createAdjacentMask:r
+   38 op add *tmp24 y 2
    39 set :createBlockMaskRow:y *tmp24
    40 setaddr :createBlockMaskRow*retaddr *label71
    41 call *label4 *invalid :createBlockMaskRow*retval (m:*label71) (h:*label71)
 
    45 op shr *tmp28 :createAdjacentMask:row1 1
    46 op or *tmp29 *tmp27 *tmp28
    47 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
-    * op shl *tmp31 :createAdjacentMask:result 7
+   48 op shl *tmp31 0 7
    49 op and *tmp32 :createAdjacentMask:mask 0xFE
-    * op or :createAdjacentMask:result *tmp31 *tmp32
+   50 op or :createAdjacentMask:result 0 *tmp32
    51 set :createAdjacentMask:row2 :createAdjacentMask:row1
    52 set :createAdjacentMask:row1 :createBlockMaskRow*retval
    53 label *label72
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
+   54 op sub :createAdjacentMask:r 2 1
    55 label *label73
-    * op add *tmp24 y :createAdjacentMask:r
+   56 op add *tmp24 y 1
    57 set :createBlockMaskRow:y *tmp24
    58 setaddr :createBlockMaskRow*retaddr *label74
    59 call *label4 *invalid :createBlockMaskRow*retval (m:*label74) (h:*label74)
 
    69 set :createAdjacentMask:row2 :createAdjacentMask:row1
    70 set :createAdjacentMask:row1 :createBlockMaskRow*retval
    71 label *label75
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
+   72 op sub :createAdjacentMask:r 1 1
    73 label *label76
-    * op add *tmp24 y :createAdjacentMask:r
+   74 op add *tmp24 y 0
    75 set :createBlockMaskRow:y *tmp24
    76 setaddr :createBlockMaskRow*retaddr *label77
    77 call *label4 *invalid :createBlockMaskRow*retval (m:*label77) (h:*label77)
 
    87 set :createAdjacentMask:row2 :createAdjacentMask:row1
    88 set :createAdjacentMask:row1 :createBlockMaskRow*retval
    89 label *label78
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
+   90 op sub :createAdjacentMask:r 0 1
    91 label *label79
-    * op add *tmp24 y :createAdjacentMask:r
+   92 op add *tmp24 y -1
    93 set :createBlockMaskRow:y *tmp24
    94 setaddr :createBlockMaskRow*retaddr *label80
    95 call *label4 *invalid :createBlockMaskRow*retval (m:*label80) (h:*label80)
 
   105 set :createAdjacentMask:row2 :createAdjacentMask:row1
   106 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   107 label *label81
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  108 op sub :createAdjacentMask:r -1 1
   109 label *label82
-    * op add *tmp24 y :createAdjacentMask:r
+  110 op add *tmp24 y -2
   111 set :createBlockMaskRow:y *tmp24
   112 setaddr :createBlockMaskRow*retaddr *label83
   113 call *label4 *invalid :createBlockMaskRow*retval (m:*label83) (h:*label83)
 
   123 set :createAdjacentMask:row2 :createAdjacentMask:row1
   124 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   125 label *label84
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  126 op sub :createAdjacentMask:r -2 1
   127 label *label85
-    * op add *tmp24 y :createAdjacentMask:r
+  128 op add *tmp24 y -3
   129 set :createBlockMaskRow:y *tmp24
   130 setaddr :createBlockMaskRow*retaddr *label86
   131 call *label4 *invalid :createBlockMaskRow*retval (m:*label86) (h:*label86)
 
   141 set :createAdjacentMask:row2 :createAdjacentMask:row1
   142 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   143 label *label87
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  144 op sub :createAdjacentMask:r -3 1
   145 label *label88
-    * op add *tmp24 y :createAdjacentMask:r
+  146 op add *tmp24 y -4
   147 set :createBlockMaskRow:y *tmp24
   148 setaddr :createBlockMaskRow*retaddr *label89
   149 call *label4 *invalid :createBlockMaskRow*retval (m:*label89) (h:*label89)
 
   156 op shl *tmp31 :createAdjacentMask:result 7
   157 op and *tmp32 :createAdjacentMask:mask 0xFE
   158 op or :createAdjacentMask:result *tmp31 *tmp32
-    * set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
   159 label *label90
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  160 op sub :createAdjacentMask:r -4 1
   161 label *label15
   162 op shr *tmp19 :createAdjacentMask:result 1
   163 label *label10

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-10 instructions):
 
    16 write y processor1 ":createTerrainMask:y"
    17 write false processor1 ":createTerrainMask*finished"
    18 write 1 processor1 "@counter"
-    * set :createAdjacentMask:result 0
    19 op add *tmp20 y 4
    20 set :createBlockMaskRow:x x
    21 set :createBlockMaskRow:y *tmp20
 
    30 call *label4 *invalid :createBlockMaskRow*retval (m:*label12) (h:*label12)
    31 label *label12
    32 set :createAdjacentMask:row1 :createBlockMaskRow*retval
-    * set :createAdjacentMask:r 2
    33 set :createBlockMaskRow:x x
    34 label *label69
    35 label *label70
 
    43 op shr *tmp28 :createAdjacentMask:row1 1
    44 op or *tmp29 *tmp27 *tmp28
    45 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
-    * op shl *tmp31 0 7
    46 op and *tmp32 :createAdjacentMask:mask 0xFE
    47 op or :createAdjacentMask:result 0 *tmp32
    48 set :createAdjacentMask:row2 :createAdjacentMask:row1
    49 set :createAdjacentMask:row1 :createBlockMaskRow*retval
    50 label *label72
-    * op sub :createAdjacentMask:r 2 1
    51 label *label73
    52 op add *tmp24 y 1
    53 set :createBlockMaskRow:y *tmp24
 
    65 set :createAdjacentMask:row2 :createAdjacentMask:row1
    66 set :createAdjacentMask:row1 :createBlockMaskRow*retval
    67 label *label75
-    * op sub :createAdjacentMask:r 1 1
    68 label *label76
    69 op add *tmp24 y 0
    70 set :createBlockMaskRow:y *tmp24
 
    82 set :createAdjacentMask:row2 :createAdjacentMask:row1
    83 set :createAdjacentMask:row1 :createBlockMaskRow*retval
    84 label *label78
-    * op sub :createAdjacentMask:r 0 1
    85 label *label79
    86 op add *tmp24 y -1
    87 set :createBlockMaskRow:y *tmp24
 
    99 set :createAdjacentMask:row2 :createAdjacentMask:row1
   100 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   101 label *label81
-    * op sub :createAdjacentMask:r -1 1
   102 label *label82
   103 op add *tmp24 y -2
   104 set :createBlockMaskRow:y *tmp24
 
   116 set :createAdjacentMask:row2 :createAdjacentMask:row1
   117 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   118 label *label84
-    * op sub :createAdjacentMask:r -2 1
   119 label *label85
   120 op add *tmp24 y -3
   121 set :createBlockMaskRow:y *tmp24
 
   133 set :createAdjacentMask:row2 :createAdjacentMask:row1
   134 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   135 label *label87
-    * op sub :createAdjacentMask:r -3 1
   136 label *label88
   137 op add *tmp24 y -4
   138 set :createBlockMaskRow:y *tmp24
 
   148 op and *tmp32 :createAdjacentMask:mask 0xFE
   149 op or :createAdjacentMask:result *tmp31 *tmp32
   150 label *label90
-    * op sub :createAdjacentMask:r -4 1
   151 label *label15
   152 op shr *tmp19 :createAdjacentMask:result 1
   153 label *label10

Modifications by Unroll loop at test.mnd:46:5 (+305 instructions):
 
   161 draw reset
   162 draw translate 6 6
   163 draw clear 0 0 0
-    * op sub :drawMask:r 7 1
-    * label *label19
-    * label *label32
-    * op mul *tmp43 :drawMask:r 10
-    * label *label54
-    * label *label55
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 0
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
-    * select *tmp41 notEqual *tmp40 false %[red] %[green]
-    * draw col *tmp41
-    * draw rect 0 *tmp43 8 8
-    * label *label56
-    * label *label57
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 1
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
-    * select *tmp41 notEqual *tmp40 false %[red] %[green]
-    * draw col *tmp41
-    * draw rect 10 *tmp43 8 8
-    * label *label58
-    * label *label59
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 2
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
-    * select *tmp41 notEqual *tmp40 false %[red] %[green]
-    * draw col *tmp41
-    * draw rect 20 *tmp43 8 8
-    * label *label60
-    * label *label61
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 3
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
-    * select *tmp41 notEqual *tmp40 false %[red] %[green]
-    * draw col *tmp41
-    * draw rect 30 *tmp43 8 8
-    * label *label62
-    * label *label63
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 4
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
-    * select *tmp41 notEqual *tmp40 false %[red] %[green]
-    * draw col *tmp41
-    * draw rect 40 *tmp43 8 8
-    * label *label64
-    * label *label65
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 5
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
-    * select *tmp41 notEqual *tmp40 false %[red] %[green]
-    * draw col *tmp41
-    * draw rect 50 *tmp43 8 8
-    * label *label66
-    * label *label67
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 6
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
-    * select *tmp41 notEqual *tmp40 false %[red] %[green]
-    * draw col *tmp41
-    * draw rect 60 *tmp43 8 8
-    * label *label68
-    * label *label24
-    * label *label20
-    * op sub :drawMask:r :drawMask:r 1
-    * jump *label32 greaterThanEq :drawMask:r 0
-    * label *label21
+  164 op sub :drawMask:r 7 1
+  165 label *label91
+  166 label *label92
+  167 op mul *tmp43 :drawMask:r 10
+  168 label *label93
+  169 label *label94
+  170 op mul *tmp37 7 :drawMask:r
+  171 op add *tmp38 *tmp37 0
+  172 op shl *tmp39 1 *tmp38
+  173 op and *tmp40 *tmp19 *tmp39
+  174 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  175 draw col *tmp41
+  176 draw rect 0 *tmp43 8 8
+  177 label *label95
+  178 label *label96
+  179 op mul *tmp37 7 :drawMask:r
+  180 op add *tmp38 *tmp37 1
+  181 op shl *tmp39 1 *tmp38
+  182 op and *tmp40 *tmp19 *tmp39
+  183 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  184 draw col *tmp41
+  185 draw rect 10 *tmp43 8 8
+  186 label *label97
+  187 label *label98
+  188 op mul *tmp37 7 :drawMask:r
+  189 op add *tmp38 *tmp37 2
+  190 op shl *tmp39 1 *tmp38
+  191 op and *tmp40 *tmp19 *tmp39
+  192 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  193 draw col *tmp41
+  194 draw rect 20 *tmp43 8 8
+  195 label *label99
+  196 label *label100
+  197 op mul *tmp37 7 :drawMask:r
+  198 op add *tmp38 *tmp37 3
+  199 op shl *tmp39 1 *tmp38
+  200 op and *tmp40 *tmp19 *tmp39
+  201 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  202 draw col *tmp41
+  203 draw rect 30 *tmp43 8 8
+  204 label *label101
+  205 label *label102
+  206 op mul *tmp37 7 :drawMask:r
+  207 op add *tmp38 *tmp37 4
+  208 op shl *tmp39 1 *tmp38
+  209 op and *tmp40 *tmp19 *tmp39
+  210 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  211 draw col *tmp41
+  212 draw rect 40 *tmp43 8 8
+  213 label *label103
+  214 label *label104
+  215 op mul *tmp37 7 :drawMask:r
+  216 op add *tmp38 *tmp37 5
+  217 op shl *tmp39 1 *tmp38
+  218 op and *tmp40 *tmp19 *tmp39
+  219 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  220 draw col *tmp41
+  221 draw rect 50 *tmp43 8 8
+  222 label *label105
+  223 label *label106
+  224 op mul *tmp37 7 :drawMask:r
+  225 op add *tmp38 *tmp37 6
+  226 op shl *tmp39 1 *tmp38
+  227 op and *tmp40 *tmp19 *tmp39
+  228 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  229 draw col *tmp41
+  230 draw rect 60 *tmp43 8 8
+  231 label *label107
+  232 label *label108
+  233 label *label109
+  234 op sub :drawMask:r :drawMask:r 1
+  235 label *label110
+  236 op mul *tmp43 :drawMask:r 10
+  237 label *label111
+  238 label *label112
+  239 op mul *tmp37 7 :drawMask:r
+  240 op add *tmp38 *tmp37 0
+  241 op shl *tmp39 1 *tmp38
+  242 op and *tmp40 *tmp19 *tmp39
+  243 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  244 draw col *tmp41
+  245 draw rect 0 *tmp43 8 8
+  246 label *label113
+  247 label *label114
+  248 op mul *tmp37 7 :drawMask:r
+  249 op add *tmp38 *tmp37 1
+  250 op shl *tmp39 1 *tmp38
+  251 op and *tmp40 *tmp19 *tmp39
+  252 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  253 draw col *tmp41
+  254 draw rect 10 *tmp43 8 8
+  255 label *label115
+  256 label *label116
+  257 op mul *tmp37 7 :drawMask:r
+  258 op add *tmp38 *tmp37 2
+  259 op shl *tmp39 1 *tmp38
+  260 op and *tmp40 *tmp19 *tmp39
+  261 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  262 draw col *tmp41
+  263 draw rect 20 *tmp43 8 8
+  264 label *label117
+  265 label *label118
+  266 op mul *tmp37 7 :drawMask:r
+  267 op add *tmp38 *tmp37 3
+  268 op shl *tmp39 1 *tmp38
+  269 op and *tmp40 *tmp19 *tmp39
+  270 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  271 draw col *tmp41
+  272 draw rect 30 *tmp43 8 8
+  273 label *label119
+  274 label *label120
+  275 op mul *tmp37 7 :drawMask:r
+  276 op add *tmp38 *tmp37 4
+  277 op shl *tmp39 1 *tmp38
+  278 op and *tmp40 *tmp19 *tmp39
+  279 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  280 draw col *tmp41
+  281 draw rect 40 *tmp43 8 8
+  282 label *label121
+  283 label *label122
+  284 op mul *tmp37 7 :drawMask:r
+  285 op add *tmp38 *tmp37 5
+  286 op shl *tmp39 1 *tmp38
+  287 op and *tmp40 *tmp19 *tmp39
+  288 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  289 draw col *tmp41
+  290 draw rect 50 *tmp43 8 8
+  291 label *label123
+  292 label *label124
+  293 op mul *tmp37 7 :drawMask:r
+  294 op add *tmp38 *tmp37 6
+  295 op shl *tmp39 1 *tmp38
+  296 op and *tmp40 *tmp19 *tmp39
+  297 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  298 draw col *tmp41
+  299 draw rect 60 *tmp43 8 8
+  300 label *label125
+  301 label *label126
+  302 label *label127
+  303 op sub :drawMask:r :drawMask:r 1
+  304 label *label128
+  305 op mul *tmp43 :drawMask:r 10
+  306 label *label129
+  307 label *label130
+  308 op mul *tmp37 7 :drawMask:r
+  309 op add *tmp38 *tmp37 0
+  310 op shl *tmp39 1 *tmp38
+  311 op and *tmp40 *tmp19 *tmp39
+  312 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  313 draw col *tmp41
+  314 draw rect 0 *tmp43 8 8
+  315 label *label131
+  316 label *label132
+  317 op mul *tmp37 7 :drawMask:r
+  318 op add *tmp38 *tmp37 1
+  319 op shl *tmp39 1 *tmp38
+  320 op and *tmp40 *tmp19 *tmp39
+  321 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  322 draw col *tmp41
+  323 draw rect 10 *tmp43 8 8
+  324 label *label133
+  325 label *label134
+  326 op mul *tmp37 7 :drawMask:r
+  327 op add *tmp38 *tmp37 2
+  328 op shl *tmp39 1 *tmp38
+  329 op and *tmp40 *tmp19 *tmp39
+  330 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  331 draw col *tmp41
+  332 draw rect 20 *tmp43 8 8
+  333 label *label135
+  334 label *label136
+  335 op mul *tmp37 7 :drawMask:r
+  336 op add *tmp38 *tmp37 3
+  337 op shl *tmp39 1 *tmp38
+  338 op and *tmp40 *tmp19 *tmp39
+  339 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  340 draw col *tmp41
+  341 draw rect 30 *tmp43 8 8
+  342 label *label137
+  343 label *label138
+  344 op mul *tmp37 7 :drawMask:r
+  345 op add *tmp38 *tmp37 4
+  346 op shl *tmp39 1 *tmp38
+  347 op and *tmp40 *tmp19 *tmp39
+  348 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  349 draw col *tmp41
+  350 draw rect 40 *tmp43 8 8
+  351 label *label139
+  352 label *label140
+  353 op mul *tmp37 7 :drawMask:r
+  354 op add *tmp38 *tmp37 5
+  355 op shl *tmp39 1 *tmp38
+  356 op and *tmp40 *tmp19 *tmp39
+  357 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  358 draw col *tmp41
+  359 draw rect 50 *tmp43 8 8
+  360 label *label141
+  361 label *label142
+  362 op mul *tmp37 7 :drawMask:r
+  363 op add *tmp38 *tmp37 6
+  364 op shl *tmp39 1 *tmp38
+  365 op and *tmp40 *tmp19 *tmp39
+  366 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  367 draw col *tmp41
+  368 draw rect 60 *tmp43 8 8
+  369 label *label143
+  370 label *label144
+  371 label *label145
+  372 op sub :drawMask:r :drawMask:r 1
+  373 label *label146
+  374 op mul *tmp43 :drawMask:r 10
+  375 label *label147
+  376 label *label148
+  377 op mul *tmp37 7 :drawMask:r
+  378 op add *tmp38 *tmp37 0
+  379 op shl *tmp39 1 *tmp38
+  380 op and *tmp40 *tmp19 *tmp39
+  381 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  382 draw col *tmp41
+  383 draw rect 0 *tmp43 8 8
+  384 label *label149
+  385 label *label150
+  386 op mul *tmp37 7 :drawMask:r
+  387 op add *tmp38 *tmp37 1
+  388 op shl *tmp39 1 *tmp38
+  389 op and *tmp40 *tmp19 *tmp39
+  390 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  391 draw col *tmp41
+  392 draw rect 10 *tmp43 8 8
+  393 label *label151
+  394 label *label152
+  395 op mul *tmp37 7 :drawMask:r
+  396 op add *tmp38 *tmp37 2
+  397 op shl *tmp39 1 *tmp38
+  398 op and *tmp40 *tmp19 *tmp39
+  399 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  400 draw col *tmp41
+  401 draw rect 20 *tmp43 8 8
+  402 label *label153
+  403 label *label154
+  404 op mul *tmp37 7 :drawMask:r
+  405 op add *tmp38 *tmp37 3
+  406 op shl *tmp39 1 *tmp38
+  407 op and *tmp40 *tmp19 *tmp39
+  408 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  409 draw col *tmp41
+  410 draw rect 30 *tmp43 8 8
+  411 label *label155
+  412 label *label156
+  413 op mul *tmp37 7 :drawMask:r
+  414 op add *tmp38 *tmp37 4
+  415 op shl *tmp39 1 *tmp38
+  416 op and *tmp40 *tmp19 *tmp39
+  417 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  418 draw col *tmp41
+  419 draw rect 40 *tmp43 8 8
+  420 label *label157
+  421 label *label158
+  422 op mul *tmp37 7 :drawMask:r
+  423 op add *tmp38 *tmp37 5
+  424 op shl *tmp39 1 *tmp38
+  425 op and *tmp40 *tmp19 *tmp39
+  426 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  427 draw col *tmp41
+  428 draw rect 50 *tmp43 8 8
+  429 label *label159
+  430 label *label160
+  431 op mul *tmp37 7 :drawMask:r
+  432 op add *tmp38 *tmp37 6
+  433 op shl *tmp39 1 *tmp38
+  434 op and *tmp40 *tmp19 *tmp39
+  435 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  436 draw col *tmp41
+  437 draw rect 60 *tmp43 8 8
+  438 label *label161
+  439 label *label162
+  440 label *label163
+  441 op sub :drawMask:r :drawMask:r 1
+  442 label *label164
+  443 op mul *tmp43 :drawMask:r 10
+  444 label *label165
+  445 label *label166
+  446 op mul *tmp37 7 :drawMask:r
+  447 op add *tmp38 *tmp37 0
+  448 op shl *tmp39 1 *tmp38
+  449 op and *tmp40 *tmp19 *tmp39
+  450 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  451 draw col *tmp41
+  452 draw rect 0 *tmp43 8 8
+  453 label *label167
+  454 label *label168
+  455 op mul *tmp37 7 :drawMask:r
+  456 op add *tmp38 *tmp37 1
+  457 op shl *tmp39 1 *tmp38
+  458 op and *tmp40 *tmp19 *tmp39
+  459 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  460 draw col *tmp41
+  461 draw rect 10 *tmp43 8 8
+  462 label *label169
+  463 label *label170
+  464 op mul *tmp37 7 :drawMask:r
+  465 op add *tmp38 *tmp37 2
+  466 op shl *tmp39 1 *tmp38
+  467 op and *tmp40 *tmp19 *tmp39
+  468 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  469 draw col *tmp41
+  470 draw rect 20 *tmp43 8 8
+  471 label *label171
+  472 label *label172
+  473 op mul *tmp37 7 :drawMask:r
+  474 op add *tmp38 *tmp37 3
+  475 op shl *tmp39 1 *tmp38
+  476 op and *tmp40 *tmp19 *tmp39
+  477 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  478 draw col *tmp41
+  479 draw rect 30 *tmp43 8 8
+  480 label *label173
+  481 label *label174
+  482 op mul *tmp37 7 :drawMask:r
+  483 op add *tmp38 *tmp37 4
+  484 op shl *tmp39 1 *tmp38
+  485 op and *tmp40 *tmp19 *tmp39
+  486 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  487 draw col *tmp41
+  488 draw rect 40 *tmp43 8 8
+  489 label *label175
+  490 label *label176
+  491 op mul *tmp37 7 :drawMask:r
+  492 op add *tmp38 *tmp37 5
+  493 op shl *tmp39 1 *tmp38
+  494 op and *tmp40 *tmp19 *tmp39
+  495 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  496 draw col *tmp41
+  497 draw rect 50 *tmp43 8 8
+  498 label *label177
+  499 label *label178
+  500 op mul *tmp37 7 :drawMask:r
+  501 op add *tmp38 *tmp37 6
+  502 op shl *tmp39 1 *tmp38
+  503 op and *tmp40 *tmp19 *tmp39
+  504 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  505 draw col *tmp41
+  506 draw rect 60 *tmp43 8 8
+  507 label *label179
+  508 label *label180
+  509 label *label181
+  510 op sub :drawMask:r :drawMask:r 1
+  511 label *label182
+  512 op mul *tmp43 :drawMask:r 10
+  513 label *label183
+  514 label *label184
+  515 op mul *tmp37 7 :drawMask:r
+  516 op add *tmp38 *tmp37 0
+  517 op shl *tmp39 1 *tmp38
+  518 op and *tmp40 *tmp19 *tmp39
+  519 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  520 draw col *tmp41
+  521 draw rect 0 *tmp43 8 8
+  522 label *label185
+  523 label *label186
+  524 op mul *tmp37 7 :drawMask:r
+  525 op add *tmp38 *tmp37 1
+  526 op shl *tmp39 1 *tmp38
+  527 op and *tmp40 *tmp19 *tmp39
+  528 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  529 draw col *tmp41
+  530 draw rect 10 *tmp43 8 8
+  531 label *label187
+  532 label *label188
+  533 op mul *tmp37 7 :drawMask:r
+  534 op add *tmp38 *tmp37 2
+  535 op shl *tmp39 1 *tmp38
+  536 op and *tmp40 *tmp19 *tmp39
+  537 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  538 draw col *tmp41
+  539 draw rect 20 *tmp43 8 8
+  540 label *label189
+  541 label *label190
+  542 op mul *tmp37 7 :drawMask:r
+  543 op add *tmp38 *tmp37 3
+  544 op shl *tmp39 1 *tmp38
+  545 op and *tmp40 *tmp19 *tmp39
+  546 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  547 draw col *tmp41
+  548 draw rect 30 *tmp43 8 8
+  549 label *label191
+  550 label *label192
+  551 op mul *tmp37 7 :drawMask:r
+  552 op add *tmp38 *tmp37 4
+  553 op shl *tmp39 1 *tmp38
+  554 op and *tmp40 *tmp19 *tmp39
+  555 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  556 draw col *tmp41
+  557 draw rect 40 *tmp43 8 8
+  558 label *label193
+  559 label *label194
+  560 op mul *tmp37 7 :drawMask:r
+  561 op add *tmp38 *tmp37 5
+  562 op shl *tmp39 1 *tmp38
+  563 op and *tmp40 *tmp19 *tmp39
+  564 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  565 draw col *tmp41
+  566 draw rect 50 *tmp43 8 8
+  567 label *label195
+  568 label *label196
+  569 op mul *tmp37 7 :drawMask:r
+  570 op add *tmp38 *tmp37 6
+  571 op shl *tmp39 1 *tmp38
+  572 op and *tmp40 *tmp19 *tmp39
+  573 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  574 draw col *tmp41
+  575 draw rect 60 *tmp43 8 8
+  576 label *label197
+  577 label *label198
+  578 label *label199
+  579 op sub :drawMask:r :drawMask:r 1
+  580 label *label200
+  581 op mul *tmp43 :drawMask:r 10
+  582 label *label201
+  583 label *label202
+  584 op mul *tmp37 7 :drawMask:r
+  585 op add *tmp38 *tmp37 0
+  586 op shl *tmp39 1 *tmp38
+  587 op and *tmp40 *tmp19 *tmp39
+  588 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  589 draw col *tmp41
+  590 draw rect 0 *tmp43 8 8
+  591 label *label203
+  592 label *label204
+  593 op mul *tmp37 7 :drawMask:r
+  594 op add *tmp38 *tmp37 1
+  595 op shl *tmp39 1 *tmp38
+  596 op and *tmp40 *tmp19 *tmp39
+  597 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  598 draw col *tmp41
+  599 draw rect 10 *tmp43 8 8
+  600 label *label205
+  601 label *label206
+  602 op mul *tmp37 7 :drawMask:r
+  603 op add *tmp38 *tmp37 2
+  604 op shl *tmp39 1 *tmp38
+  605 op and *tmp40 *tmp19 *tmp39
+  606 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  607 draw col *tmp41
+  608 draw rect 20 *tmp43 8 8
+  609 label *label207
+  610 label *label208
+  611 op mul *tmp37 7 :drawMask:r
+  612 op add *tmp38 *tmp37 3
+  613 op shl *tmp39 1 *tmp38
+  614 op and *tmp40 *tmp19 *tmp39
+  615 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  616 draw col *tmp41
+  617 draw rect 30 *tmp43 8 8
+  618 label *label209
+  619 label *label210
+  620 op mul *tmp37 7 :drawMask:r
+  621 op add *tmp38 *tmp37 4
+  622 op shl *tmp39 1 *tmp38
+  623 op and *tmp40 *tmp19 *tmp39
+  624 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  625 draw col *tmp41
+  626 draw rect 40 *tmp43 8 8
+  627 label *label211
+  628 label *label212
+  629 op mul *tmp37 7 :drawMask:r
+  630 op add *tmp38 *tmp37 5
+  631 op shl *tmp39 1 *tmp38
+  632 op and *tmp40 *tmp19 *tmp39
+  633 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  634 draw col *tmp41
+  635 draw rect 50 *tmp43 8 8
+  636 label *label213
+  637 label *label214
+  638 op mul *tmp37 7 :drawMask:r
+  639 op add *tmp38 *tmp37 6
+  640 op shl *tmp39 1 *tmp38
+  641 op and *tmp40 *tmp19 *tmp39
+  642 select *tmp41 notEqual *tmp40 false %[red] %[green]
+  643 draw col *tmp41
+  644 draw rect 60 *tmp43 8 8
+  645 label *label215
+  646 label *label216
+  647 label *label217
+  648 op sub :drawMask:r :drawMask:r 1
+  649 label *label21
   650 drawflush display1
   651 label *label18
   652 print *tmp19

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   164 op sub :drawMask:r 7 1
   165 label *label91
   166 label *label92
-    * op mul *tmp43 :drawMask:r 10
+  167 op mul *tmp43 6 10
   168 label *label93
   169 label *label94
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 0
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  170 op mul *tmp37 7 6
+  171 op add *tmp38 42 0
+  172 op shl *tmp39 1 42
+  173 op and *tmp40 *tmp19 4398046511104
   174 select *tmp41 notEqual *tmp40 false %[red] %[green]
   175 draw col *tmp41
-    * draw rect 0 *tmp43 8 8
+  176 draw rect 0 60 8 8
   177 label *label95
   178 label *label96
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 1
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  179 op mul *tmp37 7 6
+  180 op add *tmp38 42 1
+  181 op shl *tmp39 1 43
+  182 op and *tmp40 *tmp19 8796093022208
   183 select *tmp41 notEqual *tmp40 false %[red] %[green]
   184 draw col *tmp41
-    * draw rect 10 *tmp43 8 8
+  185 draw rect 10 60 8 8
   186 label *label97
   187 label *label98
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 2
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  188 op mul *tmp37 7 6
+  189 op add *tmp38 42 2
+  190 op shl *tmp39 1 44
+  191 op and *tmp40 *tmp19 17592186044416
   192 select *tmp41 notEqual *tmp40 false %[red] %[green]
   193 draw col *tmp41
-    * draw rect 20 *tmp43 8 8
+  194 draw rect 20 60 8 8
   195 label *label99
   196 label *label100
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 3
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  197 op mul *tmp37 7 6
+  198 op add *tmp38 42 3
+  199 op shl *tmp39 1 45
+  200 op and *tmp40 *tmp19 35184372088832
   201 select *tmp41 notEqual *tmp40 false %[red] %[green]
   202 draw col *tmp41
-    * draw rect 30 *tmp43 8 8
+  203 draw rect 30 60 8 8
   204 label *label101
   205 label *label102
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 4
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  206 op mul *tmp37 7 6
+  207 op add *tmp38 42 4
+  208 op shl *tmp39 1 46
+  209 op and *tmp40 *tmp19 70368744177664
   210 select *tmp41 notEqual *tmp40 false %[red] %[green]
   211 draw col *tmp41
-    * draw rect 40 *tmp43 8 8
+  212 draw rect 40 60 8 8
   213 label *label103
   214 label *label104
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 5
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  215 op mul *tmp37 7 6
+  216 op add *tmp38 42 5
+  217 op shl *tmp39 1 47
+  218 op and *tmp40 *tmp19 140737488355328
   219 select *tmp41 notEqual *tmp40 false %[red] %[green]
   220 draw col *tmp41
-    * draw rect 50 *tmp43 8 8
+  221 draw rect 50 60 8 8
   222 label *label105
   223 label *label106
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 6
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  224 op mul *tmp37 7 6
+  225 op add *tmp38 42 6
+  226 op shl *tmp39 1 48
+  227 op and *tmp40 *tmp19 281474976710656
   228 select *tmp41 notEqual *tmp40 false %[red] %[green]
   229 draw col *tmp41
-    * draw rect 60 *tmp43 8 8
+  230 draw rect 60 60 8 8
   231 label *label107
   232 label *label108
   233 label *label109
-    * op sub :drawMask:r :drawMask:r 1
+  234 op sub :drawMask:r 6 1
   235 label *label110
-    * op mul *tmp43 :drawMask:r 10
+  236 op mul *tmp43 5 10
   237 label *label111
   238 label *label112
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 0
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  239 op mul *tmp37 7 5
+  240 op add *tmp38 35 0
+  241 op shl *tmp39 1 35
+  242 op and *tmp40 *tmp19 34359738368
   243 select *tmp41 notEqual *tmp40 false %[red] %[green]
   244 draw col *tmp41
-    * draw rect 0 *tmp43 8 8
+  245 draw rect 0 50 8 8
   246 label *label113
   247 label *label114
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 1
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  248 op mul *tmp37 7 5
+  249 op add *tmp38 35 1
+  250 op shl *tmp39 1 36
+  251 op and *tmp40 *tmp19 68719476736
   252 select *tmp41 notEqual *tmp40 false %[red] %[green]
   253 draw col *tmp41
-    * draw rect 10 *tmp43 8 8
+  254 draw rect 10 50 8 8
   255 label *label115
   256 label *label116
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 2
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  257 op mul *tmp37 7 5
+  258 op add *tmp38 35 2
+  259 op shl *tmp39 1 37
+  260 op and *tmp40 *tmp19 137438953472
   261 select *tmp41 notEqual *tmp40 false %[red] %[green]
   262 draw col *tmp41
-    * draw rect 20 *tmp43 8 8
+  263 draw rect 20 50 8 8
   264 label *label117
   265 label *label118
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 3
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  266 op mul *tmp37 7 5
+  267 op add *tmp38 35 3
+  268 op shl *tmp39 1 38
+  269 op and *tmp40 *tmp19 274877906944
   270 select *tmp41 notEqual *tmp40 false %[red] %[green]
   271 draw col *tmp41
-    * draw rect 30 *tmp43 8 8
+  272 draw rect 30 50 8 8
   273 label *label119
   274 label *label120
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 4
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  275 op mul *tmp37 7 5
+  276 op add *tmp38 35 4
+  277 op shl *tmp39 1 39
+  278 op and *tmp40 *tmp19 549755813888
   279 select *tmp41 notEqual *tmp40 false %[red] %[green]
   280 draw col *tmp41
-    * draw rect 40 *tmp43 8 8
+  281 draw rect 40 50 8 8
   282 label *label121
   283 label *label122
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 5
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  284 op mul *tmp37 7 5
+  285 op add *tmp38 35 5
+  286 op shl *tmp39 1 40
+  287 op and *tmp40 *tmp19 1099511627776
   288 select *tmp41 notEqual *tmp40 false %[red] %[green]
   289 draw col *tmp41
-    * draw rect 50 *tmp43 8 8
+  290 draw rect 50 50 8 8
   291 label *label123
   292 label *label124
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 6
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  293 op mul *tmp37 7 5
+  294 op add *tmp38 35 6
+  295 op shl *tmp39 1 41
+  296 op and *tmp40 *tmp19 2199023255552
   297 select *tmp41 notEqual *tmp40 false %[red] %[green]
   298 draw col *tmp41
-    * draw rect 60 *tmp43 8 8
+  299 draw rect 60 50 8 8
   300 label *label125
   301 label *label126
   302 label *label127
-    * op sub :drawMask:r :drawMask:r 1
+  303 op sub :drawMask:r 5 1
   304 label *label128
-    * op mul *tmp43 :drawMask:r 10
+  305 op mul *tmp43 4 10
   306 label *label129
   307 label *label130
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 0
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  308 op mul *tmp37 7 4
+  309 op add *tmp38 28 0
+  310 op shl *tmp39 1 28
+  311 op and *tmp40 *tmp19 268435456
   312 select *tmp41 notEqual *tmp40 false %[red] %[green]
   313 draw col *tmp41
-    * draw rect 0 *tmp43 8 8
+  314 draw rect 0 40 8 8
   315 label *label131
   316 label *label132
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 1
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  317 op mul *tmp37 7 4
+  318 op add *tmp38 28 1
+  319 op shl *tmp39 1 29
+  320 op and *tmp40 *tmp19 536870912
   321 select *tmp41 notEqual *tmp40 false %[red] %[green]
   322 draw col *tmp41
-    * draw rect 10 *tmp43 8 8
+  323 draw rect 10 40 8 8
   324 label *label133
   325 label *label134
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 2
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  326 op mul *tmp37 7 4
+  327 op add *tmp38 28 2
+  328 op shl *tmp39 1 30
+  329 op and *tmp40 *tmp19 1073741824
   330 select *tmp41 notEqual *tmp40 false %[red] %[green]
   331 draw col *tmp41
-    * draw rect 20 *tmp43 8 8
+  332 draw rect 20 40 8 8
   333 label *label135
   334 label *label136
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 3
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  335 op mul *tmp37 7 4
+  336 op add *tmp38 28 3
+  337 op shl *tmp39 1 31
+  338 op and *tmp40 *tmp19 2147483648
   339 select *tmp41 notEqual *tmp40 false %[red] %[green]
   340 draw col *tmp41
-    * draw rect 30 *tmp43 8 8
+  341 draw rect 30 40 8 8
   342 label *label137
   343 label *label138
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 4
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  344 op mul *tmp37 7 4
+  345 op add *tmp38 28 4
+  346 op shl *tmp39 1 32
+  347 op and *tmp40 *tmp19 4294967296
   348 select *tmp41 notEqual *tmp40 false %[red] %[green]
   349 draw col *tmp41
-    * draw rect 40 *tmp43 8 8
+  350 draw rect 40 40 8 8
   351 label *label139
   352 label *label140
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 5
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  353 op mul *tmp37 7 4
+  354 op add *tmp38 28 5
+  355 op shl *tmp39 1 33
+  356 op and *tmp40 *tmp19 8589934592
   357 select *tmp41 notEqual *tmp40 false %[red] %[green]
   358 draw col *tmp41
-    * draw rect 50 *tmp43 8 8
+  359 draw rect 50 40 8 8
   360 label *label141
   361 label *label142
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 6
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  362 op mul *tmp37 7 4
+  363 op add *tmp38 28 6
+  364 op shl *tmp39 1 34
+  365 op and *tmp40 *tmp19 17179869184
   366 select *tmp41 notEqual *tmp40 false %[red] %[green]
   367 draw col *tmp41
-    * draw rect 60 *tmp43 8 8
+  368 draw rect 60 40 8 8
   369 label *label143
   370 label *label144
   371 label *label145
-    * op sub :drawMask:r :drawMask:r 1
+  372 op sub :drawMask:r 4 1
   373 label *label146
-    * op mul *tmp43 :drawMask:r 10
+  374 op mul *tmp43 3 10
   375 label *label147
   376 label *label148
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 0
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  377 op mul *tmp37 7 3
+  378 op add *tmp38 21 0
+  379 op shl *tmp39 1 21
+  380 op and *tmp40 *tmp19 2097152
   381 select *tmp41 notEqual *tmp40 false %[red] %[green]
   382 draw col *tmp41
-    * draw rect 0 *tmp43 8 8
+  383 draw rect 0 30 8 8
   384 label *label149
   385 label *label150
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 1
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  386 op mul *tmp37 7 3
+  387 op add *tmp38 21 1
+  388 op shl *tmp39 1 22
+  389 op and *tmp40 *tmp19 4194304
   390 select *tmp41 notEqual *tmp40 false %[red] %[green]
   391 draw col *tmp41
-    * draw rect 10 *tmp43 8 8
+  392 draw rect 10 30 8 8
   393 label *label151
   394 label *label152
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 2
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  395 op mul *tmp37 7 3
+  396 op add *tmp38 21 2
+  397 op shl *tmp39 1 23
+  398 op and *tmp40 *tmp19 8388608
   399 select *tmp41 notEqual *tmp40 false %[red] %[green]
   400 draw col *tmp41
-    * draw rect 20 *tmp43 8 8
+  401 draw rect 20 30 8 8
   402 label *label153
   403 label *label154
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 3
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  404 op mul *tmp37 7 3
+  405 op add *tmp38 21 3
+  406 op shl *tmp39 1 24
+  407 op and *tmp40 *tmp19 16777216
   408 select *tmp41 notEqual *tmp40 false %[red] %[green]
   409 draw col *tmp41
-    * draw rect 30 *tmp43 8 8
+  410 draw rect 30 30 8 8
   411 label *label155
   412 label *label156
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 4
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  413 op mul *tmp37 7 3
+  414 op add *tmp38 21 4
+  415 op shl *tmp39 1 25
+  416 op and *tmp40 *tmp19 33554432
   417 select *tmp41 notEqual *tmp40 false %[red] %[green]
   418 draw col *tmp41
-    * draw rect 40 *tmp43 8 8
+  419 draw rect 40 30 8 8
   420 label *label157
   421 label *label158
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 5
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  422 op mul *tmp37 7 3
+  423 op add *tmp38 21 5
+  424 op shl *tmp39 1 26
+  425 op and *tmp40 *tmp19 67108864
   426 select *tmp41 notEqual *tmp40 false %[red] %[green]
   427 draw col *tmp41
-    * draw rect 50 *tmp43 8 8
+  428 draw rect 50 30 8 8
   429 label *label159
   430 label *label160
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 6
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  431 op mul *tmp37 7 3
+  432 op add *tmp38 21 6
+  433 op shl *tmp39 1 27
+  434 op and *tmp40 *tmp19 134217728
   435 select *tmp41 notEqual *tmp40 false %[red] %[green]
   436 draw col *tmp41
-    * draw rect 60 *tmp43 8 8
+  437 draw rect 60 30 8 8
   438 label *label161
   439 label *label162
   440 label *label163
-    * op sub :drawMask:r :drawMask:r 1
+  441 op sub :drawMask:r 3 1
   442 label *label164
-    * op mul *tmp43 :drawMask:r 10
+  443 op mul *tmp43 2 10
   444 label *label165
   445 label *label166
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 0
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  446 op mul *tmp37 7 2
+  447 op add *tmp38 14 0
+  448 op shl *tmp39 1 14
+  449 op and *tmp40 *tmp19 16384
   450 select *tmp41 notEqual *tmp40 false %[red] %[green]
   451 draw col *tmp41
-    * draw rect 0 *tmp43 8 8
+  452 draw rect 0 20 8 8
   453 label *label167
   454 label *label168
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 1
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  455 op mul *tmp37 7 2
+  456 op add *tmp38 14 1
+  457 op shl *tmp39 1 15
+  458 op and *tmp40 *tmp19 32768
   459 select *tmp41 notEqual *tmp40 false %[red] %[green]
   460 draw col *tmp41
-    * draw rect 10 *tmp43 8 8
+  461 draw rect 10 20 8 8
   462 label *label169
   463 label *label170
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 2
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  464 op mul *tmp37 7 2
+  465 op add *tmp38 14 2
+  466 op shl *tmp39 1 16
+  467 op and *tmp40 *tmp19 65536
   468 select *tmp41 notEqual *tmp40 false %[red] %[green]
   469 draw col *tmp41
-    * draw rect 20 *tmp43 8 8
+  470 draw rect 20 20 8 8
   471 label *label171
   472 label *label172
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 3
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  473 op mul *tmp37 7 2
+  474 op add *tmp38 14 3
+  475 op shl *tmp39 1 17
+  476 op and *tmp40 *tmp19 131072
   477 select *tmp41 notEqual *tmp40 false %[red] %[green]
   478 draw col *tmp41
-    * draw rect 30 *tmp43 8 8
+  479 draw rect 30 20 8 8
   480 label *label173
   481 label *label174
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 4
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  482 op mul *tmp37 7 2
+  483 op add *tmp38 14 4
+  484 op shl *tmp39 1 18
+  485 op and *tmp40 *tmp19 262144
   486 select *tmp41 notEqual *tmp40 false %[red] %[green]
   487 draw col *tmp41
-    * draw rect 40 *tmp43 8 8
+  488 draw rect 40 20 8 8
   489 label *label175
   490 label *label176
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 5
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  491 op mul *tmp37 7 2
+  492 op add *tmp38 14 5
+  493 op shl *tmp39 1 19
+  494 op and *tmp40 *tmp19 524288
   495 select *tmp41 notEqual *tmp40 false %[red] %[green]
   496 draw col *tmp41
-    * draw rect 50 *tmp43 8 8
+  497 draw rect 50 20 8 8
   498 label *label177
   499 label *label178
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 6
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  500 op mul *tmp37 7 2
+  501 op add *tmp38 14 6
+  502 op shl *tmp39 1 20
+  503 op and *tmp40 *tmp19 1048576
   504 select *tmp41 notEqual *tmp40 false %[red] %[green]
   505 draw col *tmp41
-    * draw rect 60 *tmp43 8 8
+  506 draw rect 60 20 8 8
   507 label *label179
   508 label *label180
   509 label *label181
-    * op sub :drawMask:r :drawMask:r 1
+  510 op sub :drawMask:r 2 1
   511 label *label182
-    * op mul *tmp43 :drawMask:r 10
+  512 op mul *tmp43 1 10
   513 label *label183
   514 label *label184
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 0
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  515 op mul *tmp37 7 1
+  516 op add *tmp38 7 0
+  517 op shl *tmp39 1 7
+  518 op and *tmp40 *tmp19 128
   519 select *tmp41 notEqual *tmp40 false %[red] %[green]
   520 draw col *tmp41
-    * draw rect 0 *tmp43 8 8
+  521 draw rect 0 10 8 8
   522 label *label185
   523 label *label186
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 1
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  524 op mul *tmp37 7 1
+  525 op add *tmp38 7 1
+  526 op shl *tmp39 1 8
+  527 op and *tmp40 *tmp19 256
   528 select *tmp41 notEqual *tmp40 false %[red] %[green]
   529 draw col *tmp41
-    * draw rect 10 *tmp43 8 8
+  530 draw rect 10 10 8 8
   531 label *label187
   532 label *label188
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 2
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  533 op mul *tmp37 7 1
+  534 op add *tmp38 7 2
+  535 op shl *tmp39 1 9
+  536 op and *tmp40 *tmp19 512
   537 select *tmp41 notEqual *tmp40 false %[red] %[green]
   538 draw col *tmp41
-    * draw rect 20 *tmp43 8 8
+  539 draw rect 20 10 8 8
   540 label *label189
   541 label *label190
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 3
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  542 op mul *tmp37 7 1
+  543 op add *tmp38 7 3
+  544 op shl *tmp39 1 10
+  545 op and *tmp40 *tmp19 1024
   546 select *tmp41 notEqual *tmp40 false %[red] %[green]
   547 draw col *tmp41
-    * draw rect 30 *tmp43 8 8
+  548 draw rect 30 10 8 8
   549 label *label191
   550 label *label192
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 4
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  551 op mul *tmp37 7 1
+  552 op add *tmp38 7 4
+  553 op shl *tmp39 1 11
+  554 op and *tmp40 *tmp19 2048
   555 select *tmp41 notEqual *tmp40 false %[red] %[green]
   556 draw col *tmp41
-    * draw rect 40 *tmp43 8 8
+  557 draw rect 40 10 8 8
   558 label *label193
   559 label *label194
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 5
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  560 op mul *tmp37 7 1
+  561 op add *tmp38 7 5
+  562 op shl *tmp39 1 12
+  563 op and *tmp40 *tmp19 4096
   564 select *tmp41 notEqual *tmp40 false %[red] %[green]
   565 draw col *tmp41
-    * draw rect 50 *tmp43 8 8
+  566 draw rect 50 10 8 8
   567 label *label195
   568 label *label196
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 6
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  569 op mul *tmp37 7 1
+  570 op add *tmp38 7 6
+  571 op shl *tmp39 1 13
+  572 op and *tmp40 *tmp19 8192
   573 select *tmp41 notEqual *tmp40 false %[red] %[green]
   574 draw col *tmp41
-    * draw rect 60 *tmp43 8 8
+  575 draw rect 60 10 8 8
   576 label *label197
   577 label *label198
   578 label *label199
-    * op sub :drawMask:r :drawMask:r 1
+  579 op sub :drawMask:r 1 1
   580 label *label200
-    * op mul *tmp43 :drawMask:r 10
+  581 op mul *tmp43 0 10
   582 label *label201
   583 label *label202
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 0
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  584 op mul *tmp37 7 0
+  585 op add *tmp38 0 0
+  586 op shl *tmp39 1 0
+  587 op and *tmp40 *tmp19 1
   588 select *tmp41 notEqual *tmp40 false %[red] %[green]
   589 draw col *tmp41
-    * draw rect 0 *tmp43 8 8
+  590 draw rect 0 0 8 8
   591 label *label203
   592 label *label204
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 1
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  593 op mul *tmp37 7 0
+  594 op add *tmp38 0 1
+  595 op shl *tmp39 1 1
+  596 op and *tmp40 *tmp19 2
   597 select *tmp41 notEqual *tmp40 false %[red] %[green]
   598 draw col *tmp41
-    * draw rect 10 *tmp43 8 8
+  599 draw rect 10 0 8 8
   600 label *label205
   601 label *label206
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 2
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  602 op mul *tmp37 7 0
+  603 op add *tmp38 0 2
+  604 op shl *tmp39 1 2
+  605 op and *tmp40 *tmp19 4
   606 select *tmp41 notEqual *tmp40 false %[red] %[green]
   607 draw col *tmp41
-    * draw rect 20 *tmp43 8 8
+  608 draw rect 20 0 8 8
   609 label *label207
   610 label *label208
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 3
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  611 op mul *tmp37 7 0
+  612 op add *tmp38 0 3
+  613 op shl *tmp39 1 3
+  614 op and *tmp40 *tmp19 8
   615 select *tmp41 notEqual *tmp40 false %[red] %[green]
   616 draw col *tmp41
-    * draw rect 30 *tmp43 8 8
+  617 draw rect 30 0 8 8
   618 label *label209
   619 label *label210
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 4
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  620 op mul *tmp37 7 0
+  621 op add *tmp38 0 4
+  622 op shl *tmp39 1 4
+  623 op and *tmp40 *tmp19 16
   624 select *tmp41 notEqual *tmp40 false %[red] %[green]
   625 draw col *tmp41
-    * draw rect 40 *tmp43 8 8
+  626 draw rect 40 0 8 8
   627 label *label211
   628 label *label212
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 5
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  629 op mul *tmp37 7 0
+  630 op add *tmp38 0 5
+  631 op shl *tmp39 1 5
+  632 op and *tmp40 *tmp19 32
   633 select *tmp41 notEqual *tmp40 false %[red] %[green]
   634 draw col *tmp41
-    * draw rect 50 *tmp43 8 8
+  635 draw rect 50 0 8 8
   636 label *label213
   637 label *label214
-    * op mul *tmp37 7 :drawMask:r
-    * op add *tmp38 *tmp37 6
-    * op shl *tmp39 1 *tmp38
-    * op and *tmp40 *tmp19 *tmp39
+  638 op mul *tmp37 7 0
+  639 op add *tmp38 0 6
+  640 op shl *tmp39 1 6
+  641 op and *tmp40 *tmp19 64
   642 select *tmp41 notEqual *tmp40 false %[red] %[green]
   643 draw col *tmp41
-    * draw rect 60 *tmp43 8 8
+  644 draw rect 60 0 8 8
   645 label *label215
   646 label *label216
   647 label *label217
-    * op sub :drawMask:r :drawMask:r 1
+  648 op sub :drawMask:r 0 1
   649 label *label21
   650 drawflush display1
   651 label *label18

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-162 instructions):
 
   161 draw reset
   162 draw translate 6 6
   163 draw clear 0 0 0
-    * op sub :drawMask:r 7 1
   164 label *label91
   165 label *label92
-    * op mul *tmp43 6 10
   166 label *label93
   167 label *label94
-    * op mul *tmp37 7 6
-    * op add *tmp38 42 0
-    * op shl *tmp39 1 42
   168 op and *tmp40 *tmp19 4398046511104
   169 select *tmp41 notEqual *tmp40 false %[red] %[green]
   170 draw col *tmp41
   171 draw rect 0 60 8 8
   172 label *label95
   173 label *label96
-    * op mul *tmp37 7 6
-    * op add *tmp38 42 1
-    * op shl *tmp39 1 43
   174 op and *tmp40 *tmp19 8796093022208
   175 select *tmp41 notEqual *tmp40 false %[red] %[green]
   176 draw col *tmp41
   177 draw rect 10 60 8 8
   178 label *label97
   179 label *label98
-    * op mul *tmp37 7 6
-    * op add *tmp38 42 2
-    * op shl *tmp39 1 44
   180 op and *tmp40 *tmp19 17592186044416
   181 select *tmp41 notEqual *tmp40 false %[red] %[green]
   182 draw col *tmp41
   183 draw rect 20 60 8 8
   184 label *label99
   185 label *label100
-    * op mul *tmp37 7 6
-    * op add *tmp38 42 3
-    * op shl *tmp39 1 45
   186 op and *tmp40 *tmp19 35184372088832
   187 select *tmp41 notEqual *tmp40 false %[red] %[green]
   188 draw col *tmp41
   189 draw rect 30 60 8 8
   190 label *label101
   191 label *label102
-    * op mul *tmp37 7 6
-    * op add *tmp38 42 4
-    * op shl *tmp39 1 46
   192 op and *tmp40 *tmp19 70368744177664
   193 select *tmp41 notEqual *tmp40 false %[red] %[green]
   194 draw col *tmp41
   195 draw rect 40 60 8 8
   196 label *label103
   197 label *label104
-    * op mul *tmp37 7 6
-    * op add *tmp38 42 5
-    * op shl *tmp39 1 47
   198 op and *tmp40 *tmp19 140737488355328
   199 select *tmp41 notEqual *tmp40 false %[red] %[green]
   200 draw col *tmp41
   201 draw rect 50 60 8 8
   202 label *label105
   203 label *label106
-    * op mul *tmp37 7 6
-    * op add *tmp38 42 6
-    * op shl *tmp39 1 48
   204 op and *tmp40 *tmp19 281474976710656
   205 select *tmp41 notEqual *tmp40 false %[red] %[green]
   206 draw col *tmp41
 
   208 label *label107
   209 label *label108
   210 label *label109
-    * op sub :drawMask:r 6 1
   211 label *label110
-    * op mul *tmp43 5 10
   212 label *label111
   213 label *label112
-    * op mul *tmp37 7 5
-    * op add *tmp38 35 0
-    * op shl *tmp39 1 35
   214 op and *tmp40 *tmp19 34359738368
   215 select *tmp41 notEqual *tmp40 false %[red] %[green]
   216 draw col *tmp41
   217 draw rect 0 50 8 8
   218 label *label113
   219 label *label114
-    * op mul *tmp37 7 5
-    * op add *tmp38 35 1
-    * op shl *tmp39 1 36
   220 op and *tmp40 *tmp19 68719476736
   221 select *tmp41 notEqual *tmp40 false %[red] %[green]
   222 draw col *tmp41
   223 draw rect 10 50 8 8
   224 label *label115
   225 label *label116
-    * op mul *tmp37 7 5
-    * op add *tmp38 35 2
-    * op shl *tmp39 1 37
   226 op and *tmp40 *tmp19 137438953472
   227 select *tmp41 notEqual *tmp40 false %[red] %[green]
   228 draw col *tmp41
   229 draw rect 20 50 8 8
   230 label *label117
   231 label *label118
-    * op mul *tmp37 7 5
-    * op add *tmp38 35 3
-    * op shl *tmp39 1 38
   232 op and *tmp40 *tmp19 274877906944
   233 select *tmp41 notEqual *tmp40 false %[red] %[green]
   234 draw col *tmp41
   235 draw rect 30 50 8 8
   236 label *label119
   237 label *label120
-    * op mul *tmp37 7 5
-    * op add *tmp38 35 4
-    * op shl *tmp39 1 39
   238 op and *tmp40 *tmp19 549755813888
   239 select *tmp41 notEqual *tmp40 false %[red] %[green]
   240 draw col *tmp41
   241 draw rect 40 50 8 8
   242 label *label121
   243 label *label122
-    * op mul *tmp37 7 5
-    * op add *tmp38 35 5
-    * op shl *tmp39 1 40
   244 op and *tmp40 *tmp19 1099511627776
   245 select *tmp41 notEqual *tmp40 false %[red] %[green]
   246 draw col *tmp41
   247 draw rect 50 50 8 8
   248 label *label123
   249 label *label124
-    * op mul *tmp37 7 5
-    * op add *tmp38 35 6
-    * op shl *tmp39 1 41
   250 op and *tmp40 *tmp19 2199023255552
   251 select *tmp41 notEqual *tmp40 false %[red] %[green]
   252 draw col *tmp41
 
   254 label *label125
   255 label *label126
   256 label *label127
-    * op sub :drawMask:r 5 1
   257 label *label128
-    * op mul *tmp43 4 10
   258 label *label129
   259 label *label130
-    * op mul *tmp37 7 4
-    * op add *tmp38 28 0
-    * op shl *tmp39 1 28
   260 op and *tmp40 *tmp19 268435456
   261 select *tmp41 notEqual *tmp40 false %[red] %[green]
   262 draw col *tmp41
   263 draw rect 0 40 8 8
   264 label *label131
   265 label *label132
-    * op mul *tmp37 7 4
-    * op add *tmp38 28 1
-    * op shl *tmp39 1 29
   266 op and *tmp40 *tmp19 536870912
   267 select *tmp41 notEqual *tmp40 false %[red] %[green]
   268 draw col *tmp41
   269 draw rect 10 40 8 8
   270 label *label133
   271 label *label134
-    * op mul *tmp37 7 4
-    * op add *tmp38 28 2
-    * op shl *tmp39 1 30
   272 op and *tmp40 *tmp19 1073741824
   273 select *tmp41 notEqual *tmp40 false %[red] %[green]
   274 draw col *tmp41
   275 draw rect 20 40 8 8
   276 label *label135
   277 label *label136
-    * op mul *tmp37 7 4
-    * op add *tmp38 28 3
-    * op shl *tmp39 1 31
   278 op and *tmp40 *tmp19 2147483648
   279 select *tmp41 notEqual *tmp40 false %[red] %[green]
   280 draw col *tmp41
   281 draw rect 30 40 8 8
   282 label *label137
   283 label *label138
-    * op mul *tmp37 7 4
-    * op add *tmp38 28 4
-    * op shl *tmp39 1 32
   284 op and *tmp40 *tmp19 4294967296
   285 select *tmp41 notEqual *tmp40 false %[red] %[green]
   286 draw col *tmp41
   287 draw rect 40 40 8 8
   288 label *label139
   289 label *label140
-    * op mul *tmp37 7 4
-    * op add *tmp38 28 5
-    * op shl *tmp39 1 33
   290 op and *tmp40 *tmp19 8589934592
   291 select *tmp41 notEqual *tmp40 false %[red] %[green]
   292 draw col *tmp41
   293 draw rect 50 40 8 8
   294 label *label141
   295 label *label142
-    * op mul *tmp37 7 4
-    * op add *tmp38 28 6
-    * op shl *tmp39 1 34
   296 op and *tmp40 *tmp19 17179869184
   297 select *tmp41 notEqual *tmp40 false %[red] %[green]
   298 draw col *tmp41
 
   300 label *label143
   301 label *label144
   302 label *label145
-    * op sub :drawMask:r 4 1
   303 label *label146
-    * op mul *tmp43 3 10
   304 label *label147
   305 label *label148
-    * op mul *tmp37 7 3
-    * op add *tmp38 21 0
-    * op shl *tmp39 1 21
   306 op and *tmp40 *tmp19 2097152
   307 select *tmp41 notEqual *tmp40 false %[red] %[green]
   308 draw col *tmp41
   309 draw rect 0 30 8 8
   310 label *label149
   311 label *label150
-    * op mul *tmp37 7 3
-    * op add *tmp38 21 1
-    * op shl *tmp39 1 22
   312 op and *tmp40 *tmp19 4194304
   313 select *tmp41 notEqual *tmp40 false %[red] %[green]
   314 draw col *tmp41
   315 draw rect 10 30 8 8
   316 label *label151
   317 label *label152
-    * op mul *tmp37 7 3
-    * op add *tmp38 21 2
-    * op shl *tmp39 1 23
   318 op and *tmp40 *tmp19 8388608
   319 select *tmp41 notEqual *tmp40 false %[red] %[green]
   320 draw col *tmp41
   321 draw rect 20 30 8 8
   322 label *label153
   323 label *label154
-    * op mul *tmp37 7 3
-    * op add *tmp38 21 3
-    * op shl *tmp39 1 24
   324 op and *tmp40 *tmp19 16777216
   325 select *tmp41 notEqual *tmp40 false %[red] %[green]
   326 draw col *tmp41
   327 draw rect 30 30 8 8
   328 label *label155
   329 label *label156
-    * op mul *tmp37 7 3
-    * op add *tmp38 21 4
-    * op shl *tmp39 1 25
   330 op and *tmp40 *tmp19 33554432
   331 select *tmp41 notEqual *tmp40 false %[red] %[green]
   332 draw col *tmp41
   333 draw rect 40 30 8 8
   334 label *label157
   335 label *label158
-    * op mul *tmp37 7 3
-    * op add *tmp38 21 5
-    * op shl *tmp39 1 26
   336 op and *tmp40 *tmp19 67108864
   337 select *tmp41 notEqual *tmp40 false %[red] %[green]
   338 draw col *tmp41
   339 draw rect 50 30 8 8
   340 label *label159
   341 label *label160
-    * op mul *tmp37 7 3
-    * op add *tmp38 21 6
-    * op shl *tmp39 1 27
   342 op and *tmp40 *tmp19 134217728
   343 select *tmp41 notEqual *tmp40 false %[red] %[green]
   344 draw col *tmp41
 
   346 label *label161
   347 label *label162
   348 label *label163
-    * op sub :drawMask:r 3 1
   349 label *label164
-    * op mul *tmp43 2 10
   350 label *label165
   351 label *label166
-    * op mul *tmp37 7 2
-    * op add *tmp38 14 0
-    * op shl *tmp39 1 14
   352 op and *tmp40 *tmp19 16384
   353 select *tmp41 notEqual *tmp40 false %[red] %[green]
   354 draw col *tmp41
   355 draw rect 0 20 8 8
   356 label *label167
   357 label *label168
-    * op mul *tmp37 7 2
-    * op add *tmp38 14 1
-    * op shl *tmp39 1 15
   358 op and *tmp40 *tmp19 32768
   359 select *tmp41 notEqual *tmp40 false %[red] %[green]
   360 draw col *tmp41
   361 draw rect 10 20 8 8
   362 label *label169
   363 label *label170
-    * op mul *tmp37 7 2
-    * op add *tmp38 14 2
-    * op shl *tmp39 1 16
   364 op and *tmp40 *tmp19 65536
   365 select *tmp41 notEqual *tmp40 false %[red] %[green]
   366 draw col *tmp41
   367 draw rect 20 20 8 8
   368 label *label171
   369 label *label172
-    * op mul *tmp37 7 2
-    * op add *tmp38 14 3
-    * op shl *tmp39 1 17
   370 op and *tmp40 *tmp19 131072
   371 select *tmp41 notEqual *tmp40 false %[red] %[green]
   372 draw col *tmp41
   373 draw rect 30 20 8 8
   374 label *label173
   375 label *label174
-    * op mul *tmp37 7 2
-    * op add *tmp38 14 4
-    * op shl *tmp39 1 18
   376 op and *tmp40 *tmp19 262144
   377 select *tmp41 notEqual *tmp40 false %[red] %[green]
   378 draw col *tmp41
   379 draw rect 40 20 8 8
   380 label *label175
   381 label *label176
-    * op mul *tmp37 7 2
-    * op add *tmp38 14 5
-    * op shl *tmp39 1 19
   382 op and *tmp40 *tmp19 524288
   383 select *tmp41 notEqual *tmp40 false %[red] %[green]
   384 draw col *tmp41
   385 draw rect 50 20 8 8
   386 label *label177
   387 label *label178
-    * op mul *tmp37 7 2
-    * op add *tmp38 14 6
-    * op shl *tmp39 1 20
   388 op and *tmp40 *tmp19 1048576
   389 select *tmp41 notEqual *tmp40 false %[red] %[green]
   390 draw col *tmp41
 
   392 label *label179
   393 label *label180
   394 label *label181
-    * op sub :drawMask:r 2 1
   395 label *label182
-    * op mul *tmp43 1 10
   396 label *label183
   397 label *label184
-    * op mul *tmp37 7 1
-    * op add *tmp38 7 0
-    * op shl *tmp39 1 7
   398 op and *tmp40 *tmp19 128
   399 select *tmp41 notEqual *tmp40 false %[red] %[green]
   400 draw col *tmp41
   401 draw rect 0 10 8 8
   402 label *label185
   403 label *label186
-    * op mul *tmp37 7 1
-    * op add *tmp38 7 1
-    * op shl *tmp39 1 8
   404 op and *tmp40 *tmp19 256
   405 select *tmp41 notEqual *tmp40 false %[red] %[green]
   406 draw col *tmp41
   407 draw rect 10 10 8 8
   408 label *label187
   409 label *label188
-    * op mul *tmp37 7 1
-    * op add *tmp38 7 2
-    * op shl *tmp39 1 9
   410 op and *tmp40 *tmp19 512
   411 select *tmp41 notEqual *tmp40 false %[red] %[green]
   412 draw col *tmp41
   413 draw rect 20 10 8 8
   414 label *label189
   415 label *label190
-    * op mul *tmp37 7 1
-    * op add *tmp38 7 3
-    * op shl *tmp39 1 10
   416 op and *tmp40 *tmp19 1024
   417 select *tmp41 notEqual *tmp40 false %[red] %[green]
   418 draw col *tmp41
   419 draw rect 30 10 8 8
   420 label *label191
   421 label *label192
-    * op mul *tmp37 7 1
-    * op add *tmp38 7 4
-    * op shl *tmp39 1 11
   422 op and *tmp40 *tmp19 2048
   423 select *tmp41 notEqual *tmp40 false %[red] %[green]
   424 draw col *tmp41
   425 draw rect 40 10 8 8
   426 label *label193
   427 label *label194
-    * op mul *tmp37 7 1
-    * op add *tmp38 7 5
-    * op shl *tmp39 1 12
   428 op and *tmp40 *tmp19 4096
   429 select *tmp41 notEqual *tmp40 false %[red] %[green]
   430 draw col *tmp41
   431 draw rect 50 10 8 8
   432 label *label195
   433 label *label196
-    * op mul *tmp37 7 1
-    * op add *tmp38 7 6
-    * op shl *tmp39 1 13
   434 op and *tmp40 *tmp19 8192
   435 select *tmp41 notEqual *tmp40 false %[red] %[green]
   436 draw col *tmp41
 
   438 label *label197
   439 label *label198
   440 label *label199
-    * op sub :drawMask:r 1 1
   441 label *label200
-    * op mul *tmp43 0 10
   442 label *label201
   443 label *label202
-    * op mul *tmp37 7 0
-    * op add *tmp38 0 0
-    * op shl *tmp39 1 0
   444 op and *tmp40 *tmp19 1
   445 select *tmp41 notEqual *tmp40 false %[red] %[green]
   446 draw col *tmp41
   447 draw rect 0 0 8 8
   448 label *label203
   449 label *label204
-    * op mul *tmp37 7 0
-    * op add *tmp38 0 1
-    * op shl *tmp39 1 1
   450 op and *tmp40 *tmp19 2
   451 select *tmp41 notEqual *tmp40 false %[red] %[green]
   452 draw col *tmp41
   453 draw rect 10 0 8 8
   454 label *label205
   455 label *label206
-    * op mul *tmp37 7 0
-    * op add *tmp38 0 2
-    * op shl *tmp39 1 2
   456 op and *tmp40 *tmp19 4
   457 select *tmp41 notEqual *tmp40 false %[red] %[green]
   458 draw col *tmp41
   459 draw rect 20 0 8 8
   460 label *label207
   461 label *label208
-    * op mul *tmp37 7 0
-    * op add *tmp38 0 3
-    * op shl *tmp39 1 3
   462 op and *tmp40 *tmp19 8
   463 select *tmp41 notEqual *tmp40 false %[red] %[green]
   464 draw col *tmp41
   465 draw rect 30 0 8 8
   466 label *label209
   467 label *label210
-    * op mul *tmp37 7 0
-    * op add *tmp38 0 4
-    * op shl *tmp39 1 4
   468 op and *tmp40 *tmp19 16
   469 select *tmp41 notEqual *tmp40 false %[red] %[green]
   470 draw col *tmp41
   471 draw rect 40 0 8 8
   472 label *label211
   473 label *label212
-    * op mul *tmp37 7 0
-    * op add *tmp38 0 5
-    * op shl *tmp39 1 5
   474 op and *tmp40 *tmp19 32
   475 select *tmp41 notEqual *tmp40 false %[red] %[green]
   476 draw col *tmp41
   477 draw rect 50 0 8 8
   478 label *label213
   479 label *label214
-    * op mul *tmp37 7 0
-    * op add *tmp38 0 6
-    * op shl *tmp39 1 6
   480 op and *tmp40 *tmp19 64
   481 select *tmp41 notEqual *tmp40 false %[red] %[green]
   482 draw col *tmp41
 
   484 label *label215
   485 label *label216
   486 label *label217
-    * op sub :drawMask:r 0 1
   487 label *label21
   488 drawflush display1
   489 label *label18

Modifications by Inline function 'createBlockMaskRow' defined at test.mnd:7:1 (+276 instructions):
 
    19 op add *tmp20 y 4
    20 set :createBlockMaskRow:x x
    21 set :createBlockMaskRow:y *tmp20
-    * setaddr :createBlockMaskRow*retaddr *label11 (h:*label11)
-    * call *label4 *invalid :createBlockMaskRow*retval (m:*label11) (h:*label11)
-    * label *label11
+   22 label *label218
+   23 label *label219
+   24 label *label220
+   25 op add *tmp49 :createBlockMaskRow:x 4
+   26 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   27 op or :createBlockMaskRow:result 0 *tmp50
+   28 label *label221
+   29 label *label222
+   30 op shl *tmp48 :createBlockMaskRow:result 1
+   31 op add *tmp49 :createBlockMaskRow:x 3
+   32 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   33 op or :createBlockMaskRow:result *tmp48 *tmp50
+   34 label *label223
+   35 label *label224
+   36 op shl *tmp48 :createBlockMaskRow:result 1
+   37 op add *tmp49 :createBlockMaskRow:x 2
+   38 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   39 op or :createBlockMaskRow:result *tmp48 *tmp50
+   40 label *label225
+   41 label *label226
+   42 op shl *tmp48 :createBlockMaskRow:result 1
+   43 op add *tmp49 :createBlockMaskRow:x 1
+   44 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   45 op or :createBlockMaskRow:result *tmp48 *tmp50
+   46 label *label227
+   47 label *label228
+   48 op shl *tmp48 :createBlockMaskRow:result 1
+   49 op add *tmp49 :createBlockMaskRow:x 0
+   50 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   51 op or :createBlockMaskRow:result *tmp48 *tmp50
+   52 label *label229
+   53 label *label230
+   54 op shl *tmp48 :createBlockMaskRow:result 1
+   55 op add *tmp49 :createBlockMaskRow:x -1
+   56 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   57 op or :createBlockMaskRow:result *tmp48 *tmp50
+   58 label *label231
+   59 label *label232
+   60 op shl *tmp48 :createBlockMaskRow:result 1
+   61 op add *tmp49 :createBlockMaskRow:x -2
+   62 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   63 op or :createBlockMaskRow:result *tmp48 *tmp50
+   64 label *label233
+   65 label *label234
+   66 op shl *tmp48 :createBlockMaskRow:result 1
+   67 op add *tmp49 :createBlockMaskRow:x -3
+   68 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   69 op or :createBlockMaskRow:result *tmp48 *tmp50
+   70 label *label235
+   71 label *label236
+   72 op shl *tmp48 :createBlockMaskRow:result 1
+   73 op add *tmp49 :createBlockMaskRow:x -4
+   74 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   75 op or :createBlockMaskRow:result *tmp48 *tmp50
+   76 label *label237
+   77 label *label238
+   78 set :createBlockMaskRow*retval :createBlockMaskRow:result
+   79 jump *label239 always
+   80 label *label239
    81 set :createAdjacentMask:row2 :createBlockMaskRow*retval
    82 op add *tmp22 y 3
    83 set :createBlockMaskRow:x x
    84 set :createBlockMaskRow:y *tmp22
-    * setaddr :createBlockMaskRow*retaddr *label12 (h:*label12)
-    * call *label4 *invalid :createBlockMaskRow*retval (m:*label12) (h:*label12)
-    * label *label12
+   85 label *label240
+   86 label *label241
+   87 label *label242
+   88 op add *tmp49 :createBlockMaskRow:x 4
+   89 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   90 op or :createBlockMaskRow:result 0 *tmp50
+   91 label *label243
+   92 label *label244
+   93 op shl *tmp48 :createBlockMaskRow:result 1
+   94 op add *tmp49 :createBlockMaskRow:x 3
+   95 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   96 op or :createBlockMaskRow:result *tmp48 *tmp50
+   97 label *label245
+   98 label *label246
+   99 op shl *tmp48 :createBlockMaskRow:result 1
+  100 op add *tmp49 :createBlockMaskRow:x 2
+  101 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  102 op or :createBlockMaskRow:result *tmp48 *tmp50
+  103 label *label247
+  104 label *label248
+  105 op shl *tmp48 :createBlockMaskRow:result 1
+  106 op add *tmp49 :createBlockMaskRow:x 1
+  107 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  108 op or :createBlockMaskRow:result *tmp48 *tmp50
+  109 label *label249
+  110 label *label250
+  111 op shl *tmp48 :createBlockMaskRow:result 1
+  112 op add *tmp49 :createBlockMaskRow:x 0
+  113 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  114 op or :createBlockMaskRow:result *tmp48 *tmp50
+  115 label *label251
+  116 label *label252
+  117 op shl *tmp48 :createBlockMaskRow:result 1
+  118 op add *tmp49 :createBlockMaskRow:x -1
+  119 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  120 op or :createBlockMaskRow:result *tmp48 *tmp50
+  121 label *label253
+  122 label *label254
+  123 op shl *tmp48 :createBlockMaskRow:result 1
+  124 op add *tmp49 :createBlockMaskRow:x -2
+  125 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  126 op or :createBlockMaskRow:result *tmp48 *tmp50
+  127 label *label255
+  128 label *label256
+  129 op shl *tmp48 :createBlockMaskRow:result 1
+  130 op add *tmp49 :createBlockMaskRow:x -3
+  131 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  132 op or :createBlockMaskRow:result *tmp48 *tmp50
+  133 label *label257
+  134 label *label258
+  135 op shl *tmp48 :createBlockMaskRow:result 1
+  136 op add *tmp49 :createBlockMaskRow:x -4
+  137 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  138 op or :createBlockMaskRow:result *tmp48 *tmp50
+  139 label *label259
+  140 label *label260
+  141 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  142 jump *label261 always
+  143 label *label261
   144 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   145 set :createBlockMaskRow:x x
   146 label *label69
   147 label *label70
   148 op add *tmp24 y 2
   149 set :createBlockMaskRow:y *tmp24
-    * setaddr :createBlockMaskRow*retaddr *label71
-    * call *label4 *invalid :createBlockMaskRow*retval (m:*label71) (h:*label71)
-    * label *label71
+  150 label *label262
+  151 label *label263
+  152 label *label264
+  153 op add *tmp49 :createBlockMaskRow:x 4
+  154 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  155 op or :createBlockMaskRow:result 0 *tmp50
+  156 label *label265
+  157 label *label266
+  158 op shl *tmp48 :createBlockMaskRow:result 1
+  159 op add *tmp49 :createBlockMaskRow:x 3
+  160 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  161 op or :createBlockMaskRow:result *tmp48 *tmp50
+  162 label *label267
+  163 label *label268
+  164 op shl *tmp48 :createBlockMaskRow:result 1
+  165 op add *tmp49 :createBlockMaskRow:x 2
+  166 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  167 op or :createBlockMaskRow:result *tmp48 *tmp50
+  168 label *label269
+  169 label *label270
+  170 op shl *tmp48 :createBlockMaskRow:result 1
+  171 op add *tmp49 :createBlockMaskRow:x 1
+  172 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  173 op or :createBlockMaskRow:result *tmp48 *tmp50
+  174 label *label271
+  175 label *label272
+  176 op shl *tmp48 :createBlockMaskRow:result 1
+  177 op add *tmp49 :createBlockMaskRow:x 0
+  178 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  179 op or :createBlockMaskRow:result *tmp48 *tmp50
+  180 label *label273
+  181 label *label274
+  182 op shl *tmp48 :createBlockMaskRow:result 1
+  183 op add *tmp49 :createBlockMaskRow:x -1
+  184 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  185 op or :createBlockMaskRow:result *tmp48 *tmp50
+  186 label *label275
+  187 label *label276
+  188 op shl *tmp48 :createBlockMaskRow:result 1
+  189 op add *tmp49 :createBlockMaskRow:x -2
+  190 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  191 op or :createBlockMaskRow:result *tmp48 *tmp50
+  192 label *label277
+  193 label *label278
+  194 op shl *tmp48 :createBlockMaskRow:result 1
+  195 op add *tmp49 :createBlockMaskRow:x -3
+  196 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  197 op or :createBlockMaskRow:result *tmp48 *tmp50
+  198 label *label279
+  199 label *label280
+  200 op shl *tmp48 :createBlockMaskRow:result 1
+  201 op add *tmp49 :createBlockMaskRow:x -4
+  202 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  203 op or :createBlockMaskRow:result *tmp48 *tmp50
+  204 label *label281
+  205 label *label282
+  206 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  207 jump *label283 always
+  208 label *label283
   209 op shl *tmp26 :createAdjacentMask:row1 1
   210 op or *tmp27 :createAdjacentMask:row2 *tmp26
   211 op shr *tmp28 :createAdjacentMask:row1 1
 
   219 label *label73
   220 op add *tmp24 y 1
   221 set :createBlockMaskRow:y *tmp24
-    * setaddr :createBlockMaskRow*retaddr *label74
-    * call *label4 *invalid :createBlockMaskRow*retval (m:*label74) (h:*label74)
-    * label *label74
+  222 label *label284
+  223 label *label285
+  224 label *label286
+  225 op add *tmp49 :createBlockMaskRow:x 4
+  226 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  227 op or :createBlockMaskRow:result 0 *tmp50
+  228 label *label287
+  229 label *label288
+  230 op shl *tmp48 :createBlockMaskRow:result 1
+  231 op add *tmp49 :createBlockMaskRow:x 3
+  232 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  233 op or :createBlockMaskRow:result *tmp48 *tmp50
+  234 label *label289
+  235 label *label290
+  236 op shl *tmp48 :createBlockMaskRow:result 1
+  237 op add *tmp49 :createBlockMaskRow:x 2
+  238 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  239 op or :createBlockMaskRow:result *tmp48 *tmp50
+  240 label *label291
+  241 label *label292
+  242 op shl *tmp48 :createBlockMaskRow:result 1
+  243 op add *tmp49 :createBlockMaskRow:x 1
+  244 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  245 op or :createBlockMaskRow:result *tmp48 *tmp50
+  246 label *label293
+  247 label *label294
+  248 op shl *tmp48 :createBlockMaskRow:result 1
+  249 op add *tmp49 :createBlockMaskRow:x 0
+  250 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  251 op or :createBlockMaskRow:result *tmp48 *tmp50
+  252 label *label295
+  253 label *label296
+  254 op shl *tmp48 :createBlockMaskRow:result 1
+  255 op add *tmp49 :createBlockMaskRow:x -1
+  256 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  257 op or :createBlockMaskRow:result *tmp48 *tmp50
+  258 label *label297
+  259 label *label298
+  260 op shl *tmp48 :createBlockMaskRow:result 1
+  261 op add *tmp49 :createBlockMaskRow:x -2
+  262 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  263 op or :createBlockMaskRow:result *tmp48 *tmp50
+  264 label *label299
+  265 label *label300
+  266 op shl *tmp48 :createBlockMaskRow:result 1
+  267 op add *tmp49 :createBlockMaskRow:x -3
+  268 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  269 op or :createBlockMaskRow:result *tmp48 *tmp50
+  270 label *label301
+  271 label *label302
+  272 op shl *tmp48 :createBlockMaskRow:result 1
+  273 op add *tmp49 :createBlockMaskRow:x -4
+  274 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  275 op or :createBlockMaskRow:result *tmp48 *tmp50
+  276 label *label303
+  277 label *label304
+  278 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  279 jump *label305 always
+  280 label *label305
   281 op shl *tmp26 :createAdjacentMask:row1 1
   282 op or *tmp27 :createAdjacentMask:row2 *tmp26
   283 op shr *tmp28 :createAdjacentMask:row1 1
 
   292 label *label76
   293 op add *tmp24 y 0
   294 set :createBlockMaskRow:y *tmp24
-    * setaddr :createBlockMaskRow*retaddr *label77
-    * call *label4 *invalid :createBlockMaskRow*retval (m:*label77) (h:*label77)
-    * label *label77
+  295 label *label306
+  296 label *label307
+  297 label *label308
+  298 op add *tmp49 :createBlockMaskRow:x 4
+  299 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  300 op or :createBlockMaskRow:result 0 *tmp50
+  301 label *label309
+  302 label *label310
+  303 op shl *tmp48 :createBlockMaskRow:result 1
+  304 op add *tmp49 :createBlockMaskRow:x 3
+  305 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  306 op or :createBlockMaskRow:result *tmp48 *tmp50
+  307 label *label311
+  308 label *label312
+  309 op shl *tmp48 :createBlockMaskRow:result 1
+  310 op add *tmp49 :createBlockMaskRow:x 2
+  311 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  312 op or :createBlockMaskRow:result *tmp48 *tmp50
+  313 label *label313
+  314 label *label314
+  315 op shl *tmp48 :createBlockMaskRow:result 1
+  316 op add *tmp49 :createBlockMaskRow:x 1
+  317 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  318 op or :createBlockMaskRow:result *tmp48 *tmp50
+  319 label *label315
+  320 label *label316
+  321 op shl *tmp48 :createBlockMaskRow:result 1
+  322 op add *tmp49 :createBlockMaskRow:x 0
+  323 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  324 op or :createBlockMaskRow:result *tmp48 *tmp50
+  325 label *label317
+  326 label *label318
+  327 op shl *tmp48 :createBlockMaskRow:result 1
+  328 op add *tmp49 :createBlockMaskRow:x -1
+  329 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  330 op or :createBlockMaskRow:result *tmp48 *tmp50
+  331 label *label319
+  332 label *label320
+  333 op shl *tmp48 :createBlockMaskRow:result 1
+  334 op add *tmp49 :createBlockMaskRow:x -2
+  335 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  336 op or :createBlockMaskRow:result *tmp48 *tmp50
+  337 label *label321
+  338 label *label322
+  339 op shl *tmp48 :createBlockMaskRow:result 1
+  340 op add *tmp49 :createBlockMaskRow:x -3
+  341 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  342 op or :createBlockMaskRow:result *tmp48 *tmp50
+  343 label *label323
+  344 label *label324
+  345 op shl *tmp48 :createBlockMaskRow:result 1
+  346 op add *tmp49 :createBlockMaskRow:x -4
+  347 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  348 op or :createBlockMaskRow:result *tmp48 *tmp50
+  349 label *label325
+  350 label *label326
+  351 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  352 jump *label327 always
+  353 label *label327
   354 op shl *tmp26 :createAdjacentMask:row1 1
   355 op or *tmp27 :createAdjacentMask:row2 *tmp26
   356 op shr *tmp28 :createAdjacentMask:row1 1
 
   365 label *label79
   366 op add *tmp24 y -1
   367 set :createBlockMaskRow:y *tmp24
-    * setaddr :createBlockMaskRow*retaddr *label80
-    * call *label4 *invalid :createBlockMaskRow*retval (m:*label80) (h:*label80)
-    * label *label80
+  368 label *label328
+  369 label *label329
+  370 label *label330
+  371 op add *tmp49 :createBlockMaskRow:x 4
+  372 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  373 op or :createBlockMaskRow:result 0 *tmp50
+  374 label *label331
+  375 label *label332
+  376 op shl *tmp48 :createBlockMaskRow:result 1
+  377 op add *tmp49 :createBlockMaskRow:x 3
+  378 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  379 op or :createBlockMaskRow:result *tmp48 *tmp50
+  380 label *label333
+  381 label *label334
+  382 op shl *tmp48 :createBlockMaskRow:result 1
+  383 op add *tmp49 :createBlockMaskRow:x 2
+  384 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  385 op or :createBlockMaskRow:result *tmp48 *tmp50
+  386 label *label335
+  387 label *label336
+  388 op shl *tmp48 :createBlockMaskRow:result 1
+  389 op add *tmp49 :createBlockMaskRow:x 1
+  390 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  391 op or :createBlockMaskRow:result *tmp48 *tmp50
+  392 label *label337
+  393 label *label338
+  394 op shl *tmp48 :createBlockMaskRow:result 1
+  395 op add *tmp49 :createBlockMaskRow:x 0
+  396 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  397 op or :createBlockMaskRow:result *tmp48 *tmp50
+  398 label *label339
+  399 label *label340
+  400 op shl *tmp48 :createBlockMaskRow:result 1
+  401 op add *tmp49 :createBlockMaskRow:x -1
+  402 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  403 op or :createBlockMaskRow:result *tmp48 *tmp50
+  404 label *label341
+  405 label *label342
+  406 op shl *tmp48 :createBlockMaskRow:result 1
+  407 op add *tmp49 :createBlockMaskRow:x -2
+  408 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  409 op or :createBlockMaskRow:result *tmp48 *tmp50
+  410 label *label343
+  411 label *label344
+  412 op shl *tmp48 :createBlockMaskRow:result 1
+  413 op add *tmp49 :createBlockMaskRow:x -3
+  414 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  415 op or :createBlockMaskRow:result *tmp48 *tmp50
+  416 label *label345
+  417 label *label346
+  418 op shl *tmp48 :createBlockMaskRow:result 1
+  419 op add *tmp49 :createBlockMaskRow:x -4
+  420 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  421 op or :createBlockMaskRow:result *tmp48 *tmp50
+  422 label *label347
+  423 label *label348
+  424 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  425 jump *label349 always
+  426 label *label349
   427 op shl *tmp26 :createAdjacentMask:row1 1
   428 op or *tmp27 :createAdjacentMask:row2 *tmp26
   429 op shr *tmp28 :createAdjacentMask:row1 1
 
   438 label *label82
   439 op add *tmp24 y -2
   440 set :createBlockMaskRow:y *tmp24
-    * setaddr :createBlockMaskRow*retaddr *label83
-    * call *label4 *invalid :createBlockMaskRow*retval (m:*label83) (h:*label83)
-    * label *label83
+  441 label *label350
+  442 label *label351
+  443 label *label352
+  444 op add *tmp49 :createBlockMaskRow:x 4
+  445 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  446 op or :createBlockMaskRow:result 0 *tmp50
+  447 label *label353
+  448 label *label354
+  449 op shl *tmp48 :createBlockMaskRow:result 1
+  450 op add *tmp49 :createBlockMaskRow:x 3
+  451 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  452 op or :createBlockMaskRow:result *tmp48 *tmp50
+  453 label *label355
+  454 label *label356
+  455 op shl *tmp48 :createBlockMaskRow:result 1
+  456 op add *tmp49 :createBlockMaskRow:x 2
+  457 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  458 op or :createBlockMaskRow:result *tmp48 *tmp50
+  459 label *label357
+  460 label *label358
+  461 op shl *tmp48 :createBlockMaskRow:result 1
+  462 op add *tmp49 :createBlockMaskRow:x 1
+  463 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  464 op or :createBlockMaskRow:result *tmp48 *tmp50
+  465 label *label359
+  466 label *label360
+  467 op shl *tmp48 :createBlockMaskRow:result 1
+  468 op add *tmp49 :createBlockMaskRow:x 0
+  469 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  470 op or :createBlockMaskRow:result *tmp48 *tmp50
+  471 label *label361
+  472 label *label362
+  473 op shl *tmp48 :createBlockMaskRow:result 1
+  474 op add *tmp49 :createBlockMaskRow:x -1
+  475 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  476 op or :createBlockMaskRow:result *tmp48 *tmp50
+  477 label *label363
+  478 label *label364
+  479 op shl *tmp48 :createBlockMaskRow:result 1
+  480 op add *tmp49 :createBlockMaskRow:x -2
+  481 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  482 op or :createBlockMaskRow:result *tmp48 *tmp50
+  483 label *label365
+  484 label *label366
+  485 op shl *tmp48 :createBlockMaskRow:result 1
+  486 op add *tmp49 :createBlockMaskRow:x -3
+  487 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  488 op or :createBlockMaskRow:result *tmp48 *tmp50
+  489 label *label367
+  490 label *label368
+  491 op shl *tmp48 :createBlockMaskRow:result 1
+  492 op add *tmp49 :createBlockMaskRow:x -4
+  493 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  494 op or :createBlockMaskRow:result *tmp48 *tmp50
+  495 label *label369
+  496 label *label370
+  497 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  498 jump *label371 always
+  499 label *label371
   500 op shl *tmp26 :createAdjacentMask:row1 1
   501 op or *tmp27 :createAdjacentMask:row2 *tmp26
   502 op shr *tmp28 :createAdjacentMask:row1 1
 
   511 label *label85
   512 op add *tmp24 y -3
   513 set :createBlockMaskRow:y *tmp24
-    * setaddr :createBlockMaskRow*retaddr *label86
-    * call *label4 *invalid :createBlockMaskRow*retval (m:*label86) (h:*label86)
-    * label *label86
+  514 label *label372
+  515 label *label373
+  516 label *label374
+  517 op add *tmp49 :createBlockMaskRow:x 4
+  518 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  519 op or :createBlockMaskRow:result 0 *tmp50
+  520 label *label375
+  521 label *label376
+  522 op shl *tmp48 :createBlockMaskRow:result 1
+  523 op add *tmp49 :createBlockMaskRow:x 3
+  524 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  525 op or :createBlockMaskRow:result *tmp48 *tmp50
+  526 label *label377
+  527 label *label378
+  528 op shl *tmp48 :createBlockMaskRow:result 1
+  529 op add *tmp49 :createBlockMaskRow:x 2
+  530 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  531 op or :createBlockMaskRow:result *tmp48 *tmp50
+  532 label *label379
+  533 label *label380
+  534 op shl *tmp48 :createBlockMaskRow:result 1
+  535 op add *tmp49 :createBlockMaskRow:x 1
+  536 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  537 op or :createBlockMaskRow:result *tmp48 *tmp50
+  538 label *label381
+  539 label *label382
+  540 op shl *tmp48 :createBlockMaskRow:result 1
+  541 op add *tmp49 :createBlockMaskRow:x 0
+  542 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  543 op or :createBlockMaskRow:result *tmp48 *tmp50
+  544 label *label383
+  545 label *label384
+  546 op shl *tmp48 :createBlockMaskRow:result 1
+  547 op add *tmp49 :createBlockMaskRow:x -1
+  548 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  549 op or :createBlockMaskRow:result *tmp48 *tmp50
+  550 label *label385
+  551 label *label386
+  552 op shl *tmp48 :createBlockMaskRow:result 1
+  553 op add *tmp49 :createBlockMaskRow:x -2
+  554 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  555 op or :createBlockMaskRow:result *tmp48 *tmp50
+  556 label *label387
+  557 label *label388
+  558 op shl *tmp48 :createBlockMaskRow:result 1
+  559 op add *tmp49 :createBlockMaskRow:x -3
+  560 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  561 op or :createBlockMaskRow:result *tmp48 *tmp50
+  562 label *label389
+  563 label *label390
+  564 op shl *tmp48 :createBlockMaskRow:result 1
+  565 op add *tmp49 :createBlockMaskRow:x -4
+  566 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  567 op or :createBlockMaskRow:result *tmp48 *tmp50
+  568 label *label391
+  569 label *label392
+  570 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  571 jump *label393 always
+  572 label *label393
   573 op shl *tmp26 :createAdjacentMask:row1 1
   574 op or *tmp27 :createAdjacentMask:row2 *tmp26
   575 op shr *tmp28 :createAdjacentMask:row1 1
 
   584 label *label88
   585 op add *tmp24 y -4
   586 set :createBlockMaskRow:y *tmp24
-    * setaddr :createBlockMaskRow*retaddr *label89
-    * call *label4 *invalid :createBlockMaskRow*retval (m:*label89) (h:*label89)
-    * label *label89
+  587 label *label394
+  588 label *label395
+  589 label *label396
+  590 op add *tmp49 :createBlockMaskRow:x 4
+  591 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  592 op or :createBlockMaskRow:result 0 *tmp50
+  593 label *label397
+  594 label *label398
+  595 op shl *tmp48 :createBlockMaskRow:result 1
+  596 op add *tmp49 :createBlockMaskRow:x 3
+  597 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  598 op or :createBlockMaskRow:result *tmp48 *tmp50
+  599 label *label399
+  600 label *label400
+  601 op shl *tmp48 :createBlockMaskRow:result 1
+  602 op add *tmp49 :createBlockMaskRow:x 2
+  603 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  604 op or :createBlockMaskRow:result *tmp48 *tmp50
+  605 label *label401
+  606 label *label402
+  607 op shl *tmp48 :createBlockMaskRow:result 1
+  608 op add *tmp49 :createBlockMaskRow:x 1
+  609 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  610 op or :createBlockMaskRow:result *tmp48 *tmp50
+  611 label *label403
+  612 label *label404
+  613 op shl *tmp48 :createBlockMaskRow:result 1
+  614 op add *tmp49 :createBlockMaskRow:x 0
+  615 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  616 op or :createBlockMaskRow:result *tmp48 *tmp50
+  617 label *label405
+  618 label *label406
+  619 op shl *tmp48 :createBlockMaskRow:result 1
+  620 op add *tmp49 :createBlockMaskRow:x -1
+  621 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  622 op or :createBlockMaskRow:result *tmp48 *tmp50
+  623 label *label407
+  624 label *label408
+  625 op shl *tmp48 :createBlockMaskRow:result 1
+  626 op add *tmp49 :createBlockMaskRow:x -2
+  627 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  628 op or :createBlockMaskRow:result *tmp48 *tmp50
+  629 label *label409
+  630 label *label410
+  631 op shl *tmp48 :createBlockMaskRow:result 1
+  632 op add *tmp49 :createBlockMaskRow:x -3
+  633 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  634 op or :createBlockMaskRow:result *tmp48 *tmp50
+  635 label *label411
+  636 label *label412
+  637 op shl *tmp48 :createBlockMaskRow:result 1
+  638 op add *tmp49 :createBlockMaskRow:x -4
+  639 ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  640 op or :createBlockMaskRow:result *tmp48 *tmp50
+  641 label *label413
+  642 label *label414
+  643 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  644 jump *label415 always
+  645 label *label415
   646 op shl *tmp26 :createAdjacentMask:row1 1
   647 op or *tmp27 :createAdjacentMask:row2 *tmp26
   648 op shr *tmp28 :createAdjacentMask:row1 1
 
   999 print *tmp47
  1000 printflush message1
  1001 end
-    * label *label4
-    * label *label35
-    * label *label36
-    * op add *tmp49 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result 0 *tmp50
-    * label *label37
-    * label *label38
-    * op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label39
-    * label *label40
-    * op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label41
-    * label *label42
-    * op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label43
-    * label *label44
-    * op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label45
-    * label *label46
-    * op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label47
-    * label *label48
-    * op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label49
-    * label *label50
-    * op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label51
-    * label *label52
-    * op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label53
-    * label *label30
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
-    * jump *label27 always
-    * label *label27
-    * return :createBlockMaskRow*retaddr
-    * end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    22 label *label218
    23 label *label219
    24 label *label220
-    * op add *tmp49 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   25 op add *tmp49 x 4
+   26 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    27 op or :createBlockMaskRow:result 0 *tmp50
    28 label *label221
    29 label *label222
    30 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   31 op add *tmp49 x 3
+   32 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    33 op or :createBlockMaskRow:result *tmp48 *tmp50
    34 label *label223
    35 label *label224
    36 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   37 op add *tmp49 x 2
+   38 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    39 op or :createBlockMaskRow:result *tmp48 *tmp50
    40 label *label225
    41 label *label226
    42 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   43 op add *tmp49 x 1
+   44 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    45 op or :createBlockMaskRow:result *tmp48 *tmp50
    46 label *label227
    47 label *label228
    48 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   49 op add *tmp49 x 0
+   50 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    51 op or :createBlockMaskRow:result *tmp48 *tmp50
    52 label *label229
    53 label *label230
    54 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   55 op add *tmp49 x -1
+   56 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    57 op or :createBlockMaskRow:result *tmp48 *tmp50
    58 label *label231
    59 label *label232
    60 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   61 op add *tmp49 x -2
+   62 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    63 op or :createBlockMaskRow:result *tmp48 *tmp50
    64 label *label233
    65 label *label234
    66 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   67 op add *tmp49 x -3
+   68 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    69 op or :createBlockMaskRow:result *tmp48 *tmp50
    70 label *label235
    71 label *label236
    72 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   73 op add *tmp49 x -4
+   74 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    75 op or :createBlockMaskRow:result *tmp48 *tmp50
    76 label *label237
    77 label *label238
    78 set :createBlockMaskRow*retval :createBlockMaskRow:result
    79 jump *label239 always
    80 label *label239
-    * set :createAdjacentMask:row2 :createBlockMaskRow*retval
+   81 set :createAdjacentMask:row2 :createBlockMaskRow:result
    82 op add *tmp22 y 3
    83 set :createBlockMaskRow:x x
    84 set :createBlockMaskRow:y *tmp22
    85 label *label240
    86 label *label241
    87 label *label242
-    * op add *tmp49 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   88 op add *tmp49 x 4
+   89 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
    90 op or :createBlockMaskRow:result 0 *tmp50
    91 label *label243
    92 label *label244
    93 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+   94 op add *tmp49 x 3
+   95 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
    96 op or :createBlockMaskRow:result *tmp48 *tmp50
    97 label *label245
    98 label *label246
    99 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  100 op add *tmp49 x 2
+  101 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
   102 op or :createBlockMaskRow:result *tmp48 *tmp50
   103 label *label247
   104 label *label248
   105 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  106 op add *tmp49 x 1
+  107 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
   108 op or :createBlockMaskRow:result *tmp48 *tmp50
   109 label *label249
   110 label *label250
   111 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  112 op add *tmp49 x 0
+  113 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
   114 op or :createBlockMaskRow:result *tmp48 *tmp50
   115 label *label251
   116 label *label252
   117 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  118 op add *tmp49 x -1
+  119 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
   120 op or :createBlockMaskRow:result *tmp48 *tmp50
   121 label *label253
   122 label *label254
   123 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  124 op add *tmp49 x -2
+  125 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
   126 op or :createBlockMaskRow:result *tmp48 *tmp50
   127 label *label255
   128 label *label256
   129 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  130 op add *tmp49 x -3
+  131 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
   132 op or :createBlockMaskRow:result *tmp48 *tmp50
   133 label *label257
   134 label *label258
   135 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  136 op add *tmp49 x -4
+  137 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
   138 op or :createBlockMaskRow:result *tmp48 *tmp50
   139 label *label259
   140 label *label260
   141 set :createBlockMaskRow*retval :createBlockMaskRow:result
   142 jump *label261 always
   143 label *label261
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  144 set :createAdjacentMask:row1 :createBlockMaskRow:result
   145 set :createBlockMaskRow:x x
   146 label *label69
   147 label *label70
 
   150 label *label262
   151 label *label263
   152 label *label264
-    * op add *tmp49 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  153 op add *tmp49 x 4
+  154 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   155 op or :createBlockMaskRow:result 0 *tmp50
   156 label *label265
   157 label *label266
   158 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  159 op add *tmp49 x 3
+  160 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   161 op or :createBlockMaskRow:result *tmp48 *tmp50
   162 label *label267
   163 label *label268
   164 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  165 op add *tmp49 x 2
+  166 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   167 op or :createBlockMaskRow:result *tmp48 *tmp50
   168 label *label269
   169 label *label270
   170 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  171 op add *tmp49 x 1
+  172 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   173 op or :createBlockMaskRow:result *tmp48 *tmp50
   174 label *label271
   175 label *label272
   176 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  177 op add *tmp49 x 0
+  178 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   179 op or :createBlockMaskRow:result *tmp48 *tmp50
   180 label *label273
   181 label *label274
   182 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  183 op add *tmp49 x -1
+  184 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   185 op or :createBlockMaskRow:result *tmp48 *tmp50
   186 label *label275
   187 label *label276
   188 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  189 op add *tmp49 x -2
+  190 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   191 op or :createBlockMaskRow:result *tmp48 *tmp50
   192 label *label277
   193 label *label278
   194 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  195 op add *tmp49 x -3
+  196 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   197 op or :createBlockMaskRow:result *tmp48 *tmp50
   198 label *label279
   199 label *label280
   200 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  201 op add *tmp49 x -4
+  202 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   203 op or :createBlockMaskRow:result *tmp48 *tmp50
   204 label *label281
   205 label *label282
 
   210 op or *tmp27 :createAdjacentMask:row2 *tmp26
   211 op shr *tmp28 :createAdjacentMask:row1 1
   212 op or *tmp29 *tmp27 *tmp28
-    * op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+  213 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:result
   214 op and *tmp32 :createAdjacentMask:mask 0xFE
   215 op or :createAdjacentMask:result 0 *tmp32
   216 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  217 set :createAdjacentMask:row1 :createBlockMaskRow:result
   218 label *label72
   219 label *label73
   220 op add *tmp24 y 1
 
   222 label *label284
   223 label *label285
   224 label *label286
-    * op add *tmp49 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  225 op add *tmp49 x 4
+  226 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   227 op or :createBlockMaskRow:result 0 *tmp50
   228 label *label287
   229 label *label288
   230 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  231 op add *tmp49 x 3
+  232 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   233 op or :createBlockMaskRow:result *tmp48 *tmp50
   234 label *label289
   235 label *label290
   236 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  237 op add *tmp49 x 2
+  238 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   239 op or :createBlockMaskRow:result *tmp48 *tmp50
   240 label *label291
   241 label *label292
   242 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  243 op add *tmp49 x 1
+  244 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   245 op or :createBlockMaskRow:result *tmp48 *tmp50
   246 label *label293
   247 label *label294
   248 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  249 op add *tmp49 x 0
+  250 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   251 op or :createBlockMaskRow:result *tmp48 *tmp50
   252 label *label295
   253 label *label296
   254 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  255 op add *tmp49 x -1
+  256 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   257 op or :createBlockMaskRow:result *tmp48 *tmp50
   258 label *label297
   259 label *label298
   260 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  261 op add *tmp49 x -2
+  262 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   263 op or :createBlockMaskRow:result *tmp48 *tmp50
   264 label *label299
   265 label *label300
   266 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  267 op add *tmp49 x -3
+  268 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   269 op or :createBlockMaskRow:result *tmp48 *tmp50
   270 label *label301
   271 label *label302
   272 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  273 op add *tmp49 x -4
+  274 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   275 op or :createBlockMaskRow:result *tmp48 *tmp50
   276 label *label303
   277 label *label304
 
   282 op or *tmp27 :createAdjacentMask:row2 *tmp26
   283 op shr *tmp28 :createAdjacentMask:row1 1
   284 op or *tmp29 *tmp27 *tmp28
-    * op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+  285 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:result
   286 op shl *tmp31 :createAdjacentMask:result 7
   287 op and *tmp32 :createAdjacentMask:mask 0xFE
   288 op or :createAdjacentMask:result *tmp31 *tmp32
   289 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  290 set :createAdjacentMask:row1 :createBlockMaskRow:result
   291 label *label75
   292 label *label76
   293 op add *tmp24 y 0
 
   295 label *label306
   296 label *label307
   297 label *label308
-    * op add *tmp49 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  298 op add *tmp49 x 4
+  299 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   300 op or :createBlockMaskRow:result 0 *tmp50
   301 label *label309
   302 label *label310
   303 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  304 op add *tmp49 x 3
+  305 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   306 op or :createBlockMaskRow:result *tmp48 *tmp50
   307 label *label311
   308 label *label312
   309 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  310 op add *tmp49 x 2
+  311 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   312 op or :createBlockMaskRow:result *tmp48 *tmp50
   313 label *label313
   314 label *label314
   315 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  316 op add *tmp49 x 1
+  317 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   318 op or :createBlockMaskRow:result *tmp48 *tmp50
   319 label *label315
   320 label *label316
   321 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  322 op add *tmp49 x 0
+  323 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   324 op or :createBlockMaskRow:result *tmp48 *tmp50
   325 label *label317
   326 label *label318
   327 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  328 op add *tmp49 x -1
+  329 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   330 op or :createBlockMaskRow:result *tmp48 *tmp50
   331 label *label319
   332 label *label320
   333 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  334 op add *tmp49 x -2
+  335 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   336 op or :createBlockMaskRow:result *tmp48 *tmp50
   337 label *label321
   338 label *label322
   339 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  340 op add *tmp49 x -3
+  341 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   342 op or :createBlockMaskRow:result *tmp48 *tmp50
   343 label *label323
   344 label *label324
   345 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  346 op add *tmp49 x -4
+  347 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   348 op or :createBlockMaskRow:result *tmp48 *tmp50
   349 label *label325
   350 label *label326
 
   355 op or *tmp27 :createAdjacentMask:row2 *tmp26
   356 op shr *tmp28 :createAdjacentMask:row1 1
   357 op or *tmp29 *tmp27 *tmp28
-    * op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+  358 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:result
   359 op shl *tmp31 :createAdjacentMask:result 7
   360 op and *tmp32 :createAdjacentMask:mask 0xFE
   361 op or :createAdjacentMask:result *tmp31 *tmp32
   362 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  363 set :createAdjacentMask:row1 :createBlockMaskRow:result
   364 label *label78
   365 label *label79
   366 op add *tmp24 y -1
 
   368 label *label328
   369 label *label329
   370 label *label330
-    * op add *tmp49 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  371 op add *tmp49 x 4
+  372 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   373 op or :createBlockMaskRow:result 0 *tmp50
   374 label *label331
   375 label *label332
   376 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  377 op add *tmp49 x 3
+  378 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   379 op or :createBlockMaskRow:result *tmp48 *tmp50
   380 label *label333
   381 label *label334
   382 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  383 op add *tmp49 x 2
+  384 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   385 op or :createBlockMaskRow:result *tmp48 *tmp50
   386 label *label335
   387 label *label336
   388 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  389 op add *tmp49 x 1
+  390 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   391 op or :createBlockMaskRow:result *tmp48 *tmp50
   392 label *label337
   393 label *label338
   394 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  395 op add *tmp49 x 0
+  396 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   397 op or :createBlockMaskRow:result *tmp48 *tmp50
   398 label *label339
   399 label *label340
   400 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  401 op add *tmp49 x -1
+  402 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   403 op or :createBlockMaskRow:result *tmp48 *tmp50
   404 label *label341
   405 label *label342
   406 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  407 op add *tmp49 x -2
+  408 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   409 op or :createBlockMaskRow:result *tmp48 *tmp50
   410 label *label343
   411 label *label344
   412 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  413 op add *tmp49 x -3
+  414 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   415 op or :createBlockMaskRow:result *tmp48 *tmp50
   416 label *label345
   417 label *label346
   418 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  419 op add *tmp49 x -4
+  420 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   421 op or :createBlockMaskRow:result *tmp48 *tmp50
   422 label *label347
   423 label *label348
 
   428 op or *tmp27 :createAdjacentMask:row2 *tmp26
   429 op shr *tmp28 :createAdjacentMask:row1 1
   430 op or *tmp29 *tmp27 *tmp28
-    * op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+  431 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:result
   432 op shl *tmp31 :createAdjacentMask:result 7
   433 op and *tmp32 :createAdjacentMask:mask 0xFE
   434 op or :createAdjacentMask:result *tmp31 *tmp32
   435 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  436 set :createAdjacentMask:row1 :createBlockMaskRow:result
   437 label *label81
   438 label *label82
   439 op add *tmp24 y -2
 
   441 label *label350
   442 label *label351
   443 label *label352
-    * op add *tmp49 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  444 op add *tmp49 x 4
+  445 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   446 op or :createBlockMaskRow:result 0 *tmp50
   447 label *label353
   448 label *label354
   449 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  450 op add *tmp49 x 3
+  451 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   452 op or :createBlockMaskRow:result *tmp48 *tmp50
   453 label *label355
   454 label *label356
   455 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  456 op add *tmp49 x 2
+  457 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   458 op or :createBlockMaskRow:result *tmp48 *tmp50
   459 label *label357
   460 label *label358
   461 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  462 op add *tmp49 x 1
+  463 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   464 op or :createBlockMaskRow:result *tmp48 *tmp50
   465 label *label359
   466 label *label360
   467 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  468 op add *tmp49 x 0
+  469 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   470 op or :createBlockMaskRow:result *tmp48 *tmp50
   471 label *label361
   472 label *label362
   473 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  474 op add *tmp49 x -1
+  475 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   476 op or :createBlockMaskRow:result *tmp48 *tmp50
   477 label *label363
   478 label *label364
   479 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  480 op add *tmp49 x -2
+  481 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   482 op or :createBlockMaskRow:result *tmp48 *tmp50
   483 label *label365
   484 label *label366
   485 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  486 op add *tmp49 x -3
+  487 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   488 op or :createBlockMaskRow:result *tmp48 *tmp50
   489 label *label367
   490 label *label368
   491 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  492 op add *tmp49 x -4
+  493 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   494 op or :createBlockMaskRow:result *tmp48 *tmp50
   495 label *label369
   496 label *label370
 
   501 op or *tmp27 :createAdjacentMask:row2 *tmp26
   502 op shr *tmp28 :createAdjacentMask:row1 1
   503 op or *tmp29 *tmp27 *tmp28
-    * op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+  504 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:result
   505 op shl *tmp31 :createAdjacentMask:result 7
   506 op and *tmp32 :createAdjacentMask:mask 0xFE
   507 op or :createAdjacentMask:result *tmp31 *tmp32
   508 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  509 set :createAdjacentMask:row1 :createBlockMaskRow:result
   510 label *label84
   511 label *label85
   512 op add *tmp24 y -3
 
   514 label *label372
   515 label *label373
   516 label *label374
-    * op add *tmp49 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  517 op add *tmp49 x 4
+  518 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   519 op or :createBlockMaskRow:result 0 *tmp50
   520 label *label375
   521 label *label376
   522 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  523 op add *tmp49 x 3
+  524 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   525 op or :createBlockMaskRow:result *tmp48 *tmp50
   526 label *label377
   527 label *label378
   528 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  529 op add *tmp49 x 2
+  530 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   531 op or :createBlockMaskRow:result *tmp48 *tmp50
   532 label *label379
   533 label *label380
   534 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  535 op add *tmp49 x 1
+  536 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   537 op or :createBlockMaskRow:result *tmp48 *tmp50
   538 label *label381
   539 label *label382
   540 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  541 op add *tmp49 x 0
+  542 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   543 op or :createBlockMaskRow:result *tmp48 *tmp50
   544 label *label383
   545 label *label384
   546 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  547 op add *tmp49 x -1
+  548 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   549 op or :createBlockMaskRow:result *tmp48 *tmp50
   550 label *label385
   551 label *label386
   552 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  553 op add *tmp49 x -2
+  554 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   555 op or :createBlockMaskRow:result *tmp48 *tmp50
   556 label *label387
   557 label *label388
   558 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  559 op add *tmp49 x -3
+  560 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   561 op or :createBlockMaskRow:result *tmp48 *tmp50
   562 label *label389
   563 label *label390
   564 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  565 op add *tmp49 x -4
+  566 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   567 op or :createBlockMaskRow:result *tmp48 *tmp50
   568 label *label391
   569 label *label392
 
   574 op or *tmp27 :createAdjacentMask:row2 *tmp26
   575 op shr *tmp28 :createAdjacentMask:row1 1
   576 op or *tmp29 *tmp27 *tmp28
-    * op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+  577 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:result
   578 op shl *tmp31 :createAdjacentMask:result 7
   579 op and *tmp32 :createAdjacentMask:mask 0xFE
   580 op or :createAdjacentMask:result *tmp31 *tmp32
   581 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  582 set :createAdjacentMask:row1 :createBlockMaskRow:result
   583 label *label87
   584 label *label88
   585 op add *tmp24 y -4
 
   587 label *label394
   588 label *label395
   589 label *label396
-    * op add *tmp49 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  590 op add *tmp49 x 4
+  591 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   592 op or :createBlockMaskRow:result 0 *tmp50
   593 label *label397
   594 label *label398
   595 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  596 op add *tmp49 x 3
+  597 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   598 op or :createBlockMaskRow:result *tmp48 *tmp50
   599 label *label399
   600 label *label400
   601 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  602 op add *tmp49 x 2
+  603 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   604 op or :createBlockMaskRow:result *tmp48 *tmp50
   605 label *label401
   606 label *label402
   607 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  608 op add *tmp49 x 1
+  609 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   610 op or :createBlockMaskRow:result *tmp48 *tmp50
   611 label *label403
   612 label *label404
   613 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  614 op add *tmp49 x 0
+  615 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   616 op or :createBlockMaskRow:result *tmp48 *tmp50
   617 label *label405
   618 label *label406
   619 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  620 op add *tmp49 x -1
+  621 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   622 op or :createBlockMaskRow:result *tmp48 *tmp50
   623 label *label407
   624 label *label408
   625 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  626 op add *tmp49 x -2
+  627 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   628 op or :createBlockMaskRow:result *tmp48 *tmp50
   629 label *label409
   630 label *label410
   631 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  632 op add *tmp49 x -3
+  633 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   634 op or :createBlockMaskRow:result *tmp48 *tmp50
   635 label *label411
   636 label *label412
   637 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp49 :createBlockMaskRow:y *tmp51 *tmp50 *tmp52
+  638 op add *tmp49 x -4
+  639 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   640 op or :createBlockMaskRow:result *tmp48 *tmp50
   641 label *label413
   642 label *label414
 
   647 op or *tmp27 :createAdjacentMask:row2 *tmp26
   648 op shr *tmp28 :createAdjacentMask:row1 1
   649 op or *tmp29 *tmp27 *tmp28
-    * op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow*retval
+  650 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:result
   651 op shl *tmp31 :createAdjacentMask:result 7
   652 op and *tmp32 :createAdjacentMask:mask 0xFE
   653 op or :createAdjacentMask:result *tmp31 *tmp32

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-21 instructions):
 
    17 write false processor1 ":createTerrainMask*finished"
    18 write 1 processor1 "@counter"
    19 op add *tmp20 y 4
-    * set :createBlockMaskRow:x x
-    * set :createBlockMaskRow:y *tmp20
    20 label *label218
    21 label *label219
    22 label *label220
 
    73 op or :createBlockMaskRow:result *tmp48 *tmp50
    74 label *label237
    75 label *label238
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
    76 jump *label239 always
    77 label *label239
    78 set :createAdjacentMask:row2 :createBlockMaskRow:result
    79 op add *tmp22 y 3
-    * set :createBlockMaskRow:x x
-    * set :createBlockMaskRow:y *tmp22
    80 label *label240
    81 label *label241
    82 label *label242
 
   133 op or :createBlockMaskRow:result *tmp48 *tmp50
   134 label *label259
   135 label *label260
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   136 jump *label261 always
   137 label *label261
   138 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * set :createBlockMaskRow:x x
   139 label *label69
   140 label *label70
   141 op add *tmp24 y 2
-    * set :createBlockMaskRow:y *tmp24
   142 label *label262
   143 label *label263
   144 label *label264
 
   195 op or :createBlockMaskRow:result *tmp48 *tmp50
   196 label *label281
   197 label *label282
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   198 jump *label283 always
   199 label *label283
   200 op shl *tmp26 :createAdjacentMask:row1 1
 
   209 label *label72
   210 label *label73
   211 op add *tmp24 y 1
-    * set :createBlockMaskRow:y *tmp24
   212 label *label284
   213 label *label285
   214 label *label286
 
   265 op or :createBlockMaskRow:result *tmp48 *tmp50
   266 label *label303
   267 label *label304
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   268 jump *label305 always
   269 label *label305
   270 op shl *tmp26 :createAdjacentMask:row1 1
 
   280 label *label75
   281 label *label76
   282 op add *tmp24 y 0
-    * set :createBlockMaskRow:y *tmp24
   283 label *label306
   284 label *label307
   285 label *label308
 
   336 op or :createBlockMaskRow:result *tmp48 *tmp50
   337 label *label325
   338 label *label326
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   339 jump *label327 always
   340 label *label327
   341 op shl *tmp26 :createAdjacentMask:row1 1
 
   351 label *label78
   352 label *label79
   353 op add *tmp24 y -1
-    * set :createBlockMaskRow:y *tmp24
   354 label *label328
   355 label *label329
   356 label *label330
 
   407 op or :createBlockMaskRow:result *tmp48 *tmp50
   408 label *label347
   409 label *label348
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   410 jump *label349 always
   411 label *label349
   412 op shl *tmp26 :createAdjacentMask:row1 1
 
   422 label *label81
   423 label *label82
   424 op add *tmp24 y -2
-    * set :createBlockMaskRow:y *tmp24
   425 label *label350
   426 label *label351
   427 label *label352
 
   478 op or :createBlockMaskRow:result *tmp48 *tmp50
   479 label *label369
   480 label *label370
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   481 jump *label371 always
   482 label *label371
   483 op shl *tmp26 :createAdjacentMask:row1 1
 
   493 label *label84
   494 label *label85
   495 op add *tmp24 y -3
-    * set :createBlockMaskRow:y *tmp24
   496 label *label372
   497 label *label373
   498 label *label374
 
   549 op or :createBlockMaskRow:result *tmp48 *tmp50
   550 label *label391
   551 label *label392
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   552 jump *label393 always
   553 label *label393
   554 op shl *tmp26 :createAdjacentMask:row1 1
 
   564 label *label87
   565 label *label88
   566 op add *tmp24 y -4
-    * set :createBlockMaskRow:y *tmp24
   567 label *label394
   568 label *label395
   569 label *label396
 
   620 op or :createBlockMaskRow:result *tmp48 *tmp50
   621 label *label413
   622 label *label414
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   623 jump *label415 always
   624 label *label415
   625 op shl *tmp26 :createAdjacentMask:row1 1

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-10 instructions):
 
    73 op or :createBlockMaskRow:result *tmp48 *tmp50
    74 label *label237
    75 label *label238
-    * jump *label239 always
    76 label *label239
    77 set :createAdjacentMask:row2 :createBlockMaskRow:result
    78 op add *tmp22 y 3
 
   132 op or :createBlockMaskRow:result *tmp48 *tmp50
   133 label *label259
   134 label *label260
-    * jump *label261 always
   135 label *label261
   136 set :createAdjacentMask:row1 :createBlockMaskRow:result
   137 label *label69
 
   193 op or :createBlockMaskRow:result *tmp48 *tmp50
   194 label *label281
   195 label *label282
-    * jump *label283 always
   196 label *label283
   197 op shl *tmp26 :createAdjacentMask:row1 1
   198 op or *tmp27 :createAdjacentMask:row2 *tmp26
 
   262 op or :createBlockMaskRow:result *tmp48 *tmp50
   263 label *label303
   264 label *label304
-    * jump *label305 always
   265 label *label305
   266 op shl *tmp26 :createAdjacentMask:row1 1
   267 op or *tmp27 :createAdjacentMask:row2 *tmp26
 
   332 op or :createBlockMaskRow:result *tmp48 *tmp50
   333 label *label325
   334 label *label326
-    * jump *label327 always
   335 label *label327
   336 op shl *tmp26 :createAdjacentMask:row1 1
   337 op or *tmp27 :createAdjacentMask:row2 *tmp26
 
   402 op or :createBlockMaskRow:result *tmp48 *tmp50
   403 label *label347
   404 label *label348
-    * jump *label349 always
   405 label *label349
   406 op shl *tmp26 :createAdjacentMask:row1 1
   407 op or *tmp27 :createAdjacentMask:row2 *tmp26
 
   472 op or :createBlockMaskRow:result *tmp48 *tmp50
   473 label *label369
   474 label *label370
-    * jump *label371 always
   475 label *label371
   476 op shl *tmp26 :createAdjacentMask:row1 1
   477 op or *tmp27 :createAdjacentMask:row2 *tmp26
 
   542 op or :createBlockMaskRow:result *tmp48 *tmp50
   543 label *label391
   544 label *label392
-    * jump *label393 always
   545 label *label393
   546 op shl *tmp26 :createAdjacentMask:row1 1
   547 op or *tmp27 :createAdjacentMask:row2 *tmp26
 
   612 op or :createBlockMaskRow:result *tmp48 *tmp50
   613 label *label413
   614 label *label414
-    * jump *label415 always
   615 label *label415
   616 op shl *tmp26 :createAdjacentMask:row1 1
   617 op or *tmp27 :createAdjacentMask:row2 *tmp26
 
   629 wait 1e-15
   630 read *tmp35 processor1 ":createTerrainMask*finished"
   631 jump *label17 equal *tmp35 false
-    * jump *label9 always
   632 label *label9
   633 set :finish @tick
   634 draw reset

Modifications by Iterated phase, Expression Optimization, pass 2, iteration 1:
 
    22 label *label220
    23 op add *tmp49 x 4
    24 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result 0 *tmp50
+   25 set :createBlockMaskRow:result *tmp50
    26 label *label221
    27 label *label222
    28 op shl *tmp48 :createBlockMaskRow:result 1
 
    44 label *label227
    45 label *label228
    46 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 x 0
+   47 set *tmp49 x
    48 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    49 op or :createBlockMaskRow:result *tmp48 *tmp50
    50 label *label229
 
    81 label *label242
    82 op add *tmp49 x 4
    83 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result 0 *tmp50
+   84 set :createBlockMaskRow:result *tmp50
    85 label *label243
    86 label *label244
    87 op shl *tmp48 :createBlockMaskRow:result 1
 
   103 label *label249
   104 label *label250
   105 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 x 0
+  106 set *tmp49 x
   107 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
   108 op or :createBlockMaskRow:result *tmp48 *tmp50
   109 label *label251
 
   142 label *label264
   143 op add *tmp49 x 4
   144 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result 0 *tmp50
+  145 set :createBlockMaskRow:result *tmp50
   146 label *label265
   147 label *label266
   148 op shl *tmp48 :createBlockMaskRow:result 1
 
   164 label *label271
   165 label *label272
   166 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 x 0
+  167 set *tmp49 x
   168 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   169 op or :createBlockMaskRow:result *tmp48 *tmp50
   170 label *label273
 
   200 op or *tmp29 *tmp27 *tmp28
   201 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:result
   202 op and *tmp32 :createAdjacentMask:mask 0xFE
-    * op or :createAdjacentMask:result 0 *tmp32
+  203 set :createAdjacentMask:result *tmp32
   204 set :createAdjacentMask:row2 :createAdjacentMask:row1
   205 set :createAdjacentMask:row1 :createBlockMaskRow:result
   206 label *label72
 
   211 label *label286
   212 op add *tmp49 x 4
   213 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result 0 *tmp50
+  214 set :createBlockMaskRow:result *tmp50
   215 label *label287
   216 label *label288
   217 op shl *tmp48 :createBlockMaskRow:result 1
 
   233 label *label293
   234 label *label294
   235 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 x 0
+  236 set *tmp49 x
   237 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   238 op or :createBlockMaskRow:result *tmp48 *tmp50
   239 label *label295
 
   275 set :createAdjacentMask:row1 :createBlockMaskRow:result
   276 label *label75
   277 label *label76
-    * op add *tmp24 y 0
+  278 set *tmp24 y
   279 label *label306
   280 label *label307
   281 label *label308
   282 op add *tmp49 x 4
   283 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result 0 *tmp50
+  284 set :createBlockMaskRow:result *tmp50
   285 label *label309
   286 label *label310
   287 op shl *tmp48 :createBlockMaskRow:result 1
 
   303 label *label315
   304 label *label316
   305 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 x 0
+  306 set *tmp49 x
   307 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   308 op or :createBlockMaskRow:result *tmp48 *tmp50
   309 label *label317
 
   351 label *label330
   352 op add *tmp49 x 4
   353 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result 0 *tmp50
+  354 set :createBlockMaskRow:result *tmp50
   355 label *label331
   356 label *label332
   357 op shl *tmp48 :createBlockMaskRow:result 1
 
   373 label *label337
   374 label *label338
   375 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 x 0
+  376 set *tmp49 x
   377 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   378 op or :createBlockMaskRow:result *tmp48 *tmp50
   379 label *label339
 
   421 label *label352
   422 op add *tmp49 x 4
   423 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result 0 *tmp50
+  424 set :createBlockMaskRow:result *tmp50
   425 label *label353
   426 label *label354
   427 op shl *tmp48 :createBlockMaskRow:result 1
 
   443 label *label359
   444 label *label360
   445 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 x 0
+  446 set *tmp49 x
   447 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   448 op or :createBlockMaskRow:result *tmp48 *tmp50
   449 label *label361
 
   491 label *label374
   492 op add *tmp49 x 4
   493 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result 0 *tmp50
+  494 set :createBlockMaskRow:result *tmp50
   495 label *label375
   496 label *label376
   497 op shl *tmp48 :createBlockMaskRow:result 1
 
   513 label *label381
   514 label *label382
   515 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 x 0
+  516 set *tmp49 x
   517 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   518 op or :createBlockMaskRow:result *tmp48 *tmp50
   519 label *label383
 
   561 label *label396
   562 op add *tmp49 x 4
   563 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result 0 *tmp50
+  564 set :createBlockMaskRow:result *tmp50
   565 label *label397
   566 label *label398
   567 op shl *tmp48 :createBlockMaskRow:result 1
 
   583 label *label403
   584 label *label404
   585 op shl *tmp48 :createBlockMaskRow:result 1
-    * op add *tmp49 x 0
+  586 set *tmp49 x
   587 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   588 op or :createBlockMaskRow:result *tmp48 *tmp50
   589 label *label405

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-12 instructions):
 
    21 label *label219
    22 label *label220
    23 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
-    * set :createBlockMaskRow:result *tmp50
+   24 ucontrol getBlock *tmp49 *tmp20 *tmp51 :createBlockMaskRow:result *tmp52
    25 label *label221
    26 label *label222
    27 op shl *tmp48 :createBlockMaskRow:result 1
 
    69 op shl *tmp48 :createBlockMaskRow:result 1
    70 op add *tmp49 x -4
    71 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result *tmp48 *tmp50
+   72 op or :createAdjacentMask:row2 *tmp48 *tmp50
    73 label *label237
    74 label *label238
    75 label *label239
-    * set :createAdjacentMask:row2 :createBlockMaskRow:result
    76 op add *tmp22 y 3
    77 label *label240
    78 label *label241
    79 label *label242
    80 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
-    * set :createBlockMaskRow:result *tmp50
+   81 ucontrol getBlock *tmp49 *tmp22 *tmp51 :createBlockMaskRow:result *tmp52
    82 label *label243
    83 label *label244
    84 op shl *tmp48 :createBlockMaskRow:result 1
 
   126 op shl *tmp48 :createBlockMaskRow:result 1
   127 op add *tmp49 x -4
   128 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
-    * op or :createBlockMaskRow:result *tmp48 *tmp50
+  129 op or :createAdjacentMask:row1 *tmp48 *tmp50
   130 label *label259
   131 label *label260
   132 label *label261
-    * set :createAdjacentMask:row1 :createBlockMaskRow:result
   133 label *label69
   134 label *label70
   135 op add *tmp24 y 2
 
   137 label *label263
   138 label *label264
   139 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * set :createBlockMaskRow:result *tmp50
+  140 ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
   141 label *label265
   142 label *label266
   143 op shl *tmp48 :createBlockMaskRow:result 1
 
   194 op shr *tmp28 :createAdjacentMask:row1 1
   195 op or *tmp29 *tmp27 *tmp28
   196 op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:result
-    * op and *tmp32 :createAdjacentMask:mask 0xFE
-    * set :createAdjacentMask:result *tmp32
+  197 op and :createAdjacentMask:result :createAdjacentMask:mask 0xFE
   198 set :createAdjacentMask:row2 :createAdjacentMask:row1
   199 set :createAdjacentMask:row1 :createBlockMaskRow:result
   200 label *label72
 
   204 label *label285
   205 label *label286
   206 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * set :createBlockMaskRow:result *tmp50
+  207 ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
   208 label *label287
   209 label *label288
   210 op shl *tmp48 :createBlockMaskRow:result 1
 
   273 label *label307
   274 label *label308
   275 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * set :createBlockMaskRow:result *tmp50
+  276 ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
   277 label *label309
   278 label *label310
   279 op shl *tmp48 :createBlockMaskRow:result 1
 
   342 label *label329
   343 label *label330
   344 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * set :createBlockMaskRow:result *tmp50
+  345 ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
   346 label *label331
   347 label *label332
   348 op shl *tmp48 :createBlockMaskRow:result 1
 
   411 label *label351
   412 label *label352
   413 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * set :createBlockMaskRow:result *tmp50
+  414 ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
   415 label *label353
   416 label *label354
   417 op shl *tmp48 :createBlockMaskRow:result 1
 
   480 label *label373
   481 label *label374
   482 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * set :createBlockMaskRow:result *tmp50
+  483 ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
   484 label *label375
   485 label *label376
   486 op shl *tmp48 :createBlockMaskRow:result 1
 
   549 label *label395
   550 label *label396
   551 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
-    * set :createBlockMaskRow:result *tmp50
+  552 ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
   553 label *label397
   554 label *label398
   555 op shl *tmp48 :createBlockMaskRow:result 1

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
    44 label *label228
    45 op shl *tmp48 :createBlockMaskRow:result 1
    46 set *tmp49 x
-    * ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
+   47 ucontrol getBlock x *tmp20 *tmp51 *tmp50 *tmp52
    48 op or :createBlockMaskRow:result *tmp48 *tmp50
    49 label *label229
    50 label *label230
 
   101 label *label250
   102 op shl *tmp48 :createBlockMaskRow:result 1
   103 set *tmp49 x
-    * ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
+  104 ucontrol getBlock x *tmp22 *tmp51 *tmp50 *tmp52
   105 op or :createBlockMaskRow:result *tmp48 *tmp50
   106 label *label251
   107 label *label252
 
   160 label *label272
   161 op shl *tmp48 :createBlockMaskRow:result 1
   162 set *tmp49 x
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  163 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   164 op or :createBlockMaskRow:result *tmp48 *tmp50
   165 label *label273
   166 label *label274
 
   227 label *label294
   228 op shl *tmp48 :createBlockMaskRow:result 1
   229 set *tmp49 x
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  230 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   231 op or :createBlockMaskRow:result *tmp48 *tmp50
   232 label *label295
   233 label *label296
 
   273 label *label307
   274 label *label308
   275 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
+  276 ucontrol getBlock *tmp49 y *tmp51 :createBlockMaskRow:result *tmp52
   277 label *label309
   278 label *label310
   279 op shl *tmp48 :createBlockMaskRow:result 1
   280 op add *tmp49 x 3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  281 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   282 op or :createBlockMaskRow:result *tmp48 *tmp50
   283 label *label311
   284 label *label312
   285 op shl *tmp48 :createBlockMaskRow:result 1
   286 op add *tmp49 x 2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  287 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   288 op or :createBlockMaskRow:result *tmp48 *tmp50
   289 label *label313
   290 label *label314
   291 op shl *tmp48 :createBlockMaskRow:result 1
   292 op add *tmp49 x 1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  293 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   294 op or :createBlockMaskRow:result *tmp48 *tmp50
   295 label *label315
   296 label *label316
   297 op shl *tmp48 :createBlockMaskRow:result 1
   298 set *tmp49 x
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  299 ucontrol getBlock x y *tmp51 *tmp50 *tmp52
   300 op or :createBlockMaskRow:result *tmp48 *tmp50
   301 label *label317
   302 label *label318
   303 op shl *tmp48 :createBlockMaskRow:result 1
   304 op add *tmp49 x -1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  305 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   306 op or :createBlockMaskRow:result *tmp48 *tmp50
   307 label *label319
   308 label *label320
   309 op shl *tmp48 :createBlockMaskRow:result 1
   310 op add *tmp49 x -2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  311 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   312 op or :createBlockMaskRow:result *tmp48 *tmp50
   313 label *label321
   314 label *label322
   315 op shl *tmp48 :createBlockMaskRow:result 1
   316 op add *tmp49 x -3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  317 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   318 op or :createBlockMaskRow:result *tmp48 *tmp50
   319 label *label323
   320 label *label324
   321 op shl *tmp48 :createBlockMaskRow:result 1
   322 op add *tmp49 x -4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  323 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   324 op or :createBlockMaskRow:result *tmp48 *tmp50
   325 label *label325
   326 label *label326
 
   365 label *label338
   366 op shl *tmp48 :createBlockMaskRow:result 1
   367 set *tmp49 x
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  368 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   369 op or :createBlockMaskRow:result *tmp48 *tmp50
   370 label *label339
   371 label *label340
 
   434 label *label360
   435 op shl *tmp48 :createBlockMaskRow:result 1
   436 set *tmp49 x
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  437 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   438 op or :createBlockMaskRow:result *tmp48 *tmp50
   439 label *label361
   440 label *label362
 
   503 label *label382
   504 op shl *tmp48 :createBlockMaskRow:result 1
   505 set *tmp49 x
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  506 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   507 op or :createBlockMaskRow:result *tmp48 *tmp50
   508 label *label383
   509 label *label384
 
   572 label *label404
   573 op shl *tmp48 :createBlockMaskRow:result 1
   574 set *tmp49 x
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  575 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   576 op or :createBlockMaskRow:result *tmp48 *tmp50
   577 label *label405
   578 label *label406

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 3 (-10 instructions):
 
    43 label *label227
    44 label *label228
    45 op shl *tmp48 :createBlockMaskRow:result 1
-    * set *tmp49 x
    46 ucontrol getBlock x *tmp20 *tmp51 *tmp50 *tmp52
    47 op or :createBlockMaskRow:result *tmp48 *tmp50
    48 label *label229
 
    99 label *label249
   100 label *label250
   101 op shl *tmp48 :createBlockMaskRow:result 1
-    * set *tmp49 x
   102 ucontrol getBlock x *tmp22 *tmp51 *tmp50 *tmp52
   103 op or :createBlockMaskRow:result *tmp48 *tmp50
   104 label *label251
 
   157 label *label271
   158 label *label272
   159 op shl *tmp48 :createBlockMaskRow:result 1
-    * set *tmp49 x
   160 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   161 op or :createBlockMaskRow:result *tmp48 *tmp50
   162 label *label273
 
   223 label *label293
   224 label *label294
   225 op shl *tmp48 :createBlockMaskRow:result 1
-    * set *tmp49 x
   226 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   227 op or :createBlockMaskRow:result *tmp48 *tmp50
   228 label *label295
 
   264 set :createAdjacentMask:row1 :createBlockMaskRow:result
   265 label *label75
   266 label *label76
-    * set *tmp24 y
   267 label *label306
   268 label *label307
   269 label *label308
 
   290 label *label315
   291 label *label316
   292 op shl *tmp48 :createBlockMaskRow:result 1
-    * set *tmp49 x
   293 ucontrol getBlock x y *tmp51 *tmp50 *tmp52
   294 op or :createBlockMaskRow:result *tmp48 *tmp50
   295 label *label317
 
   358 label *label337
   359 label *label338
   360 op shl *tmp48 :createBlockMaskRow:result 1
-    * set *tmp49 x
   361 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   362 op or :createBlockMaskRow:result *tmp48 *tmp50
   363 label *label339
 
   426 label *label359
   427 label *label360
   428 op shl *tmp48 :createBlockMaskRow:result 1
-    * set *tmp49 x
   429 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   430 op or :createBlockMaskRow:result *tmp48 *tmp50
   431 label *label361
 
   494 label *label381
   495 label *label382
   496 op shl *tmp48 :createBlockMaskRow:result 1
-    * set *tmp49 x
   497 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   498 op or :createBlockMaskRow:result *tmp48 *tmp50
   499 label *label383
 
   562 label *label403
   563 label *label404
   564 op shl *tmp48 :createBlockMaskRow:result 1
-    * set *tmp49 x
   565 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   566 op or :createBlockMaskRow:result *tmp48 *tmp50
   567 label *label405

Modifications by Jumps phase, Jump Normalization, pass 4, iteration 1:
 
     6 op add *tmp11 y 5
     7 label *label6
     8 ucontrol move x *tmp11
-    * label *label7
     9 ucontrol within x *tmp11 2 *tmp13
    10 jump *label6 equal *tmp13 false
-    * label *label8
    11 set :start @tick
    12 write @unit processor1 ":createTerrainMask:unit"
    13 write x processor1 ":createTerrainMask:x"
 
    15 write false processor1 ":createTerrainMask*finished"
    16 write 1 processor1 "@counter"
    17 op add *tmp20 y 4
-    * label *label218
-    * label *label219
-    * label *label220
    18 op add *tmp49 x 4
    19 ucontrol getBlock *tmp49 *tmp20 *tmp51 :createBlockMaskRow:result *tmp52
-    * label *label221
-    * label *label222
    20 op shl *tmp48 :createBlockMaskRow:result 1
    21 op add *tmp49 x 3
    22 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    23 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label223
-    * label *label224
    24 op shl *tmp48 :createBlockMaskRow:result 1
    25 op add *tmp49 x 2
    26 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    27 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label225
-    * label *label226
    28 op shl *tmp48 :createBlockMaskRow:result 1
    29 op add *tmp49 x 1
    30 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    31 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label227
-    * label *label228
    32 op shl *tmp48 :createBlockMaskRow:result 1
    33 ucontrol getBlock x *tmp20 *tmp51 *tmp50 *tmp52
    34 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label229
-    * label *label230
    35 op shl *tmp48 :createBlockMaskRow:result 1
    36 op add *tmp49 x -1
    37 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    38 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label231
-    * label *label232
    39 op shl *tmp48 :createBlockMaskRow:result 1
    40 op add *tmp49 x -2
    41 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    42 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label233
-    * label *label234
    43 op shl *tmp48 :createBlockMaskRow:result 1
    44 op add *tmp49 x -3
    45 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    46 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label235
-    * label *label236
    47 op shl *tmp48 :createBlockMaskRow:result 1
    48 op add *tmp49 x -4
    49 ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
    50 op or :createAdjacentMask:row2 *tmp48 *tmp50
-    * label *label237
-    * label *label238
-    * label *label239
    51 op add *tmp22 y 3
-    * label *label240
-    * label *label241
-    * label *label242
    52 op add *tmp49 x 4
    53 ucontrol getBlock *tmp49 *tmp22 *tmp51 :createBlockMaskRow:result *tmp52
-    * label *label243
-    * label *label244
    54 op shl *tmp48 :createBlockMaskRow:result 1
    55 op add *tmp49 x 3
    56 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
    57 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label245
-    * label *label246
    58 op shl *tmp48 :createBlockMaskRow:result 1
    59 op add *tmp49 x 2
    60 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
    61 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label247
-    * label *label248
    62 op shl *tmp48 :createBlockMaskRow:result 1
    63 op add *tmp49 x 1
    64 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
    65 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label249
-    * label *label250
    66 op shl *tmp48 :createBlockMaskRow:result 1
    67 ucontrol getBlock x *tmp22 *tmp51 *tmp50 *tmp52
    68 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label251
-    * label *label252
    69 op shl *tmp48 :createBlockMaskRow:result 1
    70 op add *tmp49 x -1
    71 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
    72 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label253
-    * label *label254
    73 op shl *tmp48 :createBlockMaskRow:result 1
    74 op add *tmp49 x -2
    75 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
    76 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label255
-    * label *label256
    77 op shl *tmp48 :createBlockMaskRow:result 1
    78 op add *tmp49 x -3
    79 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
    80 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label257
-    * label *label258
    81 op shl *tmp48 :createBlockMaskRow:result 1
    82 op add *tmp49 x -4
    83 ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
    84 op or :createAdjacentMask:row1 *tmp48 *tmp50
-    * label *label259
-    * label *label260
-    * label *label261
-    * label *label69
-    * label *label70
    85 op add *tmp24 y 2
-    * label *label262
-    * label *label263
-    * label *label264
    86 op add *tmp49 x 4
    87 ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
-    * label *label265
-    * label *label266
    88 op shl *tmp48 :createBlockMaskRow:result 1
    89 op add *tmp49 x 3
    90 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
    91 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label267
-    * label *label268
    92 op shl *tmp48 :createBlockMaskRow:result 1
    93 op add *tmp49 x 2
    94 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
    95 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label269
-    * label *label270
    96 op shl *tmp48 :createBlockMaskRow:result 1
    97 op add *tmp49 x 1
    98 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
    99 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label271
-    * label *label272
   100 op shl *tmp48 :createBlockMaskRow:result 1
   101 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   102 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label273
-    * label *label274
   103 op shl *tmp48 :createBlockMaskRow:result 1
   104 op add *tmp49 x -1
   105 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   106 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label275
-    * label *label276
   107 op shl *tmp48 :createBlockMaskRow:result 1
   108 op add *tmp49 x -2
   109 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   110 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label277
-    * label *label278
   111 op shl *tmp48 :createBlockMaskRow:result 1
   112 op add *tmp49 x -3
   113 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   114 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label279
-    * label *label280
   115 op shl *tmp48 :createBlockMaskRow:result 1
   116 op add *tmp49 x -4
   117 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   118 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label281
-    * label *label282
-    * label *label283
   119 op shl *tmp26 :createAdjacentMask:row1 1
   120 op or *tmp27 :createAdjacentMask:row2 *tmp26
   121 op shr *tmp28 :createAdjacentMask:row1 1
 
   124 op and :createAdjacentMask:result :createAdjacentMask:mask 0xFE
   125 set :createAdjacentMask:row2 :createAdjacentMask:row1
   126 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label72
-    * label *label73
   127 op add *tmp24 y 1
-    * label *label284
-    * label *label285
-    * label *label286
   128 op add *tmp49 x 4
   129 ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
-    * label *label287
-    * label *label288
   130 op shl *tmp48 :createBlockMaskRow:result 1
   131 op add *tmp49 x 3
   132 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   133 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label289
-    * label *label290
   134 op shl *tmp48 :createBlockMaskRow:result 1
   135 op add *tmp49 x 2
   136 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   137 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label291
-    * label *label292
   138 op shl *tmp48 :createBlockMaskRow:result 1
   139 op add *tmp49 x 1
   140 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   141 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label293
-    * label *label294
   142 op shl *tmp48 :createBlockMaskRow:result 1
   143 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   144 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label295
-    * label *label296
   145 op shl *tmp48 :createBlockMaskRow:result 1
   146 op add *tmp49 x -1
   147 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   148 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label297
-    * label *label298
   149 op shl *tmp48 :createBlockMaskRow:result 1
   150 op add *tmp49 x -2
   151 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   152 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label299
-    * label *label300
   153 op shl *tmp48 :createBlockMaskRow:result 1
   154 op add *tmp49 x -3
   155 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   156 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label301
-    * label *label302
   157 op shl *tmp48 :createBlockMaskRow:result 1
   158 op add *tmp49 x -4
   159 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   160 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label303
-    * label *label304
-    * label *label305
   161 op shl *tmp26 :createAdjacentMask:row1 1
   162 op or *tmp27 :createAdjacentMask:row2 *tmp26
   163 op shr *tmp28 :createAdjacentMask:row1 1
 
   168 op or :createAdjacentMask:result *tmp31 *tmp32
   169 set :createAdjacentMask:row2 :createAdjacentMask:row1
   170 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label75
-    * label *label76
-    * label *label306
-    * label *label307
-    * label *label308
   171 op add *tmp49 x 4
   172 ucontrol getBlock *tmp49 y *tmp51 :createBlockMaskRow:result *tmp52
-    * label *label309
-    * label *label310
   173 op shl *tmp48 :createBlockMaskRow:result 1
   174 op add *tmp49 x 3
   175 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   176 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label311
-    * label *label312
   177 op shl *tmp48 :createBlockMaskRow:result 1
   178 op add *tmp49 x 2
   179 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   180 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label313
-    * label *label314
   181 op shl *tmp48 :createBlockMaskRow:result 1
   182 op add *tmp49 x 1
   183 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   184 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label315
-    * label *label316
   185 op shl *tmp48 :createBlockMaskRow:result 1
   186 ucontrol getBlock x y *tmp51 *tmp50 *tmp52
   187 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label317
-    * label *label318
   188 op shl *tmp48 :createBlockMaskRow:result 1
   189 op add *tmp49 x -1
   190 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   191 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label319
-    * label *label320
   192 op shl *tmp48 :createBlockMaskRow:result 1
   193 op add *tmp49 x -2
   194 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   195 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label321
-    * label *label322
   196 op shl *tmp48 :createBlockMaskRow:result 1
   197 op add *tmp49 x -3
   198 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   199 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label323
-    * label *label324
   200 op shl *tmp48 :createBlockMaskRow:result 1
   201 op add *tmp49 x -4
   202 ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
   203 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label325
-    * label *label326
-    * label *label327
   204 op shl *tmp26 :createAdjacentMask:row1 1
   205 op or *tmp27 :createAdjacentMask:row2 *tmp26
   206 op shr *tmp28 :createAdjacentMask:row1 1
 
   211 op or :createAdjacentMask:result *tmp31 *tmp32
   212 set :createAdjacentMask:row2 :createAdjacentMask:row1
   213 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label78
-    * label *label79
   214 op add *tmp24 y -1
-    * label *label328
-    * label *label329
-    * label *label330
   215 op add *tmp49 x 4
   216 ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
-    * label *label331
-    * label *label332
   217 op shl *tmp48 :createBlockMaskRow:result 1
   218 op add *tmp49 x 3
   219 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   220 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label333
-    * label *label334
   221 op shl *tmp48 :createBlockMaskRow:result 1
   222 op add *tmp49 x 2
   223 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   224 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label335
-    * label *label336
   225 op shl *tmp48 :createBlockMaskRow:result 1
   226 op add *tmp49 x 1
   227 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   228 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label337
-    * label *label338
   229 op shl *tmp48 :createBlockMaskRow:result 1
   230 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   231 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label339
-    * label *label340
   232 op shl *tmp48 :createBlockMaskRow:result 1
   233 op add *tmp49 x -1
   234 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   235 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label341
-    * label *label342
   236 op shl *tmp48 :createBlockMaskRow:result 1
   237 op add *tmp49 x -2
   238 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   239 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label343
-    * label *label344
   240 op shl *tmp48 :createBlockMaskRow:result 1
   241 op add *tmp49 x -3
   242 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   243 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label345
-    * label *label346
   244 op shl *tmp48 :createBlockMaskRow:result 1
   245 op add *tmp49 x -4
   246 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   247 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label347
-    * label *label348
-    * label *label349
   248 op shl *tmp26 :createAdjacentMask:row1 1
   249 op or *tmp27 :createAdjacentMask:row2 *tmp26
   250 op shr *tmp28 :createAdjacentMask:row1 1
 
   255 op or :createAdjacentMask:result *tmp31 *tmp32
   256 set :createAdjacentMask:row2 :createAdjacentMask:row1
   257 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label81
-    * label *label82
   258 op add *tmp24 y -2
-    * label *label350
-    * label *label351
-    * label *label352
   259 op add *tmp49 x 4
   260 ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
-    * label *label353
-    * label *label354
   261 op shl *tmp48 :createBlockMaskRow:result 1
   262 op add *tmp49 x 3
   263 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   264 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label355
-    * label *label356
   265 op shl *tmp48 :createBlockMaskRow:result 1
   266 op add *tmp49 x 2
   267 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   268 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label357
-    * label *label358
   269 op shl *tmp48 :createBlockMaskRow:result 1
   270 op add *tmp49 x 1
   271 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   272 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label359
-    * label *label360
   273 op shl *tmp48 :createBlockMaskRow:result 1
   274 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   275 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label361
-    * label *label362
   276 op shl *tmp48 :createBlockMaskRow:result 1
   277 op add *tmp49 x -1
   278 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   279 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label363
-    * label *label364
   280 op shl *tmp48 :createBlockMaskRow:result 1
   281 op add *tmp49 x -2
   282 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   283 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label365
-    * label *label366
   284 op shl *tmp48 :createBlockMaskRow:result 1
   285 op add *tmp49 x -3
   286 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   287 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label367
-    * label *label368
   288 op shl *tmp48 :createBlockMaskRow:result 1
   289 op add *tmp49 x -4
   290 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   291 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label369
-    * label *label370
-    * label *label371
   292 op shl *tmp26 :createAdjacentMask:row1 1
   293 op or *tmp27 :createAdjacentMask:row2 *tmp26
   294 op shr *tmp28 :createAdjacentMask:row1 1
 
   299 op or :createAdjacentMask:result *tmp31 *tmp32
   300 set :createAdjacentMask:row2 :createAdjacentMask:row1
   301 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label84
-    * label *label85
   302 op add *tmp24 y -3
-    * label *label372
-    * label *label373
-    * label *label374
   303 op add *tmp49 x 4
   304 ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
-    * label *label375
-    * label *label376
   305 op shl *tmp48 :createBlockMaskRow:result 1
   306 op add *tmp49 x 3
   307 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   308 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label377
-    * label *label378
   309 op shl *tmp48 :createBlockMaskRow:result 1
   310 op add *tmp49 x 2
   311 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   312 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label379
-    * label *label380
   313 op shl *tmp48 :createBlockMaskRow:result 1
   314 op add *tmp49 x 1
   315 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   316 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label381
-    * label *label382
   317 op shl *tmp48 :createBlockMaskRow:result 1
   318 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   319 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label383
-    * label *label384
   320 op shl *tmp48 :createBlockMaskRow:result 1
   321 op add *tmp49 x -1
   322 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   323 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label385
-    * label *label386
   324 op shl *tmp48 :createBlockMaskRow:result 1
   325 op add *tmp49 x -2
   326 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   327 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label387
-    * label *label388
   328 op shl *tmp48 :createBlockMaskRow:result 1
   329 op add *tmp49 x -3
   330 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   331 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label389
-    * label *label390
   332 op shl *tmp48 :createBlockMaskRow:result 1
   333 op add *tmp49 x -4
   334 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   335 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label391
-    * label *label392
-    * label *label393
   336 op shl *tmp26 :createAdjacentMask:row1 1
   337 op or *tmp27 :createAdjacentMask:row2 *tmp26
   338 op shr *tmp28 :createAdjacentMask:row1 1
 
   343 op or :createAdjacentMask:result *tmp31 *tmp32
   344 set :createAdjacentMask:row2 :createAdjacentMask:row1
   345 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label87
-    * label *label88
   346 op add *tmp24 y -4
-    * label *label394
-    * label *label395
-    * label *label396
   347 op add *tmp49 x 4
   348 ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
-    * label *label397
-    * label *label398
   349 op shl *tmp48 :createBlockMaskRow:result 1
   350 op add *tmp49 x 3
   351 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   352 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label399
-    * label *label400
   353 op shl *tmp48 :createBlockMaskRow:result 1
   354 op add *tmp49 x 2
   355 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   356 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label401
-    * label *label402
   357 op shl *tmp48 :createBlockMaskRow:result 1
   358 op add *tmp49 x 1
   359 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   360 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label403
-    * label *label404
   361 op shl *tmp48 :createBlockMaskRow:result 1
   362 ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
   363 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label405
-    * label *label406
   364 op shl *tmp48 :createBlockMaskRow:result 1
   365 op add *tmp49 x -1
   366 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   367 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label407
-    * label *label408
   368 op shl *tmp48 :createBlockMaskRow:result 1
   369 op add *tmp49 x -2
   370 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   371 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label409
-    * label *label410
   372 op shl *tmp48 :createBlockMaskRow:result 1
   373 op add *tmp49 x -3
   374 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   375 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label411
-    * label *label412
   376 op shl *tmp48 :createBlockMaskRow:result 1
   377 op add *tmp49 x -4
   378 ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
   379 op or :createBlockMaskRow:result *tmp48 *tmp50
-    * label *label413
-    * label *label414
-    * label *label415
   380 op shl *tmp26 :createAdjacentMask:row1 1
   381 op or *tmp27 :createAdjacentMask:row2 *tmp26
   382 op shr *tmp28 :createAdjacentMask:row1 1
 
   385 op shl *tmp31 :createAdjacentMask:result 7
   386 op and *tmp32 :createAdjacentMask:mask 0xFE
   387 op or :createAdjacentMask:result *tmp31 *tmp32
-    * label *label90
-    * label *label15
   388 op shr *tmp19 :createAdjacentMask:result 1
-    * label *label10
   389 label *label17
   390 wait 1e-15
   391 read *tmp35 processor1 ":createTerrainMask*finished"
   392 jump *label17 equal *tmp35 false
-    * label *label9
   393 set :finish @tick
   394 draw reset
   395 draw translate 6 6
   396 draw clear 0 0 0
-    * label *label91
-    * label *label92
-    * label *label93
-    * label *label94
   397 op and *tmp40 *tmp19 4398046511104
   398 select *tmp41 notEqual *tmp40 false %[red] %[green]
   399 draw col *tmp41
   400 draw rect 0 60 8 8
-    * label *label95
-    * label *label96
   401 op and *tmp40 *tmp19 8796093022208
   402 select *tmp41 notEqual *tmp40 false %[red] %[green]
   403 draw col *tmp41
   404 draw rect 10 60 8 8
-    * label *label97
-    * label *label98
   405 op and *tmp40 *tmp19 17592186044416
   406 select *tmp41 notEqual *tmp40 false %[red] %[green]
   407 draw col *tmp41
   408 draw rect 20 60 8 8
-    * label *label99
-    * label *label100
   409 op and *tmp40 *tmp19 35184372088832
   410 select *tmp41 notEqual *tmp40 false %[red] %[green]
   411 draw col *tmp41
   412 draw rect 30 60 8 8
-    * label *label101
-    * label *label102
   413 op and *tmp40 *tmp19 70368744177664
   414 select *tmp41 notEqual *tmp40 false %[red] %[green]
   415 draw col *tmp41
   416 draw rect 40 60 8 8
-    * label *label103
-    * label *label104
   417 op and *tmp40 *tmp19 140737488355328
   418 select *tmp41 notEqual *tmp40 false %[red] %[green]
   419 draw col *tmp41
   420 draw rect 50 60 8 8
-    * label *label105
-    * label *label106
   421 op and *tmp40 *tmp19 281474976710656
   422 select *tmp41 notEqual *tmp40 false %[red] %[green]
   423 draw col *tmp41
   424 draw rect 60 60 8 8
-    * label *label107
-    * label *label108
-    * label *label109
-    * label *label110
-    * label *label111
-    * label *label112
   425 op and *tmp40 *tmp19 34359738368
   426 select *tmp41 notEqual *tmp40 false %[red] %[green]
   427 draw col *tmp41
   428 draw rect 0 50 8 8
-    * label *label113
-    * label *label114
   429 op and *tmp40 *tmp19 68719476736
   430 select *tmp41 notEqual *tmp40 false %[red] %[green]
   431 draw col *tmp41
   432 draw rect 10 50 8 8
-    * label *label115
-    * label *label116
   433 op and *tmp40 *tmp19 137438953472
   434 select *tmp41 notEqual *tmp40 false %[red] %[green]
   435 draw col *tmp41
   436 draw rect 20 50 8 8
-    * label *label117
-    * label *label118
   437 op and *tmp40 *tmp19 274877906944
   438 select *tmp41 notEqual *tmp40 false %[red] %[green]
   439 draw col *tmp41
   440 draw rect 30 50 8 8
-    * label *label119
-    * label *label120
   441 op and *tmp40 *tmp19 549755813888
   442 select *tmp41 notEqual *tmp40 false %[red] %[green]
   443 draw col *tmp41
   444 draw rect 40 50 8 8
-    * label *label121
-    * label *label122
   445 op and *tmp40 *tmp19 1099511627776
   446 select *tmp41 notEqual *tmp40 false %[red] %[green]
   447 draw col *tmp41
   448 draw rect 50 50 8 8
-    * label *label123
-    * label *label124
   449 op and *tmp40 *tmp19 2199023255552
   450 select *tmp41 notEqual *tmp40 false %[red] %[green]
   451 draw col *tmp41
   452 draw rect 60 50 8 8
-    * label *label125
-    * label *label126
-    * label *label127
-    * label *label128
-    * label *label129
-    * label *label130
   453 op and *tmp40 *tmp19 268435456
   454 select *tmp41 notEqual *tmp40 false %[red] %[green]
   455 draw col *tmp41
   456 draw rect 0 40 8 8
-    * label *label131
-    * label *label132
   457 op and *tmp40 *tmp19 536870912
   458 select *tmp41 notEqual *tmp40 false %[red] %[green]
   459 draw col *tmp41
   460 draw rect 10 40 8 8
-    * label *label133
-    * label *label134
   461 op and *tmp40 *tmp19 1073741824
   462 select *tmp41 notEqual *tmp40 false %[red] %[green]
   463 draw col *tmp41
   464 draw rect 20 40 8 8
-    * label *label135
-    * label *label136
   465 op and *tmp40 *tmp19 2147483648
   466 select *tmp41 notEqual *tmp40 false %[red] %[green]
   467 draw col *tmp41
   468 draw rect 30 40 8 8
-    * label *label137
-    * label *label138
   469 op and *tmp40 *tmp19 4294967296
   470 select *tmp41 notEqual *tmp40 false %[red] %[green]
   471 draw col *tmp41
   472 draw rect 40 40 8 8
-    * label *label139
-    * label *label140
   473 op and *tmp40 *tmp19 8589934592
   474 select *tmp41 notEqual *tmp40 false %[red] %[green]
   475 draw col *tmp41
   476 draw rect 50 40 8 8
-    * label *label141
-    * label *label142
   477 op and *tmp40 *tmp19 17179869184
   478 select *tmp41 notEqual *tmp40 false %[red] %[green]
   479 draw col *tmp41
   480 draw rect 60 40 8 8
-    * label *label143
-    * label *label144
-    * label *label145
-    * label *label146
-    * label *label147
-    * label *label148
   481 op and *tmp40 *tmp19 2097152
   482 select *tmp41 notEqual *tmp40 false %[red] %[green]
   483 draw col *tmp41
   484 draw rect 0 30 8 8
-    * label *label149
-    * label *label150
   485 op and *tmp40 *tmp19 4194304
   486 select *tmp41 notEqual *tmp40 false %[red] %[green]
   487 draw col *tmp41
   488 draw rect 10 30 8 8
-    * label *label151
-    * label *label152
   489 op and *tmp40 *tmp19 8388608
   490 select *tmp41 notEqual *tmp40 false %[red] %[green]
   491 draw col *tmp41
   492 draw rect 20 30 8 8
-    * label *label153
-    * label *label154
   493 op and *tmp40 *tmp19 16777216
   494 select *tmp41 notEqual *tmp40 false %[red] %[green]
   495 draw col *tmp41
   496 draw rect 30 30 8 8
-    * label *label155
-    * label *label156
   497 op and *tmp40 *tmp19 33554432
   498 select *tmp41 notEqual *tmp40 false %[red] %[green]
   499 draw col *tmp41
   500 draw rect 40 30 8 8
-    * label *label157
-    * label *label158
   501 op and *tmp40 *tmp19 67108864
   502 select *tmp41 notEqual *tmp40 false %[red] %[green]
   503 draw col *tmp41
   504 draw rect 50 30 8 8
-    * label *label159
-    * label *label160
   505 op and *tmp40 *tmp19 134217728
   506 select *tmp41 notEqual *tmp40 false %[red] %[green]
   507 draw col *tmp41
   508 draw rect 60 30 8 8
-    * label *label161
-    * label *label162
-    * label *label163
-    * label *label164
-    * label *label165
-    * label *label166
   509 op and *tmp40 *tmp19 16384
   510 select *tmp41 notEqual *tmp40 false %[red] %[green]
   511 draw col *tmp41
   512 draw rect 0 20 8 8
-    * label *label167
-    * label *label168
   513 op and *tmp40 *tmp19 32768
   514 select *tmp41 notEqual *tmp40 false %[red] %[green]
   515 draw col *tmp41
   516 draw rect 10 20 8 8
-    * label *label169
-    * label *label170
   517 op and *tmp40 *tmp19 65536
   518 select *tmp41 notEqual *tmp40 false %[red] %[green]
   519 draw col *tmp41
   520 draw rect 20 20 8 8
-    * label *label171
-    * label *label172
   521 op and *tmp40 *tmp19 131072
   522 select *tmp41 notEqual *tmp40 false %[red] %[green]
   523 draw col *tmp41
   524 draw rect 30 20 8 8
-    * label *label173
-    * label *label174
   525 op and *tmp40 *tmp19 262144
   526 select *tmp41 notEqual *tmp40 false %[red] %[green]
   527 draw col *tmp41
   528 draw rect 40 20 8 8
-    * label *label175
-    * label *label176
   529 op and *tmp40 *tmp19 524288
   530 select *tmp41 notEqual *tmp40 false %[red] %[green]
   531 draw col *tmp41
   532 draw rect 50 20 8 8
-    * label *label177
-    * label *label178
   533 op and *tmp40 *tmp19 1048576
   534 select *tmp41 notEqual *tmp40 false %[red] %[green]
   535 draw col *tmp41
   536 draw rect 60 20 8 8
-    * label *label179
-    * label *label180
-    * label *label181
-    * label *label182
-    * label *label183
-    * label *label184
   537 op and *tmp40 *tmp19 128
   538 select *tmp41 notEqual *tmp40 false %[red] %[green]
   539 draw col *tmp41
   540 draw rect 0 10 8 8
-    * label *label185
-    * label *label186
   541 op and *tmp40 *tmp19 256
   542 select *tmp41 notEqual *tmp40 false %[red] %[green]
   543 draw col *tmp41
   544 draw rect 10 10 8 8
-    * label *label187
-    * label *label188
   545 op and *tmp40 *tmp19 512
   546 select *tmp41 notEqual *tmp40 false %[red] %[green]
   547 draw col *tmp41
   548 draw rect 20 10 8 8
-    * label *label189
-    * label *label190
   549 op and *tmp40 *tmp19 1024
   550 select *tmp41 notEqual *tmp40 false %[red] %[green]
   551 draw col *tmp41
   552 draw rect 30 10 8 8
-    * label *label191
-    * label *label192
   553 op and *tmp40 *tmp19 2048
   554 select *tmp41 notEqual *tmp40 false %[red] %[green]
   555 draw col *tmp41
   556 draw rect 40 10 8 8
-    * label *label193
-    * label *label194
   557 op and *tmp40 *tmp19 4096
   558 select *tmp41 notEqual *tmp40 false %[red] %[green]
   559 draw col *tmp41
   560 draw rect 50 10 8 8
-    * label *label195
-    * label *label196
   561 op and *tmp40 *tmp19 8192
   562 select *tmp41 notEqual *tmp40 false %[red] %[green]
   563 draw col *tmp41
   564 draw rect 60 10 8 8
-    * label *label197
-    * label *label198
-    * label *label199
-    * label *label200
-    * label *label201
-    * label *label202
   565 op and *tmp40 *tmp19 1
   566 select *tmp41 notEqual *tmp40 false %[red] %[green]
   567 draw col *tmp41
   568 draw rect 0 0 8 8
-    * label *label203
-    * label *label204
   569 op and *tmp40 *tmp19 2
   570 select *tmp41 notEqual *tmp40 false %[red] %[green]
   571 draw col *tmp41
   572 draw rect 10 0 8 8
-    * label *label205
-    * label *label206
   573 op and *tmp40 *tmp19 4
   574 select *tmp41 notEqual *tmp40 false %[red] %[green]
   575 draw col *tmp41
   576 draw rect 20 0 8 8
-    * label *label207
-    * label *label208
   577 op and *tmp40 *tmp19 8
   578 select *tmp41 notEqual *tmp40 false %[red] %[green]
   579 draw col *tmp41
   580 draw rect 30 0 8 8
-    * label *label209
-    * label *label210
   581 op and *tmp40 *tmp19 16
   582 select *tmp41 notEqual *tmp40 false %[red] %[green]
   583 draw col *tmp41
   584 draw rect 40 0 8 8
-    * label *label211
-    * label *label212
   585 op and *tmp40 *tmp19 32
   586 select *tmp41 notEqual *tmp40 false %[red] %[green]
   587 draw col *tmp41
   588 draw rect 50 0 8 8
-    * label *label213
-    * label *label214
   589 op and *tmp40 *tmp19 64
   590 select *tmp41 notEqual *tmp40 false %[red] %[green]
   591 draw col *tmp41
   592 draw rect 60 0 8 8
-    * label *label215
-    * label *label216
-    * label *label217
-    * label *label21
   593 drawflush display1
-    * label *label18
   594 print *tmp19
   595 print "\n"
   596 op sub *tmp44 :finish :start

Modifications by Jumps phase, Single Step Elimination, pass 4, iteration 1 (-1 instructions):
 
   598 op round *tmp47 *tmp46
   599 print *tmp47
   600 printflush message1
-    * end

Modifications by Final phase, Temp Variables Elimination, iteration 1:
 
    16 write 1 processor1 "@counter"
    17 op add *tmp20 y 4
    18 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp20 *tmp51 :createBlockMaskRow:result *tmp52
+   19 ucontrol getBlock *tmp49 *tmp20 0 :createBlockMaskRow:result 0
    20 op shl *tmp48 :createBlockMaskRow:result 1
    21 op add *tmp49 x 3
-    * ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
+   22 ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0
    23 op or :createBlockMaskRow:result *tmp48 *tmp50
    24 op shl *tmp48 :createBlockMaskRow:result 1
    25 op add *tmp49 x 2
-    * ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
+   26 ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0
    27 op or :createBlockMaskRow:result *tmp48 *tmp50
    28 op shl *tmp48 :createBlockMaskRow:result 1
    29 op add *tmp49 x 1
-    * ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
+   30 ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0
    31 op or :createBlockMaskRow:result *tmp48 *tmp50
    32 op shl *tmp48 :createBlockMaskRow:result 1
-    * ucontrol getBlock x *tmp20 *tmp51 *tmp50 *tmp52
+   33 ucontrol getBlock x *tmp20 0 *tmp50 0
    34 op or :createBlockMaskRow:result *tmp48 *tmp50
    35 op shl *tmp48 :createBlockMaskRow:result 1
    36 op add *tmp49 x -1
-    * ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
+   37 ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0
    38 op or :createBlockMaskRow:result *tmp48 *tmp50
    39 op shl *tmp48 :createBlockMaskRow:result 1
    40 op add *tmp49 x -2
-    * ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
+   41 ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0
    42 op or :createBlockMaskRow:result *tmp48 *tmp50
    43 op shl *tmp48 :createBlockMaskRow:result 1
    44 op add *tmp49 x -3
-    * ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
+   45 ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0
    46 op or :createBlockMaskRow:result *tmp48 *tmp50
    47 op shl *tmp48 :createBlockMaskRow:result 1
    48 op add *tmp49 x -4
-    * ucontrol getBlock *tmp49 *tmp20 *tmp51 *tmp50 *tmp52
+   49 ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0
    50 op or :createAdjacentMask:row2 *tmp48 *tmp50
    51 op add *tmp22 y 3
    52 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp22 *tmp51 :createBlockMaskRow:result *tmp52
+   53 ucontrol getBlock *tmp49 *tmp22 0 :createBlockMaskRow:result 0
    54 op shl *tmp48 :createBlockMaskRow:result 1
    55 op add *tmp49 x 3
-    * ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
+   56 ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0
    57 op or :createBlockMaskRow:result *tmp48 *tmp50
    58 op shl *tmp48 :createBlockMaskRow:result 1
    59 op add *tmp49 x 2
-    * ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
+   60 ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0
    61 op or :createBlockMaskRow:result *tmp48 *tmp50
    62 op shl *tmp48 :createBlockMaskRow:result 1
    63 op add *tmp49 x 1
-    * ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
+   64 ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0
    65 op or :createBlockMaskRow:result *tmp48 *tmp50
    66 op shl *tmp48 :createBlockMaskRow:result 1
-    * ucontrol getBlock x *tmp22 *tmp51 *tmp50 *tmp52
+   67 ucontrol getBlock x *tmp22 0 *tmp50 0
    68 op or :createBlockMaskRow:result *tmp48 *tmp50
    69 op shl *tmp48 :createBlockMaskRow:result 1
    70 op add *tmp49 x -1
-    * ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
+   71 ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0
    72 op or :createBlockMaskRow:result *tmp48 *tmp50
    73 op shl *tmp48 :createBlockMaskRow:result 1
    74 op add *tmp49 x -2
-    * ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
+   75 ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0
    76 op or :createBlockMaskRow:result *tmp48 *tmp50
    77 op shl *tmp48 :createBlockMaskRow:result 1
    78 op add *tmp49 x -3
-    * ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
+   79 ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0
    80 op or :createBlockMaskRow:result *tmp48 *tmp50
    81 op shl *tmp48 :createBlockMaskRow:result 1
    82 op add *tmp49 x -4
-    * ucontrol getBlock *tmp49 *tmp22 *tmp51 *tmp50 *tmp52
+   83 ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0
    84 op or :createAdjacentMask:row1 *tmp48 *tmp50
    85 op add *tmp24 y 2
    86 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
+   87 ucontrol getBlock *tmp49 *tmp24 0 :createBlockMaskRow:result 0
    88 op shl *tmp48 :createBlockMaskRow:result 1
    89 op add *tmp49 x 3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+   90 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
    91 op or :createBlockMaskRow:result *tmp48 *tmp50
    92 op shl *tmp48 :createBlockMaskRow:result 1
    93 op add *tmp49 x 2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+   94 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
    95 op or :createBlockMaskRow:result *tmp48 *tmp50
    96 op shl *tmp48 :createBlockMaskRow:result 1
    97 op add *tmp49 x 1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+   98 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
    99 op or :createBlockMaskRow:result *tmp48 *tmp50
   100 op shl *tmp48 :createBlockMaskRow:result 1
-    * ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
+  101 ucontrol getBlock x *tmp24 0 *tmp50 0
   102 op or :createBlockMaskRow:result *tmp48 *tmp50
   103 op shl *tmp48 :createBlockMaskRow:result 1
   104 op add *tmp49 x -1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  105 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   106 op or :createBlockMaskRow:result *tmp48 *tmp50
   107 op shl *tmp48 :createBlockMaskRow:result 1
   108 op add *tmp49 x -2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  109 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   110 op or :createBlockMaskRow:result *tmp48 *tmp50
   111 op shl *tmp48 :createBlockMaskRow:result 1
   112 op add *tmp49 x -3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  113 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   114 op or :createBlockMaskRow:result *tmp48 *tmp50
   115 op shl *tmp48 :createBlockMaskRow:result 1
   116 op add *tmp49 x -4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  117 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   118 op or :createBlockMaskRow:result *tmp48 *tmp50
   119 op shl *tmp26 :createAdjacentMask:row1 1
   120 op or *tmp27 :createAdjacentMask:row2 *tmp26
 
   126 set :createAdjacentMask:row1 :createBlockMaskRow:result
   127 op add *tmp24 y 1
   128 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
+  129 ucontrol getBlock *tmp49 *tmp24 0 :createBlockMaskRow:result 0
   130 op shl *tmp48 :createBlockMaskRow:result 1
   131 op add *tmp49 x 3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  132 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   133 op or :createBlockMaskRow:result *tmp48 *tmp50
   134 op shl *tmp48 :createBlockMaskRow:result 1
   135 op add *tmp49 x 2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  136 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   137 op or :createBlockMaskRow:result *tmp48 *tmp50
   138 op shl *tmp48 :createBlockMaskRow:result 1
   139 op add *tmp49 x 1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  140 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   141 op or :createBlockMaskRow:result *tmp48 *tmp50
   142 op shl *tmp48 :createBlockMaskRow:result 1
-    * ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
+  143 ucontrol getBlock x *tmp24 0 *tmp50 0
   144 op or :createBlockMaskRow:result *tmp48 *tmp50
   145 op shl *tmp48 :createBlockMaskRow:result 1
   146 op add *tmp49 x -1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  147 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   148 op or :createBlockMaskRow:result *tmp48 *tmp50
   149 op shl *tmp48 :createBlockMaskRow:result 1
   150 op add *tmp49 x -2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  151 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   152 op or :createBlockMaskRow:result *tmp48 *tmp50
   153 op shl *tmp48 :createBlockMaskRow:result 1
   154 op add *tmp49 x -3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  155 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   156 op or :createBlockMaskRow:result *tmp48 *tmp50
   157 op shl *tmp48 :createBlockMaskRow:result 1
   158 op add *tmp49 x -4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  159 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   160 op or :createBlockMaskRow:result *tmp48 *tmp50
   161 op shl *tmp26 :createAdjacentMask:row1 1
   162 op or *tmp27 :createAdjacentMask:row2 *tmp26
 
   169 set :createAdjacentMask:row2 :createAdjacentMask:row1
   170 set :createAdjacentMask:row1 :createBlockMaskRow:result
   171 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 y *tmp51 :createBlockMaskRow:result *tmp52
+  172 ucontrol getBlock *tmp49 y 0 :createBlockMaskRow:result 0
   173 op shl *tmp48 :createBlockMaskRow:result 1
   174 op add *tmp49 x 3
-    * ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
+  175 ucontrol getBlock *tmp49 y 0 *tmp50 0
   176 op or :createBlockMaskRow:result *tmp48 *tmp50
   177 op shl *tmp48 :createBlockMaskRow:result 1
   178 op add *tmp49 x 2
-    * ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
+  179 ucontrol getBlock *tmp49 y 0 *tmp50 0
   180 op or :createBlockMaskRow:result *tmp48 *tmp50
   181 op shl *tmp48 :createBlockMaskRow:result 1
   182 op add *tmp49 x 1
-    * ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
+  183 ucontrol getBlock *tmp49 y 0 *tmp50 0
   184 op or :createBlockMaskRow:result *tmp48 *tmp50
   185 op shl *tmp48 :createBlockMaskRow:result 1
-    * ucontrol getBlock x y *tmp51 *tmp50 *tmp52
+  186 ucontrol getBlock x y 0 *tmp50 0
   187 op or :createBlockMaskRow:result *tmp48 *tmp50
   188 op shl *tmp48 :createBlockMaskRow:result 1
   189 op add *tmp49 x -1
-    * ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
+  190 ucontrol getBlock *tmp49 y 0 *tmp50 0
   191 op or :createBlockMaskRow:result *tmp48 *tmp50
   192 op shl *tmp48 :createBlockMaskRow:result 1
   193 op add *tmp49 x -2
-    * ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
+  194 ucontrol getBlock *tmp49 y 0 *tmp50 0
   195 op or :createBlockMaskRow:result *tmp48 *tmp50
   196 op shl *tmp48 :createBlockMaskRow:result 1
   197 op add *tmp49 x -3
-    * ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
+  198 ucontrol getBlock *tmp49 y 0 *tmp50 0
   199 op or :createBlockMaskRow:result *tmp48 *tmp50
   200 op shl *tmp48 :createBlockMaskRow:result 1
   201 op add *tmp49 x -4
-    * ucontrol getBlock *tmp49 y *tmp51 *tmp50 *tmp52
+  202 ucontrol getBlock *tmp49 y 0 *tmp50 0
   203 op or :createBlockMaskRow:result *tmp48 *tmp50
   204 op shl *tmp26 :createAdjacentMask:row1 1
   205 op or *tmp27 :createAdjacentMask:row2 *tmp26
 
   213 set :createAdjacentMask:row1 :createBlockMaskRow:result
   214 op add *tmp24 y -1
   215 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
+  216 ucontrol getBlock *tmp49 *tmp24 0 :createBlockMaskRow:result 0
   217 op shl *tmp48 :createBlockMaskRow:result 1
   218 op add *tmp49 x 3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  219 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   220 op or :createBlockMaskRow:result *tmp48 *tmp50
   221 op shl *tmp48 :createBlockMaskRow:result 1
   222 op add *tmp49 x 2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  223 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   224 op or :createBlockMaskRow:result *tmp48 *tmp50
   225 op shl *tmp48 :createBlockMaskRow:result 1
   226 op add *tmp49 x 1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  227 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   228 op or :createBlockMaskRow:result *tmp48 *tmp50
   229 op shl *tmp48 :createBlockMaskRow:result 1
-    * ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
+  230 ucontrol getBlock x *tmp24 0 *tmp50 0
   231 op or :createBlockMaskRow:result *tmp48 *tmp50
   232 op shl *tmp48 :createBlockMaskRow:result 1
   233 op add *tmp49 x -1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  234 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   235 op or :createBlockMaskRow:result *tmp48 *tmp50
   236 op shl *tmp48 :createBlockMaskRow:result 1
   237 op add *tmp49 x -2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  238 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   239 op or :createBlockMaskRow:result *tmp48 *tmp50
   240 op shl *tmp48 :createBlockMaskRow:result 1
   241 op add *tmp49 x -3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  242 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   243 op or :createBlockMaskRow:result *tmp48 *tmp50
   244 op shl *tmp48 :createBlockMaskRow:result 1
   245 op add *tmp49 x -4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  246 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   247 op or :createBlockMaskRow:result *tmp48 *tmp50
   248 op shl *tmp26 :createAdjacentMask:row1 1
   249 op or *tmp27 :createAdjacentMask:row2 *tmp26
 
   257 set :createAdjacentMask:row1 :createBlockMaskRow:result
   258 op add *tmp24 y -2
   259 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
+  260 ucontrol getBlock *tmp49 *tmp24 0 :createBlockMaskRow:result 0
   261 op shl *tmp48 :createBlockMaskRow:result 1
   262 op add *tmp49 x 3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  263 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   264 op or :createBlockMaskRow:result *tmp48 *tmp50
   265 op shl *tmp48 :createBlockMaskRow:result 1
   266 op add *tmp49 x 2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  267 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   268 op or :createBlockMaskRow:result *tmp48 *tmp50
   269 op shl *tmp48 :createBlockMaskRow:result 1
   270 op add *tmp49 x 1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  271 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   272 op or :createBlockMaskRow:result *tmp48 *tmp50
   273 op shl *tmp48 :createBlockMaskRow:result 1
-    * ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
+  274 ucontrol getBlock x *tmp24 0 *tmp50 0
   275 op or :createBlockMaskRow:result *tmp48 *tmp50
   276 op shl *tmp48 :createBlockMaskRow:result 1
   277 op add *tmp49 x -1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  278 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   279 op or :createBlockMaskRow:result *tmp48 *tmp50
   280 op shl *tmp48 :createBlockMaskRow:result 1
   281 op add *tmp49 x -2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  282 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   283 op or :createBlockMaskRow:result *tmp48 *tmp50
   284 op shl *tmp48 :createBlockMaskRow:result 1
   285 op add *tmp49 x -3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  286 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   287 op or :createBlockMaskRow:result *tmp48 *tmp50
   288 op shl *tmp48 :createBlockMaskRow:result 1
   289 op add *tmp49 x -4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  290 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   291 op or :createBlockMaskRow:result *tmp48 *tmp50
   292 op shl *tmp26 :createAdjacentMask:row1 1
   293 op or *tmp27 :createAdjacentMask:row2 *tmp26
 
   301 set :createAdjacentMask:row1 :createBlockMaskRow:result
   302 op add *tmp24 y -3
   303 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
+  304 ucontrol getBlock *tmp49 *tmp24 0 :createBlockMaskRow:result 0
   305 op shl *tmp48 :createBlockMaskRow:result 1
   306 op add *tmp49 x 3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  307 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   308 op or :createBlockMaskRow:result *tmp48 *tmp50
   309 op shl *tmp48 :createBlockMaskRow:result 1
   310 op add *tmp49 x 2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  311 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   312 op or :createBlockMaskRow:result *tmp48 *tmp50
   313 op shl *tmp48 :createBlockMaskRow:result 1
   314 op add *tmp49 x 1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  315 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   316 op or :createBlockMaskRow:result *tmp48 *tmp50
   317 op shl *tmp48 :createBlockMaskRow:result 1
-    * ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
+  318 ucontrol getBlock x *tmp24 0 *tmp50 0
   319 op or :createBlockMaskRow:result *tmp48 *tmp50
   320 op shl *tmp48 :createBlockMaskRow:result 1
   321 op add *tmp49 x -1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  322 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   323 op or :createBlockMaskRow:result *tmp48 *tmp50
   324 op shl *tmp48 :createBlockMaskRow:result 1
   325 op add *tmp49 x -2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  326 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   327 op or :createBlockMaskRow:result *tmp48 *tmp50
   328 op shl *tmp48 :createBlockMaskRow:result 1
   329 op add *tmp49 x -3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  330 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   331 op or :createBlockMaskRow:result *tmp48 *tmp50
   332 op shl *tmp48 :createBlockMaskRow:result 1
   333 op add *tmp49 x -4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  334 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   335 op or :createBlockMaskRow:result *tmp48 *tmp50
   336 op shl *tmp26 :createAdjacentMask:row1 1
   337 op or *tmp27 :createAdjacentMask:row2 *tmp26
 
   345 set :createAdjacentMask:row1 :createBlockMaskRow:result
   346 op add *tmp24 y -4
   347 op add *tmp49 x 4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 :createBlockMaskRow:result *tmp52
+  348 ucontrol getBlock *tmp49 *tmp24 0 :createBlockMaskRow:result 0
   349 op shl *tmp48 :createBlockMaskRow:result 1
   350 op add *tmp49 x 3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  351 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   352 op or :createBlockMaskRow:result *tmp48 *tmp50
   353 op shl *tmp48 :createBlockMaskRow:result 1
   354 op add *tmp49 x 2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  355 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   356 op or :createBlockMaskRow:result *tmp48 *tmp50
   357 op shl *tmp48 :createBlockMaskRow:result 1
   358 op add *tmp49 x 1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  359 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   360 op or :createBlockMaskRow:result *tmp48 *tmp50
   361 op shl *tmp48 :createBlockMaskRow:result 1
-    * ucontrol getBlock x *tmp24 *tmp51 *tmp50 *tmp52
+  362 ucontrol getBlock x *tmp24 0 *tmp50 0
   363 op or :createBlockMaskRow:result *tmp48 *tmp50
   364 op shl *tmp48 :createBlockMaskRow:result 1
   365 op add *tmp49 x -1
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  366 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   367 op or :createBlockMaskRow:result *tmp48 *tmp50
   368 op shl *tmp48 :createBlockMaskRow:result 1
   369 op add *tmp49 x -2
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  370 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   371 op or :createBlockMaskRow:result *tmp48 *tmp50
   372 op shl *tmp48 :createBlockMaskRow:result 1
   373 op add *tmp49 x -3
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  374 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   375 op or :createBlockMaskRow:result *tmp48 *tmp50
   376 op shl *tmp48 :createBlockMaskRow:result 1
   377 op add *tmp49 x -4
-    * ucontrol getBlock *tmp49 *tmp24 *tmp51 *tmp50 *tmp52
+  378 ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0
   379 op or :createBlockMaskRow:result *tmp48 *tmp50
   380 op shl *tmp26 :createAdjacentMask:row1 1
   381 op or *tmp27 :createAdjacentMask:row2 *tmp26

Final code before resolving virtual instructions:

        label *label5                                                test.mnd: require "Matrices.mnd" remote processor1;
    0:  read *tmp10 processor1 "*signature"                          ...
    1:  jump *label5 notEqual *tmp10 "b7c1b9d437eb2566:v1"           ...
    2:  set x 85                                                     test.mnd: param x = 85;
    3:  set y 100                                                    test.mnd: param y = 100;
    4:  ubind @poly                                                  test.mnd: ubind(@poly);
    5:  op add *tmp11 y 5                                            test.mnd: do
        label *label6                                                ...
    6:  ucontrol move x *tmp11 0 0 0                                 test.mnd: move(x, y + 5);
    7:  ucontrol within x *tmp11 2 *tmp13 0                          test.mnd: while !within(x, y + 5, 2);
    8:  jump *label6 equal *tmp13 false                              test.mnd: do
    9:  set :start @tick                                             test.mnd: var start = @tick;
   10:  write @unit processor1 ":createTerrainMask:unit"             test.mnd: async(processor1.createTerrainMask(@unit, x, y));
   11:  write x processor1 ":createTerrainMask:x"                    ...
   12:  write y processor1 ":createTerrainMask:y"                    ...
   13:  write false processor1 ":createTerrainMask*finished"         ...
   14:  write 1 processor1 "@counter"                                ...
   15:  op add *tmp20 y 4                                            test.mnd: var row2 = createBlockMaskRow(x, y + 4);
   16:  op add *tmp49 x 4                                            test.mnd: result = (result << 1) | getBlock(x + c, y);
   17:  ucontrol getBlock *tmp49 *tmp20 0 :createBlockMaskRow:result ...
   18:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   19:  op add *tmp49 x 3                                            ...
   20:  ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0                   ...
   21:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   22:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   23:  op add *tmp49 x 2                                            ...
   24:  ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0                   ...
   25:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   26:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   27:  op add *tmp49 x 1                                            ...
   28:  ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0                   ...
   29:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   30:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   31:  ucontrol getBlock x *tmp20 0 *tmp50 0                        ...
   32:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   33:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   34:  op add *tmp49 x -1                                           ...
   35:  ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0                   ...
   36:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   37:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   38:  op add *tmp49 x -2                                           ...
   39:  ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0                   ...
   40:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   41:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   42:  op add *tmp49 x -3                                           ...
   43:  ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0                   ...
   44:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   45:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   46:  op add *tmp49 x -4                                           ...
   47:  ucontrol getBlock *tmp49 *tmp20 0 *tmp50 0                   ...
   48:  op or :createAdjacentMask:row2 *tmp48 *tmp50                 ...
   49:  op add *tmp22 y 3                                            test.mnd: var row1 = createBlockMaskRow(x, y + 3);
   50:  op add *tmp49 x 4                                            test.mnd: result = (result << 1) | getBlock(x + c, y);
   51:  ucontrol getBlock *tmp49 *tmp22 0 :createBlockMaskRow:result ...
   52:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   53:  op add *tmp49 x 3                                            ...
   54:  ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0                   ...
   55:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   56:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   57:  op add *tmp49 x 2                                            ...
   58:  ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0                   ...
   59:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   60:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   61:  op add *tmp49 x 1                                            ...
   62:  ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0                   ...
   63:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   64:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   65:  ucontrol getBlock x *tmp22 0 *tmp50 0                        ...
   66:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   67:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   68:  op add *tmp49 x -1                                           ...
   69:  ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0                   ...
   70:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   71:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   72:  op add *tmp49 x -2                                           ...
   73:  ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0                   ...
   74:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   75:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   76:  op add *tmp49 x -3                                           ...
   77:  ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0                   ...
   78:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   79:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   80:  op add *tmp49 x -4                                           ...
   81:  ucontrol getBlock *tmp49 *tmp22 0 *tmp50 0                   ...
   82:  op or :createAdjacentMask:row1 *tmp48 *tmp50                 ...
   83:  op add *tmp24 y 2                                            test.mnd: var row0 = createBlockMaskRow(x, y + r);
   84:  op add *tmp49 x 4                                            test.mnd: result = (result << 1) | getBlock(x + c, y);
   85:  ucontrol getBlock *tmp49 *tmp24 0 :createBlockMaskRow:result ...
   86:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   87:  op add *tmp49 x 3                                            ...
   88:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
   89:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   90:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   91:  op add *tmp49 x 2                                            ...
   92:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
   93:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   94:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   95:  op add *tmp49 x 1                                            ...
   96:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
   97:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
   98:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
   99:  ucontrol getBlock x *tmp24 0 *tmp50 0                        ...
  100:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  101:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  102:  op add *tmp49 x -1                                           ...
  103:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  104:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  105:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  106:  op add *tmp49 x -2                                           ...
  107:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  108:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  109:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  110:  op add *tmp49 x -3                                           ...
  111:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  112:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  113:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  114:  op add *tmp49 x -4                                           ...
  115:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  116:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  117:  op shl *tmp26 :createAdjacentMask:row1 1                     test.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  118:  op or *tmp27 :createAdjacentMask:row2 *tmp26                 ...
  119:  op shr *tmp28 :createAdjacentMask:row1 1                     ...
  120:  op or *tmp29 *tmp27 *tmp28                                   ...
  121:  op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:re ...
  122:  op and :createAdjacentMask:result :createAdjacentMask:mask 0 test.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  123:  set :createAdjacentMask:row2 :createAdjacentMask:row1        test.mnd: row2 = row1;
  124:  set :createAdjacentMask:row1 :createBlockMaskRow:result      test.mnd: row1 = row0;
  125:  op add *tmp24 y 1                                            test.mnd: var row0 = createBlockMaskRow(x, y + r);
  126:  op add *tmp49 x 4                                            test.mnd: result = (result << 1) | getBlock(x + c, y);
  127:  ucontrol getBlock *tmp49 *tmp24 0 :createBlockMaskRow:result ...
  128:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  129:  op add *tmp49 x 3                                            ...
  130:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  131:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  132:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  133:  op add *tmp49 x 2                                            ...
  134:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  135:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  136:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  137:  op add *tmp49 x 1                                            ...
  138:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  139:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  140:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  141:  ucontrol getBlock x *tmp24 0 *tmp50 0                        ...
  142:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  143:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  144:  op add *tmp49 x -1                                           ...
  145:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  146:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  147:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  148:  op add *tmp49 x -2                                           ...
  149:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  150:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  151:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  152:  op add *tmp49 x -3                                           ...
  153:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  154:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  155:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  156:  op add *tmp49 x -4                                           ...
  157:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  158:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  159:  op shl *tmp26 :createAdjacentMask:row1 1                     test.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  160:  op or *tmp27 :createAdjacentMask:row2 *tmp26                 ...
  161:  op shr *tmp28 :createAdjacentMask:row1 1                     ...
  162:  op or *tmp29 *tmp27 *tmp28                                   ...
  163:  op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:re ...
  164:  op shl *tmp31 :createAdjacentMask:result 7                   test.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  165:  op and *tmp32 :createAdjacentMask:mask 0xFE                  ...
  166:  op or :createAdjacentMask:result *tmp31 *tmp32               ...
  167:  set :createAdjacentMask:row2 :createAdjacentMask:row1        test.mnd: row2 = row1;
  168:  set :createAdjacentMask:row1 :createBlockMaskRow:result      test.mnd: row1 = row0;
  169:  op add *tmp49 x 4                                            test.mnd: result = (result << 1) | getBlock(x + c, y);
  170:  ucontrol getBlock *tmp49 y 0 :createBlockMaskRow:result 0    ...
  171:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  172:  op add *tmp49 x 3                                            ...
  173:  ucontrol getBlock *tmp49 y 0 *tmp50 0                        ...
  174:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  175:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  176:  op add *tmp49 x 2                                            ...
  177:  ucontrol getBlock *tmp49 y 0 *tmp50 0                        ...
  178:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  179:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  180:  op add *tmp49 x 1                                            ...
  181:  ucontrol getBlock *tmp49 y 0 *tmp50 0                        ...
  182:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  183:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  184:  ucontrol getBlock x y 0 *tmp50 0                             ...
  185:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  186:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  187:  op add *tmp49 x -1                                           ...
  188:  ucontrol getBlock *tmp49 y 0 *tmp50 0                        ...
  189:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  190:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  191:  op add *tmp49 x -2                                           ...
  192:  ucontrol getBlock *tmp49 y 0 *tmp50 0                        ...
  193:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  194:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  195:  op add *tmp49 x -3                                           ...
  196:  ucontrol getBlock *tmp49 y 0 *tmp50 0                        ...
  197:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  198:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  199:  op add *tmp49 x -4                                           ...
  200:  ucontrol getBlock *tmp49 y 0 *tmp50 0                        ...
  201:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  202:  op shl *tmp26 :createAdjacentMask:row1 1                     test.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  203:  op or *tmp27 :createAdjacentMask:row2 *tmp26                 ...
  204:  op shr *tmp28 :createAdjacentMask:row1 1                     ...
  205:  op or *tmp29 *tmp27 *tmp28                                   ...
  206:  op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:re ...
  207:  op shl *tmp31 :createAdjacentMask:result 7                   test.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  208:  op and *tmp32 :createAdjacentMask:mask 0xFE                  ...
  209:  op or :createAdjacentMask:result *tmp31 *tmp32               ...
  210:  set :createAdjacentMask:row2 :createAdjacentMask:row1        test.mnd: row2 = row1;
  211:  set :createAdjacentMask:row1 :createBlockMaskRow:result      test.mnd: row1 = row0;
  212:  op add *tmp24 y -1                                           test.mnd: var row0 = createBlockMaskRow(x, y + r);
  213:  op add *tmp49 x 4                                            test.mnd: result = (result << 1) | getBlock(x + c, y);
  214:  ucontrol getBlock *tmp49 *tmp24 0 :createBlockMaskRow:result ...
  215:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  216:  op add *tmp49 x 3                                            ...
  217:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  218:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  219:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  220:  op add *tmp49 x 2                                            ...
  221:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  222:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  223:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  224:  op add *tmp49 x 1                                            ...
  225:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  226:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  227:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  228:  ucontrol getBlock x *tmp24 0 *tmp50 0                        ...
  229:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  230:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  231:  op add *tmp49 x -1                                           ...
  232:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  233:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  234:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  235:  op add *tmp49 x -2                                           ...
  236:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  237:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  238:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  239:  op add *tmp49 x -3                                           ...
  240:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  241:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  242:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  243:  op add *tmp49 x -4                                           ...
  244:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  245:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  246:  op shl *tmp26 :createAdjacentMask:row1 1                     test.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  247:  op or *tmp27 :createAdjacentMask:row2 *tmp26                 ...
  248:  op shr *tmp28 :createAdjacentMask:row1 1                     ...
  249:  op or *tmp29 *tmp27 *tmp28                                   ...
  250:  op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:re ...
  251:  op shl *tmp31 :createAdjacentMask:result 7                   test.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  252:  op and *tmp32 :createAdjacentMask:mask 0xFE                  ...
  253:  op or :createAdjacentMask:result *tmp31 *tmp32               ...
  254:  set :createAdjacentMask:row2 :createAdjacentMask:row1        test.mnd: row2 = row1;
  255:  set :createAdjacentMask:row1 :createBlockMaskRow:result      test.mnd: row1 = row0;
  256:  op add *tmp24 y -2                                           test.mnd: var row0 = createBlockMaskRow(x, y + r);
  257:  op add *tmp49 x 4                                            test.mnd: result = (result << 1) | getBlock(x + c, y);
  258:  ucontrol getBlock *tmp49 *tmp24 0 :createBlockMaskRow:result ...
  259:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  260:  op add *tmp49 x 3                                            ...
  261:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  262:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  263:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  264:  op add *tmp49 x 2                                            ...
  265:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  266:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  267:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  268:  op add *tmp49 x 1                                            ...
  269:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  270:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  271:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  272:  ucontrol getBlock x *tmp24 0 *tmp50 0                        ...
  273:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  274:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  275:  op add *tmp49 x -1                                           ...
  276:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  277:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  278:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  279:  op add *tmp49 x -2                                           ...
  280:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  281:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  282:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  283:  op add *tmp49 x -3                                           ...
  284:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  285:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  286:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  287:  op add *tmp49 x -4                                           ...
  288:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  289:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  290:  op shl *tmp26 :createAdjacentMask:row1 1                     test.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  291:  op or *tmp27 :createAdjacentMask:row2 *tmp26                 ...
  292:  op shr *tmp28 :createAdjacentMask:row1 1                     ...
  293:  op or *tmp29 *tmp27 *tmp28                                   ...
  294:  op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:re ...
  295:  op shl *tmp31 :createAdjacentMask:result 7                   test.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  296:  op and *tmp32 :createAdjacentMask:mask 0xFE                  ...
  297:  op or :createAdjacentMask:result *tmp31 *tmp32               ...
  298:  set :createAdjacentMask:row2 :createAdjacentMask:row1        test.mnd: row2 = row1;
  299:  set :createAdjacentMask:row1 :createBlockMaskRow:result      test.mnd: row1 = row0;
  300:  op add *tmp24 y -3                                           test.mnd: var row0 = createBlockMaskRow(x, y + r);
  301:  op add *tmp49 x 4                                            test.mnd: result = (result << 1) | getBlock(x + c, y);
  302:  ucontrol getBlock *tmp49 *tmp24 0 :createBlockMaskRow:result ...
  303:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  304:  op add *tmp49 x 3                                            ...
  305:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  306:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  307:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  308:  op add *tmp49 x 2                                            ...
  309:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  310:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  311:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  312:  op add *tmp49 x 1                                            ...
  313:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  314:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  315:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  316:  ucontrol getBlock x *tmp24 0 *tmp50 0                        ...
  317:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  318:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  319:  op add *tmp49 x -1                                           ...
  320:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  321:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  322:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  323:  op add *tmp49 x -2                                           ...
  324:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  325:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  326:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  327:  op add *tmp49 x -3                                           ...
  328:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  329:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  330:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  331:  op add *tmp49 x -4                                           ...
  332:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  333:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  334:  op shl *tmp26 :createAdjacentMask:row1 1                     test.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  335:  op or *tmp27 :createAdjacentMask:row2 *tmp26                 ...
  336:  op shr *tmp28 :createAdjacentMask:row1 1                     ...
  337:  op or *tmp29 *tmp27 *tmp28                                   ...
  338:  op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:re ...
  339:  op shl *tmp31 :createAdjacentMask:result 7                   test.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  340:  op and *tmp32 :createAdjacentMask:mask 0xFE                  ...
  341:  op or :createAdjacentMask:result *tmp31 *tmp32               ...
  342:  set :createAdjacentMask:row2 :createAdjacentMask:row1        test.mnd: row2 = row1;
  343:  set :createAdjacentMask:row1 :createBlockMaskRow:result      test.mnd: row1 = row0;
  344:  op add *tmp24 y -4                                           test.mnd: var row0 = createBlockMaskRow(x, y + r);
  345:  op add *tmp49 x 4                                            test.mnd: result = (result << 1) | getBlock(x + c, y);
  346:  ucontrol getBlock *tmp49 *tmp24 0 :createBlockMaskRow:result ...
  347:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  348:  op add *tmp49 x 3                                            ...
  349:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  350:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  351:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  352:  op add *tmp49 x 2                                            ...
  353:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  354:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  355:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  356:  op add *tmp49 x 1                                            ...
  357:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  358:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  359:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  360:  ucontrol getBlock x *tmp24 0 *tmp50 0                        ...
  361:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  362:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  363:  op add *tmp49 x -1                                           ...
  364:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  365:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  366:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  367:  op add *tmp49 x -2                                           ...
  368:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  369:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  370:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  371:  op add *tmp49 x -3                                           ...
  372:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  373:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  374:  op shl *tmp48 :createBlockMaskRow:result 1                   ...
  375:  op add *tmp49 x -4                                           ...
  376:  ucontrol getBlock *tmp49 *tmp24 0 *tmp50 0                   ...
  377:  op or :createBlockMaskRow:result *tmp48 *tmp50               ...
  378:  op shl *tmp26 :createAdjacentMask:row1 1                     test.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  379:  op or *tmp27 :createAdjacentMask:row2 *tmp26                 ...
  380:  op shr *tmp28 :createAdjacentMask:row1 1                     ...
  381:  op or *tmp29 *tmp27 *tmp28                                   ...
  382:  op or :createAdjacentMask:mask *tmp29 :createBlockMaskRow:re ...
  383:  op shl *tmp31 :createAdjacentMask:result 7                   test.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  384:  op and *tmp32 :createAdjacentMask:mask 0xFE                  ...
  385:  op or :createAdjacentMask:result *tmp31 *tmp32               ...
  386:  op shr *tmp19 :createAdjacentMask:result 1                   test.mnd: result >> 1;
        label *label17                                               test.mnd: var terrainMask = await(processor1.createTerrainMask);
  387:  wait 1e-15                                                   ...
  388:  read *tmp35 processor1 ":createTerrainMask*finished"         ...
  389:  jump *label17 equal *tmp35 false                             ...
  390:  set :finish @tick                                            test.mnd: var finish = @tick;
  391:  draw reset 0 0 0 0 0 0                                       test.mnd: reset();
  392:  draw translate 6 6 0 0 0 0                                   test.mnd: translate(6, 6);
  393:  draw clear 0 0 0 0 0 0                                       test.mnd: clear(0, 0, 0);
  394:  op and *tmp40 *tmp19 4398046511104                           test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  395:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  396:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  397:  draw rect 0 60 8 8 0 0                                       test.mnd: rect(c * 10, r * 10, 8, 8);
  398:  op and *tmp40 *tmp19 8796093022208                           test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  399:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  400:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  401:  draw rect 10 60 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  402:  op and *tmp40 *tmp19 17592186044416                          test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  403:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  404:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  405:  draw rect 20 60 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  406:  op and *tmp40 *tmp19 35184372088832                          test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  407:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  408:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  409:  draw rect 30 60 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  410:  op and *tmp40 *tmp19 70368744177664                          test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  411:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  412:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  413:  draw rect 40 60 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  414:  op and *tmp40 *tmp19 140737488355328                         test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  415:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  416:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  417:  draw rect 50 60 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  418:  op and *tmp40 *tmp19 281474976710656                         test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  419:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  420:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  421:  draw rect 60 60 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  422:  op and *tmp40 *tmp19 34359738368                             test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  423:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  424:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  425:  draw rect 0 50 8 8 0 0                                       test.mnd: rect(c * 10, r * 10, 8, 8);
  426:  op and *tmp40 *tmp19 68719476736                             test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  427:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  428:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  429:  draw rect 10 50 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  430:  op and *tmp40 *tmp19 137438953472                            test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  431:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  432:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  433:  draw rect 20 50 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  434:  op and *tmp40 *tmp19 274877906944                            test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  435:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  436:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  437:  draw rect 30 50 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  438:  op and *tmp40 *tmp19 549755813888                            test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  439:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  440:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  441:  draw rect 40 50 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  442:  op and *tmp40 *tmp19 1099511627776                           test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  443:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  444:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  445:  draw rect 50 50 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  446:  op and *tmp40 *tmp19 2199023255552                           test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  447:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  448:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  449:  draw rect 60 50 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  450:  op and *tmp40 *tmp19 268435456                               test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  451:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  452:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  453:  draw rect 0 40 8 8 0 0                                       test.mnd: rect(c * 10, r * 10, 8, 8);
  454:  op and *tmp40 *tmp19 536870912                               test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  455:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  456:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  457:  draw rect 10 40 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  458:  op and *tmp40 *tmp19 1073741824                              test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  459:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  460:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  461:  draw rect 20 40 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  462:  op and *tmp40 *tmp19 2147483648                              test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  463:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  464:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  465:  draw rect 30 40 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  466:  op and *tmp40 *tmp19 4294967296                              test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  467:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  468:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  469:  draw rect 40 40 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  470:  op and *tmp40 *tmp19 8589934592                              test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  471:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  472:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  473:  draw rect 50 40 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  474:  op and *tmp40 *tmp19 17179869184                             test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  475:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  476:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  477:  draw rect 60 40 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  478:  op and *tmp40 *tmp19 2097152                                 test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  479:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  480:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  481:  draw rect 0 30 8 8 0 0                                       test.mnd: rect(c * 10, r * 10, 8, 8);
  482:  op and *tmp40 *tmp19 4194304                                 test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  483:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  484:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  485:  draw rect 10 30 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  486:  op and *tmp40 *tmp19 8388608                                 test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  487:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  488:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  489:  draw rect 20 30 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  490:  op and *tmp40 *tmp19 16777216                                test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  491:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  492:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  493:  draw rect 30 30 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  494:  op and *tmp40 *tmp19 33554432                                test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  495:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  496:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  497:  draw rect 40 30 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  498:  op and *tmp40 *tmp19 67108864                                test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  499:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  500:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  501:  draw rect 50 30 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  502:  op and *tmp40 *tmp19 134217728                               test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  503:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  504:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  505:  draw rect 60 30 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  506:  op and *tmp40 *tmp19 16384                                   test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  507:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  508:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  509:  draw rect 0 20 8 8 0 0                                       test.mnd: rect(c * 10, r * 10, 8, 8);
  510:  op and *tmp40 *tmp19 32768                                   test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  511:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  512:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  513:  draw rect 10 20 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  514:  op and *tmp40 *tmp19 65536                                   test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  515:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  516:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  517:  draw rect 20 20 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  518:  op and *tmp40 *tmp19 131072                                  test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  519:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  520:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  521:  draw rect 30 20 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  522:  op and *tmp40 *tmp19 262144                                  test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  523:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  524:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  525:  draw rect 40 20 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  526:  op and *tmp40 *tmp19 524288                                  test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  527:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  528:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  529:  draw rect 50 20 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  530:  op and *tmp40 *tmp19 1048576                                 test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  531:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  532:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  533:  draw rect 60 20 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  534:  op and *tmp40 *tmp19 128                                     test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  535:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  536:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  537:  draw rect 0 10 8 8 0 0                                       test.mnd: rect(c * 10, r * 10, 8, 8);
  538:  op and *tmp40 *tmp19 256                                     test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  539:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  540:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  541:  draw rect 10 10 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  542:  op and *tmp40 *tmp19 512                                     test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  543:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  544:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  545:  draw rect 20 10 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  546:  op and *tmp40 *tmp19 1024                                    test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  547:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  548:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  549:  draw rect 30 10 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  550:  op and *tmp40 *tmp19 2048                                    test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  551:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  552:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  553:  draw rect 40 10 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  554:  op and *tmp40 *tmp19 4096                                    test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  555:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  556:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  557:  draw rect 50 10 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  558:  op and *tmp40 *tmp19 8192                                    test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  559:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  560:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  561:  draw rect 60 10 8 8 0 0                                      test.mnd: rect(c * 10, r * 10, 8, 8);
  562:  op and *tmp40 *tmp19 1                                       test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  563:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  564:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  565:  draw rect 0 0 8 8 0 0                                        test.mnd: rect(c * 10, r * 10, 8, 8);
  566:  op and *tmp40 *tmp19 2                                       test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  567:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  568:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  569:  draw rect 10 0 8 8 0 0                                       test.mnd: rect(c * 10, r * 10, 8, 8);
  570:  op and *tmp40 *tmp19 4                                       test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  571:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  572:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  573:  draw rect 20 0 8 8 0 0                                       test.mnd: rect(c * 10, r * 10, 8, 8);
  574:  op and *tmp40 *tmp19 8                                       test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  575:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  576:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  577:  draw rect 30 0 8 8 0 0                                       test.mnd: rect(c * 10, r * 10, 8, 8);
  578:  op and *tmp40 *tmp19 16                                      test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  579:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  580:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  581:  draw rect 40 0 8 8 0 0                                       test.mnd: rect(c * 10, r * 10, 8, 8);
  582:  op and *tmp40 *tmp19 32                                      test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  583:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  584:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  585:  draw rect 50 0 8 8 0 0                                       test.mnd: rect(c * 10, r * 10, 8, 8);
  586:  op and *tmp40 *tmp19 64                                      test.mnd: var color = mask & (1 << (7 * r + c)) ? %[red] : %[green];
  587:  select *tmp41 notEqual *tmp40 false %[red] %[green]          ...
  588:  draw col *tmp41 0 0 0 0 0                                    test.mnd: col(color);
  589:  draw rect 60 0 8 8 0 0                                       test.mnd: rect(c * 10, r * 10, 8, 8);
  590:  drawflush display1                                           test.mnd: drawflush(display1);
  591:  print *tmp19                                                 test.mnd: println(m);
  592:  print "\n"                                                   ...
  593:  op sub *tmp44 :finish :start                                 test.mnd: print(round(1000 * (finish - start) / 60));
  594:  op div *tmp46 *tmp44 0.06                                    ...
  595:  op round *tmp47 *tmp46 0                                     ...
  596:  print *tmp47                                                 ...
  597:  printflush message1                                          test.mnd: #set target = 8;


Code size and number of instantiations by function:
  Size  Times  AvgSize  Function
   297     9x     33,0  def createBlockMaskRow(in x, in y)
   200     1x    200,0  void drawMask(in mask)
    75     1x     75,0  def createAdjacentMask(in x, in y)
    18     1x     18,0  <no function>
     8     1x      8,0  def createCombinedMask(in x, in y)

Performance: parsed in 342 ms, compiled in 252 ms, optimized in 471 ms, run in 15 ms.
Error connecting to Mlog Watcher: Connection refused: connect
  - make sure Mindustry with active Mlog Watcher mod is running
  - verify Mlog Watcher listens on port 9992

Program output (1 steps):
The program didn't generate any output.
Execution exception at instruction 0: read *tmp10 processor1 "*signature":
Variable 'processor1' is not an object.
(Use the '#set err-not-an-object = false;' directive or the '--err-not-an-object false' command line option to ignore this exception.)
