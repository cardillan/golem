   990 instructions before optimizations.
   101 instructions eliminated by Temp Variables Elimination (2 passes, 7 iterations).
    77 instructions eliminated by Dead Code Elimination (6 iterations).
    11 instructions eliminated by Jump Normalization (2 passes, 6 iterations).
    46 instructions eliminated by Condition Optimization (7 iterations).
    58 instructions eliminated by Single Step Elimination (3 passes, 9 iterations).
    12 instructions modified by Expression Optimization (4 iterations).
     1 instructions eliminated by Boolean Optimization (7 iterations).
       1 fully-evaluated expressions optimized using selects.
     2 instructions modified by If Expression Optimization (4 iterations).
   209 instructions eliminated by Data Flow Optimization (15 passes, 52 iterations).
     1 loops improved by Loop Hoisting.
     4 instructions added by Loop Rotation (4 iterations).
       11 loop conditions were partially rotated.
   258 instructions added by Loop Unrolling (20 iterations).
     7 loops unrolled by Loop Unrolling.
   189 instructions added by Function Inlining (20 iterations).
     9 function calls inlined by Function Inlining.
    13 instructions eliminated by Jump Straightening (2 passes, 8 iterations).
     5 instructions updated by Jump Threading.
     9 instructions eliminated by Unreachable Code Elimination (2 iterations).
   916 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 374):
    Full loop rotation at OreLocator.mnd:43:5                    size    +1, benefit       26.0, efficiency     26.000
  * Full loop rotation at OreLocator.mnd:43:5                    size    +1, benefit    16250.0, efficiency  16250.000 (+1 instructions)
    Full loop rotation at OreLocator.mnd:43:5                    size    +1, benefit      650.0, efficiency    650.000
    Full loop rotation at OreLocator.mnd:43:5                    size    +1, benefit       26.0, efficiency     26.000
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size   +19, benefit     2808.0, efficiency    147.789
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +53, benefit      104.0, efficiency      1.962
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:489:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:492:20                size   +10, benefit     2600.0, efficiency    260.000
    Inline function call at OreLocator.mnd:524:28                size   +54, benefit        4.0, efficiency      0.074
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size   +54, benefit      100.0, efficiency      1.852
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 373):
    Full loop rotation at OreLocator.mnd:43:5                    size    +1, benefit       26.0, efficiency     26.000
  * Full loop rotation at OreLocator.mnd:43:5                    size    +1, benefit      650.0, efficiency    650.000 (+1 instructions)
    Full loop rotation at OreLocator.mnd:43:5                    size    +1, benefit       26.0, efficiency     26.000
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size   +19, benefit     2808.0, efficiency    147.789
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +53, benefit      104.0, efficiency      1.962
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:489:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:492:20                size   +10, benefit     2600.0, efficiency    260.000
    Inline function call at OreLocator.mnd:524:28                size   +54, benefit        4.0, efficiency      0.074
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size   +54, benefit      100.0, efficiency      1.852
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 372):
    Full loop rotation at OreLocator.mnd:43:5                    size    +1, benefit       26.0, efficiency     26.000
    Full loop rotation at OreLocator.mnd:43:5                    size    +1, benefit       26.0, efficiency     26.000
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size   +19, benefit     2808.0, efficiency    147.789
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +53, benefit      104.0, efficiency      1.962
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:489:16                size   +10, benefit      104.0, efficiency     10.400
  * Inline function call at OreLocator.mnd:492:20                size   +10, benefit     2600.0, efficiency    260.000 (+9 instructions)
    Inline function call at OreLocator.mnd:524:28                size   +54, benefit        4.0, efficiency      0.074
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size   +54, benefit      100.0, efficiency      1.852
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 363):
  * Full loop rotation at OreLocator.mnd:43:5                    size    +1, benefit       26.0, efficiency     26.000 (+1 instructions)
    Full loop rotation at OreLocator.mnd:43:5                    size    +1, benefit       26.0, efficiency     26.000
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size    +9, benefit      208.0, efficiency     23.111
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +62, benefit      104.0, efficiency      1.677
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:489:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:524:28                size   +63, benefit        4.0, efficiency      0.063
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size   +63, benefit      100.0, efficiency      1.587
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 362):
  * Full loop rotation at OreLocator.mnd:43:5                    size    +1, benefit       26.0, efficiency     26.000 (+1 instructions)
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size    +9, benefit      208.0, efficiency     23.111
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +62, benefit      104.0, efficiency      1.677
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:489:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:524:28                size   +63, benefit        4.0, efficiency      0.063
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size   +63, benefit      100.0, efficiency      1.587
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 361):
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
  * Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size    +9, benefit      208.0, efficiency     23.111 (-6 instructions)
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +62, benefit      104.0, efficiency      1.677
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:489:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:524:28                size   +63, benefit        4.0, efficiency      0.063
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size   +63, benefit      100.0, efficiency      1.587
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 367):
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
  * Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577 (+16 instructions)
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +69, benefit      104.0, efficiency      1.507
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:524:28                size   +70, benefit        4.0, efficiency      0.057
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size   +70, benefit      100.0, efficiency      1.429
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 351):
    Unroll iteration loop at OreLocator.mnd:613:5                size  +173, benefit       19.0, efficiency      0.110
  * Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554 (+88 instructions)
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +69, benefit      104.0, efficiency      1.507
    Inline function call at OreLocator.mnd:524:28                size   +70, benefit        4.0, efficiency      0.057
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size   +70, benefit      100.0, efficiency      1.429
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 263):
  ! Unroll iteration loop at OreLocator.mnd:613:5                size  +541, benefit       19.0, efficiency      0.035
  * Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +69, benefit      104.0, efficiency      1.507 (+63 instructions)
    Inline function call at OreLocator.mnd:524:28                size   +70, benefit        4.0, efficiency      0.057
    Inline function call at OreLocator.mnd:619:30                size   +70, benefit      100.0, efficiency      1.429

Pass 2: speed optimization selection (cost limit 228):
    Unroll loop at OreLocator.mnd:356:5                          size   +17, benefit     3900.0, efficiency    229.412
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:491:5                          size  +111, benefit      350.0, efficiency      3.153
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit    11250.0, efficiency    387.931
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit    11250.0, efficiency    387.931
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit    11250.0, efficiency    387.931
    Unroll loop at OreLocator.mnd:491:5                          size  +111, benefit     8750.0, efficiency     78.829
  * Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit   281250.0, efficiency   9698.276 (+28 instructions)

Pass 2: speed optimization selection (cost limit 200):
    Unroll loop at OreLocator.mnd:356:5                          size   +17, benefit     3900.0, efficiency    229.412
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:491:5                          size  +111, benefit      350.0, efficiency      3.153
  * Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit    11250.0, efficiency    387.931 (+28 instructions)
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit    11250.0, efficiency    387.931
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit    11250.0, efficiency    387.931
  ! Unroll loop at OreLocator.mnd:491:5                          size  +279, benefit     8750.0, efficiency     31.362

Pass 2: speed optimization selection (cost limit 172):
    Unroll loop at OreLocator.mnd:356:5                          size   +17, benefit     3900.0, efficiency    229.412
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit      450.0, efficiency     15.517
  ! Unroll loop at OreLocator.mnd:491:5                          size  +279, benefit      350.0, efficiency      1.254
  * Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit    11250.0, efficiency    387.931 (+26 instructions)
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit    11250.0, efficiency    387.931
  ! Unroll loop at OreLocator.mnd:491:5                          size  +279, benefit     8750.0, efficiency     31.362

Pass 2: speed optimization selection (cost limit 146):
    Unroll loop at OreLocator.mnd:356:5                          size   +17, benefit     3900.0, efficiency    229.412
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit      450.0, efficiency     15.517
  ! Unroll loop at OreLocator.mnd:491:5                          size  +279, benefit      350.0, efficiency      1.254
  * Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit    11250.0, efficiency    387.931 (+28 instructions)
  ! Unroll loop at OreLocator.mnd:491:5                          size  +279, benefit     8750.0, efficiency     31.362

Pass 2: speed optimization selection (cost limit 118):
  * Unroll loop at OreLocator.mnd:356:5                          size   +17, benefit     3900.0, efficiency    229.412 (+17 instructions)
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit      450.0, efficiency     15.517
  ! Unroll loop at OreLocator.mnd:491:5                          size  +279, benefit      350.0, efficiency      1.254
  ! Unroll loop at OreLocator.mnd:491:5                          size  +279, benefit     8750.0, efficiency     31.362

Pass 2: speed optimization selection (cost limit 101):
  * Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit      450.0, efficiency     15.517 (+26 instructions)
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit      450.0, efficiency     15.517
  ! Unroll loop at OreLocator.mnd:491:5                          size  +279, benefit      350.0, efficiency      1.254
  ! Unroll loop at OreLocator.mnd:491:5                          size  +279, benefit     8750.0, efficiency     31.362

Pass 2: speed optimization selection (cost limit 75):
  * Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit      450.0, efficiency     15.517 (+24 instructions)
  ! Unroll loop at OreLocator.mnd:491:5                          size  +279, benefit      350.0, efficiency      1.254
  ! Unroll loop at OreLocator.mnd:491:5                          size  +279, benefit     8750.0, efficiency     31.362

Pass 2: speed optimization selection (cost limit 51):
  ! Unroll loop at OreLocator.mnd:491:5                          size  +273, benefit      350.0, efficiency      1.282
  ! Unroll loop at OreLocator.mnd:491:5                          size  +273, benefit     8750.0, efficiency     32.051

Pass 3: speed optimization selection (cost limit 64):
  ! Unroll loop at OreLocator.mnd:491:5                          size  +261, benefit      350.0, efficiency      1.341
  ! Unroll loop at OreLocator.mnd:491:5                          size  +261, benefit     8750.0, efficiency     33.525

Pass 4: speed optimization selection (cost limit 64):
  ! Unroll loop at OreLocator.mnd:491:5                          size  +261, benefit      350.0, efficiency      1.341
  ! Unroll loop at OreLocator.mnd:491:5                          size  +261, benefit     8750.0, efficiency     33.525

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-68 instructions):
 
   135 jump *label44 equal *tmp56 false
   136 set *tmp28 false
   137 jump *label34 always
-    * set *tmp57 null
   138 jump *label45 always
   139 label *label44
-    * set *tmp57 null
   140 label *label45
   141 op sub *tmp58 :locateOreAway:x .coreX
   142 op abs *tmp59 *tmp58
 
   158 label *label48
   159 set *tmp69 null
   160 label *label49
-    * set *tmp67 *tmp69
   161 jump *label47 always
   162 label *label46
-    * set *tmp67 null
   163 label *label47
   164 op greaterThanEq *tmp70 :locateOreAway:coreDist 8
   165 jump *label50 equal *tmp70 false
 
   190 jump *label60 equal *tmp88 false
   191 set *tmp74 true
   192 jump *label56 always
-    * set *tmp89 null
   193 jump *label61 always
   194 label *label60
-    * set *tmp89 null
   195 label *label61
   196 label *label58
   197 op add :visited:i :visited:i 1
 
   220 label *label52
   221 set *tmp73 null
   222 label *label53
-    * set *tmp71 *tmp73
   223 jump *label51 always
   224 label *label50
-    * set *tmp71 null
   225 label *label51
   226 label *label36
   227 jump *label35 always
 
   238 op greaterThan *tmp96 :findDrillLocation:capacity 0
   239 set :findDrillLocation*retval *tmp96
   240 jump *label23 always
-    * set *tmp95 null
   241 jump *label33 always
   242 label *label32
-    * set *tmp95 null
   243 label *label33
   244 op greaterThanEq *tmp97 :findDrillLocation:limit 1000
   245 jump *label62 equal *tmp97 false
   246 set *tmp99 .mapSpots
   247 op add .mapSpots .mapSpots 1
-    * set *tmp98 *tmp99
   248 jump *label63 always
   249 label *label62
-    * set *tmp98 null
   250 label *label63
   251 set :moveTo.3:x :findDrillLocation:oreX
   252 set :moveTo.3:y :findDrillLocation:oreY
 
   299 op lessThanEq *tmp124 :findDrillLocation:coreDist 8
   300 jump *label73 equal *tmp124 false
   301 jump *label71 always
-    * set *tmp125 null
   302 jump *label74 always
   303 label *label73
-    * set *tmp125 null
   304 label *label74
   305 op greaterThan *tmp126 :findDrillLocation:score :findDrillLocation:capacity
   306 jump *label75 equal *tmp126 false
 
   310 op lessThan *tmp128 :findDrillLocation:limit 1000
   311 jump *label77 equal *tmp128 false
   312 set .mapSpots :findDrillLocation:score
-    * set *tmp129 :findDrillLocation:score
   313 jump *label78 always
   314 label *label77
-    * set *tmp129 null
   315 label *label78
   316 op greaterThanEq *tmp130 :findDrillLocation:capacity :findDrillLocation:limit
   317 jump *label79 equal *tmp130 false
 
   332 op add .count .count 1
   333 set *tmp139 .count
   334 write :saveLocation:y bank1 *tmp139
-    * set *tmp141 .locations
   335 op add .locations .locations 1
   336 label *label81
   337 ucontrol unbind
 
   343 label *label79
   344 set *tmp131 null
   345 label *label80
-    * set *tmp127 *tmp131
   346 jump *label76 always
   347 label *label75
-    * set *tmp127 null
   348 label *label76
   349 op greaterThan *tmp142 :findDrillLocation:score :findDrillLocation:best
   350 jump *label82 equal *tmp142 false
   351 set :findDrillLocation:bestX :findDrillLocation:newX
   352 set :findDrillLocation:bestY :findDrillLocation:newY
   353 set :findDrillLocation:best :findDrillLocation:score
-    * set *tmp143 :findDrillLocation:best
   354 jump *label83 always
   355 label *label82
-    * set *tmp143 null
   356 label *label83
   357 op lessThanEq *tmp144 :findDrillLocation:score :findDrillLocation:last
   358 jump *label84 equal *tmp144 false
   359 jump *label71 always
-    * set *tmp145 null
   360 jump *label85 always
   361 label *label84
-    * set *tmp145 null
   362 label *label85
   363 set :findDrillLocation:last :findDrillLocation:score
   364 op mul *tmp146 :findDrillLocation:diffX 1.1
 
   397 op add .count .count 1
   398 set *tmp163 .count
   399 write :saveLocation.1:y bank1 *tmp163
-    * set *tmp165 .locations
   400 op add .locations .locations 1
   401 label *label90
-    * set *tmp155 null
   402 jump *label89 always
   403 label *label88
-    * set *tmp155 null
   404 label *label89
   405 label *label30
   406 jump *label29 always
 
   423 label *label94
   424 set :shiftMask*retval 0
   425 jump *label91 always
-    * set *tmp170 null
   426 jump *label93 always
   427 label *label92
-    * set *tmp170 null
   428 label *label93
   429 op mul *tmp171 7 :shiftMask:shiftY
   430 op add *tmp172 :shiftMask:shiftX *tmp171
 
   436 op and *tmp176 :shiftMask:mask :shiftMask:clearMask
   437 op shl *tmp177 *tmp176 :shiftMask:shift
   438 set :shiftMask:mask *tmp177
-    * set *tmp174 :shiftMask:mask
   439 jump *label97 always
   440 label *label96
   441 op sub *tmp178 0 :shiftMask:shift
   442 op shr :shiftMask:mask :shiftMask:mask *tmp178
-    * set *tmp174 :shiftMask:mask
   443 label *label97
   444 op notEqual *tmp179 :shiftMask:shiftX 0
   445 jump *label98 equal *tmp179 false
 
   449 op greaterThan *tmp183 :shiftMask:shiftX 0
   450 jump *label100 equal *tmp183 false
   451 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
-    * set *tmp184 :shiftMask:keep
   452 jump *label101 always
   453 label *label100
-    * set *tmp184 null
   454 label *label101
   455 op shl *tmp185 :shiftMask:keep 7
   456 op or :shiftMask:keep :shiftMask:keep *tmp185
 
   459 op shl *tmp187 :shiftMask:keep 21
   460 op or :shiftMask:keep :shiftMask:keep *tmp187
   461 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
-    * set *tmp180 :shiftMask:mask
   462 jump *label99 always
   463 label *label98
-    * set *tmp180 null
   464 label *label99
   465 set :shiftMask*retval :shiftMask:mask
   466 jump *label91 always
 
   506 op greaterThanEq *tmp208 :createMatrixOfSize:i :createMatrixOfSize:height
   507 jump *label111 equal *tmp208 false
   508 jump *label110 always
-    * set *tmp209 null
   509 jump *label112 always
   510 label *label111
-    * set *tmp209 null
   511 label *label112
   512 op shl *tmp210 :createMatrixOfSize:matrix 7
   513 op or *tmp211 *tmp210 :createMatrixOfSize:row
 
   569 op add *tmp227 *tmp226 :findPossiblePlacement:x
   570 set :findPossiblePlacement*retval *tmp227
   571 jump *label114 always
-    * set *tmp224 null
   572 jump *label122 always
   573 label *label121
-    * set *tmp224 null
   574 label *label122
   575 op sub *tmp228 3 :findPossiblePlacement:width
   576 op greaterThan *tmp229 :findPossiblePlacement:x *tmp228
   577 jump *label123 equal *tmp229 false
   578 jump *label120 always
-    * set *tmp230 null
   579 jump *label124 always
   580 label *label123
-    * set *tmp230 null
   581 label *label124
   582 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
   583 label *label119
 
   588 op greaterThan *tmp232 :findPossiblePlacement:y *tmp231
   589 jump *label125 equal *tmp232 false
   590 jump *label117 always
-    * set *tmp233 null
   591 jump *label126 always
   592 label *label125
-    * set *tmp233 null
   593 label *label126
   594 label *label116
   595 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
 
   619 jump *label131 equal *tmp237 false
   620 set :tryPlaceGenerator*retval false
   621 jump *label127 always
-    * set *tmp238 null
   622 jump *label132 always
   623 label *label131
-    * set *tmp238 null
   624 label *label132
   625 op add *tmp239 :tryPlaceGenerator:centerX 0.5
   626 op add *tmp240 *tmp239 :tryPlaceGenerator:c
 
   636 set .generatorY *tmp246
   637 op shl *tmp247 :tryPlaceGenerator:generatorVertical :tryPlaceGenerator:shift
   638 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp247
-    * set *tmp236 :tryPlaceGenerator:terrainMask
   639 jump *label130 always
   640 label *label129
   641 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
 
   653 jump *label134 equal *tmp249 false
   654 set :tryPlaceGenerator*retval false
   655 jump *label127 always
-    * set *tmp250 null
   656 jump *label135 always
   657 label *label134
-    * set *tmp250 null
   658 label *label135
   659 op add *tmp251 :tryPlaceGenerator:centerX 0.5
   660 op add *tmp252 *tmp251 :tryPlaceGenerator:c
 
   670 set .generatorY *tmp258
   671 op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :tryPlaceGenerator:shift
   672 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
-    * set *tmp236 :tryPlaceGenerator:terrainMask
   673 label *label130
   674 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask 437639987601635
   675 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
 
   687 jump *label137 equal *tmp261 false
   688 set :tryPlaceGenerator*retval false
   689 jump *label127 always
-    * set *tmp262 null
   690 jump *label138 always
   691 label *label137
-    * set *tmp262 null
   692 label *label138
   693 op add *tmp263 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
   694 set .panelX *tmp263
 
   711 jump *label140 equal *tmp267 false
   712 set :tryPlaceGenerator*retval false
   713 jump *label127 always
-    * set *tmp268 null
   714 jump *label141 always
   715 label *label140
-    * set *tmp268 null
   716 label *label141
   717 op add *tmp269 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
   718 set .batteryX *tmp269
 
   762 jump *label149 equal *tmp290 false
   763 set :tryPlaceGenerator*retval false
   764 jump *label127 always
-    * set *tmp291 null
   765 jump *label150 always
   766 label *label149
-    * set *tmp291 null
   767 label *label150
   768 op add *tmp292 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
   769 set .node2X *tmp292
 
   771 set .node2Y *tmp293
   772 op shl *tmp294 1 :tryPlaceGenerator:shift
   773 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp294
-    * set *tmp288 :tryPlaceGenerator:terrainMask
   774 jump *label143 always
   775 label *label142
-    * set *tmp288 null
   776 label *label143
   777 set :tryPlaceGenerator*retval true
   778 jump *label127 always
 
   936 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp337
   937 op shl *tmp338 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   938 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp338
-    * set *tmp332 :layoutThoriumDrillAtLocation:cornersMask
   939 jump *label173 always
   940 label *label172
-    * set *tmp332 null
   941 label *label173
   942 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
   943 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
 
   960 set .containerY *tmp345
   961 op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   962 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp346
-    * set *tmp341 :layoutThoriumDrillAtLocation:terrainMask
   963 jump *label176 always
   964 label *label175
-    * set *tmp341 null
   965 label *label176
   966 op or *tmp347 :layoutThoriumDrillAtLocation:terrainMask 437639987601635
   967 set :layoutThoriumDrillAtLocation:nodeMask *tmp347
 
   980 jump *label178 equal *tmp349 false
   981 set :layoutThoriumDrillAtLocation*retval false
   982 jump *label165 always
-    * set *tmp350 null
   983 jump *label179 always
   984 label *label178
-    * set *tmp350 null
   985 label *label179
   986 op add *tmp351 .drillX :layoutThoriumDrillAtLocation:c
   987 set .node1X *tmp351
 
  1003 jump *label180 equal *tmp354 false
  1004 set :layoutThoriumDrillAtLocation*retval true
  1005 jump *label165 always
-    * set *tmp355 null
  1006 jump *label181 always
  1007 label *label180
-    * set *tmp355 null
  1008 label *label181
  1009 set :layoutThoriumDrillAtLocation:sx 3
  1010 set :layoutThoriumDrillAtLocation:sy 3
 
  1060 jump *label192 equal *tmp364 false
  1061 set :layoutThoriumDrillAtLocation*retval true
  1062 jump *label165 always
-    * set *tmp365 null
  1063 jump *label193 always
  1064 label *label192
-    * set *tmp365 null
  1065 label *label193
  1066 label *label184
  1067 multijump *tmp356 0 0 (m:marker0)
 
  1090 jump *label196 equal *tmp366 false
  1091 set :layoutThoriumDrill*retval false
  1092 jump *label195 always
-    * set *tmp367 null
  1093 jump *label197 always
  1094 label *label196
-    * set *tmp367 null
  1095 label *label197
  1096 setaddr :layoutThoriumDrillAtLocation*retaddr *label199 (h:*label199)
  1097 call *label19 *invalid :layoutThoriumDrillAtLocation*retval (m:*label199) (h:*label199)

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-7 instructions):
 
   153 op equal *tmp68 :locateOreAway:lastY :locateOreAway:y
   154 jump *label48 equal *tmp68 false
   155 jump *label36 always
-    * set *tmp69 null
   156 jump *label49 always
   157 label *label48
-    * set *tmp69 null
   158 label *label49
   159 jump *label47 always
   160 label *label46
 
   213 label *label54
   214 set *tmp91 null
   215 label *label55
-    * set *tmp73 *tmp91
   216 jump *label53 always
   217 label *label52
-    * set *tmp73 null
   218 label *label53
   219 jump *label51 always
   220 label *label50
 
   239 label *label33
   240 op greaterThanEq *tmp97 :findDrillLocation:limit 1000
   241 jump *label62 equal *tmp97 false
-    * set *tmp99 .mapSpots
   242 op add .mapSpots .mapSpots 1
   243 jump *label63 always
   244 label *label62
 
   333 set .searchFinished true
   334 set :findDrillLocation*retval true
   335 jump *label23 always
-    * set *tmp131 null
   336 jump *label80 always
   337 label *label79
-    * set *tmp131 null
   338 label *label80
   339 jump *label76 always
   340 label *label75

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-2 instructions):
 
   208 printflush message1
   209 set *tmp28 true
   210 jump *label34 always
-    * set *tmp91 null
   211 jump *label55 always
   212 label *label54
-    * set *tmp91 null
   213 label *label55
   214 jump *label53 always
   215 label *label52

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-101 instructions):
 
    18 label *label5
    19 set .searchFinished false
    20 ubind :findDrillLocation:unit
-    * set *tmp12 .locations
-    * set .locationsStart *tmp12
+   21 set .locationsStart .locations
    22 set .coreX :findDrillLocation:x
    23 set .coreY :findDrillLocation:y
    24 set :findDrillLocation:capacity 0
 
    52 label *label25
    53 label *label24
    54 op div *tmp21 :findDrillLocation:distanceLimit 3.8197185279121366
-    * op pow *tmp22 *tmp21 2
-    * set .mapTotal *tmp22
+   55 op pow .mapTotal *tmp21 2
    56 set :findDrillLocation:oreX 0
    57 set :findDrillLocation:oreY 0
    58 label *label29
 
    61 set :findDrillLocation:bestX :findDrillLocation:x
    62 set :findDrillLocation:bestY :findDrillLocation:y
    63 op sub *tmp23 :findDrillLocation:limit :findDrillLocation:capacity
-    * op mul *tmp24 *tmp23 .attenuationRate
-    * set :findDrillLocation:maxDistance *tmp24
-    * op min *tmp25 :findDrillLocation:distanceLimit :findDrillLocation:maxDistance
-    * set :findDrillLocation:distanceLimit *tmp25
+   64 op mul :findDrillLocation:maxDistance *tmp23 .attenuationRate
+   65 op min :findDrillLocation:distanceLimit :findDrillLocation:distanceLimit :findDrillLocation:maxDistance
    66 op div *tmp26 :findDrillLocation:distanceLimit 3.8197185279121366
-    * op pow *tmp27 *tmp26 2
-    * set .mapTotal *tmp27
+   67 op pow .mapTotal *tmp26 2
    68 set :locateOreAway:ore :findDrillLocation:item
    69 set :locateOreAway:x :findDrillLocation:oreX
    70 set :locateOreAway:y :findDrillLocation:oreY
    71 set :locateOreAway:distanceLimit :findDrillLocation:distanceLimit
-    * op mul *tmp29 3.8197185279121366 .angle
-    * set :locateOreAway:distance *tmp29
+   72 op mul :locateOreAway:distance 3.8197185279121366 .angle
    73 set :locateOreAway:lastX -1
    74 set :locateOreAway:lastY -1
-    * op max *tmp30 .angle @pi
-    * set .angle *tmp30
-    * op mul *tmp31 .angle .angle
-    * set .mapProgress *tmp31
+   75 op max .angle .angle @pi
+   76 op mul .mapProgress .angle .angle
    77 label *label35
    78 op lessThan *tmp32 :locateOreAway:distance :locateOreAway:distanceLimit
    79 jump *label37 equal *tmp32 false
-    * op div *tmp33 .angle @degToRad
-    * set :locateOreAway:a *tmp33
+   80 op div :locateOreAway:a .angle @degToRad
    81 op sin *tmp34 :locateOreAway:a
    82 op mul *tmp35 *tmp34 :locateOreAway:distance
    83 op add *tmp36 .coreX *tmp35
 
    86 set :limit:low 5
    87 set :limit:high *tmp37
    88 op max *tmp39 :limit:value :limit:low
-    * op min *tmp40 *tmp39 :limit:high
-    * set *tmp38 *tmp40
+   89 op min *tmp38 *tmp39 :limit:high
    90 label *label38
    91 set :locateOreAway:lx *tmp38
    92 op cos *tmp41 :locateOreAway:a
 
    97 set :limit.1:low 5
    98 set :limit.1:high *tmp44
    99 op max *tmp46 :limit.1:value :limit.1:low
-    * op min *tmp47 *tmp46 :limit.1:high
-    * set *tmp45 *tmp47
+  100 op min *tmp45 *tmp46 :limit.1:high
   101 label *label39
   102 set :locateOreAway:ly *tmp45
   103 set :moveTo.2:x :locateOreAway:lx
 
   115 label *label40
   116 op div *tmp51 3.8197185279121366 :locateOreAway:distance
   117 op add .angle .angle *tmp51
-    * op mul *tmp52 .angle .angle
-    * set .mapProgress *tmp52
-    * op mul *tmp53 3.8197185279121366 .angle
-    * set :locateOreAway:distance *tmp53
+  118 op mul .mapProgress .angle .angle
+  119 op mul :locateOreAway:distance 3.8197185279121366 .angle
   120 ulocate ore core true :locateOreAway:ore :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
   121 op equal *tmp56 *tmp54 false
   122 jump *label44 equal *tmp56 false
 
   129 op abs *tmp59 *tmp58
   130 op sub *tmp60 :locateOreAway:y .coreY
   131 op abs *tmp61 *tmp60
-    * op max *tmp62 *tmp59 *tmp61
-    * set :locateOreAway:coreDist *tmp62
+  132 op max :locateOreAway:coreDist *tmp59 *tmp61
   133 op sub *tmp63 :locateOreAway:x :locateOreAway:lx
   134 op sub *tmp64 :locateOreAway:y :locateOreAway:ly
-    * op len *tmp65 *tmp63 *tmp64
-    * set :locateOreAway:unitDist *tmp65
+  135 op len :locateOreAway:unitDist *tmp63 *tmp64
   136 op equal *tmp66 :locateOreAway:lastX :locateOreAway:x
   137 jump *label46 equal *tmp66 false
   138 op equal *tmp68 :locateOreAway:lastY :locateOreAway:y
 
   156 set :visited:i .locationsStart
   157 label *label57
   158 jump *label59 greaterThanEq :visited:i *tmp75
-    * op mul *tmp76 4 :visited:i
-    * set :visited:index *tmp76
-    * op add *tmp77 :visited:index 2
-    * set *tmp78 *tmp77
-    * read *tmp80 bank1 *tmp78
-    * set :visited:lx *tmp80
+  159 op mul :visited:index 4 :visited:i
+  160 op add *tmp78 :visited:index 2
+  161 read :visited:lx bank1 *tmp78
   162 op add *tmp81 :visited:index 3
-    * set *tmp82 *tmp81
-    * read *tmp84 bank1 *tmp82
-    * set :visited:ly *tmp84
+  163 read :visited:ly bank1 *tmp81
   164 op sub *tmp85 :visited:x :visited:lx
   165 op sub *tmp86 :visited:y :visited:ly
   166 op len *tmp87 *tmp85 *tmp86
 
   183 jump *label54 equal *tmp90 false
   184 op div *tmp92 7.639437055824273 :locateOreAway:distance
   185 op add .angle .angle *tmp92
-    * op mul *tmp93 .angle .angle
-    * set .mapProgress *tmp93
+  186 op mul .mapProgress .angle .angle
   187 printflush message1
   188 set *tmp28 true
   189 jump *label34 always
 
   208 op equal *tmp94 *tmp28 false
   209 jump *label32 equal *tmp94 false
   210 set .searchFinished true
-    * op greaterThan *tmp96 :findDrillLocation:capacity 0
-    * set :findDrillLocation*retval *tmp96
+  211 op greaterThan :findDrillLocation*retval :findDrillLocation:capacity 0
   212 jump *label23 always
   213 jump *label33 always
   214 label *label32
 
   251 wait 1e-15
   252 read *tmp112 processor4 ":findBestPosition*finished"
   253 jump *label72 equal *tmp112 false
-    * read *tmp113 processor4 ":findBestPosition:bestX"
-    * set :findDrillLocation:diffX *tmp113
-    * read *tmp114 processor4 ":findBestPosition:bestY"
-    * set :findDrillLocation:diffY *tmp114
-    * read *tmp116 processor4 ":findBestPosition*retval"
-    * set :findDrillLocation:score *tmp116
-    * op add *tmp117 :findDrillLocation:oreX :findDrillLocation:diffX
-    * set :findDrillLocation:newX *tmp117
-    * op add *tmp118 :findDrillLocation:oreY :findDrillLocation:diffY
-    * set :findDrillLocation:newY *tmp118
+  254 read :findDrillLocation:diffX processor4 ":findBestPosition:bestX"
+  255 read :findDrillLocation:diffY processor4 ":findBestPosition:bestY"
+  256 read :findDrillLocation:score processor4 ":findBestPosition*retval"
+  257 op add :findDrillLocation:newX :findDrillLocation:oreX :findDrillLocation:diffX
+  258 op add :findDrillLocation:newY :findDrillLocation:oreY :findDrillLocation:diffY
   259 op sub *tmp119 :findDrillLocation:newX .coreX
   260 op abs *tmp120 *tmp119
   261 op sub *tmp121 :findDrillLocation:newY .coreY
   262 op abs *tmp122 *tmp121
-    * op max *tmp123 *tmp120 *tmp122
-    * set :findDrillLocation:coreDist *tmp123
+  263 op max :findDrillLocation:coreDist *tmp120 *tmp122
   264 op lessThanEq *tmp124 :findDrillLocation:coreDist 8
   265 jump *label73 equal *tmp124 false
   266 jump *label71 always
 
   289 sensor *tmp134 :saveLocation:item @id
   290 write *tmp134 bank1 *tmp132
   291 op add .count .count 1
-    * set *tmp135 .count
-    * write :saveLocation:value bank1 *tmp135
+  292 write :saveLocation:value bank1 .count
   293 op add .count .count 1
-    * set *tmp137 .count
-    * write :saveLocation:x bank1 *tmp137
+  294 write :saveLocation:x bank1 .count
   295 op add .count .count 1
-    * set *tmp139 .count
-    * write :saveLocation:y bank1 *tmp139
+  296 write :saveLocation:y bank1 .count
   297 op add .locations .locations 1
   298 label *label81
   299 ucontrol unbind
 
   321 label *label84
   322 label *label85
   323 set :findDrillLocation:last :findDrillLocation:score
-    * op mul *tmp146 :findDrillLocation:diffX 1.1
-    * set :round:x *tmp146
+  324 op mul :round:x :findDrillLocation:diffX 1.1
   325 op add *tmp148 :round:x 0.5
-    * op floor *tmp149 *tmp148
-    * set *tmp147 *tmp149
+  326 op floor *tmp147 *tmp148
   327 label *label86
   328 op add :findDrillLocation:oreX :findDrillLocation:oreX *tmp147
-    * op mul *tmp150 :findDrillLocation:diffY 1.1
-    * set :round.1:x *tmp150
+  329 op mul :round.1:x :findDrillLocation:diffY 1.1
   330 op add *tmp152 :round.1:x 0.5
-    * op floor *tmp153 *tmp152
-    * set *tmp151 *tmp153
+  331 op floor *tmp151 *tmp152
   332 label *label87
   333 op add :findDrillLocation:oreY :findDrillLocation:oreY *tmp151
   334 label *label70
 
   345 sensor *tmp158 :saveLocation.1:item @id
   346 write *tmp158 bank1 *tmp156
   347 op add .count .count 1
-    * set *tmp159 .count
-    * write :saveLocation.1:value bank1 *tmp159
+  348 write :saveLocation.1:value bank1 .count
   349 op add .count .count 1
-    * set *tmp161 .count
-    * write :saveLocation.1:x bank1 *tmp161
+  350 write :saveLocation.1:x bank1 .count
   351 op add .count .count 1
-    * set *tmp163 .count
-    * write :saveLocation.1:y bank1 *tmp163
+  352 write :saveLocation.1:y bank1 .count
   353 op add .locations .locations 1
   354 label *label90
   355 jump *label89 always
 
   380 label *label92
   381 label *label93
   382 op mul *tmp171 7 :shiftMask:shiftY
-    * op add *tmp172 :shiftMask:shiftX *tmp171
-    * set :shiftMask:shift *tmp172
+  383 op add :shiftMask:shift :shiftMask:shiftX *tmp171
   384 op greaterThan *tmp173 :shiftMask:shift 0
   385 jump *label96 equal *tmp173 false
-    * op shr *tmp175 562949953421311 :shiftMask:shift
-    * set :shiftMask:clearMask *tmp175
+  386 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
   387 op and *tmp176 :shiftMask:mask :shiftMask:clearMask
-    * op shl *tmp177 *tmp176 :shiftMask:shift
-    * set :shiftMask:mask *tmp177
+  388 op shl :shiftMask:mask *tmp176 :shiftMask:shift
   389 jump *label97 always
   390 label *label96
   391 op sub *tmp178 0 :shiftMask:shift
 
   394 op notEqual *tmp179 :shiftMask:shiftX 0
   395 jump *label98 equal *tmp179 false
   396 op abs *tmp181 :shiftMask:shiftX
-    * op shr *tmp182 0b1111111 *tmp181
-    * set :shiftMask:keep *tmp182
+  397 op shr :shiftMask:keep 0b1111111 *tmp181
   398 op greaterThan *tmp183 :shiftMask:shiftX 0
   399 jump *label100 equal *tmp183 false
   400 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
 
   423 op idiv *tmp190 *tmp189 2
   424 op sub *tmp191 :excludeArea:maskX :excludeArea:areaX
   425 op abs *tmp192 *tmp191
-    * op sub *tmp193 *tmp190 *tmp192
-    * set :excludeArea:overlapX *tmp193
+  426 op sub :excludeArea:overlapX *tmp190 *tmp192
   427 op add *tmp194 :excludeArea:areaHeight 7
   428 op add *tmp195 *tmp194 1
   429 op idiv *tmp196 *tmp195 2
   430 op sub *tmp197 :excludeArea:maskY :excludeArea:areaY
   431 op abs *tmp198 *tmp197
-    * op sub *tmp199 *tmp196 *tmp198
-    * set :excludeArea:overlapY *tmp199
+  432 op sub :excludeArea:overlapY *tmp196 *tmp198
   433 op greaterThan *tmp200 :excludeArea:overlapX 0
   434 jump *label103 equal *tmp200 false
   435 label *label106
 
   437 jump *label103 equal *tmp201 false
   438 jump *label105 always
   439 label *label105
-    * op min *tmp203 7 :excludeArea:overlapX
-    * set :excludeArea:blockSizeX *tmp203
-    * op min *tmp204 7 :excludeArea:overlapY
-    * set :excludeArea:blockSizeY *tmp204
+  440 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
+  441 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
   442 set :createMatrixOfSize:width :excludeArea:blockSizeX
   443 set :createMatrixOfSize:height :excludeArea:blockSizeY
   444 op shl *tmp206 1 :createMatrixOfSize:width
-    * op sub *tmp207 *tmp206 1
-    * set :createMatrixOfSize:row *tmp207
+  445 op sub :createMatrixOfSize:row *tmp206 1
   446 set :createMatrixOfSize:matrix :createMatrixOfSize:row
   447 set :createMatrixOfSize:i 1
   448 label *label108
 
   454 label *label111
   455 label *label112
   456 op shl *tmp210 :createMatrixOfSize:matrix 7
-    * op or *tmp211 *tmp210 :createMatrixOfSize:row
-    * set :createMatrixOfSize:matrix *tmp211
+  457 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   458 label *label109
   459 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
   460 jump *label108 always
 
   466 set :excludeArea:blocked *tmp205
   467 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX
   468 op sub *tmp213 7 :excludeArea:blockSizeX
-    * op mul *tmp214 *tmp212 *tmp213
-    * set :excludeArea:shiftX *tmp214
+  469 op mul :excludeArea:shiftX *tmp212 *tmp213
   470 op lessThan *tmp215 :excludeArea:maskY :excludeArea:areaY
   471 op sub *tmp216 7 :excludeArea:blockSizeY
-    * op mul *tmp217 *tmp215 *tmp216
-    * set :excludeArea:shiftY *tmp217
+  472 op mul :excludeArea:shiftY *tmp215 *tmp216
   473 set :shiftMask:mask :excludeArea:blocked
   474 set :shiftMask:shiftX :excludeArea:shiftX
   475 set :shiftMask:shiftY :excludeArea:shiftY
 
   477 call *label13 *invalid :shiftMask*retval (m:*label113) (h:*label113)
   478 label *label113
   479 set :excludeArea:shifted :shiftMask*retval
-    * op or *tmp218 :excludeArea:mask :excludeArea:shifted
-    * set :excludeArea*retval *tmp218
+  480 op or :excludeArea*retval :excludeArea:mask :excludeArea:shifted
   481 jump *label102 always
   482 set *tmp202 null
   483 jump *label104 always
 
   496 jump *label117 greaterThan :findPossiblePlacement:y 3
   497 op add *tmp219 :findPossiblePlacement:y 3
   498 op mul *tmp220 7 *tmp219
-    * op shl *tmp221 :findPossiblePlacement:placementMask *tmp220
-    * set :findPossiblePlacement:mask *tmp221
+  499 op shl :findPossiblePlacement:mask :findPossiblePlacement:placementMask *tmp220
   500 set :findPossiblePlacement:x -3
   501 label *label118
   502 jump *label120 greaterThan :findPossiblePlacement:x 3
 
   505 jump *label121 equal *tmp223 false
   506 op mul *tmp225 :findPossiblePlacement:y 7
   507 op add *tmp226 24 *tmp225
-    * op add *tmp227 *tmp226 :findPossiblePlacement:x
-    * set :findPossiblePlacement*retval *tmp227
+  508 op add :findPossiblePlacement*retval *tmp226 :findPossiblePlacement:x
   509 jump *label114 always
   510 jump *label122 always
   511 label *label121
 
   549 label *label128
   550 set :tryPlaceGenerator:c :findPossiblePlacement:x
   551 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp234 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp234
+  552 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   553 op greaterThanEq *tmp235 :tryPlaceGenerator:shift 0
   554 jump *label129 equal *tmp235 false
   555 op lessThan *tmp237 :tryPlaceGenerator:shift 0
 
   560 label *label131
   561 label *label132
   562 op add *tmp239 :tryPlaceGenerator:centerX 0.5
-    * op add *tmp240 *tmp239 :tryPlaceGenerator:c
-    * set .water2X *tmp240
+  563 op add .water2X *tmp239 :tryPlaceGenerator:c
   564 op add *tmp241 :tryPlaceGenerator:centerY 0.5
-    * op add *tmp242 *tmp241 :tryPlaceGenerator:r
-    * set .water2Y *tmp242
+  565 op add .water2Y *tmp241 :tryPlaceGenerator:r
   566 op add *tmp243 :tryPlaceGenerator:centerX 0.5
-    * op add *tmp244 *tmp243 :tryPlaceGenerator:c
-    * set .generatorX *tmp244
+  567 op add .generatorX *tmp243 :tryPlaceGenerator:c
   568 op add *tmp245 :tryPlaceGenerator:centerY 2.5
-    * op add *tmp246 *tmp245 :tryPlaceGenerator:r
-    * set .generatorY *tmp246
+  569 op add .generatorY *tmp245 :tryPlaceGenerator:r
   570 op shl *tmp247 :tryPlaceGenerator:generatorVertical :tryPlaceGenerator:shift
   571 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp247
   572 jump *label130 always
 
   580 label *label133
   581 set :tryPlaceGenerator:c :findPossiblePlacement:x
   582 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp248 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp248
+  583 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   584 op lessThan *tmp249 :tryPlaceGenerator:shift 0
   585 jump *label134 equal *tmp249 false
   586 set :tryPlaceGenerator*retval false
 
   589 label *label134
   590 label *label135
   591 op add *tmp251 :tryPlaceGenerator:centerX 0.5
-    * op add *tmp252 *tmp251 :tryPlaceGenerator:c
-    * set .water2X *tmp252
+  592 op add .water2X *tmp251 :tryPlaceGenerator:c
   593 op add *tmp253 :tryPlaceGenerator:centerY 0.5
-    * op add *tmp254 *tmp253 :tryPlaceGenerator:r
-    * set .water2Y *tmp254
+  594 op add .water2Y *tmp253 :tryPlaceGenerator:r
   595 op add *tmp255 :tryPlaceGenerator:centerX 2.5
-    * op add *tmp256 *tmp255 :tryPlaceGenerator:c
-    * set .generatorX *tmp256
+  596 op add .generatorX *tmp255 :tryPlaceGenerator:c
   597 op add *tmp257 :tryPlaceGenerator:centerY 0.5
-    * op add *tmp258 *tmp257 :tryPlaceGenerator:r
-    * set .generatorY *tmp258
+  598 op add .generatorY *tmp257 :tryPlaceGenerator:r
   599 op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :tryPlaceGenerator:shift
   600 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
   601 label *label130
 
   609 label *label136
   610 set :tryPlaceGenerator:c :findPossiblePlacement:x
   611 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp260 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp260
+  612 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   613 op lessThan *tmp261 :tryPlaceGenerator:shift 0
   614 jump *label137 equal *tmp261 false
   615 set :tryPlaceGenerator*retval false
 
   617 jump *label138 always
   618 label *label137
   619 label *label138
-    * op add *tmp263 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * set .panelX *tmp263
-    * op add *tmp264 :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * set .panelY *tmp264
+  620 op add .panelX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
+  621 op add .panelY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
   622 op shl *tmp265 1 :tryPlaceGenerator:shift
   623 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp265
   624 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
 
   630 label *label139
   631 set :tryPlaceGenerator:c :findPossiblePlacement:x
   632 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp266 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp266
+  633 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   634 op lessThan *tmp267 :tryPlaceGenerator:shift 0
   635 jump *label140 equal *tmp267 false
   636 set :tryPlaceGenerator*retval false
 
   638 jump *label141 always
   639 label *label140
   640 label *label141
-    * op add *tmp269 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * set .batteryX *tmp269
-    * op add *tmp270 :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * set .batteryY *tmp270
+  641 op add .batteryX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
+  642 op add .batteryY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
   643 op shl *tmp271 1 :tryPlaceGenerator:shift
   644 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp271
   645 op sub *tmp272 .water2X .node1X
 
   678 label *label148
   679 set :tryPlaceGenerator:c :findPossiblePlacement:x
   680 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp289 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp289
+  681 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   682 op lessThan *tmp290 :tryPlaceGenerator:shift 0
   683 jump *label149 equal *tmp290 false
   684 set :tryPlaceGenerator*retval false
 
   686 jump *label150 always
   687 label *label149
   688 label *label150
-    * op add *tmp292 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * set .node2X *tmp292
-    * op add *tmp293 :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * set .node2Y *tmp293
+  689 op add .node2X :tryPlaceGenerator:centerX :tryPlaceGenerator:c
+  690 op add .node2Y :tryPlaceGenerator:centerY :tryPlaceGenerator:r
   691 op shl *tmp294 1 :tryPlaceGenerator:shift
   692 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp294
   693 jump *label143 always
 
   707 op shl *tmp295 :createBlockMaskRow:result 1
   708 op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
   709 ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
-    * op or *tmp300 *tmp295 *tmp297
-    * set :createBlockMaskRow:result *tmp300
+  710 op or :createBlockMaskRow:result *tmp295 *tmp297
   711 label *label153
   712 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   713 jump *label152 always
 
   733 setaddr :createBlockMaskRow*retaddr *label157 (h:*label157)
   734 call *label17 *invalid :createBlockMaskRow*retval (m:*label157) (h:*label157)
   735 label *label157
-    * set *tmp306 :createBlockMaskRow*retval
-    * set :createAdjacentMask:row2 *tmp306
+  736 set :createAdjacentMask:row2 :createBlockMaskRow*retval
   737 op add *tmp307 :createAdjacentMask:y 3
   738 set :createBlockMaskRow:x :createAdjacentMask:x
   739 set :createBlockMaskRow:y *tmp307
   740 setaddr :createBlockMaskRow*retaddr *label158 (h:*label158)
   741 call *label17 *invalid :createBlockMaskRow*retval (m:*label158) (h:*label158)
   742 label *label158
-    * set *tmp308 :createBlockMaskRow*retval
-    * set :createAdjacentMask:row1 *tmp308
+  743 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   744 set :createAdjacentMask:r 2
   745 label *label159
   746 jump *label161 lessThan :createAdjacentMask:r -4
 
   750 setaddr :createBlockMaskRow*retaddr *label162 (h:*label162)
   751 call *label17 *invalid :createBlockMaskRow*retval (m:*label162) (h:*label162)
   752 label *label162
-    * set *tmp310 :createBlockMaskRow*retval
-    * set :createAdjacentMask:row0 *tmp310
+  753 set :createAdjacentMask:row0 :createBlockMaskRow*retval
   754 op shl *tmp311 :createAdjacentMask:row1 1
   755 op or *tmp312 :createAdjacentMask:row2 *tmp311
   756 op shr *tmp313 :createAdjacentMask:row1 1
   757 op or *tmp314 *tmp312 *tmp313
-    * op or *tmp315 *tmp314 :createAdjacentMask:row0
-    * set :createAdjacentMask:mask *tmp315
+  758 op or :createAdjacentMask:mask *tmp314 :createAdjacentMask:row0
   759 op shl *tmp316 :createAdjacentMask:result 7
   760 op and *tmp317 :createAdjacentMask:mask 0xFE
-    * op or *tmp318 *tmp316 *tmp317
-    * set :createAdjacentMask:result *tmp318
+  761 op or :createAdjacentMask:result *tmp316 *tmp317
   762 set :createAdjacentMask:row2 :createAdjacentMask:row1
   763 set :createAdjacentMask:row1 :createAdjacentMask:row0
   764 label *label160
   765 op sub :createAdjacentMask:r :createAdjacentMask:r 1
   766 jump *label159 always
   767 label *label161
-    * op shr *tmp319 :createAdjacentMask:result 1
-    * set *tmp304 *tmp319
+  768 op shr *tmp304 :createAdjacentMask:result 1
   769 label *label156
   770 set :createCombinedMask:adjacentMask *tmp304
   771 label *label163
   772 wait 1e-15
   773 read *tmp320 processor4 ":createTerrainMask*finished"
   774 jump *label163 equal *tmp320 false
-    * read *tmp322 processor4 ":createTerrainMask*retval"
-    * set :createCombinedMask:terrainMask *tmp322
-    * op or *tmp323 :createCombinedMask:adjacentMask :createCombinedMask:terrainMask
-    * set :excludeArea:mask *tmp323
+  775 read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
+  776 op or :excludeArea:mask :createCombinedMask:adjacentMask :createCombinedMask:terrainMask
   777 set :excludeArea:maskX :createCombinedMask:x
   778 set :excludeArea:maskY :createCombinedMask:y
   779 set :excludeArea:areaX .coreX
 
   816 setaddr :createCombinedMask*retaddr *label170 (h:*label170)
   817 call *label18 *invalid :createCombinedMask*retval (m:*label170) (h:*label170)
   818 label *label170
-    * set *tmp327 :createCombinedMask*retval
-    * set :layoutThoriumDrillAtLocation:plainTerrainMask *tmp327
-    * op or *tmp328 :layoutThoriumDrillAtLocation:plainTerrainMask 7575371776
-    * set :layoutThoriumDrillAtLocation:terrainMask *tmp328
-    * op or *tmp329 :layoutThoriumDrillAtLocation:terrainMask 285880598593601
-    * set :layoutThoriumDrillAtLocation:cornersMask *tmp329
+  819 set :layoutThoriumDrillAtLocation:plainTerrainMask :createCombinedMask*retval
+  820 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:plainTerrainMask 7575371776
+  821 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   822 set :layoutThoriumDrillAtLocation:mask2x2 387
   823 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
   824 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
 
   829 label *label171
   830 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   831 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set *tmp330 :findPossiblePlacement*retval
-    * set :layoutThoriumDrillAtLocation:shift *tmp330
+  832 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   833 op greaterThanEq *tmp331 :layoutThoriumDrillAtLocation:shift 0
   834 jump *label172 equal *tmp331 false
   835 op add *tmp333 .drillX 0.5
-    * op add *tmp334 *tmp333 :layoutThoriumDrillAtLocation:c
-    * set .water1X *tmp334
+  836 op add .water1X *tmp333 :layoutThoriumDrillAtLocation:c
   837 op add *tmp335 .drillY 0.5
-    * op add *tmp336 *tmp335 :layoutThoriumDrillAtLocation:r
-    * set .water1Y *tmp336
+  838 op add .water1Y *tmp335 :layoutThoriumDrillAtLocation:r
   839 op shl *tmp337 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   840 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp337
   841 op shl *tmp338 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
 
   852 label *label174
   853 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   854 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set *tmp339 :findPossiblePlacement*retval
-    * set :layoutThoriumDrillAtLocation:shift *tmp339
+  855 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   856 op greaterThanEq *tmp340 :layoutThoriumDrillAtLocation:shift 0
   857 jump *label175 equal *tmp340 false
   858 op add *tmp342 .drillX 0.5
-    * op add *tmp343 *tmp342 :layoutThoriumDrillAtLocation:c
-    * set .containerX *tmp343
+  859 op add .containerX *tmp342 :layoutThoriumDrillAtLocation:c
   860 op add *tmp344 .drillY 0.5
-    * op add *tmp345 *tmp344 :layoutThoriumDrillAtLocation:r
-    * set .containerY *tmp345
+  861 op add .containerY *tmp344 :layoutThoriumDrillAtLocation:r
   862 op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   863 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp346
   864 jump *label176 always
   865 label *label175
   866 label *label176
-    * op or *tmp347 :layoutThoriumDrillAtLocation:terrainMask 437639987601635
-    * set :layoutThoriumDrillAtLocation:nodeMask *tmp347
+  867 op or :layoutThoriumDrillAtLocation:nodeMask :layoutThoriumDrillAtLocation:terrainMask 437639987601635
   868 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:nodeMask
   869 set :findPossiblePlacement:placementMask 1
   870 set :findPossiblePlacement:width 1
 
   874 label *label177
   875 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   876 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set *tmp348 :findPossiblePlacement*retval
-    * set :layoutThoriumDrillAtLocation:shift *tmp348
+  877 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   878 op lessThan *tmp349 :layoutThoriumDrillAtLocation:shift 0
   879 jump *label178 equal *tmp349 false
   880 set :layoutThoriumDrillAtLocation*retval false
 
   882 jump *label179 always
   883 label *label178
   884 label *label179
-    * op add *tmp351 .drillX :layoutThoriumDrillAtLocation:c
-    * set .node1X *tmp351
-    * op add *tmp352 .drillY :layoutThoriumDrillAtLocation:r
-    * set .node1Y *tmp352
+  885 op add .node1X .drillX :layoutThoriumDrillAtLocation:c
+  886 op add .node1Y .drillY :layoutThoriumDrillAtLocation:r
   887 op shl *tmp353 1 :layoutThoriumDrillAtLocation:shift
   888 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp353
   889 set :layoutThoriumDrillAtLocation:generatorHorizontal 1935
 
   896 setaddr :tryPlaceGenerator*retaddr *label182 (h:*label182)
   897 call *label16 *invalid :tryPlaceGenerator*retval (m:*label182) (h:*label182)
   898 label *label182
-    * set *tmp354 :tryPlaceGenerator*retval
-    * jump *label180 equal *tmp354 false
+  899 jump *label180 equal :tryPlaceGenerator*retval false
   900 set :layoutThoriumDrillAtLocation*retval true
   901 jump *label165 always
   902 jump *label181 always
 
   921 set :layoutThoriumDrillAtLocation:sy -3
   922 setaddr *tmp356 *label189
   923 label *label183
-    * op sub *tmp357 .drillX :layoutThoriumDrillAtLocation:sx
-    * set :layoutThoriumDrillAtLocation:newX *tmp357
-    * op sub *tmp358 .drillY :layoutThoriumDrillAtLocation:sy
-    * set :layoutThoriumDrillAtLocation:newY *tmp358
+  924 op sub :layoutThoriumDrillAtLocation:newX .drillX :layoutThoriumDrillAtLocation:sx
+  925 op sub :layoutThoriumDrillAtLocation:newY .drillY :layoutThoriumDrillAtLocation:sy
   926 set :createCombinedMask:x :layoutThoriumDrillAtLocation:newX
   927 set :createCombinedMask:y :layoutThoriumDrillAtLocation:newY
   928 setaddr :createCombinedMask*retaddr *label190 (h:*label190)
   929 call *label18 *invalid :createCombinedMask*retval (m:*label190) (h:*label190)
   930 label *label190
-    * set *tmp359 :createCombinedMask*retval
-    * set :layoutThoriumDrillAtLocation:newTerrainMask *tmp359
+  931 set :layoutThoriumDrillAtLocation:newTerrainMask :createCombinedMask*retval
   932 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
   933 set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
   934 set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
   935 setaddr :shiftMask*retaddr *label191 (h:*label191)
   936 call *label13 *invalid :shiftMask*retval (m:*label191) (h:*label191)
   937 label *label191
-    * set *tmp360 :shiftMask*retval
-    * set :layoutThoriumDrillAtLocation:shiftedMask *tmp360
-    * op or *tmp361 :layoutThoriumDrillAtLocation:newTerrainMask :layoutThoriumDrillAtLocation:shiftedMask
-    * set :layoutThoriumDrillAtLocation:combinedMask *tmp361
+  938 set :layoutThoriumDrillAtLocation:shiftedMask :shiftMask*retval
+  939 op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :layoutThoriumDrillAtLocation:shiftedMask
   940 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
   941 op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy
   942 set :tryPlaceGenerator:centerX *tmp362
 
   947 setaddr :tryPlaceGenerator*retaddr *label194 (h:*label194)
   948 call *label16 *invalid :tryPlaceGenerator*retval (m:*label194) (h:*label194)
   949 label *label194
-    * set *tmp364 :tryPlaceGenerator*retval
-    * jump *label192 equal *tmp364 false
+  950 jump *label192 equal :tryPlaceGenerator*retval false
   951 set :layoutThoriumDrillAtLocation*retval true
   952 jump *label165 always
   953 jump *label193 always

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-2 instructions):
 
    56 set :findDrillLocation:oreX 0
    57 set :findDrillLocation:oreY 0
    58 label *label29
-    * jump *label31 equal true false
    59 set :findDrillLocation:best -1
    60 set :findDrillLocation:bestX :findDrillLocation:x
    61 set :findDrillLocation:bestY :findDrillLocation:y
 
   238 label *label64
   239 set :findDrillLocation:last 0
   240 label *label69
-    * jump *label71 equal true false
   241 write @unit processor4 ":findBestPosition:unit"
   242 write :findDrillLocation:oreX processor4 ":findBestPosition:x"
   243 write :findDrillLocation:oreY processor4 ":findBestPosition:y"

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-2 instructions):
 
   369 label *label95
   370 op abs *tmp168 :shiftMask:shiftY
   371 op greaterThan *tmp169 *tmp168 6
-    * jump *label94 notEqual *tmp169 false
-    * jump *label92 always
+  372 jump *label92 equal *tmp169 false
   373 label *label94
   374 set :shiftMask*retval 0
   375 jump *label91 always
 
   663 op sub *tmp285 .batteryY .node1Y
   664 op len *tmp286 *tmp284 *tmp285
   665 op greaterThan *tmp287 *tmp286 6
-    * jump *label144 notEqual *tmp287 false
-    * jump *label142 always
+  666 jump *label142 equal *tmp287 false
   667 label *label144
   668 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
   669 set :findPossiblePlacement:placementMask 1

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-46 instructions):
 
    42 set :moveTo.1:radius 6
    43 label *label26
    44 ucontrol within :moveTo.1:x :moveTo.1:y :moveTo.1:radius *tmp18
-    * op equal *tmp19 *tmp18 false
-    * jump *label28 equal *tmp19 false
+   45 jump *label28 notEqual *tmp18 false
    46 op sub *tmp20 :moveTo.1:radius 0.5
    47 ucontrol approach :moveTo.1:x :moveTo.1:y *tmp20
    48 label *label27
 
    73 op max .angle .angle @pi
    74 op mul .mapProgress .angle .angle
    75 label *label35
-    * op lessThan *tmp32 :locateOreAway:distance :locateOreAway:distanceLimit
-    * jump *label37 equal *tmp32 false
+   76 jump *label37 greaterThanEq :locateOreAway:distance :locateOreAway:distanceLimit
    77 op div :locateOreAway:a .angle @degToRad
    78 op sin *tmp34 :locateOreAway:a
    79 op mul *tmp35 *tmp34 :locateOreAway:distance
 
   102 set :moveTo.2:radius 5
   103 label *label41
   104 ucontrol within :moveTo.2:x :moveTo.2:y :moveTo.2:radius *tmp48
-    * op equal *tmp49 *tmp48 false
-    * jump *label43 equal *tmp49 false
+  105 jump *label43 notEqual *tmp48 false
   106 op sub *tmp50 :moveTo.2:radius 0.5
   107 ucontrol approach :moveTo.2:x :moveTo.2:y *tmp50
   108 label *label42
 
   114 op mul .mapProgress .angle .angle
   115 op mul :locateOreAway:distance 3.8197185279121366 .angle
   116 ulocate ore core true :locateOreAway:ore :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
-    * op equal *tmp56 *tmp54 false
-    * jump *label44 equal *tmp56 false
+  117 jump *label44 notEqual *tmp54 false
   118 set *tmp28 false
   119 jump *label34 always
   120 jump *label45 always
 
   128 op sub *tmp63 :locateOreAway:x :locateOreAway:lx
   129 op sub *tmp64 :locateOreAway:y :locateOreAway:ly
   130 op len :locateOreAway:unitDist *tmp63 *tmp64
-    * op equal *tmp66 :locateOreAway:lastX :locateOreAway:x
-    * jump *label46 equal *tmp66 false
-    * op equal *tmp68 :locateOreAway:lastY :locateOreAway:y
-    * jump *label48 equal *tmp68 false
+  131 jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x
+  132 jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
   133 jump *label36 always
   134 jump *label49 always
   135 label *label48
 
   137 jump *label47 always
   138 label *label46
   139 label *label47
-    * op greaterThanEq *tmp70 :locateOreAway:coreDist 8
-    * jump *label50 equal *tmp70 false
-    * op lessThan *tmp72 :locateOreAway:unitDist :locateOreAway:distance
-    * jump *label52 equal *tmp72 false
+  140 jump *label50 lessThan :locateOreAway:coreDist 8
+  141 jump *label52 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
   142 set :locateOreAway:lastX :locateOreAway:x
   143 set :locateOreAway:lastY :locateOreAway:y
   144 set :visited:x :locateOreAway:x
 
   155 op sub *tmp85 :visited:x :visited:lx
   156 op sub *tmp86 :visited:y :visited:ly
   157 op len *tmp87 *tmp85 *tmp86
-    * op lessThan *tmp88 *tmp87 7
-    * jump *label60 equal *tmp88 false
+  158 jump *label60 greaterThanEq *tmp87 7
   159 set *tmp74 true
   160 jump *label56 always
   161 jump *label61 always
 
   169 jump *label56 always
   170 set *tmp74 null
   171 label *label56
-    * op equal *tmp90 *tmp74 false
-    * jump *label54 equal *tmp90 false
+  172 jump *label54 notEqual *tmp74 false
   173 op div *tmp92 7.639437055824273 :locateOreAway:distance
   174 op add .angle .angle *tmp92
   175 op mul .mapProgress .angle .angle
 
   194 label *label34
   195 set :findDrillLocation:oreX :locateOreAway:x
   196 set :findDrillLocation:oreY :locateOreAway:y
-    * op equal *tmp94 *tmp28 false
-    * jump *label32 equal *tmp94 false
+  197 jump *label32 notEqual *tmp28 false
   198 set .searchFinished true
   199 op greaterThan :findDrillLocation*retval :findDrillLocation:capacity 0
   200 jump *label23 always
   201 jump *label33 always
   202 label *label32
   203 label *label33
-    * op greaterThanEq *tmp97 :findDrillLocation:limit 1000
-    * jump *label62 equal *tmp97 false
+  204 jump *label62 lessThan :findDrillLocation:limit 1000
   205 op add .mapSpots .mapSpots 1
   206 jump *label63 always
   207 label *label62
 
   215 set :moveTo.4:radius 6
   216 label *label66
   217 ucontrol within :moveTo.4:x :moveTo.4:y :moveTo.4:radius *tmp102
-    * op equal *tmp103 *tmp102 false
-    * jump *label68 equal *tmp103 false
+  218 jump *label68 notEqual *tmp102 false
   219 op sub *tmp104 :moveTo.4:radius 0.5
   220 ucontrol approach :moveTo.4:x :moveTo.4:y *tmp104
   221 label *label67
 
   246 op sub *tmp121 :findDrillLocation:newY .coreY
   247 op abs *tmp122 *tmp121
   248 op max :findDrillLocation:coreDist *tmp120 *tmp122
-    * op lessThanEq *tmp124 :findDrillLocation:coreDist 8
-    * jump *label73 equal *tmp124 false
+  249 jump *label73 greaterThan :findDrillLocation:coreDist 8
   250 jump *label71 always
   251 jump *label74 always
   252 label *label73
   253 label *label74
-    * op greaterThan *tmp126 :findDrillLocation:score :findDrillLocation:capacity
-    * jump *label75 equal *tmp126 false
+  254 jump *label75 lessThanEq :findDrillLocation:score :findDrillLocation:capacity
   255 set :findDrillLocation:dx :findDrillLocation:newX
   256 set :findDrillLocation:dy :findDrillLocation:newY
   257 set :findDrillLocation:capacity :findDrillLocation:score
-    * op lessThan *tmp128 :findDrillLocation:limit 1000
-    * jump *label77 equal *tmp128 false
+  258 jump *label77 greaterThanEq :findDrillLocation:limit 1000
   259 set .mapSpots :findDrillLocation:score
   260 jump *label78 always
   261 label *label77
   262 label *label78
-    * op greaterThanEq *tmp130 :findDrillLocation:capacity :findDrillLocation:limit
-    * jump *label79 equal *tmp130 false
+  263 jump *label79 lessThan :findDrillLocation:capacity :findDrillLocation:limit
   264 set :saveLocation:item :findDrillLocation:item
   265 set :saveLocation:value :findDrillLocation:score
   266 set :saveLocation:x :findDrillLocation:dx
 
   287 jump *label76 always
   288 label *label75
   289 label *label76
-    * op greaterThan *tmp142 :findDrillLocation:score :findDrillLocation:best
-    * jump *label82 equal *tmp142 false
+  290 jump *label82 lessThanEq :findDrillLocation:score :findDrillLocation:best
   291 set :findDrillLocation:bestX :findDrillLocation:newX
   292 set :findDrillLocation:bestY :findDrillLocation:newY
   293 set :findDrillLocation:best :findDrillLocation:score
   294 jump *label83 always
   295 label *label82
   296 label *label83
-    * op lessThanEq *tmp144 :findDrillLocation:score :findDrillLocation:last
-    * jump *label84 equal *tmp144 false
+  297 jump *label84 greaterThan :findDrillLocation:score :findDrillLocation:last
   298 jump *label71 always
   299 jump *label85 always
   300 label *label84
 
   313 label *label70
   314 jump *label69 always
   315 label *label71
-    * op greaterThanEq *tmp154 :findDrillLocation:best 0
-    * jump *label88 equal *tmp154 false
+  316 jump *label88 lessThan :findDrillLocation:best 0
   317 set :saveLocation.1:item :findDrillLocation:item
   318 set :saveLocation.1:value :findDrillLocation:best
   319 set :saveLocation.1:x :findDrillLocation:bestX
 
   344 end
   345 label *label13
   346 op abs *tmp166 :shiftMask:shiftX
-    * op greaterThan *tmp167 *tmp166 6
-    * jump *label94 notEqual *tmp167 false
+  347 jump *label94 greaterThan *tmp166 6
   348 label *label95
   349 op abs *tmp168 :shiftMask:shiftY
-    * op greaterThan *tmp169 *tmp168 6
-    * jump *label92 equal *tmp169 false
+  350 jump *label92 lessThanEq *tmp168 6
   351 label *label94
   352 set :shiftMask*retval 0
   353 jump *label91 always
 
   356 label *label93
   357 op mul *tmp171 7 :shiftMask:shiftY
   358 op add :shiftMask:shift :shiftMask:shiftX *tmp171
-    * op greaterThan *tmp173 :shiftMask:shift 0
-    * jump *label96 equal *tmp173 false
+  359 jump *label96 lessThanEq :shiftMask:shift 0
   360 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
   361 op and *tmp176 :shiftMask:mask :shiftMask:clearMask
   362 op shl :shiftMask:mask *tmp176 :shiftMask:shift
 
   365 op sub *tmp178 0 :shiftMask:shift
   366 op shr :shiftMask:mask :shiftMask:mask *tmp178
   367 label *label97
-    * op notEqual *tmp179 :shiftMask:shiftX 0
-    * jump *label98 equal *tmp179 false
+  368 jump *label98 equal :shiftMask:shiftX 0
   369 op abs *tmp181 :shiftMask:shiftX
   370 op shr :shiftMask:keep 0b1111111 *tmp181
-    * op greaterThan *tmp183 :shiftMask:shiftX 0
-    * jump *label100 equal *tmp183 false
+  371 jump *label100 lessThanEq :shiftMask:shiftX 0
   372 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
   373 jump *label101 always
   374 label *label100
 
   402 op sub *tmp197 :excludeArea:maskY :excludeArea:areaY
   403 op abs *tmp198 *tmp197
   404 op sub :excludeArea:overlapY *tmp196 *tmp198
-    * op greaterThan *tmp200 :excludeArea:overlapX 0
-    * jump *label103 equal *tmp200 false
+  405 jump *label103 lessThanEq :excludeArea:overlapX 0
   406 label *label106
-    * op greaterThan *tmp201 :excludeArea:overlapY 0
-    * jump *label103 equal *tmp201 false
+  407 jump *label103 lessThanEq :excludeArea:overlapY 0
   408 jump *label105 always
   409 label *label105
   410 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
 
   417 set :createMatrixOfSize:i 1
   418 label *label108
   419 jump *label110 greaterThanEq :createMatrixOfSize:i 7
-    * op greaterThanEq *tmp208 :createMatrixOfSize:i :createMatrixOfSize:height
-    * jump *label111 equal *tmp208 false
+  420 jump *label111 lessThan :createMatrixOfSize:i :createMatrixOfSize:height
   421 jump *label110 always
   422 jump *label112 always
   423 label *label111
 
   470 label *label118
   471 jump *label120 greaterThan :findPossiblePlacement:x 3
   472 op and *tmp222 :findPossiblePlacement:terrainMask :findPossiblePlacement:mask
-    * op equal *tmp223 *tmp222 0
-    * jump *label121 equal *tmp223 false
+  473 jump *label121 notEqual *tmp222 0
   474 op mul *tmp225 :findPossiblePlacement:y 7
   475 op add *tmp226 24 *tmp225
   476 op add :findPossiblePlacement*retval *tmp226 :findPossiblePlacement:x
 
   479 label *label121
   480 label *label122
   481 op sub *tmp228 3 :findPossiblePlacement:width
-    * op greaterThan *tmp229 :findPossiblePlacement:x *tmp228
-    * jump *label123 equal *tmp229 false
+  482 jump *label123 lessThanEq :findPossiblePlacement:x *tmp228
   483 jump *label120 always
   484 jump *label124 always
   485 label *label123
 
   490 jump *label118 always
   491 label *label120
   492 op sub *tmp231 3 :findPossiblePlacement:height
-    * op greaterThan *tmp232 :findPossiblePlacement:y *tmp231
-    * jump *label125 equal *tmp232 false
+  493 jump *label125 lessThanEq :findPossiblePlacement:y *tmp231
   494 jump *label117 always
   495 jump *label126 always
   496 label *label125
 
   516 set :tryPlaceGenerator:c :findPossiblePlacement:x
   517 set :tryPlaceGenerator:r :findPossiblePlacement:y
   518 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op greaterThanEq *tmp235 :tryPlaceGenerator:shift 0
-    * jump *label129 equal *tmp235 false
-    * op lessThan *tmp237 :tryPlaceGenerator:shift 0
-    * jump *label131 equal *tmp237 false
+  519 jump *label129 lessThan :tryPlaceGenerator:shift 0
+  520 jump *label131 greaterThanEq :tryPlaceGenerator:shift 0
   521 set :tryPlaceGenerator*retval false
   522 jump *label127 always
   523 jump *label132 always
 
   545 set :tryPlaceGenerator:c :findPossiblePlacement:x
   546 set :tryPlaceGenerator:r :findPossiblePlacement:y
   547 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp249 :tryPlaceGenerator:shift 0
-    * jump *label134 equal *tmp249 false
+  548 jump *label134 greaterThanEq :tryPlaceGenerator:shift 0
   549 set :tryPlaceGenerator*retval false
   550 jump *label127 always
   551 jump *label135 always
 
   573 set :tryPlaceGenerator:c :findPossiblePlacement:x
   574 set :tryPlaceGenerator:r :findPossiblePlacement:y
   575 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp261 :tryPlaceGenerator:shift 0
-    * jump *label137 equal *tmp261 false
+  576 jump *label137 greaterThanEq :tryPlaceGenerator:shift 0
   577 set :tryPlaceGenerator*retval false
   578 jump *label127 always
   579 jump *label138 always
 
   593 set :tryPlaceGenerator:c :findPossiblePlacement:x
   594 set :tryPlaceGenerator:r :findPossiblePlacement:y
   595 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp267 :tryPlaceGenerator:shift 0
-    * jump *label140 equal *tmp267 false
+  596 jump *label140 greaterThanEq :tryPlaceGenerator:shift 0
   597 set :tryPlaceGenerator*retval false
   598 jump *label127 always
   599 jump *label141 always
 
   606 op sub *tmp272 .water2X .node1X
   607 op sub *tmp273 .water2Y .node1Y
   608 op len *tmp274 *tmp272 *tmp273
-    * op greaterThan *tmp275 *tmp274 7
-    * jump *label144 notEqual *tmp275 false
+  609 jump *label144 greaterThan *tmp274 7
   610 label *label147
   611 op sub *tmp276 .generatorX .node1X
   612 op sub *tmp277 .generatorY .node1Y
   613 op len *tmp278 *tmp276 *tmp277
-    * op greaterThan *tmp279 *tmp278 7
-    * jump *label144 notEqual *tmp279 false
+  614 jump *label144 greaterThan *tmp278 7
   615 jump *label146 always
   616 label *label146
   617 op sub *tmp280 .panelX .node1X
   618 op sub *tmp281 .panelY .node1Y
   619 op len *tmp282 *tmp280 *tmp281
-    * op greaterThan *tmp283 *tmp282 6
-    * jump *label144 notEqual *tmp283 false
+  620 jump *label144 greaterThan *tmp282 6
   621 jump *label145 always
   622 label *label145
   623 op sub *tmp284 .batteryX .node1X
   624 op sub *tmp285 .batteryY .node1Y
   625 op len *tmp286 *tmp284 *tmp285
-    * op greaterThan *tmp287 *tmp286 6
-    * jump *label142 equal *tmp287 false
+  626 jump *label142 lessThanEq *tmp286 6
   627 label *label144
   628 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
   629 set :findPossiblePlacement:placementMask 1
 
   635 set :tryPlaceGenerator:c :findPossiblePlacement:x
   636 set :tryPlaceGenerator:r :findPossiblePlacement:y
   637 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp290 :tryPlaceGenerator:shift 0
-    * jump *label149 equal *tmp290 false
+  638 jump *label149 greaterThanEq :tryPlaceGenerator:shift 0
   639 set :tryPlaceGenerator*retval false
   640 jump *label127 always
   641 jump *label150 always
 
   758 set :moveTo.5:radius 1
   759 label *label167
   760 ucontrol within :moveTo.5:x :moveTo.5:y :moveTo.5:radius *tmp324
-    * op equal *tmp325 *tmp324 false
-    * jump *label169 equal *tmp325 false
+  761 jump *label169 notEqual *tmp324 false
   762 op sub *tmp326 :moveTo.5:radius 0.5
   763 ucontrol approach :moveTo.5:x :moveTo.5:y *tmp326
   764 label *label168
 
   784 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   785 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   786 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * op greaterThanEq *tmp331 :layoutThoriumDrillAtLocation:shift 0
-    * jump *label172 equal *tmp331 false
+  787 jump *label172 lessThan :layoutThoriumDrillAtLocation:shift 0
   788 op add *tmp333 .drillX 0.5
   789 op add .water1X *tmp333 :layoutThoriumDrillAtLocation:c
   790 op add *tmp335 .drillY 0.5
 
   806 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   807 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   808 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * op greaterThanEq *tmp340 :layoutThoriumDrillAtLocation:shift 0
-    * jump *label175 equal *tmp340 false
+  809 jump *label175 lessThan :layoutThoriumDrillAtLocation:shift 0
   810 op add *tmp342 .drillX 0.5
   811 op add .containerX *tmp342 :layoutThoriumDrillAtLocation:c
   812 op add *tmp344 .drillY 0.5
 
   827 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   828 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   829 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * op lessThan *tmp349 :layoutThoriumDrillAtLocation:shift 0
-    * jump *label178 equal *tmp349 false
+  830 jump *label178 greaterThanEq :layoutThoriumDrillAtLocation:shift 0
   831 set :layoutThoriumDrillAtLocation*retval false
   832 jump *label165 always
   833 jump *label179 always
 
   927 label *label198
   928 set .drillX :findDrillLocation:dx
   929 set .drillY :findDrillLocation:dy
-    * op equal *tmp366 :findDrillLocation*retval false
-    * jump *label196 equal *tmp366 false
+  930 jump *label196 notEqual :findDrillLocation*retval false
   931 set :layoutThoriumDrill*retval false
   932 jump *label195 always
   933 jump *label197 always

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-38 instructions):
 
   117 jump *label44 notEqual *tmp54 false
   118 set *tmp28 false
   119 jump *label34 always
-    * jump *label45 always
   120 label *label44
   121 label *label45
   122 op sub *tmp58 :locateOreAway:x .coreX
 
   130 jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x
   131 jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
   132 jump *label36 always
-    * jump *label49 always
   133 label *label48
   134 label *label49
-    * jump *label47 always
   135 label *label46
   136 label *label47
   137 jump *label50 lessThan :locateOreAway:coreDist 8
 
   155 jump *label60 greaterThanEq *tmp87 7
   156 set *tmp74 true
   157 jump *label56 always
-    * jump *label61 always
   158 label *label60
   159 label *label61
   160 label *label58
 
   172 printflush message1
   173 set *tmp28 true
   174 jump *label34 always
-    * jump *label55 always
   175 label *label54
   176 label *label55
-    * jump *label53 always
   177 label *label52
   178 label *label53
-    * jump *label51 always
   179 label *label50
   180 label *label51
   181 label *label36
 
   191 set .searchFinished true
   192 op greaterThan :findDrillLocation*retval :findDrillLocation:capacity 0
   193 jump *label23 always
-    * jump *label33 always
   194 label *label32
   195 label *label33
   196 jump *label62 lessThan :findDrillLocation:limit 1000
   197 op add .mapSpots .mapSpots 1
-    * jump *label63 always
   198 label *label62
   199 label *label63
   200 set :moveTo.3:x :findDrillLocation:oreX
 
   239 op max :findDrillLocation:coreDist *tmp120 *tmp122
   240 jump *label73 greaterThan :findDrillLocation:coreDist 8
   241 jump *label71 always
-    * jump *label74 always
   242 label *label73
   243 label *label74
   244 jump *label75 lessThanEq :findDrillLocation:score :findDrillLocation:capacity
 
   247 set :findDrillLocation:capacity :findDrillLocation:score
   248 jump *label77 greaterThanEq :findDrillLocation:limit 1000
   249 set .mapSpots :findDrillLocation:score
-    * jump *label78 always
   250 label *label77
   251 label *label78
   252 jump *label79 lessThan :findDrillLocation:capacity :findDrillLocation:limit
 
   270 set .searchFinished true
   271 set :findDrillLocation*retval true
   272 jump *label23 always
-    * jump *label80 always
   273 label *label79
   274 label *label80
-    * jump *label76 always
   275 label *label75
   276 label *label76
   277 jump *label82 lessThanEq :findDrillLocation:score :findDrillLocation:best
   278 set :findDrillLocation:bestX :findDrillLocation:newX
   279 set :findDrillLocation:bestY :findDrillLocation:newY
   280 set :findDrillLocation:best :findDrillLocation:score
-    * jump *label83 always
   281 label *label82
   282 label *label83
   283 jump *label84 greaterThan :findDrillLocation:score :findDrillLocation:last
   284 jump *label71 always
-    * jump *label85 always
   285 label *label84
   286 label *label85
   287 set :findDrillLocation:last :findDrillLocation:score
 
   315 write :saveLocation.1:y bank1 .count
   316 op add .locations .locations 1
   317 label *label90
-    * jump *label89 always
   318 label *label88
   319 label *label89
   320 label *label30
 
   335 label *label94
   336 set :shiftMask*retval 0
   337 jump *label91 always
-    * jump *label93 always
   338 label *label92
   339 label *label93
   340 op mul *tmp171 7 :shiftMask:shiftY
 
   353 op shr :shiftMask:keep 0b1111111 *tmp181
   354 jump *label100 lessThanEq :shiftMask:shiftX 0
   355 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
-    * jump *label101 always
   356 label *label100
   357 label *label101
   358 op shl *tmp185 :shiftMask:keep 7
 
   362 op shl *tmp187 :shiftMask:keep 21
   363 op or :shiftMask:keep :shiftMask:keep *tmp187
   364 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
-    * jump *label99 always
   365 label *label98
   366 label *label99
   367 set :shiftMask*retval :shiftMask:mask
 
   386 jump *label103 lessThanEq :excludeArea:overlapX 0
   387 label *label106
   388 jump *label103 lessThanEq :excludeArea:overlapY 0
-    * jump *label105 always
   389 label *label105
   390 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
   391 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
 
   399 jump *label110 greaterThanEq :createMatrixOfSize:i 7
   400 jump *label111 lessThan :createMatrixOfSize:i :createMatrixOfSize:height
   401 jump *label110 always
-    * jump *label112 always
   402 label *label111
   403 label *label112
   404 op shl *tmp210 :createMatrixOfSize:matrix 7
 
   454 op add *tmp226 24 *tmp225
   455 op add :findPossiblePlacement*retval *tmp226 :findPossiblePlacement:x
   456 jump *label114 always
-    * jump *label122 always
   457 label *label121
   458 label *label122
   459 op sub *tmp228 3 :findPossiblePlacement:width
   460 jump *label123 lessThanEq :findPossiblePlacement:x *tmp228
   461 jump *label120 always
-    * jump *label124 always
   462 label *label123
   463 label *label124
   464 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
 
   469 op sub *tmp231 3 :findPossiblePlacement:height
   470 jump *label125 lessThanEq :findPossiblePlacement:y *tmp231
   471 jump *label117 always
-    * jump *label126 always
   472 label *label125
   473 label *label126
   474 label *label116
 
   496 jump *label131 greaterThanEq :tryPlaceGenerator:shift 0
   497 set :tryPlaceGenerator*retval false
   498 jump *label127 always
-    * jump *label132 always
   499 label *label131
   500 label *label132
   501 op add *tmp239 :tryPlaceGenerator:centerX 0.5
 
   523 jump *label134 greaterThanEq :tryPlaceGenerator:shift 0
   524 set :tryPlaceGenerator*retval false
   525 jump *label127 always
-    * jump *label135 always
   526 label *label134
   527 label *label135
   528 op add *tmp251 :tryPlaceGenerator:centerX 0.5
 
   550 jump *label137 greaterThanEq :tryPlaceGenerator:shift 0
   551 set :tryPlaceGenerator*retval false
   552 jump *label127 always
-    * jump *label138 always
   553 label *label137
   554 label *label138
   555 op add .panelX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
 
   569 jump *label140 greaterThanEq :tryPlaceGenerator:shift 0
   570 set :tryPlaceGenerator*retval false
   571 jump *label127 always
-    * jump *label141 always
   572 label *label140
   573 label *label141
   574 op add .batteryX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
 
   584 op sub *tmp277 .generatorY .node1Y
   585 op len *tmp278 *tmp276 *tmp277
   586 jump *label144 greaterThan *tmp278 7
-    * jump *label146 always
   587 label *label146
   588 op sub *tmp280 .panelX .node1X
   589 op sub *tmp281 .panelY .node1Y
   590 op len *tmp282 *tmp280 *tmp281
   591 jump *label144 greaterThan *tmp282 6
-    * jump *label145 always
   592 label *label145
   593 op sub *tmp284 .batteryX .node1X
   594 op sub *tmp285 .batteryY .node1Y
 
   608 jump *label149 greaterThanEq :tryPlaceGenerator:shift 0
   609 set :tryPlaceGenerator*retval false
   610 jump *label127 always
-    * jump *label150 always
   611 label *label149
   612 label *label150
   613 op add .node2X :tryPlaceGenerator:centerX :tryPlaceGenerator:c
   614 op add .node2Y :tryPlaceGenerator:centerY :tryPlaceGenerator:r
   615 op shl *tmp294 1 :tryPlaceGenerator:shift
   616 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp294
-    * jump *label143 always
   617 label *label142
   618 label *label143
   619 set :tryPlaceGenerator*retval true
 
   761 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp337
   762 op shl *tmp338 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   763 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp338
-    * jump *label173 always
   764 label *label172
   765 label *label173
   766 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
 
   780 op add .containerY *tmp344 :layoutThoriumDrillAtLocation:r
   781 op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   782 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp346
-    * jump *label176 always
   783 label *label175
   784 label *label176
   785 op or :layoutThoriumDrillAtLocation:nodeMask :layoutThoriumDrillAtLocation:terrainMask 437639987601635
 
   796 jump *label178 greaterThanEq :layoutThoriumDrillAtLocation:shift 0
   797 set :layoutThoriumDrillAtLocation*retval false
   798 jump *label165 always
-    * jump *label179 always
   799 label *label178
   800 label *label179
   801 op add .node1X .drillX :layoutThoriumDrillAtLocation:c
 
   815 jump *label180 equal :tryPlaceGenerator*retval false
   816 set :layoutThoriumDrillAtLocation*retval true
   817 jump *label165 always
-    * jump *label181 always
   818 label *label180
   819 label *label181
   820 set :layoutThoriumDrillAtLocation:sx 3
 
   865 jump *label192 equal :tryPlaceGenerator*retval false
   866 set :layoutThoriumDrillAtLocation*retval true
   867 jump *label165 always
-    * jump *label193 always
   868 label *label192
   869 label *label193
   870 label *label184
 
   893 jump *label196 notEqual :findDrillLocation*retval false
   894 set :layoutThoriumDrill*retval false
   895 jump *label195 always
-    * jump *label197 always
   896 label *label196
   897 label *label197
   898 setaddr :layoutThoriumDrillAtLocation*retaddr *label199 (h:*label199)

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-12 instructions):
 
    25 set :findDrillLocation:dy :findDrillLocation:capacity
    26 set :findDrillLocation:dx :findDrillLocation:dy
    27 set .mapSpots :findDrillLocation:dx
-    * op sub *tmp13 @mapw .coreX
-    * op sub *tmp14 @maph .coreY
-    * op max *tmp15 .coreX .coreY
+   28 op sub *tmp13 @mapw :findDrillLocation:x
+   29 op sub *tmp14 @maph :findDrillLocation:y
+   30 op max *tmp15 :findDrillLocation:x :findDrillLocation:y
    31 op max *tmp15 *tmp15 *tmp13
    32 op max *tmp15 *tmp15 *tmp14
    33 set :findDrillLocation:distanceLimit *tmp15
    34 set .angle 0
-    * set .mapProgress .angle
-    * set :moveTo:x .coreX
-    * set :moveTo:y .coreY
-    * set *tmp16 :moveTo:x
-    * set *tmp17 :moveTo:y
-    * set :moveTo.1:x *tmp16
-    * set :moveTo.1:y *tmp17
+   35 set .mapProgress 0
+   36 set :moveTo:x :findDrillLocation:x
+   37 set :moveTo:y :findDrillLocation:y
+   38 set *tmp16 .coreX
+   39 set *tmp17 .coreY
+   40 set :moveTo.1:x :moveTo:x
+   41 set :moveTo.1:y :moveTo:y
    42 set :moveTo.1:radius 6
    43 label *label26
-    * ucontrol within :moveTo.1:x :moveTo.1:y :moveTo.1:radius *tmp18
+   44 ucontrol within *tmp16 *tmp17 6 *tmp18
    45 jump *label28 notEqual *tmp18 false
-    * op sub *tmp20 :moveTo.1:radius 0.5
-    * ucontrol approach :moveTo.1:x :moveTo.1:y *tmp20
+   46 op sub *tmp20 6 0.5
+   47 ucontrol approach *tmp16 *tmp17 5.5
    48 label *label27
    49 jump *label26 always
    50 label *label28
    51 label *label25
    52 label *label24
-    * op div *tmp21 :findDrillLocation:distanceLimit 3.8197185279121366
+   53 op div *tmp21 *tmp15 3.8197185279121366
    54 op pow .mapTotal *tmp21 2
    55 set :findDrillLocation:oreX 0
    56 set :findDrillLocation:oreY 0
 
    73 op max .angle .angle @pi
    74 op mul .mapProgress .angle .angle
    75 label *label35
-    * jump *label37 greaterThanEq :locateOreAway:distance :locateOreAway:distanceLimit
+   76 jump *label37 greaterThanEq :locateOreAway:distance :findDrillLocation:distanceLimit
    77 op div :locateOreAway:a .angle @degToRad
    78 op sin *tmp34 :locateOreAway:a
    79 op mul *tmp35 *tmp34 :locateOreAway:distance
-    * op add *tmp36 .coreX *tmp35
+   80 op add *tmp36 :findDrillLocation:x *tmp35
    81 op sub *tmp37 @mapw 5
    82 set :limit:value *tmp36
    83 set :limit:low 5
    84 set :limit:high *tmp37
-    * op max *tmp39 :limit:value :limit:low
-    * op min *tmp38 *tmp39 :limit:high
+   85 op max *tmp39 *tmp36 5
+   86 op min *tmp38 *tmp39 *tmp37
    87 label *label38
    88 set :locateOreAway:lx *tmp38
    89 op cos *tmp41 :locateOreAway:a
    90 op mul *tmp42 *tmp41 :locateOreAway:distance
-    * op add *tmp43 .coreY *tmp42
+   91 op add *tmp43 :findDrillLocation:y *tmp42
    92 op sub *tmp44 @maph 5
    93 set :limit.1:value *tmp43
    94 set :limit.1:low 5
    95 set :limit.1:high *tmp44
-    * op max *tmp46 :limit.1:value :limit.1:low
-    * op min *tmp45 *tmp46 :limit.1:high
+   96 op max *tmp46 *tmp43 5
+   97 op min *tmp45 *tmp46 *tmp44
    98 label *label39
    99 set :locateOreAway:ly *tmp45
-    * set :moveTo.2:x :locateOreAway:lx
-    * set :moveTo.2:y :locateOreAway:ly
+  100 set :moveTo.2:x *tmp38
+  101 set :moveTo.2:y *tmp45
   102 set :moveTo.2:radius 5
   103 label *label41
-    * ucontrol within :moveTo.2:x :moveTo.2:y :moveTo.2:radius *tmp48
+  104 ucontrol within :locateOreAway:lx :locateOreAway:ly 5 *tmp48
   105 jump *label43 notEqual *tmp48 false
-    * op sub *tmp50 :moveTo.2:radius 0.5
-    * ucontrol approach :moveTo.2:x :moveTo.2:y *tmp50
+  106 op sub *tmp50 5 0.5
+  107 ucontrol approach :locateOreAway:lx :locateOreAway:ly 4.5
   108 label *label42
   109 jump *label41 always
   110 label *label43
 
   113 op add .angle .angle *tmp51
   114 op mul .mapProgress .angle .angle
   115 op mul :locateOreAway:distance 3.8197185279121366 .angle
-    * ulocate ore core true :locateOreAway:ore :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
+  116 ulocate ore core true :findDrillLocation:item :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
   117 jump *label44 notEqual *tmp54 false
   118 set *tmp28 false
   119 jump *label34 always
   120 label *label44
   121 label *label45
-    * op sub *tmp58 :locateOreAway:x .coreX
+  122 op sub *tmp58 :locateOreAway:x :findDrillLocation:x
   123 op abs *tmp59 *tmp58
-    * op sub *tmp60 :locateOreAway:y .coreY
+  124 op sub *tmp60 :locateOreAway:y :findDrillLocation:y
   125 op abs *tmp61 *tmp60
   126 op max :locateOreAway:coreDist *tmp59 *tmp61
-    * op sub *tmp63 :locateOreAway:x :locateOreAway:lx
-    * op sub *tmp64 :locateOreAway:y :locateOreAway:ly
+  127 op sub *tmp63 :locateOreAway:x *tmp38
+  128 op sub *tmp64 :locateOreAway:y *tmp45
   129 op len :locateOreAway:unitDist *tmp63 *tmp64
   130 jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x
   131 jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
 
   149 read :visited:lx bank1 *tmp78
   150 op add *tmp81 :visited:index 3
   151 read :visited:ly bank1 *tmp81
-    * op sub *tmp85 :visited:x :visited:lx
-    * op sub *tmp86 :visited:y :visited:ly
+  152 op sub *tmp85 :locateOreAway:x :visited:lx
+  153 op sub *tmp86 :locateOreAway:y :visited:ly
   154 op len *tmp87 *tmp85 *tmp86
   155 jump *label60 greaterThanEq *tmp87 7
   156 set *tmp74 true
 
   163 label *label59
   164 set *tmp74 false
   165 jump *label56 always
-    * set *tmp74 null
   166 label *label56
   167 jump *label54 notEqual *tmp74 false
-    * op div *tmp92 7.639437055824273 :locateOreAway:distance
+  168 op div *tmp92 2 .angle
   169 op add .angle .angle *tmp92
   170 op mul .mapProgress .angle .angle
   171 printflush message1
 
   182 label *label37
   183 set *tmp28 false
   184 jump *label34 always
-    * set *tmp28 null
   185 label *label34
   186 set :findDrillLocation:oreX :locateOreAway:x
   187 set :findDrillLocation:oreY :locateOreAway:y
 
   195 op add .mapSpots .mapSpots 1
   196 label *label62
   197 label *label63
-    * set :moveTo.3:x :findDrillLocation:oreX
-    * set :moveTo.3:y :findDrillLocation:oreY
-    * set *tmp100 :moveTo.3:x
-    * set *tmp101 :moveTo.3:y
-    * set :moveTo.4:x *tmp100
-    * set :moveTo.4:y *tmp101
+  198 set :moveTo.3:x :locateOreAway:x
+  199 set :moveTo.3:y :locateOreAway:y
+  200 set *tmp100 :findDrillLocation:oreX
+  201 set *tmp101 :findDrillLocation:oreY
+  202 set :moveTo.4:x :moveTo.3:x
+  203 set :moveTo.4:y :moveTo.3:y
   204 set :moveTo.4:radius 6
   205 label *label66
-    * ucontrol within :moveTo.4:x :moveTo.4:y :moveTo.4:radius *tmp102
+  206 ucontrol within *tmp100 *tmp101 6 *tmp102
   207 jump *label68 notEqual *tmp102 false
-    * op sub *tmp104 :moveTo.4:radius 0.5
-    * ucontrol approach :moveTo.4:x :moveTo.4:y *tmp104
+  208 op sub *tmp104 6 0.5
+  209 ucontrol approach *tmp100 *tmp101 5.5
   210 label *label67
   211 jump *label66 always
   212 label *label68
 
   230 read :findDrillLocation:score processor4 ":findBestPosition*retval"
   231 op add :findDrillLocation:newX :findDrillLocation:oreX :findDrillLocation:diffX
   232 op add :findDrillLocation:newY :findDrillLocation:oreY :findDrillLocation:diffY
-    * op sub *tmp119 :findDrillLocation:newX .coreX
+  233 op sub *tmp119 :findDrillLocation:newX :findDrillLocation:x
   234 op abs *tmp120 *tmp119
-    * op sub *tmp121 :findDrillLocation:newY .coreY
+  235 op sub *tmp121 :findDrillLocation:newY :findDrillLocation:y
   236 op abs *tmp122 *tmp121
   237 op max :findDrillLocation:coreDist *tmp120 *tmp122
   238 jump *label73 greaterThan :findDrillLocation:coreDist 8
 
   254 set :saveLocation:y :findDrillLocation:dy
   255 op add .count .count 1
   256 set *tmp132 .count
-    * sensor *tmp134 :saveLocation:item @id
-    * write *tmp134 bank1 *tmp132
+  257 sensor *tmp134 :findDrillLocation:item @id
+  258 write *tmp134 bank1 .count
   259 op add .count .count 1
-    * write :saveLocation:value bank1 .count
+  260 write :findDrillLocation:score bank1 .count
   261 op add .count .count 1
-    * write :saveLocation:x bank1 .count
+  262 write :findDrillLocation:dx bank1 .count
   263 op add .count .count 1
-    * write :saveLocation:y bank1 .count
+  264 write :findDrillLocation:dy bank1 .count
   265 op add .locations .locations 1
   266 label *label81
   267 ucontrol unbind
 
   303 set :saveLocation.1:y :findDrillLocation:bestY
   304 op add .count .count 1
   305 set *tmp156 .count
-    * sensor *tmp158 :saveLocation.1:item @id
-    * write *tmp158 bank1 *tmp156
+  306 sensor *tmp158 :findDrillLocation:item @id
+  307 write *tmp158 bank1 .count
   308 op add .count .count 1
-    * write :saveLocation.1:value bank1 .count
+  309 write :findDrillLocation:best bank1 .count
   310 op add .count .count 1
-    * write :saveLocation.1:x bank1 .count
+  311 write :findDrillLocation:bestX bank1 .count
   312 op add .count .count 1
-    * write :saveLocation.1:y bank1 .count
+  313 write :findDrillLocation:bestY bank1 .count
   314 op add .locations .locations 1
   315 label *label90
   316 label *label88
 
   348 label *label97
   349 jump *label98 equal :shiftMask:shiftX 0
   350 op abs *tmp181 :shiftMask:shiftX
-    * op shr :shiftMask:keep 0b1111111 *tmp181
+  351 op shr :shiftMask:keep 0b1111111 *tmp166
   352 jump *label100 lessThanEq :shiftMask:shiftX 0
   353 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
   354 label *label100
 
   364 label *label99
   365 set :shiftMask*retval :shiftMask:mask
   366 jump *label91 always
-    * set :shiftMask*retval null
   367 label *label91
   368 return :shiftMask*retaddr
   369 end
   370 label *label14
   371 op add *tmp188 :excludeArea:areaWidth 7
-    * op add *tmp189 *tmp188 1
+  372 op add *tmp189 :excludeArea:areaWidth 8
   373 op idiv *tmp190 *tmp189 2
   374 op sub *tmp191 :excludeArea:maskX :excludeArea:areaX
   375 op abs *tmp192 *tmp191
   376 op sub :excludeArea:overlapX *tmp190 *tmp192
   377 op add *tmp194 :excludeArea:areaHeight 7
-    * op add *tmp195 *tmp194 1
+  378 op add *tmp195 :excludeArea:areaHeight 8
   379 op idiv *tmp196 *tmp195 2
   380 op sub *tmp197 :excludeArea:maskY :excludeArea:areaY
   381 op abs *tmp198 *tmp197
 
   388 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
   389 set :createMatrixOfSize:width :excludeArea:blockSizeX
   390 set :createMatrixOfSize:height :excludeArea:blockSizeY
-    * op shl *tmp206 1 :createMatrixOfSize:width
+  391 op shl *tmp206 1 :excludeArea:blockSizeX
   392 op sub :createMatrixOfSize:row *tmp206 1
   393 set :createMatrixOfSize:matrix :createMatrixOfSize:row
   394 set :createMatrixOfSize:i 1
   395 label *label108
   396 jump *label110 greaterThanEq :createMatrixOfSize:i 7
-    * jump *label111 lessThan :createMatrixOfSize:i :createMatrixOfSize:height
+  397 jump *label111 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
   398 jump *label110 always
   399 label *label111
   400 label *label112
 
   406 label *label110
   407 set *tmp205 :createMatrixOfSize:matrix
   408 jump *label107 always
-    * set *tmp205 null
   409 label *label107
-    * set :excludeArea:blocked *tmp205
+  410 set :excludeArea:blocked :createMatrixOfSize:matrix
   411 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX
   412 op sub *tmp213 7 :excludeArea:blockSizeX
   413 op mul :excludeArea:shiftX *tmp212 *tmp213
   414 op lessThan *tmp215 :excludeArea:maskY :excludeArea:areaY
   415 op sub *tmp216 7 :excludeArea:blockSizeY
   416 op mul :excludeArea:shiftY *tmp215 *tmp216
-    * set :shiftMask:mask :excludeArea:blocked
+  417 set :shiftMask:mask *tmp205
   418 set :shiftMask:shiftX :excludeArea:shiftX
   419 set :shiftMask:shiftY :excludeArea:shiftY
   420 setaddr :shiftMask*retaddr *label113 (h:*label113)
   421 call *label13 *invalid :shiftMask*retval (m:*label113) (h:*label113)
   422 label *label113
   423 set :excludeArea:shifted :shiftMask*retval
-    * op or :excludeArea*retval :excludeArea:mask :excludeArea:shifted
+  424 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   425 jump *label102 always
-    * set *tmp202 null
   426 jump *label104 always
   427 label *label103
   428 set :excludeArea*retval :excludeArea:mask
   429 jump *label102 always
-    * set *tmp202 null
   430 label *label104
-    * set :excludeArea*retval *tmp202
+  431 set :excludeArea*retval null
   432 label *label102
   433 return :excludeArea*retaddr
   434 end
 
   471 label *label117
   472 set :findPossiblePlacement*retval -1
   473 jump *label114 always
-    * set :findPossiblePlacement*retval null
   474 label *label114
   475 return :findPossiblePlacement*retaddr
   476 end
 
   485 set :tryPlaceGenerator:c :findPossiblePlacement:x
   486 set :tryPlaceGenerator:r :findPossiblePlacement:y
   487 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label129 lessThan :tryPlaceGenerator:shift 0
-    * jump *label131 greaterThanEq :tryPlaceGenerator:shift 0
+  488 jump *label129 lessThan :findPossiblePlacement*retval 0
+  489 jump *label131 greaterThanEq :findPossiblePlacement*retval 0
   490 set :tryPlaceGenerator*retval false
   491 jump *label127 always
   492 label *label131
   493 label *label132
   494 op add *tmp239 :tryPlaceGenerator:centerX 0.5
-    * op add .water2X *tmp239 :tryPlaceGenerator:c
+  495 op add .water2X *tmp239 :findPossiblePlacement:x
   496 op add *tmp241 :tryPlaceGenerator:centerY 0.5
-    * op add .water2Y *tmp241 :tryPlaceGenerator:r
+  497 op add .water2Y *tmp241 :findPossiblePlacement:y
   498 op add *tmp243 :tryPlaceGenerator:centerX 0.5
-    * op add .generatorX *tmp243 :tryPlaceGenerator:c
+  499 op add .generatorX *tmp239 :findPossiblePlacement:x
   500 op add *tmp245 :tryPlaceGenerator:centerY 2.5
-    * op add .generatorY *tmp245 :tryPlaceGenerator:r
-    * op shl *tmp247 :tryPlaceGenerator:generatorVertical :tryPlaceGenerator:shift
+  501 op add .generatorY *tmp245 :findPossiblePlacement:y
+  502 op shl *tmp247 :tryPlaceGenerator:generatorVertical :findPossiblePlacement*retval
   503 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp247
   504 jump *label130 always
   505 label *label129
 
   513 set :tryPlaceGenerator:c :findPossiblePlacement:x
   514 set :tryPlaceGenerator:r :findPossiblePlacement:y
   515 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label134 greaterThanEq :tryPlaceGenerator:shift 0
+  516 jump *label134 greaterThanEq :findPossiblePlacement*retval 0
   517 set :tryPlaceGenerator*retval false
   518 jump *label127 always
   519 label *label134
   520 label *label135
   521 op add *tmp251 :tryPlaceGenerator:centerX 0.5
-    * op add .water2X *tmp251 :tryPlaceGenerator:c
+  522 op add .water2X *tmp251 :findPossiblePlacement:x
   523 op add *tmp253 :tryPlaceGenerator:centerY 0.5
-    * op add .water2Y *tmp253 :tryPlaceGenerator:r
+  524 op add .water2Y *tmp253 :findPossiblePlacement:y
   525 op add *tmp255 :tryPlaceGenerator:centerX 2.5
-    * op add .generatorX *tmp255 :tryPlaceGenerator:c
+  526 op add .generatorX *tmp255 :findPossiblePlacement:x
   527 op add *tmp257 :tryPlaceGenerator:centerY 0.5
-    * op add .generatorY *tmp257 :tryPlaceGenerator:r
-    * op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :tryPlaceGenerator:shift
+  528 op add .generatorY *tmp253 :findPossiblePlacement:y
+  529 op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
   530 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
   531 label *label130
   532 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask 437639987601635
 
   540 set :tryPlaceGenerator:c :findPossiblePlacement:x
   541 set :tryPlaceGenerator:r :findPossiblePlacement:y
   542 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label137 greaterThanEq :tryPlaceGenerator:shift 0
+  543 jump *label137 greaterThanEq :findPossiblePlacement*retval 0
   544 set :tryPlaceGenerator*retval false
   545 jump *label127 always
   546 label *label137
   547 label *label138
-    * op add .panelX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * op add .panelY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * op shl *tmp265 1 :tryPlaceGenerator:shift
+  548 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  549 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  550 op shl *tmp265 1 :findPossiblePlacement*retval
   551 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp265
   552 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
   553 set :findPossiblePlacement:placementMask 1
 
   559 set :tryPlaceGenerator:c :findPossiblePlacement:x
   560 set :tryPlaceGenerator:r :findPossiblePlacement:y
   561 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label140 greaterThanEq :tryPlaceGenerator:shift 0
+  562 jump *label140 greaterThanEq :findPossiblePlacement*retval 0
   563 set :tryPlaceGenerator*retval false
   564 jump *label127 always
   565 label *label140
   566 label *label141
-    * op add .batteryX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * op add .batteryY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * op shl *tmp271 1 :tryPlaceGenerator:shift
+  567 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  568 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  569 op shl *tmp271 1 :findPossiblePlacement*retval
   570 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp271
   571 op sub *tmp272 .water2X .node1X
   572 op sub *tmp273 .water2Y .node1Y
 
   598 set :tryPlaceGenerator:c :findPossiblePlacement:x
   599 set :tryPlaceGenerator:r :findPossiblePlacement:y
   600 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label149 greaterThanEq :tryPlaceGenerator:shift 0
+  601 jump *label149 greaterThanEq :findPossiblePlacement*retval 0
   602 set :tryPlaceGenerator*retval false
   603 jump *label127 always
   604 label *label149
   605 label *label150
-    * op add .node2X :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * op add .node2Y :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * op shl *tmp294 1 :tryPlaceGenerator:shift
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp294
+  606 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  607 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  608 op shl *tmp294 1 :findPossiblePlacement*retval
   609 label *label142
   610 label *label143
   611 set :tryPlaceGenerator*retval true
   612 jump *label127 always
-    * set :tryPlaceGenerator*retval null
   613 label *label127
   614 return :tryPlaceGenerator*retaddr
   615 end
 
   628 label *label154
   629 set :createBlockMaskRow*retval :createBlockMaskRow:result
   630 jump *label151 always
-    * set :createBlockMaskRow*retval null
   631 label *label151
   632 return :createBlockMaskRow*retaddr
   633 end
 
   640 set :createAdjacentMask:x :createCombinedMask:x
   641 set :createAdjacentMask:y :createCombinedMask:y
   642 set :createAdjacentMask:result 0
-    * op add *tmp305 :createAdjacentMask:y 4
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  643 op add *tmp305 :createCombinedMask:y 4
+  644 set :createBlockMaskRow:x :createCombinedMask:x
   645 set :createBlockMaskRow:y *tmp305
   646 setaddr :createBlockMaskRow*retaddr *label157 (h:*label157)
   647 call *label17 *invalid :createBlockMaskRow*retval (m:*label157) (h:*label157)
 
   668 op or *tmp312 :createAdjacentMask:row2 *tmp311
   669 op shr *tmp313 :createAdjacentMask:row1 1
   670 op or *tmp314 *tmp312 *tmp313
-    * op or :createAdjacentMask:mask *tmp314 :createAdjacentMask:row0
+  671 op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow*retval
   672 op shl *tmp316 :createAdjacentMask:result 7
   673 op and *tmp317 :createAdjacentMask:mask 0xFE
   674 op or :createAdjacentMask:result *tmp316 *tmp317
   675 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createAdjacentMask:row0
+  676 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   677 label *label160
   678 op sub :createAdjacentMask:r :createAdjacentMask:r 1
   679 jump *label159 always
 
   686 read *tmp320 processor4 ":createTerrainMask*finished"
   687 jump *label163 equal *tmp320 false
   688 read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
-    * op or :excludeArea:mask :createCombinedMask:adjacentMask :createCombinedMask:terrainMask
+  689 op or :excludeArea:mask *tmp304 :createCombinedMask:terrainMask
   690 set :excludeArea:maskX :createCombinedMask:x
   691 set :excludeArea:maskY :createCombinedMask:y
   692 set :excludeArea:areaX .coreX
 
   698 label *label164
   699 set :createCombinedMask*retval :excludeArea*retval
   700 jump *label155 always
-    * set :createCombinedMask*retval null
   701 label *label155
   702 return :createCombinedMask*retaddr
   703 end
 
   714 set :moveTo.5:y .drillY
   715 set :moveTo.5:radius 1
   716 label *label167
-    * ucontrol within :moveTo.5:x :moveTo.5:y :moveTo.5:radius *tmp324
+  717 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324
   718 jump *label169 notEqual *tmp324 false
-    * op sub *tmp326 :moveTo.5:radius 0.5
-    * ucontrol approach :moveTo.5:x :moveTo.5:y *tmp326
+  719 op sub *tmp326 1 0.5
+  720 ucontrol approach :moveTo.5:x :moveTo.5:y 0.5
   721 label *label168
   722 jump *label167 always
   723 label *label169
 
   728 call *label18 *invalid :createCombinedMask*retval (m:*label170) (h:*label170)
   729 label *label170
   730 set :layoutThoriumDrillAtLocation:plainTerrainMask :createCombinedMask*retval
-    * op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:plainTerrainMask 7575371776
+  731 op or :layoutThoriumDrillAtLocation:terrainMask :createCombinedMask*retval 7575371776
   732 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   733 set :layoutThoriumDrillAtLocation:mask2x2 387
   734 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
-    * set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
+  735 set :findPossiblePlacement:placementMask 387
   736 set :findPossiblePlacement:width 2
   737 set :findPossiblePlacement:height 2
   738 setaddr :findPossiblePlacement*retaddr *label171 (h:*label171)
 
   741 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   742 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   743 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * jump *label172 lessThan :layoutThoriumDrillAtLocation:shift 0
+  744 jump *label172 lessThan :findPossiblePlacement*retval 0
   745 op add *tmp333 .drillX 0.5
-    * op add .water1X *tmp333 :layoutThoriumDrillAtLocation:c
+  746 op add .water1X *tmp333 :findPossiblePlacement:x
   747 op add *tmp335 .drillY 0.5
-    * op add .water1Y *tmp335 :layoutThoriumDrillAtLocation:r
-    * op shl *tmp337 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
+  748 op add .water1Y *tmp335 :findPossiblePlacement:y
+  749 op shl *tmp337 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   750 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp337
-    * op shl *tmp338 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
-    * op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp338
+  751 op shl *tmp338 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
+  752 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp337
   753 label *label172
   754 label *label173
   755 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
 
   762 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   763 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   764 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * jump *label175 lessThan :layoutThoriumDrillAtLocation:shift 0
+  765 jump *label175 lessThan :findPossiblePlacement*retval 0
   766 op add *tmp342 .drillX 0.5
-    * op add .containerX *tmp342 :layoutThoriumDrillAtLocation:c
+  767 op add .containerX *tmp342 :findPossiblePlacement:x
   768 op add *tmp344 .drillY 0.5
-    * op add .containerY *tmp344 :layoutThoriumDrillAtLocation:r
-    * op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
+  769 op add .containerY *tmp344 :findPossiblePlacement:y
+  770 op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   771 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp346
   772 label *label175
   773 label *label176
 
   782 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   783 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   784 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * jump *label178 greaterThanEq :layoutThoriumDrillAtLocation:shift 0
+  785 jump *label178 greaterThanEq :findPossiblePlacement*retval 0
   786 set :layoutThoriumDrillAtLocation*retval false
   787 jump *label165 always
   788 label *label178
   789 label *label179
-    * op add .node1X .drillX :layoutThoriumDrillAtLocation:c
-    * op add .node1Y .drillY :layoutThoriumDrillAtLocation:r
-    * op shl *tmp353 1 :layoutThoriumDrillAtLocation:shift
+  790 op add .node1X .drillX :findPossiblePlacement:x
+  791 op add .node1Y .drillY :findPossiblePlacement:y
+  792 op shl *tmp353 1 :findPossiblePlacement*retval
   793 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp353
   794 set :layoutThoriumDrillAtLocation:generatorHorizontal 1935
   795 set :layoutThoriumDrillAtLocation:generatorVertical 6340995
   796 set :tryPlaceGenerator:centerX .drillX
   797 set :tryPlaceGenerator:centerY .drillY
   798 set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:terrainMask
-    * set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDrillAtLocation:generatorHorizontal
-    * set :tryPlaceGenerator:generatorVertical :layoutThoriumDrillAtLocation:generatorVertical
+  799 set :tryPlaceGenerator:generatorHorizontal 1935
+  800 set :tryPlaceGenerator:generatorVertical 6340995
   801 setaddr :tryPlaceGenerator*retaddr *label182 (h:*label182)
   802 call *label16 *invalid :tryPlaceGenerator*retval (m:*label182) (h:*label182)
   803 label *label182
 
   840 call *label13 *invalid :shiftMask*retval (m:*label191) (h:*label191)
   841 label *label191
   842 set :layoutThoriumDrillAtLocation:shiftedMask :shiftMask*retval
-    * op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :layoutThoriumDrillAtLocation:shiftedMask
+  843 op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :shiftMask*retval
   844 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
   845 op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy
   846 set :tryPlaceGenerator:centerX *tmp362
 
   862 label *label185
   863 set :layoutThoriumDrillAtLocation*retval true
   864 jump *label165 always
-    * set :layoutThoriumDrillAtLocation*retval null
   865 label *label165
   866 return :layoutThoriumDrillAtLocation*retaddr
   867 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-70 instructions):
 
    35 set .mapProgress 0
    36 set :moveTo:x :findDrillLocation:x
    37 set :moveTo:y :findDrillLocation:y
-    * set *tmp16 .coreX
-    * set *tmp17 .coreY
-    * set :moveTo.1:x :moveTo:x
-    * set :moveTo.1:y :moveTo:y
-    * set :moveTo.1:radius 6
+   38 set *tmp16 :findDrillLocation:x
+   39 set *tmp17 :findDrillLocation:y
+   40 set :moveTo.1:x :findDrillLocation:x
+   41 set :moveTo.1:y :findDrillLocation:y
    42 label *label26
-    * ucontrol within *tmp16 *tmp17 6 *tmp18
+   43 ucontrol within .coreX .coreY 6 *tmp18
    44 jump *label28 notEqual *tmp18 false
-    * op sub *tmp20 6 0.5
-    * ucontrol approach *tmp16 *tmp17 5.5
+   45 ucontrol approach .coreX .coreY 5.5
    46 label *label27
    47 jump *label26 always
    48 label *label28
 
    61 op min :findDrillLocation:distanceLimit :findDrillLocation:distanceLimit :findDrillLocation:maxDistance
    62 op div *tmp26 :findDrillLocation:distanceLimit 3.8197185279121366
    63 op pow .mapTotal *tmp26 2
-    * set :locateOreAway:ore :findDrillLocation:item
    64 set :locateOreAway:x :findDrillLocation:oreX
    65 set :locateOreAway:y :findDrillLocation:oreY
-    * set :locateOreAway:distanceLimit :findDrillLocation:distanceLimit
    66 op mul :locateOreAway:distance 3.8197185279121366 .angle
    67 set :locateOreAway:lastX -1
    68 set :locateOreAway:lastY -1
 
    75 op mul *tmp35 *tmp34 :locateOreAway:distance
    76 op add *tmp36 :findDrillLocation:x *tmp35
    77 op sub *tmp37 @mapw 5
-    * set :limit:value *tmp36
-    * set :limit:low 5
-    * set :limit:high *tmp37
    78 op max *tmp39 *tmp36 5
    79 op min *tmp38 *tmp39 *tmp37
    80 label *label38
 
    83 op mul *tmp42 *tmp41 :locateOreAway:distance
    84 op add *tmp43 :findDrillLocation:y *tmp42
    85 op sub *tmp44 @maph 5
-    * set :limit.1:value *tmp43
-    * set :limit.1:low 5
-    * set :limit.1:high *tmp44
    86 op max *tmp46 *tmp43 5
    87 op min *tmp45 *tmp46 *tmp44
    88 label *label39
    89 set :locateOreAway:ly *tmp45
-    * set :moveTo.2:x *tmp38
-    * set :moveTo.2:y *tmp45
-    * set :moveTo.2:radius 5
    90 label *label41
-    * ucontrol within :locateOreAway:lx :locateOreAway:ly 5 *tmp48
+   91 ucontrol within *tmp38 *tmp45 5 *tmp48
    92 jump *label43 notEqual *tmp48 false
-    * op sub *tmp50 5 0.5
-    * ucontrol approach :locateOreAway:lx :locateOreAway:ly 4.5
+   93 ucontrol approach *tmp38 *tmp45 4.5
    94 label *label42
    95 jump *label41 always
    96 label *label43
 
   124 jump *label52 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
   125 set :locateOreAway:lastX :locateOreAway:x
   126 set :locateOreAway:lastY :locateOreAway:y
-    * set :visited:x :locateOreAway:x
-    * set :visited:y :locateOreAway:y
   127 set *tmp75 .locations
   128 set :visited:i .locationsStart
   129 label *label57
 
   181 label *label63
   182 set :moveTo.3:x :locateOreAway:x
   183 set :moveTo.3:y :locateOreAway:y
-    * set *tmp100 :findDrillLocation:oreX
-    * set *tmp101 :findDrillLocation:oreY
-    * set :moveTo.4:x :moveTo.3:x
-    * set :moveTo.4:y :moveTo.3:y
-    * set :moveTo.4:radius 6
+  184 set *tmp100 :locateOreAway:x
+  185 set *tmp101 :locateOreAway:y
+  186 set :moveTo.4:x :locateOreAway:x
+  187 set :moveTo.4:y :locateOreAway:y
   188 label *label66
-    * ucontrol within *tmp100 *tmp101 6 *tmp102
+  189 ucontrol within :findDrillLocation:oreX :findDrillLocation:oreY 6 *tmp102
   190 jump *label68 notEqual *tmp102 false
-    * op sub *tmp104 6 0.5
-    * ucontrol approach *tmp100 *tmp101 5.5
+  191 ucontrol approach :findDrillLocation:oreX :findDrillLocation:oreY 5.5
   192 label *label67
   193 jump *label66 always
   194 label *label68
 
   230 label *label77
   231 label *label78
   232 jump *label79 lessThan :findDrillLocation:capacity :findDrillLocation:limit
-    * set :saveLocation:item :findDrillLocation:item
-    * set :saveLocation:value :findDrillLocation:score
-    * set :saveLocation:x :findDrillLocation:dx
-    * set :saveLocation:y :findDrillLocation:dy
   233 op add .count .count 1
-    * set *tmp132 .count
   234 sensor *tmp134 :findDrillLocation:item @id
   235 write *tmp134 bank1 .count
   236 op add .count .count 1
 
   274 jump *label69 always
   275 label *label71
   276 jump *label88 lessThan :findDrillLocation:best 0
-    * set :saveLocation.1:item :findDrillLocation:item
-    * set :saveLocation.1:value :findDrillLocation:best
-    * set :saveLocation.1:x :findDrillLocation:bestX
-    * set :saveLocation.1:y :findDrillLocation:bestY
   277 op add .count .count 1
-    * set *tmp156 .count
   278 sensor *tmp158 :findDrillLocation:item @id
   279 write *tmp158 bank1 .count
   280 op add .count .count 1
 
   319 op shr :shiftMask:mask :shiftMask:mask *tmp178
   320 label *label97
   321 jump *label98 equal :shiftMask:shiftX 0
-    * op abs *tmp181 :shiftMask:shiftX
   322 op shr :shiftMask:keep 0b1111111 *tmp166
   323 jump *label100 lessThanEq :shiftMask:shiftX 0
   324 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
 
   339 return :shiftMask*retaddr
   340 end
   341 label *label14
-    * op add *tmp188 :excludeArea:areaWidth 7
   342 op add *tmp189 :excludeArea:areaWidth 8
   343 op idiv *tmp190 *tmp189 2
   344 op sub *tmp191 :excludeArea:maskX :excludeArea:areaX
   345 op abs *tmp192 *tmp191
   346 op sub :excludeArea:overlapX *tmp190 *tmp192
-    * op add *tmp194 :excludeArea:areaHeight 7
   347 op add *tmp195 :excludeArea:areaHeight 8
   348 op idiv *tmp196 *tmp195 2
   349 op sub *tmp197 :excludeArea:maskY :excludeArea:areaY
 
   355 label *label105
   356 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
   357 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
-    * set :createMatrixOfSize:width :excludeArea:blockSizeX
-    * set :createMatrixOfSize:height :excludeArea:blockSizeY
   358 op shl *tmp206 1 :excludeArea:blockSizeX
   359 op sub :createMatrixOfSize:row *tmp206 1
   360 set :createMatrixOfSize:matrix :createMatrixOfSize:row
 
   374 set *tmp205 :createMatrixOfSize:matrix
   375 jump *label107 always
   376 label *label107
-    * set :excludeArea:blocked :createMatrixOfSize:matrix
   377 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX
   378 op sub *tmp213 7 :excludeArea:blockSizeX
   379 op mul :excludeArea:shiftX *tmp212 *tmp213
   380 op lessThan *tmp215 :excludeArea:maskY :excludeArea:areaY
   381 op sub *tmp216 7 :excludeArea:blockSizeY
   382 op mul :excludeArea:shiftY *tmp215 *tmp216
-    * set :shiftMask:mask *tmp205
+  383 set :shiftMask:mask :createMatrixOfSize:matrix
   384 set :shiftMask:shiftX :excludeArea:shiftX
   385 set :shiftMask:shiftY :excludeArea:shiftY
   386 setaddr :shiftMask*retaddr *label113 (h:*label113)
   387 call *label13 *invalid :shiftMask*retval (m:*label113) (h:*label113)
   388 label *label113
-    * set :excludeArea:shifted :shiftMask*retval
   389 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   390 jump *label102 always
   391 jump *label104 always
 
   393 set :excludeArea*retval :excludeArea:mask
   394 jump *label102 always
   395 label *label104
-    * set :excludeArea*retval null
   396 label *label102
   397 return :excludeArea*retaddr
   398 end
 
   446 setaddr :findPossiblePlacement*retaddr *label128 (h:*label128)
   447 call *label15 *invalid :findPossiblePlacement*retval (m:*label128) (h:*label128)
   448 label *label128
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   449 jump *label129 lessThan :findPossiblePlacement*retval 0
   450 jump *label131 greaterThanEq :findPossiblePlacement*retval 0
   451 set :tryPlaceGenerator*retval false
 
   456 op add .water2X *tmp239 :findPossiblePlacement:x
   457 op add *tmp241 :tryPlaceGenerator:centerY 0.5
   458 op add .water2Y *tmp241 :findPossiblePlacement:y
-    * op add *tmp243 :tryPlaceGenerator:centerX 0.5
   459 op add .generatorX *tmp239 :findPossiblePlacement:x
   460 op add *tmp245 :tryPlaceGenerator:centerY 2.5
   461 op add .generatorY *tmp245 :findPossiblePlacement:y
 
   470 setaddr :findPossiblePlacement*retaddr *label133 (h:*label133)
   471 call *label15 *invalid :findPossiblePlacement*retval (m:*label133) (h:*label133)
   472 label *label133
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   473 jump *label134 greaterThanEq :findPossiblePlacement*retval 0
   474 set :tryPlaceGenerator*retval false
   475 jump *label127 always
 
   481 op add .water2Y *tmp253 :findPossiblePlacement:y
   482 op add *tmp255 :tryPlaceGenerator:centerX 2.5
   483 op add .generatorX *tmp255 :findPossiblePlacement:x
-    * op add *tmp257 :tryPlaceGenerator:centerY 0.5
   484 op add .generatorY *tmp253 :findPossiblePlacement:y
   485 op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
   486 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
 
   493 setaddr :findPossiblePlacement*retaddr *label136 (h:*label136)
   494 call *label15 *invalid :findPossiblePlacement*retval (m:*label136) (h:*label136)
   495 label *label136
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   496 jump *label137 greaterThanEq :findPossiblePlacement*retval 0
   497 set :tryPlaceGenerator*retval false
   498 jump *label127 always
 
   509 setaddr :findPossiblePlacement*retaddr *label139 (h:*label139)
   510 call *label15 *invalid :findPossiblePlacement*retval (m:*label139) (h:*label139)
   511 label *label139
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   512 jump *label140 greaterThanEq :findPossiblePlacement*retval 0
   513 set :tryPlaceGenerator*retval false
   514 jump *label127 always
 
   545 setaddr :findPossiblePlacement*retaddr *label148 (h:*label148)
   546 call *label15 *invalid :findPossiblePlacement*retval (m:*label148) (h:*label148)
   547 label *label148
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   548 jump *label149 greaterThanEq :findPossiblePlacement*retval 0
   549 set :tryPlaceGenerator*retval false
   550 jump *label127 always
 
   552 label *label150
   553 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
   554 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
-    * op shl *tmp294 1 :findPossiblePlacement*retval
   555 label *label142
   556 label *label143
   557 set :tryPlaceGenerator*retval true
 
   609 setaddr :createBlockMaskRow*retaddr *label162 (h:*label162)
   610 call *label17 *invalid :createBlockMaskRow*retval (m:*label162) (h:*label162)
   611 label *label162
-    * set :createAdjacentMask:row0 :createBlockMaskRow*retval
   612 op shl *tmp311 :createAdjacentMask:row1 1
   613 op or *tmp312 :createAdjacentMask:row2 *tmp311
   614 op shr *tmp313 :createAdjacentMask:row1 1
 
   625 label *label161
   626 op shr *tmp304 :createAdjacentMask:result 1
   627 label *label156
-    * set :createCombinedMask:adjacentMask *tmp304
   628 label *label163
   629 wait 1e-15
   630 read *tmp320 processor4 ":createTerrainMask*finished"
 
   656 set .water1X -1
   657 set :moveTo.5:x .drillX
   658 set :moveTo.5:y .drillY
-    * set :moveTo.5:radius 1
   659 label *label167
   660 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324
   661 jump *label169 notEqual *tmp324 false
-    * op sub *tmp326 1 0.5
   662 ucontrol approach :moveTo.5:x :moveTo.5:y 0.5
   663 label *label168
   664 jump *label167 always
 
   669 setaddr :createCombinedMask*retaddr *label170 (h:*label170)
   670 call *label18 *invalid :createCombinedMask*retval (m:*label170) (h:*label170)
   671 label *label170
-    * set :layoutThoriumDrillAtLocation:plainTerrainMask :createCombinedMask*retval
   672 op or :layoutThoriumDrillAtLocation:terrainMask :createCombinedMask*retval 7575371776
   673 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   674 set :layoutThoriumDrillAtLocation:mask2x2 387
 
   679 setaddr :findPossiblePlacement*retaddr *label171 (h:*label171)
   680 call *label15 *invalid :findPossiblePlacement*retval (m:*label171) (h:*label171)
   681 label *label171
-    * set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
-    * set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   682 jump *label172 lessThan :findPossiblePlacement*retval 0
   683 op add *tmp333 .drillX 0.5
   684 op add .water1X *tmp333 :findPossiblePlacement:x
 
   686 op add .water1Y *tmp335 :findPossiblePlacement:y
   687 op shl *tmp337 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   688 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp337
-    * op shl *tmp338 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   689 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp337
   690 label *label172
   691 label *label173
 
   696 setaddr :findPossiblePlacement*retaddr *label174 (h:*label174)
   697 call *label15 *invalid :findPossiblePlacement*retval (m:*label174) (h:*label174)
   698 label *label174
-    * set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
-    * set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   699 jump *label175 lessThan :findPossiblePlacement*retval 0
   700 op add *tmp342 .drillX 0.5
   701 op add .containerX *tmp342 :findPossiblePlacement:x
 
   713 setaddr :findPossiblePlacement*retaddr *label177 (h:*label177)
   714 call *label15 *invalid :findPossiblePlacement*retval (m:*label177) (h:*label177)
   715 label *label177
-    * set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
-    * set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   716 jump *label178 greaterThanEq :findPossiblePlacement*retval 0
   717 set :layoutThoriumDrillAtLocation*retval false
   718 jump *label165 always
 
   770 setaddr :shiftMask*retaddr *label191 (h:*label191)
   771 call *label13 *invalid :shiftMask*retval (m:*label191) (h:*label191)
   772 label *label191
-    * set :layoutThoriumDrillAtLocation:shiftedMask :shiftMask*retval
   773 op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :shiftMask*retval
   774 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
   775 op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-15 instructions):
 
    33 set :findDrillLocation:distanceLimit *tmp15
    34 set .angle 0
    35 set .mapProgress 0
-    * set :moveTo:x :findDrillLocation:x
-    * set :moveTo:y :findDrillLocation:y
-    * set *tmp16 :findDrillLocation:x
-    * set *tmp17 :findDrillLocation:y
-    * set :moveTo.1:x :findDrillLocation:x
-    * set :moveTo.1:y :findDrillLocation:y
    36 label *label26
-    * ucontrol within .coreX .coreY 6 *tmp18
+   37 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
    38 jump *label28 notEqual *tmp18 false
-    * ucontrol approach .coreX .coreY 5.5
+   39 ucontrol approach :findDrillLocation:x :findDrillLocation:y 5.5
    40 label *label27
    41 jump *label26 always
    42 label *label28
 
    72 op max *tmp39 *tmp36 5
    73 op min *tmp38 *tmp39 *tmp37
    74 label *label38
-    * set :locateOreAway:lx *tmp38
    75 op cos *tmp41 :locateOreAway:a
    76 op mul *tmp42 *tmp41 :locateOreAway:distance
    77 op add *tmp43 :findDrillLocation:y *tmp42
 
    79 op max *tmp46 *tmp43 5
    80 op min *tmp45 *tmp46 *tmp44
    81 label *label39
-    * set :locateOreAway:ly *tmp45
    82 label *label41
    83 ucontrol within *tmp38 *tmp45 5 *tmp48
    84 jump *label43 notEqual *tmp48 false
 
   171 op add .mapSpots .mapSpots 1
   172 label *label62
   173 label *label63
-    * set :moveTo.3:x :locateOreAway:x
-    * set :moveTo.3:y :locateOreAway:y
-    * set *tmp100 :locateOreAway:x
-    * set *tmp101 :locateOreAway:y
-    * set :moveTo.4:x :locateOreAway:x
-    * set :moveTo.4:y :locateOreAway:y
   174 label *label66
-    * ucontrol within :findDrillLocation:oreX :findDrillLocation:oreY 6 *tmp102
+  175 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102
   176 jump *label68 notEqual *tmp102 false
-    * ucontrol approach :findDrillLocation:oreX :findDrillLocation:oreY 5.5
+  177 ucontrol approach :locateOreAway:x :locateOreAway:y 5.5
   178 label *label67
   179 jump *label66 always
   180 label *label68
 
   357 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
   358 jump *label108 always
   359 label *label110
-    * set *tmp205 :createMatrixOfSize:matrix
   360 jump *label107 always
   361 label *label107
   362 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX

Modifications by Iterated phase, Loop Rotation, pass 1, iteration 1:
 
    64 op mul .mapProgress .angle .angle
    65 label *label35
    66 jump *label37 greaterThanEq :locateOreAway:distance :findDrillLocation:distanceLimit
+   67 label *label205
    68 op div :locateOreAway:a .angle @degToRad
    69 op sin *tmp34 :locateOreAway:a
    70 op mul *tmp35 *tmp34 :locateOreAway:distance
 
   121 set :visited:i .locationsStart
   122 label *label57
   123 jump *label59 greaterThanEq :visited:i *tmp75
+  124 label *label206
   125 op mul :visited:index 4 :visited:i
   126 op add *tmp78 :visited:index 2
   127 read :visited:lx bank1 *tmp78
 
   137 label *label61
   138 label *label58
   139 op add :visited:i :visited:i 1
-    * jump *label57 always
+  140 jump *label206 lessThan :visited:i *tmp75
   141 label *label59
   142 set *tmp74 false
   143 jump *label56 always
 
   156 label *label50
   157 label *label51
   158 label *label36
-    * jump *label35 always
+  159 jump *label205 lessThan :locateOreAway:distance :findDrillLocation:distanceLimit
   160 label *label37
   161 set *tmp28 false
   162 jump *label34 always
 
   349 set :createMatrixOfSize:i 1
   350 label *label108
   351 jump *label110 greaterThanEq :createMatrixOfSize:i 7
+  352 label *label207
   353 jump *label111 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
   354 jump *label110 always
   355 label *label111
 
   358 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   359 label *label109
   360 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label108 always
+  361 jump *label207 lessThan :createMatrixOfSize:i 7
   362 label *label110
   363 jump *label107 always
   364 label *label107
 
   388 set :findPossiblePlacement:y -3
   389 label *label115
   390 jump *label117 greaterThan :findPossiblePlacement:y 3
+  391 label *label208
   392 op add *tmp219 :findPossiblePlacement:y 3
   393 op mul *tmp220 7 *tmp219
   394 op shl :findPossiblePlacement:mask :findPossiblePlacement:placementMask *tmp220
   395 set :findPossiblePlacement:x -3
   396 label *label118
   397 jump *label120 greaterThan :findPossiblePlacement:x 3
+  398 label *label209
   399 op and *tmp222 :findPossiblePlacement:terrainMask :findPossiblePlacement:mask
   400 jump *label121 notEqual *tmp222 0
   401 op mul *tmp225 :findPossiblePlacement:y 7
 
   412 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
   413 label *label119
   414 op add :findPossiblePlacement:x :findPossiblePlacement:x 1
-    * jump *label118 always
+  415 jump *label209 lessThanEq :findPossiblePlacement:x 3
   416 label *label120
   417 op sub *tmp231 3 :findPossiblePlacement:height
   418 jump *label125 lessThanEq :findPossiblePlacement:y *tmp231
 
   421 label *label126
   422 label *label116
   423 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
-    * jump *label115 always
+  424 jump *label208 lessThanEq :findPossiblePlacement:y 3
   425 label *label117
   426 set :findPossiblePlacement*retval -1
   427 jump *label114 always
 
   554 set :createBlockMaskRow:c 4
   555 label *label152
   556 jump *label154 lessThan :createBlockMaskRow:c -4
+  557 label *label210
   558 op shl *tmp295 :createBlockMaskRow:result 1
   559 op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
   560 ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
   561 op or :createBlockMaskRow:result *tmp295 *tmp297
   562 label *label153
   563 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label152 always
+  564 jump *label210 greaterThanEq :createBlockMaskRow:c -4
   565 label *label154
   566 set :createBlockMaskRow*retval :createBlockMaskRow:result
   567 jump *label151 always
 
   594 set :createAdjacentMask:r 2
   595 label *label159
   596 jump *label161 lessThan :createAdjacentMask:r -4
+  597 label *label211
   598 op add *tmp309 :createAdjacentMask:y :createAdjacentMask:r
   599 set :createBlockMaskRow:x :createAdjacentMask:x
   600 set :createBlockMaskRow:y *tmp309
 
   613 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   614 label *label160
   615 op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * jump *label159 always
+  616 jump *label211 greaterThanEq :createAdjacentMask:r -4
   617 label *label161
   618 op shr *tmp304 :createAdjacentMask:result 1
   619 label *label156

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 1 (-1 instructions):
 
   213 set :findDrillLocation:dx :findDrillLocation:newX
   214 set :findDrillLocation:dy :findDrillLocation:newY
   215 set :findDrillLocation:capacity :findDrillLocation:score
-    * jump *label77 greaterThanEq :findDrillLocation:limit 1000
-    * set .mapSpots :findDrillLocation:score
-    * label *label77
-    * label *label78
+  216 select .mapSpots lessThan :findDrillLocation:limit 1000 :findDrillLocation:score .mapSpots
   217 jump *label79 lessThan :findDrillLocation:capacity :findDrillLocation:limit
   218 op add .count .count 1
   219 sensor *tmp134 :findDrillLocation:item @id
 
   284 label *label13
   285 op abs *tmp166 :shiftMask:shiftX
   286 jump *label94 greaterThan *tmp166 6
-    * label *label95
   287 op abs *tmp168 :shiftMask:shiftY
   288 jump *label92 lessThanEq *tmp168 6
   289 label *label94
 
   334 op abs *tmp198 *tmp197
   335 op sub :excludeArea:overlapY *tmp196 *tmp198
   336 jump *label103 lessThanEq :excludeArea:overlapX 0
-    * label *label106
   337 jump *label103 lessThanEq :excludeArea:overlapY 0
-    * label *label105
   338 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
   339 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
   340 op shl *tmp206 1 :excludeArea:blockSizeX
 
   506 op sub *tmp273 .water2Y .node1Y
   507 op len *tmp274 *tmp272 *tmp273
   508 jump *label144 greaterThan *tmp274 7
-    * label *label147
   509 op sub *tmp276 .generatorX .node1X
   510 op sub *tmp277 .generatorY .node1Y
   511 op len *tmp278 *tmp276 *tmp277
   512 jump *label144 greaterThan *tmp278 7
-    * label *label146
   513 op sub *tmp280 .panelX .node1X
   514 op sub *tmp281 .panelY .node1Y
   515 op len *tmp282 *tmp280 *tmp281
   516 jump *label144 greaterThan *tmp282 6
-    * label *label145
   517 op sub *tmp284 .batteryX .node1X
   518 op sub *tmp285 .batteryY .node1Y
   519 op len *tmp286 *tmp284 *tmp285

Modifications by Full loop rotation at OreLocator.mnd:43:5 (+1 instructions):
 
    83 label *label41
    84 ucontrol within *tmp38 *tmp45 5 *tmp48
    85 jump *label43 notEqual *tmp48 false
+   86 label *label212
    87 ucontrol approach *tmp38 *tmp45 4.5
    88 label *label42
-    * jump *label41 always
+   89 ucontrol within *tmp38 *tmp45 5 *tmp48
+   90 jump *label212 equal *tmp48 false
    91 label *label43
    92 label *label40
    93 op div *tmp51 3.8197185279121366 :locateOreAway:distance

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   122 set *tmp75 .locations
   123 set :visited:i .locationsStart
   124 label *label57
-    * jump *label59 greaterThanEq :visited:i *tmp75
+  125 jump *label59 greaterThanEq .locationsStart *tmp75
   126 label *label206
   127 op mul :visited:index 4 :visited:i
   128 op add *tmp78 :visited:index 2
 
   344 set :createMatrixOfSize:matrix :createMatrixOfSize:row
   345 set :createMatrixOfSize:i 1
   346 label *label108
-    * jump *label110 greaterThanEq :createMatrixOfSize:i 7
+  347 jump *label110 greaterThanEq 1 7
   348 label *label207
   349 jump *label111 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
   350 jump *label110 always
 
   546 set :createBlockMaskRow:result 0
   547 set :createBlockMaskRow:c 4
   548 label *label152
-    * jump *label154 lessThan :createBlockMaskRow:c -4
+  549 jump *label154 lessThan 4 -4
   550 label *label210
   551 op shl *tmp295 :createBlockMaskRow:result 1
   552 op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
 
   586 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   587 set :createAdjacentMask:r 2
   588 label *label159
-    * jump *label161 lessThan :createAdjacentMask:r -4
+  589 jump *label161 lessThan 2 -4
   590 label *label211
   591 op add *tmp309 :createAdjacentMask:y :createAdjacentMask:r
   592 set :createBlockMaskRow:x :createAdjacentMask:x

Modifications by Full loop rotation at OreLocator.mnd:43:5 (+1 instructions):
 
   178 label *label66
   179 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102
   180 jump *label68 notEqual *tmp102 false
+  181 label *label213
   182 ucontrol approach :locateOreAway:x :locateOreAway:y 5.5
   183 label *label67
-    * jump *label66 always
+  184 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102
+  185 jump *label213 equal *tmp102 false
   186 label *label68
   187 label *label65
   188 label *label64

Modifications by Inline function call at OreLocator.mnd:492:20 (+9 instructions):
 
   593 op add *tmp309 :createAdjacentMask:y :createAdjacentMask:r
   594 set :createBlockMaskRow:x :createAdjacentMask:x
   595 set :createBlockMaskRow:y *tmp309
-    * setaddr :createBlockMaskRow*retaddr *label162 (h:*label162)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label162) (h:*label162)
-    * label *label162
+  596 label *label214
+  597 set :createBlockMaskRow:result 0
+  598 set :createBlockMaskRow:c 4
+  599 label *label215
+  600 jump *label218 lessThan 4 -4
+  601 label *label216
+  602 op shl *tmp295 :createBlockMaskRow:result 1
+  603 op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
+  604 ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
+  605 op or :createBlockMaskRow:result *tmp295 *tmp297
+  606 label *label217
+  607 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  608 jump *label216 greaterThanEq :createBlockMaskRow:c -4
+  609 label *label218
+  610 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  611 jump *label219 always
+  612 label *label219
   613 op shl *tmp311 :createAdjacentMask:row1 1
   614 op or *tmp312 :createAdjacentMask:row2 *tmp311
   615 op shr *tmp313 :createAdjacentMask:row1 1

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   600 jump *label218 lessThan 4 -4
   601 label *label216
   602 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
+  603 op add *tmp296 :createAdjacentMask:x :createBlockMaskRow:c
+  604 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   605 op or :createBlockMaskRow:result *tmp295 *tmp297
   606 label *label217
   607 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
 
   614 op or *tmp312 :createAdjacentMask:row2 *tmp311
   615 op shr *tmp313 :createAdjacentMask:row1 1
   616 op or *tmp314 *tmp312 *tmp313
-    * op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow*retval
+  617 op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow:result
   618 op shl *tmp316 :createAdjacentMask:result 7
   619 op and *tmp317 :createAdjacentMask:mask 0xFE
   620 op or :createAdjacentMask:result *tmp316 *tmp317
   621 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  622 set :createAdjacentMask:row1 :createBlockMaskRow:result
   623 label *label160
   624 op sub :createAdjacentMask:r :createAdjacentMask:r 1
   625 jump *label211 greaterThanEq :createAdjacentMask:r -4

Modifications by Full loop rotation at OreLocator.mnd:43:5 (+1 instructions):
 
    36 label *label26
    37 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
    38 jump *label28 notEqual *tmp18 false
+   39 label *label220
    40 ucontrol approach :findDrillLocation:x :findDrillLocation:y 5.5
    41 label *label27
-    * jump *label26 always
+   42 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
+   43 jump *label220 equal *tmp18 false
    44 label *label28
    45 label *label25
    46 label *label24

Modifications by Full loop rotation at OreLocator.mnd:43:5 (+1 instructions):
 
   662 label *label167
   663 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324
   664 jump *label169 notEqual *tmp324 false
+  665 label *label221
   666 ucontrol approach :moveTo.5:x :moveTo.5:y 0.5
   667 label *label168
-    * jump *label167 always
+  668 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324
+  669 jump *label221 equal *tmp324 false
   670 label *label169
   671 label *label166
   672 set :createCombinedMask:x .drillX

Modifications by Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 (+5 instructions):
 
   546 label *label127
   547 return :tryPlaceGenerator*retaddr
   548 end
-    * label *label17
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label152
-    * jump *label154 lessThan 4 -4
-    * label *label210
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label153
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label210 greaterThanEq :createBlockMaskRow:c -4
-    * label *label154
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
-    * jump *label151 always
-    * label *label151
-    * return :createBlockMaskRow*retaddr
-    * end
   549 label *label18
   550 write @unit processor4 ":createTerrainMask:unit"
   551 write :createCombinedMask:x processor4 ":createTerrainMask:x"
 
   558 op add *tmp305 :createCombinedMask:y 4
   559 set :createBlockMaskRow:x :createCombinedMask:x
   560 set :createBlockMaskRow:y *tmp305
-    * setaddr :createBlockMaskRow*retaddr *label157 (h:*label157)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label157) (h:*label157)
-    * label *label157
+  561 label *label222
+  562 set :createBlockMaskRow:result 0
+  563 set :createBlockMaskRow:c 4
+  564 label *label223
+  565 jump *label226 lessThan 4 -4
+  566 label *label224
+  567 op shl *tmp295 :createBlockMaskRow:result 1
+  568 op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
+  569 ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
+  570 op or :createBlockMaskRow:result *tmp295 *tmp297
+  571 label *label225
+  572 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  573 jump *label224 greaterThanEq :createBlockMaskRow:c -4
+  574 label *label226
+  575 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  576 jump *label227 always
+  577 label *label227
   578 set :createAdjacentMask:row2 :createBlockMaskRow*retval
   579 op add *tmp307 :createAdjacentMask:y 3
   580 set :createBlockMaskRow:x :createAdjacentMask:x
   581 set :createBlockMaskRow:y *tmp307
-    * setaddr :createBlockMaskRow*retaddr *label158 (h:*label158)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label158) (h:*label158)
-    * label *label158
+  582 label *label228
+  583 set :createBlockMaskRow:result 0
+  584 set :createBlockMaskRow:c 4
+  585 label *label229
+  586 jump *label232 lessThan 4 -4
+  587 label *label230
+  588 op shl *tmp295 :createBlockMaskRow:result 1
+  589 op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
+  590 ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
+  591 op or :createBlockMaskRow:result *tmp295 *tmp297
+  592 label *label231
+  593 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  594 jump *label230 greaterThanEq :createBlockMaskRow:c -4
+  595 label *label232
+  596 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  597 jump *label233 always
+  598 label *label233
   599 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   600 set :createAdjacentMask:r 2
   601 label *label159

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   565 jump *label226 lessThan 4 -4
   566 label *label224
   567 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
+  568 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  569 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   570 op or :createBlockMaskRow:result *tmp295 *tmp297
   571 label *label225
   572 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
 
   575 set :createBlockMaskRow*retval :createBlockMaskRow:result
   576 jump *label227 always
   577 label *label227
-    * set :createAdjacentMask:row2 :createBlockMaskRow*retval
-    * op add *tmp307 :createAdjacentMask:y 3
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  578 set :createAdjacentMask:row2 :createBlockMaskRow:result
+  579 op add *tmp307 :createCombinedMask:y 3
+  580 set :createBlockMaskRow:x :createCombinedMask:x
   581 set :createBlockMaskRow:y *tmp307
   582 label *label228
   583 set :createBlockMaskRow:result 0
 
   586 jump *label232 lessThan 4 -4
   587 label *label230
   588 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
+  589 op add *tmp296 :createAdjacentMask:x :createBlockMaskRow:c
+  590 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   591 op or :createBlockMaskRow:result *tmp295 *tmp297
   592 label *label231
   593 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
 
   596 set :createBlockMaskRow*retval :createBlockMaskRow:result
   597 jump *label233 always
   598 label *label233
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  599 set :createAdjacentMask:row1 :createBlockMaskRow:result
   600 set :createAdjacentMask:r 2
   601 label *label159
   602 jump *label161 lessThan 2 -4
   603 label *label211
-    * op add *tmp309 :createAdjacentMask:y :createAdjacentMask:r
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  604 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
+  605 set :createBlockMaskRow:x :createCombinedMask:x
   606 set :createBlockMaskRow:y *tmp309
   607 label *label214
   608 set :createBlockMaskRow:result 0
 
   611 jump *label218 lessThan 4 -4
   612 label *label216
   613 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createAdjacentMask:x :createBlockMaskRow:c
+  614 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
   615 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   616 op or :createBlockMaskRow:result *tmp295 *tmp297
   617 label *label217

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-10 instructions):
 
   553 write false processor4 ":createTerrainMask*finished"
   554 write 1 processor4 "@counter"
   555 set :createAdjacentMask:x :createCombinedMask:x
-    * set :createAdjacentMask:y :createCombinedMask:y
   556 set :createAdjacentMask:result 0
   557 op add *tmp305 :createCombinedMask:y 4
-    * set :createBlockMaskRow:x :createCombinedMask:x
-    * set :createBlockMaskRow:y *tmp305
   558 label *label222
   559 set :createBlockMaskRow:result 0
   560 set :createBlockMaskRow:c 4
 
   569 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   570 jump *label224 greaterThanEq :createBlockMaskRow:c -4
   571 label *label226
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   572 jump *label227 always
   573 label *label227
   574 set :createAdjacentMask:row2 :createBlockMaskRow:result
   575 op add *tmp307 :createCombinedMask:y 3
-    * set :createBlockMaskRow:x :createCombinedMask:x
-    * set :createBlockMaskRow:y *tmp307
   576 label *label228
   577 set :createBlockMaskRow:result 0
   578 set :createBlockMaskRow:c 4
 
   580 jump *label232 lessThan 4 -4
   581 label *label230
   582 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createAdjacentMask:x :createBlockMaskRow:c
+  583 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
   584 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   585 op or :createBlockMaskRow:result *tmp295 *tmp297
   586 label *label231
   587 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   588 jump *label230 greaterThanEq :createBlockMaskRow:c -4
   589 label *label232
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   590 jump *label233 always
   591 label *label233
   592 set :createAdjacentMask:row1 :createBlockMaskRow:result
 
   595 jump *label161 lessThan 2 -4
   596 label *label211
   597 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
-    * set :createBlockMaskRow:x :createCombinedMask:x
-    * set :createBlockMaskRow:y *tmp309
   598 label *label214
   599 set :createBlockMaskRow:result 0
   600 set :createBlockMaskRow:c 4
 
   609 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   610 jump *label216 greaterThanEq :createBlockMaskRow:c -4
   611 label *label218
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   612 jump *label219 always
   613 label *label219
   614 op shl *tmp311 :createAdjacentMask:row1 1

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-1 instructions):
 
   552 write :createCombinedMask:y processor4 ":createTerrainMask:y"
   553 write false processor4 ":createTerrainMask*finished"
   554 write 1 processor4 "@counter"
-    * set :createAdjacentMask:x :createCombinedMask:x
   555 set :createAdjacentMask:result 0
   556 op add *tmp305 :createCombinedMask:y 4
   557 label *label222

Modifications by Inline function 'shiftMask' defined at OreLocator.mnd:279:1 (+22 instructions):
 
   287 set :findDrillLocation*finished true
   288 return :findDrillLocation*retaddr
   289 end
-    * label *label13
-    * op abs *tmp166 :shiftMask:shiftX
-    * jump *label94 greaterThan *tmp166 6
-    * op abs *tmp168 :shiftMask:shiftY
-    * jump *label92 lessThanEq *tmp168 6
-    * label *label94
-    * set :shiftMask*retval 0
-    * jump *label91 always
-    * label *label92
-    * label *label93
-    * op mul *tmp171 7 :shiftMask:shiftY
-    * op add :shiftMask:shift :shiftMask:shiftX *tmp171
-    * jump *label96 lessThanEq :shiftMask:shift 0
-    * op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
-    * op and *tmp176 :shiftMask:mask :shiftMask:clearMask
-    * op shl :shiftMask:mask *tmp176 :shiftMask:shift
-    * jump *label97 always
-    * label *label96
-    * op sub *tmp178 0 :shiftMask:shift
-    * op shr :shiftMask:mask :shiftMask:mask *tmp178
-    * label *label97
-    * jump *label98 equal :shiftMask:shiftX 0
-    * op shr :shiftMask:keep 0b1111111 *tmp166
-    * jump *label100 lessThanEq :shiftMask:shiftX 0
-    * op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
-    * label *label100
-    * label *label101
-    * op shl *tmp185 :shiftMask:keep 7
-    * op or :shiftMask:keep :shiftMask:keep *tmp185
-    * op shl *tmp186 :shiftMask:keep 14
-    * op or :shiftMask:keep :shiftMask:keep *tmp186
-    * op shl *tmp187 :shiftMask:keep 21
-    * op or :shiftMask:keep :shiftMask:keep *tmp187
-    * op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
-    * label *label98
-    * label *label99
-    * set :shiftMask*retval :shiftMask:mask
-    * jump *label91 always
-    * label *label91
-    * return :shiftMask*retaddr
-    * end
   290 label *label14
   291 op add *tmp189 :excludeArea:areaWidth 8
   292 op idiv *tmp190 *tmp189 2
 
   330 set :shiftMask:mask :createMatrixOfSize:matrix
   331 set :shiftMask:shiftX :excludeArea:shiftX
   332 set :shiftMask:shiftY :excludeArea:shiftY
-    * setaddr :shiftMask*retaddr *label113 (h:*label113)
-    * call *label13 *invalid :shiftMask*retval (m:*label113) (h:*label113)
-    * label *label113
+  333 label *label234
+  334 op abs *tmp166 :shiftMask:shiftX
+  335 jump *label235 greaterThan *tmp166 6
+  336 op abs *tmp168 :shiftMask:shiftY
+  337 jump *label236 lessThanEq *tmp168 6
+  338 label *label235
+  339 set :shiftMask*retval 0
+  340 jump *label244 always
+  341 label *label236
+  342 label *label237
+  343 op mul *tmp171 7 :shiftMask:shiftY
+  344 op add :shiftMask:shift :shiftMask:shiftX *tmp171
+  345 jump *label238 lessThanEq :shiftMask:shift 0
+  346 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
+  347 op and *tmp176 :shiftMask:mask :shiftMask:clearMask
+  348 op shl :shiftMask:mask *tmp176 :shiftMask:shift
+  349 jump *label239 always
+  350 label *label238
+  351 op sub *tmp178 0 :shiftMask:shift
+  352 op shr :shiftMask:mask :shiftMask:mask *tmp178
+  353 label *label239
+  354 jump *label242 equal :shiftMask:shiftX 0
+  355 op shr :shiftMask:keep 0b1111111 *tmp166
+  356 jump *label240 lessThanEq :shiftMask:shiftX 0
+  357 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
+  358 label *label240
+  359 label *label241
+  360 op shl *tmp185 :shiftMask:keep 7
+  361 op or :shiftMask:keep :shiftMask:keep *tmp185
+  362 op shl *tmp186 :shiftMask:keep 14
+  363 op or :shiftMask:keep :shiftMask:keep *tmp186
+  364 op shl *tmp187 :shiftMask:keep 21
+  365 op or :shiftMask:keep :shiftMask:keep *tmp187
+  366 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
+  367 label *label242
+  368 label *label243
+  369 set :shiftMask*retval :shiftMask:mask
+  370 jump *label244 always
+  371 label *label244
   372 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   373 jump *label102 always
   374 jump *label104 always
 
   765 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
   766 set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
   767 set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
-    * setaddr :shiftMask*retaddr *label191 (h:*label191)
-    * call *label13 *invalid :shiftMask*retval (m:*label191) (h:*label191)
-    * label *label191
+  768 label *label245
+  769 op abs *tmp166 :shiftMask:shiftX
+  770 jump *label246 greaterThan *tmp166 6
+  771 op abs *tmp168 :shiftMask:shiftY
+  772 jump *label247 lessThanEq *tmp168 6
+  773 label *label246
+  774 set :shiftMask*retval 0
+  775 jump *label255 always
+  776 label *label247
+  777 label *label248
+  778 op mul *tmp171 7 :shiftMask:shiftY
+  779 op add :shiftMask:shift :shiftMask:shiftX *tmp171
+  780 jump *label249 lessThanEq :shiftMask:shift 0
+  781 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
+  782 op and *tmp176 :shiftMask:mask :shiftMask:clearMask
+  783 op shl :shiftMask:mask *tmp176 :shiftMask:shift
+  784 jump *label250 always
+  785 label *label249
+  786 op sub *tmp178 0 :shiftMask:shift
+  787 op shr :shiftMask:mask :shiftMask:mask *tmp178
+  788 label *label250
+  789 jump *label253 equal :shiftMask:shiftX 0
+  790 op shr :shiftMask:keep 0b1111111 *tmp166
+  791 jump *label251 lessThanEq :shiftMask:shiftX 0
+  792 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
+  793 label *label251
+  794 label *label252
+  795 op shl *tmp185 :shiftMask:keep 7
+  796 op or :shiftMask:keep :shiftMask:keep *tmp185
+  797 op shl *tmp186 :shiftMask:keep 14
+  798 op or :shiftMask:keep :shiftMask:keep *tmp186
+  799 op shl *tmp187 :shiftMask:keep 21
+  800 op or :shiftMask:keep :shiftMask:keep *tmp187
+  801 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
+  802 label *label253
+  803 label *label254
+  804 set :shiftMask*retval :shiftMask:mask
+  805 jump *label255 always
+  806 label *label255
   807 op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :shiftMask*retval
   808 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
   809 op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   331 set :shiftMask:shiftX :excludeArea:shiftX
   332 set :shiftMask:shiftY :excludeArea:shiftY
   333 label *label234
-    * op abs *tmp166 :shiftMask:shiftX
+  334 op abs *tmp166 :excludeArea:shiftX
   335 jump *label235 greaterThan *tmp166 6
-    * op abs *tmp168 :shiftMask:shiftY
+  336 op abs *tmp168 :excludeArea:shiftY
   337 jump *label236 lessThanEq *tmp168 6
   338 label *label235
   339 set :shiftMask*retval 0
   340 jump *label244 always
   341 label *label236
   342 label *label237
-    * op mul *tmp171 7 :shiftMask:shiftY
-    * op add :shiftMask:shift :shiftMask:shiftX *tmp171
+  343 op mul *tmp171 7 :excludeArea:shiftY
+  344 op add :shiftMask:shift :excludeArea:shiftX *tmp171
   345 jump *label238 lessThanEq :shiftMask:shift 0
   346 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
-    * op and *tmp176 :shiftMask:mask :shiftMask:clearMask
+  347 op and *tmp176 :createMatrixOfSize:matrix :shiftMask:clearMask
   348 op shl :shiftMask:mask *tmp176 :shiftMask:shift
   349 jump *label239 always
   350 label *label238
   351 op sub *tmp178 0 :shiftMask:shift
-    * op shr :shiftMask:mask :shiftMask:mask *tmp178
+  352 op shr :shiftMask:mask :createMatrixOfSize:matrix *tmp178
   353 label *label239
-    * jump *label242 equal :shiftMask:shiftX 0
+  354 jump *label242 equal :excludeArea:shiftX 0
   355 op shr :shiftMask:keep 0b1111111 *tmp166
-    * jump *label240 lessThanEq :shiftMask:shiftX 0
-    * op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
+  356 jump *label240 lessThanEq :excludeArea:shiftX 0
+  357 op shl :shiftMask:keep :shiftMask:keep :excludeArea:shiftX
   358 label *label240
   359 label *label241
   360 op shl *tmp185 :shiftMask:keep 7
 
   766 set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
   767 set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
   768 label *label245
-    * op abs *tmp166 :shiftMask:shiftX
+  769 op abs *tmp166 :layoutThoriumDrillAtLocation:sx
   770 jump *label246 greaterThan *tmp166 6
-    * op abs *tmp168 :shiftMask:shiftY
+  771 op abs *tmp168 :layoutThoriumDrillAtLocation:sy
   772 jump *label247 lessThanEq *tmp168 6
   773 label *label246
   774 set :shiftMask*retval 0
   775 jump *label255 always
   776 label *label247
   777 label *label248
-    * op mul *tmp171 7 :shiftMask:shiftY
-    * op add :shiftMask:shift :shiftMask:shiftX *tmp171
+  778 op mul *tmp171 7 :layoutThoriumDrillAtLocation:sy
+  779 op add :shiftMask:shift :layoutThoriumDrillAtLocation:sx *tmp171
   780 jump *label249 lessThanEq :shiftMask:shift 0
   781 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
-    * op and *tmp176 :shiftMask:mask :shiftMask:clearMask
+  782 op and *tmp176 :layoutThoriumDrillAtLocation:terrainMask :shiftMask:clearMask
   783 op shl :shiftMask:mask *tmp176 :shiftMask:shift
   784 jump *label250 always
   785 label *label249
   786 op sub *tmp178 0 :shiftMask:shift
-    * op shr :shiftMask:mask :shiftMask:mask *tmp178
+  787 op shr :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask *tmp178
   788 label *label250
-    * jump *label253 equal :shiftMask:shiftX 0
+  789 jump *label253 equal :layoutThoriumDrillAtLocation:sx 0
   790 op shr :shiftMask:keep 0b1111111 *tmp166
-    * jump *label251 lessThanEq :shiftMask:shiftX 0
-    * op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
+  791 jump *label251 lessThanEq :layoutThoriumDrillAtLocation:sx 0
+  792 op shl :shiftMask:keep :shiftMask:keep :layoutThoriumDrillAtLocation:sx
   793 label *label251
   794 label *label252
   795 op shl *tmp185 :shiftMask:keep 7
 
   804 set :shiftMask*retval :shiftMask:mask
   805 jump *label255 always
   806 label *label255
-    * op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :shiftMask*retval
+  807 op or :layoutThoriumDrillAtLocation:combinedMask :createCombinedMask*retval :shiftMask*retval
   808 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
   809 op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy
   810 set :tryPlaceGenerator:centerX *tmp362

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   327 op lessThan *tmp215 :excludeArea:maskY :excludeArea:areaY
   328 op sub *tmp216 7 :excludeArea:blockSizeY
   329 op mul :excludeArea:shiftY *tmp215 *tmp216
-    * set :shiftMask:mask :createMatrixOfSize:matrix
-    * set :shiftMask:shiftX :excludeArea:shiftX
-    * set :shiftMask:shiftY :excludeArea:shiftY
   330 label *label234
   331 op abs *tmp166 :excludeArea:shiftX
   332 jump *label235 greaterThan *tmp166 6
 
   758 setaddr :createCombinedMask*retaddr *label190 (h:*label190)
   759 call *label18 *invalid :createCombinedMask*retval (m:*label190) (h:*label190)
   760 label *label190
-    * set :layoutThoriumDrillAtLocation:newTerrainMask :createCombinedMask*retval
   761 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
-    * set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
-    * set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
   762 label *label245
   763 op abs *tmp166 :layoutThoriumDrillAtLocation:sx
   764 jump *label246 greaterThan *tmp166 6

Modifications by Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 (+88 instructions):
 
   420 label *label114
   421 return :findPossiblePlacement*retaddr
   422 end
-    * label *label16
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorVertical
-    * set :findPossiblePlacement:width 2
-    * set :findPossiblePlacement:height 4
-    * setaddr :findPossiblePlacement*retaddr *label128 (h:*label128)
-    * call *label15 *invalid :findPossiblePlacement*retval (m:*label128) (h:*label128)
-    * label *label128
-    * jump *label129 lessThan :findPossiblePlacement*retval 0
-    * jump *label131 greaterThanEq :findPossiblePlacement*retval 0
-    * set :tryPlaceGenerator*retval false
-    * jump *label127 always
-    * label *label131
-    * label *label132
-    * op add *tmp239 :tryPlaceGenerator:centerX 0.5
-    * op add .water2X *tmp239 :findPossiblePlacement:x
-    * op add *tmp241 :tryPlaceGenerator:centerY 0.5
-    * op add .water2Y *tmp241 :findPossiblePlacement:y
-    * op add .generatorX *tmp239 :findPossiblePlacement:x
-    * op add *tmp245 :tryPlaceGenerator:centerY 2.5
-    * op add .generatorY *tmp245 :findPossiblePlacement:y
-    * op shl *tmp247 :tryPlaceGenerator:generatorVertical :findPossiblePlacement*retval
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp247
-    * jump *label130 always
-    * label *label129
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorHorizontal
-    * set :findPossiblePlacement:width 4
-    * set :findPossiblePlacement:height 2
-    * setaddr :findPossiblePlacement*retaddr *label133 (h:*label133)
-    * call *label15 *invalid :findPossiblePlacement*retval (m:*label133) (h:*label133)
-    * label *label133
-    * jump *label134 greaterThanEq :findPossiblePlacement*retval 0
-    * set :tryPlaceGenerator*retval false
-    * jump *label127 always
-    * label *label134
-    * label *label135
-    * op add *tmp251 :tryPlaceGenerator:centerX 0.5
-    * op add .water2X *tmp251 :findPossiblePlacement:x
-    * op add *tmp253 :tryPlaceGenerator:centerY 0.5
-    * op add .water2Y *tmp253 :findPossiblePlacement:y
-    * op add *tmp255 :tryPlaceGenerator:centerX 2.5
-    * op add .generatorX *tmp255 :findPossiblePlacement:x
-    * op add .generatorY *tmp253 :findPossiblePlacement:y
-    * op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
-    * label *label130
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask 437639987601635
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask 1
-    * set :findPossiblePlacement:width 1
-    * set :findPossiblePlacement:height 1
-    * setaddr :findPossiblePlacement*retaddr *label136 (h:*label136)
-    * call *label15 *invalid :findPossiblePlacement*retval (m:*label136) (h:*label136)
-    * label *label136
-    * jump *label137 greaterThanEq :findPossiblePlacement*retval 0
-    * set :tryPlaceGenerator*retval false
-    * jump *label127 always
-    * label *label137
-    * label *label138
-    * op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
-    * op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
-    * op shl *tmp265 1 :findPossiblePlacement*retval
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp265
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask 1
-    * set :findPossiblePlacement:width 1
-    * set :findPossiblePlacement:height 1
-    * setaddr :findPossiblePlacement*retaddr *label139 (h:*label139)
-    * call *label15 *invalid :findPossiblePlacement*retval (m:*label139) (h:*label139)
-    * label *label139
-    * jump *label140 greaterThanEq :findPossiblePlacement*retval 0
-    * set :tryPlaceGenerator*retval false
-    * jump *label127 always
-    * label *label140
-    * label *label141
-    * op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
-    * op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
-    * op shl *tmp271 1 :findPossiblePlacement*retval
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp271
-    * op sub *tmp272 .water2X .node1X
-    * op sub *tmp273 .water2Y .node1Y
-    * op len *tmp274 *tmp272 *tmp273
-    * jump *label144 greaterThan *tmp274 7
-    * op sub *tmp276 .generatorX .node1X
-    * op sub *tmp277 .generatorY .node1Y
-    * op len *tmp278 *tmp276 *tmp277
-    * jump *label144 greaterThan *tmp278 7
-    * op sub *tmp280 .panelX .node1X
-    * op sub *tmp281 .panelY .node1Y
-    * op len *tmp282 *tmp280 *tmp281
-    * jump *label144 greaterThan *tmp282 6
-    * op sub *tmp284 .batteryX .node1X
-    * op sub *tmp285 .batteryY .node1Y
-    * op len *tmp286 *tmp284 *tmp285
-    * jump *label142 lessThanEq *tmp286 6
-    * label *label144
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask 1
-    * set :findPossiblePlacement:width 1
-    * set :findPossiblePlacement:height 1
-    * setaddr :findPossiblePlacement*retaddr *label148 (h:*label148)
-    * call *label15 *invalid :findPossiblePlacement*retval (m:*label148) (h:*label148)
-    * label *label148
-    * jump *label149 greaterThanEq :findPossiblePlacement*retval 0
-    * set :tryPlaceGenerator*retval false
-    * jump *label127 always
-    * label *label149
-    * label *label150
-    * op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
-    * op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
-    * label *label142
-    * label *label143
-    * set :tryPlaceGenerator*retval true
-    * jump *label127 always
-    * label *label127
-    * return :tryPlaceGenerator*retaddr
-    * end
   423 label *label18
   424 write @unit processor4 ":createTerrainMask:unit"
   425 write :createCombinedMask:x processor4 ":createTerrainMask:x"
 
   606 set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:terrainMask
   607 set :tryPlaceGenerator:generatorHorizontal 1935
   608 set :tryPlaceGenerator:generatorVertical 6340995
-    * setaddr :tryPlaceGenerator*retaddr *label182 (h:*label182)
-    * call *label16 *invalid :tryPlaceGenerator*retval (m:*label182) (h:*label182)
-    * label *label182
+  609 label *label256
+  610 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  611 set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorVertical
+  612 set :findPossiblePlacement:width 2
+  613 set :findPossiblePlacement:height 4
+  614 setaddr :findPossiblePlacement*retaddr *label257 (h:*label257)
+  615 call *label15 *invalid :findPossiblePlacement*retval (m:*label257) (h:*label257)
+  616 label *label257
+  617 jump *label260 lessThan :findPossiblePlacement*retval 0
+  618 jump *label258 greaterThanEq :findPossiblePlacement*retval 0
+  619 set :tryPlaceGenerator*retval false
+  620 jump *label277 always
+  621 label *label258
+  622 label *label259
+  623 op add *tmp239 :tryPlaceGenerator:centerX 0.5
+  624 op add .water2X *tmp239 :findPossiblePlacement:x
+  625 op add *tmp241 :tryPlaceGenerator:centerY 0.5
+  626 op add .water2Y *tmp241 :findPossiblePlacement:y
+  627 op add .generatorX *tmp239 :findPossiblePlacement:x
+  628 op add *tmp245 :tryPlaceGenerator:centerY 2.5
+  629 op add .generatorY *tmp245 :findPossiblePlacement:y
+  630 op shl *tmp247 :tryPlaceGenerator:generatorVertical :findPossiblePlacement*retval
+  631 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp247
+  632 jump *label264 always
+  633 label *label260
+  634 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  635 set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorHorizontal
+  636 set :findPossiblePlacement:width 4
+  637 set :findPossiblePlacement:height 2
+  638 setaddr :findPossiblePlacement*retaddr *label261 (h:*label261)
+  639 call *label15 *invalid :findPossiblePlacement*retval (m:*label261) (h:*label261)
+  640 label *label261
+  641 jump *label262 greaterThanEq :findPossiblePlacement*retval 0
+  642 set :tryPlaceGenerator*retval false
+  643 jump *label277 always
+  644 label *label262
+  645 label *label263
+  646 op add *tmp251 :tryPlaceGenerator:centerX 0.5
+  647 op add .water2X *tmp251 :findPossiblePlacement:x
+  648 op add *tmp253 :tryPlaceGenerator:centerY 0.5
+  649 op add .water2Y *tmp253 :findPossiblePlacement:y
+  650 op add *tmp255 :tryPlaceGenerator:centerX 2.5
+  651 op add .generatorX *tmp255 :findPossiblePlacement:x
+  652 op add .generatorY *tmp253 :findPossiblePlacement:y
+  653 op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
+  654 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
+  655 label *label264
+  656 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask 437639987601635
+  657 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  658 set :findPossiblePlacement:placementMask 1
+  659 set :findPossiblePlacement:width 1
+  660 set :findPossiblePlacement:height 1
+  661 setaddr :findPossiblePlacement*retaddr *label265 (h:*label265)
+  662 call *label15 *invalid :findPossiblePlacement*retval (m:*label265) (h:*label265)
+  663 label *label265
+  664 jump *label266 greaterThanEq :findPossiblePlacement*retval 0
+  665 set :tryPlaceGenerator*retval false
+  666 jump *label277 always
+  667 label *label266
+  668 label *label267
+  669 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  670 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  671 op shl *tmp265 1 :findPossiblePlacement*retval
+  672 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp265
+  673 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  674 set :findPossiblePlacement:placementMask 1
+  675 set :findPossiblePlacement:width 1
+  676 set :findPossiblePlacement:height 1
+  677 setaddr :findPossiblePlacement*retaddr *label268 (h:*label268)
+  678 call *label15 *invalid :findPossiblePlacement*retval (m:*label268) (h:*label268)
+  679 label *label268
+  680 jump *label269 greaterThanEq :findPossiblePlacement*retval 0
+  681 set :tryPlaceGenerator*retval false
+  682 jump *label277 always
+  683 label *label269
+  684 label *label270
+  685 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  686 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  687 op shl *tmp271 1 :findPossiblePlacement*retval
+  688 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp271
+  689 op sub *tmp272 .water2X .node1X
+  690 op sub *tmp273 .water2Y .node1Y
+  691 op len *tmp274 *tmp272 *tmp273
+  692 jump *label271 greaterThan *tmp274 7
+  693 op sub *tmp276 .generatorX .node1X
+  694 op sub *tmp277 .generatorY .node1Y
+  695 op len *tmp278 *tmp276 *tmp277
+  696 jump *label271 greaterThan *tmp278 7
+  697 op sub *tmp280 .panelX .node1X
+  698 op sub *tmp281 .panelY .node1Y
+  699 op len *tmp282 *tmp280 *tmp281
+  700 jump *label271 greaterThan *tmp282 6
+  701 op sub *tmp284 .batteryX .node1X
+  702 op sub *tmp285 .batteryY .node1Y
+  703 op len *tmp286 *tmp284 *tmp285
+  704 jump *label275 lessThanEq *tmp286 6
+  705 label *label271
+  706 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  707 set :findPossiblePlacement:placementMask 1
+  708 set :findPossiblePlacement:width 1
+  709 set :findPossiblePlacement:height 1
+  710 setaddr :findPossiblePlacement*retaddr *label272 (h:*label272)
+  711 call *label15 *invalid :findPossiblePlacement*retval (m:*label272) (h:*label272)
+  712 label *label272
+  713 jump *label273 greaterThanEq :findPossiblePlacement*retval 0
+  714 set :tryPlaceGenerator*retval false
+  715 jump *label277 always
+  716 label *label273
+  717 label *label274
+  718 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  719 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  720 label *label275
+  721 label *label276
+  722 set :tryPlaceGenerator*retval true
+  723 jump *label277 always
+  724 label *label277
   725 jump *label180 equal :tryPlaceGenerator*retval false
   726 set :layoutThoriumDrillAtLocation*retval true
   727 jump *label165 always
 
   801 set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:combinedMask
   802 set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDrillAtLocation:generatorHorizontal
   803 set :tryPlaceGenerator:generatorVertical :layoutThoriumDrillAtLocation:generatorVertical
-    * setaddr :tryPlaceGenerator*retaddr *label194 (h:*label194)
-    * call *label16 *invalid :tryPlaceGenerator*retval (m:*label194) (h:*label194)
-    * label *label194
+  804 label *label278
+  805 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  806 set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorVertical
+  807 set :findPossiblePlacement:width 2
+  808 set :findPossiblePlacement:height 4
+  809 setaddr :findPossiblePlacement*retaddr *label279 (h:*label279)
+  810 call *label15 *invalid :findPossiblePlacement*retval (m:*label279) (h:*label279)
+  811 label *label279
+  812 jump *label282 lessThan :findPossiblePlacement*retval 0
+  813 jump *label280 greaterThanEq :findPossiblePlacement*retval 0
+  814 set :tryPlaceGenerator*retval false
+  815 jump *label299 always
+  816 label *label280
+  817 label *label281
+  818 op add *tmp239 :tryPlaceGenerator:centerX 0.5
+  819 op add .water2X *tmp239 :findPossiblePlacement:x
+  820 op add *tmp241 :tryPlaceGenerator:centerY 0.5
+  821 op add .water2Y *tmp241 :findPossiblePlacement:y
+  822 op add .generatorX *tmp239 :findPossiblePlacement:x
+  823 op add *tmp245 :tryPlaceGenerator:centerY 2.5
+  824 op add .generatorY *tmp245 :findPossiblePlacement:y
+  825 op shl *tmp247 :tryPlaceGenerator:generatorVertical :findPossiblePlacement*retval
+  826 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp247
+  827 jump *label286 always
+  828 label *label282
+  829 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  830 set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorHorizontal
+  831 set :findPossiblePlacement:width 4
+  832 set :findPossiblePlacement:height 2
+  833 setaddr :findPossiblePlacement*retaddr *label283 (h:*label283)
+  834 call *label15 *invalid :findPossiblePlacement*retval (m:*label283) (h:*label283)
+  835 label *label283
+  836 jump *label284 greaterThanEq :findPossiblePlacement*retval 0
+  837 set :tryPlaceGenerator*retval false
+  838 jump *label299 always
+  839 label *label284
+  840 label *label285
+  841 op add *tmp251 :tryPlaceGenerator:centerX 0.5
+  842 op add .water2X *tmp251 :findPossiblePlacement:x
+  843 op add *tmp253 :tryPlaceGenerator:centerY 0.5
+  844 op add .water2Y *tmp253 :findPossiblePlacement:y
+  845 op add *tmp255 :tryPlaceGenerator:centerX 2.5
+  846 op add .generatorX *tmp255 :findPossiblePlacement:x
+  847 op add .generatorY *tmp253 :findPossiblePlacement:y
+  848 op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
+  849 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
+  850 label *label286
+  851 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask 437639987601635
+  852 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  853 set :findPossiblePlacement:placementMask 1
+  854 set :findPossiblePlacement:width 1
+  855 set :findPossiblePlacement:height 1
+  856 setaddr :findPossiblePlacement*retaddr *label287 (h:*label287)
+  857 call *label15 *invalid :findPossiblePlacement*retval (m:*label287) (h:*label287)
+  858 label *label287
+  859 jump *label288 greaterThanEq :findPossiblePlacement*retval 0
+  860 set :tryPlaceGenerator*retval false
+  861 jump *label299 always
+  862 label *label288
+  863 label *label289
+  864 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  865 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  866 op shl *tmp265 1 :findPossiblePlacement*retval
+  867 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp265
+  868 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  869 set :findPossiblePlacement:placementMask 1
+  870 set :findPossiblePlacement:width 1
+  871 set :findPossiblePlacement:height 1
+  872 setaddr :findPossiblePlacement*retaddr *label290 (h:*label290)
+  873 call *label15 *invalid :findPossiblePlacement*retval (m:*label290) (h:*label290)
+  874 label *label290
+  875 jump *label291 greaterThanEq :findPossiblePlacement*retval 0
+  876 set :tryPlaceGenerator*retval false
+  877 jump *label299 always
+  878 label *label291
+  879 label *label292
+  880 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  881 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  882 op shl *tmp271 1 :findPossiblePlacement*retval
+  883 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp271
+  884 op sub *tmp272 .water2X .node1X
+  885 op sub *tmp273 .water2Y .node1Y
+  886 op len *tmp274 *tmp272 *tmp273
+  887 jump *label293 greaterThan *tmp274 7
+  888 op sub *tmp276 .generatorX .node1X
+  889 op sub *tmp277 .generatorY .node1Y
+  890 op len *tmp278 *tmp276 *tmp277
+  891 jump *label293 greaterThan *tmp278 7
+  892 op sub *tmp280 .panelX .node1X
+  893 op sub *tmp281 .panelY .node1Y
+  894 op len *tmp282 *tmp280 *tmp281
+  895 jump *label293 greaterThan *tmp282 6
+  896 op sub *tmp284 .batteryX .node1X
+  897 op sub *tmp285 .batteryY .node1Y
+  898 op len *tmp286 *tmp284 *tmp285
+  899 jump *label297 lessThanEq *tmp286 6
+  900 label *label293
+  901 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  902 set :findPossiblePlacement:placementMask 1
+  903 set :findPossiblePlacement:width 1
+  904 set :findPossiblePlacement:height 1
+  905 setaddr :findPossiblePlacement*retaddr *label294 (h:*label294)
+  906 call *label15 *invalid :findPossiblePlacement*retval (m:*label294) (h:*label294)
+  907 label *label294
+  908 jump *label295 greaterThanEq :findPossiblePlacement*retval 0
+  909 set :tryPlaceGenerator*retval false
+  910 jump *label299 always
+  911 label *label295
+  912 label *label296
+  913 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  914 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  915 label *label297
+  916 label *label298
+  917 set :tryPlaceGenerator*retval true
+  918 jump *label299 always
+  919 label *label299
   920 jump *label192 equal :tryPlaceGenerator*retval false
   921 set :layoutThoriumDrillAtLocation*retval true
   922 jump *label165 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   607 set :tryPlaceGenerator:generatorHorizontal 1935
   608 set :tryPlaceGenerator:generatorVertical 6340995
   609 label *label256
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorVertical
+  610 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:terrainMask
+  611 set :findPossiblePlacement:placementMask 6340995
   612 set :findPossiblePlacement:width 2
   613 set :findPossiblePlacement:height 4
   614 setaddr :findPossiblePlacement*retaddr *label257 (h:*label257)
 
   802 set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDrillAtLocation:generatorHorizontal
   803 set :tryPlaceGenerator:generatorVertical :layoutThoriumDrillAtLocation:generatorVertical
   804 label *label278
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorVertical
+  805 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:combinedMask
+  806 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:generatorVertical
   807 set :findPossiblePlacement:width 2
   808 set :findPossiblePlacement:height 4
   809 setaddr :findPossiblePlacement*retaddr *label279 (h:*label279)

Modifications by Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 (+65 instructions):
 
   420 label *label114
   421 return :findPossiblePlacement*retaddr
   422 end
-    * label *label18
-    * write @unit processor4 ":createTerrainMask:unit"
-    * write :createCombinedMask:x processor4 ":createTerrainMask:x"
-    * write :createCombinedMask:y processor4 ":createTerrainMask:y"
-    * write false processor4 ":createTerrainMask*finished"
-    * write 1 processor4 "@counter"
-    * set :createAdjacentMask:result 0
-    * op add *tmp305 :createCombinedMask:y 4
-    * label *label222
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label223
-    * jump *label226 lessThan 4 -4
-    * label *label224
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label225
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label224 greaterThanEq :createBlockMaskRow:c -4
-    * label *label226
-    * jump *label227 always
-    * label *label227
-    * set :createAdjacentMask:row2 :createBlockMaskRow:result
-    * op add *tmp307 :createCombinedMask:y 3
-    * label *label228
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label229
-    * jump *label232 lessThan 4 -4
-    * label *label230
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label231
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label230 greaterThanEq :createBlockMaskRow:c -4
-    * label *label232
-    * jump *label233 always
-    * label *label233
-    * set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * set :createAdjacentMask:r 2
-    * label *label159
-    * jump *label161 lessThan 2 -4
-    * label *label211
-    * op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
-    * label *label214
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label215
-    * jump *label218 lessThan 4 -4
-    * label *label216
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label217
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label216 greaterThanEq :createBlockMaskRow:c -4
-    * label *label218
-    * jump *label219 always
-    * label *label219
-    * op shl *tmp311 :createAdjacentMask:row1 1
-    * op or *tmp312 :createAdjacentMask:row2 *tmp311
-    * op shr *tmp313 :createAdjacentMask:row1 1
-    * op or *tmp314 *tmp312 *tmp313
-    * op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow:result
-    * op shl *tmp316 :createAdjacentMask:result 7
-    * op and *tmp317 :createAdjacentMask:mask 0xFE
-    * op or :createAdjacentMask:result *tmp316 *tmp317
-    * set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label160
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * jump *label211 greaterThanEq :createAdjacentMask:r -4
-    * label *label161
-    * op shr *tmp304 :createAdjacentMask:result 1
-    * label *label156
-    * label *label163
-    * wait 1e-15
-    * read *tmp320 processor4 ":createTerrainMask*finished"
-    * jump *label163 equal *tmp320 false
-    * read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
-    * op or :excludeArea:mask *tmp304 :createCombinedMask:terrainMask
-    * set :excludeArea:maskX :createCombinedMask:x
-    * set :excludeArea:maskY :createCombinedMask:y
-    * set :excludeArea:areaX .coreX
-    * set :excludeArea:areaY .coreY
-    * set :excludeArea:areaWidth 15
-    * set :excludeArea:areaHeight 15
-    * setaddr :excludeArea*retaddr *label164 (h:*label164)
-    * call *label14 *invalid :excludeArea*retval (m:*label164) (h:*label164)
-    * label *label164
-    * set :createCombinedMask*retval :excludeArea*retval
-    * jump *label155 always
-    * label *label155
-    * return :createCombinedMask*retaddr
-    * end
   423 label *label19
   424 set .panelY -1
   425 set .panelX -1
 
   443 label *label166
   444 set :createCombinedMask:x .drillX
   445 set :createCombinedMask:y .drillY
-    * setaddr :createCombinedMask*retaddr *label170 (h:*label170)
-    * call *label18 *invalid :createCombinedMask*retval (m:*label170) (h:*label170)
-    * label *label170
+  446 label *label300
+  447 write @unit processor4 ":createTerrainMask:unit"
+  448 write :createCombinedMask:x processor4 ":createTerrainMask:x"
+  449 write :createCombinedMask:y processor4 ":createTerrainMask:y"
+  450 write false processor4 ":createTerrainMask*finished"
+  451 write 1 processor4 "@counter"
+  452 set :createAdjacentMask:result 0
+  453 op add *tmp305 :createCombinedMask:y 4
+  454 label *label301
+  455 set :createBlockMaskRow:result 0
+  456 set :createBlockMaskRow:c 4
+  457 label *label302
+  458 jump *label305 lessThan 4 -4
+  459 label *label303
+  460 op shl *tmp295 :createBlockMaskRow:result 1
+  461 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  462 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  463 op or :createBlockMaskRow:result *tmp295 *tmp297
+  464 label *label304
+  465 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  466 jump *label303 greaterThanEq :createBlockMaskRow:c -4
+  467 label *label305
+  468 jump *label306 always
+  469 label *label306
+  470 set :createAdjacentMask:row2 :createBlockMaskRow:result
+  471 op add *tmp307 :createCombinedMask:y 3
+  472 label *label307
+  473 set :createBlockMaskRow:result 0
+  474 set :createBlockMaskRow:c 4
+  475 label *label308
+  476 jump *label311 lessThan 4 -4
+  477 label *label309
+  478 op shl *tmp295 :createBlockMaskRow:result 1
+  479 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  480 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  481 op or :createBlockMaskRow:result *tmp295 *tmp297
+  482 label *label310
+  483 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  484 jump *label309 greaterThanEq :createBlockMaskRow:c -4
+  485 label *label311
+  486 jump *label312 always
+  487 label *label312
+  488 set :createAdjacentMask:row1 :createBlockMaskRow:result
+  489 set :createAdjacentMask:r 2
+  490 label *label313
+  491 jump *label322 lessThan 2 -4
+  492 label *label314
+  493 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
+  494 label *label315
+  495 set :createBlockMaskRow:result 0
+  496 set :createBlockMaskRow:c 4
+  497 label *label316
+  498 jump *label319 lessThan 4 -4
+  499 label *label317
+  500 op shl *tmp295 :createBlockMaskRow:result 1
+  501 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  502 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  503 op or :createBlockMaskRow:result *tmp295 *tmp297
+  504 label *label318
+  505 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  506 jump *label317 greaterThanEq :createBlockMaskRow:c -4
+  507 label *label319
+  508 jump *label320 always
+  509 label *label320
+  510 op shl *tmp311 :createAdjacentMask:row1 1
+  511 op or *tmp312 :createAdjacentMask:row2 *tmp311
+  512 op shr *tmp313 :createAdjacentMask:row1 1
+  513 op or *tmp314 *tmp312 *tmp313
+  514 op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow:result
+  515 op shl *tmp316 :createAdjacentMask:result 7
+  516 op and *tmp317 :createAdjacentMask:mask 0xFE
+  517 op or :createAdjacentMask:result *tmp316 *tmp317
+  518 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  519 set :createAdjacentMask:row1 :createBlockMaskRow:result
+  520 label *label321
+  521 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  522 jump *label314 greaterThanEq :createAdjacentMask:r -4
+  523 label *label322
+  524 op shr *tmp304 :createAdjacentMask:result 1
+  525 label *label323
+  526 label *label324
+  527 wait 1e-15
+  528 read *tmp320 processor4 ":createTerrainMask*finished"
+  529 jump *label324 equal *tmp320 false
+  530 read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
+  531 op or :excludeArea:mask *tmp304 :createCombinedMask:terrainMask
+  532 set :excludeArea:maskX :createCombinedMask:x
+  533 set :excludeArea:maskY :createCombinedMask:y
+  534 set :excludeArea:areaX .coreX
+  535 set :excludeArea:areaY .coreY
+  536 set :excludeArea:areaWidth 15
+  537 set :excludeArea:areaHeight 15
+  538 setaddr :excludeArea*retaddr *label325 (h:*label325)
+  539 call *label14 *invalid :excludeArea*retval (m:*label325) (h:*label325)
+  540 label *label325
+  541 set :createCombinedMask*retval :excludeArea*retval
+  542 jump *label326 always
+  543 label *label326
   544 op or :layoutThoriumDrillAtLocation:terrainMask :createCombinedMask*retval 7575371776
   545 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   546 set :layoutThoriumDrillAtLocation:mask2x2 387
 
   745 op sub :layoutThoriumDrillAtLocation:newY .drillY :layoutThoriumDrillAtLocation:sy
   746 set :createCombinedMask:x :layoutThoriumDrillAtLocation:newX
   747 set :createCombinedMask:y :layoutThoriumDrillAtLocation:newY
-    * setaddr :createCombinedMask*retaddr *label190 (h:*label190)
-    * call *label18 *invalid :createCombinedMask*retval (m:*label190) (h:*label190)
-    * label *label190
+  748 label *label327
+  749 write @unit processor4 ":createTerrainMask:unit"
+  750 write :createCombinedMask:x processor4 ":createTerrainMask:x"
+  751 write :createCombinedMask:y processor4 ":createTerrainMask:y"
+  752 write false processor4 ":createTerrainMask*finished"
+  753 write 1 processor4 "@counter"
+  754 set :createAdjacentMask:result 0
+  755 op add *tmp305 :createCombinedMask:y 4
+  756 label *label328
+  757 set :createBlockMaskRow:result 0
+  758 set :createBlockMaskRow:c 4
+  759 label *label329
+  760 jump *label332 lessThan 4 -4
+  761 label *label330
+  762 op shl *tmp295 :createBlockMaskRow:result 1
+  763 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  764 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  765 op or :createBlockMaskRow:result *tmp295 *tmp297
+  766 label *label331
+  767 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  768 jump *label330 greaterThanEq :createBlockMaskRow:c -4
+  769 label *label332
+  770 jump *label333 always
+  771 label *label333
+  772 set :createAdjacentMask:row2 :createBlockMaskRow:result
+  773 op add *tmp307 :createCombinedMask:y 3
+  774 label *label334
+  775 set :createBlockMaskRow:result 0
+  776 set :createBlockMaskRow:c 4
+  777 label *label335
+  778 jump *label338 lessThan 4 -4
+  779 label *label336
+  780 op shl *tmp295 :createBlockMaskRow:result 1
+  781 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  782 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  783 op or :createBlockMaskRow:result *tmp295 *tmp297
+  784 label *label337
+  785 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  786 jump *label336 greaterThanEq :createBlockMaskRow:c -4
+  787 label *label338
+  788 jump *label339 always
+  789 label *label339
+  790 set :createAdjacentMask:row1 :createBlockMaskRow:result
+  791 set :createAdjacentMask:r 2
+  792 label *label340
+  793 jump *label349 lessThan 2 -4
+  794 label *label341
+  795 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
+  796 label *label342
+  797 set :createBlockMaskRow:result 0
+  798 set :createBlockMaskRow:c 4
+  799 label *label343
+  800 jump *label346 lessThan 4 -4
+  801 label *label344
+  802 op shl *tmp295 :createBlockMaskRow:result 1
+  803 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  804 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  805 op or :createBlockMaskRow:result *tmp295 *tmp297
+  806 label *label345
+  807 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  808 jump *label344 greaterThanEq :createBlockMaskRow:c -4
+  809 label *label346
+  810 jump *label347 always
+  811 label *label347
+  812 op shl *tmp311 :createAdjacentMask:row1 1
+  813 op or *tmp312 :createAdjacentMask:row2 *tmp311
+  814 op shr *tmp313 :createAdjacentMask:row1 1
+  815 op or *tmp314 *tmp312 *tmp313
+  816 op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow:result
+  817 op shl *tmp316 :createAdjacentMask:result 7
+  818 op and *tmp317 :createAdjacentMask:mask 0xFE
+  819 op or :createAdjacentMask:result *tmp316 *tmp317
+  820 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  821 set :createAdjacentMask:row1 :createBlockMaskRow:result
+  822 label *label348
+  823 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  824 jump *label341 greaterThanEq :createAdjacentMask:r -4
+  825 label *label349
+  826 op shr *tmp304 :createAdjacentMask:result 1
+  827 label *label350
+  828 label *label351
+  829 wait 1e-15
+  830 read *tmp320 processor4 ":createTerrainMask*finished"
+  831 jump *label351 equal *tmp320 false
+  832 read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
+  833 op or :excludeArea:mask *tmp304 :createCombinedMask:terrainMask
+  834 set :excludeArea:maskX :createCombinedMask:x
+  835 set :excludeArea:maskY :createCombinedMask:y
+  836 set :excludeArea:areaX .coreX
+  837 set :excludeArea:areaY .coreY
+  838 set :excludeArea:areaWidth 15
+  839 set :excludeArea:areaHeight 15
+  840 setaddr :excludeArea*retaddr *label352 (h:*label352)
+  841 call *label14 *invalid :excludeArea*retval (m:*label352) (h:*label352)
+  842 label *label352
+  843 set :createCombinedMask*retval :excludeArea*retval
+  844 jump *label353 always
+  845 label *label353
   846 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
   847 label *label245
   848 op abs *tmp166 :layoutThoriumDrillAtLocation:sx

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   541 set :createCombinedMask*retval :excludeArea*retval
   542 jump *label326 always
   543 label *label326
-    * op or :layoutThoriumDrillAtLocation:terrainMask :createCombinedMask*retval 7575371776
+  544 op or :layoutThoriumDrillAtLocation:terrainMask :excludeArea*retval 7575371776
   545 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   546 set :layoutThoriumDrillAtLocation:mask2x2 387
   547 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
 
   747 set :createCombinedMask:y :layoutThoriumDrillAtLocation:newY
   748 label *label327
   749 write @unit processor4 ":createTerrainMask:unit"
-    * write :createCombinedMask:x processor4 ":createTerrainMask:x"
-    * write :createCombinedMask:y processor4 ":createTerrainMask:y"
+  750 write :layoutThoriumDrillAtLocation:newX processor4 ":createTerrainMask:x"
+  751 write :layoutThoriumDrillAtLocation:newY processor4 ":createTerrainMask:y"
   752 write false processor4 ":createTerrainMask*finished"
   753 write 1 processor4 "@counter"
   754 set :createAdjacentMask:result 0
-    * op add *tmp305 :createCombinedMask:y 4
+  755 op add *tmp305 :layoutThoriumDrillAtLocation:newY 4
   756 label *label328
   757 set :createBlockMaskRow:result 0
   758 set :createBlockMaskRow:c 4
 
   760 jump *label332 lessThan 4 -4
   761 label *label330
   762 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  763 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
   764 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   765 op or :createBlockMaskRow:result *tmp295 *tmp297
   766 label *label331
 
   770 jump *label333 always
   771 label *label333
   772 set :createAdjacentMask:row2 :createBlockMaskRow:result
-    * op add *tmp307 :createCombinedMask:y 3
+  773 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
   774 label *label334
   775 set :createBlockMaskRow:result 0
   776 set :createBlockMaskRow:c 4
 
   778 jump *label338 lessThan 4 -4
   779 label *label336
   780 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  781 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
   782 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   783 op or :createBlockMaskRow:result *tmp295 *tmp297
   784 label *label337
 
   792 label *label340
   793 jump *label349 lessThan 2 -4
   794 label *label341
-    * op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
+  795 op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdjacentMask:r
   796 label *label342
   797 set :createBlockMaskRow:result 0
   798 set :createBlockMaskRow:c 4
 
   800 jump *label346 lessThan 4 -4
   801 label *label344
   802 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  803 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
   804 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   805 op or :createBlockMaskRow:result *tmp295 *tmp297
   806 label *label345
 
   831 jump *label351 equal *tmp320 false
   832 read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
   833 op or :excludeArea:mask *tmp304 :createCombinedMask:terrainMask
-    * set :excludeArea:maskX :createCombinedMask:x
-    * set :excludeArea:maskY :createCombinedMask:y
+  834 set :excludeArea:maskX :layoutThoriumDrillAtLocation:newX
+  835 set :excludeArea:maskY :layoutThoriumDrillAtLocation:newY
   836 set :excludeArea:areaX .coreX
   837 set :excludeArea:areaY .coreY
   838 set :excludeArea:areaWidth 15
 
   883 set :shiftMask*retval :shiftMask:mask
   884 jump *label255 always
   885 label *label255
-    * op or :layoutThoriumDrillAtLocation:combinedMask :createCombinedMask*retval :shiftMask*retval
+  886 op or :layoutThoriumDrillAtLocation:combinedMask :excludeArea*retval :shiftMask*retval
   887 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
   888 op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy
   889 set :tryPlaceGenerator:centerX *tmp362

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
 
   538 setaddr :excludeArea*retaddr *label325 (h:*label325)
   539 call *label14 *invalid :excludeArea*retval (m:*label325) (h:*label325)
   540 label *label325
-    * set :createCombinedMask*retval :excludeArea*retval
   541 jump *label326 always
   542 label *label326
   543 op or :layoutThoriumDrillAtLocation:terrainMask :excludeArea*retval 7575371776
 
   839 setaddr :excludeArea*retaddr *label352 (h:*label352)
   840 call *label14 *invalid :excludeArea*retval (m:*label352) (h:*label352)
   841 label *label352
-    * set :createCombinedMask*retval :excludeArea*retval
   842 jump *label353 always
   843 label *label353
   844 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask

Modifications by Iterated phase, Jump Normalization, pass 2, iteration 1 (-9 instructions):
 
   307 set :createMatrixOfSize:matrix :createMatrixOfSize:row
   308 set :createMatrixOfSize:i 1
   309 label *label108
-    * jump *label110 greaterThanEq 1 7
   310 label *label207
   311 jump *label111 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
   312 jump *label110 always
 
   454 set :createBlockMaskRow:result 0
   455 set :createBlockMaskRow:c 4
   456 label *label302
-    * jump *label305 lessThan 4 -4
   457 label *label303
   458 op shl *tmp295 :createBlockMaskRow:result 1
   459 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
 
   471 set :createBlockMaskRow:result 0
   472 set :createBlockMaskRow:c 4
   473 label *label308
-    * jump *label311 lessThan 4 -4
   474 label *label309
   475 op shl *tmp295 :createBlockMaskRow:result 1
   476 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
 
   485 set :createAdjacentMask:row1 :createBlockMaskRow:result
   486 set :createAdjacentMask:r 2
   487 label *label313
-    * jump *label322 lessThan 2 -4
   488 label *label314
   489 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
   490 label *label315
   491 set :createBlockMaskRow:result 0
   492 set :createBlockMaskRow:c 4
   493 label *label316
-    * jump *label319 lessThan 4 -4
   494 label *label317
   495 op shl *tmp295 :createBlockMaskRow:result 1
   496 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
 
   751 set :createBlockMaskRow:result 0
   752 set :createBlockMaskRow:c 4
   753 label *label329
-    * jump *label332 lessThan 4 -4
   754 label *label330
   755 op shl *tmp295 :createBlockMaskRow:result 1
   756 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
 
   768 set :createBlockMaskRow:result 0
   769 set :createBlockMaskRow:c 4
   770 label *label335
-    * jump *label338 lessThan 4 -4
   771 label *label336
   772 op shl *tmp295 :createBlockMaskRow:result 1
   773 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
 
   782 set :createAdjacentMask:row1 :createBlockMaskRow:result
   783 set :createAdjacentMask:r 2
   784 label *label340
-    * jump *label349 lessThan 2 -4
   785 label *label341
   786 op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdjacentMask:r
   787 label *label342
   788 set :createBlockMaskRow:result 0
   789 set :createBlockMaskRow:c 4
   790 label *label343
-    * jump *label346 lessThan 4 -4
   791 label *label344
   792 op shl *tmp295 :createBlockMaskRow:result 1
   793 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-19 instructions):
 
   144 jump *label206 lessThan :visited:i *tmp75
   145 label *label59
   146 set *tmp74 false
-    * jump *label56 always
   147 label *label56
   148 jump *label54 notEqual *tmp74 false
   149 op div *tmp92 2 .angle
 
   162 jump *label205 lessThan :locateOreAway:distance :findDrillLocation:distanceLimit
   163 label *label37
   164 set *tmp28 false
-    * jump *label34 always
   165 label *label34
   166 set :findDrillLocation:oreX :locateOreAway:x
   167 set :findDrillLocation:oreY :locateOreAway:y
 
   316 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
   317 jump *label207 lessThan :createMatrixOfSize:i 7
   318 label *label110
-    * jump *label107 always
   319 label *label107
   320 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX
   321 op sub *tmp213 7 :excludeArea:blockSizeX
 
   360 label *label242
   361 label *label243
   362 set :shiftMask*retval :shiftMask:mask
-    * jump *label244 always
   363 label *label244
   364 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
-    * jump *label102 always
   365 jump *label104 always
   366 label *label103
   367 set :excludeArea*retval :excludeArea:mask
-    * jump *label102 always
   368 label *label104
   369 label *label102
   370 return :excludeArea*retaddr
 
   409 jump *label208 lessThanEq :findPossiblePlacement:y 3
   410 label *label117
   411 set :findPossiblePlacement*retval -1
-    * jump *label114 always
   412 label *label114
   413 return :findPossiblePlacement*retaddr
   414 end
 
   456 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   457 jump *label303 greaterThanEq :createBlockMaskRow:c -4
   458 label *label305
-    * jump *label306 always
   459 label *label306
   460 set :createAdjacentMask:row2 :createBlockMaskRow:result
   461 op add *tmp307 :createCombinedMask:y 3
 
   472 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   473 jump *label309 greaterThanEq :createBlockMaskRow:c -4
   474 label *label311
-    * jump *label312 always
   475 label *label312
   476 set :createAdjacentMask:row1 :createBlockMaskRow:result
   477 set :createAdjacentMask:r 2
 
   491 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   492 jump *label317 greaterThanEq :createBlockMaskRow:c -4
   493 label *label319
-    * jump *label320 always
   494 label *label320
   495 op shl *tmp311 :createAdjacentMask:row1 1
   496 op or *tmp312 :createAdjacentMask:row2 *tmp311
 
   523 setaddr :excludeArea*retaddr *label325 (h:*label325)
   524 call *label14 *invalid :excludeArea*retval (m:*label325) (h:*label325)
   525 label *label325
-    * jump *label326 always
   526 label *label326
   527 op or :layoutThoriumDrillAtLocation:terrainMask :excludeArea*retval 7575371776
   528 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
 
   698 label *label275
   699 label *label276
   700 set :tryPlaceGenerator*retval true
-    * jump *label277 always
   701 label *label277
   702 jump *label180 equal :tryPlaceGenerator*retval false
   703 set :layoutThoriumDrillAtLocation*retval true
 
   748 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   749 jump *label330 greaterThanEq :createBlockMaskRow:c -4
   750 label *label332
-    * jump *label333 always
   751 label *label333
   752 set :createAdjacentMask:row2 :createBlockMaskRow:result
   753 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
 
   764 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   765 jump *label336 greaterThanEq :createBlockMaskRow:c -4
   766 label *label338
-    * jump *label339 always
   767 label *label339
   768 set :createAdjacentMask:row1 :createBlockMaskRow:result
   769 set :createAdjacentMask:r 2
 
   783 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   784 jump *label344 greaterThanEq :createBlockMaskRow:c -4
   785 label *label346
-    * jump *label347 always
   786 label *label347
   787 op shl *tmp311 :createAdjacentMask:row1 1
   788 op or *tmp312 :createAdjacentMask:row2 *tmp311
 
   815 setaddr :excludeArea*retaddr *label352 (h:*label352)
   816 call *label14 *invalid :excludeArea*retval (m:*label352) (h:*label352)
   817 label *label352
-    * jump *label353 always
   818 label *label353
   819 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
   820 label *label245
 
   854 label *label253
   855 label *label254
   856 set :shiftMask*retval :shiftMask:mask
-    * jump *label255 always
   857 label *label255
   858 op or :layoutThoriumDrillAtLocation:combinedMask :excludeArea*retval :shiftMask*retval
   859 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
 
   977 label *label297
   978 label *label298
   979 set :tryPlaceGenerator*retval true
-    * jump *label299 always
   980 label *label299
   981 jump *label192 equal :tryPlaceGenerator*retval false
   982 set :layoutThoriumDrillAtLocation*retval true
 
   988 multilabel *label189 (m:marker0)
   989 label *label185
   990 set :layoutThoriumDrillAtLocation*retval true
-    * jump *label165 always
   991 label *label165
   992 return :layoutThoriumDrillAtLocation*retaddr
   993 end

Modifications by Iterated phase, Loop Hoisting, pass 2, iteration 1:
 
    66 op mul .mapProgress .angle .angle
    67 label *label35
    68 jump *label37 greaterThanEq :locateOreAway:distance :findDrillLocation:distanceLimit
+   69 op sub *tmp37 @mapw 5
+   70 op sub *tmp44 @maph 5
    71 label *label205
    72 op div :locateOreAway:a .angle @degToRad
    73 op sin *tmp34 :locateOreAway:a
    74 op mul *tmp35 *tmp34 :locateOreAway:distance
    75 op add *tmp36 :findDrillLocation:x *tmp35
-    * op sub *tmp37 @mapw 5
    76 op max *tmp39 *tmp36 5
    77 op min *tmp38 *tmp39 *tmp37
    78 label *label38
    79 op cos *tmp41 :locateOreAway:a
    80 op mul *tmp42 *tmp41 :locateOreAway:distance
    81 op add *tmp43 :findDrillLocation:y *tmp42
-    * op sub *tmp44 @maph 5
    82 op max *tmp46 *tmp43 5
    83 op min *tmp45 *tmp46 *tmp44
    84 label *label39

Modifications by Iterated phase, If Expression Optimization, pass 2, iteration 1:
 
   296 op sub *tmp197 :excludeArea:maskY :excludeArea:areaY
   297 op abs *tmp198 *tmp197
   298 op sub :excludeArea:overlapY *tmp196 *tmp198
-    * jump *label103 lessThanEq :excludeArea:overlapX 0
-    * jump *label103 lessThanEq :excludeArea:overlapY 0
+  299 set :excludeArea*retval :excludeArea:mask
+  300 jump *label104 lessThanEq :excludeArea:overlapX 0
+  301 jump *label104 lessThanEq :excludeArea:overlapY 0
   302 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
   303 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
   304 op shl *tmp206 1 :excludeArea:blockSizeX
 
   364 label *label244
   365 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   366 jump *label104 always
-    * label *label103
-    * set :excludeArea*retval :excludeArea:mask
   367 label *label104
   368 label *label102
   369 return :excludeArea*retaddr

Modifications by Unroll loop at OreLocator.mnd:477:5 (+39 instructions):
 
   771 op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdjacentMask:r
   772 label *label342
   773 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label343
-    * label *label344
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label345
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label344 greaterThanEq :createBlockMaskRow:c -4
-    * label *label346
+  774 set :createBlockMaskRow:c 4
+  775 label *label354
+  776 op shl *tmp295 :createBlockMaskRow:result 1
+  777 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  778 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  779 op or :createBlockMaskRow:result *tmp295 *tmp297
+  780 label *label355
+  781 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  782 op shl *tmp295 :createBlockMaskRow:result 1
+  783 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  784 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  785 op or :createBlockMaskRow:result *tmp295 *tmp297
+  786 label *label356
+  787 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  788 op shl *tmp295 :createBlockMaskRow:result 1
+  789 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  790 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  791 op or :createBlockMaskRow:result *tmp295 *tmp297
+  792 label *label357
+  793 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  794 op shl *tmp295 :createBlockMaskRow:result 1
+  795 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  796 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  797 op or :createBlockMaskRow:result *tmp295 *tmp297
+  798 label *label358
+  799 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  800 op shl *tmp295 :createBlockMaskRow:result 1
+  801 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  802 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  803 op or :createBlockMaskRow:result *tmp295 *tmp297
+  804 label *label359
+  805 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  806 op shl *tmp295 :createBlockMaskRow:result 1
+  807 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  808 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  809 op or :createBlockMaskRow:result *tmp295 *tmp297
+  810 label *label360
+  811 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  812 op shl *tmp295 :createBlockMaskRow:result 1
+  813 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  814 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  815 op or :createBlockMaskRow:result *tmp295 *tmp297
+  816 label *label361
+  817 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  818 op shl *tmp295 :createBlockMaskRow:result 1
+  819 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  820 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  821 op or :createBlockMaskRow:result *tmp295 *tmp297
+  822 label *label362
+  823 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  824 op shl *tmp295 :createBlockMaskRow:result 1
+  825 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  826 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  827 op or :createBlockMaskRow:result *tmp295 *tmp297
+  828 label *label363
+  829 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  830 label *label346
   831 label *label347
   832 op shl *tmp311 :createAdjacentMask:row1 1
   833 op or *tmp312 :createAdjacentMask:row2 *tmp311

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1:
 
   773 set :createBlockMaskRow:result 0
   774 set :createBlockMaskRow:c 4
   775 label *label354
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  776 op shl *tmp295 0 1
+  777 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   778 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  779 op or :createBlockMaskRow:result 0 *tmp297
   780 label *label355
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  781 op sub :createBlockMaskRow:c 4 1
   782 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  783 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   784 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   785 op or :createBlockMaskRow:result *tmp295 *tmp297
   786 label *label356
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  787 op sub :createBlockMaskRow:c 3 1
   788 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  789 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   790 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   791 op or :createBlockMaskRow:result *tmp295 *tmp297
   792 label *label357
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  793 op sub :createBlockMaskRow:c 2 1
   794 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  795 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   796 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   797 op or :createBlockMaskRow:result *tmp295 *tmp297
   798 label *label358
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  799 op sub :createBlockMaskRow:c 1 1
   800 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  801 op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
   802 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   803 op or :createBlockMaskRow:result *tmp295 *tmp297
   804 label *label359
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  805 op sub :createBlockMaskRow:c 0 1
   806 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  807 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   808 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   809 op or :createBlockMaskRow:result *tmp295 *tmp297
   810 label *label360
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  811 op sub :createBlockMaskRow:c -1 1
   812 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  813 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   814 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   815 op or :createBlockMaskRow:result *tmp295 *tmp297
   816 label *label361
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  817 op sub :createBlockMaskRow:c -2 1
   818 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  819 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   820 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   821 op or :createBlockMaskRow:result *tmp295 *tmp297
   822 label *label362
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  823 op sub :createBlockMaskRow:c -3 1
   824 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  825 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   826 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   827 op or :createBlockMaskRow:result *tmp295 *tmp297
   828 label *label363
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  829 op sub :createBlockMaskRow:c -4 1
   830 label *label346
   831 label *label347
   832 op shl *tmp311 :createAdjacentMask:row1 1

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2 (-11 instructions):
 
   770 label *label341
   771 op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdjacentMask:r
   772 label *label342
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   773 label *label354
-    * op shl *tmp295 0 1
   774 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   775 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   776 op or :createBlockMaskRow:result 0 *tmp297
   777 label *label355
-    * op sub :createBlockMaskRow:c 4 1
   778 op shl *tmp295 :createBlockMaskRow:result 1
   779 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   780 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   781 op or :createBlockMaskRow:result *tmp295 *tmp297
   782 label *label356
-    * op sub :createBlockMaskRow:c 3 1
   783 op shl *tmp295 :createBlockMaskRow:result 1
   784 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   785 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   786 op or :createBlockMaskRow:result *tmp295 *tmp297
   787 label *label357
-    * op sub :createBlockMaskRow:c 2 1
   788 op shl *tmp295 :createBlockMaskRow:result 1
   789 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   790 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   791 op or :createBlockMaskRow:result *tmp295 *tmp297
   792 label *label358
-    * op sub :createBlockMaskRow:c 1 1
   793 op shl *tmp295 :createBlockMaskRow:result 1
   794 op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
   795 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   796 op or :createBlockMaskRow:result *tmp295 *tmp297
   797 label *label359
-    * op sub :createBlockMaskRow:c 0 1
   798 op shl *tmp295 :createBlockMaskRow:result 1
   799 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   800 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   801 op or :createBlockMaskRow:result *tmp295 *tmp297
   802 label *label360
-    * op sub :createBlockMaskRow:c -1 1
   803 op shl *tmp295 :createBlockMaskRow:result 1
   804 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   805 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   806 op or :createBlockMaskRow:result *tmp295 *tmp297
   807 label *label361
-    * op sub :createBlockMaskRow:c -2 1
   808 op shl *tmp295 :createBlockMaskRow:result 1
   809 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   810 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   811 op or :createBlockMaskRow:result *tmp295 *tmp297
   812 label *label362
-    * op sub :createBlockMaskRow:c -3 1
   813 op shl *tmp295 :createBlockMaskRow:result 1
   814 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   815 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299

Modifications by Unroll loop at OreLocator.mnd:477:5 (+39 instructions):
 
   479 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
   480 label *label315
   481 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label316
-    * label *label317
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label318
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label317 greaterThanEq :createBlockMaskRow:c -4
-    * label *label319
+  482 set :createBlockMaskRow:c 4
+  483 label *label364
+  484 op shl *tmp295 :createBlockMaskRow:result 1
+  485 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  486 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  487 op or :createBlockMaskRow:result *tmp295 *tmp297
+  488 label *label365
+  489 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  490 op shl *tmp295 :createBlockMaskRow:result 1
+  491 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  492 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  493 op or :createBlockMaskRow:result *tmp295 *tmp297
+  494 label *label366
+  495 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  496 op shl *tmp295 :createBlockMaskRow:result 1
+  497 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  498 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  499 op or :createBlockMaskRow:result *tmp295 *tmp297
+  500 label *label367
+  501 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  502 op shl *tmp295 :createBlockMaskRow:result 1
+  503 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  504 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  505 op or :createBlockMaskRow:result *tmp295 *tmp297
+  506 label *label368
+  507 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  508 op shl *tmp295 :createBlockMaskRow:result 1
+  509 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  510 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  511 op or :createBlockMaskRow:result *tmp295 *tmp297
+  512 label *label369
+  513 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  514 op shl *tmp295 :createBlockMaskRow:result 1
+  515 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  516 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  517 op or :createBlockMaskRow:result *tmp295 *tmp297
+  518 label *label370
+  519 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  520 op shl *tmp295 :createBlockMaskRow:result 1
+  521 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  522 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  523 op or :createBlockMaskRow:result *tmp295 *tmp297
+  524 label *label371
+  525 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  526 op shl *tmp295 :createBlockMaskRow:result 1
+  527 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  528 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  529 op or :createBlockMaskRow:result *tmp295 *tmp297
+  530 label *label372
+  531 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  532 op shl *tmp295 :createBlockMaskRow:result 1
+  533 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  534 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  535 op or :createBlockMaskRow:result *tmp295 *tmp297
+  536 label *label373
+  537 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  538 label *label319
   539 label *label320
   540 op shl *tmp311 :createAdjacentMask:row1 1
   541 op or *tmp312 :createAdjacentMask:row2 *tmp311

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1:
 
   481 set :createBlockMaskRow:result 0
   482 set :createBlockMaskRow:c 4
   483 label *label364
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  484 op shl *tmp295 0 1
+  485 op add *tmp296 :createCombinedMask:x 4
   486 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  487 op or :createBlockMaskRow:result 0 *tmp297
   488 label *label365
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  489 op sub :createBlockMaskRow:c 4 1
   490 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  491 op add *tmp296 :createCombinedMask:x 3
   492 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   493 op or :createBlockMaskRow:result *tmp295 *tmp297
   494 label *label366
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  495 op sub :createBlockMaskRow:c 3 1
   496 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  497 op add *tmp296 :createCombinedMask:x 2
   498 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   499 op or :createBlockMaskRow:result *tmp295 *tmp297
   500 label *label367
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  501 op sub :createBlockMaskRow:c 2 1
   502 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  503 op add *tmp296 :createCombinedMask:x 1
   504 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   505 op or :createBlockMaskRow:result *tmp295 *tmp297
   506 label *label368
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  507 op sub :createBlockMaskRow:c 1 1
   508 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  509 op add *tmp296 :createCombinedMask:x 0
   510 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   511 op or :createBlockMaskRow:result *tmp295 *tmp297
   512 label *label369
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  513 op sub :createBlockMaskRow:c 0 1
   514 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  515 op add *tmp296 :createCombinedMask:x -1
   516 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   517 op or :createBlockMaskRow:result *tmp295 *tmp297
   518 label *label370
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  519 op sub :createBlockMaskRow:c -1 1
   520 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  521 op add *tmp296 :createCombinedMask:x -2
   522 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   523 op or :createBlockMaskRow:result *tmp295 *tmp297
   524 label *label371
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  525 op sub :createBlockMaskRow:c -2 1
   526 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  527 op add *tmp296 :createCombinedMask:x -3
   528 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   529 op or :createBlockMaskRow:result *tmp295 *tmp297
   530 label *label372
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  531 op sub :createBlockMaskRow:c -3 1
   532 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  533 op add *tmp296 :createCombinedMask:x -4
   534 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   535 op or :createBlockMaskRow:result *tmp295 *tmp297
   536 label *label373
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  537 op sub :createBlockMaskRow:c -4 1
   538 label *label319
   539 label *label320
   540 op shl *tmp311 :createAdjacentMask:row1 1

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2 (-11 instructions):
 
   478 label *label314
   479 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
   480 label *label315
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   481 label *label364
-    * op shl *tmp295 0 1
   482 op add *tmp296 :createCombinedMask:x 4
   483 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   484 op or :createBlockMaskRow:result 0 *tmp297
   485 label *label365
-    * op sub :createBlockMaskRow:c 4 1
   486 op shl *tmp295 :createBlockMaskRow:result 1
   487 op add *tmp296 :createCombinedMask:x 3
   488 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   489 op or :createBlockMaskRow:result *tmp295 *tmp297
   490 label *label366
-    * op sub :createBlockMaskRow:c 3 1
   491 op shl *tmp295 :createBlockMaskRow:result 1
   492 op add *tmp296 :createCombinedMask:x 2
   493 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   494 op or :createBlockMaskRow:result *tmp295 *tmp297
   495 label *label367
-    * op sub :createBlockMaskRow:c 2 1
   496 op shl *tmp295 :createBlockMaskRow:result 1
   497 op add *tmp296 :createCombinedMask:x 1
   498 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   499 op or :createBlockMaskRow:result *tmp295 *tmp297
   500 label *label368
-    * op sub :createBlockMaskRow:c 1 1
   501 op shl *tmp295 :createBlockMaskRow:result 1
   502 op add *tmp296 :createCombinedMask:x 0
   503 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   504 op or :createBlockMaskRow:result *tmp295 *tmp297
   505 label *label369
-    * op sub :createBlockMaskRow:c 0 1
   506 op shl *tmp295 :createBlockMaskRow:result 1
   507 op add *tmp296 :createCombinedMask:x -1
   508 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   509 op or :createBlockMaskRow:result *tmp295 *tmp297
   510 label *label370
-    * op sub :createBlockMaskRow:c -1 1
   511 op shl *tmp295 :createBlockMaskRow:result 1
   512 op add *tmp296 :createCombinedMask:x -2
   513 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   514 op or :createBlockMaskRow:result *tmp295 *tmp297
   515 label *label371
-    * op sub :createBlockMaskRow:c -2 1
   516 op shl *tmp295 :createBlockMaskRow:result 1
   517 op add *tmp296 :createCombinedMask:x -3
   518 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   519 op or :createBlockMaskRow:result *tmp295 *tmp297
   520 label *label372
-    * op sub :createBlockMaskRow:c -3 1
   521 op shl *tmp295 :createBlockMaskRow:result 1
   522 op add *tmp296 :createCombinedMask:x -4
   523 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299

Modifications by Unroll loop at OreLocator.mnd:477:5 (+39 instructions):
 
   771 op add *tmp305 :layoutThoriumDrillAtLocation:newY 4
   772 label *label328
   773 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label329
-    * label *label330
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label331
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label330 greaterThanEq :createBlockMaskRow:c -4
-    * label *label332
+  774 set :createBlockMaskRow:c 4
+  775 label *label374
+  776 op shl *tmp295 :createBlockMaskRow:result 1
+  777 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  778 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  779 op or :createBlockMaskRow:result *tmp295 *tmp297
+  780 label *label375
+  781 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  782 op shl *tmp295 :createBlockMaskRow:result 1
+  783 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  784 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  785 op or :createBlockMaskRow:result *tmp295 *tmp297
+  786 label *label376
+  787 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  788 op shl *tmp295 :createBlockMaskRow:result 1
+  789 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  790 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  791 op or :createBlockMaskRow:result *tmp295 *tmp297
+  792 label *label377
+  793 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  794 op shl *tmp295 :createBlockMaskRow:result 1
+  795 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  796 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  797 op or :createBlockMaskRow:result *tmp295 *tmp297
+  798 label *label378
+  799 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  800 op shl *tmp295 :createBlockMaskRow:result 1
+  801 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  802 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  803 op or :createBlockMaskRow:result *tmp295 *tmp297
+  804 label *label379
+  805 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  806 op shl *tmp295 :createBlockMaskRow:result 1
+  807 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  808 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  809 op or :createBlockMaskRow:result *tmp295 *tmp297
+  810 label *label380
+  811 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  812 op shl *tmp295 :createBlockMaskRow:result 1
+  813 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  814 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  815 op or :createBlockMaskRow:result *tmp295 *tmp297
+  816 label *label381
+  817 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  818 op shl *tmp295 :createBlockMaskRow:result 1
+  819 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  820 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  821 op or :createBlockMaskRow:result *tmp295 *tmp297
+  822 label *label382
+  823 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  824 op shl *tmp295 :createBlockMaskRow:result 1
+  825 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  826 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  827 op or :createBlockMaskRow:result *tmp295 *tmp297
+  828 label *label383
+  829 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  830 label *label332
   831 label *label333
   832 set :createAdjacentMask:row2 :createBlockMaskRow:result
   833 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-1 instructions):
 
   824 op shl *tmp295 :createBlockMaskRow:result 1
   825 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
   826 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  827 op or :createAdjacentMask:row2 *tmp295 *tmp297
   828 label *label383
   829 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   830 label *label332
   831 label *label333
-    * set :createAdjacentMask:row2 :createBlockMaskRow:result
   832 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
   833 label *label334
   834 set :createBlockMaskRow:result 0

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   773 set :createBlockMaskRow:result 0
   774 set :createBlockMaskRow:c 4
   775 label *label374
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  776 op shl *tmp295 0 1
+  777 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   778 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  779 op or :createBlockMaskRow:result 0 *tmp297
   780 label *label375
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  781 op sub :createBlockMaskRow:c 4 1
   782 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  783 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   784 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   785 op or :createBlockMaskRow:result *tmp295 *tmp297
   786 label *label376
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  787 op sub :createBlockMaskRow:c 3 1
   788 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  789 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   790 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   791 op or :createBlockMaskRow:result *tmp295 *tmp297
   792 label *label377
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  793 op sub :createBlockMaskRow:c 2 1
   794 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  795 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   796 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   797 op or :createBlockMaskRow:result *tmp295 *tmp297
   798 label *label378
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  799 op sub :createBlockMaskRow:c 1 1
   800 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  801 op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
   802 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   803 op or :createBlockMaskRow:result *tmp295 *tmp297
   804 label *label379
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  805 op sub :createBlockMaskRow:c 0 1
   806 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  807 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   808 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   809 op or :createBlockMaskRow:result *tmp295 *tmp297
   810 label *label380
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  811 op sub :createBlockMaskRow:c -1 1
   812 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  813 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   814 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   815 op or :createBlockMaskRow:result *tmp295 *tmp297
   816 label *label381
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  817 op sub :createBlockMaskRow:c -2 1
   818 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  819 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   820 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   821 op or :createBlockMaskRow:result *tmp295 *tmp297
   822 label *label382
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  823 op sub :createBlockMaskRow:c -3 1
   824 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  825 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   826 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   827 op or :createAdjacentMask:row2 *tmp295 *tmp297
   828 label *label383
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  829 op sub :createBlockMaskRow:c -4 1
   830 label *label332
   831 label *label333
   832 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 3 (-12 instructions):
 
   770 set :createAdjacentMask:result 0
   771 op add *tmp305 :layoutThoriumDrillAtLocation:newY 4
   772 label *label328
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   773 label *label374
-    * op shl *tmp295 0 1
   774 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   775 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   776 op or :createBlockMaskRow:result 0 *tmp297
   777 label *label375
-    * op sub :createBlockMaskRow:c 4 1
   778 op shl *tmp295 :createBlockMaskRow:result 1
   779 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   780 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   781 op or :createBlockMaskRow:result *tmp295 *tmp297
   782 label *label376
-    * op sub :createBlockMaskRow:c 3 1
   783 op shl *tmp295 :createBlockMaskRow:result 1
   784 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   785 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   786 op or :createBlockMaskRow:result *tmp295 *tmp297
   787 label *label377
-    * op sub :createBlockMaskRow:c 2 1
   788 op shl *tmp295 :createBlockMaskRow:result 1
   789 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   790 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   791 op or :createBlockMaskRow:result *tmp295 *tmp297
   792 label *label378
-    * op sub :createBlockMaskRow:c 1 1
   793 op shl *tmp295 :createBlockMaskRow:result 1
   794 op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
   795 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   796 op or :createBlockMaskRow:result *tmp295 *tmp297
   797 label *label379
-    * op sub :createBlockMaskRow:c 0 1
   798 op shl *tmp295 :createBlockMaskRow:result 1
   799 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   800 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   801 op or :createBlockMaskRow:result *tmp295 *tmp297
   802 label *label380
-    * op sub :createBlockMaskRow:c -1 1
   803 op shl *tmp295 :createBlockMaskRow:result 1
   804 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   805 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   806 op or :createBlockMaskRow:result *tmp295 *tmp297
   807 label *label381
-    * op sub :createBlockMaskRow:c -2 1
   808 op shl *tmp295 :createBlockMaskRow:result 1
   809 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   810 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   811 op or :createBlockMaskRow:result *tmp295 *tmp297
   812 label *label382
-    * op sub :createBlockMaskRow:c -3 1
   813 op shl *tmp295 :createBlockMaskRow:result 1
   814 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   815 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   816 op or :createAdjacentMask:row2 *tmp295 *tmp297
   817 label *label383
-    * op sub :createBlockMaskRow:c -4 1
   818 label *label332
   819 label *label333
   820 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3

Modifications by Unroll loop at OreLocator.mnd:477:5 (+39 instructions):
 
   820 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
   821 label *label334
   822 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label335
-    * label *label336
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label337
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label336 greaterThanEq :createBlockMaskRow:c -4
-    * label *label338
+  823 set :createBlockMaskRow:c 4
+  824 label *label384
+  825 op shl *tmp295 :createBlockMaskRow:result 1
+  826 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  827 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  828 op or :createBlockMaskRow:result *tmp295 *tmp297
+  829 label *label385
+  830 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  831 op shl *tmp295 :createBlockMaskRow:result 1
+  832 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  833 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  834 op or :createBlockMaskRow:result *tmp295 *tmp297
+  835 label *label386
+  836 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  837 op shl *tmp295 :createBlockMaskRow:result 1
+  838 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  839 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  840 op or :createBlockMaskRow:result *tmp295 *tmp297
+  841 label *label387
+  842 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  843 op shl *tmp295 :createBlockMaskRow:result 1
+  844 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  845 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  846 op or :createBlockMaskRow:result *tmp295 *tmp297
+  847 label *label388
+  848 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  849 op shl *tmp295 :createBlockMaskRow:result 1
+  850 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  851 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  852 op or :createBlockMaskRow:result *tmp295 *tmp297
+  853 label *label389
+  854 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  855 op shl *tmp295 :createBlockMaskRow:result 1
+  856 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  857 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  858 op or :createBlockMaskRow:result *tmp295 *tmp297
+  859 label *label390
+  860 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  861 op shl *tmp295 :createBlockMaskRow:result 1
+  862 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  863 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  864 op or :createBlockMaskRow:result *tmp295 *tmp297
+  865 label *label391
+  866 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  867 op shl *tmp295 :createBlockMaskRow:result 1
+  868 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  869 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  870 op or :createBlockMaskRow:result *tmp295 *tmp297
+  871 label *label392
+  872 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  873 op shl *tmp295 :createBlockMaskRow:result 1
+  874 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  875 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  876 op or :createBlockMaskRow:result *tmp295 *tmp297
+  877 label *label393
+  878 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  879 label *label338
   880 label *label339
   881 set :createAdjacentMask:row1 :createBlockMaskRow:result
   882 set :createAdjacentMask:r 2

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1:
 
   822 set :createBlockMaskRow:result 0
   823 set :createBlockMaskRow:c 4
   824 label *label384
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  825 op shl *tmp295 0 1
+  826 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   827 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  828 op or :createBlockMaskRow:result 0 *tmp297
   829 label *label385
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  830 op sub :createBlockMaskRow:c 4 1
   831 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  832 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   833 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   834 op or :createBlockMaskRow:result *tmp295 *tmp297
   835 label *label386
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  836 op sub :createBlockMaskRow:c 3 1
   837 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  838 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   839 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   840 op or :createBlockMaskRow:result *tmp295 *tmp297
   841 label *label387
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  842 op sub :createBlockMaskRow:c 2 1
   843 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  844 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   845 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   846 op or :createBlockMaskRow:result *tmp295 *tmp297
   847 label *label388
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  848 op sub :createBlockMaskRow:c 1 1
   849 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  850 op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
   851 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   852 op or :createBlockMaskRow:result *tmp295 *tmp297
   853 label *label389
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  854 op sub :createBlockMaskRow:c 0 1
   855 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  856 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   857 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   858 op or :createBlockMaskRow:result *tmp295 *tmp297
   859 label *label390
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  860 op sub :createBlockMaskRow:c -1 1
   861 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  862 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   863 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   864 op or :createBlockMaskRow:result *tmp295 *tmp297
   865 label *label391
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  866 op sub :createBlockMaskRow:c -2 1
   867 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  868 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   869 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   870 op or :createBlockMaskRow:result *tmp295 *tmp297
   871 label *label392
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  872 op sub :createBlockMaskRow:c -3 1
   873 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  874 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   875 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   876 op or :createBlockMaskRow:result *tmp295 *tmp297
   877 label *label393
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  878 op sub :createBlockMaskRow:c -4 1
   879 label *label338
   880 label *label339
   881 set :createAdjacentMask:row1 :createBlockMaskRow:result

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2 (-11 instructions):
 
   819 label *label333
   820 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
   821 label *label334
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   822 label *label384
-    * op shl *tmp295 0 1
   823 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   824 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   825 op or :createBlockMaskRow:result 0 *tmp297
   826 label *label385
-    * op sub :createBlockMaskRow:c 4 1
   827 op shl *tmp295 :createBlockMaskRow:result 1
   828 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   829 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   830 op or :createBlockMaskRow:result *tmp295 *tmp297
   831 label *label386
-    * op sub :createBlockMaskRow:c 3 1
   832 op shl *tmp295 :createBlockMaskRow:result 1
   833 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   834 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   835 op or :createBlockMaskRow:result *tmp295 *tmp297
   836 label *label387
-    * op sub :createBlockMaskRow:c 2 1
   837 op shl *tmp295 :createBlockMaskRow:result 1
   838 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   839 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   840 op or :createBlockMaskRow:result *tmp295 *tmp297
   841 label *label388
-    * op sub :createBlockMaskRow:c 1 1
   842 op shl *tmp295 :createBlockMaskRow:result 1
   843 op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
   844 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   845 op or :createBlockMaskRow:result *tmp295 *tmp297
   846 label *label389
-    * op sub :createBlockMaskRow:c 0 1
   847 op shl *tmp295 :createBlockMaskRow:result 1
   848 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   849 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   850 op or :createBlockMaskRow:result *tmp295 *tmp297
   851 label *label390
-    * op sub :createBlockMaskRow:c -1 1
   852 op shl *tmp295 :createBlockMaskRow:result 1
   853 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   854 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   855 op or :createBlockMaskRow:result *tmp295 *tmp297
   856 label *label391
-    * op sub :createBlockMaskRow:c -2 1
   857 op shl *tmp295 :createBlockMaskRow:result 1
   858 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   859 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   860 op or :createBlockMaskRow:result *tmp295 *tmp297
   861 label *label392
-    * op sub :createBlockMaskRow:c -3 1
   862 op shl *tmp295 :createBlockMaskRow:result 1
   863 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   864 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299

Modifications by Unroll loop at OreLocator.mnd:356:5 (+24 instructions):
 
   304 op shl *tmp206 1 :excludeArea:blockSizeX
   305 op sub :createMatrixOfSize:row *tmp206 1
   306 set :createMatrixOfSize:matrix :createMatrixOfSize:row
-    * set :createMatrixOfSize:i 1
-    * label *label108
-    * label *label207
-    * jump *label111 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
-    * jump *label110 always
-    * label *label111
-    * label *label112
-    * op shl *tmp210 :createMatrixOfSize:matrix 7
-    * op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label109
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label207 lessThan :createMatrixOfSize:i 7
-    * label *label110
+  307 set :createMatrixOfSize:i 1
+  308 label *label394
+  309 jump *label395 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  310 jump *label110 always
+  311 label *label395
+  312 label *label396
+  313 op shl *tmp210 :createMatrixOfSize:matrix 7
+  314 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
+  315 label *label397
+  316 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  317 jump *label398 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  318 jump *label110 always
+  319 label *label398
+  320 label *label399
+  321 op shl *tmp210 :createMatrixOfSize:matrix 7
+  322 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
+  323 label *label400
+  324 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  325 jump *label401 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  326 jump *label110 always
+  327 label *label401
+  328 label *label402
+  329 op shl *tmp210 :createMatrixOfSize:matrix 7
+  330 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
+  331 label *label403
+  332 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  333 jump *label404 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  334 jump *label110 always
+  335 label *label404
+  336 label *label405
+  337 op shl *tmp210 :createMatrixOfSize:matrix 7
+  338 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
+  339 label *label406
+  340 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  341 jump *label407 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  342 jump *label110 always
+  343 label *label407
+  344 label *label408
+  345 op shl *tmp210 :createMatrixOfSize:matrix 7
+  346 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
+  347 label *label409
+  348 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  349 jump *label410 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  350 jump *label110 always
+  351 label *label410
+  352 label *label411
+  353 op shl *tmp210 :createMatrixOfSize:matrix 7
+  354 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
+  355 label *label412
+  356 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  357 label *label110
   358 label *label107
   359 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX
   360 op sub *tmp213 7 :excludeArea:blockSizeX

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1:
 
   306 set :createMatrixOfSize:matrix :createMatrixOfSize:row
   307 set :createMatrixOfSize:i 1
   308 label *label394
-    * jump *label395 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  309 jump *label395 lessThan 1 :excludeArea:blockSizeY
   310 jump *label110 always
   311 label *label395
   312 label *label396
-    * op shl *tmp210 :createMatrixOfSize:matrix 7
+  313 op shl *tmp210 :createMatrixOfSize:row 7
   314 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   315 label *label397
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label398 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  316 op add :createMatrixOfSize:i 1 1
+  317 jump *label398 lessThan 2 :excludeArea:blockSizeY
   318 jump *label110 always
   319 label *label398
   320 label *label399
   321 op shl *tmp210 :createMatrixOfSize:matrix 7
   322 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   323 label *label400
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label401 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  324 op add :createMatrixOfSize:i 2 1
+  325 jump *label401 lessThan 3 :excludeArea:blockSizeY
   326 jump *label110 always
   327 label *label401
   328 label *label402
   329 op shl *tmp210 :createMatrixOfSize:matrix 7
   330 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   331 label *label403
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label404 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  332 op add :createMatrixOfSize:i 3 1
+  333 jump *label404 lessThan 4 :excludeArea:blockSizeY
   334 jump *label110 always
   335 label *label404
   336 label *label405
   337 op shl *tmp210 :createMatrixOfSize:matrix 7
   338 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   339 label *label406
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label407 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  340 op add :createMatrixOfSize:i 4 1
+  341 jump *label407 lessThan 5 :excludeArea:blockSizeY
   342 jump *label110 always
   343 label *label407
   344 label *label408
   345 op shl *tmp210 :createMatrixOfSize:matrix 7
   346 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   347 label *label409
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label410 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  348 op add :createMatrixOfSize:i 5 1
+  349 jump *label410 lessThan 6 :excludeArea:blockSizeY
   350 jump *label110 always
   351 label *label410
   352 label *label411
   353 op shl *tmp210 :createMatrixOfSize:matrix 7
   354 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   355 label *label412
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  356 op add :createMatrixOfSize:i 6 1
   357 label *label110
   358 label *label107
   359 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2 (-7 instructions):
 
   304 op shl *tmp206 1 :excludeArea:blockSizeX
   305 op sub :createMatrixOfSize:row *tmp206 1
   306 set :createMatrixOfSize:matrix :createMatrixOfSize:row
-    * set :createMatrixOfSize:i 1
   307 label *label394
   308 jump *label395 lessThan 1 :excludeArea:blockSizeY
   309 jump *label110 always
 
   312 op shl *tmp210 :createMatrixOfSize:row 7
   313 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   314 label *label397
-    * op add :createMatrixOfSize:i 1 1
   315 jump *label398 lessThan 2 :excludeArea:blockSizeY
   316 jump *label110 always
   317 label *label398
 
   319 op shl *tmp210 :createMatrixOfSize:matrix 7
   320 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   321 label *label400
-    * op add :createMatrixOfSize:i 2 1
   322 jump *label401 lessThan 3 :excludeArea:blockSizeY
   323 jump *label110 always
   324 label *label401
 
   326 op shl *tmp210 :createMatrixOfSize:matrix 7
   327 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   328 label *label403
-    * op add :createMatrixOfSize:i 3 1
   329 jump *label404 lessThan 4 :excludeArea:blockSizeY
   330 jump *label110 always
   331 label *label404
 
   333 op shl *tmp210 :createMatrixOfSize:matrix 7
   334 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   335 label *label406
-    * op add :createMatrixOfSize:i 4 1
   336 jump *label407 lessThan 5 :excludeArea:blockSizeY
   337 jump *label110 always
   338 label *label407
 
   340 op shl *tmp210 :createMatrixOfSize:matrix 7
   341 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   342 label *label409
-    * op add :createMatrixOfSize:i 5 1
   343 jump *label410 lessThan 6 :excludeArea:blockSizeY
   344 jump *label110 always
   345 label *label410
 
   347 op shl *tmp210 :createMatrixOfSize:matrix 7
   348 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   349 label *label412
-    * op add :createMatrixOfSize:i 6 1
   350 label *label110
   351 label *label107
   352 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX

Modifications by Unroll loop at OreLocator.mnd:477:5 (+39 instructions):
 
   475 op add *tmp305 :createCombinedMask:y 4
   476 label *label301
   477 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label302
-    * label *label303
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label304
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label303 greaterThanEq :createBlockMaskRow:c -4
-    * label *label305
+  478 set :createBlockMaskRow:c 4
+  479 label *label413
+  480 op shl *tmp295 :createBlockMaskRow:result 1
+  481 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  482 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  483 op or :createBlockMaskRow:result *tmp295 *tmp297
+  484 label *label414
+  485 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  486 op shl *tmp295 :createBlockMaskRow:result 1
+  487 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  488 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  489 op or :createBlockMaskRow:result *tmp295 *tmp297
+  490 label *label415
+  491 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  492 op shl *tmp295 :createBlockMaskRow:result 1
+  493 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  494 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  495 op or :createBlockMaskRow:result *tmp295 *tmp297
+  496 label *label416
+  497 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  498 op shl *tmp295 :createBlockMaskRow:result 1
+  499 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  500 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  501 op or :createBlockMaskRow:result *tmp295 *tmp297
+  502 label *label417
+  503 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  504 op shl *tmp295 :createBlockMaskRow:result 1
+  505 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  506 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  507 op or :createBlockMaskRow:result *tmp295 *tmp297
+  508 label *label418
+  509 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  510 op shl *tmp295 :createBlockMaskRow:result 1
+  511 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  512 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  513 op or :createBlockMaskRow:result *tmp295 *tmp297
+  514 label *label419
+  515 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  516 op shl *tmp295 :createBlockMaskRow:result 1
+  517 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  518 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  519 op or :createBlockMaskRow:result *tmp295 *tmp297
+  520 label *label420
+  521 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  522 op shl *tmp295 :createBlockMaskRow:result 1
+  523 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  524 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  525 op or :createBlockMaskRow:result *tmp295 *tmp297
+  526 label *label421
+  527 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  528 op shl *tmp295 :createBlockMaskRow:result 1
+  529 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  530 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  531 op or :createBlockMaskRow:result *tmp295 *tmp297
+  532 label *label422
+  533 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  534 label *label305
   535 label *label306
   536 set :createAdjacentMask:row2 :createBlockMaskRow:result
   537 op add *tmp307 :createCombinedMask:y 3

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-1 instructions):
 
   528 op shl *tmp295 :createBlockMaskRow:result 1
   529 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
   530 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  531 op or :createAdjacentMask:row2 *tmp295 *tmp297
   532 label *label422
   533 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   534 label *label305
   535 label *label306
-    * set :createAdjacentMask:row2 :createBlockMaskRow:result
   536 op add *tmp307 :createCombinedMask:y 3
   537 label *label307
   538 set :createBlockMaskRow:result 0

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   477 set :createBlockMaskRow:result 0
   478 set :createBlockMaskRow:c 4
   479 label *label413
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  480 op shl *tmp295 0 1
+  481 op add *tmp296 :createCombinedMask:x 4
   482 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  483 op or :createBlockMaskRow:result 0 *tmp297
   484 label *label414
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  485 op sub :createBlockMaskRow:c 4 1
   486 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  487 op add *tmp296 :createCombinedMask:x 3
   488 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   489 op or :createBlockMaskRow:result *tmp295 *tmp297
   490 label *label415
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  491 op sub :createBlockMaskRow:c 3 1
   492 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  493 op add *tmp296 :createCombinedMask:x 2
   494 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   495 op or :createBlockMaskRow:result *tmp295 *tmp297
   496 label *label416
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  497 op sub :createBlockMaskRow:c 2 1
   498 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  499 op add *tmp296 :createCombinedMask:x 1
   500 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   501 op or :createBlockMaskRow:result *tmp295 *tmp297
   502 label *label417
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  503 op sub :createBlockMaskRow:c 1 1
   504 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  505 op add *tmp296 :createCombinedMask:x 0
   506 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   507 op or :createBlockMaskRow:result *tmp295 *tmp297
   508 label *label418
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  509 op sub :createBlockMaskRow:c 0 1
   510 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  511 op add *tmp296 :createCombinedMask:x -1
   512 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   513 op or :createBlockMaskRow:result *tmp295 *tmp297
   514 label *label419
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  515 op sub :createBlockMaskRow:c -1 1
   516 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  517 op add *tmp296 :createCombinedMask:x -2
   518 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   519 op or :createBlockMaskRow:result *tmp295 *tmp297
   520 label *label420
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  521 op sub :createBlockMaskRow:c -2 1
   522 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  523 op add *tmp296 :createCombinedMask:x -3
   524 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   525 op or :createBlockMaskRow:result *tmp295 *tmp297
   526 label *label421
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  527 op sub :createBlockMaskRow:c -3 1
   528 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  529 op add *tmp296 :createCombinedMask:x -4
   530 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   531 op or :createAdjacentMask:row2 *tmp295 *tmp297
   532 label *label422
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  533 op sub :createBlockMaskRow:c -4 1
   534 label *label305
   535 label *label306
   536 op add *tmp307 :createCombinedMask:y 3

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 3 (-12 instructions):
 
   474 set :createAdjacentMask:result 0
   475 op add *tmp305 :createCombinedMask:y 4
   476 label *label301
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   477 label *label413
-    * op shl *tmp295 0 1
   478 op add *tmp296 :createCombinedMask:x 4
   479 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   480 op or :createBlockMaskRow:result 0 *tmp297
   481 label *label414
-    * op sub :createBlockMaskRow:c 4 1
   482 op shl *tmp295 :createBlockMaskRow:result 1
   483 op add *tmp296 :createCombinedMask:x 3
   484 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   485 op or :createBlockMaskRow:result *tmp295 *tmp297
   486 label *label415
-    * op sub :createBlockMaskRow:c 3 1
   487 op shl *tmp295 :createBlockMaskRow:result 1
   488 op add *tmp296 :createCombinedMask:x 2
   489 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   490 op or :createBlockMaskRow:result *tmp295 *tmp297
   491 label *label416
-    * op sub :createBlockMaskRow:c 2 1
   492 op shl *tmp295 :createBlockMaskRow:result 1
   493 op add *tmp296 :createCombinedMask:x 1
   494 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   495 op or :createBlockMaskRow:result *tmp295 *tmp297
   496 label *label417
-    * op sub :createBlockMaskRow:c 1 1
   497 op shl *tmp295 :createBlockMaskRow:result 1
   498 op add *tmp296 :createCombinedMask:x 0
   499 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   500 op or :createBlockMaskRow:result *tmp295 *tmp297
   501 label *label418
-    * op sub :createBlockMaskRow:c 0 1
   502 op shl *tmp295 :createBlockMaskRow:result 1
   503 op add *tmp296 :createCombinedMask:x -1
   504 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   505 op or :createBlockMaskRow:result *tmp295 *tmp297
   506 label *label419
-    * op sub :createBlockMaskRow:c -1 1
   507 op shl *tmp295 :createBlockMaskRow:result 1
   508 op add *tmp296 :createCombinedMask:x -2
   509 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   510 op or :createBlockMaskRow:result *tmp295 *tmp297
   511 label *label420
-    * op sub :createBlockMaskRow:c -2 1
   512 op shl *tmp295 :createBlockMaskRow:result 1
   513 op add *tmp296 :createCombinedMask:x -3
   514 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   515 op or :createBlockMaskRow:result *tmp295 *tmp297
   516 label *label421
-    * op sub :createBlockMaskRow:c -3 1
   517 op shl *tmp295 :createBlockMaskRow:result 1
   518 op add *tmp296 :createCombinedMask:x -4
   519 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   520 op or :createAdjacentMask:row2 *tmp295 *tmp297
   521 label *label422
-    * op sub :createBlockMaskRow:c -4 1
   522 label *label305
   523 label *label306
   524 op add *tmp307 :createCombinedMask:y 3

Modifications by Unroll loop at OreLocator.mnd:477:5 (+39 instructions):
 
   524 op add *tmp307 :createCombinedMask:y 3
   525 label *label307
   526 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label308
-    * label *label309
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label310
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label309 greaterThanEq :createBlockMaskRow:c -4
-    * label *label311
+  527 set :createBlockMaskRow:c 4
+  528 label *label423
+  529 op shl *tmp295 :createBlockMaskRow:result 1
+  530 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  531 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  532 op or :createBlockMaskRow:result *tmp295 *tmp297
+  533 label *label424
+  534 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  535 op shl *tmp295 :createBlockMaskRow:result 1
+  536 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  537 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  538 op or :createBlockMaskRow:result *tmp295 *tmp297
+  539 label *label425
+  540 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  541 op shl *tmp295 :createBlockMaskRow:result 1
+  542 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  543 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  544 op or :createBlockMaskRow:result *tmp295 *tmp297
+  545 label *label426
+  546 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  547 op shl *tmp295 :createBlockMaskRow:result 1
+  548 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  549 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  550 op or :createBlockMaskRow:result *tmp295 *tmp297
+  551 label *label427
+  552 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  553 op shl *tmp295 :createBlockMaskRow:result 1
+  554 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  555 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  556 op or :createBlockMaskRow:result *tmp295 *tmp297
+  557 label *label428
+  558 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  559 op shl *tmp295 :createBlockMaskRow:result 1
+  560 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  561 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  562 op or :createBlockMaskRow:result *tmp295 *tmp297
+  563 label *label429
+  564 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  565 op shl *tmp295 :createBlockMaskRow:result 1
+  566 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  567 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  568 op or :createBlockMaskRow:result *tmp295 *tmp297
+  569 label *label430
+  570 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  571 op shl *tmp295 :createBlockMaskRow:result 1
+  572 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  573 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  574 op or :createBlockMaskRow:result *tmp295 *tmp297
+  575 label *label431
+  576 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  577 op shl *tmp295 :createBlockMaskRow:result 1
+  578 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  579 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  580 op or :createBlockMaskRow:result *tmp295 *tmp297
+  581 label *label432
+  582 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  583 label *label311
   584 label *label312
   585 set :createAdjacentMask:row1 :createBlockMaskRow:result
   586 set :createAdjacentMask:r 2

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1:
 
   526 set :createBlockMaskRow:result 0
   527 set :createBlockMaskRow:c 4
   528 label *label423
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  529 op shl *tmp295 0 1
+  530 op add *tmp296 :createCombinedMask:x 4
   531 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  532 op or :createBlockMaskRow:result 0 *tmp297
   533 label *label424
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  534 op sub :createBlockMaskRow:c 4 1
   535 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  536 op add *tmp296 :createCombinedMask:x 3
   537 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   538 op or :createBlockMaskRow:result *tmp295 *tmp297
   539 label *label425
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  540 op sub :createBlockMaskRow:c 3 1
   541 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  542 op add *tmp296 :createCombinedMask:x 2
   543 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   544 op or :createBlockMaskRow:result *tmp295 *tmp297
   545 label *label426
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  546 op sub :createBlockMaskRow:c 2 1
   547 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  548 op add *tmp296 :createCombinedMask:x 1
   549 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   550 op or :createBlockMaskRow:result *tmp295 *tmp297
   551 label *label427
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  552 op sub :createBlockMaskRow:c 1 1
   553 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  554 op add *tmp296 :createCombinedMask:x 0
   555 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   556 op or :createBlockMaskRow:result *tmp295 *tmp297
   557 label *label428
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  558 op sub :createBlockMaskRow:c 0 1
   559 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  560 op add *tmp296 :createCombinedMask:x -1
   561 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   562 op or :createBlockMaskRow:result *tmp295 *tmp297
   563 label *label429
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  564 op sub :createBlockMaskRow:c -1 1
   565 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  566 op add *tmp296 :createCombinedMask:x -2
   567 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   568 op or :createBlockMaskRow:result *tmp295 *tmp297
   569 label *label430
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  570 op sub :createBlockMaskRow:c -2 1
   571 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  572 op add *tmp296 :createCombinedMask:x -3
   573 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   574 op or :createBlockMaskRow:result *tmp295 *tmp297
   575 label *label431
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  576 op sub :createBlockMaskRow:c -3 1
   577 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  578 op add *tmp296 :createCombinedMask:x -4
   579 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   580 op or :createBlockMaskRow:result *tmp295 *tmp297
   581 label *label432
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  582 op sub :createBlockMaskRow:c -4 1
   583 label *label311
   584 label *label312
   585 set :createAdjacentMask:row1 :createBlockMaskRow:result

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2 (-15 instructions):
 
   523 label *label306
   524 op add *tmp307 :createCombinedMask:y 3
   525 label *label307
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   526 label *label423
-    * op shl *tmp295 0 1
   527 op add *tmp296 :createCombinedMask:x 4
   528 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   529 op or :createBlockMaskRow:result 0 *tmp297
   530 label *label424
-    * op sub :createBlockMaskRow:c 4 1
   531 op shl *tmp295 :createBlockMaskRow:result 1
   532 op add *tmp296 :createCombinedMask:x 3
   533 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   534 op or :createBlockMaskRow:result *tmp295 *tmp297
   535 label *label425
-    * op sub :createBlockMaskRow:c 3 1
   536 op shl *tmp295 :createBlockMaskRow:result 1
   537 op add *tmp296 :createCombinedMask:x 2
   538 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   539 op or :createBlockMaskRow:result *tmp295 *tmp297
   540 label *label426
-    * op sub :createBlockMaskRow:c 2 1
   541 op shl *tmp295 :createBlockMaskRow:result 1
   542 op add *tmp296 :createCombinedMask:x 1
   543 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   544 op or :createBlockMaskRow:result *tmp295 *tmp297
   545 label *label427
-    * op sub :createBlockMaskRow:c 1 1
   546 op shl *tmp295 :createBlockMaskRow:result 1
   547 op add *tmp296 :createCombinedMask:x 0
   548 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   549 op or :createBlockMaskRow:result *tmp295 *tmp297
   550 label *label428
-    * op sub :createBlockMaskRow:c 0 1
   551 op shl *tmp295 :createBlockMaskRow:result 1
   552 op add *tmp296 :createCombinedMask:x -1
   553 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   554 op or :createBlockMaskRow:result *tmp295 *tmp297
   555 label *label429
-    * op sub :createBlockMaskRow:c -1 1
   556 op shl *tmp295 :createBlockMaskRow:result 1
   557 op add *tmp296 :createCombinedMask:x -2
   558 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   559 op or :createBlockMaskRow:result *tmp295 *tmp297
   560 label *label430
-    * op sub :createBlockMaskRow:c -2 1
   561 op shl *tmp295 :createBlockMaskRow:result 1
   562 op add *tmp296 :createCombinedMask:x -3
   563 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   564 op or :createBlockMaskRow:result *tmp295 *tmp297
   565 label *label431
-    * op sub :createBlockMaskRow:c -3 1
   566 op shl *tmp295 :createBlockMaskRow:result 1
   567 op add *tmp296 :createCombinedMask:x -4
   568 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   569 op or :createBlockMaskRow:result *tmp295 *tmp297
   570 label *label432
-    * op sub :createBlockMaskRow:c -4 1
   571 label *label311
   572 label *label312
   573 set :createAdjacentMask:row1 :createBlockMaskRow:result
 
   621 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   622 op or :createBlockMaskRow:result *tmp295 *tmp297
   623 label *label373
-    * op sub :createBlockMaskRow:c -4 1
   624 label *label319
   625 label *label320
   626 op shl *tmp311 :createAdjacentMask:row1 1
 
   961 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   962 op or :createBlockMaskRow:result *tmp295 *tmp297
   963 label *label393
-    * op sub :createBlockMaskRow:c -4 1
   964 label *label338
   965 label *label339
   966 set :createAdjacentMask:row1 :createBlockMaskRow:result
 
  1014 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
  1015 op or :createBlockMaskRow:result *tmp295 *tmp297
  1016 label *label363
-    * op sub :createBlockMaskRow:c -4 1
  1017 label *label346
  1018 label *label347
  1019 op shl *tmp311 :createAdjacentMask:row1 1

Modifications by Iterated phase, Single Step Elimination, pass 3, iteration 1 (-1 instructions):
 
   394 set :shiftMask*retval :shiftMask:mask
   395 label *label244
   396 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
-    * jump *label104 always
   397 label *label104
   398 label *label102
   399 return :excludeArea*retaddr

Modifications by Iterated phase, Expression Optimization, pass 3, iteration 1:
 
   476 label *label413
   477 op add *tmp296 :createCombinedMask:x 4
   478 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result 0 *tmp297
+  479 set :createBlockMaskRow:result *tmp297
   480 label *label414
   481 op shl *tmp295 :createBlockMaskRow:result 1
   482 op add *tmp296 :createCombinedMask:x 3
 
   494 op or :createBlockMaskRow:result *tmp295 *tmp297
   495 label *label417
   496 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x 0
+  497 set *tmp296 :createCombinedMask:x
   498 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   499 op or :createBlockMaskRow:result *tmp295 *tmp297
   500 label *label418
 
   525 label *label423
   526 op add *tmp296 :createCombinedMask:x 4
   527 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result 0 *tmp297
+  528 set :createBlockMaskRow:result *tmp297
   529 label *label424
   530 op shl *tmp295 :createBlockMaskRow:result 1
   531 op add *tmp296 :createCombinedMask:x 3
 
   543 op or :createBlockMaskRow:result *tmp295 *tmp297
   544 label *label427
   545 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x 0
+  546 set *tmp296 :createCombinedMask:x
   547 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   548 op or :createBlockMaskRow:result *tmp295 *tmp297
   549 label *label428
 
   578 label *label364
   579 op add *tmp296 :createCombinedMask:x 4
   580 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result 0 *tmp297
+  581 set :createBlockMaskRow:result *tmp297
   582 label *label365
   583 op shl *tmp295 :createBlockMaskRow:result 1
   584 op add *tmp296 :createCombinedMask:x 3
 
   596 op or :createBlockMaskRow:result *tmp295 *tmp297
   597 label *label368
   598 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x 0
+  599 set *tmp296 :createCombinedMask:x
   600 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   601 op or :createBlockMaskRow:result *tmp295 *tmp297
   602 label *label369
 
   869 label *label374
   870 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   871 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result 0 *tmp297
+  872 set :createBlockMaskRow:result *tmp297
   873 label *label375
   874 op shl *tmp295 :createBlockMaskRow:result 1
   875 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
 
   887 op or :createBlockMaskRow:result *tmp295 *tmp297
   888 label *label378
   889 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
+  890 set *tmp296 :layoutThoriumDrillAtLocation:newX
   891 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   892 op or :createBlockMaskRow:result *tmp295 *tmp297
   893 label *label379
 
   918 label *label384
   919 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   920 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result 0 *tmp297
+  921 set :createBlockMaskRow:result *tmp297
   922 label *label385
   923 op shl *tmp295 :createBlockMaskRow:result 1
   924 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
 
   936 op or :createBlockMaskRow:result *tmp295 *tmp297
   937 label *label388
   938 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
+  939 set *tmp296 :layoutThoriumDrillAtLocation:newX
   940 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   941 op or :createBlockMaskRow:result *tmp295 *tmp297
   942 label *label389
 
   971 label *label354
   972 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   973 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result 0 *tmp297
+  974 set :createBlockMaskRow:result *tmp297
   975 label *label355
   976 op shl *tmp295 :createBlockMaskRow:result 1
   977 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
 
   989 op or :createBlockMaskRow:result *tmp295 *tmp297
   990 label *label358
   991 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
+  992 set *tmp296 :layoutThoriumDrillAtLocation:newX
   993 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   994 op or :createBlockMaskRow:result *tmp295 *tmp297
   995 label *label359

Modifications by Iterated phase, Data Flow Optimization, pass 3, iteration 1 (-6 instructions):
 
   475 label *label301
   476 label *label413
   477 op add *tmp296 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * set :createBlockMaskRow:result *tmp297
+  478 ucontrol getBlock *tmp296 *tmp305 *tmp298 :createBlockMaskRow:result *tmp299
   479 label *label414
   480 op shl *tmp295 :createBlockMaskRow:result 1
   481 op add *tmp296 :createCombinedMask:x 3
 
   523 label *label307
   524 label *label423
   525 op add *tmp296 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * set :createBlockMaskRow:result *tmp297
+  526 ucontrol getBlock *tmp296 *tmp307 *tmp298 :createBlockMaskRow:result *tmp299
   527 label *label424
   528 op shl *tmp295 :createBlockMaskRow:result 1
   529 op add *tmp296 :createCombinedMask:x 3
 
   575 label *label315
   576 label *label364
   577 op add *tmp296 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * set :createBlockMaskRow:result *tmp297
+  578 ucontrol getBlock *tmp296 *tmp309 *tmp298 :createBlockMaskRow:result *tmp299
   579 label *label365
   580 op shl *tmp295 :createBlockMaskRow:result 1
   581 op add *tmp296 :createCombinedMask:x 3
 
   865 label *label328
   866 label *label374
   867 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * set :createBlockMaskRow:result *tmp297
+  868 ucontrol getBlock *tmp296 *tmp305 *tmp298 :createBlockMaskRow:result *tmp299
   869 label *label375
   870 op shl *tmp295 :createBlockMaskRow:result 1
   871 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
 
   913 label *label334
   914 label *label384
   915 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * set :createBlockMaskRow:result *tmp297
+  916 ucontrol getBlock *tmp296 *tmp307 *tmp298 :createBlockMaskRow:result *tmp299
   917 label *label385
   918 op shl *tmp295 :createBlockMaskRow:result 1
   919 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
 
   965 label *label342
   966 label *label354
   967 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * set :createBlockMaskRow:result *tmp297
+  968 ucontrol getBlock *tmp296 *tmp309 *tmp298 :createBlockMaskRow:result *tmp299
   969 label *label355
   970 op shl *tmp295 :createBlockMaskRow:result 1
   971 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3

Modifications by Iterated phase, Data Flow Optimization, pass 3, iteration 2:
 
   494 label *label417
   495 op shl *tmp295 :createBlockMaskRow:result 1
   496 set *tmp296 :createCombinedMask:x
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  497 ucontrol getBlock :createCombinedMask:x *tmp305 *tmp298 *tmp297 *tmp299
   498 op or :createBlockMaskRow:result *tmp295 *tmp297
   499 label *label418
   500 op shl *tmp295 :createBlockMaskRow:result 1
 
   542 label *label427
   543 op shl *tmp295 :createBlockMaskRow:result 1
   544 set *tmp296 :createCombinedMask:x
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  545 ucontrol getBlock :createCombinedMask:x *tmp307 *tmp298 *tmp297 *tmp299
   546 op or :createBlockMaskRow:result *tmp295 *tmp297
   547 label *label428
   548 op shl *tmp295 :createBlockMaskRow:result 1
 
   594 label *label368
   595 op shl *tmp295 :createBlockMaskRow:result 1
   596 set *tmp296 :createCombinedMask:x
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  597 ucontrol getBlock :createCombinedMask:x *tmp309 *tmp298 *tmp297 *tmp299
   598 op or :createBlockMaskRow:result *tmp295 *tmp297
   599 label *label369
   600 op shl *tmp295 :createBlockMaskRow:result 1
 
   884 label *label378
   885 op shl *tmp295 :createBlockMaskRow:result 1
   886 set *tmp296 :layoutThoriumDrillAtLocation:newX
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  887 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp305 *tmp298 *tmp297 *tmp299
   888 op or :createBlockMaskRow:result *tmp295 *tmp297
   889 label *label379
   890 op shl *tmp295 :createBlockMaskRow:result 1
 
   932 label *label388
   933 op shl *tmp295 :createBlockMaskRow:result 1
   934 set *tmp296 :layoutThoriumDrillAtLocation:newX
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  935 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp307 *tmp298 *tmp297 *tmp299
   936 op or :createBlockMaskRow:result *tmp295 *tmp297
   937 label *label389
   938 op shl *tmp295 :createBlockMaskRow:result 1
 
   984 label *label358
   985 op shl *tmp295 :createBlockMaskRow:result 1
   986 set *tmp296 :layoutThoriumDrillAtLocation:newX
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  987 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp309 *tmp298 *tmp297 *tmp299
   988 op or :createBlockMaskRow:result *tmp295 *tmp297
   989 label *label359
   990 op shl *tmp295 :createBlockMaskRow:result 1

Modifications by Iterated phase, Data Flow Optimization, pass 3, iteration 3 (-6 instructions):
 
   493 op or :createBlockMaskRow:result *tmp295 *tmp297
   494 label *label417
   495 op shl *tmp295 :createBlockMaskRow:result 1
-    * set *tmp296 :createCombinedMask:x
   496 ucontrol getBlock :createCombinedMask:x *tmp305 *tmp298 *tmp297 *tmp299
   497 op or :createBlockMaskRow:result *tmp295 *tmp297
   498 label *label418
 
   540 op or :createBlockMaskRow:result *tmp295 *tmp297
   541 label *label427
   542 op shl *tmp295 :createBlockMaskRow:result 1
-    * set *tmp296 :createCombinedMask:x
   543 ucontrol getBlock :createCombinedMask:x *tmp307 *tmp298 *tmp297 *tmp299
   544 op or :createBlockMaskRow:result *tmp295 *tmp297
   545 label *label428
 
   591 op or :createBlockMaskRow:result *tmp295 *tmp297
   592 label *label368
   593 op shl *tmp295 :createBlockMaskRow:result 1
-    * set *tmp296 :createCombinedMask:x
   594 ucontrol getBlock :createCombinedMask:x *tmp309 *tmp298 *tmp297 *tmp299
   595 op or :createBlockMaskRow:result *tmp295 *tmp297
   596 label *label369
 
   880 op or :createBlockMaskRow:result *tmp295 *tmp297
   881 label *label378
   882 op shl *tmp295 :createBlockMaskRow:result 1
-    * set *tmp296 :layoutThoriumDrillAtLocation:newX
   883 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp305 *tmp298 *tmp297 *tmp299
   884 op or :createBlockMaskRow:result *tmp295 *tmp297
   885 label *label379
 
   927 op or :createBlockMaskRow:result *tmp295 *tmp297
   928 label *label388
   929 op shl *tmp295 :createBlockMaskRow:result 1
-    * set *tmp296 :layoutThoriumDrillAtLocation:newX
   930 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp307 *tmp298 *tmp297 *tmp299
   931 op or :createBlockMaskRow:result *tmp295 *tmp297
   932 label *label389
 
   978 op or :createBlockMaskRow:result *tmp295 *tmp297
   979 label *label358
   980 op shl *tmp295 :createBlockMaskRow:result 1
-    * set *tmp296 :layoutThoriumDrillAtLocation:newX
   981 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp309 *tmp298 *tmp297 *tmp299
   982 op or :createBlockMaskRow:result *tmp295 *tmp297
   983 label *label359

Modifications by Jumps phase, Unreachable Code Elimination, pass 5, iteration 1 (-9 instructions):
 
    12 label *label22
    13 wait 1e12
    14 jump *label22 always
-    * end
    15 label *label4
    16 setaddr :findDrillLocation*retaddr *label22
    17 label *label5
 
    32 set :findDrillLocation:distanceLimit *tmp15
    33 set .angle 0
    34 set .mapProgress 0
-    * label *label26
    35 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
    36 jump *label28 notEqual *tmp18 false
    37 label *label220
    38 ucontrol approach :findDrillLocation:x :findDrillLocation:y 5.5
-    * label *label27
    39 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
    40 jump *label220 equal *tmp18 false
    41 label *label28
-    * label *label25
-    * label *label24
    42 op div *tmp21 *tmp15 3.8197185279121366
    43 op pow .mapTotal *tmp21 2
    44 set :findDrillLocation:oreX 0
 
    59 set :locateOreAway:lastY -1
    60 op max .angle .angle @pi
    61 op mul .mapProgress .angle .angle
-    * label *label35
    62 jump *label37 greaterThanEq :locateOreAway:distance :findDrillLocation:distanceLimit
    63 op sub *tmp37 @mapw 5
    64 op sub *tmp44 @maph 5
 
    69 op add *tmp36 :findDrillLocation:x *tmp35
    70 op max *tmp39 *tmp36 5
    71 op min *tmp38 *tmp39 *tmp37
-    * label *label38
    72 op cos *tmp41 :locateOreAway:a
    73 op mul *tmp42 *tmp41 :locateOreAway:distance
    74 op add *tmp43 :findDrillLocation:y *tmp42
    75 op max *tmp46 *tmp43 5
    76 op min *tmp45 *tmp46 *tmp44
-    * label *label39
-    * label *label41
    77 ucontrol within *tmp38 *tmp45 5 *tmp48
    78 jump *label43 notEqual *tmp48 false
    79 label *label212
    80 ucontrol approach *tmp38 *tmp45 4.5
-    * label *label42
    81 ucontrol within *tmp38 *tmp45 5 *tmp48
    82 jump *label212 equal *tmp48 false
    83 label *label43
-    * label *label40
    84 op div *tmp51 3.8197185279121366 :locateOreAway:distance
    85 op add .angle .angle *tmp51
    86 op mul .mapProgress .angle .angle
 
    90 set *tmp28 false
    91 jump *label34 always
    92 label *label44
-    * label *label45
    93 op sub *tmp58 :locateOreAway:x :findDrillLocation:x
    94 op abs *tmp59 *tmp58
    95 op sub *tmp60 :locateOreAway:y :findDrillLocation:y
 
   102 jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
   103 jump *label36 always
   104 label *label48
-    * label *label49
   105 label *label46
-    * label *label47
   106 jump *label50 lessThan :locateOreAway:coreDist 8
   107 jump *label52 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
   108 set :locateOreAway:lastX :locateOreAway:x
   109 set :locateOreAway:lastY :locateOreAway:y
   110 set *tmp75 .locations
   111 set :visited:i .locationsStart
-    * label *label57
   112 jump *label59 greaterThanEq .locationsStart *tmp75
   113 label *label206
   114 op mul :visited:index 4 :visited:i
 
   123 set *tmp74 true
   124 jump *label56 always
   125 label *label60
-    * label *label61
-    * label *label58
   126 op add :visited:i :visited:i 1
   127 jump *label206 lessThan :visited:i *tmp75
   128 label *label59
 
   136 set *tmp28 true
   137 jump *label34 always
   138 label *label54
-    * label *label55
   139 label *label52
-    * label *label53
   140 label *label50
-    * label *label51
   141 label *label36
   142 jump *label205 lessThan :locateOreAway:distance :findDrillLocation:distanceLimit
   143 label *label37
 
   150 op greaterThan :findDrillLocation*retval :findDrillLocation:capacity 0
   151 jump *label23 always
   152 label *label32
-    * label *label33
   153 jump *label62 lessThan :findDrillLocation:limit 1000
   154 op add .mapSpots .mapSpots 1
   155 label *label62
-    * label *label63
-    * label *label66
   156 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102
   157 jump *label68 notEqual *tmp102 false
   158 label *label213
   159 ucontrol approach :locateOreAway:x :locateOreAway:y 5.5
-    * label *label67
   160 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102
   161 jump *label213 equal *tmp102 false
   162 label *label68
-    * label *label65
-    * label *label64
   163 set :findDrillLocation:last 0
   164 label *label69
   165 write @unit processor4 ":findBestPosition:unit"
 
   186 jump *label73 greaterThan :findDrillLocation:coreDist 8
   187 jump *label71 always
   188 label *label73
-    * label *label74
   189 jump *label75 lessThanEq :findDrillLocation:score :findDrillLocation:capacity
   190 set :findDrillLocation:dx :findDrillLocation:newX
   191 set :findDrillLocation:dy :findDrillLocation:newY
 
   202 op add .count .count 1
   203 write :findDrillLocation:dy bank1 .count
   204 op add .locations .locations 1
-    * label *label81
   205 ucontrol unbind
   206 set .searchFinished true
   207 set :findDrillLocation*retval true
   208 jump *label23 always
   209 label *label79
-    * label *label80
   210 label *label75
-    * label *label76
   211 jump *label82 lessThanEq :findDrillLocation:score :findDrillLocation:best
   212 set :findDrillLocation:bestX :findDrillLocation:newX
   213 set :findDrillLocation:bestY :findDrillLocation:newY
   214 set :findDrillLocation:best :findDrillLocation:score
   215 label *label82
-    * label *label83
   216 jump *label84 greaterThan :findDrillLocation:score :findDrillLocation:last
   217 jump *label71 always
   218 label *label84
-    * label *label85
   219 set :findDrillLocation:last :findDrillLocation:score
   220 op mul :round:x :findDrillLocation:diffX 1.1
   221 op add *tmp148 :round:x 0.5
   222 op floor *tmp147 *tmp148
-    * label *label86
   223 op add :findDrillLocation:oreX :findDrillLocation:oreX *tmp147
   224 op mul :round.1:x :findDrillLocation:diffY 1.1
   225 op add *tmp152 :round.1:x 0.5
   226 op floor *tmp151 *tmp152
-    * label *label87
   227 op add :findDrillLocation:oreY :findDrillLocation:oreY *tmp151
-    * label *label70
   228 jump *label69 always
   229 label *label71
   230 jump *label88 lessThan :findDrillLocation:best 0
 
   238 op add .count .count 1
   239 write :findDrillLocation:bestY bank1 .count
   240 op add .locations .locations 1
-    * label *label90
   241 label *label88
-    * label *label89
-    * label *label30
   242 jump *label29 always
-    * label *label31
-    * set .searchFinished true
-    * set :findDrillLocation*retval false
   243 label *label23
   244 set :findDrillLocation*finished true
   245 return :findDrillLocation*retaddr
-    * end
   246 label *label14
   247 op add *tmp189 :excludeArea:areaWidth 8
   248 op idiv *tmp190 *tmp189 2
 
   262 op shl *tmp206 1 :excludeArea:blockSizeX
   263 op sub :createMatrixOfSize:row *tmp206 1
   264 set :createMatrixOfSize:matrix :createMatrixOfSize:row
-    * label *label394
   265 jump *label395 lessThan 1 :excludeArea:blockSizeY
   266 jump *label110 always
   267 label *label395
-    * label *label396
   268 op shl *tmp210 :createMatrixOfSize:row 7
   269 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label397
   270 jump *label398 lessThan 2 :excludeArea:blockSizeY
   271 jump *label110 always
   272 label *label398
-    * label *label399
   273 op shl *tmp210 :createMatrixOfSize:matrix 7
   274 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label400
   275 jump *label401 lessThan 3 :excludeArea:blockSizeY
   276 jump *label110 always
   277 label *label401
-    * label *label402
   278 op shl *tmp210 :createMatrixOfSize:matrix 7
   279 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label403
   280 jump *label404 lessThan 4 :excludeArea:blockSizeY
   281 jump *label110 always
   282 label *label404
-    * label *label405
   283 op shl *tmp210 :createMatrixOfSize:matrix 7
   284 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label406
   285 jump *label407 lessThan 5 :excludeArea:blockSizeY
   286 jump *label110 always
   287 label *label407
-    * label *label408
   288 op shl *tmp210 :createMatrixOfSize:matrix 7
   289 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label409
   290 jump *label410 lessThan 6 :excludeArea:blockSizeY
   291 jump *label110 always
   292 label *label410
-    * label *label411
   293 op shl *tmp210 :createMatrixOfSize:matrix 7
   294 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label412
   295 label *label110
-    * label *label107
   296 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX
   297 op sub *tmp213 7 :excludeArea:blockSizeX
   298 op mul :excludeArea:shiftX *tmp212 *tmp213
   299 op lessThan *tmp215 :excludeArea:maskY :excludeArea:areaY
   300 op sub *tmp216 7 :excludeArea:blockSizeY
   301 op mul :excludeArea:shiftY *tmp215 *tmp216
-    * label *label234
   302 op abs *tmp166 :excludeArea:shiftX
   303 jump *label235 greaterThan *tmp166 6
   304 op abs *tmp168 :excludeArea:shiftY
 
   307 set :shiftMask*retval 0
   308 jump *label244 always
   309 label *label236
-    * label *label237
   310 op mul *tmp171 7 :excludeArea:shiftY
   311 op add :shiftMask:shift :excludeArea:shiftX *tmp171
   312 jump *label238 lessThanEq :shiftMask:shift 0
 
   323 jump *label240 lessThanEq :excludeArea:shiftX 0
   324 op shl :shiftMask:keep :shiftMask:keep :excludeArea:shiftX
   325 label *label240
-    * label *label241
   326 op shl *tmp185 :shiftMask:keep 7
   327 op or :shiftMask:keep :shiftMask:keep *tmp185
   328 op shl *tmp186 :shiftMask:keep 14
 
   331 op or :shiftMask:keep :shiftMask:keep *tmp187
   332 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
   333 label *label242
-    * label *label243
   334 set :shiftMask*retval :shiftMask:mask
   335 label *label244
   336 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   337 label *label104
-    * label *label102
   338 return :excludeArea*retaddr
-    * end
   339 label *label15
   340 set :findPossiblePlacement:y -3
-    * label *label115
   341 jump *label117 greaterThan :findPossiblePlacement:y 3
   342 label *label208
   343 op add *tmp219 :findPossiblePlacement:y 3
   344 op mul *tmp220 7 *tmp219
   345 op shl :findPossiblePlacement:mask :findPossiblePlacement:placementMask *tmp220
   346 set :findPossiblePlacement:x -3
-    * label *label118
   347 jump *label120 greaterThan :findPossiblePlacement:x 3
   348 label *label209
   349 op and *tmp222 :findPossiblePlacement:terrainMask :findPossiblePlacement:mask
 
   353 op add :findPossiblePlacement*retval *tmp226 :findPossiblePlacement:x
   354 jump *label114 always
   355 label *label121
-    * label *label122
   356 op sub *tmp228 3 :findPossiblePlacement:width
   357 jump *label123 lessThanEq :findPossiblePlacement:x *tmp228
   358 jump *label120 always
   359 label *label123
-    * label *label124
   360 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
-    * label *label119
   361 op add :findPossiblePlacement:x :findPossiblePlacement:x 1
   362 jump *label209 lessThanEq :findPossiblePlacement:x 3
   363 label *label120
 
   365 jump *label125 lessThanEq :findPossiblePlacement:y *tmp231
   366 jump *label117 always
   367 label *label125
-    * label *label126
-    * label *label116
   368 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
   369 jump *label208 lessThanEq :findPossiblePlacement:y 3
   370 label *label117
   371 set :findPossiblePlacement*retval -1
   372 label *label114
   373 return :findPossiblePlacement*retaddr
-    * end
   374 label *label19
   375 set .panelY -1
   376 set .panelX -1
 
   382 set .water1X -1
   383 set :moveTo.5:x .drillX
   384 set :moveTo.5:y .drillY
-    * label *label167
   385 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324
   386 jump *label169 notEqual *tmp324 false
   387 label *label221
   388 ucontrol approach :moveTo.5:x :moveTo.5:y 0.5
-    * label *label168
   389 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324
   390 jump *label221 equal *tmp324 false
   391 label *label169
-    * label *label166
   392 set :createCombinedMask:x .drillX
   393 set :createCombinedMask:y .drillY
-    * label *label300
   394 write @unit processor4 ":createTerrainMask:unit"
   395 write :createCombinedMask:x processor4 ":createTerrainMask:x"
   396 write :createCombinedMask:y processor4 ":createTerrainMask:y"
 
   398 write 1 processor4 "@counter"
   399 set :createAdjacentMask:result 0
   400 op add *tmp305 :createCombinedMask:y 4
-    * label *label301
-    * label *label413
   401 op add *tmp296 :createCombinedMask:x 4
   402 ucontrol getBlock *tmp296 *tmp305 *tmp298 :createBlockMaskRow:result *tmp299
-    * label *label414
   403 op shl *tmp295 :createBlockMaskRow:result 1
   404 op add *tmp296 :createCombinedMask:x 3
   405 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   406 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label415
   407 op shl *tmp295 :createBlockMaskRow:result 1
   408 op add *tmp296 :createCombinedMask:x 2
   409 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   410 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label416
   411 op shl *tmp295 :createBlockMaskRow:result 1
   412 op add *tmp296 :createCombinedMask:x 1
   413 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   414 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label417
   415 op shl *tmp295 :createBlockMaskRow:result 1
   416 ucontrol getBlock :createCombinedMask:x *tmp305 *tmp298 *tmp297 *tmp299
   417 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label418
   418 op shl *tmp295 :createBlockMaskRow:result 1
   419 op add *tmp296 :createCombinedMask:x -1
   420 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   421 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label419
   422 op shl *tmp295 :createBlockMaskRow:result 1
   423 op add *tmp296 :createCombinedMask:x -2
   424 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   425 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label420
   426 op shl *tmp295 :createBlockMaskRow:result 1
   427 op add *tmp296 :createCombinedMask:x -3
   428 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   429 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label421
   430 op shl *tmp295 :createBlockMaskRow:result 1
   431 op add *tmp296 :createCombinedMask:x -4
   432 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   433 op or :createAdjacentMask:row2 *tmp295 *tmp297
-    * label *label422
-    * label *label305
-    * label *label306
   434 op add *tmp307 :createCombinedMask:y 3
-    * label *label307
-    * label *label423
   435 op add *tmp296 :createCombinedMask:x 4
   436 ucontrol getBlock *tmp296 *tmp307 *tmp298 :createBlockMaskRow:result *tmp299
-    * label *label424
   437 op shl *tmp295 :createBlockMaskRow:result 1
   438 op add *tmp296 :createCombinedMask:x 3
   439 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   440 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label425
   441 op shl *tmp295 :createBlockMaskRow:result 1
   442 op add *tmp296 :createCombinedMask:x 2
   443 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   444 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label426
   445 op shl *tmp295 :createBlockMaskRow:result 1
   446 op add *tmp296 :createCombinedMask:x 1
   447 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   448 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label427
   449 op shl *tmp295 :createBlockMaskRow:result 1
   450 ucontrol getBlock :createCombinedMask:x *tmp307 *tmp298 *tmp297 *tmp299
   451 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label428
   452 op shl *tmp295 :createBlockMaskRow:result 1
   453 op add *tmp296 :createCombinedMask:x -1
   454 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   455 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label429
   456 op shl *tmp295 :createBlockMaskRow:result 1
   457 op add *tmp296 :createCombinedMask:x -2
   458 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   459 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label430
   460 op shl *tmp295 :createBlockMaskRow:result 1
   461 op add *tmp296 :createCombinedMask:x -3
   462 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   463 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label431
   464 op shl *tmp295 :createBlockMaskRow:result 1
   465 op add *tmp296 :createCombinedMask:x -4
   466 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   467 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label432
-    * label *label311
-    * label *label312
   468 set :createAdjacentMask:row1 :createBlockMaskRow:result
   469 set :createAdjacentMask:r 2
-    * label *label313
   470 label *label314
   471 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
-    * label *label315
-    * label *label364
   472 op add *tmp296 :createCombinedMask:x 4
   473 ucontrol getBlock *tmp296 *tmp309 *tmp298 :createBlockMaskRow:result *tmp299
-    * label *label365
   474 op shl *tmp295 :createBlockMaskRow:result 1
   475 op add *tmp296 :createCombinedMask:x 3
   476 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   477 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label366
   478 op shl *tmp295 :createBlockMaskRow:result 1
   479 op add *tmp296 :createCombinedMask:x 2
   480 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   481 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label367
   482 op shl *tmp295 :createBlockMaskRow:result 1
   483 op add *tmp296 :createCombinedMask:x 1
   484 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   485 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label368
   486 op shl *tmp295 :createBlockMaskRow:result 1
   487 ucontrol getBlock :createCombinedMask:x *tmp309 *tmp298 *tmp297 *tmp299
   488 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label369
   489 op shl *tmp295 :createBlockMaskRow:result 1
   490 op add *tmp296 :createCombinedMask:x -1
   491 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   492 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label370
   493 op shl *tmp295 :createBlockMaskRow:result 1
   494 op add *tmp296 :createCombinedMask:x -2
   495 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   496 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label371
   497 op shl *tmp295 :createBlockMaskRow:result 1
   498 op add *tmp296 :createCombinedMask:x -3
   499 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   500 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label372
   501 op shl *tmp295 :createBlockMaskRow:result 1
   502 op add *tmp296 :createCombinedMask:x -4
   503 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   504 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label373
-    * label *label319
-    * label *label320
   505 op shl *tmp311 :createAdjacentMask:row1 1
   506 op or *tmp312 :createAdjacentMask:row2 *tmp311
   507 op shr *tmp313 :createAdjacentMask:row1 1
 
   512 op or :createAdjacentMask:result *tmp316 *tmp317
   513 set :createAdjacentMask:row2 :createAdjacentMask:row1
   514 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label321
   515 op sub :createAdjacentMask:r :createAdjacentMask:r 1
   516 jump *label314 greaterThanEq :createAdjacentMask:r -4
-    * label *label322
   517 op shr *tmp304 :createAdjacentMask:result 1
-    * label *label323
   518 label *label324
   519 wait 1e-15
   520 read *tmp320 processor4 ":createTerrainMask*finished"
 
   530 setaddr :excludeArea*retaddr *label325 (h:*label325)
   531 call *label14 *invalid :excludeArea*retval (m:*label325) (h:*label325)
   532 label *label325
-    * label *label326
   533 op or :layoutThoriumDrillAtLocation:terrainMask :excludeArea*retval 7575371776
   534 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   535 set :layoutThoriumDrillAtLocation:mask2x2 387
 
   549 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp337
   550 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp337
   551 label *label172
-    * label *label173
   552 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
   553 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
   554 set :findPossiblePlacement:width 2
 
   564 op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   565 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp346
   566 label *label175
-    * label *label176
   567 op or :layoutThoriumDrillAtLocation:nodeMask :layoutThoriumDrillAtLocation:terrainMask 437639987601635
   568 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:nodeMask
   569 set :findPossiblePlacement:placementMask 1
 
   576 set :layoutThoriumDrillAtLocation*retval false
   577 jump *label165 always
   578 label *label178
-    * label *label179
   579 op add .node1X .drillX :findPossiblePlacement:x
   580 op add .node1Y .drillY :findPossiblePlacement:y
   581 op shl *tmp353 1 :findPossiblePlacement*retval
 
   587 set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:terrainMask
   588 set :tryPlaceGenerator:generatorHorizontal 1935
   589 set :tryPlaceGenerator:generatorVertical 6340995
-    * label *label256
   590 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:terrainMask
   591 set :findPossiblePlacement:placementMask 6340995
   592 set :findPossiblePlacement:width 2
 
   599 set :tryPlaceGenerator*retval false
   600 jump *label277 always
   601 label *label258
-    * label *label259
   602 op add *tmp239 :tryPlaceGenerator:centerX 0.5
   603 op add .water2X *tmp239 :findPossiblePlacement:x
   604 op add *tmp241 :tryPlaceGenerator:centerY 0.5
 
   621 set :tryPlaceGenerator*retval false
   622 jump *label277 always
   623 label *label262
-    * label *label263
   624 op add *tmp251 :tryPlaceGenerator:centerX 0.5
   625 op add .water2X *tmp251 :findPossiblePlacement:x
   626 op add *tmp253 :tryPlaceGenerator:centerY 0.5
 
   643 set :tryPlaceGenerator*retval false
   644 jump *label277 always
   645 label *label266
-    * label *label267
   646 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   647 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   648 op shl *tmp265 1 :findPossiblePlacement*retval
 
   658 set :tryPlaceGenerator*retval false
   659 jump *label277 always
   660 label *label269
-    * label *label270
   661 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   662 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   663 op shl *tmp271 1 :findPossiblePlacement*retval
 
   690 set :tryPlaceGenerator*retval false
   691 jump *label277 always
   692 label *label273
-    * label *label274
   693 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
   694 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
   695 label *label275
-    * label *label276
   696 set :tryPlaceGenerator*retval true
   697 label *label277
   698 jump *label180 equal :tryPlaceGenerator*retval false
   699 set :layoutThoriumDrillAtLocation*retval true
   700 jump *label165 always
   701 label *label180
-    * label *label181
   702 set :layoutThoriumDrillAtLocation:sx 3
   703 set :layoutThoriumDrillAtLocation:sy 3
   704 setaddr *tmp356 *label186
 
   722 op sub :layoutThoriumDrillAtLocation:newY .drillY :layoutThoriumDrillAtLocation:sy
   723 set :createCombinedMask:x :layoutThoriumDrillAtLocation:newX
   724 set :createCombinedMask:y :layoutThoriumDrillAtLocation:newY
-    * label *label327
   725 write @unit processor4 ":createTerrainMask:unit"
   726 write :layoutThoriumDrillAtLocation:newX processor4 ":createTerrainMask:x"
   727 write :layoutThoriumDrillAtLocation:newY processor4 ":createTerrainMask:y"
 
   729 write 1 processor4 "@counter"
   730 set :createAdjacentMask:result 0
   731 op add *tmp305 :layoutThoriumDrillAtLocation:newY 4
-    * label *label328
-    * label *label374
   732 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   733 ucontrol getBlock *tmp296 *tmp305 *tmp298 :createBlockMaskRow:result *tmp299
-    * label *label375
   734 op shl *tmp295 :createBlockMaskRow:result 1
   735 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   736 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   737 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label376
   738 op shl *tmp295 :createBlockMaskRow:result 1
   739 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   740 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   741 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label377
   742 op shl *tmp295 :createBlockMaskRow:result 1
   743 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   744 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   745 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label378
   746 op shl *tmp295 :createBlockMaskRow:result 1
   747 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp305 *tmp298 *tmp297 *tmp299
   748 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label379
   749 op shl *tmp295 :createBlockMaskRow:result 1
   750 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   751 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   752 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label380
   753 op shl *tmp295 :createBlockMaskRow:result 1
   754 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   755 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   756 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label381
   757 op shl *tmp295 :createBlockMaskRow:result 1
   758 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   759 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   760 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label382
   761 op shl *tmp295 :createBlockMaskRow:result 1
   762 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   763 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   764 op or :createAdjacentMask:row2 *tmp295 *tmp297
-    * label *label383
-    * label *label332
-    * label *label333
   765 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
-    * label *label334
-    * label *label384
   766 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   767 ucontrol getBlock *tmp296 *tmp307 *tmp298 :createBlockMaskRow:result *tmp299
-    * label *label385
   768 op shl *tmp295 :createBlockMaskRow:result 1
   769 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   770 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   771 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label386
   772 op shl *tmp295 :createBlockMaskRow:result 1
   773 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   774 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   775 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label387
   776 op shl *tmp295 :createBlockMaskRow:result 1
   777 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   778 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   779 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label388
   780 op shl *tmp295 :createBlockMaskRow:result 1
   781 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp307 *tmp298 *tmp297 *tmp299
   782 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label389
   783 op shl *tmp295 :createBlockMaskRow:result 1
   784 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   785 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   786 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label390
   787 op shl *tmp295 :createBlockMaskRow:result 1
   788 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   789 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   790 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label391
   791 op shl *tmp295 :createBlockMaskRow:result 1
   792 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   793 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   794 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label392
   795 op shl *tmp295 :createBlockMaskRow:result 1
   796 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   797 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   798 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label393
-    * label *label338
-    * label *label339
   799 set :createAdjacentMask:row1 :createBlockMaskRow:result
   800 set :createAdjacentMask:r 2
-    * label *label340
   801 label *label341
   802 op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdjacentMask:r
-    * label *label342
-    * label *label354
   803 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   804 ucontrol getBlock *tmp296 *tmp309 *tmp298 :createBlockMaskRow:result *tmp299
-    * label *label355
   805 op shl *tmp295 :createBlockMaskRow:result 1
   806 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   807 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   808 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label356
   809 op shl *tmp295 :createBlockMaskRow:result 1
   810 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   811 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   812 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label357
   813 op shl *tmp295 :createBlockMaskRow:result 1
   814 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   815 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   816 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label358
   817 op shl *tmp295 :createBlockMaskRow:result 1
   818 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp309 *tmp298 *tmp297 *tmp299
   819 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label359
   820 op shl *tmp295 :createBlockMaskRow:result 1
   821 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   822 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   823 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label360
   824 op shl *tmp295 :createBlockMaskRow:result 1
   825 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   826 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   827 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label361
   828 op shl *tmp295 :createBlockMaskRow:result 1
   829 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   830 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   831 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label362
   832 op shl *tmp295 :createBlockMaskRow:result 1
   833 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   834 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   835 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label363
-    * label *label346
-    * label *label347
   836 op shl *tmp311 :createAdjacentMask:row1 1
   837 op or *tmp312 :createAdjacentMask:row2 *tmp311
   838 op shr *tmp313 :createAdjacentMask:row1 1
 
   843 op or :createAdjacentMask:result *tmp316 *tmp317
   844 set :createAdjacentMask:row2 :createAdjacentMask:row1
   845 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label348
   846 op sub :createAdjacentMask:r :createAdjacentMask:r 1
   847 jump *label341 greaterThanEq :createAdjacentMask:r -4
-    * label *label349
   848 op shr *tmp304 :createAdjacentMask:result 1
-    * label *label350
   849 label *label351
   850 wait 1e-15
   851 read *tmp320 processor4 ":createTerrainMask*finished"
 
   861 setaddr :excludeArea*retaddr *label352 (h:*label352)
   862 call *label14 *invalid :excludeArea*retval (m:*label352) (h:*label352)
   863 label *label352
-    * label *label353
   864 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
-    * label *label245
   865 op abs *tmp166 :layoutThoriumDrillAtLocation:sx
   866 jump *label246 greaterThan *tmp166 6
   867 op abs *tmp168 :layoutThoriumDrillAtLocation:sy
 
   870 set :shiftMask*retval 0
   871 jump *label255 always
   872 label *label247
-    * label *label248
   873 op mul *tmp171 7 :layoutThoriumDrillAtLocation:sy
   874 op add :shiftMask:shift :layoutThoriumDrillAtLocation:sx *tmp171
   875 jump *label249 lessThanEq :shiftMask:shift 0
 
   886 jump *label251 lessThanEq :layoutThoriumDrillAtLocation:sx 0
   887 op shl :shiftMask:keep :shiftMask:keep :layoutThoriumDrillAtLocation:sx
   888 label *label251
-    * label *label252
   889 op shl *tmp185 :shiftMask:keep 7
   890 op or :shiftMask:keep :shiftMask:keep *tmp185
   891 op shl *tmp186 :shiftMask:keep 14
 
   894 op or :shiftMask:keep :shiftMask:keep *tmp187
   895 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
   896 label *label253
-    * label *label254
   897 set :shiftMask*retval :shiftMask:mask
   898 label *label255
   899 op or :layoutThoriumDrillAtLocation:combinedMask :excludeArea*retval :shiftMask*retval
 
   904 set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:combinedMask
   905 set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDrillAtLocation:generatorHorizontal
   906 set :tryPlaceGenerator:generatorVertical :layoutThoriumDrillAtLocation:generatorVertical
-    * label *label278
   907 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:combinedMask
   908 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:generatorVertical
   909 set :findPossiblePlacement:width 2
 
   916 set :tryPlaceGenerator*retval false
   917 jump *label299 always
   918 label *label280
-    * label *label281
   919 op add *tmp239 :tryPlaceGenerator:centerX 0.5
   920 op add .water2X *tmp239 :findPossiblePlacement:x
   921 op add *tmp241 :tryPlaceGenerator:centerY 0.5
 
   938 set :tryPlaceGenerator*retval false
   939 jump *label299 always
   940 label *label284
-    * label *label285
   941 op add *tmp251 :tryPlaceGenerator:centerX 0.5
   942 op add .water2X *tmp251 :findPossiblePlacement:x
   943 op add *tmp253 :tryPlaceGenerator:centerY 0.5
 
   960 set :tryPlaceGenerator*retval false
   961 jump *label299 always
   962 label *label288
-    * label *label289
   963 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   964 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   965 op shl *tmp265 1 :findPossiblePlacement*retval
 
   975 set :tryPlaceGenerator*retval false
   976 jump *label299 always
   977 label *label291
-    * label *label292
   978 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   979 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   980 op shl *tmp271 1 :findPossiblePlacement*retval
 
  1007 set :tryPlaceGenerator*retval false
  1008 jump *label299 always
  1009 label *label295
-    * label *label296
  1010 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
  1011 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
  1012 label *label297
-    * label *label298
  1013 set :tryPlaceGenerator*retval true
  1014 label *label299
  1015 jump *label192 equal :tryPlaceGenerator*retval false
  1016 set :layoutThoriumDrillAtLocation*retval true
  1017 jump *label165 always
  1018 label *label192
-    * label *label193
-    * label *label184
  1019 multijump *tmp356 0 0 (m:marker0)
  1020 multilabel *label189 (m:marker0)
-    * label *label185
  1021 set :layoutThoriumDrillAtLocation*retval true
  1022 label *label165
  1023 return :layoutThoriumDrillAtLocation*retaddr
-    * end
  1024 label *label6
  1025 set :findDrillLocation:x :layoutThoriumDrill:x
  1026 set :findDrillLocation:y :layoutThoriumDrill:y
 
  1038 set :layoutThoriumDrill*retval false
  1039 jump *label195 always
  1040 label *label196
-    * label *label197
  1041 setaddr :layoutThoriumDrillAtLocation*retaddr *label199 (h:*label199)
  1042 call *label19 *invalid :layoutThoriumDrillAtLocation*retval (m:*label199) (h:*label199)
  1043 label *label199
 
  1045 label *label195
  1046 set :layoutThoriumDrill*finished true
  1047 jump *label22 always
-    * end
  1048 label *label8
  1049 set .mapSpots 0
  1050 set .mapTotal 0
  1051 set .mapProgress 0
  1052 ucontrol unbind
-    * label *label200
  1053 set :stopLocation*finished true
  1054 jump *label22 always
-    * end

Modifications by Jumps phase, Jump Straightening, pass 5, iteration 1 (-11 instructions):
 
    99 op sub *tmp64 :locateOreAway:y *tmp45
   100 op len :locateOreAway:unitDist *tmp63 *tmp64
   101 jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x
-    * jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
-    * jump *label36 always
+  102 jump *label36 equal :locateOreAway:lastY :locateOreAway:y
   103 label *label48
   104 label *label46
   105 jump *label50 lessThan :locateOreAway:coreDist 8
 
   182 op sub *tmp121 :findDrillLocation:newY :findDrillLocation:y
   183 op abs *tmp122 *tmp121
   184 op max :findDrillLocation:coreDist *tmp120 *tmp122
-    * jump *label73 greaterThan :findDrillLocation:coreDist 8
-    * jump *label71 always
+  185 jump *label71 lessThanEq :findDrillLocation:coreDist 8
   186 label *label73
   187 jump *label75 lessThanEq :findDrillLocation:score :findDrillLocation:capacity
   188 set :findDrillLocation:dx :findDrillLocation:newX
 
   211 set :findDrillLocation:bestY :findDrillLocation:newY
   212 set :findDrillLocation:best :findDrillLocation:score
   213 label *label82
-    * jump *label84 greaterThan :findDrillLocation:score :findDrillLocation:last
-    * jump *label71 always
+  214 jump *label71 lessThanEq :findDrillLocation:score :findDrillLocation:last
   215 label *label84
   216 set :findDrillLocation:last :findDrillLocation:score
   217 op mul :round:x :findDrillLocation:diffX 1.1
 
   259 op shl *tmp206 1 :excludeArea:blockSizeX
   260 op sub :createMatrixOfSize:row *tmp206 1
   261 set :createMatrixOfSize:matrix :createMatrixOfSize:row
-    * jump *label395 lessThan 1 :excludeArea:blockSizeY
-    * jump *label110 always
+  262 jump *label110 greaterThanEq 1 :excludeArea:blockSizeY
   263 label *label395
   264 op shl *tmp210 :createMatrixOfSize:row 7
   265 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * jump *label398 lessThan 2 :excludeArea:blockSizeY
-    * jump *label110 always
+  266 jump *label110 greaterThanEq 2 :excludeArea:blockSizeY
   267 label *label398
   268 op shl *tmp210 :createMatrixOfSize:matrix 7
   269 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * jump *label401 lessThan 3 :excludeArea:blockSizeY
-    * jump *label110 always
+  270 jump *label110 greaterThanEq 3 :excludeArea:blockSizeY
   271 label *label401
   272 op shl *tmp210 :createMatrixOfSize:matrix 7
   273 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * jump *label404 lessThan 4 :excludeArea:blockSizeY
-    * jump *label110 always
+  274 jump *label110 greaterThanEq 4 :excludeArea:blockSizeY
   275 label *label404
   276 op shl *tmp210 :createMatrixOfSize:matrix 7
   277 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * jump *label407 lessThan 5 :excludeArea:blockSizeY
-    * jump *label110 always
+  278 jump *label110 greaterThanEq 5 :excludeArea:blockSizeY
   279 label *label407
   280 op shl *tmp210 :createMatrixOfSize:matrix 7
   281 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * jump *label410 lessThan 6 :excludeArea:blockSizeY
-    * jump *label110 always
+  282 jump *label110 greaterThanEq 6 :excludeArea:blockSizeY
   283 label *label410
   284 op shl *tmp210 :createMatrixOfSize:matrix 7
   285 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
 
   345 jump *label114 always
   346 label *label121
   347 op sub *tmp228 3 :findPossiblePlacement:width
-    * jump *label123 lessThanEq :findPossiblePlacement:x *tmp228
-    * jump *label120 always
+  348 jump *label120 greaterThan :findPossiblePlacement:x *tmp228
   349 label *label123
   350 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
   351 op add :findPossiblePlacement:x :findPossiblePlacement:x 1
   352 jump *label209 lessThanEq :findPossiblePlacement:x 3
   353 label *label120
   354 op sub *tmp231 3 :findPossiblePlacement:height
-    * jump *label125 lessThanEq :findPossiblePlacement:y *tmp231
-    * jump *label117 always
+  355 jump *label117 greaterThan :findPossiblePlacement:y *tmp231
   356 label *label125
   357 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
   358 jump *label208 lessThanEq :findPossiblePlacement:y 3

Modifications by Jumps phase, Jump Threading, pass 5, iteration 1:
 
   221 op add :findDrillLocation:oreY :findDrillLocation:oreY *tmp151
   222 jump *label69 always
   223 label *label71
-    * jump *label88 lessThan :findDrillLocation:best 0
+  224 jump *label29 lessThan :findDrillLocation:best 0
   225 op add .count .count 1
   226 sensor *tmp158 :findDrillLocation:item @id
   227 write *tmp158 bank1 .count
 
   333 op mul *tmp225 :findPossiblePlacement:y 7
   334 op add *tmp226 24 *tmp225
   335 op add :findPossiblePlacement*retval *tmp226 :findPossiblePlacement:x
-    * jump *label114 always
+  336 return :findPossiblePlacement*retaddr
   337 label *label121
   338 op sub *tmp228 3 :findPossiblePlacement:width
   339 jump *label120 greaterThan :findPossiblePlacement:x *tmp228
 
   552 label *label177
   553 jump *label178 greaterThanEq :findPossiblePlacement*retval 0
   554 set :layoutThoriumDrillAtLocation*retval false
-    * jump *label165 always
+  555 return :layoutThoriumDrillAtLocation*retaddr
   556 label *label178
   557 op add .node1X .drillX :findPossiblePlacement:x
   558 op add .node1Y .drillY :findPossiblePlacement:y
 
   675 label *label277
   676 jump *label180 equal :tryPlaceGenerator*retval false
   677 set :layoutThoriumDrillAtLocation*retval true
-    * jump *label165 always
+  678 return :layoutThoriumDrillAtLocation*retaddr
   679 label *label180
   680 set :layoutThoriumDrillAtLocation:sx 3
   681 set :layoutThoriumDrillAtLocation:sy 3
 
   992 label *label299
   993 jump *label192 equal :tryPlaceGenerator*retval false
   994 set :layoutThoriumDrillAtLocation*retval true
-    * jump *label165 always
+  995 return :layoutThoriumDrillAtLocation*retaddr
   996 label *label192
   997 multijump *tmp356 0 0 (m:marker0)
   998 multilabel *label189 (m:marker0)

Modifications by Final phase, Temp Variables Elimination, iteration 1:
 
    85 op add .angle .angle *tmp51
    86 op mul .mapProgress .angle .angle
    87 op mul :locateOreAway:distance 3.8197185279121366 .angle
-    * ulocate ore core true :findDrillLocation:item :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
+   88 ulocate ore core true :findDrillLocation:item :locateOreAway:x :locateOreAway:y *tmp54 0
    89 jump *label44 notEqual *tmp54 false
    90 set *tmp28 false
    91 jump *label34 always
 
   375 set :createAdjacentMask:result 0
   376 op add *tmp305 :createCombinedMask:y 4
   377 op add *tmp296 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 :createBlockMaskRow:result *tmp299
+  378 ucontrol getBlock *tmp296 *tmp305 0 :createBlockMaskRow:result 0
   379 op shl *tmp295 :createBlockMaskRow:result 1
   380 op add *tmp296 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  381 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   382 op or :createBlockMaskRow:result *tmp295 *tmp297
   383 op shl *tmp295 :createBlockMaskRow:result 1
   384 op add *tmp296 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  385 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   386 op or :createBlockMaskRow:result *tmp295 *tmp297
   387 op shl *tmp295 :createBlockMaskRow:result 1
   388 op add *tmp296 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  389 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   390 op or :createBlockMaskRow:result *tmp295 *tmp297
   391 op shl *tmp295 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x *tmp305 *tmp298 *tmp297 *tmp299
+  392 ucontrol getBlock :createCombinedMask:x *tmp305 0 *tmp297 0
   393 op or :createBlockMaskRow:result *tmp295 *tmp297
   394 op shl *tmp295 :createBlockMaskRow:result 1
   395 op add *tmp296 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  396 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   397 op or :createBlockMaskRow:result *tmp295 *tmp297
   398 op shl *tmp295 :createBlockMaskRow:result 1
   399 op add *tmp296 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  400 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   401 op or :createBlockMaskRow:result *tmp295 *tmp297
   402 op shl *tmp295 :createBlockMaskRow:result 1
   403 op add *tmp296 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  404 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   405 op or :createBlockMaskRow:result *tmp295 *tmp297
   406 op shl *tmp295 :createBlockMaskRow:result 1
   407 op add *tmp296 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  408 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   409 op or :createAdjacentMask:row2 *tmp295 *tmp297
   410 op add *tmp307 :createCombinedMask:y 3
   411 op add *tmp296 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 :createBlockMaskRow:result *tmp299
+  412 ucontrol getBlock *tmp296 *tmp307 0 :createBlockMaskRow:result 0
   413 op shl *tmp295 :createBlockMaskRow:result 1
   414 op add *tmp296 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  415 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   416 op or :createBlockMaskRow:result *tmp295 *tmp297
   417 op shl *tmp295 :createBlockMaskRow:result 1
   418 op add *tmp296 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  419 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   420 op or :createBlockMaskRow:result *tmp295 *tmp297
   421 op shl *tmp295 :createBlockMaskRow:result 1
   422 op add *tmp296 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  423 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   424 op or :createBlockMaskRow:result *tmp295 *tmp297
   425 op shl *tmp295 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x *tmp307 *tmp298 *tmp297 *tmp299
+  426 ucontrol getBlock :createCombinedMask:x *tmp307 0 *tmp297 0
   427 op or :createBlockMaskRow:result *tmp295 *tmp297
   428 op shl *tmp295 :createBlockMaskRow:result 1
   429 op add *tmp296 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  430 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   431 op or :createBlockMaskRow:result *tmp295 *tmp297
   432 op shl *tmp295 :createBlockMaskRow:result 1
   433 op add *tmp296 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  434 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   435 op or :createBlockMaskRow:result *tmp295 *tmp297
   436 op shl *tmp295 :createBlockMaskRow:result 1
   437 op add *tmp296 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  438 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   439 op or :createBlockMaskRow:result *tmp295 *tmp297
   440 op shl *tmp295 :createBlockMaskRow:result 1
   441 op add *tmp296 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  442 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   443 op or :createBlockMaskRow:result *tmp295 *tmp297
   444 set :createAdjacentMask:row1 :createBlockMaskRow:result
   445 set :createAdjacentMask:r 2
   446 label *label314
   447 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
   448 op add *tmp296 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 :createBlockMaskRow:result *tmp299
+  449 ucontrol getBlock *tmp296 *tmp309 0 :createBlockMaskRow:result 0
   450 op shl *tmp295 :createBlockMaskRow:result 1
   451 op add *tmp296 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  452 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   453 op or :createBlockMaskRow:result *tmp295 *tmp297
   454 op shl *tmp295 :createBlockMaskRow:result 1
   455 op add *tmp296 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  456 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   457 op or :createBlockMaskRow:result *tmp295 *tmp297
   458 op shl *tmp295 :createBlockMaskRow:result 1
   459 op add *tmp296 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  460 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   461 op or :createBlockMaskRow:result *tmp295 *tmp297
   462 op shl *tmp295 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x *tmp309 *tmp298 *tmp297 *tmp299
+  463 ucontrol getBlock :createCombinedMask:x *tmp309 0 *tmp297 0
   464 op or :createBlockMaskRow:result *tmp295 *tmp297
   465 op shl *tmp295 :createBlockMaskRow:result 1
   466 op add *tmp296 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  467 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   468 op or :createBlockMaskRow:result *tmp295 *tmp297
   469 op shl *tmp295 :createBlockMaskRow:result 1
   470 op add *tmp296 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  471 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   472 op or :createBlockMaskRow:result *tmp295 *tmp297
   473 op shl *tmp295 :createBlockMaskRow:result 1
   474 op add *tmp296 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  475 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   476 op or :createBlockMaskRow:result *tmp295 *tmp297
   477 op shl *tmp295 :createBlockMaskRow:result 1
   478 op add *tmp296 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  479 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   480 op or :createBlockMaskRow:result *tmp295 *tmp297
   481 op shl *tmp311 :createAdjacentMask:row1 1
   482 op or *tmp312 :createAdjacentMask:row2 *tmp311
 
   706 set :createAdjacentMask:result 0
   707 op add *tmp305 :layoutThoriumDrillAtLocation:newY 4
   708 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 :createBlockMaskRow:result *tmp299
+  709 ucontrol getBlock *tmp296 *tmp305 0 :createBlockMaskRow:result 0
   710 op shl *tmp295 :createBlockMaskRow:result 1
   711 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  712 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   713 op or :createBlockMaskRow:result *tmp295 *tmp297
   714 op shl *tmp295 :createBlockMaskRow:result 1
   715 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  716 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   717 op or :createBlockMaskRow:result *tmp295 *tmp297
   718 op shl *tmp295 :createBlockMaskRow:result 1
   719 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  720 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   721 op or :createBlockMaskRow:result *tmp295 *tmp297
   722 op shl *tmp295 :createBlockMaskRow:result 1
-    * ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp305 *tmp298 *tmp297 *tmp299
+  723 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp305 0 *tmp297 0
   724 op or :createBlockMaskRow:result *tmp295 *tmp297
   725 op shl *tmp295 :createBlockMaskRow:result 1
   726 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  727 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   728 op or :createBlockMaskRow:result *tmp295 *tmp297
   729 op shl *tmp295 :createBlockMaskRow:result 1
   730 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  731 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   732 op or :createBlockMaskRow:result *tmp295 *tmp297
   733 op shl *tmp295 :createBlockMaskRow:result 1
   734 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  735 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   736 op or :createBlockMaskRow:result *tmp295 *tmp297
   737 op shl *tmp295 :createBlockMaskRow:result 1
   738 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  739 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   740 op or :createAdjacentMask:row2 *tmp295 *tmp297
   741 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
   742 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 :createBlockMaskRow:result *tmp299
+  743 ucontrol getBlock *tmp296 *tmp307 0 :createBlockMaskRow:result 0
   744 op shl *tmp295 :createBlockMaskRow:result 1
   745 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  746 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   747 op or :createBlockMaskRow:result *tmp295 *tmp297
   748 op shl *tmp295 :createBlockMaskRow:result 1
   749 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  750 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   751 op or :createBlockMaskRow:result *tmp295 *tmp297
   752 op shl *tmp295 :createBlockMaskRow:result 1
   753 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  754 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   755 op or :createBlockMaskRow:result *tmp295 *tmp297
   756 op shl *tmp295 :createBlockMaskRow:result 1
-    * ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp307 *tmp298 *tmp297 *tmp299
+  757 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp307 0 *tmp297 0
   758 op or :createBlockMaskRow:result *tmp295 *tmp297
   759 op shl *tmp295 :createBlockMaskRow:result 1
   760 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  761 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   762 op or :createBlockMaskRow:result *tmp295 *tmp297
   763 op shl *tmp295 :createBlockMaskRow:result 1
   764 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  765 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   766 op or :createBlockMaskRow:result *tmp295 *tmp297
   767 op shl *tmp295 :createBlockMaskRow:result 1
   768 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  769 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   770 op or :createBlockMaskRow:result *tmp295 *tmp297
   771 op shl *tmp295 :createBlockMaskRow:result 1
   772 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  773 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   774 op or :createBlockMaskRow:result *tmp295 *tmp297
   775 set :createAdjacentMask:row1 :createBlockMaskRow:result
   776 set :createAdjacentMask:r 2
   777 label *label341
   778 op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdjacentMask:r
   779 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 :createBlockMaskRow:result *tmp299
+  780 ucontrol getBlock *tmp296 *tmp309 0 :createBlockMaskRow:result 0
   781 op shl *tmp295 :createBlockMaskRow:result 1
   782 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  783 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   784 op or :createBlockMaskRow:result *tmp295 *tmp297
   785 op shl *tmp295 :createBlockMaskRow:result 1
   786 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  787 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   788 op or :createBlockMaskRow:result *tmp295 *tmp297
   789 op shl *tmp295 :createBlockMaskRow:result 1
   790 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  791 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   792 op or :createBlockMaskRow:result *tmp295 *tmp297
   793 op shl *tmp295 :createBlockMaskRow:result 1
-    * ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp309 *tmp298 *tmp297 *tmp299
+  794 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp309 0 *tmp297 0
   795 op or :createBlockMaskRow:result *tmp295 *tmp297
   796 op shl *tmp295 :createBlockMaskRow:result 1
   797 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  798 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   799 op or :createBlockMaskRow:result *tmp295 *tmp297
   800 op shl *tmp295 :createBlockMaskRow:result 1
   801 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  802 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   803 op or :createBlockMaskRow:result *tmp295 *tmp297
   804 op shl *tmp295 :createBlockMaskRow:result 1
   805 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  806 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   807 op or :createBlockMaskRow:result *tmp295 *tmp297
   808 op shl *tmp295 :createBlockMaskRow:result 1
   809 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  810 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   811 op or :createBlockMaskRow:result *tmp295 *tmp297
   812 op shl *tmp311 :createAdjacentMask:row1 1
   813 op or *tmp312 :createAdjacentMask:row2 *tmp311

Final code before resolving virtual instructions:

    0:  jump *label20 always 0 0                                     OreLocator.mnd: #set target = 8;
    1:  jump *label4 always 0 0                                      ...
    2:  jump *label6 always 0 0                                      ...
    3:  jump *label8 always 0 0                                      ...
        label *label20                                               ...
        label *label21                                               OreLocator.mnd: require "Matrices.mnd" remote matrices;
    4:  read *tmp11 processor4 "*signature"                          ...
    5:  jump *label21 notEqual *tmp11 "b7c1b9d437eb2566:v1"          ...
    6:  set .attenuationRate 50                                      OreLocator.mnd: export var attenuationRate = 50;
    7:  set .locations 0                                             OreLocator.mnd: export var locations = 0;
    8:  set .count -1                                                OreLocator.mnd: var count = -1, locationsStart, start;
    9:  set *signature "2b365030e19b2b7f:v1"                         OreLocator.mnd: #set target = 8;
        label *label22                                               ...
   10:  wait 1e12                                                    ...
   11:  jump *label22 always 0 0                                     ...
        label *label4                                                OreLocator.mnd: export def findDrillLocation(x, y, unit, item, ore, size, limit, out dx, out dy, out capacity)
   12:  setaddr :findDrillLocation*retaddr *label22                  ...
        label *label5                                                ...
   13:  set .searchFinished false                                    OreLocator.mnd: searchFinished = false;
   14:  ubind :findDrillLocation:unit                                OreLocator.mnd: ubind(unit);
   15:  set .locationsStart .locations                               OreLocator.mnd: locationsStart = locations;
   16:  set .coreX :findDrillLocation:x                              OreLocator.mnd: coreX = x;
   17:  set .coreY :findDrillLocation:y                              OreLocator.mnd: coreY = y;
   18:  set :findDrillLocation:capacity 0                            OreLocator.mnd: mapSpots = dx = dy = capacity = 0;
   19:  set :findDrillLocation:dy :findDrillLocation:capacity        ...
   20:  set :findDrillLocation:dx :findDrillLocation:dy              ...
   21:  set .mapSpots :findDrillLocation:dx                          ...
   22:  op sub *tmp13 @mapw :findDrillLocation:x                     OreLocator.mnd: var distanceLimit = max(coreX, coreY, @mapw - coreX, @maph - coreY);
   23:  op sub *tmp14 @maph :findDrillLocation:y                     ...
   24:  op max *tmp15 :findDrillLocation:x :findDrillLocation:y      ...
   25:  op max *tmp15 *tmp15 *tmp13                                  ...
   26:  op max *tmp15 *tmp15 *tmp14                                  ...
   27:  set :findDrillLocation:distanceLimit *tmp15                  ...
   28:  set .angle 0                                                 OreLocator.mnd: mapProgress = angle = 0;
   29:  set .mapProgress 0                                           ...
   30:  ucontrol within :findDrillLocation:x :findDrillLocation:y 6  OreLocator.mnd: while !within(x, y, radius) do
   31:  jump *label28 notEqual *tmp18 false                          ...
        label *label220                                              ...
   32:  ucontrol approach :findDrillLocation:x :findDrillLocation:y  OreLocator.mnd: approach(x, y, radius - 0.5);
   33:  ucontrol within :findDrillLocation:x :findDrillLocation:y 6  OreLocator.mnd: while !within(x, y, radius) do
   34:  jump *label220 equal *tmp18 false                            ...
        label *label28                                               ...
   35:  op div *tmp21 *tmp15 3.8197185279121366                      OreLocator.mnd: mapTotal = (distanceLimit / SPIRAL_WIDTH) ** 2;
   36:  op pow .mapTotal *tmp21 2                                    ...
   37:  set :findDrillLocation:oreX 0                                OreLocator.mnd: var oreX = 0, oreY = 0;
   38:  set :findDrillLocation:oreY 0                                ...
        label *label29                                               OreLocator.mnd: while true do
   39:  set :findDrillLocation:best -1                               OreLocator.mnd: var best = -1, bestX = x, bestY = y;
   40:  set :findDrillLocation:bestX :findDrillLocation:x            ...
   41:  set :findDrillLocation:bestY :findDrillLocation:y            ...
   42:  op sub *tmp23 :findDrillLocation:limit :findDrillLocation:ca OreLocator.mnd: var maxDistance = (limit - capacity) * attenuationRate;
   43:  op mul :findDrillLocation:maxDistance *tmp23 .attenuationRat ...
   44:  op min :findDrillLocation:distanceLimit :findDrillLocation:d OreLocator.mnd: distanceLimit = min(distanceLimit, maxDistance);
   45:  op div *tmp26 :findDrillLocation:distanceLimit 3.81971852791 OreLocator.mnd: mapTotal = (distanceLimit / SPIRAL_WIDTH) ** 2;
   46:  op pow .mapTotal *tmp26 2                                    ...
   47:  set :locateOreAway:x :findDrillLocation:oreX                 OreLocator.mnd: if !locateOreAway(item, in out oreX, in out oreY, in distanceLimit) then
   48:  set :locateOreAway:y :findDrillLocation:oreY                 ...
   49:  op mul :locateOreAway:distance 3.8197185279121366 .angle     OreLocator.mnd: var distance = SPIRAL_WIDTH * angle;
   50:  set :locateOreAway:lastX -1                                  OreLocator.mnd: var lastX = -1, lastY = -1;
   51:  set :locateOreAway:lastY -1                                  ...
   52:  op max .angle .angle @pi                                     OreLocator.mnd: angle = max(angle, @pi);
   53:  op mul .mapProgress .angle .angle                            OreLocator.mnd: mapProgress = angle * angle;
   54:  jump *label37 greaterThanEq :locateOreAway:distance :findDri OreLocator.mnd: while distance < distanceLimit do
   55:  op sub *tmp37 @mapw 5                                        ...
   56:  op sub *tmp44 @maph 5                                        ...
        label *label205                                              ...
   57:  op div :locateOreAway:a .angle @degToRad                     OreLocator.mnd: var a = angle / @degToRad;
   58:  op sin *tmp34 :locateOreAway:a 0                             OreLocator.mnd: var lx = limit(coreX + sin(a) * distance, 5, @mapw - 5);
   59:  op mul *tmp35 *tmp34 :locateOreAway:distance                 ...
   60:  op add *tmp36 :findDrillLocation:x *tmp35                    ...
   61:  op max *tmp39 *tmp36 5                                       OreLocator.mnd: min(max(value, low), high);
   62:  op min *tmp38 *tmp39 *tmp37                                  ...
   63:  op cos *tmp41 :locateOreAway:a 0                             OreLocator.mnd: var ly = limit(coreY + cos(a) * distance, 5, @maph - 5);
   64:  op mul *tmp42 *tmp41 :locateOreAway:distance                 ...
   65:  op add *tmp43 :findDrillLocation:y *tmp42                    ...
   66:  op max *tmp46 *tmp43 5                                       OreLocator.mnd: min(max(value, low), high);
   67:  op min *tmp45 *tmp46 *tmp44                                  ...
   68:  ucontrol within *tmp38 *tmp45 5 *tmp48 0                     OreLocator.mnd: while !within(x, y, radius) do
   69:  jump *label43 notEqual *tmp48 false                          ...
        label *label212                                              ...
   70:  ucontrol approach *tmp38 *tmp45 4.5 0 0                      OreLocator.mnd: approach(x, y, radius - 0.5);
   71:  ucontrol within *tmp38 *tmp45 5 *tmp48 0                     OreLocator.mnd: while !within(x, y, radius) do
   72:  jump *label212 equal *tmp48 false                            ...
        label *label43                                               ...
   73:  op div *tmp51 3.8197185279121366 :locateOreAway:distance     OreLocator.mnd: angle += SPIRAL_WIDTH / distance;
   74:  op add .angle .angle *tmp51                                  ...
   75:  op mul .mapProgress .angle .angle                            OreLocator.mnd: mapProgress = angle * angle;
   76:  op mul :locateOreAway:distance 3.8197185279121366 .angle     OreLocator.mnd: distance = SPIRAL_WIDTH * angle;
   77:  ulocate ore core true :findDrillLocation:item :locateOreAway OreLocator.mnd: if !ulocate(:ore, ore, out x, out y) then
   78:  jump *label44 notEqual *tmp54 false                          ...
   79:  set *tmp28 false                                             OreLocator.mnd: return false;
   80:  jump *label34 always 0 0                                     ...
        label *label44                                               OreLocator.mnd: if !ulocate(:ore, ore, out x, out y) then
   81:  op sub *tmp58 :locateOreAway:x :findDrillLocation:x          OreLocator.mnd: var coreDist = max(abs(x - coreX), abs(y - coreY));
   82:  op abs *tmp59 *tmp58 0                                       ...
   83:  op sub *tmp60 :locateOreAway:y :findDrillLocation:y          ...
   84:  op abs *tmp61 *tmp60 0                                       ...
   85:  op max :locateOreAway:coreDist *tmp59 *tmp61                 ...
   86:  op sub *tmp63 :locateOreAway:x *tmp38                        OreLocator.mnd: var unitDist = len(x - lx, y - ly);
   87:  op sub *tmp64 :locateOreAway:y *tmp45                        ...
   88:  op len :locateOreAway:unitDist *tmp63 *tmp64                 ...
   89:  jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x OreLocator.mnd: if lastX == x then if lastY == y then continue; end; end;
   90:  jump *label36 equal :locateOreAway:lastY :locateOreAway:y    ...
        label *label46                                               ...
   91:  jump *label50 lessThan :locateOreAway:coreDist 8             OreLocator.mnd: if coreDist >= MIN_CORE_DIST then
   92:  jump *label52 greaterThanEq :locateOreAway:unitDist :locateO OreLocator.mnd: if unitDist < distance then
   93:  set :locateOreAway:lastX :locateOreAway:x                    OreLocator.mnd: lastX = x;
   94:  set :locateOreAway:lastY :locateOreAway:y                    OreLocator.mnd: lastY = y;
   95:  set *tmp75 .locations                                        OreLocator.mnd: for var i in locationsStart ... locations do
   96:  set :visited:i .locationsStart                               ...
   97:  jump *label59 greaterThanEq .locationsStart *tmp75           ...
        label *label206                                              ...
   98:  op mul :visited:index 4 :visited:i                           OreLocator.mnd: var index = 4 * i;
   99:  op add *tmp78 :visited:index 2                               OreLocator.mnd: var lx = bank1[index + 2];
  100:  read :visited:lx bank1 *tmp78                                ...
  101:  op add *tmp81 :visited:index 3                               OreLocator.mnd: var ly = bank1[index + 3];
  102:  read :visited:ly bank1 *tmp81                                ...
  103:  op sub *tmp85 :locateOreAway:x :visited:lx                   OreLocator.mnd: if len(x - lx, y - ly) < 7 then
  104:  op sub *tmp86 :locateOreAway:y :visited:ly                   ...
  105:  op len *tmp87 *tmp85 *tmp86                                  ...
  106:  jump *label60 greaterThanEq *tmp87 7                         ...
  107:  set *tmp74 true                                              OreLocator.mnd: return true;
  108:  jump *label56 always 0 0                                     ...
        label *label60                                               OreLocator.mnd: if len(x - lx, y - ly) < 7 then
  109:  op add :visited:i :visited:i 1                               OreLocator.mnd: for var i in locationsStart ... locations do
  110:  jump *label206 lessThan :visited:i *tmp75                    ...
        label *label59                                               ...
  111:  set *tmp74 false                                             OreLocator.mnd: return false;
        label *label56                                               OreLocator.mnd: if !visited(x, y) then
  112:  jump *label54 notEqual *tmp74 false                          ...
  113:  op div *tmp92 2 .angle                                       OreLocator.mnd: angle += 2 * SPIRAL_WIDTH / distance;
  114:  op add .angle .angle *tmp92                                  ...
  115:  op mul .mapProgress .angle .angle                            OreLocator.mnd: mapProgress = angle * angle;
  116:  printflush message1                                          OreLocator.mnd: printflush(message1);
  117:  set *tmp28 true                                              OreLocator.mnd: return true;
  118:  jump *label34 always 0 0                                     ...
        label *label54                                               OreLocator.mnd: if !visited(x, y) then
        label *label52                                               OreLocator.mnd: if unitDist < distance then
        label *label50                                               OreLocator.mnd: if coreDist >= MIN_CORE_DIST then
        label *label36                                               OreLocator.mnd: while distance < distanceLimit do
  119:  jump *label205 lessThan :locateOreAway:distance :findDrillLo ...
        label *label37                                               ...
  120:  set *tmp28 false                                             OreLocator.mnd: return false;
        label *label34                                               OreLocator.mnd: if !locateOreAway(item, in out oreX, in out oreY, in distanceLimit) then
  121:  set :findDrillLocation:oreX :locateOreAway:x                 ...
  122:  set :findDrillLocation:oreY :locateOreAway:y                 ...
  123:  jump *label32 notEqual *tmp28 false                          ...
  124:  set .searchFinished true                                     OreLocator.mnd: searchFinished = true;
  125:  op greaterThan :findDrillLocation*retval :findDrillLocation: OreLocator.mnd: return capacity > 0;
  126:  jump *label23 always 0 0                                     ...
        label *label32                                               OreLocator.mnd: if !locateOreAway(item, in out oreX, in out oreY, in distanceLimit) then
  127:  jump *label62 lessThan :findDrillLocation:limit 1000         OreLocator.mnd: if limit >= 1000 then mapSpots++; end;
  128:  op add .mapSpots .mapSpots 1                                 ...
        label *label62                                               ...
  129:  ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102  OreLocator.mnd: while !within(x, y, radius) do
  130:  jump *label68 notEqual *tmp102 false                         ...
        label *label213                                              ...
  131:  ucontrol approach :locateOreAway:x :locateOreAway:y 5.5 0 0  OreLocator.mnd: approach(x, y, radius - 0.5);
  132:  ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102  OreLocator.mnd: while !within(x, y, radius) do
  133:  jump *label213 equal *tmp102 false                           ...
        label *label68                                               ...
  134:  set :findDrillLocation:last 0                                OreLocator.mnd: var last = 0;
        label *label69                                               OreLocator.mnd: while true do
  135:  write @unit processor4 ":findBestPosition:unit"              OreLocator.mnd: var score = matrices.findBestPosition(@unit, oreX, oreY, ore, size, out diffX, out diffY);
  136:  write :findDrillLocation:oreX processor4 ":findBestPosition: ...
  137:  write :findDrillLocation:oreY processor4 ":findBestPosition: ...
  138:  write :findDrillLocation:ore processor4 ":findBestPosition:o ...
  139:  write :findDrillLocation:size processor4 ":findBestPosition: ...
  140:  write false processor4 ":findBestPosition*finished"          ...
  141:  write 2 processor4 "@counter"                                ...
        label *label72                                               ...
  142:  wait 1e-15                                                   ...
  143:  read *tmp112 processor4 ":findBestPosition*finished"         ...
  144:  jump *label72 equal *tmp112 false                            ...
  145:  read :findDrillLocation:diffX processor4 ":findBestPosition: ...
  146:  read :findDrillLocation:diffY processor4 ":findBestPosition: ...
  147:  read :findDrillLocation:score processor4 ":findBestPosition* ...
  148:  op add :findDrillLocation:newX :findDrillLocation:oreX :find OreLocator.mnd: var newX = oreX + diffX;
  149:  op add :findDrillLocation:newY :findDrillLocation:oreY :find OreLocator.mnd: var newY = oreY + diffY;
  150:  op sub *tmp119 :findDrillLocation:newX :findDrillLocation:x  OreLocator.mnd: var coreDist = max(abs(newX - coreX), abs(newY - coreY));
  151:  op abs *tmp120 *tmp119 0                                     ...
  152:  op sub *tmp121 :findDrillLocation:newY :findDrillLocation:y  ...
  153:  op abs *tmp122 *tmp121 0                                     ...
  154:  op max :findDrillLocation:coreDist *tmp120 *tmp122           ...
  155:  jump *label71 lessThanEq :findDrillLocation:coreDist 8       OreLocator.mnd: if coreDist <= MIN_CORE_DIST then break; end;
  156:  jump *label75 lessThanEq :findDrillLocation:score :findDrill OreLocator.mnd: if score > capacity then
  157:  set :findDrillLocation:dx :findDrillLocation:newX            OreLocator.mnd: dx = newX;
  158:  set :findDrillLocation:dy :findDrillLocation:newY            OreLocator.mnd: dy = newY;
  159:  set :findDrillLocation:capacity :findDrillLocation:score     OreLocator.mnd: capacity = score;
  160:  select .mapSpots lessThan :findDrillLocation:limit 1000 :fin OreLocator.mnd: if limit < 1000 then mapSpots = score; end;
  161:  jump *label79 lessThan :findDrillLocation:capacity :findDril OreLocator.mnd: if capacity >= limit then
  162:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = item.@id;
  163:  sensor *tmp134 :findDrillLocation:item @id                   ...
  164:  write *tmp134 bank1 .count                                   ...
  165:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = value;
  166:  write :findDrillLocation:score bank1 .count                  ...
  167:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = x;
  168:  write :findDrillLocation:dx bank1 .count                     ...
  169:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = y;
  170:  write :findDrillLocation:dy bank1 .count                     ...
  171:  op add .locations .locations 1                               OreLocator.mnd: inline void saveLocation(item, value, x, y)
  172:  ucontrol unbind 0 0 0 0 0                                    OreLocator.mnd: unbind();
  173:  set .searchFinished true                                     OreLocator.mnd: searchFinished = true;
  174:  set :findDrillLocation*retval true                           OreLocator.mnd: return true;
  175:  jump *label23 always 0 0                                     ...
        label *label79                                               OreLocator.mnd: if capacity >= limit then
        label *label75                                               OreLocator.mnd: if score > capacity then
  176:  jump *label82 lessThanEq :findDrillLocation:score :findDrill OreLocator.mnd: if score > best then
  177:  set :findDrillLocation:bestX :findDrillLocation:newX         OreLocator.mnd: bestX = newX;
  178:  set :findDrillLocation:bestY :findDrillLocation:newY         OreLocator.mnd: bestY = newY;
  179:  set :findDrillLocation:best :findDrillLocation:score         OreLocator.mnd: best = score;
        label *label82                                               OreLocator.mnd: if score > best then
  180:  jump *label71 lessThanEq :findDrillLocation:score :findDrill OreLocator.mnd: if score <= last then break; end;
  181:  set :findDrillLocation:last :findDrillLocation:score         OreLocator.mnd: last = score;
  182:  op mul :round:x :findDrillLocation:diffX 1.1                 OreLocator.mnd: oreX += round(diffX * 1.1);    // Rounds halves to higher absolute values
  183:  op add *tmp148 :round:x 0.5                                  *math: floor(x + 0.5);
  184:  op floor *tmp147 *tmp148 0                                   ...
  185:  op add :findDrillLocation:oreX :findDrillLocation:oreX *tmp1 OreLocator.mnd: oreX += round(diffX * 1.1);    // Rounds halves to higher absolute values
  186:  op mul :round.1:x :findDrillLocation:diffY 1.1               OreLocator.mnd: oreY += round(diffY * 1.1);
  187:  op add *tmp152 :round.1:x 0.5                                *math: floor(x + 0.5);
  188:  op floor *tmp151 *tmp152 0                                   ...
  189:  op add :findDrillLocation:oreY :findDrillLocation:oreY *tmp1 OreLocator.mnd: oreY += round(diffY * 1.1);
  190:  jump *label69 always 0 0                                     OreLocator.mnd: while true do
        label *label71                                               ...
  191:  jump *label29 lessThan :findDrillLocation:best 0             OreLocator.mnd: if best >= 0 then
  192:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = item.@id;
  193:  sensor *tmp158 :findDrillLocation:item @id                   ...
  194:  write *tmp158 bank1 .count                                   ...
  195:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = value;
  196:  write :findDrillLocation:best bank1 .count                   ...
  197:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = x;
  198:  write :findDrillLocation:bestX bank1 .count                  ...
  199:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = y;
  200:  write :findDrillLocation:bestY bank1 .count                  ...
  201:  op add .locations .locations 1                               OreLocator.mnd: inline void saveLocation(item, value, x, y)
  202:  jump *label29 always 0 0                                     OreLocator.mnd: while true do
        label *label23                                               OreLocator.mnd: export def findDrillLocation(x, y, unit, item, ore, size, limit, out dx, out dy, out capacity)
  203:  set :findDrillLocation*finished true                         ...
  204:  return :findDrillLocation*retaddr                            ...
        label *label14                                               OreLocator.mnd: noinline def excludeArea(mask, maskX, maskY, areaX, areaY, areaWidth, areaHeight)
  205:  op add *tmp189 :excludeArea:areaWidth 8                      OreLocator.mnd: var overlapX = (areaWidth + 7 + 1) \ 2 - abs(maskX - areaX);
  206:  op idiv *tmp190 *tmp189 2                                    ...
  207:  op sub *tmp191 :excludeArea:maskX :excludeArea:areaX         ...
  208:  op abs *tmp192 *tmp191 0                                     ...
  209:  op sub :excludeArea:overlapX *tmp190 *tmp192                 ...
  210:  op add *tmp195 :excludeArea:areaHeight 8                     OreLocator.mnd: var overlapY = (areaHeight + 7 + 1) \ 2 - abs(maskY - areaY);
  211:  op idiv *tmp196 *tmp195 2                                    ...
  212:  op sub *tmp197 :excludeArea:maskY :excludeArea:areaY         ...
  213:  op abs *tmp198 *tmp197 0                                     ...
  214:  op sub :excludeArea:overlapY *tmp196 *tmp198                 ...
  215:  set :excludeArea*retval :excludeArea:mask                    OreLocator.mnd: return mask;
  216:  jump *label104 lessThanEq :excludeArea:overlapX 0            OreLocator.mnd: if overlapX > 0 and overlapY > 0 then
  217:  jump *label104 lessThanEq :excludeArea:overlapY 0            ...
  218:  op min :excludeArea:blockSizeX 7 :excludeArea:overlapX       OreLocator.mnd: var blockSizeX = min(7, overlapX);
  219:  op min :excludeArea:blockSizeY 7 :excludeArea:overlapY       OreLocator.mnd: var blockSizeY = min(7, overlapY);
  220:  op shl *tmp206 1 :excludeArea:blockSizeX                     OreLocator.mnd: var row = (1 << width) - 1;
  221:  op sub :createMatrixOfSize:row *tmp206 1                     ...
  222:  set :createMatrixOfSize:matrix :createMatrixOfSize:row       OreLocator.mnd: var matrix = row;
  223:  jump *label110 greaterThanEq 1 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  224:  op shl *tmp210 :createMatrixOfSize:row 7                     OreLocator.mnd: matrix = (matrix << 7) | row;
  225:  op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize ...
  226:  jump *label110 greaterThanEq 2 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  227:  op shl *tmp210 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  228:  op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize ...
  229:  jump *label110 greaterThanEq 3 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  230:  op shl *tmp210 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  231:  op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize ...
  232:  jump *label110 greaterThanEq 4 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  233:  op shl *tmp210 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  234:  op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize ...
  235:  jump *label110 greaterThanEq 5 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  236:  op shl *tmp210 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  237:  op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize ...
  238:  jump *label110 greaterThanEq 6 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  239:  op shl *tmp210 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  240:  op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize ...
        label *label110                                              OreLocator.mnd: for var i in 1 ... 7 do
  241:  op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX    OreLocator.mnd: var shiftX = (maskX < areaX) * (7 - blockSizeX);
  242:  op sub *tmp213 7 :excludeArea:blockSizeX                     ...
  243:  op mul :excludeArea:shiftX *tmp212 *tmp213                   ...
  244:  op lessThan *tmp215 :excludeArea:maskY :excludeArea:areaY    OreLocator.mnd: var shiftY = (maskY < areaY) * (7 - blockSizeY);
  245:  op sub *tmp216 7 :excludeArea:blockSizeY                     ...
  246:  op mul :excludeArea:shiftY *tmp215 *tmp216                   ...
  247:  op abs *tmp166 :excludeArea:shiftX 0                         OreLocator.mnd: if abs(shiftX) > 6 or abs(shiftY) > 6 then return 0; end;
  248:  jump *label235 greaterThan *tmp166 6                         ...
  249:  op abs *tmp168 :excludeArea:shiftY 0                         ...
  250:  jump *label236 lessThanEq *tmp168 6                          ...
        label *label235                                              ...
  251:  set :shiftMask*retval 0                                      ...
  252:  jump *label244 always 0 0                                    ...
        label *label236                                              ...
  253:  op mul *tmp171 7 :excludeArea:shiftY                         OreLocator.mnd: var shift = shiftX + 7 * shiftY;
  254:  op add :shiftMask:shift :excludeArea:shiftX *tmp171          ...
  255:  jump *label238 lessThanEq :shiftMask:shift 0                 OreLocator.mnd: if shift > 0 then
  256:  op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift OreLocator.mnd: var clearMask = FULL_MASK >> shift;
  257:  op and *tmp176 :createMatrixOfSize:matrix :shiftMask:clearMa OreLocator.mnd: mask = (mask & clearMask) << shift;
  258:  op shl :shiftMask:mask *tmp176 :shiftMask:shift              ...
  259:  jump *label239 always 0 0                                    OreLocator.mnd: if shift > 0 then
        label *label238                                              ...
  260:  op sub *tmp178 0 :shiftMask:shift                            OreLocator.mnd: mask >>= -shift;
  261:  op shr :shiftMask:mask :createMatrixOfSize:matrix *tmp178    ...
        label *label239                                              OreLocator.mnd: if shift > 0 then
  262:  jump *label242 equal :excludeArea:shiftX 0                   OreLocator.mnd: if shiftX != 0 then
  263:  op shr :shiftMask:keep 0b1111111 *tmp166                     OreLocator.mnd: var keep = 0b1111111 >> abs(shiftX);        // The bits we need to keep
  264:  jump *label240 lessThanEq :excludeArea:shiftX 0              OreLocator.mnd: if shiftX > 0 then keep <<= shiftX; end;    // Shift to the proper side
  265:  op shl :shiftMask:keep :shiftMask:keep :excludeArea:shiftX   ...
        label *label240                                              ...
  266:  op shl *tmp185 :shiftMask:keep 7                             OreLocator.mnd: keep |= keep << 7;
  267:  op or :shiftMask:keep :shiftMask:keep *tmp185                ...
  268:  op shl *tmp186 :shiftMask:keep 14                            OreLocator.mnd: keep |= keep << 14;
  269:  op or :shiftMask:keep :shiftMask:keep *tmp186                ...
  270:  op shl *tmp187 :shiftMask:keep 21                            OreLocator.mnd: keep |= keep << 21;
  271:  op or :shiftMask:keep :shiftMask:keep *tmp187                ...
  272:  op and :shiftMask:mask :shiftMask:mask :shiftMask:keep       OreLocator.mnd: mask &= keep;
        label *label242                                              OreLocator.mnd: if shiftX != 0 then
  273:  set :shiftMask*retval :shiftMask:mask                        OreLocator.mnd: return mask;
        label *label244                                              OreLocator.mnd: def shiftMask(mask, shiftX, shiftY)
  274:  op or :excludeArea*retval :excludeArea:mask :shiftMask*retva OreLocator.mnd: return mask | shifted;
        label *label104                                              OreLocator.mnd: if overlapX > 0 and overlapY > 0 then
  275:  return :excludeArea*retaddr                                  OreLocator.mnd: noinline def excludeArea(mask, maskX, maskY, areaX, areaY, areaWidth, areaHeight)
        label *label15                                               OreLocator.mnd: noinline def findPossiblePlacement(terrainMask, placementMask, width, height, out x, out y)
  276:  set :findPossiblePlacement:y -3                              OreLocator.mnd: for y in -3 .. 3 do
  277:  jump *label117 greaterThan :findPossiblePlacement:y 3        ...
        label *label208                                              ...
  278:  op add *tmp219 :findPossiblePlacement:y 3                    OreLocator.mnd: var mask = placementMask << 7 * (y + 3);
  279:  op mul *tmp220 7 *tmp219                                     ...
  280:  op shl :findPossiblePlacement:mask :findPossiblePlacement:pl ...
  281:  set :findPossiblePlacement:x -3                              OreLocator.mnd: for x in -3 .. 3 do
  282:  jump *label120 greaterThan :findPossiblePlacement:x 3        ...
        label *label209                                              ...
  283:  op and *tmp222 :findPossiblePlacement:terrainMask :findPossi OreLocator.mnd: if (terrainMask & mask) == 0 then return 3 * 8 + y * 7 + x; end;
  284:  jump *label121 notEqual *tmp222 0                            ...
  285:  op mul *tmp225 :findPossiblePlacement:y 7                    ...
  286:  op add *tmp226 24 *tmp225                                    ...
  287:  op add :findPossiblePlacement*retval *tmp226 :findPossiblePl ...
  288:  return :findPossiblePlacement*retaddr                        ...
        label *label121                                              ...
  289:  op sub *tmp228 3 :findPossiblePlacement:width                OreLocator.mnd: if x > 3 - width then break; end;
  290:  jump *label120 greaterThan :findPossiblePlacement:x *tmp228  ...
  291:  op shl :findPossiblePlacement:mask :findPossiblePlacement:ma OreLocator.mnd: mask <<= 1;
  292:  op add :findPossiblePlacement:x :findPossiblePlacement:x 1   OreLocator.mnd: for x in -3 .. 3 do
  293:  jump *label209 lessThanEq :findPossiblePlacement:x 3         ...
        label *label120                                              ...
  294:  op sub *tmp231 3 :findPossiblePlacement:height               OreLocator.mnd: if y > 3 - height then break; end;
  295:  jump *label117 greaterThan :findPossiblePlacement:y *tmp231  ...
  296:  op add :findPossiblePlacement:y :findPossiblePlacement:y 1   OreLocator.mnd: for y in -3 .. 3 do
  297:  jump *label208 lessThanEq :findPossiblePlacement:y 3         ...
        label *label117                                              ...
  298:  set :findPossiblePlacement*retval -1                         OreLocator.mnd: return -1;
  299:  return :findPossiblePlacement*retaddr                        OreLocator.mnd: noinline def findPossiblePlacement(terrainMask, placementMask, width, height, out x, out y)
        label *label19                                               OreLocator.mnd: noinline def layoutThoriumDrillAtLocation()
  300:  set .panelY -1                                               OreLocator.mnd: water1X = water1Y = water2X = water2Y = generatorX = generatorY = panelX = panelY = -1;
  301:  set .panelX -1                                               ...
  302:  set .generatorY -1                                           ...
  303:  set .generatorX -1                                           ...
  304:  set .water2Y -1                                              ...
  305:  set .water2X -1                                              ...
  306:  set .water1Y -1                                              ...
  307:  set .water1X -1                                              ...
  308:  set :moveTo.5:x .drillX                                      OreLocator.mnd: moveTo(drillX, drillY, 1);
  309:  set :moveTo.5:y .drillY                                      ...
  310:  ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324 0          OreLocator.mnd: while !within(x, y, radius) do
  311:  jump *label169 notEqual *tmp324 false                        ...
        label *label221                                              ...
  312:  ucontrol approach :moveTo.5:x :moveTo.5:y 0.5 0 0            OreLocator.mnd: approach(x, y, radius - 0.5);
  313:  ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324 0          OreLocator.mnd: while !within(x, y, radius) do
  314:  jump *label221 equal *tmp324 false                           ...
        label *label169                                              ...
  315:  set :createCombinedMask:x .drillX                            OreLocator.mnd: var plainTerrainMask = createCombinedMask(drillX, drillY);
  316:  set :createCombinedMask:y .drillY                            ...
  317:  write @unit processor4 ":createTerrainMask:unit"             OreLocator.mnd: async(matrices.createTerrainMask(@unit, x, y));
  318:  write :createCombinedMask:x processor4 ":createTerrainMask:x ...
  319:  write :createCombinedMask:y processor4 ":createTerrainMask:y ...
  320:  write false processor4 ":createTerrainMask*finished"         ...
  321:  write 1 processor4 "@counter"                                ...
  322:  set :createAdjacentMask:result 0                             OreLocator.mnd: var result = 0;
  323:  op add *tmp305 :createCombinedMask:y 4                       OreLocator.mnd: var row2 = createBlockMaskRow(x, y + 4);
  324:  op add *tmp296 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  325:  ucontrol getBlock *tmp296 *tmp305 0 :createBlockMaskRow:resu ...
  326:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  327:  op add *tmp296 :createCombinedMask:x 3                       ...
  328:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  329:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  330:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  331:  op add *tmp296 :createCombinedMask:x 2                       ...
  332:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  333:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  334:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  335:  op add *tmp296 :createCombinedMask:x 1                       ...
  336:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  337:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  338:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  339:  ucontrol getBlock :createCombinedMask:x *tmp305 0 *tmp297 0  ...
  340:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  341:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  342:  op add *tmp296 :createCombinedMask:x -1                      ...
  343:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  344:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  345:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  346:  op add *tmp296 :createCombinedMask:x -2                      ...
  347:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  348:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  349:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  350:  op add *tmp296 :createCombinedMask:x -3                      ...
  351:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  352:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  353:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  354:  op add *tmp296 :createCombinedMask:x -4                      ...
  355:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  356:  op or :createAdjacentMask:row2 *tmp295 *tmp297               ...
  357:  op add *tmp307 :createCombinedMask:y 3                       OreLocator.mnd: var row1 = createBlockMaskRow(x, y + 3);
  358:  op add *tmp296 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  359:  ucontrol getBlock *tmp296 *tmp307 0 :createBlockMaskRow:resu ...
  360:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  361:  op add *tmp296 :createCombinedMask:x 3                       ...
  362:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  363:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  364:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  365:  op add *tmp296 :createCombinedMask:x 2                       ...
  366:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  367:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  368:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  369:  op add *tmp296 :createCombinedMask:x 1                       ...
  370:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  371:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  372:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  373:  ucontrol getBlock :createCombinedMask:x *tmp307 0 *tmp297 0  ...
  374:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  375:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  376:  op add *tmp296 :createCombinedMask:x -1                      ...
  377:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  378:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  379:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  380:  op add *tmp296 :createCombinedMask:x -2                      ...
  381:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  382:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  383:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  384:  op add *tmp296 :createCombinedMask:x -3                      ...
  385:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  386:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  387:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  388:  op add *tmp296 :createCombinedMask:x -4                      ...
  389:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  390:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  391:  set :createAdjacentMask:row1 :createBlockMaskRow:result      OreLocator.mnd: var row1 = createBlockMaskRow(x, y + 3);
  392:  set :createAdjacentMask:r 2                                  OreLocator.mnd: for var r in -4 .. 2 descending do
        label *label314                                              ...
  393:  op add *tmp309 :createCombinedMask:y :createAdjacentMask:r   OreLocator.mnd: var row0 = createBlockMaskRow(x, y + r);
  394:  op add *tmp296 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  395:  ucontrol getBlock *tmp296 *tmp309 0 :createBlockMaskRow:resu ...
  396:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  397:  op add *tmp296 :createCombinedMask:x 3                       ...
  398:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  399:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  400:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  401:  op add *tmp296 :createCombinedMask:x 2                       ...
  402:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  403:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  404:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  405:  op add *tmp296 :createCombinedMask:x 1                       ...
  406:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  407:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  408:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  409:  ucontrol getBlock :createCombinedMask:x *tmp309 0 *tmp297 0  ...
  410:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  411:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  412:  op add *tmp296 :createCombinedMask:x -1                      ...
  413:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  414:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  415:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  416:  op add *tmp296 :createCombinedMask:x -2                      ...
  417:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  418:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  419:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  420:  op add *tmp296 :createCombinedMask:x -3                      ...
  421:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  422:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  423:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  424:  op add *tmp296 :createCombinedMask:x -4                      ...
  425:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  426:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  427:  op shl *tmp311 :createAdjacentMask:row1 1                    OreLocator.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  428:  op or *tmp312 :createAdjacentMask:row2 *tmp311               ...
  429:  op shr *tmp313 :createAdjacentMask:row1 1                    ...
  430:  op or *tmp314 *tmp312 *tmp313                                ...
  431:  op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow:r ...
  432:  op shl *tmp316 :createAdjacentMask:result 7                  OreLocator.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  433:  op and *tmp317 :createAdjacentMask:mask 0xFE                 ...
  434:  op or :createAdjacentMask:result *tmp316 *tmp317             ...
  435:  set :createAdjacentMask:row2 :createAdjacentMask:row1        OreLocator.mnd: row2 = row1;
  436:  set :createAdjacentMask:row1 :createBlockMaskRow:result      OreLocator.mnd: row1 = row0;
  437:  op sub :createAdjacentMask:r :createAdjacentMask:r 1         OreLocator.mnd: for var r in -4 .. 2 descending do
  438:  jump *label314 greaterThanEq :createAdjacentMask:r -4        ...
  439:  op shr *tmp304 :createAdjacentMask:result 1                  OreLocator.mnd: result >> 1;
        label *label324                                              OreLocator.mnd: var terrainMask = await(matrices.createTerrainMask);
  440:  wait 1e-15                                                   ...
  441:  read *tmp320 processor4 ":createTerrainMask*finished"        ...
  442:  jump *label324 equal *tmp320 false                           ...
  443:  read :createCombinedMask:terrainMask processor4 ":createTerr ...
  444:  op or :excludeArea:mask *tmp304 :createCombinedMask:terrainM OreLocator.mnd: return excludeArea(adjacentMask | terrainMask, x, y, coreX, coreY, BASE_SIZE, BASE_SIZE);
  445:  set :excludeArea:maskX :createCombinedMask:x                 ...
  446:  set :excludeArea:maskY :createCombinedMask:y                 ...
  447:  set :excludeArea:areaX .coreX                                ...
  448:  set :excludeArea:areaY .coreY                                ...
  449:  set :excludeArea:areaWidth 15                                ...
  450:  set :excludeArea:areaHeight 15                               ...
  451:  setaddr :excludeArea*retaddr *label325                       ...
  452:  call *label14 *invalid :excludeArea*retval                   ...
        label *label325                                              ...
  453:  op or :layoutThoriumDrillAtLocation:terrainMask :excludeArea OreLocator.mnd: var terrainMask = plainTerrainMask | createFixedMatrix(
  454:  op or :layoutThoriumDrillAtLocation:cornersMask :layoutThori OreLocator.mnd: var cornersMask = terrainMask | createFixedMatrix(
  455:  set :layoutThoriumDrillAtLocation:mask2x2 387                OreLocator.mnd: var mask2x2 = createFixedMatrix(0b11, 0b11);
  456:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt OreLocator.mnd: var shift = findPossiblePlacement(cornersMask, mask2x2, 2, 2, out c, out r);
  457:  set :findPossiblePlacement:placementMask 387                 ...
  458:  set :findPossiblePlacement:width 2                           ...
  459:  set :findPossiblePlacement:height 2                          ...
  460:  setaddr :findPossiblePlacement*retaddr *label171             ...
  461:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label171                                              ...
  462:  jump *label172 lessThan :findPossiblePlacement*retval 0      OreLocator.mnd: if shift >= 0 then
  463:  op add *tmp333 .drillX 0.5                                   OreLocator.mnd: water1X = drillX + 0.5 + c;
  464:  op add .water1X *tmp333 :findPossiblePlacement:x             ...
  465:  op add *tmp335 .drillY 0.5                                   OreLocator.mnd: water1Y = drillY + 0.5 + r;
  466:  op add .water1Y *tmp335 :findPossiblePlacement:y             ...
  467:  op shl *tmp337 :layoutThoriumDrillAtLocation:mask2x2 :findPo OreLocator.mnd: terrainMask |= (mask2x2 << shift);
  468:  op or :layoutThoriumDrillAtLocation:terrainMask :layoutThori ...
  469:  op or :layoutThoriumDrillAtLocation:cornersMask :layoutThori OreLocator.mnd: cornersMask |= (mask2x2 << shift);
        label *label172                                              OreLocator.mnd: if shift >= 0 then
  470:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt OreLocator.mnd: shift = findPossiblePlacement(cornersMask, mask2x2, 2, 2, out c, out r);
  471:  set :findPossiblePlacement:placementMask :layoutThoriumDrill ...
  472:  set :findPossiblePlacement:width 2                           ...
  473:  set :findPossiblePlacement:height 2                          ...
  474:  setaddr :findPossiblePlacement*retaddr *label174             ...
  475:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label174                                              ...
  476:  jump *label175 lessThan :findPossiblePlacement*retval 0      OreLocator.mnd: if shift >= 0 then
  477:  op add *tmp342 .drillX 0.5                                   OreLocator.mnd: containerX = drillX + 0.5 + c;
  478:  op add .containerX *tmp342 :findPossiblePlacement:x          ...
  479:  op add *tmp344 .drillY 0.5                                   OreLocator.mnd: containerY = drillY + 0.5 + r;
  480:  op add .containerY *tmp344 :findPossiblePlacement:y          ...
  481:  op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :findPo OreLocator.mnd: terrainMask |= (mask2x2 << shift);
  482:  op or :layoutThoriumDrillAtLocation:terrainMask :layoutThori ...
        label *label175                                              OreLocator.mnd: if shift >= 0 then
  483:  op or :layoutThoriumDrillAtLocation:nodeMask :layoutThoriumD OreLocator.mnd: var nodeMask = terrainMask | createFixedMatrix(
  484:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt OreLocator.mnd: shift = findPossiblePlacement(nodeMask, 1, 1, 1, out c, out r);
  485:  set :findPossiblePlacement:placementMask 1                   ...
  486:  set :findPossiblePlacement:width 1                           ...
  487:  set :findPossiblePlacement:height 1                          ...
  488:  setaddr :findPossiblePlacement*retaddr *label177             ...
  489:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label177                                              ...
  490:  jump *label178 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  491:  set :layoutThoriumDrillAtLocation*retval false               ...
  492:  return :layoutThoriumDrillAtLocation*retaddr                 ...
        label *label178                                              ...
  493:  op add .node1X .drillX :findPossiblePlacement:x              OreLocator.mnd: node1X = drillX + c;
  494:  op add .node1Y .drillY :findPossiblePlacement:y              OreLocator.mnd: node1Y = drillY + r;
  495:  op shl *tmp353 1 :findPossiblePlacement*retval               OreLocator.mnd: terrainMask |= (1 << shift);
  496:  op or :layoutThoriumDrillAtLocation:terrainMask :layoutThori ...
  497:  set :layoutThoriumDrillAtLocation:generatorHorizontal 1935   OreLocator.mnd: var generatorHorizontal = createFixedMatrix(0b1111, 0b1111);
  498:  set :layoutThoriumDrillAtLocation:generatorVertical 6340995  OreLocator.mnd: var generatorVertical = createFixedMatrix(0b11, 0b11, 0b11, 0b11);
  499:  set :tryPlaceGenerator:centerX .drillX                       OreLocator.mnd: if tryPlaceGenerator(drillX, drillY, terrainMask, generatorHorizontal, generatorVertical) then
  500:  set :tryPlaceGenerator:centerY .drillY                       ...
  501:  set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLoca ...
  502:  set :tryPlaceGenerator:generatorHorizontal 1935              ...
  503:  set :tryPlaceGenerator:generatorVertical 6340995             ...
  504:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt OreLocator.mnd: var shift = findPossiblePlacement(terrainMask, generatorVertical, 2, 4, out c, out r);
  505:  set :findPossiblePlacement:placementMask 6340995             ...
  506:  set :findPossiblePlacement:width 2                           ...
  507:  set :findPossiblePlacement:height 4                          ...
  508:  setaddr :findPossiblePlacement*retaddr *label257             ...
  509:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label257                                              ...
  510:  jump *label260 lessThan :findPossiblePlacement*retval 0      OreLocator.mnd: if shift >= 0 then
  511:  jump *label258 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  512:  set :tryPlaceGenerator*retval false                          ...
  513:  jump *label277 always 0 0                                    ...
        label *label258                                              ...
  514:  op add *tmp239 :tryPlaceGenerator:centerX 0.5                OreLocator.mnd: water2X = centerX + 0.5 + c;
  515:  op add .water2X *tmp239 :findPossiblePlacement:x             ...
  516:  op add *tmp241 :tryPlaceGenerator:centerY 0.5                OreLocator.mnd: water2Y = centerY + 0.5 + r;
  517:  op add .water2Y *tmp241 :findPossiblePlacement:y             ...
  518:  op add .generatorX *tmp239 :findPossiblePlacement:x          OreLocator.mnd: generatorX = centerX + 0.5 + c;
  519:  op add *tmp245 :tryPlaceGenerator:centerY 2.5                OreLocator.mnd: generatorY = centerY + 2.5 + r;
  520:  op add .generatorY *tmp245 :findPossiblePlacement:y          ...
  521:  op shl *tmp247 :tryPlaceGenerator:generatorVertical :findPos OreLocator.mnd: terrainMask |= (generatorVertical << shift);
  522:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  523:  jump *label264 always 0 0                                    OreLocator.mnd: if shift >= 0 then
        label *label260                                              ...
  524:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, generatorHorizontal, 4, 2, out c, out r);
  525:  set :findPossiblePlacement:placementMask :tryPlaceGenerator: ...
  526:  set :findPossiblePlacement:width 4                           ...
  527:  set :findPossiblePlacement:height 2                          ...
  528:  setaddr :findPossiblePlacement*retaddr *label261             ...
  529:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label261                                              ...
  530:  jump *label262 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  531:  set :tryPlaceGenerator*retval false                          ...
  532:  jump *label277 always 0 0                                    ...
        label *label262                                              ...
  533:  op add *tmp251 :tryPlaceGenerator:centerX 0.5                OreLocator.mnd: water2X = centerX + 0.5 + c;
  534:  op add .water2X *tmp251 :findPossiblePlacement:x             ...
  535:  op add *tmp253 :tryPlaceGenerator:centerY 0.5                OreLocator.mnd: water2Y = centerY + 0.5 + r;
  536:  op add .water2Y *tmp253 :findPossiblePlacement:y             ...
  537:  op add *tmp255 :tryPlaceGenerator:centerX 2.5                OreLocator.mnd: generatorX = centerX + 2.5 + c;
  538:  op add .generatorX *tmp255 :findPossiblePlacement:x          ...
  539:  op add .generatorY *tmp253 :findPossiblePlacement:y          OreLocator.mnd: generatorY = centerY + 0.5 + r;
  540:  op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findP OreLocator.mnd: terrainMask |= (generatorHorizontal << shift);
  541:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
        label *label264                                              OreLocator.mnd: if shift >= 0 then
  542:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr OreLocator.mnd: terrainMask |= createFixedMatrix(
  543:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  544:  set :findPossiblePlacement:placementMask 1                   ...
  545:  set :findPossiblePlacement:width 1                           ...
  546:  set :findPossiblePlacement:height 1                          ...
  547:  setaddr :findPossiblePlacement*retaddr *label265             ...
  548:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label265                                              ...
  549:  jump *label266 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  550:  set :tryPlaceGenerator*retval false                          ...
  551:  jump *label277 always 0 0                                    ...
        label *label266                                              ...
  552:  op add .panelX :tryPlaceGenerator:centerX :findPossiblePlace OreLocator.mnd: panelX = centerX + c;
  553:  op add .panelY :tryPlaceGenerator:centerY :findPossiblePlace OreLocator.mnd: panelY = centerY + r;
  554:  op shl *tmp265 1 :findPossiblePlacement*retval               OreLocator.mnd: terrainMask |= (1 << shift);
  555:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  556:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  557:  set :findPossiblePlacement:placementMask 1                   ...
  558:  set :findPossiblePlacement:width 1                           ...
  559:  set :findPossiblePlacement:height 1                          ...
  560:  setaddr :findPossiblePlacement*retaddr *label268             ...
  561:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label268                                              ...
  562:  jump *label269 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  563:  set :tryPlaceGenerator*retval false                          ...
  564:  jump *label277 always 0 0                                    ...
        label *label269                                              ...
  565:  op add .batteryX :tryPlaceGenerator:centerX :findPossiblePla OreLocator.mnd: batteryX = centerX + c;
  566:  op add .batteryY :tryPlaceGenerator:centerY :findPossiblePla OreLocator.mnd: batteryY = centerY + r;
  567:  op shl *tmp271 1 :findPossiblePlacement*retval               OreLocator.mnd: terrainMask |= (1 << shift);
  568:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  569:  op sub *tmp272 .water2X .node1X                              OreLocator.mnd: if len(water2X - node1X, water2Y - node1Y) > 7              // 2x2 block
  570:  op sub *tmp273 .water2Y .node1Y                              ...
  571:  op len *tmp274 *tmp272 *tmp273                               ...
  572:  jump *label271 greaterThan *tmp274 7                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  573:  op sub *tmp276 .generatorX .node1X                           OreLocator.mnd: or len(generatorX - node1X, generatorY - node1Y) > 7    // 2x2 block
  574:  op sub *tmp277 .generatorY .node1Y                           ...
  575:  op len *tmp278 *tmp276 *tmp277                               ...
  576:  jump *label271 greaterThan *tmp278 7                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  577:  op sub *tmp280 .panelX .node1X                               OreLocator.mnd: or len(panelX - node1X, panelY - node1Y) > 6
  578:  op sub *tmp281 .panelY .node1Y                               ...
  579:  op len *tmp282 *tmp280 *tmp281                               ...
  580:  jump *label271 greaterThan *tmp282 6                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  581:  op sub *tmp284 .batteryX .node1X                             ...
  582:  op sub *tmp285 .batteryY .node1Y                             ...
  583:  op len *tmp286 *tmp284 *tmp285                               ...
  584:  jump *label275 lessThanEq *tmp286 6                          ...
        label *label271                                              ...
  585:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  586:  set :findPossiblePlacement:placementMask 1                   ...
  587:  set :findPossiblePlacement:width 1                           ...
  588:  set :findPossiblePlacement:height 1                          ...
  589:  setaddr :findPossiblePlacement*retaddr *label272             ...
  590:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label272                                              ...
  591:  jump *label273 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  592:  set :tryPlaceGenerator*retval false                          ...
  593:  jump *label277 always 0 0                                    ...
        label *label273                                              ...
  594:  op add .node2X :tryPlaceGenerator:centerX :findPossiblePlace OreLocator.mnd: node2X = centerX + c;
  595:  op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlace OreLocator.mnd: node2Y = centerY + r;
        label *label275                                              OreLocator.mnd: if len(water2X - node1X, water2Y - node1Y) > 7              // 2x2 block
  596:  set :tryPlaceGenerator*retval true                           OreLocator.mnd: return true;
        label *label277                                              OreLocator.mnd: def tryPlaceGenerator(centerX, centerY, terrainMask, generatorHorizontal, generatorVertical)
  597:  jump *label180 equal :tryPlaceGenerator*retval false         OreLocator.mnd: if tryPlaceGenerator(drillX, drillY, terrainMask, generatorHorizontal, generatorVertical) then
  598:  set :layoutThoriumDrillAtLocation*retval true                OreLocator.mnd: return true;
  599:  return :layoutThoriumDrillAtLocation*retaddr                 ...
        label *label180                                              OreLocator.mnd: if tryPlaceGenerator(drillX, drillY, terrainMask, generatorHorizontal, generatorVertical) then
  600:  set :layoutThoriumDrillAtLocation:sx 3                       OreLocator.mnd: for var sx in 3, 3, -3, -3; var sy in 3, -3, 3, -3 do
  601:  set :layoutThoriumDrillAtLocation:sy 3                       ...
  602:  setaddr *tmp356 *label186                                    ...
  603:  jump *label183 always 0 0                                    ...
        multilabel *label186                                         ...
  604:  set :layoutThoriumDrillAtLocation:sx 3                       ...
  605:  set :layoutThoriumDrillAtLocation:sy -3                      ...
  606:  setaddr *tmp356 *label187                                    ...
  607:  jump *label183 always 0 0                                    ...
        multilabel *label187                                         ...
  608:  set :layoutThoriumDrillAtLocation:sx -3                      ...
  609:  set :layoutThoriumDrillAtLocation:sy 3                       ...
  610:  setaddr *tmp356 *label188                                    ...
  611:  jump *label183 always 0 0                                    ...
        multilabel *label188                                         ...
  612:  set :layoutThoriumDrillAtLocation:sx -3                      ...
  613:  set :layoutThoriumDrillAtLocation:sy -3                      ...
  614:  setaddr *tmp356 *label189                                    ...
        label *label183                                              ...
  615:  op sub :layoutThoriumDrillAtLocation:newX .drillX :layoutTho OreLocator.mnd: var newX = drillX - sx;
  616:  op sub :layoutThoriumDrillAtLocation:newY .drillY :layoutTho OreLocator.mnd: var newY = drillY - sy;
  617:  set :createCombinedMask:x :layoutThoriumDrillAtLocation:newX OreLocator.mnd: var newTerrainMask = createCombinedMask(newX, newY);
  618:  set :createCombinedMask:y :layoutThoriumDrillAtLocation:newY ...
  619:  write @unit processor4 ":createTerrainMask:unit"             OreLocator.mnd: async(matrices.createTerrainMask(@unit, x, y));
  620:  write :layoutThoriumDrillAtLocation:newX processor4 ":create ...
  621:  write :layoutThoriumDrillAtLocation:newY processor4 ":create ...
  622:  write false processor4 ":createTerrainMask*finished"         ...
  623:  write 1 processor4 "@counter"                                ...
  624:  set :createAdjacentMask:result 0                             OreLocator.mnd: var result = 0;
  625:  op add *tmp305 :layoutThoriumDrillAtLocation:newY 4          OreLocator.mnd: var row2 = createBlockMaskRow(x, y + 4);
  626:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 4          OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  627:  ucontrol getBlock *tmp296 *tmp305 0 :createBlockMaskRow:resu ...
  628:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  629:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 3          ...
  630:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  631:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  632:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  633:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 2          ...
  634:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  635:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  636:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  637:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 1          ...
  638:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  639:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  640:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  641:  ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp305 ...
  642:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  643:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  644:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -1         ...
  645:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  646:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  647:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  648:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -2         ...
  649:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  650:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  651:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  652:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -3         ...
  653:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  654:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  655:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  656:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -4         ...
  657:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  658:  op or :createAdjacentMask:row2 *tmp295 *tmp297               ...
  659:  op add *tmp307 :layoutThoriumDrillAtLocation:newY 3          OreLocator.mnd: var row1 = createBlockMaskRow(x, y + 3);
  660:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 4          OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  661:  ucontrol getBlock *tmp296 *tmp307 0 :createBlockMaskRow:resu ...
  662:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  663:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 3          ...
  664:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  665:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  666:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  667:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 2          ...
  668:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  669:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  670:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  671:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 1          ...
  672:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  673:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  674:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  675:  ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp307 ...
  676:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  677:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  678:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -1         ...
  679:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  680:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  681:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  682:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -2         ...
  683:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  684:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  685:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  686:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -3         ...
  687:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  688:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  689:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  690:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -4         ...
  691:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  692:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  693:  set :createAdjacentMask:row1 :createBlockMaskRow:result      OreLocator.mnd: var row1 = createBlockMaskRow(x, y + 3);
  694:  set :createAdjacentMask:r 2                                  OreLocator.mnd: for var r in -4 .. 2 descending do
        label *label341                                              ...
  695:  op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdj OreLocator.mnd: var row0 = createBlockMaskRow(x, y + r);
  696:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 4          OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  697:  ucontrol getBlock *tmp296 *tmp309 0 :createBlockMaskRow:resu ...
  698:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  699:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 3          ...
  700:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  701:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  702:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  703:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 2          ...
  704:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  705:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  706:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  707:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 1          ...
  708:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  709:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  710:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  711:  ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp309 ...
  712:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  713:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  714:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -1         ...
  715:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  716:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  717:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  718:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -2         ...
  719:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  720:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  721:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  722:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -3         ...
  723:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  724:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  725:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  726:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -4         ...
  727:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  728:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  729:  op shl *tmp311 :createAdjacentMask:row1 1                    OreLocator.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  730:  op or *tmp312 :createAdjacentMask:row2 *tmp311               ...
  731:  op shr *tmp313 :createAdjacentMask:row1 1                    ...
  732:  op or *tmp314 *tmp312 *tmp313                                ...
  733:  op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow:r ...
  734:  op shl *tmp316 :createAdjacentMask:result 7                  OreLocator.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  735:  op and *tmp317 :createAdjacentMask:mask 0xFE                 ...
  736:  op or :createAdjacentMask:result *tmp316 *tmp317             ...
  737:  set :createAdjacentMask:row2 :createAdjacentMask:row1        OreLocator.mnd: row2 = row1;
  738:  set :createAdjacentMask:row1 :createBlockMaskRow:result      OreLocator.mnd: row1 = row0;
  739:  op sub :createAdjacentMask:r :createAdjacentMask:r 1         OreLocator.mnd: for var r in -4 .. 2 descending do
  740:  jump *label341 greaterThanEq :createAdjacentMask:r -4        ...
  741:  op shr *tmp304 :createAdjacentMask:result 1                  OreLocator.mnd: result >> 1;
        label *label351                                              OreLocator.mnd: var terrainMask = await(matrices.createTerrainMask);
  742:  wait 1e-15                                                   ...
  743:  read *tmp320 processor4 ":createTerrainMask*finished"        ...
  744:  jump *label351 equal *tmp320 false                           ...
  745:  read :createCombinedMask:terrainMask processor4 ":createTerr ...
  746:  op or :excludeArea:mask *tmp304 :createCombinedMask:terrainM OreLocator.mnd: return excludeArea(adjacentMask | terrainMask, x, y, coreX, coreY, BASE_SIZE, BASE_SIZE);
  747:  set :excludeArea:maskX :layoutThoriumDrillAtLocation:newX    ...
  748:  set :excludeArea:maskY :layoutThoriumDrillAtLocation:newY    ...
  749:  set :excludeArea:areaX .coreX                                ...
  750:  set :excludeArea:areaY .coreY                                ...
  751:  set :excludeArea:areaWidth 15                                ...
  752:  set :excludeArea:areaHeight 15                               ...
  753:  setaddr :excludeArea*retaddr *label352                       ...
  754:  call *label14 *invalid :excludeArea*retval                   ...
        label *label352                                              ...
  755:  set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMas OreLocator.mnd: var shiftedMask = shiftMask(terrainMask, sx, sy);
  756:  op abs *tmp166 :layoutThoriumDrillAtLocation:sx 0            OreLocator.mnd: if abs(shiftX) > 6 or abs(shiftY) > 6 then return 0; end;
  757:  jump *label246 greaterThan *tmp166 6                         ...
  758:  op abs *tmp168 :layoutThoriumDrillAtLocation:sy 0            ...
  759:  jump *label247 lessThanEq *tmp168 6                          ...
        label *label246                                              ...
  760:  set :shiftMask*retval 0                                      ...
  761:  jump *label255 always 0 0                                    ...
        label *label247                                              ...
  762:  op mul *tmp171 7 :layoutThoriumDrillAtLocation:sy            OreLocator.mnd: var shift = shiftX + 7 * shiftY;
  763:  op add :shiftMask:shift :layoutThoriumDrillAtLocation:sx *tm ...
  764:  jump *label249 lessThanEq :shiftMask:shift 0                 OreLocator.mnd: if shift > 0 then
  765:  op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift OreLocator.mnd: var clearMask = FULL_MASK >> shift;
  766:  op and *tmp176 :layoutThoriumDrillAtLocation:terrainMask :sh OreLocator.mnd: mask = (mask & clearMask) << shift;
  767:  op shl :shiftMask:mask *tmp176 :shiftMask:shift              ...
  768:  jump *label250 always 0 0                                    OreLocator.mnd: if shift > 0 then
        label *label249                                              ...
  769:  op sub *tmp178 0 :shiftMask:shift                            OreLocator.mnd: mask >>= -shift;
  770:  op shr :shiftMask:mask :layoutThoriumDrillAtLocation:terrain ...
        label *label250                                              OreLocator.mnd: if shift > 0 then
  771:  jump *label253 equal :layoutThoriumDrillAtLocation:sx 0      OreLocator.mnd: if shiftX != 0 then
  772:  op shr :shiftMask:keep 0b1111111 *tmp166                     OreLocator.mnd: var keep = 0b1111111 >> abs(shiftX);        // The bits we need to keep
  773:  jump *label251 lessThanEq :layoutThoriumDrillAtLocation:sx 0 OreLocator.mnd: if shiftX > 0 then keep <<= shiftX; end;    // Shift to the proper side
  774:  op shl :shiftMask:keep :shiftMask:keep :layoutThoriumDrillAt ...
        label *label251                                              ...
  775:  op shl *tmp185 :shiftMask:keep 7                             OreLocator.mnd: keep |= keep << 7;
  776:  op or :shiftMask:keep :shiftMask:keep *tmp185                ...
  777:  op shl *tmp186 :shiftMask:keep 14                            OreLocator.mnd: keep |= keep << 14;
  778:  op or :shiftMask:keep :shiftMask:keep *tmp186                ...
  779:  op shl *tmp187 :shiftMask:keep 21                            OreLocator.mnd: keep |= keep << 21;
  780:  op or :shiftMask:keep :shiftMask:keep *tmp187                ...
  781:  op and :shiftMask:mask :shiftMask:mask :shiftMask:keep       OreLocator.mnd: mask &= keep;
        label *label253                                              OreLocator.mnd: if shiftX != 0 then
  782:  set :shiftMask*retval :shiftMask:mask                        OreLocator.mnd: return mask;
        label *label255                                              OreLocator.mnd: def shiftMask(mask, shiftX, shiftY)
  783:  op or :layoutThoriumDrillAtLocation:combinedMask :excludeAre OreLocator.mnd: var combinedMask = newTerrainMask | shiftedMask;
  784:  op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx      OreLocator.mnd: if tryPlaceGenerator(drillX - sx, drillY - sy, combinedMask, generatorHorizontal, generatorVertical) then return true; end;
  785:  op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy      ...
  786:  set :tryPlaceGenerator:centerX *tmp362                       ...
  787:  set :tryPlaceGenerator:centerY *tmp363                       ...
  788:  set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLoca ...
  789:  set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDri ...
  790:  set :tryPlaceGenerator:generatorVertical :layoutThoriumDrill ...
  791:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt OreLocator.mnd: var shift = findPossiblePlacement(terrainMask, generatorVertical, 2, 4, out c, out r);
  792:  set :findPossiblePlacement:placementMask :layoutThoriumDrill ...
  793:  set :findPossiblePlacement:width 2                           ...
  794:  set :findPossiblePlacement:height 4                          ...
  795:  setaddr :findPossiblePlacement*retaddr *label279             ...
  796:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label279                                              ...
  797:  jump *label282 lessThan :findPossiblePlacement*retval 0      OreLocator.mnd: if shift >= 0 then
  798:  jump *label280 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  799:  set :tryPlaceGenerator*retval false                          ...
  800:  jump *label299 always 0 0                                    ...
        label *label280                                              ...
  801:  op add *tmp239 :tryPlaceGenerator:centerX 0.5                OreLocator.mnd: water2X = centerX + 0.5 + c;
  802:  op add .water2X *tmp239 :findPossiblePlacement:x             ...
  803:  op add *tmp241 :tryPlaceGenerator:centerY 0.5                OreLocator.mnd: water2Y = centerY + 0.5 + r;
  804:  op add .water2Y *tmp241 :findPossiblePlacement:y             ...
  805:  op add .generatorX *tmp239 :findPossiblePlacement:x          OreLocator.mnd: generatorX = centerX + 0.5 + c;
  806:  op add *tmp245 :tryPlaceGenerator:centerY 2.5                OreLocator.mnd: generatorY = centerY + 2.5 + r;
  807:  op add .generatorY *tmp245 :findPossiblePlacement:y          ...
  808:  op shl *tmp247 :tryPlaceGenerator:generatorVertical :findPos OreLocator.mnd: terrainMask |= (generatorVertical << shift);
  809:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  810:  jump *label286 always 0 0                                    OreLocator.mnd: if shift >= 0 then
        label *label282                                              ...
  811:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, generatorHorizontal, 4, 2, out c, out r);
  812:  set :findPossiblePlacement:placementMask :tryPlaceGenerator: ...
  813:  set :findPossiblePlacement:width 4                           ...
  814:  set :findPossiblePlacement:height 2                          ...
  815:  setaddr :findPossiblePlacement*retaddr *label283             ...
  816:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label283                                              ...
  817:  jump *label284 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  818:  set :tryPlaceGenerator*retval false                          ...
  819:  jump *label299 always 0 0                                    ...
        label *label284                                              ...
  820:  op add *tmp251 :tryPlaceGenerator:centerX 0.5                OreLocator.mnd: water2X = centerX + 0.5 + c;
  821:  op add .water2X *tmp251 :findPossiblePlacement:x             ...
  822:  op add *tmp253 :tryPlaceGenerator:centerY 0.5                OreLocator.mnd: water2Y = centerY + 0.5 + r;
  823:  op add .water2Y *tmp253 :findPossiblePlacement:y             ...
  824:  op add *tmp255 :tryPlaceGenerator:centerX 2.5                OreLocator.mnd: generatorX = centerX + 2.5 + c;
  825:  op add .generatorX *tmp255 :findPossiblePlacement:x          ...
  826:  op add .generatorY *tmp253 :findPossiblePlacement:y          OreLocator.mnd: generatorY = centerY + 0.5 + r;
  827:  op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findP OreLocator.mnd: terrainMask |= (generatorHorizontal << shift);
  828:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
        label *label286                                              OreLocator.mnd: if shift >= 0 then
  829:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr OreLocator.mnd: terrainMask |= createFixedMatrix(
  830:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  831:  set :findPossiblePlacement:placementMask 1                   ...
  832:  set :findPossiblePlacement:width 1                           ...
  833:  set :findPossiblePlacement:height 1                          ...
  834:  setaddr :findPossiblePlacement*retaddr *label287             ...
  835:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label287                                              ...
  836:  jump *label288 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  837:  set :tryPlaceGenerator*retval false                          ...
  838:  jump *label299 always 0 0                                    ...
        label *label288                                              ...
  839:  op add .panelX :tryPlaceGenerator:centerX :findPossiblePlace OreLocator.mnd: panelX = centerX + c;
  840:  op add .panelY :tryPlaceGenerator:centerY :findPossiblePlace OreLocator.mnd: panelY = centerY + r;
  841:  op shl *tmp265 1 :findPossiblePlacement*retval               OreLocator.mnd: terrainMask |= (1 << shift);
  842:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  843:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  844:  set :findPossiblePlacement:placementMask 1                   ...
  845:  set :findPossiblePlacement:width 1                           ...
  846:  set :findPossiblePlacement:height 1                          ...
  847:  setaddr :findPossiblePlacement*retaddr *label290             ...
  848:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label290                                              ...
  849:  jump *label291 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  850:  set :tryPlaceGenerator*retval false                          ...
  851:  jump *label299 always 0 0                                    ...
        label *label291                                              ...
  852:  op add .batteryX :tryPlaceGenerator:centerX :findPossiblePla OreLocator.mnd: batteryX = centerX + c;
  853:  op add .batteryY :tryPlaceGenerator:centerY :findPossiblePla OreLocator.mnd: batteryY = centerY + r;
  854:  op shl *tmp271 1 :findPossiblePlacement*retval               OreLocator.mnd: terrainMask |= (1 << shift);
  855:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  856:  op sub *tmp272 .water2X .node1X                              OreLocator.mnd: if len(water2X - node1X, water2Y - node1Y) > 7              // 2x2 block
  857:  op sub *tmp273 .water2Y .node1Y                              ...
  858:  op len *tmp274 *tmp272 *tmp273                               ...
  859:  jump *label293 greaterThan *tmp274 7                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  860:  op sub *tmp276 .generatorX .node1X                           OreLocator.mnd: or len(generatorX - node1X, generatorY - node1Y) > 7    // 2x2 block
  861:  op sub *tmp277 .generatorY .node1Y                           ...
  862:  op len *tmp278 *tmp276 *tmp277                               ...
  863:  jump *label293 greaterThan *tmp278 7                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  864:  op sub *tmp280 .panelX .node1X                               OreLocator.mnd: or len(panelX - node1X, panelY - node1Y) > 6
  865:  op sub *tmp281 .panelY .node1Y                               ...
  866:  op len *tmp282 *tmp280 *tmp281                               ...
  867:  jump *label293 greaterThan *tmp282 6                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  868:  op sub *tmp284 .batteryX .node1X                             ...
  869:  op sub *tmp285 .batteryY .node1Y                             ...
  870:  op len *tmp286 *tmp284 *tmp285                               ...
  871:  jump *label297 lessThanEq *tmp286 6                          ...
        label *label293                                              ...
  872:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  873:  set :findPossiblePlacement:placementMask 1                   ...
  874:  set :findPossiblePlacement:width 1                           ...
  875:  set :findPossiblePlacement:height 1                          ...
  876:  setaddr :findPossiblePlacement*retaddr *label294             ...
  877:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label294                                              ...
  878:  jump *label295 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  879:  set :tryPlaceGenerator*retval false                          ...
  880:  jump *label299 always 0 0                                    ...
        label *label295                                              ...
  881:  op add .node2X :tryPlaceGenerator:centerX :findPossiblePlace OreLocator.mnd: node2X = centerX + c;
  882:  op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlace OreLocator.mnd: node2Y = centerY + r;
        label *label297                                              OreLocator.mnd: if len(water2X - node1X, water2Y - node1Y) > 7              // 2x2 block
  883:  set :tryPlaceGenerator*retval true                           OreLocator.mnd: return true;
        label *label299                                              OreLocator.mnd: def tryPlaceGenerator(centerX, centerY, terrainMask, generatorHorizontal, generatorVertical)
  884:  jump *label192 equal :tryPlaceGenerator*retval false         OreLocator.mnd: if tryPlaceGenerator(drillX - sx, drillY - sy, combinedMask, generatorHorizontal, generatorVertical) then return true; end;
  885:  set :layoutThoriumDrillAtLocation*retval true                ...
  886:  return :layoutThoriumDrillAtLocation*retaddr                 ...
        label *label192                                              ...
  887:  multijump *tmp356 0 0                                        OreLocator.mnd: for var sx in 3, 3, -3, -3; var sy in 3, -3, 3, -3 do
        multilabel *label189                                         ...
  888:  set :layoutThoriumDrillAtLocation*retval true                OreLocator.mnd: return true;
  889:  return :layoutThoriumDrillAtLocation*retaddr                 OreLocator.mnd: noinline def layoutThoriumDrillAtLocation()
        label *label6                                                OreLocator.mnd: export def layoutThoriumDrill(x, y, unit, limit)
  890:  set :findDrillLocation:x :layoutThoriumDrill:x               OreLocator.mnd: if !findDrillLocation(x, y, unit, @thorium, @ore-thorium, 3, limit, out drillX, out drillY) then
  891:  set :findDrillLocation:y :layoutThoriumDrill:y               ...
  892:  set :findDrillLocation:unit :layoutThoriumDrill:unit         ...
  893:  set :findDrillLocation:item @thorium                         ...
  894:  set :findDrillLocation:ore @ore-thorium                      ...
  895:  set :findDrillLocation:size 3                                ...
  896:  set :findDrillLocation:limit :layoutThoriumDrill:limit       ...
  897:  setaddr :findDrillLocation*retaddr *label198                 ...
  898:  call *label5 *invalid :findDrillLocation*retval              ...
        label *label198                                              ...
  899:  set .drillX :findDrillLocation:dx                            ...
  900:  set .drillY :findDrillLocation:dy                            ...
  901:  jump *label196 notEqual :findDrillLocation*retval false      ...
  902:  set :layoutThoriumDrill*retval false                         OreLocator.mnd: return false;
  903:  jump *label195 always 0 0                                    ...
        label *label196                                              OreLocator.mnd: if !findDrillLocation(x, y, unit, @thorium, @ore-thorium, 3, limit, out drillX, out drillY) then
  904:  setaddr :layoutThoriumDrillAtLocation*retaddr *label199      OreLocator.mnd: layoutThoriumDrillAtLocation();
  905:  call *label19 *invalid :layoutThoriumDrillAtLocation*retval  ...
        label *label199                                              ...
  906:  set :layoutThoriumDrill*retval :layoutThoriumDrillAtLocation OreLocator.mnd: export def layoutThoriumDrill(x, y, unit, limit)
        label *label195                                              ...
  907:  set :layoutThoriumDrill*finished true                        ...
  908:  jump *label22 always 0 0                                     ...
        label *label8                                                OreLocator.mnd: export void stopLocation()
  909:  set .mapSpots 0                                              OreLocator.mnd: mapProgress = mapTotal = mapSpots = 0;
  910:  set .mapTotal 0                                              ...
  911:  set .mapProgress 0                                           ...
  912:  ucontrol unbind 0 0 0 0 0                                    OreLocator.mnd: unbind();
  913:  set :stopLocation*finished true                              OreLocator.mnd: export void stopLocation()
  914:  jump *label22 always 0 0                                     ...


Code size and number of instantiations by function:
  Size  Times  AvgSize  Function
   198     1x    198,0  def createBlockMaskRow(in x, in y)
   186     2x     93,0  def tryPlaceGenerator(in centerX, in centerY, in terrainMask, in generatorHorizontal, in generatorVertical)
   100     1x    100,0  noinline def layoutThoriumDrillAtLocation()
    87     1x     87,0  export def findDrillLocation(in x, in y, in unit, in item, in ore, in size, in limit, out dx, out dy, out capacity)
    54     2x     27,0  def shiftMask(in mask, in shiftX, in shiftY)
    46     1x     46,0  inline def locateOreAway(in ore, in out x, in out y, in distanceLimit)
    38     2x     19,0  def createAdjacentMask(in x, in y)
    36     2x     18,0  def createCombinedMask(in x, in y)
    24     1x     24,0  noinline def findPossiblePlacement(in terrainMask, in placementMask, in width, in height, out x, out y)
    23     1x     23,0  noinline def excludeArea(in mask, in maskX, in maskY, in areaX, in areaY, in areaWidth, in areaHeight)
    21     1x     21,0  def createMatrixOfSize(in width, in height)
    20     4x      5,0  inline void moveTo(in x, in y, in radius)
    20     2x     10,0  inline void saveLocation(in item, in value, in x, in y)
    19     1x     19,0  export def layoutThoriumDrill(in x, in y, in unit, in limit)
    17     1x     17,0  inline def visited(in x, in y)
    12     1x     12,0  <no function>
     7     1x      7,0  export void stopLocation()
     4     2x      2,0  inline def limit(in value, in low, in high)
     4     2x      2,0  inline def round(in x)
Runtime error at instruction #4: 'read *tmp11 processor4 "*signature"':
Variable is not an object: processor4 = null
Use the '#set err-not-an-object = false;' directive to ignore this error.

Performance: parsed in 548 ms, compiled in 347 ms, optimized in 2,094 ms, run in 116 ms.

Compiled mlog code was sent to Mlog Watcher.
  Mlog Watcher: no processor selected.
  (The target processor must be selected in Mindustry to receive the code.)

Program output (3 steps):
The program didn't generate any output.
