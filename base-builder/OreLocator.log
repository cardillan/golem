   990 instructions before optimizations.
   101 instructions eliminated by Temp Variables Elimination (2 passes, 7 iterations).
    77 instructions eliminated by Dead Code Elimination (6 iterations).
     2 instructions eliminated by Jump Normalization (6 iterations).
    46 instructions eliminated by Condition Optimization (7 iterations).
    57 instructions eliminated by Single Step Elimination (3 passes, 9 iterations).
    16 instructions modified by Expression Optimization (4 iterations).
     1 instructions eliminated by Boolean Optimization (7 iterations).
       1 fully-evaluated expressions optimized using selects.
     2 instructions modified by If Expression Optimization (4 iterations).
   176 instructions eliminated by Data Flow Optimization (14 passes, 49 iterations).
     1 loops improved by Loop Hoisting.
     1 instructions added by Loop Rotation (4 iterations).
       3 loop conditions were fully rotated.
       8 loop conditions were partially rotated.
   158 instructions added by Loop Unrolling (19 iterations).
     3 loops unrolled by Loop Unrolling.
   290 instructions added by Function Inlining (19 iterations).
    11 function calls inlined by Function Inlining.
    13 instructions eliminated by Jump Straightening (2 passes, 8 iterations).
    10 instructions updated by Jump Threading.
    11 instructions eliminated by Unreachable Code Elimination (2 iterations).
   955 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 377):
    Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit       25.0, efficiency     25.000
  * Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit    15625.0, efficiency  15625.000 (+1 instructions)
    Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit      625.0, efficiency    625.000
    Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit       25.0, efficiency     25.000
    Unroll loop at OreLocator.mnd:356:5                          size   +17, benefit     3900.0, efficiency    229.412
    Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit   315900.0, efficiency  10893.103
    Unroll loop at OreLocator.mnd:491:5                          size   +87, benefit     9100.0, efficiency    104.598
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size   +17, benefit     2808.0, efficiency    165.176
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +52, benefit      104.0, efficiency      2.000
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size    +9, benefit      104.0, efficiency     11.556
    Inline function call at OreLocator.mnd:489:16                size    +9, benefit      104.0, efficiency     11.556
    Inline function call at OreLocator.mnd:492:20                size    +9, benefit     2600.0, efficiency    288.889
    Inline function call at OreLocator.mnd:524:28                size   +53, benefit        4.0, efficiency      0.075
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size   +53, benefit      100.0, efficiency      1.887
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 376):
    Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit       25.0, efficiency     25.000
    Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit      625.0, efficiency    625.000
    Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit       25.0, efficiency     25.000
    Unroll loop at OreLocator.mnd:356:5                          size   +17, benefit     3900.0, efficiency    229.412
  * Unroll loop at OreLocator.mnd:477:5                          size   +29, benefit   315900.0, efficiency  10893.103 (+27 instructions)
    Unroll loop at OreLocator.mnd:491:5                          size   +87, benefit     9100.0, efficiency    104.598
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size   +17, benefit     2808.0, efficiency    165.176
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +52, benefit      104.0, efficiency      2.000
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size    +9, benefit      104.0, efficiency     11.556
    Inline function call at OreLocator.mnd:489:16                size    +9, benefit      104.0, efficiency     11.556
    Inline function call at OreLocator.mnd:492:20                size    +9, benefit     2600.0, efficiency    288.889
    Inline function call at OreLocator.mnd:524:28                size   +53, benefit        4.0, efficiency      0.075
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size   +53, benefit      100.0, efficiency      1.887
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 349):
    Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit       25.0, efficiency     25.000
  * Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit      625.0, efficiency    625.000 (+1 instructions)
    Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit       25.0, efficiency     25.000
    Unroll loop at OreLocator.mnd:356:5                          size   +17, benefit     3900.0, efficiency    229.412
    Unroll loop at OreLocator.mnd:491:5                          size   +87, benefit     9100.0, efficiency    104.598
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size   +71, benefit     2808.0, efficiency     39.549
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +52, benefit      104.0, efficiency      2.000
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:489:16                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit     2600.0, efficiency     72.222
    Inline function call at OreLocator.mnd:524:28                size   +53, benefit        4.0, efficiency      0.075
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size   +53, benefit      100.0, efficiency      1.887
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 348):
    Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit       25.0, efficiency     25.000
    Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit       25.0, efficiency     25.000
  * Unroll loop at OreLocator.mnd:356:5                          size   +17, benefit     3900.0, efficiency    229.412 (+17 instructions)
    Unroll loop at OreLocator.mnd:491:5                          size   +87, benefit     9100.0, efficiency    104.598
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size   +71, benefit     2808.0, efficiency     39.549
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +52, benefit      104.0, efficiency      2.000
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:489:16                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit     2600.0, efficiency     72.222
    Inline function call at OreLocator.mnd:524:28                size   +53, benefit        4.0, efficiency      0.075
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size   +53, benefit      100.0, efficiency      1.887
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 331):
    Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit       25.0, efficiency     25.000
    Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit       25.0, efficiency     25.000
  * Unroll loop at OreLocator.mnd:491:5                          size   +87, benefit     9100.0, efficiency    104.598 (+95 instructions)
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size   +71, benefit     2808.0, efficiency     39.549
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size   +52, benefit      104.0, efficiency      2.000
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:489:16                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit     2600.0, efficiency     72.222
    Inline function call at OreLocator.mnd:524:28                size   +53, benefit        4.0, efficiency      0.075
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size   +53, benefit      100.0, efficiency      1.887
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 236):
  * Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit       25.0, efficiency     25.000 (+1 instructions)
    Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit       25.0, efficiency     25.000
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
  ! Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size  +287, benefit      936.0, efficiency      3.261
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +147, benefit      104.0, efficiency      0.707
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:489:16                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:524:28                size  +148, benefit        4.0, efficiency      0.027
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size  +148, benefit      100.0, efficiency      0.676
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 235):
  * Partial loop rotation at OreLocator.mnd:43:5                 size    +1, benefit       25.0, efficiency     25.000 (+1 instructions)
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
  ! Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size  +287, benefit      936.0, efficiency      3.261
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +147, benefit      104.0, efficiency      0.707
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:489:16                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:524:28                size  +148, benefit        4.0, efficiency      0.027
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size  +148, benefit      100.0, efficiency      0.676
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 234):
    Unroll iteration loop at OreLocator.mnd:613:5                size   +81, benefit       19.0, efficiency      0.235
  * Inline function 'shiftMask' defined at OreLocator.mnd:279:1  size   +26, benefit      171.0, efficiency      6.577 (+16 instructions)
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
  ! Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size  +287, benefit      936.0, efficiency      3.261
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +147, benefit      104.0, efficiency      0.707
    Inline function call at OreLocator.mnd:321:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:488:16                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:489:16                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:524:28                size  +148, benefit        4.0, efficiency      0.027
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size  +148, benefit      100.0, efficiency      0.676
    Inline function call at OreLocator.mnd:621:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 218):
    Unroll iteration loop at OreLocator.mnd:613:5                size  +173, benefit       19.0, efficiency      0.110
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
  ! Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size  +287, benefit      936.0, efficiency      3.261
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +147, benefit      104.0, efficiency      0.707
  * Inline function call at OreLocator.mnd:488:16                size   +36, benefit      104.0, efficiency      2.889 (+32 instructions)
    Inline function call at OreLocator.mnd:489:16                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:524:28                size  +148, benefit        4.0, efficiency      0.027
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size  +148, benefit      100.0, efficiency      0.676
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 186):
    Unroll iteration loop at OreLocator.mnd:613:5                size  +173, benefit       19.0, efficiency      0.110
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
  ! Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size  +251, benefit      832.0, efficiency      3.315
    Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +179, benefit      104.0, efficiency      0.581
  * Inline function call at OreLocator.mnd:489:16                size   +36, benefit      104.0, efficiency      2.889 (+32 instructions)
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:524:28                size  +180, benefit        4.0, efficiency      0.022
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:619:30                size  +180, benefit      100.0, efficiency      0.556
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 154):
  ! Unroll iteration loop at OreLocator.mnd:613:5                size  +173, benefit       19.0, efficiency      0.110
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
  ! Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size  +215, benefit      728.0, efficiency      3.386
  ! Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +211, benefit      104.0, efficiency      0.493
  * Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889 (+30 instructions)
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
  ! Inline function call at OreLocator.mnd:524:28                size  +212, benefit        4.0, efficiency      0.019
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
  ! Inline function call at OreLocator.mnd:619:30                size  +212, benefit      100.0, efficiency      0.472
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 124):
  ! Unroll iteration loop at OreLocator.mnd:613:5                size  +173, benefit       19.0, efficiency      0.110
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
  ! Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size  +179, benefit      624.0, efficiency      3.486
  ! Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +241, benefit      104.0, efficiency      0.432
  * Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889 (+30 instructions)
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
  ! Inline function call at OreLocator.mnd:524:28                size  +242, benefit        4.0, efficiency      0.017
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
  ! Inline function call at OreLocator.mnd:619:30                size  +242, benefit      100.0, efficiency      0.413
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 94):
  ! Unroll iteration loop at OreLocator.mnd:613:5                size  +173, benefit       19.0, efficiency      0.110
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
  ! Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size  +143, benefit      520.0, efficiency      3.636
  ! Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +271, benefit      104.0, efficiency      0.384
  * Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889 (+31 instructions)
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
  ! Inline function call at OreLocator.mnd:524:28                size  +272, benefit        4.0, efficiency      0.015
    Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
  ! Inline function call at OreLocator.mnd:619:30                size  +272, benefit      100.0, efficiency      0.368
    Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 63):
  ! Unroll iteration loop at OreLocator.mnd:613:5                size  +173, benefit       19.0, efficiency      0.110
  ! Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
  ! Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size  +107, benefit      416.0, efficiency      3.888
  ! Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +302, benefit      104.0, efficiency      0.344
  * Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889 (+31 instructions)
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
    Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
  ! Inline function call at OreLocator.mnd:524:28                size  +303, benefit        4.0, efficiency      0.013
  ! Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
  ! Inline function call at OreLocator.mnd:619:30                size  +303, benefit      100.0, efficiency      0.330
  ! Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 32):
  ! Unroll iteration loop at OreLocator.mnd:613:5                size  +173, benefit       19.0, efficiency      0.110
  ! Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +92, benefit      143.0, efficiency      1.554
  ! Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size   +71, benefit      312.0, efficiency      4.394
  ! Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +333, benefit      104.0, efficiency      0.312
  ! Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
  ! Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
  ! Inline function call at OreLocator.mnd:492:20                size   +36, benefit      104.0, efficiency      2.889
  ! Inline function call at OreLocator.mnd:524:28                size  +334, benefit        4.0, efficiency      0.012
  ! Inline function call at OreLocator.mnd:608:8                 size   +93, benefit        5.5, efficiency      0.059
  ! Inline function call at OreLocator.mnd:619:30                size  +334, benefit      100.0, efficiency      0.299
  ! Inline function call at OreLocator.mnd:636:12                size   +93, benefit      137.5, efficiency      1.478

Pass 2: speed optimization selection (cost limit 69):
  ! Unroll iteration loop at OreLocator.mnd:613:5                size  +169, benefit       19.0, efficiency      0.112
  ! Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +91, benefit      143.0, efficiency      1.571
  * Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 size   +63, benefit      312.0, efficiency      4.952 (+47 instructions)
  ! Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +310, benefit      104.0, efficiency      0.335
    Inline function call at OreLocator.mnd:492:20                size   +32, benefit      104.0, efficiency      3.250
    Inline function call at OreLocator.mnd:492:20                size   +32, benefit      104.0, efficiency      3.250
    Inline function call at OreLocator.mnd:492:20                size   +32, benefit      104.0, efficiency      3.250
  ! Inline function call at OreLocator.mnd:524:28                size  +311, benefit        4.0, efficiency      0.013
  ! Inline function call at OreLocator.mnd:608:8                 size   +92, benefit        5.5, efficiency      0.060
  ! Inline function call at OreLocator.mnd:619:30                size  +311, benefit      100.0, efficiency      0.322
  ! Inline function call at OreLocator.mnd:636:12                size   +92, benefit      137.5, efficiency      1.495

Pass 2: speed optimization selection (cost limit 22):
  ! Unroll iteration loop at OreLocator.mnd:613:5                size  +169, benefit       19.0, efficiency      0.112
  ! Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +91, benefit      143.0, efficiency      1.571
  ! Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +392, benefit      104.0, efficiency      0.265
  ! Inline function call at OreLocator.mnd:524:28                size  +393, benefit        4.0, efficiency      0.010
  ! Inline function call at OreLocator.mnd:608:8                 size   +92, benefit        5.5, efficiency      0.060
  ! Inline function call at OreLocator.mnd:619:30                size  +393, benefit      100.0, efficiency      0.254
  ! Inline function call at OreLocator.mnd:636:12                size   +92, benefit      137.5, efficiency      1.495

Pass 3: speed optimization selection (cost limit 23):
  ! Unroll iteration loop at OreLocator.mnd:613:5                size  +169, benefit       19.0, efficiency      0.112
  ! Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +91, benefit      143.0, efficiency      1.571
  ! Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +392, benefit      104.0, efficiency      0.265
  ! Inline function call at OreLocator.mnd:524:28                size  +393, benefit        4.0, efficiency      0.010
  ! Inline function call at OreLocator.mnd:608:8                 size   +92, benefit        5.5, efficiency      0.060
  ! Inline function call at OreLocator.mnd:619:30                size  +393, benefit      100.0, efficiency      0.254
  ! Inline function call at OreLocator.mnd:636:12                size   +92, benefit      137.5, efficiency      1.495

Pass 4: speed optimization selection (cost limit 23):
  ! Unroll iteration loop at OreLocator.mnd:613:5                size  +169, benefit       19.0, efficiency      0.112
  ! Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:387:1 size   +91, benefit      143.0, efficiency      1.571
  ! Inline function 'createCombinedMask' defined at OreLocator.mnd:510:1 size  +392, benefit      104.0, efficiency      0.265
  ! Inline function call at OreLocator.mnd:524:28                size  +393, benefit        4.0, efficiency      0.010
  ! Inline function call at OreLocator.mnd:608:8                 size   +92, benefit        5.5, efficiency      0.060
  ! Inline function call at OreLocator.mnd:619:30                size  +393, benefit      100.0, efficiency      0.254
  ! Inline function call at OreLocator.mnd:636:12                size   +92, benefit      137.5, efficiency      1.495

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-68 instructions):
 
   135 jump *label44 equal *tmp56 false
   136 set *tmp28 false
   137 jump *label34 always
-    * set *tmp57 null
   138 jump *label45 always
   139 label *label44
-    * set *tmp57 null
   140 label *label45
   141 op sub *tmp58 :locateOreAway:x .coreX
   142 op abs *tmp59 *tmp58
 
   158 label *label48
   159 set *tmp69 null
   160 label *label49
-    * set *tmp67 *tmp69
   161 jump *label47 always
   162 label *label46
-    * set *tmp67 null
   163 label *label47
   164 op greaterThanEq *tmp70 :locateOreAway:coreDist 8
   165 jump *label50 equal *tmp70 false
 
   190 jump *label60 equal *tmp86 false
   191 set *tmp74 true
   192 jump *label56 always
-    * set *tmp87 null
   193 jump *label61 always
   194 label *label60
-    * set *tmp87 null
   195 label *label61
   196 label *label58
   197 op add :visited:i :visited:i 1
 
   220 label *label52
   221 set *tmp73 null
   222 label *label53
-    * set *tmp71 *tmp73
   223 jump *label51 always
   224 label *label50
-    * set *tmp71 null
   225 label *label51
   226 label *label36
   227 jump *label35 always
 
   238 op greaterThan *tmp94 :findDrillLocation:capacity 0
   239 set :findDrillLocation*retval *tmp94
   240 jump *label23 always
-    * set *tmp93 null
   241 jump *label33 always
   242 label *label32
-    * set *tmp93 null
   243 label *label33
   244 op greaterThanEq *tmp95 :findDrillLocation:limit 1000
   245 jump *label62 equal *tmp95 false
   246 set *tmp97 .mapSpots
   247 op add .mapSpots .mapSpots 1
-    * set *tmp96 *tmp97
   248 jump *label63 always
   249 label *label62
-    * set *tmp96 null
   250 label *label63
   251 set :moveTo.3:x :findDrillLocation:oreX
   252 set :moveTo.3:y :findDrillLocation:oreY
 
   299 op lessThanEq *tmp119 :findDrillLocation:coreDist 8
   300 jump *label73 equal *tmp119 false
   301 jump *label71 always
-    * set *tmp120 null
   302 jump *label74 always
   303 label *label73
-    * set *tmp120 null
   304 label *label74
   305 op greaterThan *tmp121 :findDrillLocation:score :findDrillLocation:capacity
   306 jump *label75 equal *tmp121 false
 
   310 op lessThan *tmp123 :findDrillLocation:limit 1000
   311 jump *label77 equal *tmp123 false
   312 set .mapSpots :findDrillLocation:score
-    * set *tmp124 :findDrillLocation:score
   313 jump *label78 always
   314 label *label77
-    * set *tmp124 null
   315 label *label78
   316 op greaterThanEq *tmp125 :findDrillLocation:capacity :findDrillLocation:limit
   317 jump *label79 equal *tmp125 false
 
   332 op add .count .count 1
   333 set *tmp134 .count
   334 write :saveLocation:y bank1 *tmp134
-    * set *tmp136 .locations
   335 op add .locations .locations 1
   336 label *label81
   337 ucontrol unbind
 
   343 label *label79
   344 set *tmp126 null
   345 label *label80
-    * set *tmp122 *tmp126
   346 jump *label76 always
   347 label *label75
-    * set *tmp122 null
   348 label *label76
   349 op greaterThan *tmp137 :findDrillLocation:score :findDrillLocation:best
   350 jump *label82 equal *tmp137 false
   351 set :findDrillLocation:bestX :findDrillLocation:newX
   352 set :findDrillLocation:bestY :findDrillLocation:newY
   353 set :findDrillLocation:best :findDrillLocation:score
-    * set *tmp138 :findDrillLocation:best
   354 jump *label83 always
   355 label *label82
-    * set *tmp138 null
   356 label *label83
   357 op lessThanEq *tmp139 :findDrillLocation:score :findDrillLocation:last
   358 jump *label84 equal *tmp139 false
   359 jump *label71 always
-    * set *tmp140 null
   360 jump *label85 always
   361 label *label84
-    * set *tmp140 null
   362 label *label85
   363 set :findDrillLocation:last :findDrillLocation:score
   364 op mul *tmp141 :findDrillLocation:diffX 1.1
 
   397 op add .count .count 1
   398 set *tmp158 .count
   399 write :saveLocation.1:y bank1 *tmp158
-    * set *tmp160 .locations
   400 op add .locations .locations 1
   401 label *label90
-    * set *tmp150 null
   402 jump *label89 always
   403 label *label88
-    * set *tmp150 null
   404 label *label89
   405 label *label30
   406 jump *label29 always
 
   423 label *label94
   424 set :shiftMask*retval 0
   425 jump *label91 always
-    * set *tmp165 null
   426 jump *label93 always
   427 label *label92
-    * set *tmp165 null
   428 label *label93
   429 op mul *tmp166 7 :shiftMask:shiftY
   430 op add *tmp167 :shiftMask:shiftX *tmp166
 
   436 op and *tmp171 :shiftMask:mask :shiftMask:clearMask
   437 op shl *tmp172 *tmp171 :shiftMask:shift
   438 set :shiftMask:mask *tmp172
-    * set *tmp169 :shiftMask:mask
   439 jump *label97 always
   440 label *label96
   441 op sub *tmp173 0 :shiftMask:shift
   442 op shr :shiftMask:mask :shiftMask:mask *tmp173
-    * set *tmp169 :shiftMask:mask
   443 label *label97
   444 op notEqual *tmp174 :shiftMask:shiftX 0
   445 jump *label98 equal *tmp174 false
 
   449 op greaterThan *tmp178 :shiftMask:shiftX 0
   450 jump *label100 equal *tmp178 false
   451 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
-    * set *tmp179 :shiftMask:keep
   452 jump *label101 always
   453 label *label100
-    * set *tmp179 null
   454 label *label101
   455 op shl *tmp180 :shiftMask:keep 7
   456 op or :shiftMask:keep :shiftMask:keep *tmp180
 
   459 op shl *tmp182 :shiftMask:keep 21
   460 op or :shiftMask:keep :shiftMask:keep *tmp182
   461 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
-    * set *tmp175 :shiftMask:mask
   462 jump *label99 always
   463 label *label98
-    * set *tmp175 null
   464 label *label99
   465 set :shiftMask*retval :shiftMask:mask
   466 jump *label91 always
 
   506 op greaterThanEq *tmp203 :createMatrixOfSize:i :createMatrixOfSize:height
   507 jump *label111 equal *tmp203 false
   508 jump *label110 always
-    * set *tmp204 null
   509 jump *label112 always
   510 label *label111
-    * set *tmp204 null
   511 label *label112
   512 op shl *tmp205 :createMatrixOfSize:matrix 7
   513 op or *tmp206 *tmp205 :createMatrixOfSize:row
 
   569 op add *tmp222 *tmp221 :findPossiblePlacement:x
   570 set :findPossiblePlacement*retval *tmp222
   571 jump *label114 always
-    * set *tmp219 null
   572 jump *label122 always
   573 label *label121
-    * set *tmp219 null
   574 label *label122
   575 op sub *tmp223 3 :findPossiblePlacement:width
   576 op greaterThan *tmp224 :findPossiblePlacement:x *tmp223
   577 jump *label123 equal *tmp224 false
   578 jump *label120 always
-    * set *tmp225 null
   579 jump *label124 always
   580 label *label123
-    * set *tmp225 null
   581 label *label124
   582 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
   583 label *label119
 
   588 op greaterThan *tmp227 :findPossiblePlacement:y *tmp226
   589 jump *label125 equal *tmp227 false
   590 jump *label117 always
-    * set *tmp228 null
   591 jump *label126 always
   592 label *label125
-    * set *tmp228 null
   593 label *label126
   594 label *label116
   595 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
 
   619 jump *label131 equal *tmp232 false
   620 set :tryPlaceGenerator*retval false
   621 jump *label127 always
-    * set *tmp233 null
   622 jump *label132 always
   623 label *label131
-    * set *tmp233 null
   624 label *label132
   625 op add *tmp234 :tryPlaceGenerator:centerX 0.5
   626 op add *tmp235 *tmp234 :tryPlaceGenerator:c
 
   636 set .generatorY *tmp241
   637 op shl *tmp242 :tryPlaceGenerator:generatorVertical :tryPlaceGenerator:shift
   638 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp242
-    * set *tmp231 :tryPlaceGenerator:terrainMask
   639 jump *label130 always
   640 label *label129
   641 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
 
   653 jump *label134 equal *tmp244 false
   654 set :tryPlaceGenerator*retval false
   655 jump *label127 always
-    * set *tmp245 null
   656 jump *label135 always
   657 label *label134
-    * set *tmp245 null
   658 label *label135
   659 op add *tmp246 :tryPlaceGenerator:centerX 0.5
   660 op add *tmp247 *tmp246 :tryPlaceGenerator:c
 
   670 set .generatorY *tmp253
   671 op shl *tmp254 :tryPlaceGenerator:generatorHorizontal :tryPlaceGenerator:shift
   672 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp254
-    * set *tmp231 :tryPlaceGenerator:terrainMask
   673 label *label130
   674 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask 437639987601635
   675 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
 
   687 jump *label137 equal *tmp256 false
   688 set :tryPlaceGenerator*retval false
   689 jump *label127 always
-    * set *tmp257 null
   690 jump *label138 always
   691 label *label137
-    * set *tmp257 null
   692 label *label138
   693 op add *tmp258 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
   694 set .panelX *tmp258
 
   711 jump *label140 equal *tmp262 false
   712 set :tryPlaceGenerator*retval false
   713 jump *label127 always
-    * set *tmp263 null
   714 jump *label141 always
   715 label *label140
-    * set *tmp263 null
   716 label *label141
   717 op add *tmp264 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
   718 set .batteryX *tmp264
 
   762 jump *label149 equal *tmp285 false
   763 set :tryPlaceGenerator*retval false
   764 jump *label127 always
-    * set *tmp286 null
   765 jump *label150 always
   766 label *label149
-    * set *tmp286 null
   767 label *label150
   768 op add *tmp287 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
   769 set .node2X *tmp287
 
   771 set .node2Y *tmp288
   772 op shl *tmp289 1 :tryPlaceGenerator:shift
   773 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp289
-    * set *tmp283 :tryPlaceGenerator:terrainMask
   774 jump *label143 always
   775 label *label142
-    * set *tmp283 null
   776 label *label143
   777 set :tryPlaceGenerator*retval true
   778 jump *label127 always
 
   936 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp331
   937 op shl *tmp332 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   938 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp332
-    * set *tmp326 :layoutThoriumDrillAtLocation:cornersMask
   939 jump *label173 always
   940 label *label172
-    * set *tmp326 null
   941 label *label173
   942 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
   943 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
 
   960 set .containerY *tmp339
   961 op shl *tmp340 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   962 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp340
-    * set *tmp335 :layoutThoriumDrillAtLocation:terrainMask
   963 jump *label176 always
   964 label *label175
-    * set *tmp335 null
   965 label *label176
   966 op or *tmp341 :layoutThoriumDrillAtLocation:terrainMask 437639987601635
   967 set :layoutThoriumDrillAtLocation:nodeMask *tmp341
 
   980 jump *label178 equal *tmp343 false
   981 set :layoutThoriumDrillAtLocation*retval false
   982 jump *label165 always
-    * set *tmp344 null
   983 jump *label179 always
   984 label *label178
-    * set *tmp344 null
   985 label *label179
   986 op add *tmp345 .drillX :layoutThoriumDrillAtLocation:c
   987 set .node1X *tmp345
 
  1003 jump *label180 equal *tmp348 false
  1004 set :layoutThoriumDrillAtLocation*retval true
  1005 jump *label165 always
-    * set *tmp349 null
  1006 jump *label181 always
  1007 label *label180
-    * set *tmp349 null
  1008 label *label181
  1009 set :layoutThoriumDrillAtLocation:sx 3
  1010 set :layoutThoriumDrillAtLocation:sy 3
 
  1060 jump *label192 equal *tmp358 false
  1061 set :layoutThoriumDrillAtLocation*retval true
  1062 jump *label165 always
-    * set *tmp359 null
  1063 jump *label193 always
  1064 label *label192
-    * set *tmp359 null
  1065 label *label193
  1066 label *label184
  1067 multijump *tmp350 0 0 (m:marker0)
 
  1090 jump *label196 equal *tmp360 false
  1091 set :layoutThoriumDrill*retval false
  1092 jump *label195 always
-    * set *tmp361 null
  1093 jump *label197 always
  1094 label *label196
-    * set *tmp361 null
  1095 label *label197
  1096 setaddr :layoutThoriumDrillAtLocation*retaddr *label199 (h:*label199)
  1097 call *label19 *invalid :layoutThoriumDrillAtLocation*retval (m:*label199) (h:*label199)

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-7 instructions):
 
   153 op equal *tmp68 :locateOreAway:lastY :locateOreAway:y
   154 jump *label48 equal *tmp68 false
   155 jump *label36 always
-    * set *tmp69 null
   156 jump *label49 always
   157 label *label48
-    * set *tmp69 null
   158 label *label49
   159 jump *label47 always
   160 label *label46
 
   213 label *label54
   214 set *tmp89 null
   215 label *label55
-    * set *tmp73 *tmp89
   216 jump *label53 always
   217 label *label52
-    * set *tmp73 null
   218 label *label53
   219 jump *label51 always
   220 label *label50
 
   239 label *label33
   240 op greaterThanEq *tmp95 :findDrillLocation:limit 1000
   241 jump *label62 equal *tmp95 false
-    * set *tmp97 .mapSpots
   242 op add .mapSpots .mapSpots 1
   243 jump *label63 always
   244 label *label62
 
   333 set .searchFinished true
   334 set :findDrillLocation*retval true
   335 jump *label23 always
-    * set *tmp126 null
   336 jump *label80 always
   337 label *label79
-    * set *tmp126 null
   338 label *label80
   339 jump *label76 always
   340 label *label75

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-2 instructions):
 
   208 printflush message1
   209 set *tmp28 true
   210 jump *label34 always
-    * set *tmp89 null
   211 jump *label55 always
   212 label *label54
-    * set *tmp89 null
   213 label *label55
   214 jump *label53 always
   215 label *label52

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-101 instructions):
 
    18 label *label5
    19 set .searchFinished false
    20 ubind :findDrillLocation:unit
-    * set *tmp12 .locations
-    * set .locationsStart *tmp12
+   21 set .locationsStart .locations
    22 set .coreX :findDrillLocation:x
    23 set .coreY :findDrillLocation:y
    24 set :findDrillLocation:capacity 0
 
    52 label *label25
    53 label *label24
    54 op div *tmp21 :findDrillLocation:distanceLimit 3.8197185279121366
-    * op pow *tmp22 *tmp21 2
-    * set .mapTotal *tmp22
+   55 op pow .mapTotal *tmp21 2
    56 set :findDrillLocation:oreX 0
    57 set :findDrillLocation:oreY 0
    58 label *label29
 
    61 set :findDrillLocation:bestX :findDrillLocation:x
    62 set :findDrillLocation:bestY :findDrillLocation:y
    63 op sub *tmp23 :findDrillLocation:limit :findDrillLocation:capacity
-    * op mul *tmp24 *tmp23 .attenuationRate
-    * set :findDrillLocation:maxDistance *tmp24
-    * op min *tmp25 :findDrillLocation:distanceLimit :findDrillLocation:maxDistance
-    * set :findDrillLocation:distanceLimit *tmp25
+   64 op mul :findDrillLocation:maxDistance *tmp23 .attenuationRate
+   65 op min :findDrillLocation:distanceLimit :findDrillLocation:distanceLimit :findDrillLocation:maxDistance
    66 op div *tmp26 :findDrillLocation:distanceLimit 3.8197185279121366
-    * op pow *tmp27 *tmp26 2
-    * set .mapTotal *tmp27
+   67 op pow .mapTotal *tmp26 2
    68 set :locateOreAway:ore :findDrillLocation:item
    69 set :locateOreAway:x :findDrillLocation:oreX
    70 set :locateOreAway:y :findDrillLocation:oreY
    71 set :locateOreAway:distanceLimit :findDrillLocation:distanceLimit
-    * op mul *tmp29 3.8197185279121366 .angle
-    * set :locateOreAway:distance *tmp29
+   72 op mul :locateOreAway:distance 3.8197185279121366 .angle
    73 set :locateOreAway:lastX -1
    74 set :locateOreAway:lastY -1
-    * op max *tmp30 .angle @pi
-    * set .angle *tmp30
-    * op mul *tmp31 .angle .angle
-    * set .mapProgress *tmp31
+   75 op max .angle .angle @pi
+   76 op mul .mapProgress .angle .angle
    77 label *label35
    78 op lessThan *tmp32 :locateOreAway:distance :locateOreAway:distanceLimit
    79 jump *label37 equal *tmp32 false
-    * op div *tmp33 .angle @degToRad
-    * set :locateOreAway:a *tmp33
+   80 op div :locateOreAway:a .angle @degToRad
    81 op sin *tmp34 :locateOreAway:a
    82 op mul *tmp35 *tmp34 :locateOreAway:distance
    83 op add *tmp36 .coreX *tmp35
 
    86 set :limit:low 5
    87 set :limit:high *tmp37
    88 op max *tmp39 :limit:value :limit:low
-    * op min *tmp40 *tmp39 :limit:high
-    * set *tmp38 *tmp40
+   89 op min *tmp38 *tmp39 :limit:high
    90 label *label38
    91 set :locateOreAway:lx *tmp38
    92 op cos *tmp41 :locateOreAway:a
 
    97 set :limit.1:low 5
    98 set :limit.1:high *tmp44
    99 op max *tmp46 :limit.1:value :limit.1:low
-    * op min *tmp47 *tmp46 :limit.1:high
-    * set *tmp45 *tmp47
+  100 op min *tmp45 *tmp46 :limit.1:high
   101 label *label39
   102 set :locateOreAway:ly *tmp45
   103 set :moveTo.2:x :locateOreAway:lx
 
   115 label *label40
   116 op div *tmp51 3.8197185279121366 :locateOreAway:distance
   117 op add .angle .angle *tmp51
-    * op mul *tmp52 .angle .angle
-    * set .mapProgress *tmp52
-    * op mul *tmp53 3.8197185279121366 .angle
-    * set :locateOreAway:distance *tmp53
+  118 op mul .mapProgress .angle .angle
+  119 op mul :locateOreAway:distance 3.8197185279121366 .angle
   120 ulocate ore core true :locateOreAway:ore :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
   121 op equal *tmp56 *tmp54 false
   122 jump *label44 equal *tmp56 false
 
   129 op abs *tmp59 *tmp58
   130 op sub *tmp60 :locateOreAway:y .coreY
   131 op abs *tmp61 *tmp60
-    * op max *tmp62 *tmp59 *tmp61
-    * set :locateOreAway:coreDist *tmp62
+  132 op max :locateOreAway:coreDist *tmp59 *tmp61
   133 op sub *tmp63 :locateOreAway:x :locateOreAway:lx
   134 op sub *tmp64 :locateOreAway:y :locateOreAway:ly
-    * op len *tmp65 *tmp63 *tmp64
-    * set :locateOreAway:unitDist *tmp65
+  135 op len :locateOreAway:unitDist *tmp63 *tmp64
   136 op equal *tmp66 :locateOreAway:lastX :locateOreAway:x
   137 jump *label46 equal *tmp66 false
   138 op equal *tmp68 :locateOreAway:lastY :locateOreAway:y
 
   156 set :visited:i .locationsStart
   157 label *label57
   158 jump *label59 greaterThanEq :visited:i *tmp75
-    * op mul *tmp76 4 :visited:i
-    * set :visited:index *tmp76
-    * op add *tmp77 :visited:index 2
-    * set *tmp78 *tmp77
-    * read *tmp79 bank1 *tmp78
-    * set :visited:lx *tmp79
-    * op add *tmp80 :visited:index 3
-    * set *tmp81 *tmp80
-    * read *tmp82 bank1 *tmp81
-    * set :visited:ly *tmp82
+  159 op mul :visited:index 4 :visited:i
+  160 op add *tmp78 :visited:index 2
+  161 read :visited:lx bank1 *tmp78
+  162 op add *tmp81 :visited:index 3
+  163 read :visited:ly bank1 *tmp81
   164 op sub *tmp83 :visited:x :visited:lx
   165 op sub *tmp84 :visited:y :visited:ly
   166 op len *tmp85 *tmp83 *tmp84
 
   183 jump *label54 equal *tmp88 false
   184 op div *tmp90 7.639437055824273 :locateOreAway:distance
   185 op add .angle .angle *tmp90
-    * op mul *tmp91 .angle .angle
-    * set .mapProgress *tmp91
+  186 op mul .mapProgress .angle .angle
   187 printflush message1
   188 set *tmp28 true
   189 jump *label34 always
 
   208 op equal *tmp92 *tmp28 false
   209 jump *label32 equal *tmp92 false
   210 set .searchFinished true
-    * op greaterThan *tmp94 :findDrillLocation:capacity 0
-    * set :findDrillLocation*retval *tmp94
+  211 op greaterThan :findDrillLocation*retval :findDrillLocation:capacity 0
   212 jump *label23 always
   213 jump *label33 always
   214 label *label32
 
   251 wait 1e-15
   252 read *tmp110 processor4 ":findBestPosition*finished"
   253 jump *label72 equal *tmp110 false
-    * read *tmp108 processor4 ":findBestPosition:bestX"
-    * set :findDrillLocation:diffX *tmp108
-    * read *tmp109 processor4 ":findBestPosition:bestY"
-    * set :findDrillLocation:diffY *tmp109
-    * read *tmp111 processor4 ":findBestPosition*retval"
-    * set :findDrillLocation:score *tmp111
-    * op add *tmp112 :findDrillLocation:oreX :findDrillLocation:diffX
-    * set :findDrillLocation:newX *tmp112
-    * op add *tmp113 :findDrillLocation:oreY :findDrillLocation:diffY
-    * set :findDrillLocation:newY *tmp113
+  254 read :findDrillLocation:diffX processor4 ":findBestPosition:bestX"
+  255 read :findDrillLocation:diffY processor4 ":findBestPosition:bestY"
+  256 read :findDrillLocation:score processor4 ":findBestPosition*retval"
+  257 op add :findDrillLocation:newX :findDrillLocation:oreX :findDrillLocation:diffX
+  258 op add :findDrillLocation:newY :findDrillLocation:oreY :findDrillLocation:diffY
   259 op sub *tmp114 :findDrillLocation:newX .coreX
   260 op abs *tmp115 *tmp114
   261 op sub *tmp116 :findDrillLocation:newY .coreY
   262 op abs *tmp117 *tmp116
-    * op max *tmp118 *tmp115 *tmp117
-    * set :findDrillLocation:coreDist *tmp118
+  263 op max :findDrillLocation:coreDist *tmp115 *tmp117
   264 op lessThanEq *tmp119 :findDrillLocation:coreDist 8
   265 jump *label73 equal *tmp119 false
   266 jump *label71 always
 
   289 sensor *tmp129 :saveLocation:item @id
   290 write *tmp129 bank1 *tmp127
   291 op add .count .count 1
-    * set *tmp130 .count
-    * write :saveLocation:value bank1 *tmp130
+  292 write :saveLocation:value bank1 .count
   293 op add .count .count 1
-    * set *tmp132 .count
-    * write :saveLocation:x bank1 *tmp132
+  294 write :saveLocation:x bank1 .count
   295 op add .count .count 1
-    * set *tmp134 .count
-    * write :saveLocation:y bank1 *tmp134
+  296 write :saveLocation:y bank1 .count
   297 op add .locations .locations 1
   298 label *label81
   299 ucontrol unbind
 
   321 label *label84
   322 label *label85
   323 set :findDrillLocation:last :findDrillLocation:score
-    * op mul *tmp141 :findDrillLocation:diffX 1.1
-    * set :round:x *tmp141
+  324 op mul :round:x :findDrillLocation:diffX 1.1
   325 op add *tmp143 :round:x 0.5
-    * op floor *tmp144 *tmp143
-    * set *tmp142 *tmp144
+  326 op floor *tmp142 *tmp143
   327 label *label86
   328 op add :findDrillLocation:oreX :findDrillLocation:oreX *tmp142
-    * op mul *tmp145 :findDrillLocation:diffY 1.1
-    * set :round.1:x *tmp145
+  329 op mul :round.1:x :findDrillLocation:diffY 1.1
   330 op add *tmp147 :round.1:x 0.5
-    * op floor *tmp148 *tmp147
-    * set *tmp146 *tmp148
+  331 op floor *tmp146 *tmp147
   332 label *label87
   333 op add :findDrillLocation:oreY :findDrillLocation:oreY *tmp146
   334 label *label70
 
   345 sensor *tmp153 :saveLocation.1:item @id
   346 write *tmp153 bank1 *tmp151
   347 op add .count .count 1
-    * set *tmp154 .count
-    * write :saveLocation.1:value bank1 *tmp154
+  348 write :saveLocation.1:value bank1 .count
   349 op add .count .count 1
-    * set *tmp156 .count
-    * write :saveLocation.1:x bank1 *tmp156
+  350 write :saveLocation.1:x bank1 .count
   351 op add .count .count 1
-    * set *tmp158 .count
-    * write :saveLocation.1:y bank1 *tmp158
+  352 write :saveLocation.1:y bank1 .count
   353 op add .locations .locations 1
   354 label *label90
   355 jump *label89 always
 
   380 label *label92
   381 label *label93
   382 op mul *tmp166 7 :shiftMask:shiftY
-    * op add *tmp167 :shiftMask:shiftX *tmp166
-    * set :shiftMask:shift *tmp167
+  383 op add :shiftMask:shift :shiftMask:shiftX *tmp166
   384 op greaterThan *tmp168 :shiftMask:shift 0
   385 jump *label96 equal *tmp168 false
-    * op shr *tmp170 562949953421311 :shiftMask:shift
-    * set :shiftMask:clearMask *tmp170
+  386 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
   387 op and *tmp171 :shiftMask:mask :shiftMask:clearMask
-    * op shl *tmp172 *tmp171 :shiftMask:shift
-    * set :shiftMask:mask *tmp172
+  388 op shl :shiftMask:mask *tmp171 :shiftMask:shift
   389 jump *label97 always
   390 label *label96
   391 op sub *tmp173 0 :shiftMask:shift
 
   394 op notEqual *tmp174 :shiftMask:shiftX 0
   395 jump *label98 equal *tmp174 false
   396 op abs *tmp176 :shiftMask:shiftX
-    * op shr *tmp177 0b1111111 *tmp176
-    * set :shiftMask:keep *tmp177
+  397 op shr :shiftMask:keep 0b1111111 *tmp176
   398 op greaterThan *tmp178 :shiftMask:shiftX 0
   399 jump *label100 equal *tmp178 false
   400 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
 
   423 op idiv *tmp185 *tmp184 2
   424 op sub *tmp186 :excludeArea:maskX :excludeArea:areaX
   425 op abs *tmp187 *tmp186
-    * op sub *tmp188 *tmp185 *tmp187
-    * set :excludeArea:overlapX *tmp188
+  426 op sub :excludeArea:overlapX *tmp185 *tmp187
   427 op add *tmp189 :excludeArea:areaHeight 7
   428 op add *tmp190 *tmp189 1
   429 op idiv *tmp191 *tmp190 2
   430 op sub *tmp192 :excludeArea:maskY :excludeArea:areaY
   431 op abs *tmp193 *tmp192
-    * op sub *tmp194 *tmp191 *tmp193
-    * set :excludeArea:overlapY *tmp194
+  432 op sub :excludeArea:overlapY *tmp191 *tmp193
   433 op greaterThan *tmp195 :excludeArea:overlapX 0
   434 jump *label103 equal *tmp195 false
   435 label *label106
 
   437 jump *label103 equal *tmp196 false
   438 jump *label105 always
   439 label *label105
-    * op min *tmp198 7 :excludeArea:overlapX
-    * set :excludeArea:blockSizeX *tmp198
-    * op min *tmp199 7 :excludeArea:overlapY
-    * set :excludeArea:blockSizeY *tmp199
+  440 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
+  441 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
   442 set :createMatrixOfSize:width :excludeArea:blockSizeX
   443 set :createMatrixOfSize:height :excludeArea:blockSizeY
   444 op shl *tmp201 1 :createMatrixOfSize:width
-    * op sub *tmp202 *tmp201 1
-    * set :createMatrixOfSize:row *tmp202
+  445 op sub :createMatrixOfSize:row *tmp201 1
   446 set :createMatrixOfSize:matrix :createMatrixOfSize:row
   447 set :createMatrixOfSize:i 1
   448 label *label108
 
   454 label *label111
   455 label *label112
   456 op shl *tmp205 :createMatrixOfSize:matrix 7
-    * op or *tmp206 *tmp205 :createMatrixOfSize:row
-    * set :createMatrixOfSize:matrix *tmp206
+  457 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   458 label *label109
   459 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
   460 jump *label108 always
 
   466 set :excludeArea:blocked *tmp200
   467 op lessThan *tmp207 :excludeArea:maskX :excludeArea:areaX
   468 op sub *tmp208 7 :excludeArea:blockSizeX
-    * op mul *tmp209 *tmp207 *tmp208
-    * set :excludeArea:shiftX *tmp209
+  469 op mul :excludeArea:shiftX *tmp207 *tmp208
   470 op lessThan *tmp210 :excludeArea:maskY :excludeArea:areaY
   471 op sub *tmp211 7 :excludeArea:blockSizeY
-    * op mul *tmp212 *tmp210 *tmp211
-    * set :excludeArea:shiftY *tmp212
+  472 op mul :excludeArea:shiftY *tmp210 *tmp211
   473 set :shiftMask:mask :excludeArea:blocked
   474 set :shiftMask:shiftX :excludeArea:shiftX
   475 set :shiftMask:shiftY :excludeArea:shiftY
 
   477 call *label13 *invalid :shiftMask*retval (m:*label113) (h:*label113)
   478 label *label113
   479 set :excludeArea:shifted :shiftMask*retval
-    * op or *tmp213 :excludeArea:mask :excludeArea:shifted
-    * set :excludeArea*retval *tmp213
+  480 op or :excludeArea*retval :excludeArea:mask :excludeArea:shifted
   481 jump *label102 always
   482 set *tmp197 null
   483 jump *label104 always
 
   496 jump *label117 greaterThan :findPossiblePlacement:y 3
   497 op add *tmp214 :findPossiblePlacement:y 3
   498 op mul *tmp215 7 *tmp214
-    * op shl *tmp216 :findPossiblePlacement:placementMask *tmp215
-    * set :findPossiblePlacement:mask *tmp216
+  499 op shl :findPossiblePlacement:mask :findPossiblePlacement:placementMask *tmp215
   500 set :findPossiblePlacement:x -3
   501 label *label118
   502 jump *label120 greaterThan :findPossiblePlacement:x 3
 
   505 jump *label121 equal *tmp218 false
   506 op mul *tmp220 :findPossiblePlacement:y 7
   507 op add *tmp221 24 *tmp220
-    * op add *tmp222 *tmp221 :findPossiblePlacement:x
-    * set :findPossiblePlacement*retval *tmp222
+  508 op add :findPossiblePlacement*retval *tmp221 :findPossiblePlacement:x
   509 jump *label114 always
   510 jump *label122 always
   511 label *label121
 
   549 label *label128
   550 set :tryPlaceGenerator:c :findPossiblePlacement:x
   551 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp229 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp229
+  552 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   553 op greaterThanEq *tmp230 :tryPlaceGenerator:shift 0
   554 jump *label129 equal *tmp230 false
   555 op lessThan *tmp232 :tryPlaceGenerator:shift 0
 
   560 label *label131
   561 label *label132
   562 op add *tmp234 :tryPlaceGenerator:centerX 0.5
-    * op add *tmp235 *tmp234 :tryPlaceGenerator:c
-    * set .water2X *tmp235
+  563 op add .water2X *tmp234 :tryPlaceGenerator:c
   564 op add *tmp236 :tryPlaceGenerator:centerY 0.5
-    * op add *tmp237 *tmp236 :tryPlaceGenerator:r
-    * set .water2Y *tmp237
+  565 op add .water2Y *tmp236 :tryPlaceGenerator:r
   566 op add *tmp238 :tryPlaceGenerator:centerX 0.5
-    * op add *tmp239 *tmp238 :tryPlaceGenerator:c
-    * set .generatorX *tmp239
+  567 op add .generatorX *tmp238 :tryPlaceGenerator:c
   568 op add *tmp240 :tryPlaceGenerator:centerY 2.5
-    * op add *tmp241 *tmp240 :tryPlaceGenerator:r
-    * set .generatorY *tmp241
+  569 op add .generatorY *tmp240 :tryPlaceGenerator:r
   570 op shl *tmp242 :tryPlaceGenerator:generatorVertical :tryPlaceGenerator:shift
   571 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp242
   572 jump *label130 always
 
   580 label *label133
   581 set :tryPlaceGenerator:c :findPossiblePlacement:x
   582 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp243 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp243
+  583 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   584 op lessThan *tmp244 :tryPlaceGenerator:shift 0
   585 jump *label134 equal *tmp244 false
   586 set :tryPlaceGenerator*retval false
 
   589 label *label134
   590 label *label135
   591 op add *tmp246 :tryPlaceGenerator:centerX 0.5
-    * op add *tmp247 *tmp246 :tryPlaceGenerator:c
-    * set .water2X *tmp247
+  592 op add .water2X *tmp246 :tryPlaceGenerator:c
   593 op add *tmp248 :tryPlaceGenerator:centerY 0.5
-    * op add *tmp249 *tmp248 :tryPlaceGenerator:r
-    * set .water2Y *tmp249
+  594 op add .water2Y *tmp248 :tryPlaceGenerator:r
   595 op add *tmp250 :tryPlaceGenerator:centerX 2.5
-    * op add *tmp251 *tmp250 :tryPlaceGenerator:c
-    * set .generatorX *tmp251
+  596 op add .generatorX *tmp250 :tryPlaceGenerator:c
   597 op add *tmp252 :tryPlaceGenerator:centerY 0.5
-    * op add *tmp253 *tmp252 :tryPlaceGenerator:r
-    * set .generatorY *tmp253
+  598 op add .generatorY *tmp252 :tryPlaceGenerator:r
   599 op shl *tmp254 :tryPlaceGenerator:generatorHorizontal :tryPlaceGenerator:shift
   600 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp254
   601 label *label130
 
   609 label *label136
   610 set :tryPlaceGenerator:c :findPossiblePlacement:x
   611 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp255 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp255
+  612 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   613 op lessThan *tmp256 :tryPlaceGenerator:shift 0
   614 jump *label137 equal *tmp256 false
   615 set :tryPlaceGenerator*retval false
 
   617 jump *label138 always
   618 label *label137
   619 label *label138
-    * op add *tmp258 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * set .panelX *tmp258
-    * op add *tmp259 :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * set .panelY *tmp259
+  620 op add .panelX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
+  621 op add .panelY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
   622 op shl *tmp260 1 :tryPlaceGenerator:shift
   623 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp260
   624 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
 
   630 label *label139
   631 set :tryPlaceGenerator:c :findPossiblePlacement:x
   632 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp261 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp261
+  633 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   634 op lessThan *tmp262 :tryPlaceGenerator:shift 0
   635 jump *label140 equal *tmp262 false
   636 set :tryPlaceGenerator*retval false
 
   638 jump *label141 always
   639 label *label140
   640 label *label141
-    * op add *tmp264 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * set .batteryX *tmp264
-    * op add *tmp265 :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * set .batteryY *tmp265
+  641 op add .batteryX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
+  642 op add .batteryY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
   643 op shl *tmp266 1 :tryPlaceGenerator:shift
   644 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp266
   645 op sub *tmp267 .water2X .node1X
 
   678 label *label148
   679 set :tryPlaceGenerator:c :findPossiblePlacement:x
   680 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp284 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp284
+  681 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   682 op lessThan *tmp285 :tryPlaceGenerator:shift 0
   683 jump *label149 equal *tmp285 false
   684 set :tryPlaceGenerator*retval false
 
   686 jump *label150 always
   687 label *label149
   688 label *label150
-    * op add *tmp287 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * set .node2X *tmp287
-    * op add *tmp288 :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * set .node2Y *tmp288
+  689 op add .node2X :tryPlaceGenerator:centerX :tryPlaceGenerator:c
+  690 op add .node2Y :tryPlaceGenerator:centerY :tryPlaceGenerator:r
   691 op shl *tmp289 1 :tryPlaceGenerator:shift
   692 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp289
   693 jump *label143 always
 
   707 op shl *tmp290 :createBlockMaskRow:result 1
   708 op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
   709 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * op or *tmp295 *tmp290 *tmp292
-    * set :createBlockMaskRow:result *tmp295
+  710 op or :createBlockMaskRow:result *tmp290 *tmp292
   711 label *label153
   712 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   713 jump *label152 always
 
   733 setaddr :createBlockMaskRow*retaddr *label157 (h:*label157)
   734 call *label17 *invalid :createBlockMaskRow*retval (m:*label157) (h:*label157)
   735 label *label157
-    * set *tmp301 :createBlockMaskRow*retval
-    * set :createAdjacentMask:row2 *tmp301
+  736 set :createAdjacentMask:row2 :createBlockMaskRow*retval
   737 op add *tmp302 :createAdjacentMask:y 3
   738 set :createBlockMaskRow:x :createAdjacentMask:x
   739 set :createBlockMaskRow:y *tmp302
   740 setaddr :createBlockMaskRow*retaddr *label158 (h:*label158)
   741 call *label17 *invalid :createBlockMaskRow*retval (m:*label158) (h:*label158)
   742 label *label158
-    * set *tmp303 :createBlockMaskRow*retval
-    * set :createAdjacentMask:row1 *tmp303
+  743 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   744 set :createAdjacentMask:r 2
   745 label *label159
   746 jump *label161 lessThan :createAdjacentMask:r -4
 
   750 setaddr :createBlockMaskRow*retaddr *label162 (h:*label162)
   751 call *label17 *invalid :createBlockMaskRow*retval (m:*label162) (h:*label162)
   752 label *label162
-    * set *tmp305 :createBlockMaskRow*retval
-    * set :createAdjacentMask:row0 *tmp305
+  753 set :createAdjacentMask:row0 :createBlockMaskRow*retval
   754 op shl *tmp306 :createAdjacentMask:row1 1
   755 op or *tmp307 :createAdjacentMask:row2 *tmp306
   756 op shr *tmp308 :createAdjacentMask:row1 1
   757 op or *tmp309 *tmp307 *tmp308
-    * op or *tmp310 *tmp309 :createAdjacentMask:row0
-    * set :createAdjacentMask:mask *tmp310
+  758 op or :createAdjacentMask:mask *tmp309 :createAdjacentMask:row0
   759 op shl *tmp311 :createAdjacentMask:result 7
   760 op and *tmp312 :createAdjacentMask:mask 0xFE
-    * op or *tmp313 *tmp311 *tmp312
-    * set :createAdjacentMask:result *tmp313
+  761 op or :createAdjacentMask:result *tmp311 *tmp312
   762 set :createAdjacentMask:row2 :createAdjacentMask:row1
   763 set :createAdjacentMask:row1 :createAdjacentMask:row0
   764 label *label160
   765 op sub :createAdjacentMask:r :createAdjacentMask:r 1
   766 jump *label159 always
   767 label *label161
-    * op shr *tmp314 :createAdjacentMask:result 1
-    * set *tmp299 *tmp314
+  768 op shr *tmp299 :createAdjacentMask:result 1
   769 label *label156
   770 set :createCombinedMask:adjacentMask *tmp299
   771 label *label163
   772 wait 1e-15
   773 read *tmp315 processor4 ":createTerrainMask*finished"
   774 jump *label163 equal *tmp315 false
-    * read *tmp316 processor4 ":createTerrainMask*retval"
-    * set :createCombinedMask:terrainMask *tmp316
-    * op or *tmp317 :createCombinedMask:adjacentMask :createCombinedMask:terrainMask
-    * set :excludeArea:mask *tmp317
+  775 read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
+  776 op or :excludeArea:mask :createCombinedMask:adjacentMask :createCombinedMask:terrainMask
   777 set :excludeArea:maskX :createCombinedMask:x
   778 set :excludeArea:maskY :createCombinedMask:y
   779 set :excludeArea:areaX .coreX
 
   816 setaddr :createCombinedMask*retaddr *label170 (h:*label170)
   817 call *label18 *invalid :createCombinedMask*retval (m:*label170) (h:*label170)
   818 label *label170
-    * set *tmp321 :createCombinedMask*retval
-    * set :layoutThoriumDrillAtLocation:plainTerrainMask *tmp321
-    * op or *tmp322 :layoutThoriumDrillAtLocation:plainTerrainMask 7575371776
-    * set :layoutThoriumDrillAtLocation:terrainMask *tmp322
-    * op or *tmp323 :layoutThoriumDrillAtLocation:terrainMask 285880598593601
-    * set :layoutThoriumDrillAtLocation:cornersMask *tmp323
+  819 set :layoutThoriumDrillAtLocation:plainTerrainMask :createCombinedMask*retval
+  820 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:plainTerrainMask 7575371776
+  821 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   822 set :layoutThoriumDrillAtLocation:mask2x2 387
   823 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
   824 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
 
   829 label *label171
   830 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   831 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set *tmp324 :findPossiblePlacement*retval
-    * set :layoutThoriumDrillAtLocation:shift *tmp324
+  832 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   833 op greaterThanEq *tmp325 :layoutThoriumDrillAtLocation:shift 0
   834 jump *label172 equal *tmp325 false
   835 op add *tmp327 .drillX 0.5
-    * op add *tmp328 *tmp327 :layoutThoriumDrillAtLocation:c
-    * set .water1X *tmp328
+  836 op add .water1X *tmp327 :layoutThoriumDrillAtLocation:c
   837 op add *tmp329 .drillY 0.5
-    * op add *tmp330 *tmp329 :layoutThoriumDrillAtLocation:r
-    * set .water1Y *tmp330
+  838 op add .water1Y *tmp329 :layoutThoriumDrillAtLocation:r
   839 op shl *tmp331 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   840 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp331
   841 op shl *tmp332 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
 
   852 label *label174
   853 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   854 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set *tmp333 :findPossiblePlacement*retval
-    * set :layoutThoriumDrillAtLocation:shift *tmp333
+  855 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   856 op greaterThanEq *tmp334 :layoutThoriumDrillAtLocation:shift 0
   857 jump *label175 equal *tmp334 false
   858 op add *tmp336 .drillX 0.5
-    * op add *tmp337 *tmp336 :layoutThoriumDrillAtLocation:c
-    * set .containerX *tmp337
+  859 op add .containerX *tmp336 :layoutThoriumDrillAtLocation:c
   860 op add *tmp338 .drillY 0.5
-    * op add *tmp339 *tmp338 :layoutThoriumDrillAtLocation:r
-    * set .containerY *tmp339
+  861 op add .containerY *tmp338 :layoutThoriumDrillAtLocation:r
   862 op shl *tmp340 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   863 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp340
   864 jump *label176 always
   865 label *label175
   866 label *label176
-    * op or *tmp341 :layoutThoriumDrillAtLocation:terrainMask 437639987601635
-    * set :layoutThoriumDrillAtLocation:nodeMask *tmp341
+  867 op or :layoutThoriumDrillAtLocation:nodeMask :layoutThoriumDrillAtLocation:terrainMask 437639987601635
   868 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:nodeMask
   869 set :findPossiblePlacement:placementMask 1
   870 set :findPossiblePlacement:width 1
 
   874 label *label177
   875 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   876 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set *tmp342 :findPossiblePlacement*retval
-    * set :layoutThoriumDrillAtLocation:shift *tmp342
+  877 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   878 op lessThan *tmp343 :layoutThoriumDrillAtLocation:shift 0
   879 jump *label178 equal *tmp343 false
   880 set :layoutThoriumDrillAtLocation*retval false
 
   882 jump *label179 always
   883 label *label178
   884 label *label179
-    * op add *tmp345 .drillX :layoutThoriumDrillAtLocation:c
-    * set .node1X *tmp345
-    * op add *tmp346 .drillY :layoutThoriumDrillAtLocation:r
-    * set .node1Y *tmp346
+  885 op add .node1X .drillX :layoutThoriumDrillAtLocation:c
+  886 op add .node1Y .drillY :layoutThoriumDrillAtLocation:r
   887 op shl *tmp347 1 :layoutThoriumDrillAtLocation:shift
   888 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp347
   889 set :layoutThoriumDrillAtLocation:generatorHorizontal 1935
 
   896 setaddr :tryPlaceGenerator*retaddr *label182 (h:*label182)
   897 call *label16 *invalid :tryPlaceGenerator*retval (m:*label182) (h:*label182)
   898 label *label182
-    * set *tmp348 :tryPlaceGenerator*retval
-    * jump *label180 equal *tmp348 false
+  899 jump *label180 equal :tryPlaceGenerator*retval false
   900 set :layoutThoriumDrillAtLocation*retval true
   901 jump *label165 always
   902 jump *label181 always
 
   921 set :layoutThoriumDrillAtLocation:sy -3
   922 setaddr *tmp350 *label189
   923 label *label183
-    * op sub *tmp351 .drillX :layoutThoriumDrillAtLocation:sx
-    * set :layoutThoriumDrillAtLocation:newX *tmp351
-    * op sub *tmp352 .drillY :layoutThoriumDrillAtLocation:sy
-    * set :layoutThoriumDrillAtLocation:newY *tmp352
+  924 op sub :layoutThoriumDrillAtLocation:newX .drillX :layoutThoriumDrillAtLocation:sx
+  925 op sub :layoutThoriumDrillAtLocation:newY .drillY :layoutThoriumDrillAtLocation:sy
   926 set :createCombinedMask:x :layoutThoriumDrillAtLocation:newX
   927 set :createCombinedMask:y :layoutThoriumDrillAtLocation:newY
   928 setaddr :createCombinedMask*retaddr *label190 (h:*label190)
   929 call *label18 *invalid :createCombinedMask*retval (m:*label190) (h:*label190)
   930 label *label190
-    * set *tmp353 :createCombinedMask*retval
-    * set :layoutThoriumDrillAtLocation:newTerrainMask *tmp353
+  931 set :layoutThoriumDrillAtLocation:newTerrainMask :createCombinedMask*retval
   932 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
   933 set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
   934 set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
   935 setaddr :shiftMask*retaddr *label191 (h:*label191)
   936 call *label13 *invalid :shiftMask*retval (m:*label191) (h:*label191)
   937 label *label191
-    * set *tmp354 :shiftMask*retval
-    * set :layoutThoriumDrillAtLocation:shiftedMask *tmp354
-    * op or *tmp355 :layoutThoriumDrillAtLocation:newTerrainMask :layoutThoriumDrillAtLocation:shiftedMask
-    * set :layoutThoriumDrillAtLocation:combinedMask *tmp355
+  938 set :layoutThoriumDrillAtLocation:shiftedMask :shiftMask*retval
+  939 op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :layoutThoriumDrillAtLocation:shiftedMask
   940 op sub *tmp356 .drillX :layoutThoriumDrillAtLocation:sx
   941 op sub *tmp357 .drillY :layoutThoriumDrillAtLocation:sy
   942 set :tryPlaceGenerator:centerX *tmp356
 
   947 setaddr :tryPlaceGenerator*retaddr *label194 (h:*label194)
   948 call *label16 *invalid :tryPlaceGenerator*retval (m:*label194) (h:*label194)
   949 label *label194
-    * set *tmp358 :tryPlaceGenerator*retval
-    * jump *label192 equal *tmp358 false
+  950 jump *label192 equal :tryPlaceGenerator*retval false
   951 set :layoutThoriumDrillAtLocation*retval true
   952 jump *label165 always
   953 jump *label193 always

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-2 instructions):
 
    56 set :findDrillLocation:oreX 0
    57 set :findDrillLocation:oreY 0
    58 label *label29
-    * jump *label31 equal true false
    59 set :findDrillLocation:best -1
    60 set :findDrillLocation:bestX :findDrillLocation:x
    61 set :findDrillLocation:bestY :findDrillLocation:y
 
   238 label *label64
   239 set :findDrillLocation:last 0
   240 label *label69
-    * jump *label71 equal true false
   241 write @unit processor4 ":findBestPosition:unit"
   242 write :findDrillLocation:oreX processor4 ":findBestPosition:x"
   243 write :findDrillLocation:oreY processor4 ":findBestPosition:y"

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-2 instructions):
 
   369 label *label95
   370 op abs *tmp163 :shiftMask:shiftY
   371 op greaterThan *tmp164 *tmp163 6
-    * jump *label94 notEqual *tmp164 false
-    * jump *label92 always
+  372 jump *label92 equal *tmp164 false
   373 label *label94
   374 set :shiftMask*retval 0
   375 jump *label91 always
 
   663 op sub *tmp280 .batteryY .node1Y
   664 op len *tmp281 *tmp279 *tmp280
   665 op greaterThan *tmp282 *tmp281 6
-    * jump *label144 notEqual *tmp282 false
-    * jump *label142 always
+  666 jump *label142 equal *tmp282 false
   667 label *label144
   668 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
   669 set :findPossiblePlacement:placementMask 1

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-46 instructions):
 
    42 set :moveTo.1:radius 6
    43 label *label26
    44 ucontrol within :moveTo.1:x :moveTo.1:y :moveTo.1:radius *tmp18
-    * op equal *tmp19 *tmp18 false
-    * jump *label28 equal *tmp19 false
+   45 jump *label28 notEqual *tmp18 false
    46 op sub *tmp20 :moveTo.1:radius 0.5
    47 ucontrol approach :moveTo.1:x :moveTo.1:y *tmp20
    48 label *label27
 
    73 op max .angle .angle @pi
    74 op mul .mapProgress .angle .angle
    75 label *label35
-    * op lessThan *tmp32 :locateOreAway:distance :locateOreAway:distanceLimit
-    * jump *label37 equal *tmp32 false
+   76 jump *label37 greaterThanEq :locateOreAway:distance :locateOreAway:distanceLimit
    77 op div :locateOreAway:a .angle @degToRad
    78 op sin *tmp34 :locateOreAway:a
    79 op mul *tmp35 *tmp34 :locateOreAway:distance
 
   102 set :moveTo.2:radius 5
   103 label *label41
   104 ucontrol within :moveTo.2:x :moveTo.2:y :moveTo.2:radius *tmp48
-    * op equal *tmp49 *tmp48 false
-    * jump *label43 equal *tmp49 false
+  105 jump *label43 notEqual *tmp48 false
   106 op sub *tmp50 :moveTo.2:radius 0.5
   107 ucontrol approach :moveTo.2:x :moveTo.2:y *tmp50
   108 label *label42
 
   114 op mul .mapProgress .angle .angle
   115 op mul :locateOreAway:distance 3.8197185279121366 .angle
   116 ulocate ore core true :locateOreAway:ore :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
-    * op equal *tmp56 *tmp54 false
-    * jump *label44 equal *tmp56 false
+  117 jump *label44 notEqual *tmp54 false
   118 set *tmp28 false
   119 jump *label34 always
   120 jump *label45 always
 
   128 op sub *tmp63 :locateOreAway:x :locateOreAway:lx
   129 op sub *tmp64 :locateOreAway:y :locateOreAway:ly
   130 op len :locateOreAway:unitDist *tmp63 *tmp64
-    * op equal *tmp66 :locateOreAway:lastX :locateOreAway:x
-    * jump *label46 equal *tmp66 false
-    * op equal *tmp68 :locateOreAway:lastY :locateOreAway:y
-    * jump *label48 equal *tmp68 false
+  131 jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x
+  132 jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
   133 jump *label36 always
   134 jump *label49 always
   135 label *label48
 
   137 jump *label47 always
   138 label *label46
   139 label *label47
-    * op greaterThanEq *tmp70 :locateOreAway:coreDist 8
-    * jump *label50 equal *tmp70 false
-    * op lessThan *tmp72 :locateOreAway:unitDist :locateOreAway:distance
-    * jump *label52 equal *tmp72 false
+  140 jump *label50 lessThan :locateOreAway:coreDist 8
+  141 jump *label52 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
   142 set :locateOreAway:lastX :locateOreAway:x
   143 set :locateOreAway:lastY :locateOreAway:y
   144 set :visited:x :locateOreAway:x
 
   155 op sub *tmp83 :visited:x :visited:lx
   156 op sub *tmp84 :visited:y :visited:ly
   157 op len *tmp85 *tmp83 *tmp84
-    * op lessThan *tmp86 *tmp85 7
-    * jump *label60 equal *tmp86 false
+  158 jump *label60 greaterThanEq *tmp85 7
   159 set *tmp74 true
   160 jump *label56 always
   161 jump *label61 always
 
   169 jump *label56 always
   170 set *tmp74 null
   171 label *label56
-    * op equal *tmp88 *tmp74 false
-    * jump *label54 equal *tmp88 false
+  172 jump *label54 notEqual *tmp74 false
   173 op div *tmp90 7.639437055824273 :locateOreAway:distance
   174 op add .angle .angle *tmp90
   175 op mul .mapProgress .angle .angle
 
   194 label *label34
   195 set :findDrillLocation:oreX :locateOreAway:x
   196 set :findDrillLocation:oreY :locateOreAway:y
-    * op equal *tmp92 *tmp28 false
-    * jump *label32 equal *tmp92 false
+  197 jump *label32 notEqual *tmp28 false
   198 set .searchFinished true
   199 op greaterThan :findDrillLocation*retval :findDrillLocation:capacity 0
   200 jump *label23 always
   201 jump *label33 always
   202 label *label32
   203 label *label33
-    * op greaterThanEq *tmp95 :findDrillLocation:limit 1000
-    * jump *label62 equal *tmp95 false
+  204 jump *label62 lessThan :findDrillLocation:limit 1000
   205 op add .mapSpots .mapSpots 1
   206 jump *label63 always
   207 label *label62
 
   215 set :moveTo.4:radius 6
   216 label *label66
   217 ucontrol within :moveTo.4:x :moveTo.4:y :moveTo.4:radius *tmp100
-    * op equal *tmp101 *tmp100 false
-    * jump *label68 equal *tmp101 false
+  218 jump *label68 notEqual *tmp100 false
   219 op sub *tmp102 :moveTo.4:radius 0.5
   220 ucontrol approach :moveTo.4:x :moveTo.4:y *tmp102
   221 label *label67
 
   246 op sub *tmp116 :findDrillLocation:newY .coreY
   247 op abs *tmp117 *tmp116
   248 op max :findDrillLocation:coreDist *tmp115 *tmp117
-    * op lessThanEq *tmp119 :findDrillLocation:coreDist 8
-    * jump *label73 equal *tmp119 false
+  249 jump *label73 greaterThan :findDrillLocation:coreDist 8
   250 jump *label71 always
   251 jump *label74 always
   252 label *label73
   253 label *label74
-    * op greaterThan *tmp121 :findDrillLocation:score :findDrillLocation:capacity
-    * jump *label75 equal *tmp121 false
+  254 jump *label75 lessThanEq :findDrillLocation:score :findDrillLocation:capacity
   255 set :findDrillLocation:dx :findDrillLocation:newX
   256 set :findDrillLocation:dy :findDrillLocation:newY
   257 set :findDrillLocation:capacity :findDrillLocation:score
-    * op lessThan *tmp123 :findDrillLocation:limit 1000
-    * jump *label77 equal *tmp123 false
+  258 jump *label77 greaterThanEq :findDrillLocation:limit 1000
   259 set .mapSpots :findDrillLocation:score
   260 jump *label78 always
   261 label *label77
   262 label *label78
-    * op greaterThanEq *tmp125 :findDrillLocation:capacity :findDrillLocation:limit
-    * jump *label79 equal *tmp125 false
+  263 jump *label79 lessThan :findDrillLocation:capacity :findDrillLocation:limit
   264 set :saveLocation:item :findDrillLocation:item
   265 set :saveLocation:value :findDrillLocation:score
   266 set :saveLocation:x :findDrillLocation:dx
 
   287 jump *label76 always
   288 label *label75
   289 label *label76
-    * op greaterThan *tmp137 :findDrillLocation:score :findDrillLocation:best
-    * jump *label82 equal *tmp137 false
+  290 jump *label82 lessThanEq :findDrillLocation:score :findDrillLocation:best
   291 set :findDrillLocation:bestX :findDrillLocation:newX
   292 set :findDrillLocation:bestY :findDrillLocation:newY
   293 set :findDrillLocation:best :findDrillLocation:score
   294 jump *label83 always
   295 label *label82
   296 label *label83
-    * op lessThanEq *tmp139 :findDrillLocation:score :findDrillLocation:last
-    * jump *label84 equal *tmp139 false
+  297 jump *label84 greaterThan :findDrillLocation:score :findDrillLocation:last
   298 jump *label71 always
   299 jump *label85 always
   300 label *label84
 
   313 label *label70
   314 jump *label69 always
   315 label *label71
-    * op greaterThanEq *tmp149 :findDrillLocation:best 0
-    * jump *label88 equal *tmp149 false
+  316 jump *label88 lessThan :findDrillLocation:best 0
   317 set :saveLocation.1:item :findDrillLocation:item
   318 set :saveLocation.1:value :findDrillLocation:best
   319 set :saveLocation.1:x :findDrillLocation:bestX
 
   344 end
   345 label *label13
   346 op abs *tmp161 :shiftMask:shiftX
-    * op greaterThan *tmp162 *tmp161 6
-    * jump *label94 notEqual *tmp162 false
+  347 jump *label94 greaterThan *tmp161 6
   348 label *label95
   349 op abs *tmp163 :shiftMask:shiftY
-    * op greaterThan *tmp164 *tmp163 6
-    * jump *label92 equal *tmp164 false
+  350 jump *label92 lessThanEq *tmp163 6
   351 label *label94
   352 set :shiftMask*retval 0
   353 jump *label91 always
 
   356 label *label93
   357 op mul *tmp166 7 :shiftMask:shiftY
   358 op add :shiftMask:shift :shiftMask:shiftX *tmp166
-    * op greaterThan *tmp168 :shiftMask:shift 0
-    * jump *label96 equal *tmp168 false
+  359 jump *label96 lessThanEq :shiftMask:shift 0
   360 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
   361 op and *tmp171 :shiftMask:mask :shiftMask:clearMask
   362 op shl :shiftMask:mask *tmp171 :shiftMask:shift
 
   365 op sub *tmp173 0 :shiftMask:shift
   366 op shr :shiftMask:mask :shiftMask:mask *tmp173
   367 label *label97
-    * op notEqual *tmp174 :shiftMask:shiftX 0
-    * jump *label98 equal *tmp174 false
+  368 jump *label98 equal :shiftMask:shiftX 0
   369 op abs *tmp176 :shiftMask:shiftX
   370 op shr :shiftMask:keep 0b1111111 *tmp176
-    * op greaterThan *tmp178 :shiftMask:shiftX 0
-    * jump *label100 equal *tmp178 false
+  371 jump *label100 lessThanEq :shiftMask:shiftX 0
   372 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
   373 jump *label101 always
   374 label *label100
 
   402 op sub *tmp192 :excludeArea:maskY :excludeArea:areaY
   403 op abs *tmp193 *tmp192
   404 op sub :excludeArea:overlapY *tmp191 *tmp193
-    * op greaterThan *tmp195 :excludeArea:overlapX 0
-    * jump *label103 equal *tmp195 false
+  405 jump *label103 lessThanEq :excludeArea:overlapX 0
   406 label *label106
-    * op greaterThan *tmp196 :excludeArea:overlapY 0
-    * jump *label103 equal *tmp196 false
+  407 jump *label103 lessThanEq :excludeArea:overlapY 0
   408 jump *label105 always
   409 label *label105
   410 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
 
   417 set :createMatrixOfSize:i 1
   418 label *label108
   419 jump *label110 greaterThanEq :createMatrixOfSize:i 7
-    * op greaterThanEq *tmp203 :createMatrixOfSize:i :createMatrixOfSize:height
-    * jump *label111 equal *tmp203 false
+  420 jump *label111 lessThan :createMatrixOfSize:i :createMatrixOfSize:height
   421 jump *label110 always
   422 jump *label112 always
   423 label *label111
 
   470 label *label118
   471 jump *label120 greaterThan :findPossiblePlacement:x 3
   472 op and *tmp217 :findPossiblePlacement:terrainMask :findPossiblePlacement:mask
-    * op equal *tmp218 *tmp217 0
-    * jump *label121 equal *tmp218 false
+  473 jump *label121 notEqual *tmp217 0
   474 op mul *tmp220 :findPossiblePlacement:y 7
   475 op add *tmp221 24 *tmp220
   476 op add :findPossiblePlacement*retval *tmp221 :findPossiblePlacement:x
 
   479 label *label121
   480 label *label122
   481 op sub *tmp223 3 :findPossiblePlacement:width
-    * op greaterThan *tmp224 :findPossiblePlacement:x *tmp223
-    * jump *label123 equal *tmp224 false
+  482 jump *label123 lessThanEq :findPossiblePlacement:x *tmp223
   483 jump *label120 always
   484 jump *label124 always
   485 label *label123
 
   490 jump *label118 always
   491 label *label120
   492 op sub *tmp226 3 :findPossiblePlacement:height
-    * op greaterThan *tmp227 :findPossiblePlacement:y *tmp226
-    * jump *label125 equal *tmp227 false
+  493 jump *label125 lessThanEq :findPossiblePlacement:y *tmp226
   494 jump *label117 always
   495 jump *label126 always
   496 label *label125
 
   516 set :tryPlaceGenerator:c :findPossiblePlacement:x
   517 set :tryPlaceGenerator:r :findPossiblePlacement:y
   518 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op greaterThanEq *tmp230 :tryPlaceGenerator:shift 0
-    * jump *label129 equal *tmp230 false
-    * op lessThan *tmp232 :tryPlaceGenerator:shift 0
-    * jump *label131 equal *tmp232 false
+  519 jump *label129 lessThan :tryPlaceGenerator:shift 0
+  520 jump *label131 greaterThanEq :tryPlaceGenerator:shift 0
   521 set :tryPlaceGenerator*retval false
   522 jump *label127 always
   523 jump *label132 always
 
   545 set :tryPlaceGenerator:c :findPossiblePlacement:x
   546 set :tryPlaceGenerator:r :findPossiblePlacement:y
   547 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp244 :tryPlaceGenerator:shift 0
-    * jump *label134 equal *tmp244 false
+  548 jump *label134 greaterThanEq :tryPlaceGenerator:shift 0
   549 set :tryPlaceGenerator*retval false
   550 jump *label127 always
   551 jump *label135 always
 
   573 set :tryPlaceGenerator:c :findPossiblePlacement:x
   574 set :tryPlaceGenerator:r :findPossiblePlacement:y
   575 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp256 :tryPlaceGenerator:shift 0
-    * jump *label137 equal *tmp256 false
+  576 jump *label137 greaterThanEq :tryPlaceGenerator:shift 0
   577 set :tryPlaceGenerator*retval false
   578 jump *label127 always
   579 jump *label138 always
 
   593 set :tryPlaceGenerator:c :findPossiblePlacement:x
   594 set :tryPlaceGenerator:r :findPossiblePlacement:y
   595 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp262 :tryPlaceGenerator:shift 0
-    * jump *label140 equal *tmp262 false
+  596 jump *label140 greaterThanEq :tryPlaceGenerator:shift 0
   597 set :tryPlaceGenerator*retval false
   598 jump *label127 always
   599 jump *label141 always
 
   606 op sub *tmp267 .water2X .node1X
   607 op sub *tmp268 .water2Y .node1Y
   608 op len *tmp269 *tmp267 *tmp268
-    * op greaterThan *tmp270 *tmp269 7
-    * jump *label144 notEqual *tmp270 false
+  609 jump *label144 greaterThan *tmp269 7
   610 label *label147
   611 op sub *tmp271 .generatorX .node1X
   612 op sub *tmp272 .generatorY .node1Y
   613 op len *tmp273 *tmp271 *tmp272
-    * op greaterThan *tmp274 *tmp273 7
-    * jump *label144 notEqual *tmp274 false
+  614 jump *label144 greaterThan *tmp273 7
   615 jump *label146 always
   616 label *label146
   617 op sub *tmp275 .panelX .node1X
   618 op sub *tmp276 .panelY .node1Y
   619 op len *tmp277 *tmp275 *tmp276
-    * op greaterThan *tmp278 *tmp277 6
-    * jump *label144 notEqual *tmp278 false
+  620 jump *label144 greaterThan *tmp277 6
   621 jump *label145 always
   622 label *label145
   623 op sub *tmp279 .batteryX .node1X
   624 op sub *tmp280 .batteryY .node1Y
   625 op len *tmp281 *tmp279 *tmp280
-    * op greaterThan *tmp282 *tmp281 6
-    * jump *label142 equal *tmp282 false
+  626 jump *label142 lessThanEq *tmp281 6
   627 label *label144
   628 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
   629 set :findPossiblePlacement:placementMask 1
 
   635 set :tryPlaceGenerator:c :findPossiblePlacement:x
   636 set :tryPlaceGenerator:r :findPossiblePlacement:y
   637 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp285 :tryPlaceGenerator:shift 0
-    * jump *label149 equal *tmp285 false
+  638 jump *label149 greaterThanEq :tryPlaceGenerator:shift 0
   639 set :tryPlaceGenerator*retval false
   640 jump *label127 always
   641 jump *label150 always
 
   758 set :moveTo.5:radius 1
   759 label *label167
   760 ucontrol within :moveTo.5:x :moveTo.5:y :moveTo.5:radius *tmp318
-    * op equal *tmp319 *tmp318 false
-    * jump *label169 equal *tmp319 false
+  761 jump *label169 notEqual *tmp318 false
   762 op sub *tmp320 :moveTo.5:radius 0.5
   763 ucontrol approach :moveTo.5:x :moveTo.5:y *tmp320
   764 label *label168
 
   784 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   785 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   786 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * op greaterThanEq *tmp325 :layoutThoriumDrillAtLocation:shift 0
-    * jump *label172 equal *tmp325 false
+  787 jump *label172 lessThan :layoutThoriumDrillAtLocation:shift 0
   788 op add *tmp327 .drillX 0.5
   789 op add .water1X *tmp327 :layoutThoriumDrillAtLocation:c
   790 op add *tmp329 .drillY 0.5
 
   806 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   807 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   808 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * op greaterThanEq *tmp334 :layoutThoriumDrillAtLocation:shift 0
-    * jump *label175 equal *tmp334 false
+  809 jump *label175 lessThan :layoutThoriumDrillAtLocation:shift 0
   810 op add *tmp336 .drillX 0.5
   811 op add .containerX *tmp336 :layoutThoriumDrillAtLocation:c
   812 op add *tmp338 .drillY 0.5
 
   827 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   828 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   829 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * op lessThan *tmp343 :layoutThoriumDrillAtLocation:shift 0
-    * jump *label178 equal *tmp343 false
+  830 jump *label178 greaterThanEq :layoutThoriumDrillAtLocation:shift 0
   831 set :layoutThoriumDrillAtLocation*retval false
   832 jump *label165 always
   833 jump *label179 always
 
   927 label *label198
   928 set .drillX :findDrillLocation:dx
   929 set .drillY :findDrillLocation:dy
-    * op equal *tmp360 :findDrillLocation*retval false
-    * jump *label196 equal *tmp360 false
+  930 jump *label196 notEqual :findDrillLocation*retval false
   931 set :layoutThoriumDrill*retval false
   932 jump *label195 always
   933 jump *label197 always

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-38 instructions):
 
   117 jump *label44 notEqual *tmp54 false
   118 set *tmp28 false
   119 jump *label34 always
-    * jump *label45 always
   120 label *label44
   121 label *label45
   122 op sub *tmp58 :locateOreAway:x .coreX
 
   130 jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x
   131 jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
   132 jump *label36 always
-    * jump *label49 always
   133 label *label48
   134 label *label49
-    * jump *label47 always
   135 label *label46
   136 label *label47
   137 jump *label50 lessThan :locateOreAway:coreDist 8
 
   155 jump *label60 greaterThanEq *tmp85 7
   156 set *tmp74 true
   157 jump *label56 always
-    * jump *label61 always
   158 label *label60
   159 label *label61
   160 label *label58
 
   172 printflush message1
   173 set *tmp28 true
   174 jump *label34 always
-    * jump *label55 always
   175 label *label54
   176 label *label55
-    * jump *label53 always
   177 label *label52
   178 label *label53
-    * jump *label51 always
   179 label *label50
   180 label *label51
   181 label *label36
 
   191 set .searchFinished true
   192 op greaterThan :findDrillLocation*retval :findDrillLocation:capacity 0
   193 jump *label23 always
-    * jump *label33 always
   194 label *label32
   195 label *label33
   196 jump *label62 lessThan :findDrillLocation:limit 1000
   197 op add .mapSpots .mapSpots 1
-    * jump *label63 always
   198 label *label62
   199 label *label63
   200 set :moveTo.3:x :findDrillLocation:oreX
 
   239 op max :findDrillLocation:coreDist *tmp115 *tmp117
   240 jump *label73 greaterThan :findDrillLocation:coreDist 8
   241 jump *label71 always
-    * jump *label74 always
   242 label *label73
   243 label *label74
   244 jump *label75 lessThanEq :findDrillLocation:score :findDrillLocation:capacity
 
   247 set :findDrillLocation:capacity :findDrillLocation:score
   248 jump *label77 greaterThanEq :findDrillLocation:limit 1000
   249 set .mapSpots :findDrillLocation:score
-    * jump *label78 always
   250 label *label77
   251 label *label78
   252 jump *label79 lessThan :findDrillLocation:capacity :findDrillLocation:limit
 
   270 set .searchFinished true
   271 set :findDrillLocation*retval true
   272 jump *label23 always
-    * jump *label80 always
   273 label *label79
   274 label *label80
-    * jump *label76 always
   275 label *label75
   276 label *label76
   277 jump *label82 lessThanEq :findDrillLocation:score :findDrillLocation:best
   278 set :findDrillLocation:bestX :findDrillLocation:newX
   279 set :findDrillLocation:bestY :findDrillLocation:newY
   280 set :findDrillLocation:best :findDrillLocation:score
-    * jump *label83 always
   281 label *label82
   282 label *label83
   283 jump *label84 greaterThan :findDrillLocation:score :findDrillLocation:last
   284 jump *label71 always
-    * jump *label85 always
   285 label *label84
   286 label *label85
   287 set :findDrillLocation:last :findDrillLocation:score
 
   315 write :saveLocation.1:y bank1 .count
   316 op add .locations .locations 1
   317 label *label90
-    * jump *label89 always
   318 label *label88
   319 label *label89
   320 label *label30
 
   335 label *label94
   336 set :shiftMask*retval 0
   337 jump *label91 always
-    * jump *label93 always
   338 label *label92
   339 label *label93
   340 op mul *tmp166 7 :shiftMask:shiftY
 
   353 op shr :shiftMask:keep 0b1111111 *tmp176
   354 jump *label100 lessThanEq :shiftMask:shiftX 0
   355 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
-    * jump *label101 always
   356 label *label100
   357 label *label101
   358 op shl *tmp180 :shiftMask:keep 7
 
   362 op shl *tmp182 :shiftMask:keep 21
   363 op or :shiftMask:keep :shiftMask:keep *tmp182
   364 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
-    * jump *label99 always
   365 label *label98
   366 label *label99
   367 set :shiftMask*retval :shiftMask:mask
 
   386 jump *label103 lessThanEq :excludeArea:overlapX 0
   387 label *label106
   388 jump *label103 lessThanEq :excludeArea:overlapY 0
-    * jump *label105 always
   389 label *label105
   390 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
   391 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
 
   399 jump *label110 greaterThanEq :createMatrixOfSize:i 7
   400 jump *label111 lessThan :createMatrixOfSize:i :createMatrixOfSize:height
   401 jump *label110 always
-    * jump *label112 always
   402 label *label111
   403 label *label112
   404 op shl *tmp205 :createMatrixOfSize:matrix 7
 
   454 op add *tmp221 24 *tmp220
   455 op add :findPossiblePlacement*retval *tmp221 :findPossiblePlacement:x
   456 jump *label114 always
-    * jump *label122 always
   457 label *label121
   458 label *label122
   459 op sub *tmp223 3 :findPossiblePlacement:width
   460 jump *label123 lessThanEq :findPossiblePlacement:x *tmp223
   461 jump *label120 always
-    * jump *label124 always
   462 label *label123
   463 label *label124
   464 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
 
   469 op sub *tmp226 3 :findPossiblePlacement:height
   470 jump *label125 lessThanEq :findPossiblePlacement:y *tmp226
   471 jump *label117 always
-    * jump *label126 always
   472 label *label125
   473 label *label126
   474 label *label116
 
   496 jump *label131 greaterThanEq :tryPlaceGenerator:shift 0
   497 set :tryPlaceGenerator*retval false
   498 jump *label127 always
-    * jump *label132 always
   499 label *label131
   500 label *label132
   501 op add *tmp234 :tryPlaceGenerator:centerX 0.5
 
   523 jump *label134 greaterThanEq :tryPlaceGenerator:shift 0
   524 set :tryPlaceGenerator*retval false
   525 jump *label127 always
-    * jump *label135 always
   526 label *label134
   527 label *label135
   528 op add *tmp246 :tryPlaceGenerator:centerX 0.5
 
   550 jump *label137 greaterThanEq :tryPlaceGenerator:shift 0
   551 set :tryPlaceGenerator*retval false
   552 jump *label127 always
-    * jump *label138 always
   553 label *label137
   554 label *label138
   555 op add .panelX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
 
   569 jump *label140 greaterThanEq :tryPlaceGenerator:shift 0
   570 set :tryPlaceGenerator*retval false
   571 jump *label127 always
-    * jump *label141 always
   572 label *label140
   573 label *label141
   574 op add .batteryX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
 
   584 op sub *tmp272 .generatorY .node1Y
   585 op len *tmp273 *tmp271 *tmp272
   586 jump *label144 greaterThan *tmp273 7
-    * jump *label146 always
   587 label *label146
   588 op sub *tmp275 .panelX .node1X
   589 op sub *tmp276 .panelY .node1Y
   590 op len *tmp277 *tmp275 *tmp276
   591 jump *label144 greaterThan *tmp277 6
-    * jump *label145 always
   592 label *label145
   593 op sub *tmp279 .batteryX .node1X
   594 op sub *tmp280 .batteryY .node1Y
 
   608 jump *label149 greaterThanEq :tryPlaceGenerator:shift 0
   609 set :tryPlaceGenerator*retval false
   610 jump *label127 always
-    * jump *label150 always
   611 label *label149
   612 label *label150
   613 op add .node2X :tryPlaceGenerator:centerX :tryPlaceGenerator:c
   614 op add .node2Y :tryPlaceGenerator:centerY :tryPlaceGenerator:r
   615 op shl *tmp289 1 :tryPlaceGenerator:shift
   616 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp289
-    * jump *label143 always
   617 label *label142
   618 label *label143
   619 set :tryPlaceGenerator*retval true
 
   761 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp331
   762 op shl *tmp332 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   763 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp332
-    * jump *label173 always
   764 label *label172
   765 label *label173
   766 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
 
   780 op add .containerY *tmp338 :layoutThoriumDrillAtLocation:r
   781 op shl *tmp340 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   782 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp340
-    * jump *label176 always
   783 label *label175
   784 label *label176
   785 op or :layoutThoriumDrillAtLocation:nodeMask :layoutThoriumDrillAtLocation:terrainMask 437639987601635
 
   796 jump *label178 greaterThanEq :layoutThoriumDrillAtLocation:shift 0
   797 set :layoutThoriumDrillAtLocation*retval false
   798 jump *label165 always
-    * jump *label179 always
   799 label *label178
   800 label *label179
   801 op add .node1X .drillX :layoutThoriumDrillAtLocation:c
 
   815 jump *label180 equal :tryPlaceGenerator*retval false
   816 set :layoutThoriumDrillAtLocation*retval true
   817 jump *label165 always
-    * jump *label181 always
   818 label *label180
   819 label *label181
   820 set :layoutThoriumDrillAtLocation:sx 3
 
   865 jump *label192 equal :tryPlaceGenerator*retval false
   866 set :layoutThoriumDrillAtLocation*retval true
   867 jump *label165 always
-    * jump *label193 always
   868 label *label192
   869 label *label193
   870 label *label184
 
   893 jump *label196 notEqual :findDrillLocation*retval false
   894 set :layoutThoriumDrill*retval false
   895 jump *label195 always
-    * jump *label197 always
   896 label *label196
   897 label *label197
   898 setaddr :layoutThoriumDrillAtLocation*retaddr *label199 (h:*label199)

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-12 instructions):
 
    25 set :findDrillLocation:dy :findDrillLocation:capacity
    26 set :findDrillLocation:dx :findDrillLocation:dy
    27 set .mapSpots :findDrillLocation:dx
-    * op sub *tmp13 @mapw .coreX
-    * op sub *tmp14 @maph .coreY
-    * op max *tmp15 .coreX .coreY
+   28 op sub *tmp13 @mapw :findDrillLocation:x
+   29 op sub *tmp14 @maph :findDrillLocation:y
+   30 op max *tmp15 :findDrillLocation:x :findDrillLocation:y
    31 op max *tmp15 *tmp15 *tmp13
    32 op max *tmp15 *tmp15 *tmp14
    33 set :findDrillLocation:distanceLimit *tmp15
    34 set .angle 0
-    * set .mapProgress .angle
-    * set :moveTo:x .coreX
-    * set :moveTo:y .coreY
-    * set *tmp16 :moveTo:x
-    * set *tmp17 :moveTo:y
-    * set :moveTo.1:x *tmp16
-    * set :moveTo.1:y *tmp17
+   35 set .mapProgress 0
+   36 set :moveTo:x :findDrillLocation:x
+   37 set :moveTo:y :findDrillLocation:y
+   38 set *tmp16 .coreX
+   39 set *tmp17 .coreY
+   40 set :moveTo.1:x :moveTo:x
+   41 set :moveTo.1:y :moveTo:y
    42 set :moveTo.1:radius 6
    43 label *label26
-    * ucontrol within :moveTo.1:x :moveTo.1:y :moveTo.1:radius *tmp18
+   44 ucontrol within *tmp16 *tmp17 6 *tmp18
    45 jump *label28 notEqual *tmp18 false
-    * op sub *tmp20 :moveTo.1:radius 0.5
-    * ucontrol approach :moveTo.1:x :moveTo.1:y *tmp20
+   46 op sub *tmp20 6 0.5
+   47 ucontrol approach *tmp16 *tmp17 5.5
    48 label *label27
    49 jump *label26 always
    50 label *label28
    51 label *label25
    52 label *label24
-    * op div *tmp21 :findDrillLocation:distanceLimit 3.8197185279121366
+   53 op div *tmp21 *tmp15 3.8197185279121366
    54 op pow .mapTotal *tmp21 2
    55 set :findDrillLocation:oreX 0
    56 set :findDrillLocation:oreY 0
 
    73 op max .angle .angle @pi
    74 op mul .mapProgress .angle .angle
    75 label *label35
-    * jump *label37 greaterThanEq :locateOreAway:distance :locateOreAway:distanceLimit
+   76 jump *label37 greaterThanEq :locateOreAway:distance :findDrillLocation:distanceLimit
    77 op div :locateOreAway:a .angle @degToRad
    78 op sin *tmp34 :locateOreAway:a
    79 op mul *tmp35 *tmp34 :locateOreAway:distance
-    * op add *tmp36 .coreX *tmp35
+   80 op add *tmp36 :findDrillLocation:x *tmp35
    81 op sub *tmp37 @mapw 5
    82 set :limit:value *tmp36
    83 set :limit:low 5
    84 set :limit:high *tmp37
-    * op max *tmp39 :limit:value :limit:low
-    * op min *tmp38 *tmp39 :limit:high
+   85 op max *tmp39 *tmp36 5
+   86 op min *tmp38 *tmp39 *tmp37
    87 label *label38
    88 set :locateOreAway:lx *tmp38
    89 op cos *tmp41 :locateOreAway:a
    90 op mul *tmp42 *tmp41 :locateOreAway:distance
-    * op add *tmp43 .coreY *tmp42
+   91 op add *tmp43 :findDrillLocation:y *tmp42
    92 op sub *tmp44 @maph 5
    93 set :limit.1:value *tmp43
    94 set :limit.1:low 5
    95 set :limit.1:high *tmp44
-    * op max *tmp46 :limit.1:value :limit.1:low
-    * op min *tmp45 *tmp46 :limit.1:high
+   96 op max *tmp46 *tmp43 5
+   97 op min *tmp45 *tmp46 *tmp44
    98 label *label39
    99 set :locateOreAway:ly *tmp45
-    * set :moveTo.2:x :locateOreAway:lx
-    * set :moveTo.2:y :locateOreAway:ly
+  100 set :moveTo.2:x *tmp38
+  101 set :moveTo.2:y *tmp45
   102 set :moveTo.2:radius 5
   103 label *label41
-    * ucontrol within :moveTo.2:x :moveTo.2:y :moveTo.2:radius *tmp48
+  104 ucontrol within :locateOreAway:lx :locateOreAway:ly 5 *tmp48
   105 jump *label43 notEqual *tmp48 false
-    * op sub *tmp50 :moveTo.2:radius 0.5
-    * ucontrol approach :moveTo.2:x :moveTo.2:y *tmp50
+  106 op sub *tmp50 5 0.5
+  107 ucontrol approach :locateOreAway:lx :locateOreAway:ly 4.5
   108 label *label42
   109 jump *label41 always
   110 label *label43
 
   113 op add .angle .angle *tmp51
   114 op mul .mapProgress .angle .angle
   115 op mul :locateOreAway:distance 3.8197185279121366 .angle
-    * ulocate ore core true :locateOreAway:ore :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
+  116 ulocate ore core true :findDrillLocation:item :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
   117 jump *label44 notEqual *tmp54 false
   118 set *tmp28 false
   119 jump *label34 always
   120 label *label44
   121 label *label45
-    * op sub *tmp58 :locateOreAway:x .coreX
+  122 op sub *tmp58 :locateOreAway:x :findDrillLocation:x
   123 op abs *tmp59 *tmp58
-    * op sub *tmp60 :locateOreAway:y .coreY
+  124 op sub *tmp60 :locateOreAway:y :findDrillLocation:y
   125 op abs *tmp61 *tmp60
   126 op max :locateOreAway:coreDist *tmp59 *tmp61
-    * op sub *tmp63 :locateOreAway:x :locateOreAway:lx
-    * op sub *tmp64 :locateOreAway:y :locateOreAway:ly
+  127 op sub *tmp63 :locateOreAway:x *tmp38
+  128 op sub *tmp64 :locateOreAway:y *tmp45
   129 op len :locateOreAway:unitDist *tmp63 *tmp64
   130 jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x
   131 jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
 
   149 read :visited:lx bank1 *tmp78
   150 op add *tmp81 :visited:index 3
   151 read :visited:ly bank1 *tmp81
-    * op sub *tmp83 :visited:x :visited:lx
-    * op sub *tmp84 :visited:y :visited:ly
+  152 op sub *tmp83 :locateOreAway:x :visited:lx
+  153 op sub *tmp84 :locateOreAway:y :visited:ly
   154 op len *tmp85 *tmp83 *tmp84
   155 jump *label60 greaterThanEq *tmp85 7
   156 set *tmp74 true
 
   163 label *label59
   164 set *tmp74 false
   165 jump *label56 always
-    * set *tmp74 null
   166 label *label56
   167 jump *label54 notEqual *tmp74 false
-    * op div *tmp90 7.639437055824273 :locateOreAway:distance
+  168 op div *tmp90 2 .angle
   169 op add .angle .angle *tmp90
   170 op mul .mapProgress .angle .angle
   171 printflush message1
 
   182 label *label37
   183 set *tmp28 false
   184 jump *label34 always
-    * set *tmp28 null
   185 label *label34
   186 set :findDrillLocation:oreX :locateOreAway:x
   187 set :findDrillLocation:oreY :locateOreAway:y
 
   195 op add .mapSpots .mapSpots 1
   196 label *label62
   197 label *label63
-    * set :moveTo.3:x :findDrillLocation:oreX
-    * set :moveTo.3:y :findDrillLocation:oreY
-    * set *tmp98 :moveTo.3:x
-    * set *tmp99 :moveTo.3:y
-    * set :moveTo.4:x *tmp98
-    * set :moveTo.4:y *tmp99
+  198 set :moveTo.3:x :locateOreAway:x
+  199 set :moveTo.3:y :locateOreAway:y
+  200 set *tmp98 :findDrillLocation:oreX
+  201 set *tmp99 :findDrillLocation:oreY
+  202 set :moveTo.4:x :moveTo.3:x
+  203 set :moveTo.4:y :moveTo.3:y
   204 set :moveTo.4:radius 6
   205 label *label66
-    * ucontrol within :moveTo.4:x :moveTo.4:y :moveTo.4:radius *tmp100
+  206 ucontrol within *tmp98 *tmp99 6 *tmp100
   207 jump *label68 notEqual *tmp100 false
-    * op sub *tmp102 :moveTo.4:radius 0.5
-    * ucontrol approach :moveTo.4:x :moveTo.4:y *tmp102
+  208 op sub *tmp102 6 0.5
+  209 ucontrol approach *tmp98 *tmp99 5.5
   210 label *label67
   211 jump *label66 always
   212 label *label68
 
   230 read :findDrillLocation:score processor4 ":findBestPosition*retval"
   231 op add :findDrillLocation:newX :findDrillLocation:oreX :findDrillLocation:diffX
   232 op add :findDrillLocation:newY :findDrillLocation:oreY :findDrillLocation:diffY
-    * op sub *tmp114 :findDrillLocation:newX .coreX
+  233 op sub *tmp114 :findDrillLocation:newX :findDrillLocation:x
   234 op abs *tmp115 *tmp114
-    * op sub *tmp116 :findDrillLocation:newY .coreY
+  235 op sub *tmp116 :findDrillLocation:newY :findDrillLocation:y
   236 op abs *tmp117 *tmp116
   237 op max :findDrillLocation:coreDist *tmp115 *tmp117
   238 jump *label73 greaterThan :findDrillLocation:coreDist 8
 
   254 set :saveLocation:y :findDrillLocation:dy
   255 op add .count .count 1
   256 set *tmp127 .count
-    * sensor *tmp129 :saveLocation:item @id
-    * write *tmp129 bank1 *tmp127
+  257 sensor *tmp129 :findDrillLocation:item @id
+  258 write *tmp129 bank1 .count
   259 op add .count .count 1
-    * write :saveLocation:value bank1 .count
+  260 write :findDrillLocation:score bank1 .count
   261 op add .count .count 1
-    * write :saveLocation:x bank1 .count
+  262 write :findDrillLocation:dx bank1 .count
   263 op add .count .count 1
-    * write :saveLocation:y bank1 .count
+  264 write :findDrillLocation:dy bank1 .count
   265 op add .locations .locations 1
   266 label *label81
   267 ucontrol unbind
 
   303 set :saveLocation.1:y :findDrillLocation:bestY
   304 op add .count .count 1
   305 set *tmp151 .count
-    * sensor *tmp153 :saveLocation.1:item @id
-    * write *tmp153 bank1 *tmp151
+  306 sensor *tmp153 :findDrillLocation:item @id
+  307 write *tmp153 bank1 .count
   308 op add .count .count 1
-    * write :saveLocation.1:value bank1 .count
+  309 write :findDrillLocation:best bank1 .count
   310 op add .count .count 1
-    * write :saveLocation.1:x bank1 .count
+  311 write :findDrillLocation:bestX bank1 .count
   312 op add .count .count 1
-    * write :saveLocation.1:y bank1 .count
+  313 write :findDrillLocation:bestY bank1 .count
   314 op add .locations .locations 1
   315 label *label90
   316 label *label88
 
   348 label *label97
   349 jump *label98 equal :shiftMask:shiftX 0
   350 op abs *tmp176 :shiftMask:shiftX
-    * op shr :shiftMask:keep 0b1111111 *tmp176
+  351 op shr :shiftMask:keep 0b1111111 *tmp161
   352 jump *label100 lessThanEq :shiftMask:shiftX 0
   353 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
   354 label *label100
 
   364 label *label99
   365 set :shiftMask*retval :shiftMask:mask
   366 jump *label91 always
-    * set :shiftMask*retval null
   367 label *label91
   368 return :shiftMask*retaddr
   369 end
   370 label *label14
   371 op add *tmp183 :excludeArea:areaWidth 7
-    * op add *tmp184 *tmp183 1
+  372 op add *tmp184 :excludeArea:areaWidth 8
   373 op idiv *tmp185 *tmp184 2
   374 op sub *tmp186 :excludeArea:maskX :excludeArea:areaX
   375 op abs *tmp187 *tmp186
   376 op sub :excludeArea:overlapX *tmp185 *tmp187
   377 op add *tmp189 :excludeArea:areaHeight 7
-    * op add *tmp190 *tmp189 1
+  378 op add *tmp190 :excludeArea:areaHeight 8
   379 op idiv *tmp191 *tmp190 2
   380 op sub *tmp192 :excludeArea:maskY :excludeArea:areaY
   381 op abs *tmp193 *tmp192
 
   388 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
   389 set :createMatrixOfSize:width :excludeArea:blockSizeX
   390 set :createMatrixOfSize:height :excludeArea:blockSizeY
-    * op shl *tmp201 1 :createMatrixOfSize:width
+  391 op shl *tmp201 1 :excludeArea:blockSizeX
   392 op sub :createMatrixOfSize:row *tmp201 1
   393 set :createMatrixOfSize:matrix :createMatrixOfSize:row
   394 set :createMatrixOfSize:i 1
   395 label *label108
   396 jump *label110 greaterThanEq :createMatrixOfSize:i 7
-    * jump *label111 lessThan :createMatrixOfSize:i :createMatrixOfSize:height
+  397 jump *label111 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
   398 jump *label110 always
   399 label *label111
   400 label *label112
 
   406 label *label110
   407 set *tmp200 :createMatrixOfSize:matrix
   408 jump *label107 always
-    * set *tmp200 null
   409 label *label107
-    * set :excludeArea:blocked *tmp200
+  410 set :excludeArea:blocked :createMatrixOfSize:matrix
   411 op lessThan *tmp207 :excludeArea:maskX :excludeArea:areaX
   412 op sub *tmp208 7 :excludeArea:blockSizeX
   413 op mul :excludeArea:shiftX *tmp207 *tmp208
   414 op lessThan *tmp210 :excludeArea:maskY :excludeArea:areaY
   415 op sub *tmp211 7 :excludeArea:blockSizeY
   416 op mul :excludeArea:shiftY *tmp210 *tmp211
-    * set :shiftMask:mask :excludeArea:blocked
+  417 set :shiftMask:mask *tmp200
   418 set :shiftMask:shiftX :excludeArea:shiftX
   419 set :shiftMask:shiftY :excludeArea:shiftY
   420 setaddr :shiftMask*retaddr *label113 (h:*label113)
   421 call *label13 *invalid :shiftMask*retval (m:*label113) (h:*label113)
   422 label *label113
   423 set :excludeArea:shifted :shiftMask*retval
-    * op or :excludeArea*retval :excludeArea:mask :excludeArea:shifted
+  424 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   425 jump *label102 always
-    * set *tmp197 null
   426 jump *label104 always
   427 label *label103
   428 set :excludeArea*retval :excludeArea:mask
   429 jump *label102 always
-    * set *tmp197 null
   430 label *label104
-    * set :excludeArea*retval *tmp197
+  431 set :excludeArea*retval null
   432 label *label102
   433 return :excludeArea*retaddr
   434 end
 
   471 label *label117
   472 set :findPossiblePlacement*retval -1
   473 jump *label114 always
-    * set :findPossiblePlacement*retval null
   474 label *label114
   475 return :findPossiblePlacement*retaddr
   476 end
 
   485 set :tryPlaceGenerator:c :findPossiblePlacement:x
   486 set :tryPlaceGenerator:r :findPossiblePlacement:y
   487 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label129 lessThan :tryPlaceGenerator:shift 0
-    * jump *label131 greaterThanEq :tryPlaceGenerator:shift 0
+  488 jump *label129 lessThan :findPossiblePlacement*retval 0
+  489 jump *label131 greaterThanEq :findPossiblePlacement*retval 0
   490 set :tryPlaceGenerator*retval false
   491 jump *label127 always
   492 label *label131
   493 label *label132
   494 op add *tmp234 :tryPlaceGenerator:centerX 0.5
-    * op add .water2X *tmp234 :tryPlaceGenerator:c
+  495 op add .water2X *tmp234 :findPossiblePlacement:x
   496 op add *tmp236 :tryPlaceGenerator:centerY 0.5
-    * op add .water2Y *tmp236 :tryPlaceGenerator:r
+  497 op add .water2Y *tmp236 :findPossiblePlacement:y
   498 op add *tmp238 :tryPlaceGenerator:centerX 0.5
-    * op add .generatorX *tmp238 :tryPlaceGenerator:c
+  499 op add .generatorX *tmp234 :findPossiblePlacement:x
   500 op add *tmp240 :tryPlaceGenerator:centerY 2.5
-    * op add .generatorY *tmp240 :tryPlaceGenerator:r
-    * op shl *tmp242 :tryPlaceGenerator:generatorVertical :tryPlaceGenerator:shift
+  501 op add .generatorY *tmp240 :findPossiblePlacement:y
+  502 op shl *tmp242 :tryPlaceGenerator:generatorVertical :findPossiblePlacement*retval
   503 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp242
   504 jump *label130 always
   505 label *label129
 
   513 set :tryPlaceGenerator:c :findPossiblePlacement:x
   514 set :tryPlaceGenerator:r :findPossiblePlacement:y
   515 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label134 greaterThanEq :tryPlaceGenerator:shift 0
+  516 jump *label134 greaterThanEq :findPossiblePlacement*retval 0
   517 set :tryPlaceGenerator*retval false
   518 jump *label127 always
   519 label *label134
   520 label *label135
   521 op add *tmp246 :tryPlaceGenerator:centerX 0.5
-    * op add .water2X *tmp246 :tryPlaceGenerator:c
+  522 op add .water2X *tmp246 :findPossiblePlacement:x
   523 op add *tmp248 :tryPlaceGenerator:centerY 0.5
-    * op add .water2Y *tmp248 :tryPlaceGenerator:r
+  524 op add .water2Y *tmp248 :findPossiblePlacement:y
   525 op add *tmp250 :tryPlaceGenerator:centerX 2.5
-    * op add .generatorX *tmp250 :tryPlaceGenerator:c
+  526 op add .generatorX *tmp250 :findPossiblePlacement:x
   527 op add *tmp252 :tryPlaceGenerator:centerY 0.5
-    * op add .generatorY *tmp252 :tryPlaceGenerator:r
-    * op shl *tmp254 :tryPlaceGenerator:generatorHorizontal :tryPlaceGenerator:shift
+  528 op add .generatorY *tmp248 :findPossiblePlacement:y
+  529 op shl *tmp254 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
   530 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp254
   531 label *label130
   532 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask 437639987601635
 
   540 set :tryPlaceGenerator:c :findPossiblePlacement:x
   541 set :tryPlaceGenerator:r :findPossiblePlacement:y
   542 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label137 greaterThanEq :tryPlaceGenerator:shift 0
+  543 jump *label137 greaterThanEq :findPossiblePlacement*retval 0
   544 set :tryPlaceGenerator*retval false
   545 jump *label127 always
   546 label *label137
   547 label *label138
-    * op add .panelX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * op add .panelY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * op shl *tmp260 1 :tryPlaceGenerator:shift
+  548 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  549 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  550 op shl *tmp260 1 :findPossiblePlacement*retval
   551 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp260
   552 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
   553 set :findPossiblePlacement:placementMask 1
 
   559 set :tryPlaceGenerator:c :findPossiblePlacement:x
   560 set :tryPlaceGenerator:r :findPossiblePlacement:y
   561 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label140 greaterThanEq :tryPlaceGenerator:shift 0
+  562 jump *label140 greaterThanEq :findPossiblePlacement*retval 0
   563 set :tryPlaceGenerator*retval false
   564 jump *label127 always
   565 label *label140
   566 label *label141
-    * op add .batteryX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * op add .batteryY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * op shl *tmp266 1 :tryPlaceGenerator:shift
+  567 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  568 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  569 op shl *tmp266 1 :findPossiblePlacement*retval
   570 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp266
   571 op sub *tmp267 .water2X .node1X
   572 op sub *tmp268 .water2Y .node1Y
 
   598 set :tryPlaceGenerator:c :findPossiblePlacement:x
   599 set :tryPlaceGenerator:r :findPossiblePlacement:y
   600 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label149 greaterThanEq :tryPlaceGenerator:shift 0
+  601 jump *label149 greaterThanEq :findPossiblePlacement*retval 0
   602 set :tryPlaceGenerator*retval false
   603 jump *label127 always
   604 label *label149
   605 label *label150
-    * op add .node2X :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * op add .node2Y :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * op shl *tmp289 1 :tryPlaceGenerator:shift
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp289
+  606 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  607 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  608 op shl *tmp289 1 :findPossiblePlacement*retval
   609 label *label142
   610 label *label143
   611 set :tryPlaceGenerator*retval true
   612 jump *label127 always
-    * set :tryPlaceGenerator*retval null
   613 label *label127
   614 return :tryPlaceGenerator*retaddr
   615 end
 
   628 label *label154
   629 set :createBlockMaskRow*retval :createBlockMaskRow:result
   630 jump *label151 always
-    * set :createBlockMaskRow*retval null
   631 label *label151
   632 return :createBlockMaskRow*retaddr
   633 end
 
   640 set :createAdjacentMask:x :createCombinedMask:x
   641 set :createAdjacentMask:y :createCombinedMask:y
   642 set :createAdjacentMask:result 0
-    * op add *tmp300 :createAdjacentMask:y 4
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  643 op add *tmp300 :createCombinedMask:y 4
+  644 set :createBlockMaskRow:x :createCombinedMask:x
   645 set :createBlockMaskRow:y *tmp300
   646 setaddr :createBlockMaskRow*retaddr *label157 (h:*label157)
   647 call *label17 *invalid :createBlockMaskRow*retval (m:*label157) (h:*label157)
 
   668 op or *tmp307 :createAdjacentMask:row2 *tmp306
   669 op shr *tmp308 :createAdjacentMask:row1 1
   670 op or *tmp309 *tmp307 *tmp308
-    * op or :createAdjacentMask:mask *tmp309 :createAdjacentMask:row0
+  671 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
   672 op shl *tmp311 :createAdjacentMask:result 7
   673 op and *tmp312 :createAdjacentMask:mask 0xFE
   674 op or :createAdjacentMask:result *tmp311 *tmp312
   675 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createAdjacentMask:row0
+  676 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   677 label *label160
   678 op sub :createAdjacentMask:r :createAdjacentMask:r 1
   679 jump *label159 always
 
   686 read *tmp315 processor4 ":createTerrainMask*finished"
   687 jump *label163 equal *tmp315 false
   688 read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
-    * op or :excludeArea:mask :createCombinedMask:adjacentMask :createCombinedMask:terrainMask
+  689 op or :excludeArea:mask *tmp299 :createCombinedMask:terrainMask
   690 set :excludeArea:maskX :createCombinedMask:x
   691 set :excludeArea:maskY :createCombinedMask:y
   692 set :excludeArea:areaX .coreX
 
   698 label *label164
   699 set :createCombinedMask*retval :excludeArea*retval
   700 jump *label155 always
-    * set :createCombinedMask*retval null
   701 label *label155
   702 return :createCombinedMask*retaddr
   703 end
 
   714 set :moveTo.5:y .drillY
   715 set :moveTo.5:radius 1
   716 label *label167
-    * ucontrol within :moveTo.5:x :moveTo.5:y :moveTo.5:radius *tmp318
+  717 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp318
   718 jump *label169 notEqual *tmp318 false
-    * op sub *tmp320 :moveTo.5:radius 0.5
-    * ucontrol approach :moveTo.5:x :moveTo.5:y *tmp320
+  719 op sub *tmp320 1 0.5
+  720 ucontrol approach :moveTo.5:x :moveTo.5:y 0.5
   721 label *label168
   722 jump *label167 always
   723 label *label169
 
   728 call *label18 *invalid :createCombinedMask*retval (m:*label170) (h:*label170)
   729 label *label170
   730 set :layoutThoriumDrillAtLocation:plainTerrainMask :createCombinedMask*retval
-    * op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:plainTerrainMask 7575371776
+  731 op or :layoutThoriumDrillAtLocation:terrainMask :createCombinedMask*retval 7575371776
   732 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   733 set :layoutThoriumDrillAtLocation:mask2x2 387
   734 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
-    * set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
+  735 set :findPossiblePlacement:placementMask 387
   736 set :findPossiblePlacement:width 2
   737 set :findPossiblePlacement:height 2
   738 setaddr :findPossiblePlacement*retaddr *label171 (h:*label171)
 
   741 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   742 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   743 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * jump *label172 lessThan :layoutThoriumDrillAtLocation:shift 0
+  744 jump *label172 lessThan :findPossiblePlacement*retval 0
   745 op add *tmp327 .drillX 0.5
-    * op add .water1X *tmp327 :layoutThoriumDrillAtLocation:c
+  746 op add .water1X *tmp327 :findPossiblePlacement:x
   747 op add *tmp329 .drillY 0.5
-    * op add .water1Y *tmp329 :layoutThoriumDrillAtLocation:r
-    * op shl *tmp331 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
+  748 op add .water1Y *tmp329 :findPossiblePlacement:y
+  749 op shl *tmp331 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   750 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp331
-    * op shl *tmp332 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
-    * op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp332
+  751 op shl *tmp332 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
+  752 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp331
   753 label *label172
   754 label *label173
   755 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
 
   762 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   763 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   764 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * jump *label175 lessThan :layoutThoriumDrillAtLocation:shift 0
+  765 jump *label175 lessThan :findPossiblePlacement*retval 0
   766 op add *tmp336 .drillX 0.5
-    * op add .containerX *tmp336 :layoutThoriumDrillAtLocation:c
+  767 op add .containerX *tmp336 :findPossiblePlacement:x
   768 op add *tmp338 .drillY 0.5
-    * op add .containerY *tmp338 :layoutThoriumDrillAtLocation:r
-    * op shl *tmp340 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
+  769 op add .containerY *tmp338 :findPossiblePlacement:y
+  770 op shl *tmp340 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   771 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp340
   772 label *label175
   773 label *label176
 
   782 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   783 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   784 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * jump *label178 greaterThanEq :layoutThoriumDrillAtLocation:shift 0
+  785 jump *label178 greaterThanEq :findPossiblePlacement*retval 0
   786 set :layoutThoriumDrillAtLocation*retval false
   787 jump *label165 always
   788 label *label178
   789 label *label179
-    * op add .node1X .drillX :layoutThoriumDrillAtLocation:c
-    * op add .node1Y .drillY :layoutThoriumDrillAtLocation:r
-    * op shl *tmp347 1 :layoutThoriumDrillAtLocation:shift
+  790 op add .node1X .drillX :findPossiblePlacement:x
+  791 op add .node1Y .drillY :findPossiblePlacement:y
+  792 op shl *tmp347 1 :findPossiblePlacement*retval
   793 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp347
   794 set :layoutThoriumDrillAtLocation:generatorHorizontal 1935
   795 set :layoutThoriumDrillAtLocation:generatorVertical 6340995
   796 set :tryPlaceGenerator:centerX .drillX
   797 set :tryPlaceGenerator:centerY .drillY
   798 set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:terrainMask
-    * set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDrillAtLocation:generatorHorizontal
-    * set :tryPlaceGenerator:generatorVertical :layoutThoriumDrillAtLocation:generatorVertical
+  799 set :tryPlaceGenerator:generatorHorizontal 1935
+  800 set :tryPlaceGenerator:generatorVertical 6340995
   801 setaddr :tryPlaceGenerator*retaddr *label182 (h:*label182)
   802 call *label16 *invalid :tryPlaceGenerator*retval (m:*label182) (h:*label182)
   803 label *label182
 
   840 call *label13 *invalid :shiftMask*retval (m:*label191) (h:*label191)
   841 label *label191
   842 set :layoutThoriumDrillAtLocation:shiftedMask :shiftMask*retval
-    * op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :layoutThoriumDrillAtLocation:shiftedMask
+  843 op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :shiftMask*retval
   844 op sub *tmp356 .drillX :layoutThoriumDrillAtLocation:sx
   845 op sub *tmp357 .drillY :layoutThoriumDrillAtLocation:sy
   846 set :tryPlaceGenerator:centerX *tmp356
 
   862 label *label185
   863 set :layoutThoriumDrillAtLocation*retval true
   864 jump *label165 always
-    * set :layoutThoriumDrillAtLocation*retval null
   865 label *label165
   866 return :layoutThoriumDrillAtLocation*retaddr
   867 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-70 instructions):
 
    35 set .mapProgress 0
    36 set :moveTo:x :findDrillLocation:x
    37 set :moveTo:y :findDrillLocation:y
-    * set *tmp16 .coreX
-    * set *tmp17 .coreY
-    * set :moveTo.1:x :moveTo:x
-    * set :moveTo.1:y :moveTo:y
-    * set :moveTo.1:radius 6
+   38 set *tmp16 :findDrillLocation:x
+   39 set *tmp17 :findDrillLocation:y
+   40 set :moveTo.1:x :findDrillLocation:x
+   41 set :moveTo.1:y :findDrillLocation:y
    42 label *label26
-    * ucontrol within *tmp16 *tmp17 6 *tmp18
+   43 ucontrol within .coreX .coreY 6 *tmp18
    44 jump *label28 notEqual *tmp18 false
-    * op sub *tmp20 6 0.5
-    * ucontrol approach *tmp16 *tmp17 5.5
+   45 ucontrol approach .coreX .coreY 5.5
    46 label *label27
    47 jump *label26 always
    48 label *label28
 
    61 op min :findDrillLocation:distanceLimit :findDrillLocation:distanceLimit :findDrillLocation:maxDistance
    62 op div *tmp26 :findDrillLocation:distanceLimit 3.8197185279121366
    63 op pow .mapTotal *tmp26 2
-    * set :locateOreAway:ore :findDrillLocation:item
    64 set :locateOreAway:x :findDrillLocation:oreX
    65 set :locateOreAway:y :findDrillLocation:oreY
-    * set :locateOreAway:distanceLimit :findDrillLocation:distanceLimit
    66 op mul :locateOreAway:distance 3.8197185279121366 .angle
    67 set :locateOreAway:lastX -1
    68 set :locateOreAway:lastY -1
 
    75 op mul *tmp35 *tmp34 :locateOreAway:distance
    76 op add *tmp36 :findDrillLocation:x *tmp35
    77 op sub *tmp37 @mapw 5
-    * set :limit:value *tmp36
-    * set :limit:low 5
-    * set :limit:high *tmp37
    78 op max *tmp39 *tmp36 5
    79 op min *tmp38 *tmp39 *tmp37
    80 label *label38
 
    83 op mul *tmp42 *tmp41 :locateOreAway:distance
    84 op add *tmp43 :findDrillLocation:y *tmp42
    85 op sub *tmp44 @maph 5
-    * set :limit.1:value *tmp43
-    * set :limit.1:low 5
-    * set :limit.1:high *tmp44
    86 op max *tmp46 *tmp43 5
    87 op min *tmp45 *tmp46 *tmp44
    88 label *label39
    89 set :locateOreAway:ly *tmp45
-    * set :moveTo.2:x *tmp38
-    * set :moveTo.2:y *tmp45
-    * set :moveTo.2:radius 5
    90 label *label41
-    * ucontrol within :locateOreAway:lx :locateOreAway:ly 5 *tmp48
+   91 ucontrol within *tmp38 *tmp45 5 *tmp48
    92 jump *label43 notEqual *tmp48 false
-    * op sub *tmp50 5 0.5
-    * ucontrol approach :locateOreAway:lx :locateOreAway:ly 4.5
+   93 ucontrol approach *tmp38 *tmp45 4.5
    94 label *label42
    95 jump *label41 always
    96 label *label43
 
   124 jump *label52 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
   125 set :locateOreAway:lastX :locateOreAway:x
   126 set :locateOreAway:lastY :locateOreAway:y
-    * set :visited:x :locateOreAway:x
-    * set :visited:y :locateOreAway:y
   127 set *tmp75 .locations
   128 set :visited:i .locationsStart
   129 label *label57
 
   181 label *label63
   182 set :moveTo.3:x :locateOreAway:x
   183 set :moveTo.3:y :locateOreAway:y
-    * set *tmp98 :findDrillLocation:oreX
-    * set *tmp99 :findDrillLocation:oreY
-    * set :moveTo.4:x :moveTo.3:x
-    * set :moveTo.4:y :moveTo.3:y
-    * set :moveTo.4:radius 6
+  184 set *tmp98 :locateOreAway:x
+  185 set *tmp99 :locateOreAway:y
+  186 set :moveTo.4:x :locateOreAway:x
+  187 set :moveTo.4:y :locateOreAway:y
   188 label *label66
-    * ucontrol within *tmp98 *tmp99 6 *tmp100
+  189 ucontrol within :findDrillLocation:oreX :findDrillLocation:oreY 6 *tmp100
   190 jump *label68 notEqual *tmp100 false
-    * op sub *tmp102 6 0.5
-    * ucontrol approach *tmp98 *tmp99 5.5
+  191 ucontrol approach :findDrillLocation:oreX :findDrillLocation:oreY 5.5
   192 label *label67
   193 jump *label66 always
   194 label *label68
 
   230 label *label77
   231 label *label78
   232 jump *label79 lessThan :findDrillLocation:capacity :findDrillLocation:limit
-    * set :saveLocation:item :findDrillLocation:item
-    * set :saveLocation:value :findDrillLocation:score
-    * set :saveLocation:x :findDrillLocation:dx
-    * set :saveLocation:y :findDrillLocation:dy
   233 op add .count .count 1
-    * set *tmp127 .count
   234 sensor *tmp129 :findDrillLocation:item @id
   235 write *tmp129 bank1 .count
   236 op add .count .count 1
 
   274 jump *label69 always
   275 label *label71
   276 jump *label88 lessThan :findDrillLocation:best 0
-    * set :saveLocation.1:item :findDrillLocation:item
-    * set :saveLocation.1:value :findDrillLocation:best
-    * set :saveLocation.1:x :findDrillLocation:bestX
-    * set :saveLocation.1:y :findDrillLocation:bestY
   277 op add .count .count 1
-    * set *tmp151 .count
   278 sensor *tmp153 :findDrillLocation:item @id
   279 write *tmp153 bank1 .count
   280 op add .count .count 1
 
   319 op shr :shiftMask:mask :shiftMask:mask *tmp173
   320 label *label97
   321 jump *label98 equal :shiftMask:shiftX 0
-    * op abs *tmp176 :shiftMask:shiftX
   322 op shr :shiftMask:keep 0b1111111 *tmp161
   323 jump *label100 lessThanEq :shiftMask:shiftX 0
   324 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
 
   339 return :shiftMask*retaddr
   340 end
   341 label *label14
-    * op add *tmp183 :excludeArea:areaWidth 7
   342 op add *tmp184 :excludeArea:areaWidth 8
   343 op idiv *tmp185 *tmp184 2
   344 op sub *tmp186 :excludeArea:maskX :excludeArea:areaX
   345 op abs *tmp187 *tmp186
   346 op sub :excludeArea:overlapX *tmp185 *tmp187
-    * op add *tmp189 :excludeArea:areaHeight 7
   347 op add *tmp190 :excludeArea:areaHeight 8
   348 op idiv *tmp191 *tmp190 2
   349 op sub *tmp192 :excludeArea:maskY :excludeArea:areaY
 
   355 label *label105
   356 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
   357 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
-    * set :createMatrixOfSize:width :excludeArea:blockSizeX
-    * set :createMatrixOfSize:height :excludeArea:blockSizeY
   358 op shl *tmp201 1 :excludeArea:blockSizeX
   359 op sub :createMatrixOfSize:row *tmp201 1
   360 set :createMatrixOfSize:matrix :createMatrixOfSize:row
 
   374 set *tmp200 :createMatrixOfSize:matrix
   375 jump *label107 always
   376 label *label107
-    * set :excludeArea:blocked :createMatrixOfSize:matrix
   377 op lessThan *tmp207 :excludeArea:maskX :excludeArea:areaX
   378 op sub *tmp208 7 :excludeArea:blockSizeX
   379 op mul :excludeArea:shiftX *tmp207 *tmp208
   380 op lessThan *tmp210 :excludeArea:maskY :excludeArea:areaY
   381 op sub *tmp211 7 :excludeArea:blockSizeY
   382 op mul :excludeArea:shiftY *tmp210 *tmp211
-    * set :shiftMask:mask *tmp200
+  383 set :shiftMask:mask :createMatrixOfSize:matrix
   384 set :shiftMask:shiftX :excludeArea:shiftX
   385 set :shiftMask:shiftY :excludeArea:shiftY
   386 setaddr :shiftMask*retaddr *label113 (h:*label113)
   387 call *label13 *invalid :shiftMask*retval (m:*label113) (h:*label113)
   388 label *label113
-    * set :excludeArea:shifted :shiftMask*retval
   389 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   390 jump *label102 always
   391 jump *label104 always
 
   393 set :excludeArea*retval :excludeArea:mask
   394 jump *label102 always
   395 label *label104
-    * set :excludeArea*retval null
   396 label *label102
   397 return :excludeArea*retaddr
   398 end
 
   446 setaddr :findPossiblePlacement*retaddr *label128 (h:*label128)
   447 call *label15 *invalid :findPossiblePlacement*retval (m:*label128) (h:*label128)
   448 label *label128
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   449 jump *label129 lessThan :findPossiblePlacement*retval 0
   450 jump *label131 greaterThanEq :findPossiblePlacement*retval 0
   451 set :tryPlaceGenerator*retval false
 
   456 op add .water2X *tmp234 :findPossiblePlacement:x
   457 op add *tmp236 :tryPlaceGenerator:centerY 0.5
   458 op add .water2Y *tmp236 :findPossiblePlacement:y
-    * op add *tmp238 :tryPlaceGenerator:centerX 0.5
   459 op add .generatorX *tmp234 :findPossiblePlacement:x
   460 op add *tmp240 :tryPlaceGenerator:centerY 2.5
   461 op add .generatorY *tmp240 :findPossiblePlacement:y
 
   470 setaddr :findPossiblePlacement*retaddr *label133 (h:*label133)
   471 call *label15 *invalid :findPossiblePlacement*retval (m:*label133) (h:*label133)
   472 label *label133
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   473 jump *label134 greaterThanEq :findPossiblePlacement*retval 0
   474 set :tryPlaceGenerator*retval false
   475 jump *label127 always
 
   481 op add .water2Y *tmp248 :findPossiblePlacement:y
   482 op add *tmp250 :tryPlaceGenerator:centerX 2.5
   483 op add .generatorX *tmp250 :findPossiblePlacement:x
-    * op add *tmp252 :tryPlaceGenerator:centerY 0.5
   484 op add .generatorY *tmp248 :findPossiblePlacement:y
   485 op shl *tmp254 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
   486 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp254
 
   493 setaddr :findPossiblePlacement*retaddr *label136 (h:*label136)
   494 call *label15 *invalid :findPossiblePlacement*retval (m:*label136) (h:*label136)
   495 label *label136
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   496 jump *label137 greaterThanEq :findPossiblePlacement*retval 0
   497 set :tryPlaceGenerator*retval false
   498 jump *label127 always
 
   509 setaddr :findPossiblePlacement*retaddr *label139 (h:*label139)
   510 call *label15 *invalid :findPossiblePlacement*retval (m:*label139) (h:*label139)
   511 label *label139
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   512 jump *label140 greaterThanEq :findPossiblePlacement*retval 0
   513 set :tryPlaceGenerator*retval false
   514 jump *label127 always
 
   545 setaddr :findPossiblePlacement*retaddr *label148 (h:*label148)
   546 call *label15 *invalid :findPossiblePlacement*retval (m:*label148) (h:*label148)
   547 label *label148
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   548 jump *label149 greaterThanEq :findPossiblePlacement*retval 0
   549 set :tryPlaceGenerator*retval false
   550 jump *label127 always
 
   552 label *label150
   553 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
   554 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
-    * op shl *tmp289 1 :findPossiblePlacement*retval
   555 label *label142
   556 label *label143
   557 set :tryPlaceGenerator*retval true
 
   609 setaddr :createBlockMaskRow*retaddr *label162 (h:*label162)
   610 call *label17 *invalid :createBlockMaskRow*retval (m:*label162) (h:*label162)
   611 label *label162
-    * set :createAdjacentMask:row0 :createBlockMaskRow*retval
   612 op shl *tmp306 :createAdjacentMask:row1 1
   613 op or *tmp307 :createAdjacentMask:row2 *tmp306
   614 op shr *tmp308 :createAdjacentMask:row1 1
 
   625 label *label161
   626 op shr *tmp299 :createAdjacentMask:result 1
   627 label *label156
-    * set :createCombinedMask:adjacentMask *tmp299
   628 label *label163
   629 wait 1e-15
   630 read *tmp315 processor4 ":createTerrainMask*finished"
 
   656 set .water1X -1
   657 set :moveTo.5:x .drillX
   658 set :moveTo.5:y .drillY
-    * set :moveTo.5:radius 1
   659 label *label167
   660 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp318
   661 jump *label169 notEqual *tmp318 false
-    * op sub *tmp320 1 0.5
   662 ucontrol approach :moveTo.5:x :moveTo.5:y 0.5
   663 label *label168
   664 jump *label167 always
 
   669 setaddr :createCombinedMask*retaddr *label170 (h:*label170)
   670 call *label18 *invalid :createCombinedMask*retval (m:*label170) (h:*label170)
   671 label *label170
-    * set :layoutThoriumDrillAtLocation:plainTerrainMask :createCombinedMask*retval
   672 op or :layoutThoriumDrillAtLocation:terrainMask :createCombinedMask*retval 7575371776
   673 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   674 set :layoutThoriumDrillAtLocation:mask2x2 387
 
   679 setaddr :findPossiblePlacement*retaddr *label171 (h:*label171)
   680 call *label15 *invalid :findPossiblePlacement*retval (m:*label171) (h:*label171)
   681 label *label171
-    * set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
-    * set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   682 jump *label172 lessThan :findPossiblePlacement*retval 0
   683 op add *tmp327 .drillX 0.5
   684 op add .water1X *tmp327 :findPossiblePlacement:x
 
   686 op add .water1Y *tmp329 :findPossiblePlacement:y
   687 op shl *tmp331 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   688 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp331
-    * op shl *tmp332 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   689 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp331
   690 label *label172
   691 label *label173
 
   696 setaddr :findPossiblePlacement*retaddr *label174 (h:*label174)
   697 call *label15 *invalid :findPossiblePlacement*retval (m:*label174) (h:*label174)
   698 label *label174
-    * set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
-    * set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   699 jump *label175 lessThan :findPossiblePlacement*retval 0
   700 op add *tmp336 .drillX 0.5
   701 op add .containerX *tmp336 :findPossiblePlacement:x
 
   713 setaddr :findPossiblePlacement*retaddr *label177 (h:*label177)
   714 call *label15 *invalid :findPossiblePlacement*retval (m:*label177) (h:*label177)
   715 label *label177
-    * set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
-    * set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   716 jump *label178 greaterThanEq :findPossiblePlacement*retval 0
   717 set :layoutThoriumDrillAtLocation*retval false
   718 jump *label165 always
 
   770 setaddr :shiftMask*retaddr *label191 (h:*label191)
   771 call *label13 *invalid :shiftMask*retval (m:*label191) (h:*label191)
   772 label *label191
-    * set :layoutThoriumDrillAtLocation:shiftedMask :shiftMask*retval
   773 op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :shiftMask*retval
   774 op sub *tmp356 .drillX :layoutThoriumDrillAtLocation:sx
   775 op sub *tmp357 .drillY :layoutThoriumDrillAtLocation:sy

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-15 instructions):
 
    33 set :findDrillLocation:distanceLimit *tmp15
    34 set .angle 0
    35 set .mapProgress 0
-    * set :moveTo:x :findDrillLocation:x
-    * set :moveTo:y :findDrillLocation:y
-    * set *tmp16 :findDrillLocation:x
-    * set *tmp17 :findDrillLocation:y
-    * set :moveTo.1:x :findDrillLocation:x
-    * set :moveTo.1:y :findDrillLocation:y
    36 label *label26
-    * ucontrol within .coreX .coreY 6 *tmp18
+   37 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
    38 jump *label28 notEqual *tmp18 false
-    * ucontrol approach .coreX .coreY 5.5
+   39 ucontrol approach :findDrillLocation:x :findDrillLocation:y 5.5
    40 label *label27
    41 jump *label26 always
    42 label *label28
 
    72 op max *tmp39 *tmp36 5
    73 op min *tmp38 *tmp39 *tmp37
    74 label *label38
-    * set :locateOreAway:lx *tmp38
    75 op cos *tmp41 :locateOreAway:a
    76 op mul *tmp42 *tmp41 :locateOreAway:distance
    77 op add *tmp43 :findDrillLocation:y *tmp42
 
    79 op max *tmp46 *tmp43 5
    80 op min *tmp45 *tmp46 *tmp44
    81 label *label39
-    * set :locateOreAway:ly *tmp45
    82 label *label41
    83 ucontrol within *tmp38 *tmp45 5 *tmp48
    84 jump *label43 notEqual *tmp48 false
 
   171 op add .mapSpots .mapSpots 1
   172 label *label62
   173 label *label63
-    * set :moveTo.3:x :locateOreAway:x
-    * set :moveTo.3:y :locateOreAway:y
-    * set *tmp98 :locateOreAway:x
-    * set *tmp99 :locateOreAway:y
-    * set :moveTo.4:x :locateOreAway:x
-    * set :moveTo.4:y :locateOreAway:y
   174 label *label66
-    * ucontrol within :findDrillLocation:oreX :findDrillLocation:oreY 6 *tmp100
+  175 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp100
   176 jump *label68 notEqual *tmp100 false
-    * ucontrol approach :findDrillLocation:oreX :findDrillLocation:oreY 5.5
+  177 ucontrol approach :locateOreAway:x :locateOreAway:y 5.5
   178 label *label67
   179 jump *label66 always
   180 label *label68
 
   357 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
   358 jump *label108 always
   359 label *label110
-    * set *tmp200 :createMatrixOfSize:matrix
   360 jump *label107 always
   361 label *label107
   362 op lessThan *tmp207 :excludeArea:maskX :excludeArea:areaX

Modifications by Iterated phase, Loop Hoisting, pass 1, iteration 1:
 
    62 set :locateOreAway:lastY -1
    63 op max .angle .angle @pi
    64 op mul .mapProgress .angle .angle
+   65 op sub *tmp37 @mapw 5
+   66 op sub *tmp44 @maph 5
    67 label *label35
    68 jump *label37 greaterThanEq :locateOreAway:distance :findDrillLocation:distanceLimit
    69 op div :locateOreAway:a .angle @degToRad
    70 op sin *tmp34 :locateOreAway:a
    71 op mul *tmp35 *tmp34 :locateOreAway:distance
    72 op add *tmp36 :findDrillLocation:x *tmp35
-    * op sub *tmp37 @mapw 5
    73 op max *tmp39 *tmp36 5
    74 op min *tmp38 *tmp39 *tmp37
    75 label *label38
    76 op cos *tmp41 :locateOreAway:a
    77 op mul *tmp42 *tmp41 :locateOreAway:distance
    78 op add *tmp43 :findDrillLocation:y *tmp42
-    * op sub *tmp44 @maph 5
    79 op max *tmp46 *tmp43 5
    80 op min *tmp45 *tmp46 *tmp44
    81 label *label39

Modifications by Iterated phase, Loop Rotation, pass 1, iteration 1 (-3 instructions):
 
    66 op sub *tmp44 @maph 5
    67 label *label35
    68 jump *label37 greaterThanEq :locateOreAway:distance :findDrillLocation:distanceLimit
+   69 label *label205
    70 op div :locateOreAway:a .angle @degToRad
    71 op sin *tmp34 :locateOreAway:a
    72 op mul *tmp35 *tmp34 :locateOreAway:distance
 
   121 set :visited:i .locationsStart
   122 label *label57
   123 jump *label59 greaterThanEq :visited:i *tmp75
+  124 label *label206
   125 op mul :visited:index 4 :visited:i
   126 op add *tmp78 :visited:index 2
   127 read :visited:lx bank1 *tmp78
 
   137 label *label61
   138 label *label58
   139 op add :visited:i :visited:i 1
-    * jump *label57 always
+  140 jump *label206 lessThan :visited:i *tmp75
   141 label *label59
   142 set *tmp74 false
   143 jump *label56 always
 
   156 label *label50
   157 label *label51
   158 label *label36
-    * jump *label35 always
+  159 jump *label205 lessThan :locateOreAway:distance :findDrillLocation:distanceLimit
   160 label *label37
   161 set *tmp28 false
   162 jump *label34 always
 
   348 set :createMatrixOfSize:matrix :createMatrixOfSize:row
   349 set :createMatrixOfSize:i 1
   350 label *label108
-    * jump *label110 greaterThanEq :createMatrixOfSize:i 7
+  351 label *label207
   352 jump *label111 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
   353 jump *label110 always
   354 label *label111
 
   357 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   358 label *label109
   359 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label108 always
+  360 jump *label207 lessThan :createMatrixOfSize:i 7
   361 label *label110
   362 jump *label107 always
   363 label *label107
 
   387 set :findPossiblePlacement:y -3
   388 label *label115
   389 jump *label117 greaterThan :findPossiblePlacement:y 3
+  390 label *label208
   391 op add *tmp214 :findPossiblePlacement:y 3
   392 op mul *tmp215 7 *tmp214
   393 op shl :findPossiblePlacement:mask :findPossiblePlacement:placementMask *tmp215
   394 set :findPossiblePlacement:x -3
   395 label *label118
   396 jump *label120 greaterThan :findPossiblePlacement:x 3
+  397 label *label209
   398 op and *tmp217 :findPossiblePlacement:terrainMask :findPossiblePlacement:mask
   399 jump *label121 notEqual *tmp217 0
   400 op mul *tmp220 :findPossiblePlacement:y 7
 
   411 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
   412 label *label119
   413 op add :findPossiblePlacement:x :findPossiblePlacement:x 1
-    * jump *label118 always
+  414 jump *label209 lessThanEq :findPossiblePlacement:x 3
   415 label *label120
   416 op sub *tmp226 3 :findPossiblePlacement:height
   417 jump *label125 lessThanEq :findPossiblePlacement:y *tmp226
 
   420 label *label126
   421 label *label116
   422 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
-    * jump *label115 always
+  423 jump *label208 lessThanEq :findPossiblePlacement:y 3
   424 label *label117
   425 set :findPossiblePlacement*retval -1
   426 jump *label114 always
 
   552 set :createBlockMaskRow:result 0
   553 set :createBlockMaskRow:c 4
   554 label *label152
-    * jump *label154 lessThan :createBlockMaskRow:c -4
+  555 label *label210
   556 op shl *tmp290 :createBlockMaskRow:result 1
   557 op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
   558 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   559 op or :createBlockMaskRow:result *tmp290 *tmp292
   560 label *label153
   561 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label152 always
+  562 jump *label210 greaterThanEq :createBlockMaskRow:c -4
   563 label *label154
   564 set :createBlockMaskRow*retval :createBlockMaskRow:result
   565 jump *label151 always
 
   591 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   592 set :createAdjacentMask:r 2
   593 label *label159
-    * jump *label161 lessThan :createAdjacentMask:r -4
+  594 label *label211
   595 op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
   596 set :createBlockMaskRow:x :createAdjacentMask:x
   597 set :createBlockMaskRow:y *tmp304
 
   610 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   611 label *label160
   612 op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * jump *label159 always
+  613 jump *label211 greaterThanEq :createAdjacentMask:r -4
   614 label *label161
   615 op shr *tmp299 :createAdjacentMask:result 1
   616 label *label156

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 1 (-1 instructions):
 
   213 set :findDrillLocation:dx :findDrillLocation:newX
   214 set :findDrillLocation:dy :findDrillLocation:newY
   215 set :findDrillLocation:capacity :findDrillLocation:score
-    * jump *label77 greaterThanEq :findDrillLocation:limit 1000
-    * set .mapSpots :findDrillLocation:score
-    * label *label77
-    * label *label78
+  216 select .mapSpots lessThan :findDrillLocation:limit 1000 :findDrillLocation:score .mapSpots
   217 jump *label79 lessThan :findDrillLocation:capacity :findDrillLocation:limit
   218 op add .count .count 1
   219 sensor *tmp129 :findDrillLocation:item @id
 
   284 label *label13
   285 op abs *tmp161 :shiftMask:shiftX
   286 jump *label94 greaterThan *tmp161 6
-    * label *label95
   287 op abs *tmp163 :shiftMask:shiftY
   288 jump *label92 lessThanEq *tmp163 6
   289 label *label94
 
   334 op abs *tmp193 *tmp192
   335 op sub :excludeArea:overlapY *tmp191 *tmp193
   336 jump *label103 lessThanEq :excludeArea:overlapX 0
-    * label *label106
   337 jump *label103 lessThanEq :excludeArea:overlapY 0
-    * label *label105
   338 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
   339 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
   340 op shl *tmp201 1 :excludeArea:blockSizeX
 
   505 op sub *tmp268 .water2Y .node1Y
   506 op len *tmp269 *tmp267 *tmp268
   507 jump *label144 greaterThan *tmp269 7
-    * label *label147
   508 op sub *tmp271 .generatorX .node1X
   509 op sub *tmp272 .generatorY .node1Y
   510 op len *tmp273 *tmp271 *tmp272
   511 jump *label144 greaterThan *tmp273 7
-    * label *label146
   512 op sub *tmp275 .panelX .node1X
   513 op sub *tmp276 .panelY .node1Y
   514 op len *tmp277 *tmp275 *tmp276
   515 jump *label144 greaterThan *tmp277 6
-    * label *label145
   516 op sub *tmp279 .batteryX .node1X
   517 op sub *tmp280 .batteryY .node1Y
   518 op len *tmp281 *tmp279 *tmp280

Modifications by Partial loop rotation at OreLocator.mnd:43:5 (+1 instructions):
 
    83 label *label41
    84 ucontrol within *tmp38 *tmp45 5 *tmp48
    85 jump *label43 notEqual *tmp48 false
+   86 label *label212
    87 ucontrol approach *tmp38 *tmp45 4.5
    88 label *label42
-    * jump *label41 always
+   89 ucontrol within *tmp38 *tmp45 5 *tmp48
+   90 jump *label212 equal *tmp48 false
    91 label *label43
    92 label *label40
    93 op div *tmp51 3.8197185279121366 :locateOreAway:distance

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   122 set *tmp75 .locations
   123 set :visited:i .locationsStart
   124 label *label57
-    * jump *label59 greaterThanEq :visited:i *tmp75
+  125 jump *label59 greaterThanEq .locationsStart *tmp75
   126 label *label206
   127 op mul :visited:index 4 :visited:i
   128 op add *tmp78 :visited:index 2

Modifications by Unroll loop at OreLocator.mnd:477:5 (+39 instructions):
 
   543 end
   544 label *label17
   545 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label152
-    * label *label210
-    * op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label153
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label210 greaterThanEq :createBlockMaskRow:c -4
-    * label *label154
+  546 set :createBlockMaskRow:c 4
+  547 label *label213
+  548 label *label214
+  549 op shl *tmp290 :createBlockMaskRow:result 1
+  550 op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  551 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  552 op or :createBlockMaskRow:result *tmp290 *tmp292
+  553 label *label215
+  554 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  555 op shl *tmp290 :createBlockMaskRow:result 1
+  556 op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  557 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  558 op or :createBlockMaskRow:result *tmp290 *tmp292
+  559 label *label216
+  560 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  561 op shl *tmp290 :createBlockMaskRow:result 1
+  562 op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  563 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  564 op or :createBlockMaskRow:result *tmp290 *tmp292
+  565 label *label217
+  566 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  567 op shl *tmp290 :createBlockMaskRow:result 1
+  568 op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  569 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  570 op or :createBlockMaskRow:result *tmp290 *tmp292
+  571 label *label218
+  572 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  573 op shl *tmp290 :createBlockMaskRow:result 1
+  574 op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  575 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  576 op or :createBlockMaskRow:result *tmp290 *tmp292
+  577 label *label219
+  578 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  579 op shl *tmp290 :createBlockMaskRow:result 1
+  580 op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  581 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  582 op or :createBlockMaskRow:result *tmp290 *tmp292
+  583 label *label220
+  584 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  585 op shl *tmp290 :createBlockMaskRow:result 1
+  586 op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  587 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  588 op or :createBlockMaskRow:result *tmp290 *tmp292
+  589 label *label221
+  590 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  591 op shl *tmp290 :createBlockMaskRow:result 1
+  592 op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  593 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  594 op or :createBlockMaskRow:result *tmp290 *tmp292
+  595 label *label222
+  596 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  597 op shl *tmp290 :createBlockMaskRow:result 1
+  598 op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  599 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  600 op or :createBlockMaskRow:result *tmp290 *tmp292
+  601 label *label223
+  602 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  603 label *label154
   604 set :createBlockMaskRow*retval :createBlockMaskRow:result
   605 jump *label151 always
   606 label *label151

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   546 set :createBlockMaskRow:c 4
   547 label *label213
   548 label *label214
-    * op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  549 op shl *tmp290 0 1
+  550 op add *tmp291 :createBlockMaskRow:x 4
   551 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result *tmp290 *tmp292
+  552 op or :createBlockMaskRow:result 0 *tmp292
   553 label *label215
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  554 op sub :createBlockMaskRow:c 4 1
   555 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  556 op add *tmp291 :createBlockMaskRow:x 3
   557 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   558 op or :createBlockMaskRow:result *tmp290 *tmp292
   559 label *label216
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  560 op sub :createBlockMaskRow:c 3 1
   561 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  562 op add *tmp291 :createBlockMaskRow:x 2
   563 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   564 op or :createBlockMaskRow:result *tmp290 *tmp292
   565 label *label217
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  566 op sub :createBlockMaskRow:c 2 1
   567 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  568 op add *tmp291 :createBlockMaskRow:x 1
   569 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   570 op or :createBlockMaskRow:result *tmp290 *tmp292
   571 label *label218
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  572 op sub :createBlockMaskRow:c 1 1
   573 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  574 op add *tmp291 :createBlockMaskRow:x 0
   575 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   576 op or :createBlockMaskRow:result *tmp290 *tmp292
   577 label *label219
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  578 op sub :createBlockMaskRow:c 0 1
   579 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  580 op add *tmp291 :createBlockMaskRow:x -1
   581 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   582 op or :createBlockMaskRow:result *tmp290 *tmp292
   583 label *label220
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  584 op sub :createBlockMaskRow:c -1 1
   585 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  586 op add *tmp291 :createBlockMaskRow:x -2
   587 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   588 op or :createBlockMaskRow:result *tmp290 *tmp292
   589 label *label221
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  590 op sub :createBlockMaskRow:c -2 1
   591 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  592 op add *tmp291 :createBlockMaskRow:x -3
   593 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   594 op or :createBlockMaskRow:result *tmp290 *tmp292
   595 label *label222
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  596 op sub :createBlockMaskRow:c -3 1
   597 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x :createBlockMaskRow:c
+  598 op add *tmp291 :createBlockMaskRow:x -4
   599 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   600 op or :createBlockMaskRow:result *tmp290 *tmp292
   601 label *label223
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  602 op sub :createBlockMaskRow:c -4 1
   603 label *label154
   604 set :createBlockMaskRow*retval :createBlockMaskRow:result
   605 jump *label151 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-12 instructions):
 
   542 return :tryPlaceGenerator*retaddr
   543 end
   544 label *label17
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   545 label *label213
   546 label *label214
-    * op shl *tmp290 0 1
   547 op add *tmp291 :createBlockMaskRow:x 4
   548 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   549 op or :createBlockMaskRow:result 0 *tmp292
   550 label *label215
-    * op sub :createBlockMaskRow:c 4 1
   551 op shl *tmp290 :createBlockMaskRow:result 1
   552 op add *tmp291 :createBlockMaskRow:x 3
   553 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   554 op or :createBlockMaskRow:result *tmp290 *tmp292
   555 label *label216
-    * op sub :createBlockMaskRow:c 3 1
   556 op shl *tmp290 :createBlockMaskRow:result 1
   557 op add *tmp291 :createBlockMaskRow:x 2
   558 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   559 op or :createBlockMaskRow:result *tmp290 *tmp292
   560 label *label217
-    * op sub :createBlockMaskRow:c 2 1
   561 op shl *tmp290 :createBlockMaskRow:result 1
   562 op add *tmp291 :createBlockMaskRow:x 1
   563 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   564 op or :createBlockMaskRow:result *tmp290 *tmp292
   565 label *label218
-    * op sub :createBlockMaskRow:c 1 1
   566 op shl *tmp290 :createBlockMaskRow:result 1
   567 op add *tmp291 :createBlockMaskRow:x 0
   568 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   569 op or :createBlockMaskRow:result *tmp290 *tmp292
   570 label *label219
-    * op sub :createBlockMaskRow:c 0 1
   571 op shl *tmp290 :createBlockMaskRow:result 1
   572 op add *tmp291 :createBlockMaskRow:x -1
   573 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   574 op or :createBlockMaskRow:result *tmp290 *tmp292
   575 label *label220
-    * op sub :createBlockMaskRow:c -1 1
   576 op shl *tmp290 :createBlockMaskRow:result 1
   577 op add *tmp291 :createBlockMaskRow:x -2
   578 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   579 op or :createBlockMaskRow:result *tmp290 *tmp292
   580 label *label221
-    * op sub :createBlockMaskRow:c -2 1
   581 op shl *tmp290 :createBlockMaskRow:result 1
   582 op add *tmp291 :createBlockMaskRow:x -3
   583 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   584 op or :createBlockMaskRow:result *tmp290 *tmp292
   585 label *label222
-    * op sub :createBlockMaskRow:c -3 1
   586 op shl *tmp290 :createBlockMaskRow:result 1
   587 op add *tmp291 :createBlockMaskRow:x -4
   588 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   589 op or :createBlockMaskRow:result *tmp290 *tmp292
   590 label *label223
-    * op sub :createBlockMaskRow:c -4 1
   591 label *label154
   592 set :createBlockMaskRow*retval :createBlockMaskRow:result
   593 jump *label151 always

Modifications by Partial loop rotation at OreLocator.mnd:43:5 (+1 instructions):
 
   178 label *label66
   179 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp100
   180 jump *label68 notEqual *tmp100 false
+  181 label *label224
   182 ucontrol approach :locateOreAway:x :locateOreAway:y 5.5
   183 label *label67
-    * jump *label66 always
+  184 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp100
+  185 jump *label224 equal *tmp100 false
   186 label *label68
   187 label *label65
   188 label *label64

Modifications by Unroll loop at OreLocator.mnd:356:5 (+24 instructions):
 
   344 op shl *tmp201 1 :excludeArea:blockSizeX
   345 op sub :createMatrixOfSize:row *tmp201 1
   346 set :createMatrixOfSize:matrix :createMatrixOfSize:row
-    * set :createMatrixOfSize:i 1
-    * label *label108
-    * label *label207
-    * jump *label111 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
-    * jump *label110 always
-    * label *label111
-    * label *label112
-    * op shl *tmp205 :createMatrixOfSize:matrix 7
-    * op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
-    * label *label109
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label207 lessThan :createMatrixOfSize:i 7
-    * label *label110
+  347 set :createMatrixOfSize:i 1
+  348 label *label225
+  349 label *label226
+  350 jump *label227 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  351 jump *label110 always
+  352 label *label227
+  353 label *label228
+  354 op shl *tmp205 :createMatrixOfSize:matrix 7
+  355 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
+  356 label *label229
+  357 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  358 jump *label230 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  359 jump *label110 always
+  360 label *label230
+  361 label *label231
+  362 op shl *tmp205 :createMatrixOfSize:matrix 7
+  363 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
+  364 label *label232
+  365 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  366 jump *label233 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  367 jump *label110 always
+  368 label *label233
+  369 label *label234
+  370 op shl *tmp205 :createMatrixOfSize:matrix 7
+  371 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
+  372 label *label235
+  373 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  374 jump *label236 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  375 jump *label110 always
+  376 label *label236
+  377 label *label237
+  378 op shl *tmp205 :createMatrixOfSize:matrix 7
+  379 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
+  380 label *label238
+  381 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  382 jump *label239 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  383 jump *label110 always
+  384 label *label239
+  385 label *label240
+  386 op shl *tmp205 :createMatrixOfSize:matrix 7
+  387 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
+  388 label *label241
+  389 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  390 jump *label242 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  391 jump *label110 always
+  392 label *label242
+  393 label *label243
+  394 op shl *tmp205 :createMatrixOfSize:matrix 7
+  395 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
+  396 label *label244
+  397 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  398 label *label110
   399 jump *label107 always
   400 label *label107
   401 op lessThan *tmp207 :excludeArea:maskX :excludeArea:areaX

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   347 set :createMatrixOfSize:i 1
   348 label *label225
   349 label *label226
-    * jump *label227 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  350 jump *label227 lessThan 1 :excludeArea:blockSizeY
   351 jump *label110 always
   352 label *label227
   353 label *label228
-    * op shl *tmp205 :createMatrixOfSize:matrix 7
+  354 op shl *tmp205 :createMatrixOfSize:row 7
   355 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   356 label *label229
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label230 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  357 op add :createMatrixOfSize:i 1 1
+  358 jump *label230 lessThan 2 :excludeArea:blockSizeY
   359 jump *label110 always
   360 label *label230
   361 label *label231
   362 op shl *tmp205 :createMatrixOfSize:matrix 7
   363 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   364 label *label232
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label233 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  365 op add :createMatrixOfSize:i 2 1
+  366 jump *label233 lessThan 3 :excludeArea:blockSizeY
   367 jump *label110 always
   368 label *label233
   369 label *label234
   370 op shl *tmp205 :createMatrixOfSize:matrix 7
   371 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   372 label *label235
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label236 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  373 op add :createMatrixOfSize:i 3 1
+  374 jump *label236 lessThan 4 :excludeArea:blockSizeY
   375 jump *label110 always
   376 label *label236
   377 label *label237
   378 op shl *tmp205 :createMatrixOfSize:matrix 7
   379 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   380 label *label238
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label239 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  381 op add :createMatrixOfSize:i 4 1
+  382 jump *label239 lessThan 5 :excludeArea:blockSizeY
   383 jump *label110 always
   384 label *label239
   385 label *label240
   386 op shl *tmp205 :createMatrixOfSize:matrix 7
   387 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   388 label *label241
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label242 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  389 op add :createMatrixOfSize:i 5 1
+  390 jump *label242 lessThan 6 :excludeArea:blockSizeY
   391 jump *label110 always
   392 label *label242
   393 label *label243
   394 op shl *tmp205 :createMatrixOfSize:matrix 7
   395 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   396 label *label244
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  397 op add :createMatrixOfSize:i 6 1
   398 label *label110
   399 jump *label107 always
   400 label *label107

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-7 instructions):
 
   344 op shl *tmp201 1 :excludeArea:blockSizeX
   345 op sub :createMatrixOfSize:row *tmp201 1
   346 set :createMatrixOfSize:matrix :createMatrixOfSize:row
-    * set :createMatrixOfSize:i 1
   347 label *label225
   348 label *label226
   349 jump *label227 lessThan 1 :excludeArea:blockSizeY
 
   353 op shl *tmp205 :createMatrixOfSize:row 7
   354 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   355 label *label229
-    * op add :createMatrixOfSize:i 1 1
   356 jump *label230 lessThan 2 :excludeArea:blockSizeY
   357 jump *label110 always
   358 label *label230
 
   360 op shl *tmp205 :createMatrixOfSize:matrix 7
   361 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   362 label *label232
-    * op add :createMatrixOfSize:i 2 1
   363 jump *label233 lessThan 3 :excludeArea:blockSizeY
   364 jump *label110 always
   365 label *label233
 
   367 op shl *tmp205 :createMatrixOfSize:matrix 7
   368 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   369 label *label235
-    * op add :createMatrixOfSize:i 3 1
   370 jump *label236 lessThan 4 :excludeArea:blockSizeY
   371 jump *label110 always
   372 label *label236
 
   374 op shl *tmp205 :createMatrixOfSize:matrix 7
   375 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   376 label *label238
-    * op add :createMatrixOfSize:i 4 1
   377 jump *label239 lessThan 5 :excludeArea:blockSizeY
   378 jump *label110 always
   379 label *label239
 
   381 op shl *tmp205 :createMatrixOfSize:matrix 7
   382 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   383 label *label241
-    * op add :createMatrixOfSize:i 5 1
   384 jump *label242 lessThan 6 :excludeArea:blockSizeY
   385 jump *label110 always
   386 label *label242
 
   388 op shl *tmp205 :createMatrixOfSize:matrix 7
   389 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   390 label *label244
-    * op add :createMatrixOfSize:i 6 1
   391 label *label110
   392 jump *label107 always
   393 label *label107

Modifications by Unroll loop at OreLocator.mnd:491:5 (+95 instructions):
 
   651 call *label17 *invalid :createBlockMaskRow*retval (m:*label158) (h:*label158)
   652 label *label158
   653 set :createAdjacentMask:row1 :createBlockMaskRow*retval
-    * set :createAdjacentMask:r 2
-    * label *label159
-    * label *label211
-    * op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
-    * set :createBlockMaskRow:x :createAdjacentMask:x
-    * set :createBlockMaskRow:y *tmp304
-    * setaddr :createBlockMaskRow*retaddr *label162 (h:*label162)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label162) (h:*label162)
-    * label *label162
-    * op shl *tmp306 :createAdjacentMask:row1 1
-    * op or *tmp307 :createAdjacentMask:row2 *tmp306
-    * op shr *tmp308 :createAdjacentMask:row1 1
-    * op or *tmp309 *tmp307 *tmp308
-    * op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
-    * op shl *tmp311 :createAdjacentMask:result 7
-    * op and *tmp312 :createAdjacentMask:mask 0xFE
-    * op or :createAdjacentMask:result *tmp311 *tmp312
-    * set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
-    * label *label160
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * jump *label211 greaterThanEq :createAdjacentMask:r -4
-    * label *label161
+  654 set :createAdjacentMask:r 2
+  655 label *label245
+  656 label *label246
+  657 op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
+  658 set :createBlockMaskRow:x :createAdjacentMask:x
+  659 set :createBlockMaskRow:y *tmp304
+  660 setaddr :createBlockMaskRow*retaddr *label247 (h:*label247)
+  661 call *label17 *invalid :createBlockMaskRow*retval (m:*label247) (h:*label247)
+  662 label *label247
+  663 op shl *tmp306 :createAdjacentMask:row1 1
+  664 op or *tmp307 :createAdjacentMask:row2 *tmp306
+  665 op shr *tmp308 :createAdjacentMask:row1 1
+  666 op or *tmp309 *tmp307 *tmp308
+  667 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
+  668 op shl *tmp311 :createAdjacentMask:result 7
+  669 op and *tmp312 :createAdjacentMask:mask 0xFE
+  670 op or :createAdjacentMask:result *tmp311 *tmp312
+  671 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  672 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  673 label *label248
+  674 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  675 op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
+  676 set :createBlockMaskRow:x :createAdjacentMask:x
+  677 set :createBlockMaskRow:y *tmp304
+  678 setaddr :createBlockMaskRow*retaddr *label249 (h:*label249)
+  679 call *label17 *invalid :createBlockMaskRow*retval (m:*label249) (h:*label249)
+  680 label *label249
+  681 op shl *tmp306 :createAdjacentMask:row1 1
+  682 op or *tmp307 :createAdjacentMask:row2 *tmp306
+  683 op shr *tmp308 :createAdjacentMask:row1 1
+  684 op or *tmp309 *tmp307 *tmp308
+  685 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
+  686 op shl *tmp311 :createAdjacentMask:result 7
+  687 op and *tmp312 :createAdjacentMask:mask 0xFE
+  688 op or :createAdjacentMask:result *tmp311 *tmp312
+  689 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  690 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  691 label *label250
+  692 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  693 op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
+  694 set :createBlockMaskRow:x :createAdjacentMask:x
+  695 set :createBlockMaskRow:y *tmp304
+  696 setaddr :createBlockMaskRow*retaddr *label251 (h:*label251)
+  697 call *label17 *invalid :createBlockMaskRow*retval (m:*label251) (h:*label251)
+  698 label *label251
+  699 op shl *tmp306 :createAdjacentMask:row1 1
+  700 op or *tmp307 :createAdjacentMask:row2 *tmp306
+  701 op shr *tmp308 :createAdjacentMask:row1 1
+  702 op or *tmp309 *tmp307 *tmp308
+  703 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
+  704 op shl *tmp311 :createAdjacentMask:result 7
+  705 op and *tmp312 :createAdjacentMask:mask 0xFE
+  706 op or :createAdjacentMask:result *tmp311 *tmp312
+  707 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  708 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  709 label *label252
+  710 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  711 op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
+  712 set :createBlockMaskRow:x :createAdjacentMask:x
+  713 set :createBlockMaskRow:y *tmp304
+  714 setaddr :createBlockMaskRow*retaddr *label253 (h:*label253)
+  715 call *label17 *invalid :createBlockMaskRow*retval (m:*label253) (h:*label253)
+  716 label *label253
+  717 op shl *tmp306 :createAdjacentMask:row1 1
+  718 op or *tmp307 :createAdjacentMask:row2 *tmp306
+  719 op shr *tmp308 :createAdjacentMask:row1 1
+  720 op or *tmp309 *tmp307 *tmp308
+  721 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
+  722 op shl *tmp311 :createAdjacentMask:result 7
+  723 op and *tmp312 :createAdjacentMask:mask 0xFE
+  724 op or :createAdjacentMask:result *tmp311 *tmp312
+  725 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  726 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  727 label *label254
+  728 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  729 op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
+  730 set :createBlockMaskRow:x :createAdjacentMask:x
+  731 set :createBlockMaskRow:y *tmp304
+  732 setaddr :createBlockMaskRow*retaddr *label255 (h:*label255)
+  733 call *label17 *invalid :createBlockMaskRow*retval (m:*label255) (h:*label255)
+  734 label *label255
+  735 op shl *tmp306 :createAdjacentMask:row1 1
+  736 op or *tmp307 :createAdjacentMask:row2 *tmp306
+  737 op shr *tmp308 :createAdjacentMask:row1 1
+  738 op or *tmp309 *tmp307 *tmp308
+  739 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
+  740 op shl *tmp311 :createAdjacentMask:result 7
+  741 op and *tmp312 :createAdjacentMask:mask 0xFE
+  742 op or :createAdjacentMask:result *tmp311 *tmp312
+  743 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  744 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  745 label *label256
+  746 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  747 op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
+  748 set :createBlockMaskRow:x :createAdjacentMask:x
+  749 set :createBlockMaskRow:y *tmp304
+  750 setaddr :createBlockMaskRow*retaddr *label257 (h:*label257)
+  751 call *label17 *invalid :createBlockMaskRow*retval (m:*label257) (h:*label257)
+  752 label *label257
+  753 op shl *tmp306 :createAdjacentMask:row1 1
+  754 op or *tmp307 :createAdjacentMask:row2 *tmp306
+  755 op shr *tmp308 :createAdjacentMask:row1 1
+  756 op or *tmp309 *tmp307 *tmp308
+  757 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
+  758 op shl *tmp311 :createAdjacentMask:result 7
+  759 op and *tmp312 :createAdjacentMask:mask 0xFE
+  760 op or :createAdjacentMask:result *tmp311 *tmp312
+  761 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  762 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  763 label *label258
+  764 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  765 op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
+  766 set :createBlockMaskRow:x :createAdjacentMask:x
+  767 set :createBlockMaskRow:y *tmp304
+  768 setaddr :createBlockMaskRow*retaddr *label259 (h:*label259)
+  769 call *label17 *invalid :createBlockMaskRow*retval (m:*label259) (h:*label259)
+  770 label *label259
+  771 op shl *tmp306 :createAdjacentMask:row1 1
+  772 op or *tmp307 :createAdjacentMask:row2 *tmp306
+  773 op shr *tmp308 :createAdjacentMask:row1 1
+  774 op or *tmp309 *tmp307 *tmp308
+  775 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
+  776 op shl *tmp311 :createAdjacentMask:result 7
+  777 op and *tmp312 :createAdjacentMask:mask 0xFE
+  778 op or :createAdjacentMask:result *tmp311 *tmp312
+  779 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  780 set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  781 label *label260
+  782 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  783 label *label161
   784 op shr *tmp299 :createAdjacentMask:result 1
   785 label *label156
   786 label *label163

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   654 set :createAdjacentMask:r 2
   655 label *label245
   656 label *label246
-    * op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
+  657 op add *tmp304 :createAdjacentMask:y 2
   658 set :createBlockMaskRow:x :createAdjacentMask:x
   659 set :createBlockMaskRow:y *tmp304
   660 setaddr :createBlockMaskRow*retaddr *label247 (h:*label247)

Modifications by Partial loop rotation at OreLocator.mnd:43:5 (+1 instructions):
 
    36 label *label26
    37 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
    38 jump *label28 notEqual *tmp18 false
+   39 label *label261
    40 ucontrol approach :findDrillLocation:x :findDrillLocation:y 5.5
    41 label *label27
-    * jump *label26 always
+   42 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
+   43 jump *label261 equal *tmp18 false
    44 label *label28
    45 label *label25
    46 label *label24

Modifications by Partial loop rotation at OreLocator.mnd:43:5 (+1 instructions):
 
   819 label *label167
   820 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp318
   821 jump *label169 notEqual *tmp318 false
+  822 label *label262
   823 ucontrol approach :moveTo.5:x :moveTo.5:y 0.5
   824 label *label168
-    * jump *label167 always
+  825 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp318
+  826 jump *label262 equal *tmp318 false
   827 label *label169
   828 label *label166
   829 set :createCombinedMask:x .drillX

Modifications by Inline function 'shiftMask' defined at OreLocator.mnd:279:1 (+22 instructions):
 
   287 set :findDrillLocation*finished true
   288 return :findDrillLocation*retaddr
   289 end
-    * label *label13
-    * op abs *tmp161 :shiftMask:shiftX
-    * jump *label94 greaterThan *tmp161 6
-    * op abs *tmp163 :shiftMask:shiftY
-    * jump *label92 lessThanEq *tmp163 6
-    * label *label94
-    * set :shiftMask*retval 0
-    * jump *label91 always
-    * label *label92
-    * label *label93
-    * op mul *tmp166 7 :shiftMask:shiftY
-    * op add :shiftMask:shift :shiftMask:shiftX *tmp166
-    * jump *label96 lessThanEq :shiftMask:shift 0
-    * op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
-    * op and *tmp171 :shiftMask:mask :shiftMask:clearMask
-    * op shl :shiftMask:mask *tmp171 :shiftMask:shift
-    * jump *label97 always
-    * label *label96
-    * op sub *tmp173 0 :shiftMask:shift
-    * op shr :shiftMask:mask :shiftMask:mask *tmp173
-    * label *label97
-    * jump *label98 equal :shiftMask:shiftX 0
-    * op shr :shiftMask:keep 0b1111111 *tmp161
-    * jump *label100 lessThanEq :shiftMask:shiftX 0
-    * op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
-    * label *label100
-    * label *label101
-    * op shl *tmp180 :shiftMask:keep 7
-    * op or :shiftMask:keep :shiftMask:keep *tmp180
-    * op shl *tmp181 :shiftMask:keep 14
-    * op or :shiftMask:keep :shiftMask:keep *tmp181
-    * op shl *tmp182 :shiftMask:keep 21
-    * op or :shiftMask:keep :shiftMask:keep *tmp182
-    * op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
-    * label *label98
-    * label *label99
-    * set :shiftMask*retval :shiftMask:mask
-    * jump *label91 always
-    * label *label91
-    * return :shiftMask*retaddr
-    * end
   290 label *label14
   291 op add *tmp184 :excludeArea:areaWidth 8
   292 op idiv *tmp185 *tmp184 2
 
   361 set :shiftMask:mask :createMatrixOfSize:matrix
   362 set :shiftMask:shiftX :excludeArea:shiftX
   363 set :shiftMask:shiftY :excludeArea:shiftY
-    * setaddr :shiftMask*retaddr *label113 (h:*label113)
-    * call *label13 *invalid :shiftMask*retval (m:*label113) (h:*label113)
-    * label *label113
+  364 label *label263
+  365 op abs *tmp161 :shiftMask:shiftX
+  366 jump *label264 greaterThan *tmp161 6
+  367 op abs *tmp163 :shiftMask:shiftY
+  368 jump *label265 lessThanEq *tmp163 6
+  369 label *label264
+  370 set :shiftMask*retval 0
+  371 jump *label273 always
+  372 label *label265
+  373 label *label266
+  374 op mul *tmp166 7 :shiftMask:shiftY
+  375 op add :shiftMask:shift :shiftMask:shiftX *tmp166
+  376 jump *label267 lessThanEq :shiftMask:shift 0
+  377 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
+  378 op and *tmp171 :shiftMask:mask :shiftMask:clearMask
+  379 op shl :shiftMask:mask *tmp171 :shiftMask:shift
+  380 jump *label268 always
+  381 label *label267
+  382 op sub *tmp173 0 :shiftMask:shift
+  383 op shr :shiftMask:mask :shiftMask:mask *tmp173
+  384 label *label268
+  385 jump *label271 equal :shiftMask:shiftX 0
+  386 op shr :shiftMask:keep 0b1111111 *tmp161
+  387 jump *label269 lessThanEq :shiftMask:shiftX 0
+  388 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
+  389 label *label269
+  390 label *label270
+  391 op shl *tmp180 :shiftMask:keep 7
+  392 op or :shiftMask:keep :shiftMask:keep *tmp180
+  393 op shl *tmp181 :shiftMask:keep 14
+  394 op or :shiftMask:keep :shiftMask:keep *tmp181
+  395 op shl *tmp182 :shiftMask:keep 21
+  396 op or :shiftMask:keep :shiftMask:keep *tmp182
+  397 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
+  398 label *label271
+  399 label *label272
+  400 set :shiftMask*retval :shiftMask:mask
+  401 jump *label273 always
+  402 label *label273
   403 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   404 jump *label102 always
   405 jump *label104 always
 
   924 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
   925 set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
   926 set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
-    * setaddr :shiftMask*retaddr *label191 (h:*label191)
-    * call *label13 *invalid :shiftMask*retval (m:*label191) (h:*label191)
-    * label *label191
+  927 label *label274
+  928 op abs *tmp161 :shiftMask:shiftX
+  929 jump *label275 greaterThan *tmp161 6
+  930 op abs *tmp163 :shiftMask:shiftY
+  931 jump *label276 lessThanEq *tmp163 6
+  932 label *label275
+  933 set :shiftMask*retval 0
+  934 jump *label284 always
+  935 label *label276
+  936 label *label277
+  937 op mul *tmp166 7 :shiftMask:shiftY
+  938 op add :shiftMask:shift :shiftMask:shiftX *tmp166
+  939 jump *label278 lessThanEq :shiftMask:shift 0
+  940 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
+  941 op and *tmp171 :shiftMask:mask :shiftMask:clearMask
+  942 op shl :shiftMask:mask *tmp171 :shiftMask:shift
+  943 jump *label279 always
+  944 label *label278
+  945 op sub *tmp173 0 :shiftMask:shift
+  946 op shr :shiftMask:mask :shiftMask:mask *tmp173
+  947 label *label279
+  948 jump *label282 equal :shiftMask:shiftX 0
+  949 op shr :shiftMask:keep 0b1111111 *tmp161
+  950 jump *label280 lessThanEq :shiftMask:shiftX 0
+  951 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
+  952 label *label280
+  953 label *label281
+  954 op shl *tmp180 :shiftMask:keep 7
+  955 op or :shiftMask:keep :shiftMask:keep *tmp180
+  956 op shl *tmp181 :shiftMask:keep 14
+  957 op or :shiftMask:keep :shiftMask:keep *tmp181
+  958 op shl *tmp182 :shiftMask:keep 21
+  959 op or :shiftMask:keep :shiftMask:keep *tmp182
+  960 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
+  961 label *label282
+  962 label *label283
+  963 set :shiftMask*retval :shiftMask:mask
+  964 jump *label284 always
+  965 label *label284
   966 op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :shiftMask*retval
   967 op sub *tmp356 .drillX :layoutThoriumDrillAtLocation:sx
   968 op sub *tmp357 .drillY :layoutThoriumDrillAtLocation:sy

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   362 set :shiftMask:shiftX :excludeArea:shiftX
   363 set :shiftMask:shiftY :excludeArea:shiftY
   364 label *label263
-    * op abs *tmp161 :shiftMask:shiftX
+  365 op abs *tmp161 :excludeArea:shiftX
   366 jump *label264 greaterThan *tmp161 6
-    * op abs *tmp163 :shiftMask:shiftY
+  367 op abs *tmp163 :excludeArea:shiftY
   368 jump *label265 lessThanEq *tmp163 6
   369 label *label264
   370 set :shiftMask*retval 0
   371 jump *label273 always
   372 label *label265
   373 label *label266
-    * op mul *tmp166 7 :shiftMask:shiftY
-    * op add :shiftMask:shift :shiftMask:shiftX *tmp166
+  374 op mul *tmp166 7 :excludeArea:shiftY
+  375 op add :shiftMask:shift :excludeArea:shiftX *tmp166
   376 jump *label267 lessThanEq :shiftMask:shift 0
   377 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
-    * op and *tmp171 :shiftMask:mask :shiftMask:clearMask
+  378 op and *tmp171 :createMatrixOfSize:matrix :shiftMask:clearMask
   379 op shl :shiftMask:mask *tmp171 :shiftMask:shift
   380 jump *label268 always
   381 label *label267
   382 op sub *tmp173 0 :shiftMask:shift
-    * op shr :shiftMask:mask :shiftMask:mask *tmp173
+  383 op shr :shiftMask:mask :createMatrixOfSize:matrix *tmp173
   384 label *label268
-    * jump *label271 equal :shiftMask:shiftX 0
+  385 jump *label271 equal :excludeArea:shiftX 0
   386 op shr :shiftMask:keep 0b1111111 *tmp161
-    * jump *label269 lessThanEq :shiftMask:shiftX 0
-    * op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
+  387 jump *label269 lessThanEq :excludeArea:shiftX 0
+  388 op shl :shiftMask:keep :shiftMask:keep :excludeArea:shiftX
   389 label *label269
   390 label *label270
   391 op shl *tmp180 :shiftMask:keep 7
 
   925 set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
   926 set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
   927 label *label274
-    * op abs *tmp161 :shiftMask:shiftX
+  928 op abs *tmp161 :layoutThoriumDrillAtLocation:sx
   929 jump *label275 greaterThan *tmp161 6
-    * op abs *tmp163 :shiftMask:shiftY
+  930 op abs *tmp163 :layoutThoriumDrillAtLocation:sy
   931 jump *label276 lessThanEq *tmp163 6
   932 label *label275
   933 set :shiftMask*retval 0
   934 jump *label284 always
   935 label *label276
   936 label *label277
-    * op mul *tmp166 7 :shiftMask:shiftY
-    * op add :shiftMask:shift :shiftMask:shiftX *tmp166
+  937 op mul *tmp166 7 :layoutThoriumDrillAtLocation:sy
+  938 op add :shiftMask:shift :layoutThoriumDrillAtLocation:sx *tmp166
   939 jump *label278 lessThanEq :shiftMask:shift 0
   940 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
-    * op and *tmp171 :shiftMask:mask :shiftMask:clearMask
+  941 op and *tmp171 :layoutThoriumDrillAtLocation:terrainMask :shiftMask:clearMask
   942 op shl :shiftMask:mask *tmp171 :shiftMask:shift
   943 jump *label279 always
   944 label *label278
   945 op sub *tmp173 0 :shiftMask:shift
-    * op shr :shiftMask:mask :shiftMask:mask *tmp173
+  946 op shr :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask *tmp173
   947 label *label279
-    * jump *label282 equal :shiftMask:shiftX 0
+  948 jump *label282 equal :layoutThoriumDrillAtLocation:sx 0
   949 op shr :shiftMask:keep 0b1111111 *tmp161
-    * jump *label280 lessThanEq :shiftMask:shiftX 0
-    * op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
+  950 jump *label280 lessThanEq :layoutThoriumDrillAtLocation:sx 0
+  951 op shl :shiftMask:keep :shiftMask:keep :layoutThoriumDrillAtLocation:sx
   952 label *label280
   953 label *label281
   954 op shl *tmp180 :shiftMask:keep 7
 
   963 set :shiftMask*retval :shiftMask:mask
   964 jump *label284 always
   965 label *label284
-    * op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :shiftMask*retval
+  966 op or :layoutThoriumDrillAtLocation:combinedMask :createCombinedMask*retval :shiftMask*retval
   967 op sub *tmp356 .drillX :layoutThoriumDrillAtLocation:sx
   968 op sub *tmp357 .drillY :layoutThoriumDrillAtLocation:sy
   969 set :tryPlaceGenerator:centerX *tmp356

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   358 op lessThan *tmp210 :excludeArea:maskY :excludeArea:areaY
   359 op sub *tmp211 7 :excludeArea:blockSizeY
   360 op mul :excludeArea:shiftY *tmp210 *tmp211
-    * set :shiftMask:mask :createMatrixOfSize:matrix
-    * set :shiftMask:shiftX :excludeArea:shiftX
-    * set :shiftMask:shiftY :excludeArea:shiftY
   361 label *label263
   362 op abs *tmp161 :excludeArea:shiftX
   363 jump *label264 greaterThan *tmp161 6
 
   917 setaddr :createCombinedMask*retaddr *label190 (h:*label190)
   918 call *label18 *invalid :createCombinedMask*retval (m:*label190) (h:*label190)
   919 label *label190
-    * set :layoutThoriumDrillAtLocation:newTerrainMask :createCombinedMask*retval
   920 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
-    * set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
-    * set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
   921 label *label274
   922 op abs *tmp161 :layoutThoriumDrillAtLocation:sx
   923 jump *label275 greaterThan *tmp161 6

Modifications by Inline function call at OreLocator.mnd:488:16 (+35 instructions):
 
   634 op add *tmp300 :createCombinedMask:y 4
   635 set :createBlockMaskRow:x :createCombinedMask:x
   636 set :createBlockMaskRow:y *tmp300
-    * setaddr :createBlockMaskRow*retaddr *label157 (h:*label157)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label157) (h:*label157)
-    * label *label157
+  637 label *label285
+  638 label *label286
+  639 label *label287
+  640 op add *tmp291 :createBlockMaskRow:x 4
+  641 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  642 op or :createBlockMaskRow:result 0 *tmp292
+  643 label *label288
+  644 op shl *tmp290 :createBlockMaskRow:result 1
+  645 op add *tmp291 :createBlockMaskRow:x 3
+  646 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  647 op or :createBlockMaskRow:result *tmp290 *tmp292
+  648 label *label289
+  649 op shl *tmp290 :createBlockMaskRow:result 1
+  650 op add *tmp291 :createBlockMaskRow:x 2
+  651 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  652 op or :createBlockMaskRow:result *tmp290 *tmp292
+  653 label *label290
+  654 op shl *tmp290 :createBlockMaskRow:result 1
+  655 op add *tmp291 :createBlockMaskRow:x 1
+  656 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  657 op or :createBlockMaskRow:result *tmp290 *tmp292
+  658 label *label291
+  659 op shl *tmp290 :createBlockMaskRow:result 1
+  660 op add *tmp291 :createBlockMaskRow:x 0
+  661 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  662 op or :createBlockMaskRow:result *tmp290 *tmp292
+  663 label *label292
+  664 op shl *tmp290 :createBlockMaskRow:result 1
+  665 op add *tmp291 :createBlockMaskRow:x -1
+  666 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  667 op or :createBlockMaskRow:result *tmp290 *tmp292
+  668 label *label293
+  669 op shl *tmp290 :createBlockMaskRow:result 1
+  670 op add *tmp291 :createBlockMaskRow:x -2
+  671 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  672 op or :createBlockMaskRow:result *tmp290 *tmp292
+  673 label *label294
+  674 op shl *tmp290 :createBlockMaskRow:result 1
+  675 op add *tmp291 :createBlockMaskRow:x -3
+  676 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  677 op or :createBlockMaskRow:result *tmp290 *tmp292
+  678 label *label295
+  679 op shl *tmp290 :createBlockMaskRow:result 1
+  680 op add *tmp291 :createBlockMaskRow:x -4
+  681 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  682 op or :createBlockMaskRow:result *tmp290 *tmp292
+  683 label *label296
+  684 label *label297
+  685 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  686 jump *label298 always
+  687 label *label298
   688 set :createAdjacentMask:row2 :createBlockMaskRow*retval
   689 op add *tmp302 :createAdjacentMask:y 3
   690 set :createBlockMaskRow:x :createAdjacentMask:x

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   637 label *label285
   638 label *label286
   639 label *label287
-    * op add *tmp291 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  640 op add *tmp291 :createCombinedMask:x 4
+  641 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   642 op or :createBlockMaskRow:result 0 *tmp292
   643 label *label288
   644 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  645 op add *tmp291 :createCombinedMask:x 3
+  646 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   647 op or :createBlockMaskRow:result *tmp290 *tmp292
   648 label *label289
   649 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  650 op add *tmp291 :createCombinedMask:x 2
+  651 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   652 op or :createBlockMaskRow:result *tmp290 *tmp292
   653 label *label290
   654 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  655 op add *tmp291 :createCombinedMask:x 1
+  656 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   657 op or :createBlockMaskRow:result *tmp290 *tmp292
   658 label *label291
   659 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  660 op add *tmp291 :createCombinedMask:x 0
+  661 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   662 op or :createBlockMaskRow:result *tmp290 *tmp292
   663 label *label292
   664 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  665 op add *tmp291 :createCombinedMask:x -1
+  666 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   667 op or :createBlockMaskRow:result *tmp290 *tmp292
   668 label *label293
   669 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  670 op add *tmp291 :createCombinedMask:x -2
+  671 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   672 op or :createBlockMaskRow:result *tmp290 *tmp292
   673 label *label294
   674 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  675 op add *tmp291 :createCombinedMask:x -3
+  676 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   677 op or :createBlockMaskRow:result *tmp290 *tmp292
   678 label *label295
   679 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  680 op add *tmp291 :createCombinedMask:x -4
+  681 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   682 op or :createBlockMaskRow:result *tmp290 *tmp292
   683 label *label296
   684 label *label297
   685 set :createBlockMaskRow*retval :createBlockMaskRow:result
   686 jump *label298 always
   687 label *label298
-    * set :createAdjacentMask:row2 :createBlockMaskRow*retval
-    * op add *tmp302 :createAdjacentMask:y 3
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  688 set :createAdjacentMask:row2 :createBlockMaskRow:result
+  689 op add *tmp302 :createCombinedMask:y 3
+  690 set :createBlockMaskRow:x :createCombinedMask:x
   691 set :createBlockMaskRow:y *tmp302
   692 setaddr :createBlockMaskRow*retaddr *label158 (h:*label158)
   693 call *label17 *invalid :createBlockMaskRow*retval (m:*label158) (h:*label158)

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-3 instructions):
 
   632 set :createAdjacentMask:y :createCombinedMask:y
   633 set :createAdjacentMask:result 0
   634 op add *tmp300 :createCombinedMask:y 4
-    * set :createBlockMaskRow:x :createCombinedMask:x
-    * set :createBlockMaskRow:y *tmp300
   635 label *label285
   636 label *label286
   637 label *label287
 
   680 op or :createBlockMaskRow:result *tmp290 *tmp292
   681 label *label296
   682 label *label297
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   683 jump *label298 always
   684 label *label298
   685 set :createAdjacentMask:row2 :createBlockMaskRow:result

Modifications by Inline function call at OreLocator.mnd:489:16 (+35 instructions):
 
   686 op add *tmp302 :createCombinedMask:y 3
   687 set :createBlockMaskRow:x :createCombinedMask:x
   688 set :createBlockMaskRow:y *tmp302
-    * setaddr :createBlockMaskRow*retaddr *label158 (h:*label158)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label158) (h:*label158)
-    * label *label158
+  689 label *label299
+  690 label *label300
+  691 label *label301
+  692 op add *tmp291 :createBlockMaskRow:x 4
+  693 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  694 op or :createBlockMaskRow:result 0 *tmp292
+  695 label *label302
+  696 op shl *tmp290 :createBlockMaskRow:result 1
+  697 op add *tmp291 :createBlockMaskRow:x 3
+  698 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  699 op or :createBlockMaskRow:result *tmp290 *tmp292
+  700 label *label303
+  701 op shl *tmp290 :createBlockMaskRow:result 1
+  702 op add *tmp291 :createBlockMaskRow:x 2
+  703 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  704 op or :createBlockMaskRow:result *tmp290 *tmp292
+  705 label *label304
+  706 op shl *tmp290 :createBlockMaskRow:result 1
+  707 op add *tmp291 :createBlockMaskRow:x 1
+  708 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  709 op or :createBlockMaskRow:result *tmp290 *tmp292
+  710 label *label305
+  711 op shl *tmp290 :createBlockMaskRow:result 1
+  712 op add *tmp291 :createBlockMaskRow:x 0
+  713 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  714 op or :createBlockMaskRow:result *tmp290 *tmp292
+  715 label *label306
+  716 op shl *tmp290 :createBlockMaskRow:result 1
+  717 op add *tmp291 :createBlockMaskRow:x -1
+  718 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  719 op or :createBlockMaskRow:result *tmp290 *tmp292
+  720 label *label307
+  721 op shl *tmp290 :createBlockMaskRow:result 1
+  722 op add *tmp291 :createBlockMaskRow:x -2
+  723 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  724 op or :createBlockMaskRow:result *tmp290 *tmp292
+  725 label *label308
+  726 op shl *tmp290 :createBlockMaskRow:result 1
+  727 op add *tmp291 :createBlockMaskRow:x -3
+  728 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  729 op or :createBlockMaskRow:result *tmp290 *tmp292
+  730 label *label309
+  731 op shl *tmp290 :createBlockMaskRow:result 1
+  732 op add *tmp291 :createBlockMaskRow:x -4
+  733 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  734 op or :createBlockMaskRow:result *tmp290 *tmp292
+  735 label *label310
+  736 label *label311
+  737 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  738 jump *label312 always
+  739 label *label312
   740 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   741 set :createAdjacentMask:r 2
   742 label *label245

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   689 label *label299
   690 label *label300
   691 label *label301
-    * op add *tmp291 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  692 op add *tmp291 :createCombinedMask:x 4
+  693 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   694 op or :createBlockMaskRow:result 0 *tmp292
   695 label *label302
   696 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  697 op add *tmp291 :createCombinedMask:x 3
+  698 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   699 op or :createBlockMaskRow:result *tmp290 *tmp292
   700 label *label303
   701 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  702 op add *tmp291 :createCombinedMask:x 2
+  703 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   704 op or :createBlockMaskRow:result *tmp290 *tmp292
   705 label *label304
   706 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  707 op add *tmp291 :createCombinedMask:x 1
+  708 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   709 op or :createBlockMaskRow:result *tmp290 *tmp292
   710 label *label305
   711 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  712 op add *tmp291 :createCombinedMask:x 0
+  713 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   714 op or :createBlockMaskRow:result *tmp290 *tmp292
   715 label *label306
   716 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  717 op add *tmp291 :createCombinedMask:x -1
+  718 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   719 op or :createBlockMaskRow:result *tmp290 *tmp292
   720 label *label307
   721 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  722 op add *tmp291 :createCombinedMask:x -2
+  723 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   724 op or :createBlockMaskRow:result *tmp290 *tmp292
   725 label *label308
   726 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  727 op add *tmp291 :createCombinedMask:x -3
+  728 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   729 op or :createBlockMaskRow:result *tmp290 *tmp292
   730 label *label309
   731 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  732 op add *tmp291 :createCombinedMask:x -4
+  733 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   734 op or :createBlockMaskRow:result *tmp290 *tmp292
   735 label *label310
   736 label *label311
   737 set :createBlockMaskRow*retval :createBlockMaskRow:result
   738 jump *label312 always
   739 label *label312
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  740 set :createAdjacentMask:row1 :createBlockMaskRow:result
   741 set :createAdjacentMask:r 2
   742 label *label245
   743 label *label246
-    * op add *tmp304 :createAdjacentMask:y 2
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  744 op add *tmp304 :createCombinedMask:y 2
+  745 set :createBlockMaskRow:x :createCombinedMask:x
   746 set :createBlockMaskRow:y *tmp304
   747 setaddr :createBlockMaskRow*retaddr *label247 (h:*label247)
   748 call *label17 *invalid :createBlockMaskRow*retval (m:*label247) (h:*label247)

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-3 instructions):
 
   684 label *label298
   685 set :createAdjacentMask:row2 :createBlockMaskRow:result
   686 op add *tmp302 :createCombinedMask:y 3
-    * set :createBlockMaskRow:x :createCombinedMask:x
-    * set :createBlockMaskRow:y *tmp302
   687 label *label299
   688 label *label300
   689 label *label301
 
   732 op or :createBlockMaskRow:result *tmp290 *tmp292
   733 label *label310
   734 label *label311
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   735 jump *label312 always
   736 label *label312
   737 set :createAdjacentMask:row1 :createBlockMaskRow:result

Modifications by Inline function call at OreLocator.mnd:492:20 (+35 instructions):
 
   741 op add *tmp304 :createCombinedMask:y 2
   742 set :createBlockMaskRow:x :createCombinedMask:x
   743 set :createBlockMaskRow:y *tmp304
-    * setaddr :createBlockMaskRow*retaddr *label247 (h:*label247)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label247) (h:*label247)
-    * label *label247
+  744 label *label313
+  745 label *label314
+  746 label *label315
+  747 op add *tmp291 :createBlockMaskRow:x 4
+  748 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  749 op or :createBlockMaskRow:result 0 *tmp292
+  750 label *label316
+  751 op shl *tmp290 :createBlockMaskRow:result 1
+  752 op add *tmp291 :createBlockMaskRow:x 3
+  753 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  754 op or :createBlockMaskRow:result *tmp290 *tmp292
+  755 label *label317
+  756 op shl *tmp290 :createBlockMaskRow:result 1
+  757 op add *tmp291 :createBlockMaskRow:x 2
+  758 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  759 op or :createBlockMaskRow:result *tmp290 *tmp292
+  760 label *label318
+  761 op shl *tmp290 :createBlockMaskRow:result 1
+  762 op add *tmp291 :createBlockMaskRow:x 1
+  763 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  764 op or :createBlockMaskRow:result *tmp290 *tmp292
+  765 label *label319
+  766 op shl *tmp290 :createBlockMaskRow:result 1
+  767 op add *tmp291 :createBlockMaskRow:x 0
+  768 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  769 op or :createBlockMaskRow:result *tmp290 *tmp292
+  770 label *label320
+  771 op shl *tmp290 :createBlockMaskRow:result 1
+  772 op add *tmp291 :createBlockMaskRow:x -1
+  773 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  774 op or :createBlockMaskRow:result *tmp290 *tmp292
+  775 label *label321
+  776 op shl *tmp290 :createBlockMaskRow:result 1
+  777 op add *tmp291 :createBlockMaskRow:x -2
+  778 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  779 op or :createBlockMaskRow:result *tmp290 *tmp292
+  780 label *label322
+  781 op shl *tmp290 :createBlockMaskRow:result 1
+  782 op add *tmp291 :createBlockMaskRow:x -3
+  783 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  784 op or :createBlockMaskRow:result *tmp290 *tmp292
+  785 label *label323
+  786 op shl *tmp290 :createBlockMaskRow:result 1
+  787 op add *tmp291 :createBlockMaskRow:x -4
+  788 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  789 op or :createBlockMaskRow:result *tmp290 *tmp292
+  790 label *label324
+  791 label *label325
+  792 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  793 jump *label326 always
+  794 label *label326
   795 op shl *tmp306 :createAdjacentMask:row1 1
   796 op or *tmp307 :createAdjacentMask:row2 *tmp306
   797 op shr *tmp308 :createAdjacentMask:row1 1

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   744 label *label313
   745 label *label314
   746 label *label315
-    * op add *tmp291 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  747 op add *tmp291 :createCombinedMask:x 4
+  748 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   749 op or :createBlockMaskRow:result 0 *tmp292
   750 label *label316
   751 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  752 op add *tmp291 :createCombinedMask:x 3
+  753 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   754 op or :createBlockMaskRow:result *tmp290 *tmp292
   755 label *label317
   756 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  757 op add *tmp291 :createCombinedMask:x 2
+  758 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   759 op or :createBlockMaskRow:result *tmp290 *tmp292
   760 label *label318
   761 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  762 op add *tmp291 :createCombinedMask:x 1
+  763 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   764 op or :createBlockMaskRow:result *tmp290 *tmp292
   765 label *label319
   766 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  767 op add *tmp291 :createCombinedMask:x 0
+  768 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   769 op or :createBlockMaskRow:result *tmp290 *tmp292
   770 label *label320
   771 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  772 op add *tmp291 :createCombinedMask:x -1
+  773 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   774 op or :createBlockMaskRow:result *tmp290 *tmp292
   775 label *label321
   776 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  777 op add *tmp291 :createCombinedMask:x -2
+  778 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   779 op or :createBlockMaskRow:result *tmp290 *tmp292
   780 label *label322
   781 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  782 op add *tmp291 :createCombinedMask:x -3
+  783 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   784 op or :createBlockMaskRow:result *tmp290 *tmp292
   785 label *label323
   786 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  787 op add *tmp291 :createCombinedMask:x -4
+  788 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   789 op or :createBlockMaskRow:result *tmp290 *tmp292
   790 label *label324
   791 label *label325
 
   796 op or *tmp307 :createAdjacentMask:row2 *tmp306
   797 op shr *tmp308 :createAdjacentMask:row1 1
   798 op or *tmp309 *tmp307 *tmp308
-    * op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
-    * op shl *tmp311 :createAdjacentMask:result 7
+  799 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:result
+  800 op shl *tmp311 0 7
   801 op and *tmp312 :createAdjacentMask:mask 0xFE
-    * op or :createAdjacentMask:result *tmp311 *tmp312
+  802 op or :createAdjacentMask:result 0 *tmp312
   803 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  804 set :createAdjacentMask:row1 :createBlockMaskRow:result
   805 label *label248
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  806 op sub :createAdjacentMask:r 2 1
+  807 op add *tmp304 :createCombinedMask:y 1
+  808 set :createBlockMaskRow:x :createCombinedMask:x
   809 set :createBlockMaskRow:y *tmp304
   810 setaddr :createBlockMaskRow*retaddr *label249 (h:*label249)
   811 call *label17 *invalid :createBlockMaskRow*retval (m:*label249) (h:*label249)

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-5 instructions):
 
   630 write 1 processor4 "@counter"
   631 set :createAdjacentMask:x :createCombinedMask:x
   632 set :createAdjacentMask:y :createCombinedMask:y
-    * set :createAdjacentMask:result 0
   633 op add *tmp300 :createCombinedMask:y 4
   634 label *label285
   635 label *label286
 
   734 jump *label312 always
   735 label *label312
   736 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * set :createAdjacentMask:r 2
   737 label *label245
   738 label *label246
   739 op add *tmp304 :createCombinedMask:y 2
-    * set :createBlockMaskRow:x :createCombinedMask:x
-    * set :createBlockMaskRow:y *tmp304
   740 label *label313
   741 label *label314
   742 label *label315
 
   785 op or :createBlockMaskRow:result *tmp290 *tmp292
   786 label *label324
   787 label *label325
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   788 jump *label326 always
   789 label *label326
   790 op shl *tmp306 :createAdjacentMask:row1 1

Modifications by Inline function call at OreLocator.mnd:492:20 (+35 instructions):
 
   802 op add *tmp304 :createCombinedMask:y 1
   803 set :createBlockMaskRow:x :createCombinedMask:x
   804 set :createBlockMaskRow:y *tmp304
-    * setaddr :createBlockMaskRow*retaddr *label249 (h:*label249)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label249) (h:*label249)
-    * label *label249
+  805 label *label327
+  806 label *label328
+  807 label *label329
+  808 op add *tmp291 :createBlockMaskRow:x 4
+  809 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  810 op or :createBlockMaskRow:result 0 *tmp292
+  811 label *label330
+  812 op shl *tmp290 :createBlockMaskRow:result 1
+  813 op add *tmp291 :createBlockMaskRow:x 3
+  814 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  815 op or :createBlockMaskRow:result *tmp290 *tmp292
+  816 label *label331
+  817 op shl *tmp290 :createBlockMaskRow:result 1
+  818 op add *tmp291 :createBlockMaskRow:x 2
+  819 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  820 op or :createBlockMaskRow:result *tmp290 *tmp292
+  821 label *label332
+  822 op shl *tmp290 :createBlockMaskRow:result 1
+  823 op add *tmp291 :createBlockMaskRow:x 1
+  824 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  825 op or :createBlockMaskRow:result *tmp290 *tmp292
+  826 label *label333
+  827 op shl *tmp290 :createBlockMaskRow:result 1
+  828 op add *tmp291 :createBlockMaskRow:x 0
+  829 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  830 op or :createBlockMaskRow:result *tmp290 *tmp292
+  831 label *label334
+  832 op shl *tmp290 :createBlockMaskRow:result 1
+  833 op add *tmp291 :createBlockMaskRow:x -1
+  834 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  835 op or :createBlockMaskRow:result *tmp290 *tmp292
+  836 label *label335
+  837 op shl *tmp290 :createBlockMaskRow:result 1
+  838 op add *tmp291 :createBlockMaskRow:x -2
+  839 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  840 op or :createBlockMaskRow:result *tmp290 *tmp292
+  841 label *label336
+  842 op shl *tmp290 :createBlockMaskRow:result 1
+  843 op add *tmp291 :createBlockMaskRow:x -3
+  844 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  845 op or :createBlockMaskRow:result *tmp290 *tmp292
+  846 label *label337
+  847 op shl *tmp290 :createBlockMaskRow:result 1
+  848 op add *tmp291 :createBlockMaskRow:x -4
+  849 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  850 op or :createBlockMaskRow:result *tmp290 *tmp292
+  851 label *label338
+  852 label *label339
+  853 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  854 jump *label340 always
+  855 label *label340
   856 op shl *tmp306 :createAdjacentMask:row1 1
   857 op or *tmp307 :createAdjacentMask:row2 *tmp306
   858 op shr *tmp308 :createAdjacentMask:row1 1

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-1 instructions):
 
   792 op shr *tmp308 :createAdjacentMask:row1 1
   793 op or *tmp309 *tmp307 *tmp308
   794 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:result
-    * op shl *tmp311 0 7
   795 op and *tmp312 :createAdjacentMask:mask 0xFE
   796 op or :createAdjacentMask:result 0 *tmp312
   797 set :createAdjacentMask:row2 :createAdjacentMask:row1
 
   804 label *label327
   805 label *label328
   806 label *label329
-    * op add *tmp291 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  807 op add *tmp291 :createCombinedMask:x 4
+  808 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   809 op or :createBlockMaskRow:result 0 *tmp292
   810 label *label330
   811 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  812 op add *tmp291 :createCombinedMask:x 3
+  813 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   814 op or :createBlockMaskRow:result *tmp290 *tmp292
   815 label *label331
   816 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  817 op add *tmp291 :createCombinedMask:x 2
+  818 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   819 op or :createBlockMaskRow:result *tmp290 *tmp292
   820 label *label332
   821 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  822 op add *tmp291 :createCombinedMask:x 1
+  823 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   824 op or :createBlockMaskRow:result *tmp290 *tmp292
   825 label *label333
   826 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  827 op add *tmp291 :createCombinedMask:x 0
+  828 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   829 op or :createBlockMaskRow:result *tmp290 *tmp292
   830 label *label334
   831 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  832 op add *tmp291 :createCombinedMask:x -1
+  833 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   834 op or :createBlockMaskRow:result *tmp290 *tmp292
   835 label *label335
   836 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  837 op add *tmp291 :createCombinedMask:x -2
+  838 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   839 op or :createBlockMaskRow:result *tmp290 *tmp292
   840 label *label336
   841 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  842 op add *tmp291 :createCombinedMask:x -3
+  843 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   844 op or :createBlockMaskRow:result *tmp290 *tmp292
   845 label *label337
   846 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  847 op add *tmp291 :createCombinedMask:x -4
+  848 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   849 op or :createBlockMaskRow:result *tmp290 *tmp292
   850 label *label338
   851 label *label339
 
   856 op or *tmp307 :createAdjacentMask:row2 *tmp306
   857 op shr *tmp308 :createAdjacentMask:row1 1
   858 op or *tmp309 *tmp307 *tmp308
-    * op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
+  859 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:result
   860 op shl *tmp311 :createAdjacentMask:result 7
   861 op and *tmp312 :createAdjacentMask:mask 0xFE
   862 op or :createAdjacentMask:result *tmp311 *tmp312
   863 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  864 set :createAdjacentMask:row1 :createBlockMaskRow:result
   865 label *label250
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  866 op sub :createAdjacentMask:r 1 1
+  867 op add *tmp304 :createCombinedMask:y 0
+  868 set :createBlockMaskRow:x :createCombinedMask:x
   869 set :createBlockMaskRow:y *tmp304
   870 setaddr :createBlockMaskRow*retaddr *label251 (h:*label251)
   871 call *label17 *invalid :createBlockMaskRow*retval (m:*label251) (h:*label251)

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-4 instructions):
 
   797 set :createAdjacentMask:row2 :createAdjacentMask:row1
   798 set :createAdjacentMask:row1 :createBlockMaskRow:result
   799 label *label248
-    * op sub :createAdjacentMask:r 2 1
   800 op add *tmp304 :createCombinedMask:y 1
-    * set :createBlockMaskRow:x :createCombinedMask:x
-    * set :createBlockMaskRow:y *tmp304
   801 label *label327
   802 label *label328
   803 label *label329
 
   846 op or :createBlockMaskRow:result *tmp290 *tmp292
   847 label *label338
   848 label *label339
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   849 jump *label340 always
   850 label *label340
   851 op shl *tmp306 :createAdjacentMask:row1 1

Modifications by Inline function call at OreLocator.mnd:492:20 (+35 instructions):
 
   863 op add *tmp304 :createCombinedMask:y 0
   864 set :createBlockMaskRow:x :createCombinedMask:x
   865 set :createBlockMaskRow:y *tmp304
-    * setaddr :createBlockMaskRow*retaddr *label251 (h:*label251)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label251) (h:*label251)
-    * label *label251
+  866 label *label341
+  867 label *label342
+  868 label *label343
+  869 op add *tmp291 :createBlockMaskRow:x 4
+  870 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  871 op or :createBlockMaskRow:result 0 *tmp292
+  872 label *label344
+  873 op shl *tmp290 :createBlockMaskRow:result 1
+  874 op add *tmp291 :createBlockMaskRow:x 3
+  875 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  876 op or :createBlockMaskRow:result *tmp290 *tmp292
+  877 label *label345
+  878 op shl *tmp290 :createBlockMaskRow:result 1
+  879 op add *tmp291 :createBlockMaskRow:x 2
+  880 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  881 op or :createBlockMaskRow:result *tmp290 *tmp292
+  882 label *label346
+  883 op shl *tmp290 :createBlockMaskRow:result 1
+  884 op add *tmp291 :createBlockMaskRow:x 1
+  885 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  886 op or :createBlockMaskRow:result *tmp290 *tmp292
+  887 label *label347
+  888 op shl *tmp290 :createBlockMaskRow:result 1
+  889 op add *tmp291 :createBlockMaskRow:x 0
+  890 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  891 op or :createBlockMaskRow:result *tmp290 *tmp292
+  892 label *label348
+  893 op shl *tmp290 :createBlockMaskRow:result 1
+  894 op add *tmp291 :createBlockMaskRow:x -1
+  895 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  896 op or :createBlockMaskRow:result *tmp290 *tmp292
+  897 label *label349
+  898 op shl *tmp290 :createBlockMaskRow:result 1
+  899 op add *tmp291 :createBlockMaskRow:x -2
+  900 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  901 op or :createBlockMaskRow:result *tmp290 *tmp292
+  902 label *label350
+  903 op shl *tmp290 :createBlockMaskRow:result 1
+  904 op add *tmp291 :createBlockMaskRow:x -3
+  905 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  906 op or :createBlockMaskRow:result *tmp290 *tmp292
+  907 label *label351
+  908 op shl *tmp290 :createBlockMaskRow:result 1
+  909 op add *tmp291 :createBlockMaskRow:x -4
+  910 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  911 op or :createBlockMaskRow:result *tmp290 *tmp292
+  912 label *label352
+  913 label *label353
+  914 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  915 jump *label354 always
+  916 label *label354
   917 op shl *tmp306 :createAdjacentMask:row1 1
   918 op or *tmp307 :createAdjacentMask:row2 *tmp306
   919 op shr *tmp308 :createAdjacentMask:row1 1

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   866 label *label341
   867 label *label342
   868 label *label343
-    * op add *tmp291 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  869 op add *tmp291 :createCombinedMask:x 4
+  870 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   871 op or :createBlockMaskRow:result 0 *tmp292
   872 label *label344
   873 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  874 op add *tmp291 :createCombinedMask:x 3
+  875 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   876 op or :createBlockMaskRow:result *tmp290 *tmp292
   877 label *label345
   878 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  879 op add *tmp291 :createCombinedMask:x 2
+  880 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   881 op or :createBlockMaskRow:result *tmp290 *tmp292
   882 label *label346
   883 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  884 op add *tmp291 :createCombinedMask:x 1
+  885 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   886 op or :createBlockMaskRow:result *tmp290 *tmp292
   887 label *label347
   888 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  889 op add *tmp291 :createCombinedMask:x 0
+  890 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   891 op or :createBlockMaskRow:result *tmp290 *tmp292
   892 label *label348
   893 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  894 op add *tmp291 :createCombinedMask:x -1
+  895 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   896 op or :createBlockMaskRow:result *tmp290 *tmp292
   897 label *label349
   898 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  899 op add *tmp291 :createCombinedMask:x -2
+  900 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   901 op or :createBlockMaskRow:result *tmp290 *tmp292
   902 label *label350
   903 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  904 op add *tmp291 :createCombinedMask:x -3
+  905 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   906 op or :createBlockMaskRow:result *tmp290 *tmp292
   907 label *label351
   908 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  909 op add *tmp291 :createCombinedMask:x -4
+  910 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   911 op or :createBlockMaskRow:result *tmp290 *tmp292
   912 label *label352
   913 label *label353
 
   918 op or *tmp307 :createAdjacentMask:row2 *tmp306
   919 op shr *tmp308 :createAdjacentMask:row1 1
   920 op or *tmp309 *tmp307 *tmp308
-    * op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
+  921 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:result
   922 op shl *tmp311 :createAdjacentMask:result 7
   923 op and *tmp312 :createAdjacentMask:mask 0xFE
   924 op or :createAdjacentMask:result *tmp311 *tmp312
   925 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  926 set :createAdjacentMask:row1 :createBlockMaskRow:result
   927 label *label252
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  928 op sub :createAdjacentMask:r 0 1
+  929 op add *tmp304 :createCombinedMask:y -1
+  930 set :createBlockMaskRow:x :createCombinedMask:x
   931 set :createBlockMaskRow:y *tmp304
   932 setaddr :createBlockMaskRow*retaddr *label253 (h:*label253)
   933 call *label17 *invalid :createBlockMaskRow*retval (m:*label253) (h:*label253)

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-4 instructions):
 
   859 set :createAdjacentMask:row2 :createAdjacentMask:row1
   860 set :createAdjacentMask:row1 :createBlockMaskRow:result
   861 label *label250
-    * op sub :createAdjacentMask:r 1 1
   862 op add *tmp304 :createCombinedMask:y 0
-    * set :createBlockMaskRow:x :createCombinedMask:x
-    * set :createBlockMaskRow:y *tmp304
   863 label *label341
   864 label *label342
   865 label *label343
 
   908 op or :createBlockMaskRow:result *tmp290 *tmp292
   909 label *label352
   910 label *label353
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   911 jump *label354 always
   912 label *label354
   913 op shl *tmp306 :createAdjacentMask:row1 1

Modifications by Inline function call at OreLocator.mnd:492:20 (+35 instructions):
 
   925 op add *tmp304 :createCombinedMask:y -1
   926 set :createBlockMaskRow:x :createCombinedMask:x
   927 set :createBlockMaskRow:y *tmp304
-    * setaddr :createBlockMaskRow*retaddr *label253 (h:*label253)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label253) (h:*label253)
-    * label *label253
+  928 label *label355
+  929 label *label356
+  930 label *label357
+  931 op add *tmp291 :createBlockMaskRow:x 4
+  932 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  933 op or :createBlockMaskRow:result 0 *tmp292
+  934 label *label358
+  935 op shl *tmp290 :createBlockMaskRow:result 1
+  936 op add *tmp291 :createBlockMaskRow:x 3
+  937 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  938 op or :createBlockMaskRow:result *tmp290 *tmp292
+  939 label *label359
+  940 op shl *tmp290 :createBlockMaskRow:result 1
+  941 op add *tmp291 :createBlockMaskRow:x 2
+  942 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  943 op or :createBlockMaskRow:result *tmp290 *tmp292
+  944 label *label360
+  945 op shl *tmp290 :createBlockMaskRow:result 1
+  946 op add *tmp291 :createBlockMaskRow:x 1
+  947 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  948 op or :createBlockMaskRow:result *tmp290 *tmp292
+  949 label *label361
+  950 op shl *tmp290 :createBlockMaskRow:result 1
+  951 op add *tmp291 :createBlockMaskRow:x 0
+  952 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  953 op or :createBlockMaskRow:result *tmp290 *tmp292
+  954 label *label362
+  955 op shl *tmp290 :createBlockMaskRow:result 1
+  956 op add *tmp291 :createBlockMaskRow:x -1
+  957 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  958 op or :createBlockMaskRow:result *tmp290 *tmp292
+  959 label *label363
+  960 op shl *tmp290 :createBlockMaskRow:result 1
+  961 op add *tmp291 :createBlockMaskRow:x -2
+  962 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  963 op or :createBlockMaskRow:result *tmp290 *tmp292
+  964 label *label364
+  965 op shl *tmp290 :createBlockMaskRow:result 1
+  966 op add *tmp291 :createBlockMaskRow:x -3
+  967 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  968 op or :createBlockMaskRow:result *tmp290 *tmp292
+  969 label *label365
+  970 op shl *tmp290 :createBlockMaskRow:result 1
+  971 op add *tmp291 :createBlockMaskRow:x -4
+  972 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  973 op or :createBlockMaskRow:result *tmp290 *tmp292
+  974 label *label366
+  975 label *label367
+  976 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  977 jump *label368 always
+  978 label *label368
   979 op shl *tmp306 :createAdjacentMask:row1 1
   980 op or *tmp307 :createAdjacentMask:row2 *tmp306
   981 op shr *tmp308 :createAdjacentMask:row1 1

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   928 label *label355
   929 label *label356
   930 label *label357
-    * op add *tmp291 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  931 op add *tmp291 :createCombinedMask:x 4
+  932 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   933 op or :createBlockMaskRow:result 0 *tmp292
   934 label *label358
   935 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  936 op add *tmp291 :createCombinedMask:x 3
+  937 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   938 op or :createBlockMaskRow:result *tmp290 *tmp292
   939 label *label359
   940 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  941 op add *tmp291 :createCombinedMask:x 2
+  942 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   943 op or :createBlockMaskRow:result *tmp290 *tmp292
   944 label *label360
   945 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  946 op add *tmp291 :createCombinedMask:x 1
+  947 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   948 op or :createBlockMaskRow:result *tmp290 *tmp292
   949 label *label361
   950 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 0
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  951 op add *tmp291 :createCombinedMask:x 0
+  952 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   953 op or :createBlockMaskRow:result *tmp290 *tmp292
   954 label *label362
   955 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  956 op add *tmp291 :createCombinedMask:x -1
+  957 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   958 op or :createBlockMaskRow:result *tmp290 *tmp292
   959 label *label363
   960 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  961 op add *tmp291 :createCombinedMask:x -2
+  962 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   963 op or :createBlockMaskRow:result *tmp290 *tmp292
   964 label *label364
   965 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  966 op add *tmp291 :createCombinedMask:x -3
+  967 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   968 op or :createBlockMaskRow:result *tmp290 *tmp292
   969 label *label365
   970 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  971 op add *tmp291 :createCombinedMask:x -4
+  972 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   973 op or :createBlockMaskRow:result *tmp290 *tmp292
   974 label *label366
   975 label *label367
 
   980 op or *tmp307 :createAdjacentMask:row2 *tmp306
   981 op shr *tmp308 :createAdjacentMask:row1 1
   982 op or *tmp309 *tmp307 *tmp308
-    * op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*retval
+  983 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:result
   984 op shl *tmp311 :createAdjacentMask:result 7
   985 op and *tmp312 :createAdjacentMask:mask 0xFE
   986 op or :createAdjacentMask:result *tmp311 *tmp312
   987 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  988 set :createAdjacentMask:row1 :createBlockMaskRow:result
   989 label *label254
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  990 op sub :createAdjacentMask:r -1 1
+  991 op add *tmp304 :createCombinedMask:y -2
+  992 set :createBlockMaskRow:x :createCombinedMask:x
   993 set :createBlockMaskRow:y *tmp304
   994 setaddr :createBlockMaskRow*retaddr *label255 (h:*label255)
   995 call *label17 *invalid :createBlockMaskRow*retval (m:*label255) (h:*label255)

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-4 instructions):
 
   921 set :createAdjacentMask:row2 :createAdjacentMask:row1
   922 set :createAdjacentMask:row1 :createBlockMaskRow:result
   923 label *label252
-    * op sub :createAdjacentMask:r 0 1
   924 op add *tmp304 :createCombinedMask:y -1
-    * set :createBlockMaskRow:x :createCombinedMask:x
-    * set :createBlockMaskRow:y *tmp304
   925 label *label355
   926 label *label356
   927 label *label357
 
   970 op or :createBlockMaskRow:result *tmp290 *tmp292
   971 label *label366
   972 label *label367
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   973 jump *label368 always
   974 label *label368
   975 op shl *tmp306 :createAdjacentMask:row1 1

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-18 instructions):
 
   144 jump *label206 lessThan :visited:i *tmp75
   145 label *label59
   146 set *tmp74 false
-    * jump *label56 always
   147 label *label56
   148 jump *label54 notEqual *tmp74 false
   149 op div *tmp90 2 .angle
 
   162 jump *label205 lessThan :locateOreAway:distance :findDrillLocation:distanceLimit
   163 label *label37
   164 set *tmp28 false
-    * jump *label34 always
   165 label *label34
   166 set :findDrillLocation:oreX :locateOreAway:x
   167 set :findDrillLocation:oreY :locateOreAway:y
 
   348 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
   349 label *label244
   350 label *label110
-    * jump *label107 always
   351 label *label107
   352 op lessThan *tmp207 :excludeArea:maskX :excludeArea:areaX
   353 op sub *tmp208 7 :excludeArea:blockSizeX
 
   392 label *label271
   393 label *label272
   394 set :shiftMask*retval :shiftMask:mask
-    * jump *label273 always
   395 label *label273
   396 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
-    * jump *label102 always
   397 jump *label104 always
   398 label *label103
   399 set :excludeArea*retval :excludeArea:mask
-    * jump *label102 always
   400 label *label104
   401 label *label102
   402 return :excludeArea*retaddr
 
   441 jump *label208 lessThanEq :findPossiblePlacement:y 3
   442 label *label117
   443 set :findPossiblePlacement*retval -1
-    * jump *label114 always
   444 label *label114
   445 return :findPossiblePlacement*retaddr
   446 end
 
   558 label *label142
   559 label *label143
   560 set :tryPlaceGenerator*retval true
-    * jump *label127 always
   561 label *label127
   562 return :tryPlaceGenerator*retaddr
   563 end
 
   610 label *label223
   611 label *label154
   612 set :createBlockMaskRow*retval :createBlockMaskRow:result
-    * jump *label151 always
   613 label *label151
   614 return :createBlockMaskRow*retaddr
   615 end
 
   670 op or :createBlockMaskRow:result *tmp290 *tmp292
   671 label *label296
   672 label *label297
-    * jump *label298 always
   673 label *label298
   674 set :createAdjacentMask:row2 :createBlockMaskRow:result
   675 op add *tmp302 :createCombinedMask:y 3
 
   721 op or :createBlockMaskRow:result *tmp290 *tmp292
   722 label *label310
   723 label *label311
-    * jump *label312 always
   724 label *label312
   725 set :createAdjacentMask:row1 :createBlockMaskRow:result
   726 label *label245
 
   774 op or :createBlockMaskRow:result *tmp290 *tmp292
   775 label *label324
   776 label *label325
-    * jump *label326 always
   777 label *label326
   778 op shl *tmp306 :createAdjacentMask:row1 1
   779 op or *tmp307 :createAdjacentMask:row2 *tmp306
 
   834 op or :createBlockMaskRow:result *tmp290 *tmp292
   835 label *label338
   836 label *label339
-    * jump *label340 always
   837 label *label340
   838 op shl *tmp306 :createAdjacentMask:row1 1
   839 op or *tmp307 :createAdjacentMask:row2 *tmp306
 
   895 op or :createBlockMaskRow:result *tmp290 *tmp292
   896 label *label352
   897 label *label353
-    * jump *label354 always
   898 label *label354
   899 op shl *tmp306 :createAdjacentMask:row1 1
   900 op or *tmp307 :createAdjacentMask:row2 *tmp306
 
   956 op or :createBlockMaskRow:result *tmp290 *tmp292
   957 label *label366
   958 label *label367
-    * jump *label368 always
   959 label *label368
   960 op shl *tmp306 :createAdjacentMask:row1 1
   961 op or *tmp307 :createAdjacentMask:row2 *tmp306
 
  1042 call *label14 *invalid :excludeArea*retval (m:*label164) (h:*label164)
  1043 label *label164
  1044 set :createCombinedMask*retval :excludeArea*retval
-    * jump *label155 always
  1045 label *label155
  1046 return :createCombinedMask*retaddr
  1047 end
 
  1203 label *label282
  1204 label *label283
  1205 set :shiftMask*retval :shiftMask:mask
-    * jump *label284 always
  1206 label *label284
  1207 op or :layoutThoriumDrillAtLocation:combinedMask :createCombinedMask*retval :shiftMask*retval
  1208 op sub *tmp356 .drillX :layoutThoriumDrillAtLocation:sx
 
  1225 multilabel *label189 (m:marker0)
  1226 label *label185
  1227 set :layoutThoriumDrillAtLocation*retval true
-    * jump *label165 always
  1228 label *label165
  1229 return :layoutThoriumDrillAtLocation*retaddr
  1230 end

Modifications by Iterated phase, Expression Optimization, pass 2, iteration 1:
 
   566 label *label214
   567 op add *tmp291 :createBlockMaskRow:x 4
   568 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result 0 *tmp292
+  569 set :createBlockMaskRow:result *tmp292
   570 label *label215
   571 op shl *tmp290 :createBlockMaskRow:result 1
   572 op add *tmp291 :createBlockMaskRow:x 3
 
   584 op or :createBlockMaskRow:result *tmp290 *tmp292
   585 label *label218
   586 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 0
+  587 set *tmp291 :createBlockMaskRow:x
   588 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   589 op or :createBlockMaskRow:result *tmp290 *tmp292
   590 label *label219
 
   627 label *label287
   628 op add *tmp291 :createCombinedMask:x 4
   629 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result 0 *tmp292
+  630 set :createBlockMaskRow:result *tmp292
   631 label *label288
   632 op shl *tmp290 :createBlockMaskRow:result 1
   633 op add *tmp291 :createCombinedMask:x 3
 
   645 op or :createBlockMaskRow:result *tmp290 *tmp292
   646 label *label291
   647 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createCombinedMask:x 0
+  648 set *tmp291 :createCombinedMask:x
   649 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   650 op or :createBlockMaskRow:result *tmp290 *tmp292
   651 label *label292
 
   678 label *label301
   679 op add *tmp291 :createCombinedMask:x 4
   680 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result 0 *tmp292
+  681 set :createBlockMaskRow:result *tmp292
   682 label *label302
   683 op shl *tmp290 :createBlockMaskRow:result 1
   684 op add *tmp291 :createCombinedMask:x 3
 
   696 op or :createBlockMaskRow:result *tmp290 *tmp292
   697 label *label305
   698 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createCombinedMask:x 0
+  699 set *tmp291 :createCombinedMask:x
   700 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   701 op or :createBlockMaskRow:result *tmp290 *tmp292
   702 label *label306
 
   731 label *label315
   732 op add *tmp291 :createCombinedMask:x 4
   733 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result 0 *tmp292
+  734 set :createBlockMaskRow:result *tmp292
   735 label *label316
   736 op shl *tmp290 :createBlockMaskRow:result 1
   737 op add *tmp291 :createCombinedMask:x 3
 
   749 op or :createBlockMaskRow:result *tmp290 *tmp292
   750 label *label319
   751 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createCombinedMask:x 0
+  752 set *tmp291 :createCombinedMask:x
   753 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   754 op or :createBlockMaskRow:result *tmp290 *tmp292
   755 label *label320
 
   781 op or *tmp309 *tmp307 *tmp308
   782 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:result
   783 op and *tmp312 :createAdjacentMask:mask 0xFE
-    * op or :createAdjacentMask:result 0 *tmp312
+  784 set :createAdjacentMask:result *tmp312
   785 set :createAdjacentMask:row2 :createAdjacentMask:row1
   786 set :createAdjacentMask:row1 :createBlockMaskRow:result
   787 label *label248
 
   791 label *label329
   792 op add *tmp291 :createCombinedMask:x 4
   793 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result 0 *tmp292
+  794 set :createBlockMaskRow:result *tmp292
   795 label *label330
   796 op shl *tmp290 :createBlockMaskRow:result 1
   797 op add *tmp291 :createCombinedMask:x 3
 
   809 op or :createBlockMaskRow:result *tmp290 *tmp292
   810 label *label333
   811 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createCombinedMask:x 0
+  812 set *tmp291 :createCombinedMask:x
   813 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   814 op or :createBlockMaskRow:result *tmp290 *tmp292
   815 label *label334
 
   846 set :createAdjacentMask:row2 :createAdjacentMask:row1
   847 set :createAdjacentMask:row1 :createBlockMaskRow:result
   848 label *label250
-    * op add *tmp304 :createCombinedMask:y 0
+  849 set *tmp304 :createCombinedMask:y
   850 label *label341
   851 label *label342
   852 label *label343
   853 op add *tmp291 :createCombinedMask:x 4
   854 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result 0 *tmp292
+  855 set :createBlockMaskRow:result *tmp292
   856 label *label344
   857 op shl *tmp290 :createBlockMaskRow:result 1
   858 op add *tmp291 :createCombinedMask:x 3
 
   870 op or :createBlockMaskRow:result *tmp290 *tmp292
   871 label *label347
   872 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createCombinedMask:x 0
+  873 set *tmp291 :createCombinedMask:x
   874 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   875 op or :createBlockMaskRow:result *tmp290 *tmp292
   876 label *label348
 
   913 label *label357
   914 op add *tmp291 :createCombinedMask:x 4
   915 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result 0 *tmp292
+  916 set :createBlockMaskRow:result *tmp292
   917 label *label358
   918 op shl *tmp290 :createBlockMaskRow:result 1
   919 op add *tmp291 :createCombinedMask:x 3
 
   931 op or :createBlockMaskRow:result *tmp290 *tmp292
   932 label *label361
   933 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createCombinedMask:x 0
+  934 set *tmp291 :createCombinedMask:x
   935 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   936 op or :createBlockMaskRow:result *tmp290 *tmp292
   937 label *label362

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-11 instructions):
 
   565 label *label213
   566 label *label214
   567 op add *tmp291 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * set :createBlockMaskRow:result *tmp292
+  568 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 :createBlockMaskRow:result *tmp294
   569 label *label215
   570 op shl *tmp290 :createBlockMaskRow:result 1
   571 op add *tmp291 :createBlockMaskRow:x 3
 
   605 op shl *tmp290 :createBlockMaskRow:result 1
   606 op add *tmp291 :createBlockMaskRow:x -4
   607 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result *tmp290 *tmp292
+  608 op or :createBlockMaskRow*retval *tmp290 *tmp292
   609 label *label223
   610 label *label154
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   611 label *label151
   612 return :createBlockMaskRow*retaddr
   613 end
 
   624 label *label286
   625 label *label287
   626 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
-    * set :createBlockMaskRow:result *tmp292
+  627 ucontrol getBlock *tmp291 *tmp300 *tmp293 :createBlockMaskRow:result *tmp294
   628 label *label288
   629 op shl *tmp290 :createBlockMaskRow:result 1
   630 op add *tmp291 :createCombinedMask:x 3
 
   664 op shl *tmp290 :createBlockMaskRow:result 1
   665 op add *tmp291 :createCombinedMask:x -4
   666 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result *tmp290 *tmp292
+  667 op or :createAdjacentMask:row2 *tmp290 *tmp292
   668 label *label296
   669 label *label297
   670 label *label298
-    * set :createAdjacentMask:row2 :createBlockMaskRow:result
   671 op add *tmp302 :createCombinedMask:y 3
   672 label *label299
   673 label *label300
   674 label *label301
   675 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
-    * set :createBlockMaskRow:result *tmp292
+  676 ucontrol getBlock *tmp291 *tmp302 *tmp293 :createBlockMaskRow:result *tmp294
   677 label *label302
   678 op shl *tmp290 :createBlockMaskRow:result 1
   679 op add *tmp291 :createCombinedMask:x 3
 
   713 op shl *tmp290 :createBlockMaskRow:result 1
   714 op add *tmp291 :createCombinedMask:x -4
   715 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result *tmp290 *tmp292
+  716 op or :createAdjacentMask:row1 *tmp290 *tmp292
   717 label *label310
   718 label *label311
   719 label *label312
-    * set :createAdjacentMask:row1 :createBlockMaskRow:result
   720 label *label245
   721 label *label246
   722 op add *tmp304 :createCombinedMask:y 2
 
   724 label *label314
   725 label *label315
   726 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
-    * set :createBlockMaskRow:result *tmp292
+  727 ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
   728 label *label316
   729 op shl *tmp290 :createBlockMaskRow:result 1
   730 op add *tmp291 :createCombinedMask:x 3
 
   773 op shr *tmp308 :createAdjacentMask:row1 1
   774 op or *tmp309 *tmp307 *tmp308
   775 op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:result
-    * op and *tmp312 :createAdjacentMask:mask 0xFE
-    * set :createAdjacentMask:result *tmp312
+  776 op and :createAdjacentMask:result :createAdjacentMask:mask 0xFE
   777 set :createAdjacentMask:row2 :createAdjacentMask:row1
   778 set :createAdjacentMask:row1 :createBlockMaskRow:result
   779 label *label248
 
   782 label *label328
   783 label *label329
   784 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
-    * set :createBlockMaskRow:result *tmp292
+  785 ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
   786 label *label330
   787 op shl *tmp290 :createBlockMaskRow:result 1
   788 op add *tmp291 :createCombinedMask:x 3
 
   842 label *label342
   843 label *label343
   844 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
-    * set :createBlockMaskRow:result *tmp292
+  845 ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
   846 label *label344
   847 op shl *tmp290 :createBlockMaskRow:result 1
   848 op add *tmp291 :createCombinedMask:x 3
 
   902 label *label356
   903 label *label357
   904 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
-    * set :createBlockMaskRow:result *tmp292
+  905 ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
   906 label *label358
   907 op shl *tmp290 :createBlockMaskRow:result 1
   908 op add *tmp291 :createCombinedMask:x 3

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   584 label *label218
   585 op shl *tmp290 :createBlockMaskRow:result 1
   586 set *tmp291 :createBlockMaskRow:x
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  587 ucontrol getBlock :createBlockMaskRow:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   588 op or :createBlockMaskRow:result *tmp290 *tmp292
   589 label *label219
   590 op shl *tmp290 :createBlockMaskRow:result 1
 
   643 label *label291
   644 op shl *tmp290 :createBlockMaskRow:result 1
   645 set *tmp291 :createCombinedMask:x
-    * ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
+  646 ucontrol getBlock :createCombinedMask:x *tmp300 *tmp293 *tmp292 *tmp294
   647 op or :createBlockMaskRow:result *tmp290 *tmp292
   648 label *label292
   649 op shl *tmp290 :createBlockMaskRow:result 1
 
   692 label *label305
   693 op shl *tmp290 :createBlockMaskRow:result 1
   694 set *tmp291 :createCombinedMask:x
-    * ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
+  695 ucontrol getBlock :createCombinedMask:x *tmp302 *tmp293 *tmp292 *tmp294
   696 op or :createBlockMaskRow:result *tmp290 *tmp292
   697 label *label306
   698 op shl *tmp290 :createBlockMaskRow:result 1
 
   743 label *label319
   744 op shl *tmp290 :createBlockMaskRow:result 1
   745 set *tmp291 :createCombinedMask:x
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  746 ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
   747 op or :createBlockMaskRow:result *tmp290 *tmp292
   748 label *label320
   749 op shl *tmp290 :createBlockMaskRow:result 1
 
   801 label *label333
   802 op shl *tmp290 :createBlockMaskRow:result 1
   803 set *tmp291 :createCombinedMask:x
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  804 ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
   805 op or :createBlockMaskRow:result *tmp290 *tmp292
   806 label *label334
   807 op shl *tmp290 :createBlockMaskRow:result 1
 
   842 label *label342
   843 label *label343
   844 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
+  845 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 :createBlockMaskRow:result *tmp294
   846 label *label344
   847 op shl *tmp290 :createBlockMaskRow:result 1
   848 op add *tmp291 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  849 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   850 op or :createBlockMaskRow:result *tmp290 *tmp292
   851 label *label345
   852 op shl *tmp290 :createBlockMaskRow:result 1
   853 op add *tmp291 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  854 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   855 op or :createBlockMaskRow:result *tmp290 *tmp292
   856 label *label346
   857 op shl *tmp290 :createBlockMaskRow:result 1
   858 op add *tmp291 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  859 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   860 op or :createBlockMaskRow:result *tmp290 *tmp292
   861 label *label347
   862 op shl *tmp290 :createBlockMaskRow:result 1
   863 set *tmp291 :createCombinedMask:x
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  864 ucontrol getBlock :createCombinedMask:x :createCombinedMask:y *tmp293 *tmp292 *tmp294
   865 op or :createBlockMaskRow:result *tmp290 *tmp292
   866 label *label348
   867 op shl *tmp290 :createBlockMaskRow:result 1
   868 op add *tmp291 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  869 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   870 op or :createBlockMaskRow:result *tmp290 *tmp292
   871 label *label349
   872 op shl *tmp290 :createBlockMaskRow:result 1
   873 op add *tmp291 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  874 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   875 op or :createBlockMaskRow:result *tmp290 *tmp292
   876 label *label350
   877 op shl *tmp290 :createBlockMaskRow:result 1
   878 op add *tmp291 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  879 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   880 op or :createBlockMaskRow:result *tmp290 *tmp292
   881 label *label351
   882 op shl *tmp290 :createBlockMaskRow:result 1
   883 op add *tmp291 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  884 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   885 op or :createBlockMaskRow:result *tmp290 *tmp292
   886 label *label352
   887 label *label353
 
   921 label *label361
   922 op shl *tmp290 :createBlockMaskRow:result 1
   923 set *tmp291 :createCombinedMask:x
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  924 ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
   925 op or :createBlockMaskRow:result *tmp290 *tmp292
   926 label *label362
   927 op shl *tmp290 :createBlockMaskRow:result 1

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 3 (-8 instructions):
 
   583 op or :createBlockMaskRow:result *tmp290 *tmp292
   584 label *label218
   585 op shl *tmp290 :createBlockMaskRow:result 1
-    * set *tmp291 :createBlockMaskRow:x
   586 ucontrol getBlock :createBlockMaskRow:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   587 op or :createBlockMaskRow:result *tmp290 *tmp292
   588 label *label219
 
   641 op or :createBlockMaskRow:result *tmp290 *tmp292
   642 label *label291
   643 op shl *tmp290 :createBlockMaskRow:result 1
-    * set *tmp291 :createCombinedMask:x
   644 ucontrol getBlock :createCombinedMask:x *tmp300 *tmp293 *tmp292 *tmp294
   645 op or :createBlockMaskRow:result *tmp290 *tmp292
   646 label *label292
 
   689 op or :createBlockMaskRow:result *tmp290 *tmp292
   690 label *label305
   691 op shl *tmp290 :createBlockMaskRow:result 1
-    * set *tmp291 :createCombinedMask:x
   692 ucontrol getBlock :createCombinedMask:x *tmp302 *tmp293 *tmp292 *tmp294
   693 op or :createBlockMaskRow:result *tmp290 *tmp292
   694 label *label306
 
   739 op or :createBlockMaskRow:result *tmp290 *tmp292
   740 label *label319
   741 op shl *tmp290 :createBlockMaskRow:result 1
-    * set *tmp291 :createCombinedMask:x
   742 ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
   743 op or :createBlockMaskRow:result *tmp290 *tmp292
   744 label *label320
 
   796 op or :createBlockMaskRow:result *tmp290 *tmp292
   797 label *label333
   798 op shl *tmp290 :createBlockMaskRow:result 1
-    * set *tmp291 :createCombinedMask:x
   799 ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
   800 op or :createBlockMaskRow:result *tmp290 *tmp292
   801 label *label334
 
   832 set :createAdjacentMask:row2 :createAdjacentMask:row1
   833 set :createAdjacentMask:row1 :createBlockMaskRow:result
   834 label *label250
-    * set *tmp304 :createCombinedMask:y
   835 label *label341
   836 label *label342
   837 label *label343
 
   854 op or :createBlockMaskRow:result *tmp290 *tmp292
   855 label *label347
   856 op shl *tmp290 :createBlockMaskRow:result 1
-    * set *tmp291 :createCombinedMask:x
   857 ucontrol getBlock :createCombinedMask:x :createCombinedMask:y *tmp293 *tmp292 *tmp294
   858 op or :createBlockMaskRow:result *tmp290 *tmp292
   859 label *label348
 
   913 op or :createBlockMaskRow:result *tmp290 *tmp292
   914 label *label361
   915 op shl *tmp290 :createBlockMaskRow:result 1
-    * set *tmp291 :createCombinedMask:x
   916 ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
   917 op or :createBlockMaskRow:result *tmp290 *tmp292
   918 label *label362

Modifications by Iterated phase, If Expression Optimization, pass 2, iteration 1:
 
   296 op sub *tmp192 :excludeArea:maskY :excludeArea:areaY
   297 op abs *tmp193 *tmp192
   298 op sub :excludeArea:overlapY *tmp191 *tmp193
-    * jump *label103 lessThanEq :excludeArea:overlapX 0
-    * jump *label103 lessThanEq :excludeArea:overlapY 0
+  299 set :excludeArea*retval :excludeArea:mask
+  300 jump *label104 lessThanEq :excludeArea:overlapX 0
+  301 jump *label104 lessThanEq :excludeArea:overlapY 0
   302 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
   303 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
   304 op shl *tmp201 1 :excludeArea:blockSizeX
 
   396 label *label273
   397 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   398 jump *label104 always
-    * label *label103
-    * set :excludeArea*retval :excludeArea:mask
   399 label *label104
   400 label *label102
   401 return :excludeArea*retaddr

Modifications by Inline function 'createBlockMaskRow' defined at OreLocator.mnd:475:1 (+58 instructions):
 
   560 label *label127
   561 return :tryPlaceGenerator*retaddr
   562 end
-    * label *label17
-    * label *label213
-    * label *label214
-    * op add *tmp291 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 :createBlockMaskRow:result *tmp294
-    * label *label215
-    * op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label216
-    * op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label217
-    * op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label218
-    * op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createBlockMaskRow:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label219
-    * op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label220
-    * op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label221
-    * op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label222
-    * op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
-    * op or :createBlockMaskRow*retval *tmp290 *tmp292
-    * label *label223
-    * label *label154
-    * label *label151
-    * return :createBlockMaskRow*retaddr
-    * end
   563 label *label18
   564 write @unit processor4 ":createTerrainMask:unit"
   565 write :createCombinedMask:x processor4 ":createTerrainMask:x"
 
   903 op add *tmp304 :createCombinedMask:y -2
   904 set :createBlockMaskRow:x :createCombinedMask:x
   905 set :createBlockMaskRow:y *tmp304
-    * setaddr :createBlockMaskRow*retaddr *label255 (h:*label255)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label255) (h:*label255)
-    * label *label255
+  906 label *label369
+  907 label *label370
+  908 label *label371
+  909 op add *tmp291 :createBlockMaskRow:x 4
+  910 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 :createBlockMaskRow:result *tmp294
+  911 label *label372
+  912 op shl *tmp290 :createBlockMaskRow:result 1
+  913 op add *tmp291 :createBlockMaskRow:x 3
+  914 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  915 op or :createBlockMaskRow:result *tmp290 *tmp292
+  916 label *label373
+  917 op shl *tmp290 :createBlockMaskRow:result 1
+  918 op add *tmp291 :createBlockMaskRow:x 2
+  919 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  920 op or :createBlockMaskRow:result *tmp290 *tmp292
+  921 label *label374
+  922 op shl *tmp290 :createBlockMaskRow:result 1
+  923 op add *tmp291 :createBlockMaskRow:x 1
+  924 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  925 op or :createBlockMaskRow:result *tmp290 *tmp292
+  926 label *label375
+  927 op shl *tmp290 :createBlockMaskRow:result 1
+  928 ucontrol getBlock :createBlockMaskRow:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  929 op or :createBlockMaskRow:result *tmp290 *tmp292
+  930 label *label376
+  931 op shl *tmp290 :createBlockMaskRow:result 1
+  932 op add *tmp291 :createBlockMaskRow:x -1
+  933 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  934 op or :createBlockMaskRow:result *tmp290 *tmp292
+  935 label *label377
+  936 op shl *tmp290 :createBlockMaskRow:result 1
+  937 op add *tmp291 :createBlockMaskRow:x -2
+  938 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  939 op or :createBlockMaskRow:result *tmp290 *tmp292
+  940 label *label378
+  941 op shl *tmp290 :createBlockMaskRow:result 1
+  942 op add *tmp291 :createBlockMaskRow:x -3
+  943 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  944 op or :createBlockMaskRow:result *tmp290 *tmp292
+  945 label *label379
+  946 op shl *tmp290 :createBlockMaskRow:result 1
+  947 op add *tmp291 :createBlockMaskRow:x -4
+  948 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  949 op or :createBlockMaskRow*retval *tmp290 *tmp292
+  950 label *label380
+  951 label *label381
+  952 label *label382
   953 op shl *tmp306 :createAdjacentMask:row1 1
   954 op or *tmp307 :createAdjacentMask:row2 *tmp306
   955 op shr *tmp308 :createAdjacentMask:row1 1
 
   965 op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
   966 set :createBlockMaskRow:x :createAdjacentMask:x
   967 set :createBlockMaskRow:y *tmp304
-    * setaddr :createBlockMaskRow*retaddr *label257 (h:*label257)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label257) (h:*label257)
-    * label *label257
+  968 label *label383
+  969 label *label384
+  970 label *label385
+  971 op add *tmp291 :createBlockMaskRow:x 4
+  972 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 :createBlockMaskRow:result *tmp294
+  973 label *label386
+  974 op shl *tmp290 :createBlockMaskRow:result 1
+  975 op add *tmp291 :createBlockMaskRow:x 3
+  976 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  977 op or :createBlockMaskRow:result *tmp290 *tmp292
+  978 label *label387
+  979 op shl *tmp290 :createBlockMaskRow:result 1
+  980 op add *tmp291 :createBlockMaskRow:x 2
+  981 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  982 op or :createBlockMaskRow:result *tmp290 *tmp292
+  983 label *label388
+  984 op shl *tmp290 :createBlockMaskRow:result 1
+  985 op add *tmp291 :createBlockMaskRow:x 1
+  986 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  987 op or :createBlockMaskRow:result *tmp290 *tmp292
+  988 label *label389
+  989 op shl *tmp290 :createBlockMaskRow:result 1
+  990 ucontrol getBlock :createBlockMaskRow:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  991 op or :createBlockMaskRow:result *tmp290 *tmp292
+  992 label *label390
+  993 op shl *tmp290 :createBlockMaskRow:result 1
+  994 op add *tmp291 :createBlockMaskRow:x -1
+  995 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  996 op or :createBlockMaskRow:result *tmp290 *tmp292
+  997 label *label391
+  998 op shl *tmp290 :createBlockMaskRow:result 1
+  999 op add *tmp291 :createBlockMaskRow:x -2
+ 1000 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1001 op or :createBlockMaskRow:result *tmp290 *tmp292
+ 1002 label *label392
+ 1003 op shl *tmp290 :createBlockMaskRow:result 1
+ 1004 op add *tmp291 :createBlockMaskRow:x -3
+ 1005 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1006 op or :createBlockMaskRow:result *tmp290 *tmp292
+ 1007 label *label393
+ 1008 op shl *tmp290 :createBlockMaskRow:result 1
+ 1009 op add *tmp291 :createBlockMaskRow:x -4
+ 1010 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1011 op or :createBlockMaskRow*retval *tmp290 *tmp292
+ 1012 label *label394
+ 1013 label *label395
+ 1014 label *label396
  1015 op shl *tmp306 :createAdjacentMask:row1 1
  1016 op or *tmp307 :createAdjacentMask:row2 *tmp306
  1017 op shr *tmp308 :createAdjacentMask:row1 1
 
  1027 op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
  1028 set :createBlockMaskRow:x :createAdjacentMask:x
  1029 set :createBlockMaskRow:y *tmp304
-    * setaddr :createBlockMaskRow*retaddr *label259 (h:*label259)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label259) (h:*label259)
-    * label *label259
+ 1030 label *label397
+ 1031 label *label398
+ 1032 label *label399
+ 1033 op add *tmp291 :createBlockMaskRow:x 4
+ 1034 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 :createBlockMaskRow:result *tmp294
+ 1035 label *label400
+ 1036 op shl *tmp290 :createBlockMaskRow:result 1
+ 1037 op add *tmp291 :createBlockMaskRow:x 3
+ 1038 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1039 op or :createBlockMaskRow:result *tmp290 *tmp292
+ 1040 label *label401
+ 1041 op shl *tmp290 :createBlockMaskRow:result 1
+ 1042 op add *tmp291 :createBlockMaskRow:x 2
+ 1043 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1044 op or :createBlockMaskRow:result *tmp290 *tmp292
+ 1045 label *label402
+ 1046 op shl *tmp290 :createBlockMaskRow:result 1
+ 1047 op add *tmp291 :createBlockMaskRow:x 1
+ 1048 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1049 op or :createBlockMaskRow:result *tmp290 *tmp292
+ 1050 label *label403
+ 1051 op shl *tmp290 :createBlockMaskRow:result 1
+ 1052 ucontrol getBlock :createBlockMaskRow:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1053 op or :createBlockMaskRow:result *tmp290 *tmp292
+ 1054 label *label404
+ 1055 op shl *tmp290 :createBlockMaskRow:result 1
+ 1056 op add *tmp291 :createBlockMaskRow:x -1
+ 1057 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1058 op or :createBlockMaskRow:result *tmp290 *tmp292
+ 1059 label *label405
+ 1060 op shl *tmp290 :createBlockMaskRow:result 1
+ 1061 op add *tmp291 :createBlockMaskRow:x -2
+ 1062 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1063 op or :createBlockMaskRow:result *tmp290 *tmp292
+ 1064 label *label406
+ 1065 op shl *tmp290 :createBlockMaskRow:result 1
+ 1066 op add *tmp291 :createBlockMaskRow:x -3
+ 1067 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1068 op or :createBlockMaskRow:result *tmp290 *tmp292
+ 1069 label *label407
+ 1070 op shl *tmp290 :createBlockMaskRow:result 1
+ 1071 op add *tmp291 :createBlockMaskRow:x -4
+ 1072 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1073 op or :createBlockMaskRow*retval *tmp290 *tmp292
+ 1074 label *label408
+ 1075 label *label409
+ 1076 label *label410
  1077 op shl *tmp306 :createAdjacentMask:row1 1
  1078 op or *tmp307 :createAdjacentMask:row2 *tmp306
  1079 op shr *tmp308 :createAdjacentMask:row1 1

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-2 instructions):
 
   900 set :createAdjacentMask:row1 :createBlockMaskRow:result
   901 label *label254
   902 op sub :createAdjacentMask:r -1 1
-    * op add *tmp304 :createCombinedMask:y -2
+  903 op add :createBlockMaskRow:y :createCombinedMask:y -2
   904 set :createBlockMaskRow:x :createCombinedMask:x
-    * set :createBlockMaskRow:y *tmp304
   905 label *label369
   906 label *label370
   907 label *label371
 
   961 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   962 label *label256
   963 op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
+  964 op add :createBlockMaskRow:y :createAdjacentMask:y :createAdjacentMask:r
   965 set :createBlockMaskRow:x :createAdjacentMask:x
-    * set :createBlockMaskRow:y *tmp304
   966 label *label383
   967 label *label384
   968 label *label385

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   905 label *label369
   906 label *label370
   907 label *label371
-    * op add *tmp291 :createBlockMaskRow:x 4
+  908 op add *tmp291 :createCombinedMask:x 4
   909 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 :createBlockMaskRow:result *tmp294
   910 label *label372
   911 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 3
+  912 op add *tmp291 :createCombinedMask:x 3
   913 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   914 op or :createBlockMaskRow:result *tmp290 *tmp292
   915 label *label373
   916 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 2
+  917 op add *tmp291 :createCombinedMask:x 2
   918 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   919 op or :createBlockMaskRow:result *tmp290 *tmp292
   920 label *label374
   921 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 1
+  922 op add *tmp291 :createCombinedMask:x 1
   923 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   924 op or :createBlockMaskRow:result *tmp290 *tmp292
   925 label *label375
   926 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createBlockMaskRow:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  927 ucontrol getBlock :createCombinedMask:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   928 op or :createBlockMaskRow:result *tmp290 *tmp292
   929 label *label376
   930 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -1
+  931 op add *tmp291 :createCombinedMask:x -1
   932 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   933 op or :createBlockMaskRow:result *tmp290 *tmp292
   934 label *label377
   935 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -2
+  936 op add *tmp291 :createCombinedMask:x -2
   937 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   938 op or :createBlockMaskRow:result *tmp290 *tmp292
   939 label *label378
   940 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -3
+  941 op add *tmp291 :createCombinedMask:x -3
   942 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   943 op or :createBlockMaskRow:result *tmp290 *tmp292
   944 label *label379
   945 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -4
+  946 op add *tmp291 :createCombinedMask:x -4
   947 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   948 op or :createBlockMaskRow*retval *tmp290 *tmp292
   949 label *label380
 
   960 set :createAdjacentMask:row2 :createAdjacentMask:row1
   961 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   962 label *label256
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * op add :createBlockMaskRow:y :createAdjacentMask:y :createAdjacentMask:r
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  963 op sub :createAdjacentMask:r -2 1
+  964 op add :createBlockMaskRow:y :createCombinedMask:y -3
+  965 set :createBlockMaskRow:x :createCombinedMask:x
   966 label *label383
   967 label *label384
   968 label *label385
-    * op add *tmp291 :createBlockMaskRow:x 4
+  969 op add *tmp291 :createAdjacentMask:x 4
   970 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 :createBlockMaskRow:result *tmp294
   971 label *label386
   972 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 3
+  973 op add *tmp291 :createAdjacentMask:x 3
   974 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   975 op or :createBlockMaskRow:result *tmp290 *tmp292
   976 label *label387
   977 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 2
+  978 op add *tmp291 :createAdjacentMask:x 2
   979 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   980 op or :createBlockMaskRow:result *tmp290 *tmp292
   981 label *label388
   982 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 1
+  983 op add *tmp291 :createAdjacentMask:x 1
   984 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   985 op or :createBlockMaskRow:result *tmp290 *tmp292
   986 label *label389
   987 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createBlockMaskRow:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  988 ucontrol getBlock :createAdjacentMask:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   989 op or :createBlockMaskRow:result *tmp290 *tmp292
   990 label *label390
   991 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -1
+  992 op add *tmp291 :createAdjacentMask:x -1
   993 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   994 op or :createBlockMaskRow:result *tmp290 *tmp292
   995 label *label391
   996 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -2
+  997 op add *tmp291 :createAdjacentMask:x -2
   998 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   999 op or :createBlockMaskRow:result *tmp290 *tmp292
  1000 label *label392
  1001 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -3
+ 1002 op add *tmp291 :createAdjacentMask:x -3
  1003 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
  1004 op or :createBlockMaskRow:result *tmp290 *tmp292
  1005 label *label393
  1006 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -4
+ 1007 op add *tmp291 :createAdjacentMask:x -4
  1008 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
  1009 op or :createBlockMaskRow*retval *tmp290 *tmp292
  1010 label *label394
 
  1021 set :createAdjacentMask:row2 :createAdjacentMask:row1
  1022 set :createAdjacentMask:row1 :createBlockMaskRow*retval
  1023 label *label258
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * op add *tmp304 :createAdjacentMask:y :createAdjacentMask:r
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+ 1024 op sub :createAdjacentMask:r -3 1
+ 1025 op add *tmp304 :createCombinedMask:y -4
+ 1026 set :createBlockMaskRow:x :createCombinedMask:x
  1027 set :createBlockMaskRow:y *tmp304
  1028 label *label397
  1029 label *label398
  1030 label *label399
-    * op add *tmp291 :createBlockMaskRow:x 4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 :createBlockMaskRow:result *tmp294
+ 1031 op add *tmp291 :createAdjacentMask:x 4
+ 1032 ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
  1033 label *label400
  1034 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1035 op add *tmp291 :createAdjacentMask:x 3
+ 1036 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1037 op or :createBlockMaskRow:result *tmp290 *tmp292
  1038 label *label401
  1039 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1040 op add *tmp291 :createAdjacentMask:x 2
+ 1041 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1042 op or :createBlockMaskRow:result *tmp290 *tmp292
  1043 label *label402
  1044 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x 1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1045 op add *tmp291 :createAdjacentMask:x 1
+ 1046 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1047 op or :createBlockMaskRow:result *tmp290 *tmp292
  1048 label *label403
  1049 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createBlockMaskRow:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1050 ucontrol getBlock :createAdjacentMask:x *tmp304 *tmp293 *tmp292 *tmp294
  1051 op or :createBlockMaskRow:result *tmp290 *tmp292
  1052 label *label404
  1053 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1054 op add *tmp291 :createAdjacentMask:x -1
+ 1055 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1056 op or :createBlockMaskRow:result *tmp290 *tmp292
  1057 label *label405
  1058 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1059 op add *tmp291 :createAdjacentMask:x -2
+ 1060 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1061 op or :createBlockMaskRow:result *tmp290 *tmp292
  1062 label *label406
  1063 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1064 op add *tmp291 :createAdjacentMask:x -3
+ 1065 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1066 op or :createBlockMaskRow:result *tmp290 *tmp292
  1067 label *label407
  1068 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createBlockMaskRow:x -4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+ 1069 op add *tmp291 :createAdjacentMask:x -4
+ 1070 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1071 op or :createBlockMaskRow*retval *tmp290 *tmp292
  1072 label *label408
  1073 label *label409
 
  1083 set :createAdjacentMask:row2 :createAdjacentMask:row1
  1084 set :createAdjacentMask:row1 :createBlockMaskRow*retval
  1085 label *label260
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
+ 1086 op sub :createAdjacentMask:r -4 1
  1087 label *label161
  1088 op shr *tmp299 :createAdjacentMask:result 1
  1089 label *label156

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 3 (-8 instructions):
 
   567 write false processor4 ":createTerrainMask*finished"
   568 write 1 processor4 "@counter"
   569 set :createAdjacentMask:x :createCombinedMask:x
-    * set :createAdjacentMask:y :createCombinedMask:y
   570 op add *tmp300 :createCombinedMask:y 4
   571 label *label285
   572 label *label286
 
   898 set :createAdjacentMask:row2 :createAdjacentMask:row1
   899 set :createAdjacentMask:row1 :createBlockMaskRow:result
   900 label *label254
-    * op sub :createAdjacentMask:r -1 1
   901 op add :createBlockMaskRow:y :createCombinedMask:y -2
-    * set :createBlockMaskRow:x :createCombinedMask:x
   902 label *label369
   903 label *label370
   904 label *label371
 
   957 set :createAdjacentMask:row2 :createAdjacentMask:row1
   958 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   959 label *label256
-    * op sub :createAdjacentMask:r -2 1
   960 op add :createBlockMaskRow:y :createCombinedMask:y -3
-    * set :createBlockMaskRow:x :createCombinedMask:x
   961 label *label383
   962 label *label384
   963 label *label385
-    * op add *tmp291 :createAdjacentMask:x 4
+  964 op add *tmp291 :createCombinedMask:x 4
   965 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 :createBlockMaskRow:result *tmp294
   966 label *label386
   967 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x 3
+  968 op add *tmp291 :createCombinedMask:x 3
   969 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   970 op or :createBlockMaskRow:result *tmp290 *tmp292
   971 label *label387
   972 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x 2
+  973 op add *tmp291 :createCombinedMask:x 2
   974 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   975 op or :createBlockMaskRow:result *tmp290 *tmp292
   976 label *label388
   977 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x 1
+  978 op add *tmp291 :createCombinedMask:x 1
   979 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   980 op or :createBlockMaskRow:result *tmp290 *tmp292
   981 label *label389
   982 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createAdjacentMask:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  983 ucontrol getBlock :createCombinedMask:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   984 op or :createBlockMaskRow:result *tmp290 *tmp292
   985 label *label390
   986 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x -1
+  987 op add *tmp291 :createCombinedMask:x -1
   988 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   989 op or :createBlockMaskRow:result *tmp290 *tmp292
   990 label *label391
   991 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x -2
+  992 op add *tmp291 :createCombinedMask:x -2
   993 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   994 op or :createBlockMaskRow:result *tmp290 *tmp292
   995 label *label392
   996 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x -3
+  997 op add *tmp291 :createCombinedMask:x -3
   998 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   999 op or :createBlockMaskRow:result *tmp290 *tmp292
  1000 label *label393
  1001 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x -4
+ 1002 op add *tmp291 :createCombinedMask:x -4
  1003 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
  1004 op or :createBlockMaskRow*retval *tmp290 *tmp292
  1005 label *label394
 
  1016 set :createAdjacentMask:row2 :createAdjacentMask:row1
  1017 set :createAdjacentMask:row1 :createBlockMaskRow*retval
  1018 label *label258
-    * op sub :createAdjacentMask:r -3 1
  1019 op add *tmp304 :createCombinedMask:y -4
-    * set :createBlockMaskRow:x :createCombinedMask:x
  1020 set :createBlockMaskRow:y *tmp304
  1021 label *label397
  1022 label *label398
  1023 label *label399
-    * op add *tmp291 :createAdjacentMask:x 4
+ 1024 op add *tmp291 :createCombinedMask:x 4
  1025 ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
  1026 label *label400
  1027 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x 3
+ 1028 op add *tmp291 :createCombinedMask:x 3
  1029 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1030 op or :createBlockMaskRow:result *tmp290 *tmp292
  1031 label *label401
  1032 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x 2
+ 1033 op add *tmp291 :createCombinedMask:x 2
  1034 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1035 op or :createBlockMaskRow:result *tmp290 *tmp292
  1036 label *label402
  1037 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x 1
+ 1038 op add *tmp291 :createCombinedMask:x 1
  1039 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1040 op or :createBlockMaskRow:result *tmp290 *tmp292
  1041 label *label403
  1042 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createAdjacentMask:x *tmp304 *tmp293 *tmp292 *tmp294
+ 1043 ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
  1044 op or :createBlockMaskRow:result *tmp290 *tmp292
  1045 label *label404
  1046 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x -1
+ 1047 op add *tmp291 :createCombinedMask:x -1
  1048 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1049 op or :createBlockMaskRow:result *tmp290 *tmp292
  1050 label *label405
  1051 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x -2
+ 1052 op add *tmp291 :createCombinedMask:x -2
  1053 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1054 op or :createBlockMaskRow:result *tmp290 *tmp292
  1055 label *label406
  1056 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x -3
+ 1057 op add *tmp291 :createCombinedMask:x -3
  1058 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1059 op or :createBlockMaskRow:result *tmp290 *tmp292
  1060 label *label407
  1061 op shl *tmp290 :createBlockMaskRow:result 1
-    * op add *tmp291 :createAdjacentMask:x -4
+ 1062 op add *tmp291 :createCombinedMask:x -4
  1063 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
  1064 op or :createBlockMaskRow*retval *tmp290 *tmp292
  1065 label *label408
 
  1076 set :createAdjacentMask:row2 :createAdjacentMask:row1
  1077 set :createAdjacentMask:row1 :createBlockMaskRow*retval
  1078 label *label260
-    * op sub :createAdjacentMask:r -4 1
  1079 label *label161
  1080 op shr *tmp299 :createAdjacentMask:result 1
  1081 label *label156

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 4 (-1 instructions):
 
   566 write :createCombinedMask:y processor4 ":createTerrainMask:y"
   567 write false processor4 ":createTerrainMask*finished"
   568 write 1 processor4 "@counter"
-    * set :createAdjacentMask:x :createCombinedMask:x
   569 op add *tmp300 :createCombinedMask:y 4
   570 label *label285
   571 label *label286

Modifications by Iterated phase, Single Step Elimination, pass 3, iteration 1 (-1 instructions):
 
   395 set :shiftMask*retval :shiftMask:mask
   396 label *label273
   397 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
-    * jump *label104 always
   398 label *label104
   399 label *label102
   400 return :excludeArea*retaddr

Modifications by Jumps phase, Unreachable Code Elimination, pass 5, iteration 1 (-11 instructions):
 
    12 label *label22
    13 wait 1e12
    14 jump *label22 always
-    * end
    15 label *label4
    16 setaddr :findDrillLocation*retaddr *label22
    17 label *label5
 
    32 set :findDrillLocation:distanceLimit *tmp15
    33 set .angle 0
    34 set .mapProgress 0
-    * label *label26
    35 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
    36 jump *label28 notEqual *tmp18 false
    37 label *label261
    38 ucontrol approach :findDrillLocation:x :findDrillLocation:y 5.5
-    * label *label27
    39 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
    40 jump *label261 equal *tmp18 false
    41 label *label28
-    * label *label25
-    * label *label24
    42 op div *tmp21 *tmp15 3.8197185279121366
    43 op pow .mapTotal *tmp21 2
    44 set :findDrillLocation:oreX 0
 
    61 op mul .mapProgress .angle .angle
    62 op sub *tmp37 @mapw 5
    63 op sub *tmp44 @maph 5
-    * label *label35
    64 jump *label37 greaterThanEq :locateOreAway:distance :findDrillLocation:distanceLimit
    65 label *label205
    66 op div :locateOreAway:a .angle @degToRad
 
    69 op add *tmp36 :findDrillLocation:x *tmp35
    70 op max *tmp39 *tmp36 5
    71 op min *tmp38 *tmp39 *tmp37
-    * label *label38
    72 op cos *tmp41 :locateOreAway:a
    73 op mul *tmp42 *tmp41 :locateOreAway:distance
    74 op add *tmp43 :findDrillLocation:y *tmp42
    75 op max *tmp46 *tmp43 5
    76 op min *tmp45 *tmp46 *tmp44
-    * label *label39
-    * label *label41
    77 ucontrol within *tmp38 *tmp45 5 *tmp48
    78 jump *label43 notEqual *tmp48 false
    79 label *label212
    80 ucontrol approach *tmp38 *tmp45 4.5
-    * label *label42
    81 ucontrol within *tmp38 *tmp45 5 *tmp48
    82 jump *label212 equal *tmp48 false
    83 label *label43
-    * label *label40
    84 op div *tmp51 3.8197185279121366 :locateOreAway:distance
    85 op add .angle .angle *tmp51
    86 op mul .mapProgress .angle .angle
 
    90 set *tmp28 false
    91 jump *label34 always
    92 label *label44
-    * label *label45
    93 op sub *tmp58 :locateOreAway:x :findDrillLocation:x
    94 op abs *tmp59 *tmp58
    95 op sub *tmp60 :locateOreAway:y :findDrillLocation:y
 
   102 jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
   103 jump *label36 always
   104 label *label48
-    * label *label49
   105 label *label46
-    * label *label47
   106 jump *label50 lessThan :locateOreAway:coreDist 8
   107 jump *label52 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
   108 set :locateOreAway:lastX :locateOreAway:x
   109 set :locateOreAway:lastY :locateOreAway:y
   110 set *tmp75 .locations
   111 set :visited:i .locationsStart
-    * label *label57
   112 jump *label59 greaterThanEq .locationsStart *tmp75
   113 label *label206
   114 op mul :visited:index 4 :visited:i
 
   123 set *tmp74 true
   124 jump *label56 always
   125 label *label60
-    * label *label61
-    * label *label58
   126 op add :visited:i :visited:i 1
   127 jump *label206 lessThan :visited:i *tmp75
   128 label *label59
 
   136 set *tmp28 true
   137 jump *label34 always
   138 label *label54
-    * label *label55
   139 label *label52
-    * label *label53
   140 label *label50
-    * label *label51
   141 label *label36
   142 jump *label205 lessThan :locateOreAway:distance :findDrillLocation:distanceLimit
   143 label *label37
 
   150 op greaterThan :findDrillLocation*retval :findDrillLocation:capacity 0
   151 jump *label23 always
   152 label *label32
-    * label *label33
   153 jump *label62 lessThan :findDrillLocation:limit 1000
   154 op add .mapSpots .mapSpots 1
   155 label *label62
-    * label *label63
-    * label *label66
   156 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp100
   157 jump *label68 notEqual *tmp100 false
   158 label *label224
   159 ucontrol approach :locateOreAway:x :locateOreAway:y 5.5
-    * label *label67
   160 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp100
   161 jump *label224 equal *tmp100 false
   162 label *label68
-    * label *label65
-    * label *label64
   163 set :findDrillLocation:last 0
   164 label *label69
   165 write @unit processor4 ":findBestPosition:unit"
 
   186 jump *label73 greaterThan :findDrillLocation:coreDist 8
   187 jump *label71 always
   188 label *label73
-    * label *label74
   189 jump *label75 lessThanEq :findDrillLocation:score :findDrillLocation:capacity
   190 set :findDrillLocation:dx :findDrillLocation:newX
   191 set :findDrillLocation:dy :findDrillLocation:newY
 
   202 op add .count .count 1
   203 write :findDrillLocation:dy bank1 .count
   204 op add .locations .locations 1
-    * label *label81
   205 ucontrol unbind
   206 set .searchFinished true
   207 set :findDrillLocation*retval true
   208 jump *label23 always
   209 label *label79
-    * label *label80
   210 label *label75
-    * label *label76
   211 jump *label82 lessThanEq :findDrillLocation:score :findDrillLocation:best
   212 set :findDrillLocation:bestX :findDrillLocation:newX
   213 set :findDrillLocation:bestY :findDrillLocation:newY
   214 set :findDrillLocation:best :findDrillLocation:score
   215 label *label82
-    * label *label83
   216 jump *label84 greaterThan :findDrillLocation:score :findDrillLocation:last
   217 jump *label71 always
   218 label *label84
-    * label *label85
   219 set :findDrillLocation:last :findDrillLocation:score
   220 op mul :round:x :findDrillLocation:diffX 1.1
   221 op add *tmp143 :round:x 0.5
   222 op floor *tmp142 *tmp143
-    * label *label86
   223 op add :findDrillLocation:oreX :findDrillLocation:oreX *tmp142
   224 op mul :round.1:x :findDrillLocation:diffY 1.1
   225 op add *tmp147 :round.1:x 0.5
   226 op floor *tmp146 *tmp147
-    * label *label87
   227 op add :findDrillLocation:oreY :findDrillLocation:oreY *tmp146
-    * label *label70
   228 jump *label69 always
   229 label *label71
   230 jump *label88 lessThan :findDrillLocation:best 0
 
   238 op add .count .count 1
   239 write :findDrillLocation:bestY bank1 .count
   240 op add .locations .locations 1
-    * label *label90
   241 label *label88
-    * label *label89
-    * label *label30
   242 jump *label29 always
-    * label *label31
-    * set .searchFinished true
-    * set :findDrillLocation*retval false
   243 label *label23
   244 set :findDrillLocation*finished true
   245 return :findDrillLocation*retaddr
-    * end
   246 label *label14
   247 op add *tmp184 :excludeArea:areaWidth 8
   248 op idiv *tmp185 *tmp184 2
 
   262 op shl *tmp201 1 :excludeArea:blockSizeX
   263 op sub :createMatrixOfSize:row *tmp201 1
   264 set :createMatrixOfSize:matrix :createMatrixOfSize:row
-    * label *label225
-    * label *label226
   265 jump *label227 lessThan 1 :excludeArea:blockSizeY
   266 jump *label110 always
   267 label *label227
-    * label *label228
   268 op shl *tmp205 :createMatrixOfSize:row 7
   269 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
-    * label *label229
   270 jump *label230 lessThan 2 :excludeArea:blockSizeY
   271 jump *label110 always
   272 label *label230
-    * label *label231
   273 op shl *tmp205 :createMatrixOfSize:matrix 7
   274 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
-    * label *label232
   275 jump *label233 lessThan 3 :excludeArea:blockSizeY
   276 jump *label110 always
   277 label *label233
-    * label *label234
   278 op shl *tmp205 :createMatrixOfSize:matrix 7
   279 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
-    * label *label235
   280 jump *label236 lessThan 4 :excludeArea:blockSizeY
   281 jump *label110 always
   282 label *label236
-    * label *label237
   283 op shl *tmp205 :createMatrixOfSize:matrix 7
   284 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
-    * label *label238
   285 jump *label239 lessThan 5 :excludeArea:blockSizeY
   286 jump *label110 always
   287 label *label239
-    * label *label240
   288 op shl *tmp205 :createMatrixOfSize:matrix 7
   289 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
-    * label *label241
   290 jump *label242 lessThan 6 :excludeArea:blockSizeY
   291 jump *label110 always
   292 label *label242
-    * label *label243
   293 op shl *tmp205 :createMatrixOfSize:matrix 7
   294 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
-    * label *label244
   295 label *label110
-    * label *label107
   296 op lessThan *tmp207 :excludeArea:maskX :excludeArea:areaX
   297 op sub *tmp208 7 :excludeArea:blockSizeX
   298 op mul :excludeArea:shiftX *tmp207 *tmp208
   299 op lessThan *tmp210 :excludeArea:maskY :excludeArea:areaY
   300 op sub *tmp211 7 :excludeArea:blockSizeY
   301 op mul :excludeArea:shiftY *tmp210 *tmp211
-    * label *label263
   302 op abs *tmp161 :excludeArea:shiftX
   303 jump *label264 greaterThan *tmp161 6
   304 op abs *tmp163 :excludeArea:shiftY
 
   307 set :shiftMask*retval 0
   308 jump *label273 always
   309 label *label265
-    * label *label266
   310 op mul *tmp166 7 :excludeArea:shiftY
   311 op add :shiftMask:shift :excludeArea:shiftX *tmp166
   312 jump *label267 lessThanEq :shiftMask:shift 0
 
   323 jump *label269 lessThanEq :excludeArea:shiftX 0
   324 op shl :shiftMask:keep :shiftMask:keep :excludeArea:shiftX
   325 label *label269
-    * label *label270
   326 op shl *tmp180 :shiftMask:keep 7
   327 op or :shiftMask:keep :shiftMask:keep *tmp180
   328 op shl *tmp181 :shiftMask:keep 14
 
   331 op or :shiftMask:keep :shiftMask:keep *tmp182
   332 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
   333 label *label271
-    * label *label272
   334 set :shiftMask*retval :shiftMask:mask
   335 label *label273
   336 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   337 label *label104
-    * label *label102
   338 return :excludeArea*retaddr
-    * end
   339 label *label15
   340 set :findPossiblePlacement:y -3
-    * label *label115
   341 jump *label117 greaterThan :findPossiblePlacement:y 3
   342 label *label208
   343 op add *tmp214 :findPossiblePlacement:y 3
   344 op mul *tmp215 7 *tmp214
   345 op shl :findPossiblePlacement:mask :findPossiblePlacement:placementMask *tmp215
   346 set :findPossiblePlacement:x -3
-    * label *label118
   347 jump *label120 greaterThan :findPossiblePlacement:x 3
   348 label *label209
   349 op and *tmp217 :findPossiblePlacement:terrainMask :findPossiblePlacement:mask
 
   353 op add :findPossiblePlacement*retval *tmp221 :findPossiblePlacement:x
   354 jump *label114 always
   355 label *label121
-    * label *label122
   356 op sub *tmp223 3 :findPossiblePlacement:width
   357 jump *label123 lessThanEq :findPossiblePlacement:x *tmp223
   358 jump *label120 always
   359 label *label123
-    * label *label124
   360 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
-    * label *label119
   361 op add :findPossiblePlacement:x :findPossiblePlacement:x 1
   362 jump *label209 lessThanEq :findPossiblePlacement:x 3
   363 label *label120
 
   365 jump *label125 lessThanEq :findPossiblePlacement:y *tmp226
   366 jump *label117 always
   367 label *label125
-    * label *label126
-    * label *label116
   368 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
   369 jump *label208 lessThanEq :findPossiblePlacement:y 3
   370 label *label117
   371 set :findPossiblePlacement*retval -1
   372 label *label114
   373 return :findPossiblePlacement*retaddr
-    * end
   374 label *label16
   375 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
   376 set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorVertical
 
   384 set :tryPlaceGenerator*retval false
   385 jump *label127 always
   386 label *label131
-    * label *label132
   387 op add *tmp234 :tryPlaceGenerator:centerX 0.5
   388 op add .water2X *tmp234 :findPossiblePlacement:x
   389 op add *tmp236 :tryPlaceGenerator:centerY 0.5
 
   406 set :tryPlaceGenerator*retval false
   407 jump *label127 always
   408 label *label134
-    * label *label135
   409 op add *tmp246 :tryPlaceGenerator:centerX 0.5
   410 op add .water2X *tmp246 :findPossiblePlacement:x
   411 op add *tmp248 :tryPlaceGenerator:centerY 0.5
 
   428 set :tryPlaceGenerator*retval false
   429 jump *label127 always
   430 label *label137
-    * label *label138
   431 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   432 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   433 op shl *tmp260 1 :findPossiblePlacement*retval
 
   443 set :tryPlaceGenerator*retval false
   444 jump *label127 always
   445 label *label140
-    * label *label141
   446 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   447 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   448 op shl *tmp266 1 :findPossiblePlacement*retval
 
   475 set :tryPlaceGenerator*retval false
   476 jump *label127 always
   477 label *label149
-    * label *label150
   478 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
   479 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
   480 label *label142
-    * label *label143
   481 set :tryPlaceGenerator*retval true
   482 label *label127
   483 return :tryPlaceGenerator*retaddr
-    * end
   484 label *label18
   485 write @unit processor4 ":createTerrainMask:unit"
   486 write :createCombinedMask:x processor4 ":createTerrainMask:x"
 
   488 write false processor4 ":createTerrainMask*finished"
   489 write 1 processor4 "@counter"
   490 op add *tmp300 :createCombinedMask:y 4
-    * label *label285
-    * label *label286
-    * label *label287
   491 op add *tmp291 :createCombinedMask:x 4
   492 ucontrol getBlock *tmp291 *tmp300 *tmp293 :createBlockMaskRow:result *tmp294
-    * label *label288
   493 op shl *tmp290 :createBlockMaskRow:result 1
   494 op add *tmp291 :createCombinedMask:x 3
   495 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   496 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label289
   497 op shl *tmp290 :createBlockMaskRow:result 1
   498 op add *tmp291 :createCombinedMask:x 2
   499 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   500 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label290
   501 op shl *tmp290 :createBlockMaskRow:result 1
   502 op add *tmp291 :createCombinedMask:x 1
   503 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   504 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label291
   505 op shl *tmp290 :createBlockMaskRow:result 1
   506 ucontrol getBlock :createCombinedMask:x *tmp300 *tmp293 *tmp292 *tmp294
   507 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label292
   508 op shl *tmp290 :createBlockMaskRow:result 1
   509 op add *tmp291 :createCombinedMask:x -1
   510 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   511 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label293
   512 op shl *tmp290 :createBlockMaskRow:result 1
   513 op add *tmp291 :createCombinedMask:x -2
   514 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   515 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label294
   516 op shl *tmp290 :createBlockMaskRow:result 1
   517 op add *tmp291 :createCombinedMask:x -3
   518 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   519 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label295
   520 op shl *tmp290 :createBlockMaskRow:result 1
   521 op add *tmp291 :createCombinedMask:x -4
   522 ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
   523 op or :createAdjacentMask:row2 *tmp290 *tmp292
-    * label *label296
-    * label *label297
-    * label *label298
   524 op add *tmp302 :createCombinedMask:y 3
-    * label *label299
-    * label *label300
-    * label *label301
   525 op add *tmp291 :createCombinedMask:x 4
   526 ucontrol getBlock *tmp291 *tmp302 *tmp293 :createBlockMaskRow:result *tmp294
-    * label *label302
   527 op shl *tmp290 :createBlockMaskRow:result 1
   528 op add *tmp291 :createCombinedMask:x 3
   529 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   530 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label303
   531 op shl *tmp290 :createBlockMaskRow:result 1
   532 op add *tmp291 :createCombinedMask:x 2
   533 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   534 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label304
   535 op shl *tmp290 :createBlockMaskRow:result 1
   536 op add *tmp291 :createCombinedMask:x 1
   537 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   538 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label305
   539 op shl *tmp290 :createBlockMaskRow:result 1
   540 ucontrol getBlock :createCombinedMask:x *tmp302 *tmp293 *tmp292 *tmp294
   541 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label306
   542 op shl *tmp290 :createBlockMaskRow:result 1
   543 op add *tmp291 :createCombinedMask:x -1
   544 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   545 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label307
   546 op shl *tmp290 :createBlockMaskRow:result 1
   547 op add *tmp291 :createCombinedMask:x -2
   548 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   549 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label308
   550 op shl *tmp290 :createBlockMaskRow:result 1
   551 op add *tmp291 :createCombinedMask:x -3
   552 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   553 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label309
   554 op shl *tmp290 :createBlockMaskRow:result 1
   555 op add *tmp291 :createCombinedMask:x -4
   556 ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
   557 op or :createAdjacentMask:row1 *tmp290 *tmp292
-    * label *label310
-    * label *label311
-    * label *label312
-    * label *label245
-    * label *label246
   558 op add *tmp304 :createCombinedMask:y 2
-    * label *label313
-    * label *label314
-    * label *label315
   559 op add *tmp291 :createCombinedMask:x 4
   560 ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
-    * label *label316
   561 op shl *tmp290 :createBlockMaskRow:result 1
   562 op add *tmp291 :createCombinedMask:x 3
   563 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   564 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label317
   565 op shl *tmp290 :createBlockMaskRow:result 1
   566 op add *tmp291 :createCombinedMask:x 2
   567 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   568 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label318
   569 op shl *tmp290 :createBlockMaskRow:result 1
   570 op add *tmp291 :createCombinedMask:x 1
   571 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   572 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label319
   573 op shl *tmp290 :createBlockMaskRow:result 1
   574 ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
   575 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label320
   576 op shl *tmp290 :createBlockMaskRow:result 1
   577 op add *tmp291 :createCombinedMask:x -1
   578 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   579 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label321
   580 op shl *tmp290 :createBlockMaskRow:result 1
   581 op add *tmp291 :createCombinedMask:x -2
   582 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   583 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label322
   584 op shl *tmp290 :createBlockMaskRow:result 1
   585 op add *tmp291 :createCombinedMask:x -3
   586 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   587 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label323
   588 op shl *tmp290 :createBlockMaskRow:result 1
   589 op add *tmp291 :createCombinedMask:x -4
   590 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   591 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label324
-    * label *label325
-    * label *label326
   592 op shl *tmp306 :createAdjacentMask:row1 1
   593 op or *tmp307 :createAdjacentMask:row2 *tmp306
   594 op shr *tmp308 :createAdjacentMask:row1 1
 
   597 op and :createAdjacentMask:result :createAdjacentMask:mask 0xFE
   598 set :createAdjacentMask:row2 :createAdjacentMask:row1
   599 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label248
   600 op add *tmp304 :createCombinedMask:y 1
-    * label *label327
-    * label *label328
-    * label *label329
   601 op add *tmp291 :createCombinedMask:x 4
   602 ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
-    * label *label330
   603 op shl *tmp290 :createBlockMaskRow:result 1
   604 op add *tmp291 :createCombinedMask:x 3
   605 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   606 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label331
   607 op shl *tmp290 :createBlockMaskRow:result 1
   608 op add *tmp291 :createCombinedMask:x 2
   609 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   610 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label332
   611 op shl *tmp290 :createBlockMaskRow:result 1
   612 op add *tmp291 :createCombinedMask:x 1
   613 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   614 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label333
   615 op shl *tmp290 :createBlockMaskRow:result 1
   616 ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
   617 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label334
   618 op shl *tmp290 :createBlockMaskRow:result 1
   619 op add *tmp291 :createCombinedMask:x -1
   620 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   621 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label335
   622 op shl *tmp290 :createBlockMaskRow:result 1
   623 op add *tmp291 :createCombinedMask:x -2
   624 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   625 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label336
   626 op shl *tmp290 :createBlockMaskRow:result 1
   627 op add *tmp291 :createCombinedMask:x -3
   628 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   629 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label337
   630 op shl *tmp290 :createBlockMaskRow:result 1
   631 op add *tmp291 :createCombinedMask:x -4
   632 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   633 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label338
-    * label *label339
-    * label *label340
   634 op shl *tmp306 :createAdjacentMask:row1 1
   635 op or *tmp307 :createAdjacentMask:row2 *tmp306
   636 op shr *tmp308 :createAdjacentMask:row1 1
 
   641 op or :createAdjacentMask:result *tmp311 *tmp312
   642 set :createAdjacentMask:row2 :createAdjacentMask:row1
   643 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label250
-    * label *label341
-    * label *label342
-    * label *label343
   644 op add *tmp291 :createCombinedMask:x 4
   645 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 :createBlockMaskRow:result *tmp294
-    * label *label344
   646 op shl *tmp290 :createBlockMaskRow:result 1
   647 op add *tmp291 :createCombinedMask:x 3
   648 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   649 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label345
   650 op shl *tmp290 :createBlockMaskRow:result 1
   651 op add *tmp291 :createCombinedMask:x 2
   652 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   653 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label346
   654 op shl *tmp290 :createBlockMaskRow:result 1
   655 op add *tmp291 :createCombinedMask:x 1
   656 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   657 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label347
   658 op shl *tmp290 :createBlockMaskRow:result 1
   659 ucontrol getBlock :createCombinedMask:x :createCombinedMask:y *tmp293 *tmp292 *tmp294
   660 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label348
   661 op shl *tmp290 :createBlockMaskRow:result 1
   662 op add *tmp291 :createCombinedMask:x -1
   663 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   664 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label349
   665 op shl *tmp290 :createBlockMaskRow:result 1
   666 op add *tmp291 :createCombinedMask:x -2
   667 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   668 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label350
   669 op shl *tmp290 :createBlockMaskRow:result 1
   670 op add *tmp291 :createCombinedMask:x -3
   671 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   672 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label351
   673 op shl *tmp290 :createBlockMaskRow:result 1
   674 op add *tmp291 :createCombinedMask:x -4
   675 ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
   676 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label352
-    * label *label353
-    * label *label354
   677 op shl *tmp306 :createAdjacentMask:row1 1
   678 op or *tmp307 :createAdjacentMask:row2 *tmp306
   679 op shr *tmp308 :createAdjacentMask:row1 1
 
   684 op or :createAdjacentMask:result *tmp311 *tmp312
   685 set :createAdjacentMask:row2 :createAdjacentMask:row1
   686 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label252
   687 op add *tmp304 :createCombinedMask:y -1
-    * label *label355
-    * label *label356
-    * label *label357
   688 op add *tmp291 :createCombinedMask:x 4
   689 ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
-    * label *label358
   690 op shl *tmp290 :createBlockMaskRow:result 1
   691 op add *tmp291 :createCombinedMask:x 3
   692 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   693 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label359
   694 op shl *tmp290 :createBlockMaskRow:result 1
   695 op add *tmp291 :createCombinedMask:x 2
   696 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   697 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label360
   698 op shl *tmp290 :createBlockMaskRow:result 1
   699 op add *tmp291 :createCombinedMask:x 1
   700 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   701 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label361
   702 op shl *tmp290 :createBlockMaskRow:result 1
   703 ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
   704 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label362
   705 op shl *tmp290 :createBlockMaskRow:result 1
   706 op add *tmp291 :createCombinedMask:x -1
   707 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   708 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label363
   709 op shl *tmp290 :createBlockMaskRow:result 1
   710 op add *tmp291 :createCombinedMask:x -2
   711 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   712 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label364
   713 op shl *tmp290 :createBlockMaskRow:result 1
   714 op add *tmp291 :createCombinedMask:x -3
   715 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   716 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label365
   717 op shl *tmp290 :createBlockMaskRow:result 1
   718 op add *tmp291 :createCombinedMask:x -4
   719 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   720 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label366
-    * label *label367
-    * label *label368
   721 op shl *tmp306 :createAdjacentMask:row1 1
   722 op or *tmp307 :createAdjacentMask:row2 *tmp306
   723 op shr *tmp308 :createAdjacentMask:row1 1
 
   728 op or :createAdjacentMask:result *tmp311 *tmp312
   729 set :createAdjacentMask:row2 :createAdjacentMask:row1
   730 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label254
   731 op add :createBlockMaskRow:y :createCombinedMask:y -2
-    * label *label369
-    * label *label370
-    * label *label371
   732 op add *tmp291 :createCombinedMask:x 4
   733 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 :createBlockMaskRow:result *tmp294
-    * label *label372
   734 op shl *tmp290 :createBlockMaskRow:result 1
   735 op add *tmp291 :createCombinedMask:x 3
   736 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   737 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label373
   738 op shl *tmp290 :createBlockMaskRow:result 1
   739 op add *tmp291 :createCombinedMask:x 2
   740 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   741 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label374
   742 op shl *tmp290 :createBlockMaskRow:result 1
   743 op add *tmp291 :createCombinedMask:x 1
   744 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   745 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label375
   746 op shl *tmp290 :createBlockMaskRow:result 1
   747 ucontrol getBlock :createCombinedMask:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   748 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label376
   749 op shl *tmp290 :createBlockMaskRow:result 1
   750 op add *tmp291 :createCombinedMask:x -1
   751 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   752 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label377
   753 op shl *tmp290 :createBlockMaskRow:result 1
   754 op add *tmp291 :createCombinedMask:x -2
   755 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   756 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label378
   757 op shl *tmp290 :createBlockMaskRow:result 1
   758 op add *tmp291 :createCombinedMask:x -3
   759 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   760 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label379
   761 op shl *tmp290 :createBlockMaskRow:result 1
   762 op add *tmp291 :createCombinedMask:x -4
   763 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   764 op or :createBlockMaskRow*retval *tmp290 *tmp292
-    * label *label380
-    * label *label381
-    * label *label382
   765 op shl *tmp306 :createAdjacentMask:row1 1
   766 op or *tmp307 :createAdjacentMask:row2 *tmp306
   767 op shr *tmp308 :createAdjacentMask:row1 1
 
   772 op or :createAdjacentMask:result *tmp311 *tmp312
   773 set :createAdjacentMask:row2 :createAdjacentMask:row1
   774 set :createAdjacentMask:row1 :createBlockMaskRow*retval
-    * label *label256
   775 op add :createBlockMaskRow:y :createCombinedMask:y -3
-    * label *label383
-    * label *label384
-    * label *label385
   776 op add *tmp291 :createCombinedMask:x 4
   777 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 :createBlockMaskRow:result *tmp294
-    * label *label386
   778 op shl *tmp290 :createBlockMaskRow:result 1
   779 op add *tmp291 :createCombinedMask:x 3
   780 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   781 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label387
   782 op shl *tmp290 :createBlockMaskRow:result 1
   783 op add *tmp291 :createCombinedMask:x 2
   784 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   785 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label388
   786 op shl *tmp290 :createBlockMaskRow:result 1
   787 op add *tmp291 :createCombinedMask:x 1
   788 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   789 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label389
   790 op shl *tmp290 :createBlockMaskRow:result 1
   791 ucontrol getBlock :createCombinedMask:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   792 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label390
   793 op shl *tmp290 :createBlockMaskRow:result 1
   794 op add *tmp291 :createCombinedMask:x -1
   795 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   796 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label391
   797 op shl *tmp290 :createBlockMaskRow:result 1
   798 op add *tmp291 :createCombinedMask:x -2
   799 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   800 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label392
   801 op shl *tmp290 :createBlockMaskRow:result 1
   802 op add *tmp291 :createCombinedMask:x -3
   803 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   804 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label393
   805 op shl *tmp290 :createBlockMaskRow:result 1
   806 op add *tmp291 :createCombinedMask:x -4
   807 ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
   808 op or :createBlockMaskRow*retval *tmp290 *tmp292
-    * label *label394
-    * label *label395
-    * label *label396
   809 op shl *tmp306 :createAdjacentMask:row1 1
   810 op or *tmp307 :createAdjacentMask:row2 *tmp306
   811 op shr *tmp308 :createAdjacentMask:row1 1
 
   816 op or :createAdjacentMask:result *tmp311 *tmp312
   817 set :createAdjacentMask:row2 :createAdjacentMask:row1
   818 set :createAdjacentMask:row1 :createBlockMaskRow*retval
-    * label *label258
   819 op add *tmp304 :createCombinedMask:y -4
   820 set :createBlockMaskRow:y *tmp304
-    * label *label397
-    * label *label398
-    * label *label399
   821 op add *tmp291 :createCombinedMask:x 4
   822 ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
-    * label *label400
   823 op shl *tmp290 :createBlockMaskRow:result 1
   824 op add *tmp291 :createCombinedMask:x 3
   825 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   826 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label401
   827 op shl *tmp290 :createBlockMaskRow:result 1
   828 op add *tmp291 :createCombinedMask:x 2
   829 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   830 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label402
   831 op shl *tmp290 :createBlockMaskRow:result 1
   832 op add *tmp291 :createCombinedMask:x 1
   833 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   834 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label403
   835 op shl *tmp290 :createBlockMaskRow:result 1
   836 ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
   837 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label404
   838 op shl *tmp290 :createBlockMaskRow:result 1
   839 op add *tmp291 :createCombinedMask:x -1
   840 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   841 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label405
   842 op shl *tmp290 :createBlockMaskRow:result 1
   843 op add *tmp291 :createCombinedMask:x -2
   844 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   845 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label406
   846 op shl *tmp290 :createBlockMaskRow:result 1
   847 op add *tmp291 :createCombinedMask:x -3
   848 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   849 op or :createBlockMaskRow:result *tmp290 *tmp292
-    * label *label407
   850 op shl *tmp290 :createBlockMaskRow:result 1
   851 op add *tmp291 :createCombinedMask:x -4
   852 ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
   853 op or :createBlockMaskRow*retval *tmp290 *tmp292
-    * label *label408
-    * label *label409
-    * label *label410
   854 op shl *tmp306 :createAdjacentMask:row1 1
   855 op or *tmp307 :createAdjacentMask:row2 *tmp306
   856 op shr *tmp308 :createAdjacentMask:row1 1
 
   861 op or :createAdjacentMask:result *tmp311 *tmp312
   862 set :createAdjacentMask:row2 :createAdjacentMask:row1
   863 set :createAdjacentMask:row1 :createBlockMaskRow*retval
-    * label *label260
-    * label *label161
   864 op shr *tmp299 :createAdjacentMask:result 1
-    * label *label156
   865 label *label163
   866 wait 1e-15
   867 read *tmp315 processor4 ":createTerrainMask*finished"
 
   878 call *label14 *invalid :excludeArea*retval (m:*label164) (h:*label164)
   879 label *label164
   880 set :createCombinedMask*retval :excludeArea*retval
-    * label *label155
   881 return :createCombinedMask*retaddr
-    * end
   882 label *label19
   883 set .panelY -1
   884 set .panelX -1
 
   890 set .water1X -1
   891 set :moveTo.5:x .drillX
   892 set :moveTo.5:y .drillY
-    * label *label167
   893 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp318
   894 jump *label169 notEqual *tmp318 false
   895 label *label262
   896 ucontrol approach :moveTo.5:x :moveTo.5:y 0.5
-    * label *label168
   897 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp318
   898 jump *label262 equal *tmp318 false
   899 label *label169
-    * label *label166
   900 set :createCombinedMask:x .drillX
   901 set :createCombinedMask:y .drillY
   902 setaddr :createCombinedMask*retaddr *label170 (h:*label170)
 
   921 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp331
   922 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp331
   923 label *label172
-    * label *label173
   924 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
   925 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
   926 set :findPossiblePlacement:width 2
 
   936 op shl *tmp340 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   937 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp340
   938 label *label175
-    * label *label176
   939 op or :layoutThoriumDrillAtLocation:nodeMask :layoutThoriumDrillAtLocation:terrainMask 437639987601635
   940 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:nodeMask
   941 set :findPossiblePlacement:placementMask 1
 
   948 set :layoutThoriumDrillAtLocation*retval false
   949 jump *label165 always
   950 label *label178
-    * label *label179
   951 op add .node1X .drillX :findPossiblePlacement:x
   952 op add .node1Y .drillY :findPossiblePlacement:y
   953 op shl *tmp347 1 :findPossiblePlacement*retval
 
   966 set :layoutThoriumDrillAtLocation*retval true
   967 jump *label165 always
   968 label *label180
-    * label *label181
   969 set :layoutThoriumDrillAtLocation:sx 3
   970 set :layoutThoriumDrillAtLocation:sy 3
   971 setaddr *tmp350 *label186
 
   993 call *label18 *invalid :createCombinedMask*retval (m:*label190) (h:*label190)
   994 label *label190
   995 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
-    * label *label274
   996 op abs *tmp161 :layoutThoriumDrillAtLocation:sx
   997 jump *label275 greaterThan *tmp161 6
   998 op abs *tmp163 :layoutThoriumDrillAtLocation:sy
 
  1001 set :shiftMask*retval 0
  1002 jump *label284 always
  1003 label *label276
-    * label *label277
  1004 op mul *tmp166 7 :layoutThoriumDrillAtLocation:sy
  1005 op add :shiftMask:shift :layoutThoriumDrillAtLocation:sx *tmp166
  1006 jump *label278 lessThanEq :shiftMask:shift 0
 
  1017 jump *label280 lessThanEq :layoutThoriumDrillAtLocation:sx 0
  1018 op shl :shiftMask:keep :shiftMask:keep :layoutThoriumDrillAtLocation:sx
  1019 label *label280
-    * label *label281
  1020 op shl *tmp180 :shiftMask:keep 7
  1021 op or :shiftMask:keep :shiftMask:keep *tmp180
  1022 op shl *tmp181 :shiftMask:keep 14
 
  1025 op or :shiftMask:keep :shiftMask:keep *tmp182
  1026 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
  1027 label *label282
-    * label *label283
  1028 set :shiftMask*retval :shiftMask:mask
  1029 label *label284
  1030 op or :layoutThoriumDrillAtLocation:combinedMask :createCombinedMask*retval :shiftMask*retval
 
  1042 set :layoutThoriumDrillAtLocation*retval true
  1043 jump *label165 always
  1044 label *label192
-    * label *label193
-    * label *label184
  1045 multijump *tmp350 0 0 (m:marker0)
  1046 multilabel *label189 (m:marker0)
-    * label *label185
  1047 set :layoutThoriumDrillAtLocation*retval true
  1048 label *label165
  1049 return :layoutThoriumDrillAtLocation*retaddr
-    * end
  1050 label *label6
  1051 set :findDrillLocation:x :layoutThoriumDrill:x
  1052 set :findDrillLocation:y :layoutThoriumDrill:y
 
  1064 set :layoutThoriumDrill*retval false
  1065 jump *label195 always
  1066 label *label196
-    * label *label197
  1067 setaddr :layoutThoriumDrillAtLocation*retaddr *label199 (h:*label199)
  1068 call *label19 *invalid :layoutThoriumDrillAtLocation*retval (m:*label199) (h:*label199)
  1069 label *label199
 
  1071 label *label195
  1072 set :layoutThoriumDrill*finished true
  1073 jump *label22 always
-    * end
  1074 label *label8
  1075 set .mapSpots 0
  1076 set .mapTotal 0
  1077 set .mapProgress 0
  1078 ucontrol unbind
-    * label *label200
  1079 set :stopLocation*finished true
  1080 jump *label22 always
-    * end

Modifications by Jumps phase, Jump Straightening, pass 5, iteration 1 (-11 instructions):
 
    99 op sub *tmp64 :locateOreAway:y *tmp45
   100 op len :locateOreAway:unitDist *tmp63 *tmp64
   101 jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x
-    * jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
-    * jump *label36 always
+  102 jump *label36 equal :locateOreAway:lastY :locateOreAway:y
   103 label *label48
   104 label *label46
   105 jump *label50 lessThan :locateOreAway:coreDist 8
 
   182 op sub *tmp116 :findDrillLocation:newY :findDrillLocation:y
   183 op abs *tmp117 *tmp116
   184 op max :findDrillLocation:coreDist *tmp115 *tmp117
-    * jump *label73 greaterThan :findDrillLocation:coreDist 8
-    * jump *label71 always
+  185 jump *label71 lessThanEq :findDrillLocation:coreDist 8
   186 label *label73
   187 jump *label75 lessThanEq :findDrillLocation:score :findDrillLocation:capacity
   188 set :findDrillLocation:dx :findDrillLocation:newX
 
   211 set :findDrillLocation:bestY :findDrillLocation:newY
   212 set :findDrillLocation:best :findDrillLocation:score
   213 label *label82
-    * jump *label84 greaterThan :findDrillLocation:score :findDrillLocation:last
-    * jump *label71 always
+  214 jump *label71 lessThanEq :findDrillLocation:score :findDrillLocation:last
   215 label *label84
   216 set :findDrillLocation:last :findDrillLocation:score
   217 op mul :round:x :findDrillLocation:diffX 1.1
 
   259 op shl *tmp201 1 :excludeArea:blockSizeX
   260 op sub :createMatrixOfSize:row *tmp201 1
   261 set :createMatrixOfSize:matrix :createMatrixOfSize:row
-    * jump *label227 lessThan 1 :excludeArea:blockSizeY
-    * jump *label110 always
+  262 jump *label110 greaterThanEq 1 :excludeArea:blockSizeY
   263 label *label227
   264 op shl *tmp205 :createMatrixOfSize:row 7
   265 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
-    * jump *label230 lessThan 2 :excludeArea:blockSizeY
-    * jump *label110 always
+  266 jump *label110 greaterThanEq 2 :excludeArea:blockSizeY
   267 label *label230
   268 op shl *tmp205 :createMatrixOfSize:matrix 7
   269 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
-    * jump *label233 lessThan 3 :excludeArea:blockSizeY
-    * jump *label110 always
+  270 jump *label110 greaterThanEq 3 :excludeArea:blockSizeY
   271 label *label233
   272 op shl *tmp205 :createMatrixOfSize:matrix 7
   273 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
-    * jump *label236 lessThan 4 :excludeArea:blockSizeY
-    * jump *label110 always
+  274 jump *label110 greaterThanEq 4 :excludeArea:blockSizeY
   275 label *label236
   276 op shl *tmp205 :createMatrixOfSize:matrix 7
   277 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
-    * jump *label239 lessThan 5 :excludeArea:blockSizeY
-    * jump *label110 always
+  278 jump *label110 greaterThanEq 5 :excludeArea:blockSizeY
   279 label *label239
   280 op shl *tmp205 :createMatrixOfSize:matrix 7
   281 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
-    * jump *label242 lessThan 6 :excludeArea:blockSizeY
-    * jump *label110 always
+  282 jump *label110 greaterThanEq 6 :excludeArea:blockSizeY
   283 label *label242
   284 op shl *tmp205 :createMatrixOfSize:matrix 7
   285 op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize:row
 
   345 jump *label114 always
   346 label *label121
   347 op sub *tmp223 3 :findPossiblePlacement:width
-    * jump *label123 lessThanEq :findPossiblePlacement:x *tmp223
-    * jump *label120 always
+  348 jump *label120 greaterThan :findPossiblePlacement:x *tmp223
   349 label *label123
   350 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
   351 op add :findPossiblePlacement:x :findPossiblePlacement:x 1
   352 jump *label209 lessThanEq :findPossiblePlacement:x 3
   353 label *label120
   354 op sub *tmp226 3 :findPossiblePlacement:height
-    * jump *label125 lessThanEq :findPossiblePlacement:y *tmp226
-    * jump *label117 always
+  355 jump *label117 greaterThan :findPossiblePlacement:y *tmp226
   356 label *label125
   357 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
   358 jump *label208 lessThanEq :findPossiblePlacement:y 3

Modifications by Jumps phase, Jump Threading, pass 5, iteration 1:
 
   221 op add :findDrillLocation:oreY :findDrillLocation:oreY *tmp146
   222 jump *label69 always
   223 label *label71
-    * jump *label88 lessThan :findDrillLocation:best 0
+  224 jump *label29 lessThan :findDrillLocation:best 0
   225 op add .count .count 1
   226 sensor *tmp153 :findDrillLocation:item @id
   227 write *tmp153 bank1 .count
 
   333 op mul *tmp220 :findPossiblePlacement:y 7
   334 op add *tmp221 24 *tmp220
   335 op add :findPossiblePlacement*retval *tmp221 :findPossiblePlacement:x
-    * jump *label114 always
+  336 return :findPossiblePlacement*retaddr
   337 label *label121
   338 op sub *tmp223 3 :findPossiblePlacement:width
   339 jump *label120 greaterThan :findPossiblePlacement:x *tmp223
 
   360 jump *label129 lessThan :findPossiblePlacement*retval 0
   361 jump *label131 greaterThanEq :findPossiblePlacement*retval 0
   362 set :tryPlaceGenerator*retval false
-    * jump *label127 always
+  363 return :tryPlaceGenerator*retaddr
   364 label *label131
   365 op add *tmp234 :tryPlaceGenerator:centerX 0.5
   366 op add .water2X *tmp234 :findPossiblePlacement:x
 
   382 label *label133
   383 jump *label134 greaterThanEq :findPossiblePlacement*retval 0
   384 set :tryPlaceGenerator*retval false
-    * jump *label127 always
+  385 return :tryPlaceGenerator*retaddr
   386 label *label134
   387 op add *tmp246 :tryPlaceGenerator:centerX 0.5
   388 op add .water2X *tmp246 :findPossiblePlacement:x
 
   404 label *label136
   405 jump *label137 greaterThanEq :findPossiblePlacement*retval 0
   406 set :tryPlaceGenerator*retval false
-    * jump *label127 always
+  407 return :tryPlaceGenerator*retaddr
   408 label *label137
   409 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   410 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
 
   419 label *label139
   420 jump *label140 greaterThanEq :findPossiblePlacement*retval 0
   421 set :tryPlaceGenerator*retval false
-    * jump *label127 always
+  422 return :tryPlaceGenerator*retaddr
   423 label *label140
   424 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   425 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
 
   451 label *label148
   452 jump *label149 greaterThanEq :findPossiblePlacement*retval 0
   453 set :tryPlaceGenerator*retval false
-    * jump *label127 always
+  454 return :tryPlaceGenerator*retaddr
   455 label *label149
   456 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
   457 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
 
   924 label *label177
   925 jump *label178 greaterThanEq :findPossiblePlacement*retval 0
   926 set :layoutThoriumDrillAtLocation*retval false
-    * jump *label165 always
+  927 return :layoutThoriumDrillAtLocation*retaddr
   928 label *label178
   929 op add .node1X .drillX :findPossiblePlacement:x
   930 op add .node1Y .drillY :findPossiblePlacement:y
 
   942 label *label182
   943 jump *label180 equal :tryPlaceGenerator*retval false
   944 set :layoutThoriumDrillAtLocation*retval true
-    * jump *label165 always
+  945 return :layoutThoriumDrillAtLocation*retaddr
   946 label *label180
   947 set :layoutThoriumDrillAtLocation:sx 3
   948 set :layoutThoriumDrillAtLocation:sy 3
 
  1018 label *label194
  1019 jump *label192 equal :tryPlaceGenerator*retval false
  1020 set :layoutThoriumDrillAtLocation*retval true
-    * jump *label165 always
+ 1021 return :layoutThoriumDrillAtLocation*retaddr
  1022 label *label192
  1023 multijump *tmp350 0 0 (m:marker0)
  1024 multilabel *label189 (m:marker0)

Modifications by Final phase, Temp Variables Elimination, iteration 1:
 
    85 op add .angle .angle *tmp51
    86 op mul .mapProgress .angle .angle
    87 op mul :locateOreAway:distance 3.8197185279121366 .angle
-    * ulocate ore core true :findDrillLocation:item :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
+   88 ulocate ore core true :findDrillLocation:item :locateOreAway:x :locateOreAway:y *tmp54 0
    89 jump *label44 notEqual *tmp54 false
    90 set *tmp28 false
    91 jump *label34 always
 
   464 write 1 processor4 "@counter"
   465 op add *tmp300 :createCombinedMask:y 4
   466 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 *tmp300 *tmp293 :createBlockMaskRow:result *tmp294
+  467 ucontrol getBlock *tmp291 *tmp300 0 :createBlockMaskRow:result 0
   468 op shl *tmp290 :createBlockMaskRow:result 1
   469 op add *tmp291 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
+  470 ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
   471 op or :createBlockMaskRow:result *tmp290 *tmp292
   472 op shl *tmp290 :createBlockMaskRow:result 1
   473 op add *tmp291 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
+  474 ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
   475 op or :createBlockMaskRow:result *tmp290 *tmp292
   476 op shl *tmp290 :createBlockMaskRow:result 1
   477 op add *tmp291 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
+  478 ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
   479 op or :createBlockMaskRow:result *tmp290 *tmp292
   480 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x *tmp300 *tmp293 *tmp292 *tmp294
+  481 ucontrol getBlock :createCombinedMask:x *tmp300 0 *tmp292 0
   482 op or :createBlockMaskRow:result *tmp290 *tmp292
   483 op shl *tmp290 :createBlockMaskRow:result 1
   484 op add *tmp291 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
+  485 ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
   486 op or :createBlockMaskRow:result *tmp290 *tmp292
   487 op shl *tmp290 :createBlockMaskRow:result 1
   488 op add *tmp291 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
+  489 ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
   490 op or :createBlockMaskRow:result *tmp290 *tmp292
   491 op shl *tmp290 :createBlockMaskRow:result 1
   492 op add *tmp291 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
+  493 ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
   494 op or :createBlockMaskRow:result *tmp290 *tmp292
   495 op shl *tmp290 :createBlockMaskRow:result 1
   496 op add *tmp291 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp291 *tmp300 *tmp293 *tmp292 *tmp294
+  497 ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0
   498 op or :createAdjacentMask:row2 *tmp290 *tmp292
   499 op add *tmp302 :createCombinedMask:y 3
   500 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 *tmp302 *tmp293 :createBlockMaskRow:result *tmp294
+  501 ucontrol getBlock *tmp291 *tmp302 0 :createBlockMaskRow:result 0
   502 op shl *tmp290 :createBlockMaskRow:result 1
   503 op add *tmp291 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
+  504 ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
   505 op or :createBlockMaskRow:result *tmp290 *tmp292
   506 op shl *tmp290 :createBlockMaskRow:result 1
   507 op add *tmp291 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
+  508 ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
   509 op or :createBlockMaskRow:result *tmp290 *tmp292
   510 op shl *tmp290 :createBlockMaskRow:result 1
   511 op add *tmp291 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
+  512 ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
   513 op or :createBlockMaskRow:result *tmp290 *tmp292
   514 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x *tmp302 *tmp293 *tmp292 *tmp294
+  515 ucontrol getBlock :createCombinedMask:x *tmp302 0 *tmp292 0
   516 op or :createBlockMaskRow:result *tmp290 *tmp292
   517 op shl *tmp290 :createBlockMaskRow:result 1
   518 op add *tmp291 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
+  519 ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
   520 op or :createBlockMaskRow:result *tmp290 *tmp292
   521 op shl *tmp290 :createBlockMaskRow:result 1
   522 op add *tmp291 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
+  523 ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
   524 op or :createBlockMaskRow:result *tmp290 *tmp292
   525 op shl *tmp290 :createBlockMaskRow:result 1
   526 op add *tmp291 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
+  527 ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
   528 op or :createBlockMaskRow:result *tmp290 *tmp292
   529 op shl *tmp290 :createBlockMaskRow:result 1
   530 op add *tmp291 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp291 *tmp302 *tmp293 *tmp292 *tmp294
+  531 ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0
   532 op or :createAdjacentMask:row1 *tmp290 *tmp292
   533 op add *tmp304 :createCombinedMask:y 2
   534 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
+  535 ucontrol getBlock *tmp291 *tmp304 0 :createBlockMaskRow:result 0
   536 op shl *tmp290 :createBlockMaskRow:result 1
   537 op add *tmp291 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  538 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   539 op or :createBlockMaskRow:result *tmp290 *tmp292
   540 op shl *tmp290 :createBlockMaskRow:result 1
   541 op add *tmp291 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  542 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   543 op or :createBlockMaskRow:result *tmp290 *tmp292
   544 op shl *tmp290 :createBlockMaskRow:result 1
   545 op add *tmp291 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  546 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   547 op or :createBlockMaskRow:result *tmp290 *tmp292
   548 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
+  549 ucontrol getBlock :createCombinedMask:x *tmp304 0 *tmp292 0
   550 op or :createBlockMaskRow:result *tmp290 *tmp292
   551 op shl *tmp290 :createBlockMaskRow:result 1
   552 op add *tmp291 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  553 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   554 op or :createBlockMaskRow:result *tmp290 *tmp292
   555 op shl *tmp290 :createBlockMaskRow:result 1
   556 op add *tmp291 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  557 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   558 op or :createBlockMaskRow:result *tmp290 *tmp292
   559 op shl *tmp290 :createBlockMaskRow:result 1
   560 op add *tmp291 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  561 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   562 op or :createBlockMaskRow:result *tmp290 *tmp292
   563 op shl *tmp290 :createBlockMaskRow:result 1
   564 op add *tmp291 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  565 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   566 op or :createBlockMaskRow:result *tmp290 *tmp292
   567 op shl *tmp306 :createAdjacentMask:row1 1
   568 op or *tmp307 :createAdjacentMask:row2 *tmp306
 
   574 set :createAdjacentMask:row1 :createBlockMaskRow:result
   575 op add *tmp304 :createCombinedMask:y 1
   576 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
+  577 ucontrol getBlock *tmp291 *tmp304 0 :createBlockMaskRow:result 0
   578 op shl *tmp290 :createBlockMaskRow:result 1
   579 op add *tmp291 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  580 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   581 op or :createBlockMaskRow:result *tmp290 *tmp292
   582 op shl *tmp290 :createBlockMaskRow:result 1
   583 op add *tmp291 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  584 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   585 op or :createBlockMaskRow:result *tmp290 *tmp292
   586 op shl *tmp290 :createBlockMaskRow:result 1
   587 op add *tmp291 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  588 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   589 op or :createBlockMaskRow:result *tmp290 *tmp292
   590 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
+  591 ucontrol getBlock :createCombinedMask:x *tmp304 0 *tmp292 0
   592 op or :createBlockMaskRow:result *tmp290 *tmp292
   593 op shl *tmp290 :createBlockMaskRow:result 1
   594 op add *tmp291 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  595 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   596 op or :createBlockMaskRow:result *tmp290 *tmp292
   597 op shl *tmp290 :createBlockMaskRow:result 1
   598 op add *tmp291 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  599 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   600 op or :createBlockMaskRow:result *tmp290 *tmp292
   601 op shl *tmp290 :createBlockMaskRow:result 1
   602 op add *tmp291 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  603 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   604 op or :createBlockMaskRow:result *tmp290 *tmp292
   605 op shl *tmp290 :createBlockMaskRow:result 1
   606 op add *tmp291 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  607 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   608 op or :createBlockMaskRow:result *tmp290 *tmp292
   609 op shl *tmp306 :createAdjacentMask:row1 1
   610 op or *tmp307 :createAdjacentMask:row2 *tmp306
 
   617 set :createAdjacentMask:row2 :createAdjacentMask:row1
   618 set :createAdjacentMask:row1 :createBlockMaskRow:result
   619 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 :createBlockMaskRow:result *tmp294
+  620 ucontrol getBlock *tmp291 :createCombinedMask:y 0 :createBlockMaskRow:result 0
   621 op shl *tmp290 :createBlockMaskRow:result 1
   622 op add *tmp291 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
+  623 ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
   624 op or :createBlockMaskRow:result *tmp290 *tmp292
   625 op shl *tmp290 :createBlockMaskRow:result 1
   626 op add *tmp291 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
+  627 ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
   628 op or :createBlockMaskRow:result *tmp290 *tmp292
   629 op shl *tmp290 :createBlockMaskRow:result 1
   630 op add *tmp291 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
+  631 ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
   632 op or :createBlockMaskRow:result *tmp290 *tmp292
   633 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x :createCombinedMask:y *tmp293 *tmp292 *tmp294
+  634 ucontrol getBlock :createCombinedMask:x :createCombinedMask:y 0 *tmp292 0
   635 op or :createBlockMaskRow:result *tmp290 *tmp292
   636 op shl *tmp290 :createBlockMaskRow:result 1
   637 op add *tmp291 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
+  638 ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
   639 op or :createBlockMaskRow:result *tmp290 *tmp292
   640 op shl *tmp290 :createBlockMaskRow:result 1
   641 op add *tmp291 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
+  642 ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
   643 op or :createBlockMaskRow:result *tmp290 *tmp292
   644 op shl *tmp290 :createBlockMaskRow:result 1
   645 op add *tmp291 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
+  646 ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
   647 op or :createBlockMaskRow:result *tmp290 *tmp292
   648 op shl *tmp290 :createBlockMaskRow:result 1
   649 op add *tmp291 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp291 :createCombinedMask:y *tmp293 *tmp292 *tmp294
+  650 ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0
   651 op or :createBlockMaskRow:result *tmp290 *tmp292
   652 op shl *tmp306 :createAdjacentMask:row1 1
   653 op or *tmp307 :createAdjacentMask:row2 *tmp306
 
   661 set :createAdjacentMask:row1 :createBlockMaskRow:result
   662 op add *tmp304 :createCombinedMask:y -1
   663 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
+  664 ucontrol getBlock *tmp291 *tmp304 0 :createBlockMaskRow:result 0
   665 op shl *tmp290 :createBlockMaskRow:result 1
   666 op add *tmp291 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  667 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   668 op or :createBlockMaskRow:result *tmp290 *tmp292
   669 op shl *tmp290 :createBlockMaskRow:result 1
   670 op add *tmp291 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  671 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   672 op or :createBlockMaskRow:result *tmp290 *tmp292
   673 op shl *tmp290 :createBlockMaskRow:result 1
   674 op add *tmp291 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  675 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   676 op or :createBlockMaskRow:result *tmp290 *tmp292
   677 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
+  678 ucontrol getBlock :createCombinedMask:x *tmp304 0 *tmp292 0
   679 op or :createBlockMaskRow:result *tmp290 *tmp292
   680 op shl *tmp290 :createBlockMaskRow:result 1
   681 op add *tmp291 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  682 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   683 op or :createBlockMaskRow:result *tmp290 *tmp292
   684 op shl *tmp290 :createBlockMaskRow:result 1
   685 op add *tmp291 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  686 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   687 op or :createBlockMaskRow:result *tmp290 *tmp292
   688 op shl *tmp290 :createBlockMaskRow:result 1
   689 op add *tmp291 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  690 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   691 op or :createBlockMaskRow:result *tmp290 *tmp292
   692 op shl *tmp290 :createBlockMaskRow:result 1
   693 op add *tmp291 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  694 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   695 op or :createBlockMaskRow:result *tmp290 *tmp292
   696 op shl *tmp306 :createAdjacentMask:row1 1
   697 op or *tmp307 :createAdjacentMask:row2 *tmp306
 
   705 set :createAdjacentMask:row1 :createBlockMaskRow:result
   706 op add :createBlockMaskRow:y :createCombinedMask:y -2
   707 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 :createBlockMaskRow:result *tmp294
+  708 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 :createBlockMaskRow:result 0
   709 op shl *tmp290 :createBlockMaskRow:result 1
   710 op add *tmp291 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  711 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   712 op or :createBlockMaskRow:result *tmp290 *tmp292
   713 op shl *tmp290 :createBlockMaskRow:result 1
   714 op add *tmp291 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  715 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   716 op or :createBlockMaskRow:result *tmp290 *tmp292
   717 op shl *tmp290 :createBlockMaskRow:result 1
   718 op add *tmp291 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  719 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   720 op or :createBlockMaskRow:result *tmp290 *tmp292
   721 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  722 ucontrol getBlock :createCombinedMask:x :createBlockMaskRow:y 0 *tmp292 0
   723 op or :createBlockMaskRow:result *tmp290 *tmp292
   724 op shl *tmp290 :createBlockMaskRow:result 1
   725 op add *tmp291 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  726 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   727 op or :createBlockMaskRow:result *tmp290 *tmp292
   728 op shl *tmp290 :createBlockMaskRow:result 1
   729 op add *tmp291 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  730 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   731 op or :createBlockMaskRow:result *tmp290 *tmp292
   732 op shl *tmp290 :createBlockMaskRow:result 1
   733 op add *tmp291 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  734 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   735 op or :createBlockMaskRow:result *tmp290 *tmp292
   736 op shl *tmp290 :createBlockMaskRow:result 1
   737 op add *tmp291 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  738 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   739 op or :createBlockMaskRow*retval *tmp290 *tmp292
   740 op shl *tmp306 :createAdjacentMask:row1 1
   741 op or *tmp307 :createAdjacentMask:row2 *tmp306
 
   749 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   750 op add :createBlockMaskRow:y :createCombinedMask:y -3
   751 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 :createBlockMaskRow:result *tmp294
+  752 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 :createBlockMaskRow:result 0
   753 op shl *tmp290 :createBlockMaskRow:result 1
   754 op add *tmp291 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  755 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   756 op or :createBlockMaskRow:result *tmp290 *tmp292
   757 op shl *tmp290 :createBlockMaskRow:result 1
   758 op add *tmp291 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  759 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   760 op or :createBlockMaskRow:result *tmp290 *tmp292
   761 op shl *tmp290 :createBlockMaskRow:result 1
   762 op add *tmp291 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  763 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   764 op or :createBlockMaskRow:result *tmp290 *tmp292
   765 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  766 ucontrol getBlock :createCombinedMask:x :createBlockMaskRow:y 0 *tmp292 0
   767 op or :createBlockMaskRow:result *tmp290 *tmp292
   768 op shl *tmp290 :createBlockMaskRow:result 1
   769 op add *tmp291 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  770 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   771 op or :createBlockMaskRow:result *tmp290 *tmp292
   772 op shl *tmp290 :createBlockMaskRow:result 1
   773 op add *tmp291 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  774 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   775 op or :createBlockMaskRow:result *tmp290 *tmp292
   776 op shl *tmp290 :createBlockMaskRow:result 1
   777 op add *tmp291 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  778 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   779 op or :createBlockMaskRow:result *tmp290 *tmp292
   780 op shl *tmp290 :createBlockMaskRow:result 1
   781 op add *tmp291 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp291 :createBlockMaskRow:y *tmp293 *tmp292 *tmp294
+  782 ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0
   783 op or :createBlockMaskRow*retval *tmp290 *tmp292
   784 op shl *tmp306 :createAdjacentMask:row1 1
   785 op or *tmp307 :createAdjacentMask:row2 *tmp306
 
   794 op add *tmp304 :createCombinedMask:y -4
   795 set :createBlockMaskRow:y *tmp304
   796 op add *tmp291 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 :createBlockMaskRow:result *tmp294
+  797 ucontrol getBlock *tmp291 *tmp304 0 :createBlockMaskRow:result 0
   798 op shl *tmp290 :createBlockMaskRow:result 1
   799 op add *tmp291 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  800 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   801 op or :createBlockMaskRow:result *tmp290 *tmp292
   802 op shl *tmp290 :createBlockMaskRow:result 1
   803 op add *tmp291 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  804 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   805 op or :createBlockMaskRow:result *tmp290 *tmp292
   806 op shl *tmp290 :createBlockMaskRow:result 1
   807 op add *tmp291 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  808 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   809 op or :createBlockMaskRow:result *tmp290 *tmp292
   810 op shl *tmp290 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x *tmp304 *tmp293 *tmp292 *tmp294
+  811 ucontrol getBlock :createCombinedMask:x *tmp304 0 *tmp292 0
   812 op or :createBlockMaskRow:result *tmp290 *tmp292
   813 op shl *tmp290 :createBlockMaskRow:result 1
   814 op add *tmp291 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  815 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   816 op or :createBlockMaskRow:result *tmp290 *tmp292
   817 op shl *tmp290 :createBlockMaskRow:result 1
   818 op add *tmp291 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  819 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   820 op or :createBlockMaskRow:result *tmp290 *tmp292
   821 op shl *tmp290 :createBlockMaskRow:result 1
   822 op add *tmp291 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  823 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   824 op or :createBlockMaskRow:result *tmp290 *tmp292
   825 op shl *tmp290 :createBlockMaskRow:result 1
   826 op add *tmp291 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp291 *tmp304 *tmp293 *tmp292 *tmp294
+  827 ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0
   828 op or :createBlockMaskRow*retval *tmp290 *tmp292
   829 op shl *tmp306 :createAdjacentMask:row1 1
   830 op or *tmp307 :createAdjacentMask:row2 *tmp306

Final code before resolving virtual instructions:

    0:  jump *label20 always 0 0                                     OreLocator.mnd: #set target = 8;
    1:  jump *label4 always 0 0                                      ...
    2:  jump *label6 always 0 0                                      ...
    3:  jump *label8 always 0 0                                      ...
        label *label20                                               ...
        label *label21                                               OreLocator.mnd: require "Matrices.mnd" remote matrices;
    4:  read *tmp11 processor4 "*signature"                          ...
    5:  jump *label21 notEqual *tmp11 "b7c1b9d437eb2566:v1"          ...
    6:  set .attenuationRate 50                                      OreLocator.mnd: export var attenuationRate = 50;
    7:  set .locations 0                                             OreLocator.mnd: export var locations = 0;
    8:  set .count -1                                                OreLocator.mnd: var count = -1, locationsStart, start;
    9:  set *signature "2b365030e19b2b7f:v1"                         OreLocator.mnd: #set target = 8;
        label *label22                                               ...
   10:  wait 1e12                                                    ...
   11:  jump *label22 always 0 0                                     ...
        label *label4                                                OreLocator.mnd: export def findDrillLocation(x, y, unit, item, ore, size, limit, out dx, out dy, out capacity)
   12:  setaddr :findDrillLocation*retaddr *label22                  ...
        label *label5                                                ...
   13:  set .searchFinished false                                    OreLocator.mnd: searchFinished = false;
   14:  ubind :findDrillLocation:unit                                OreLocator.mnd: ubind(unit);
   15:  set .locationsStart .locations                               OreLocator.mnd: locationsStart = locations;
   16:  set .coreX :findDrillLocation:x                              OreLocator.mnd: coreX = x;
   17:  set .coreY :findDrillLocation:y                              OreLocator.mnd: coreY = y;
   18:  set :findDrillLocation:capacity 0                            OreLocator.mnd: mapSpots = dx = dy = capacity = 0;
   19:  set :findDrillLocation:dy :findDrillLocation:capacity        ...
   20:  set :findDrillLocation:dx :findDrillLocation:dy              ...
   21:  set .mapSpots :findDrillLocation:dx                          ...
   22:  op sub *tmp13 @mapw :findDrillLocation:x                     OreLocator.mnd: var distanceLimit = max(coreX, coreY, @mapw - coreX, @maph - coreY);
   23:  op sub *tmp14 @maph :findDrillLocation:y                     ...
   24:  op max *tmp15 :findDrillLocation:x :findDrillLocation:y      ...
   25:  op max *tmp15 *tmp15 *tmp13                                  ...
   26:  op max *tmp15 *tmp15 *tmp14                                  ...
   27:  set :findDrillLocation:distanceLimit *tmp15                  ...
   28:  set .angle 0                                                 OreLocator.mnd: mapProgress = angle = 0;
   29:  set .mapProgress 0                                           ...
   30:  ucontrol within :findDrillLocation:x :findDrillLocation:y 6  OreLocator.mnd: while !within(x, y, radius) do
   31:  jump *label28 notEqual *tmp18 false                          ...
        label *label261                                              ...
   32:  ucontrol approach :findDrillLocation:x :findDrillLocation:y  OreLocator.mnd: approach(x, y, radius - 0.5);
   33:  ucontrol within :findDrillLocation:x :findDrillLocation:y 6  OreLocator.mnd: while !within(x, y, radius) do
   34:  jump *label261 equal *tmp18 false                            ...
        label *label28                                               ...
   35:  op div *tmp21 *tmp15 3.8197185279121366                      OreLocator.mnd: mapTotal = (distanceLimit / SPIRAL_WIDTH) ** 2;
   36:  op pow .mapTotal *tmp21 2                                    ...
   37:  set :findDrillLocation:oreX 0                                OreLocator.mnd: var oreX = 0, oreY = 0;
   38:  set :findDrillLocation:oreY 0                                ...
        label *label29                                               OreLocator.mnd: while true do
   39:  set :findDrillLocation:best -1                               OreLocator.mnd: var best = -1, bestX = x, bestY = y;
   40:  set :findDrillLocation:bestX :findDrillLocation:x            ...
   41:  set :findDrillLocation:bestY :findDrillLocation:y            ...
   42:  op sub *tmp23 :findDrillLocation:limit :findDrillLocation:ca OreLocator.mnd: var maxDistance = (limit - capacity) * attenuationRate;
   43:  op mul :findDrillLocation:maxDistance *tmp23 .attenuationRat ...
   44:  op min :findDrillLocation:distanceLimit :findDrillLocation:d OreLocator.mnd: distanceLimit = min(distanceLimit, maxDistance);
   45:  op div *tmp26 :findDrillLocation:distanceLimit 3.81971852791 OreLocator.mnd: mapTotal = (distanceLimit / SPIRAL_WIDTH) ** 2;
   46:  op pow .mapTotal *tmp26 2                                    ...
   47:  set :locateOreAway:x :findDrillLocation:oreX                 OreLocator.mnd: if !locateOreAway(item, in out oreX, in out oreY, in distanceLimit) then
   48:  set :locateOreAway:y :findDrillLocation:oreY                 ...
   49:  op mul :locateOreAway:distance 3.8197185279121366 .angle     OreLocator.mnd: var distance = SPIRAL_WIDTH * angle;
   50:  set :locateOreAway:lastX -1                                  OreLocator.mnd: var lastX = -1, lastY = -1;
   51:  set :locateOreAway:lastY -1                                  ...
   52:  op max .angle .angle @pi                                     OreLocator.mnd: angle = max(angle, @pi);
   53:  op mul .mapProgress .angle .angle                            OreLocator.mnd: mapProgress = angle * angle;
   54:  op sub *tmp37 @mapw 5                                        OreLocator.mnd: while distance < distanceLimit do
   55:  op sub *tmp44 @maph 5                                        ...
   56:  jump *label37 greaterThanEq :locateOreAway:distance :findDri ...
        label *label205                                              ...
   57:  op div :locateOreAway:a .angle @degToRad                     OreLocator.mnd: var a = angle / @degToRad;
   58:  op sin *tmp34 :locateOreAway:a 0                             OreLocator.mnd: var lx = limit(coreX + sin(a) * distance, 5, @mapw - 5);
   59:  op mul *tmp35 *tmp34 :locateOreAway:distance                 ...
   60:  op add *tmp36 :findDrillLocation:x *tmp35                    ...
   61:  op max *tmp39 *tmp36 5                                       OreLocator.mnd: min(max(value, low), high);
   62:  op min *tmp38 *tmp39 *tmp37                                  ...
   63:  op cos *tmp41 :locateOreAway:a 0                             OreLocator.mnd: var ly = limit(coreY + cos(a) * distance, 5, @maph - 5);
   64:  op mul *tmp42 *tmp41 :locateOreAway:distance                 ...
   65:  op add *tmp43 :findDrillLocation:y *tmp42                    ...
   66:  op max *tmp46 *tmp43 5                                       OreLocator.mnd: min(max(value, low), high);
   67:  op min *tmp45 *tmp46 *tmp44                                  ...
   68:  ucontrol within *tmp38 *tmp45 5 *tmp48 0                     OreLocator.mnd: while !within(x, y, radius) do
   69:  jump *label43 notEqual *tmp48 false                          ...
        label *label212                                              ...
   70:  ucontrol approach *tmp38 *tmp45 4.5 0 0                      OreLocator.mnd: approach(x, y, radius - 0.5);
   71:  ucontrol within *tmp38 *tmp45 5 *tmp48 0                     OreLocator.mnd: while !within(x, y, radius) do
   72:  jump *label212 equal *tmp48 false                            ...
        label *label43                                               ...
   73:  op div *tmp51 3.8197185279121366 :locateOreAway:distance     OreLocator.mnd: angle += SPIRAL_WIDTH / distance;
   74:  op add .angle .angle *tmp51                                  ...
   75:  op mul .mapProgress .angle .angle                            OreLocator.mnd: mapProgress = angle * angle;
   76:  op mul :locateOreAway:distance 3.8197185279121366 .angle     OreLocator.mnd: distance = SPIRAL_WIDTH * angle;
   77:  ulocate ore core true :findDrillLocation:item :locateOreAway OreLocator.mnd: if !ulocate(:ore, ore, out x, out y) then
   78:  jump *label44 notEqual *tmp54 false                          ...
   79:  set *tmp28 false                                             OreLocator.mnd: return false;
   80:  jump *label34 always 0 0                                     ...
        label *label44                                               OreLocator.mnd: if !ulocate(:ore, ore, out x, out y) then
   81:  op sub *tmp58 :locateOreAway:x :findDrillLocation:x          OreLocator.mnd: var coreDist = max(abs(x - coreX), abs(y - coreY));
   82:  op abs *tmp59 *tmp58 0                                       ...
   83:  op sub *tmp60 :locateOreAway:y :findDrillLocation:y          ...
   84:  op abs *tmp61 *tmp60 0                                       ...
   85:  op max :locateOreAway:coreDist *tmp59 *tmp61                 ...
   86:  op sub *tmp63 :locateOreAway:x *tmp38                        OreLocator.mnd: var unitDist = len(x - lx, y - ly);
   87:  op sub *tmp64 :locateOreAway:y *tmp45                        ...
   88:  op len :locateOreAway:unitDist *tmp63 *tmp64                 ...
   89:  jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x OreLocator.mnd: if lastX == x then if lastY == y then continue; end; end;
   90:  jump *label36 equal :locateOreAway:lastY :locateOreAway:y    ...
        label *label46                                               ...
   91:  jump *label50 lessThan :locateOreAway:coreDist 8             OreLocator.mnd: if coreDist >= MIN_CORE_DIST then
   92:  jump *label52 greaterThanEq :locateOreAway:unitDist :locateO OreLocator.mnd: if unitDist < distance then
   93:  set :locateOreAway:lastX :locateOreAway:x                    OreLocator.mnd: lastX = x;
   94:  set :locateOreAway:lastY :locateOreAway:y                    OreLocator.mnd: lastY = y;
   95:  set *tmp75 .locations                                        OreLocator.mnd: for var i in locationsStart ... locations do
   96:  set :visited:i .locationsStart                               ...
   97:  jump *label59 greaterThanEq .locationsStart *tmp75           ...
        label *label206                                              ...
   98:  op mul :visited:index 4 :visited:i                           OreLocator.mnd: var index = 4 * i;
   99:  op add *tmp78 :visited:index 2                               OreLocator.mnd: var lx = bank1[index + 2];
  100:  read :visited:lx bank1 *tmp78                                ...
  101:  op add *tmp81 :visited:index 3                               OreLocator.mnd: var ly = bank1[index + 3];
  102:  read :visited:ly bank1 *tmp81                                ...
  103:  op sub *tmp83 :locateOreAway:x :visited:lx                   OreLocator.mnd: if len(x - lx, y - ly) < 7 then
  104:  op sub *tmp84 :locateOreAway:y :visited:ly                   ...
  105:  op len *tmp85 *tmp83 *tmp84                                  ...
  106:  jump *label60 greaterThanEq *tmp85 7                         ...
  107:  set *tmp74 true                                              OreLocator.mnd: return true;
  108:  jump *label56 always 0 0                                     ...
        label *label60                                               OreLocator.mnd: if len(x - lx, y - ly) < 7 then
  109:  op add :visited:i :visited:i 1                               OreLocator.mnd: for var i in locationsStart ... locations do
  110:  jump *label206 lessThan :visited:i *tmp75                    ...
        label *label59                                               ...
  111:  set *tmp74 false                                             OreLocator.mnd: return false;
        label *label56                                               OreLocator.mnd: if !visited(x, y) then
  112:  jump *label54 notEqual *tmp74 false                          ...
  113:  op div *tmp90 2 .angle                                       OreLocator.mnd: angle += 2 * SPIRAL_WIDTH / distance;
  114:  op add .angle .angle *tmp90                                  ...
  115:  op mul .mapProgress .angle .angle                            OreLocator.mnd: mapProgress = angle * angle;
  116:  printflush message1                                          OreLocator.mnd: printflush(message1);
  117:  set *tmp28 true                                              OreLocator.mnd: return true;
  118:  jump *label34 always 0 0                                     ...
        label *label54                                               OreLocator.mnd: if !visited(x, y) then
        label *label52                                               OreLocator.mnd: if unitDist < distance then
        label *label50                                               OreLocator.mnd: if coreDist >= MIN_CORE_DIST then
        label *label36                                               OreLocator.mnd: while distance < distanceLimit do
  119:  jump *label205 lessThan :locateOreAway:distance :findDrillLo ...
        label *label37                                               ...
  120:  set *tmp28 false                                             OreLocator.mnd: return false;
        label *label34                                               OreLocator.mnd: if !locateOreAway(item, in out oreX, in out oreY, in distanceLimit) then
  121:  set :findDrillLocation:oreX :locateOreAway:x                 ...
  122:  set :findDrillLocation:oreY :locateOreAway:y                 ...
  123:  jump *label32 notEqual *tmp28 false                          ...
  124:  set .searchFinished true                                     OreLocator.mnd: searchFinished = true;
  125:  op greaterThan :findDrillLocation*retval :findDrillLocation: OreLocator.mnd: return capacity > 0;
  126:  jump *label23 always 0 0                                     ...
        label *label32                                               OreLocator.mnd: if !locateOreAway(item, in out oreX, in out oreY, in distanceLimit) then
  127:  jump *label62 lessThan :findDrillLocation:limit 1000         OreLocator.mnd: if limit >= 1000 then mapSpots++; end;
  128:  op add .mapSpots .mapSpots 1                                 ...
        label *label62                                               ...
  129:  ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp100  OreLocator.mnd: while !within(x, y, radius) do
  130:  jump *label68 notEqual *tmp100 false                         ...
        label *label224                                              ...
  131:  ucontrol approach :locateOreAway:x :locateOreAway:y 5.5 0 0  OreLocator.mnd: approach(x, y, radius - 0.5);
  132:  ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp100  OreLocator.mnd: while !within(x, y, radius) do
  133:  jump *label224 equal *tmp100 false                           ...
        label *label68                                               ...
  134:  set :findDrillLocation:last 0                                OreLocator.mnd: var last = 0;
        label *label69                                               OreLocator.mnd: while true do
  135:  write @unit processor4 ":findBestPosition:unit"              OreLocator.mnd: var score = matrices.findBestPosition(@unit, oreX, oreY, ore, size, out diffX, out diffY);
  136:  write :findDrillLocation:oreX processor4 ":findBestPosition: ...
  137:  write :findDrillLocation:oreY processor4 ":findBestPosition: ...
  138:  write :findDrillLocation:ore processor4 ":findBestPosition:o ...
  139:  write :findDrillLocation:size processor4 ":findBestPosition: ...
  140:  write false processor4 ":findBestPosition*finished"          ...
  141:  write 2 processor4 "@counter"                                ...
        label *label72                                               ...
  142:  wait 1e-15                                                   ...
  143:  read *tmp110 processor4 ":findBestPosition*finished"         ...
  144:  jump *label72 equal *tmp110 false                            ...
  145:  read :findDrillLocation:diffX processor4 ":findBestPosition: ...
  146:  read :findDrillLocation:diffY processor4 ":findBestPosition: ...
  147:  read :findDrillLocation:score processor4 ":findBestPosition* ...
  148:  op add :findDrillLocation:newX :findDrillLocation:oreX :find OreLocator.mnd: var newX = oreX + diffX;
  149:  op add :findDrillLocation:newY :findDrillLocation:oreY :find OreLocator.mnd: var newY = oreY + diffY;
  150:  op sub *tmp114 :findDrillLocation:newX :findDrillLocation:x  OreLocator.mnd: var coreDist = max(abs(newX - coreX), abs(newY - coreY));
  151:  op abs *tmp115 *tmp114 0                                     ...
  152:  op sub *tmp116 :findDrillLocation:newY :findDrillLocation:y  ...
  153:  op abs *tmp117 *tmp116 0                                     ...
  154:  op max :findDrillLocation:coreDist *tmp115 *tmp117           ...
  155:  jump *label71 lessThanEq :findDrillLocation:coreDist 8       OreLocator.mnd: if coreDist <= MIN_CORE_DIST then break; end;
  156:  jump *label75 lessThanEq :findDrillLocation:score :findDrill OreLocator.mnd: if score > capacity then
  157:  set :findDrillLocation:dx :findDrillLocation:newX            OreLocator.mnd: dx = newX;
  158:  set :findDrillLocation:dy :findDrillLocation:newY            OreLocator.mnd: dy = newY;
  159:  set :findDrillLocation:capacity :findDrillLocation:score     OreLocator.mnd: capacity = score;
  160:  select .mapSpots lessThan :findDrillLocation:limit 1000 :fin OreLocator.mnd: if limit < 1000 then mapSpots = score; end;
  161:  jump *label79 lessThan :findDrillLocation:capacity :findDril OreLocator.mnd: if capacity >= limit then
  162:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = item.@id;
  163:  sensor *tmp129 :findDrillLocation:item @id                   ...
  164:  write *tmp129 bank1 .count                                   ...
  165:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = value;
  166:  write :findDrillLocation:score bank1 .count                  ...
  167:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = x;
  168:  write :findDrillLocation:dx bank1 .count                     ...
  169:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = y;
  170:  write :findDrillLocation:dy bank1 .count                     ...
  171:  op add .locations .locations 1                               OreLocator.mnd: inline void saveLocation(item, value, x, y)
  172:  ucontrol unbind 0 0 0 0 0                                    OreLocator.mnd: unbind();
  173:  set .searchFinished true                                     OreLocator.mnd: searchFinished = true;
  174:  set :findDrillLocation*retval true                           OreLocator.mnd: return true;
  175:  jump *label23 always 0 0                                     ...
        label *label79                                               OreLocator.mnd: if capacity >= limit then
        label *label75                                               OreLocator.mnd: if score > capacity then
  176:  jump *label82 lessThanEq :findDrillLocation:score :findDrill OreLocator.mnd: if score > best then
  177:  set :findDrillLocation:bestX :findDrillLocation:newX         OreLocator.mnd: bestX = newX;
  178:  set :findDrillLocation:bestY :findDrillLocation:newY         OreLocator.mnd: bestY = newY;
  179:  set :findDrillLocation:best :findDrillLocation:score         OreLocator.mnd: best = score;
        label *label82                                               OreLocator.mnd: if score > best then
  180:  jump *label71 lessThanEq :findDrillLocation:score :findDrill OreLocator.mnd: if score <= last then break; end;
  181:  set :findDrillLocation:last :findDrillLocation:score         OreLocator.mnd: last = score;
  182:  op mul :round:x :findDrillLocation:diffX 1.1                 OreLocator.mnd: oreX += round(diffX * 1.1);    // Rounds halves to higher absolute values
  183:  op add *tmp143 :round:x 0.5                                  *math: floor(x + 0.5);
  184:  op floor *tmp142 *tmp143 0                                   ...
  185:  op add :findDrillLocation:oreX :findDrillLocation:oreX *tmp1 OreLocator.mnd: oreX += round(diffX * 1.1);    // Rounds halves to higher absolute values
  186:  op mul :round.1:x :findDrillLocation:diffY 1.1               OreLocator.mnd: oreY += round(diffY * 1.1);
  187:  op add *tmp147 :round.1:x 0.5                                *math: floor(x + 0.5);
  188:  op floor *tmp146 *tmp147 0                                   ...
  189:  op add :findDrillLocation:oreY :findDrillLocation:oreY *tmp1 OreLocator.mnd: oreY += round(diffY * 1.1);
  190:  jump *label69 always 0 0                                     OreLocator.mnd: while true do
        label *label71                                               ...
  191:  jump *label29 lessThan :findDrillLocation:best 0             OreLocator.mnd: if best >= 0 then
  192:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = item.@id;
  193:  sensor *tmp153 :findDrillLocation:item @id                   ...
  194:  write *tmp153 bank1 .count                                   ...
  195:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = value;
  196:  write :findDrillLocation:best bank1 .count                   ...
  197:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = x;
  198:  write :findDrillLocation:bestX bank1 .count                  ...
  199:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = y;
  200:  write :findDrillLocation:bestY bank1 .count                  ...
  201:  op add .locations .locations 1                               OreLocator.mnd: inline void saveLocation(item, value, x, y)
  202:  jump *label29 always 0 0                                     OreLocator.mnd: while true do
        label *label23                                               OreLocator.mnd: export def findDrillLocation(x, y, unit, item, ore, size, limit, out dx, out dy, out capacity)
  203:  set :findDrillLocation*finished true                         ...
  204:  return :findDrillLocation*retaddr                            ...
        label *label14                                               OreLocator.mnd: noinline def excludeArea(mask, maskX, maskY, areaX, areaY, areaWidth, areaHeight)
  205:  op add *tmp184 :excludeArea:areaWidth 8                      OreLocator.mnd: var overlapX = (areaWidth + 7 + 1) \ 2 - abs(maskX - areaX);
  206:  op idiv *tmp185 *tmp184 2                                    ...
  207:  op sub *tmp186 :excludeArea:maskX :excludeArea:areaX         ...
  208:  op abs *tmp187 *tmp186 0                                     ...
  209:  op sub :excludeArea:overlapX *tmp185 *tmp187                 ...
  210:  op add *tmp190 :excludeArea:areaHeight 8                     OreLocator.mnd: var overlapY = (areaHeight + 7 + 1) \ 2 - abs(maskY - areaY);
  211:  op idiv *tmp191 *tmp190 2                                    ...
  212:  op sub *tmp192 :excludeArea:maskY :excludeArea:areaY         ...
  213:  op abs *tmp193 *tmp192 0                                     ...
  214:  op sub :excludeArea:overlapY *tmp191 *tmp193                 ...
  215:  set :excludeArea*retval :excludeArea:mask                    OreLocator.mnd: return mask;
  216:  jump *label104 lessThanEq :excludeArea:overlapX 0            OreLocator.mnd: if overlapX > 0 and overlapY > 0 then
  217:  jump *label104 lessThanEq :excludeArea:overlapY 0            ...
  218:  op min :excludeArea:blockSizeX 7 :excludeArea:overlapX       OreLocator.mnd: var blockSizeX = min(7, overlapX);
  219:  op min :excludeArea:blockSizeY 7 :excludeArea:overlapY       OreLocator.mnd: var blockSizeY = min(7, overlapY);
  220:  op shl *tmp201 1 :excludeArea:blockSizeX                     OreLocator.mnd: var row = (1 << width) - 1;
  221:  op sub :createMatrixOfSize:row *tmp201 1                     ...
  222:  set :createMatrixOfSize:matrix :createMatrixOfSize:row       OreLocator.mnd: var matrix = row;
  223:  jump *label110 greaterThanEq 1 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  224:  op shl *tmp205 :createMatrixOfSize:row 7                     OreLocator.mnd: matrix = (matrix << 7) | row;
  225:  op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize ...
  226:  jump *label110 greaterThanEq 2 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  227:  op shl *tmp205 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  228:  op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize ...
  229:  jump *label110 greaterThanEq 3 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  230:  op shl *tmp205 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  231:  op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize ...
  232:  jump *label110 greaterThanEq 4 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  233:  op shl *tmp205 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  234:  op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize ...
  235:  jump *label110 greaterThanEq 5 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  236:  op shl *tmp205 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  237:  op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize ...
  238:  jump *label110 greaterThanEq 6 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  239:  op shl *tmp205 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  240:  op or :createMatrixOfSize:matrix *tmp205 :createMatrixOfSize ...
        label *label110                                              OreLocator.mnd: for var i in 1 ... 7 do
  241:  op lessThan *tmp207 :excludeArea:maskX :excludeArea:areaX    OreLocator.mnd: var shiftX = (maskX < areaX) * (7 - blockSizeX);
  242:  op sub *tmp208 7 :excludeArea:blockSizeX                     ...
  243:  op mul :excludeArea:shiftX *tmp207 *tmp208                   ...
  244:  op lessThan *tmp210 :excludeArea:maskY :excludeArea:areaY    OreLocator.mnd: var shiftY = (maskY < areaY) * (7 - blockSizeY);
  245:  op sub *tmp211 7 :excludeArea:blockSizeY                     ...
  246:  op mul :excludeArea:shiftY *tmp210 *tmp211                   ...
  247:  op abs *tmp161 :excludeArea:shiftX 0                         OreLocator.mnd: if abs(shiftX) > 6 or abs(shiftY) > 6 then return 0; end;
  248:  jump *label264 greaterThan *tmp161 6                         ...
  249:  op abs *tmp163 :excludeArea:shiftY 0                         ...
  250:  jump *label265 lessThanEq *tmp163 6                          ...
        label *label264                                              ...
  251:  set :shiftMask*retval 0                                      ...
  252:  jump *label273 always 0 0                                    ...
        label *label265                                              ...
  253:  op mul *tmp166 7 :excludeArea:shiftY                         OreLocator.mnd: var shift = shiftX + 7 * shiftY;
  254:  op add :shiftMask:shift :excludeArea:shiftX *tmp166          ...
  255:  jump *label267 lessThanEq :shiftMask:shift 0                 OreLocator.mnd: if shift > 0 then
  256:  op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift OreLocator.mnd: var clearMask = FULL_MASK >> shift;
  257:  op and *tmp171 :createMatrixOfSize:matrix :shiftMask:clearMa OreLocator.mnd: mask = (mask & clearMask) << shift;
  258:  op shl :shiftMask:mask *tmp171 :shiftMask:shift              ...
  259:  jump *label268 always 0 0                                    OreLocator.mnd: if shift > 0 then
        label *label267                                              ...
  260:  op sub *tmp173 0 :shiftMask:shift                            OreLocator.mnd: mask >>= -shift;
  261:  op shr :shiftMask:mask :createMatrixOfSize:matrix *tmp173    ...
        label *label268                                              OreLocator.mnd: if shift > 0 then
  262:  jump *label271 equal :excludeArea:shiftX 0                   OreLocator.mnd: if shiftX != 0 then
  263:  op shr :shiftMask:keep 0b1111111 *tmp161                     OreLocator.mnd: var keep = 0b1111111 >> abs(shiftX);        // The bits we need to keep
  264:  jump *label269 lessThanEq :excludeArea:shiftX 0              OreLocator.mnd: if shiftX > 0 then keep <<= shiftX; end;    // Shift to the proper side
  265:  op shl :shiftMask:keep :shiftMask:keep :excludeArea:shiftX   ...
        label *label269                                              ...
  266:  op shl *tmp180 :shiftMask:keep 7                             OreLocator.mnd: keep |= keep << 7;
  267:  op or :shiftMask:keep :shiftMask:keep *tmp180                ...
  268:  op shl *tmp181 :shiftMask:keep 14                            OreLocator.mnd: keep |= keep << 14;
  269:  op or :shiftMask:keep :shiftMask:keep *tmp181                ...
  270:  op shl *tmp182 :shiftMask:keep 21                            OreLocator.mnd: keep |= keep << 21;
  271:  op or :shiftMask:keep :shiftMask:keep *tmp182                ...
  272:  op and :shiftMask:mask :shiftMask:mask :shiftMask:keep       OreLocator.mnd: mask &= keep;
        label *label271                                              OreLocator.mnd: if shiftX != 0 then
  273:  set :shiftMask*retval :shiftMask:mask                        OreLocator.mnd: return mask;
        label *label273                                              OreLocator.mnd: def shiftMask(mask, shiftX, shiftY)
  274:  op or :excludeArea*retval :excludeArea:mask :shiftMask*retva OreLocator.mnd: return mask | shifted;
        label *label104                                              OreLocator.mnd: if overlapX > 0 and overlapY > 0 then
  275:  return :excludeArea*retaddr                                  OreLocator.mnd: noinline def excludeArea(mask, maskX, maskY, areaX, areaY, areaWidth, areaHeight)
        label *label15                                               OreLocator.mnd: noinline def findPossiblePlacement(terrainMask, placementMask, width, height, out x, out y)
  276:  set :findPossiblePlacement:y -3                              OreLocator.mnd: for y in -3 .. 3 do
  277:  jump *label117 greaterThan :findPossiblePlacement:y 3        ...
        label *label208                                              ...
  278:  op add *tmp214 :findPossiblePlacement:y 3                    OreLocator.mnd: var mask = placementMask << 7 * (y + 3);
  279:  op mul *tmp215 7 *tmp214                                     ...
  280:  op shl :findPossiblePlacement:mask :findPossiblePlacement:pl ...
  281:  set :findPossiblePlacement:x -3                              OreLocator.mnd: for x in -3 .. 3 do
  282:  jump *label120 greaterThan :findPossiblePlacement:x 3        ...
        label *label209                                              ...
  283:  op and *tmp217 :findPossiblePlacement:terrainMask :findPossi OreLocator.mnd: if (terrainMask & mask) == 0 then return 3 * 8 + y * 7 + x; end;
  284:  jump *label121 notEqual *tmp217 0                            ...
  285:  op mul *tmp220 :findPossiblePlacement:y 7                    ...
  286:  op add *tmp221 24 *tmp220                                    ...
  287:  op add :findPossiblePlacement*retval *tmp221 :findPossiblePl ...
  288:  return :findPossiblePlacement*retaddr                        ...
        label *label121                                              ...
  289:  op sub *tmp223 3 :findPossiblePlacement:width                OreLocator.mnd: if x > 3 - width then break; end;
  290:  jump *label120 greaterThan :findPossiblePlacement:x *tmp223  ...
  291:  op shl :findPossiblePlacement:mask :findPossiblePlacement:ma OreLocator.mnd: mask <<= 1;
  292:  op add :findPossiblePlacement:x :findPossiblePlacement:x 1   OreLocator.mnd: for x in -3 .. 3 do
  293:  jump *label209 lessThanEq :findPossiblePlacement:x 3         ...
        label *label120                                              ...
  294:  op sub *tmp226 3 :findPossiblePlacement:height               OreLocator.mnd: if y > 3 - height then break; end;
  295:  jump *label117 greaterThan :findPossiblePlacement:y *tmp226  ...
  296:  op add :findPossiblePlacement:y :findPossiblePlacement:y 1   OreLocator.mnd: for y in -3 .. 3 do
  297:  jump *label208 lessThanEq :findPossiblePlacement:y 3         ...
        label *label117                                              ...
  298:  set :findPossiblePlacement*retval -1                         OreLocator.mnd: return -1;
  299:  return :findPossiblePlacement*retaddr                        OreLocator.mnd: noinline def findPossiblePlacement(terrainMask, placementMask, width, height, out x, out y)
        label *label16                                               OreLocator.mnd: def tryPlaceGenerator(centerX, centerY, terrainMask, generatorHorizontal, generatorVertical)
  300:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: var shift = findPossiblePlacement(terrainMask, generatorVertical, 2, 4, out c, out r);
  301:  set :findPossiblePlacement:placementMask :tryPlaceGenerator: ...
  302:  set :findPossiblePlacement:width 2                           ...
  303:  set :findPossiblePlacement:height 4                          ...
  304:  setaddr :findPossiblePlacement*retaddr *label128             ...
  305:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label128                                              ...
  306:  jump *label129 lessThan :findPossiblePlacement*retval 0      OreLocator.mnd: if shift >= 0 then
  307:  jump *label131 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  308:  set :tryPlaceGenerator*retval false                          ...
  309:  return :tryPlaceGenerator*retaddr                            ...
        label *label131                                              ...
  310:  op add *tmp234 :tryPlaceGenerator:centerX 0.5                OreLocator.mnd: water2X = centerX + 0.5 + c;
  311:  op add .water2X *tmp234 :findPossiblePlacement:x             ...
  312:  op add *tmp236 :tryPlaceGenerator:centerY 0.5                OreLocator.mnd: water2Y = centerY + 0.5 + r;
  313:  op add .water2Y *tmp236 :findPossiblePlacement:y             ...
  314:  op add .generatorX *tmp234 :findPossiblePlacement:x          OreLocator.mnd: generatorX = centerX + 0.5 + c;
  315:  op add *tmp240 :tryPlaceGenerator:centerY 2.5                OreLocator.mnd: generatorY = centerY + 2.5 + r;
  316:  op add .generatorY *tmp240 :findPossiblePlacement:y          ...
  317:  op shl *tmp242 :tryPlaceGenerator:generatorVertical :findPos OreLocator.mnd: terrainMask |= (generatorVertical << shift);
  318:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  319:  jump *label130 always 0 0                                    OreLocator.mnd: if shift >= 0 then
        label *label129                                              ...
  320:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, generatorHorizontal, 4, 2, out c, out r);
  321:  set :findPossiblePlacement:placementMask :tryPlaceGenerator: ...
  322:  set :findPossiblePlacement:width 4                           ...
  323:  set :findPossiblePlacement:height 2                          ...
  324:  setaddr :findPossiblePlacement*retaddr *label133             ...
  325:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label133                                              ...
  326:  jump *label134 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  327:  set :tryPlaceGenerator*retval false                          ...
  328:  return :tryPlaceGenerator*retaddr                            ...
        label *label134                                              ...
  329:  op add *tmp246 :tryPlaceGenerator:centerX 0.5                OreLocator.mnd: water2X = centerX + 0.5 + c;
  330:  op add .water2X *tmp246 :findPossiblePlacement:x             ...
  331:  op add *tmp248 :tryPlaceGenerator:centerY 0.5                OreLocator.mnd: water2Y = centerY + 0.5 + r;
  332:  op add .water2Y *tmp248 :findPossiblePlacement:y             ...
  333:  op add *tmp250 :tryPlaceGenerator:centerX 2.5                OreLocator.mnd: generatorX = centerX + 2.5 + c;
  334:  op add .generatorX *tmp250 :findPossiblePlacement:x          ...
  335:  op add .generatorY *tmp248 :findPossiblePlacement:y          OreLocator.mnd: generatorY = centerY + 0.5 + r;
  336:  op shl *tmp254 :tryPlaceGenerator:generatorHorizontal :findP OreLocator.mnd: terrainMask |= (generatorHorizontal << shift);
  337:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
        label *label130                                              OreLocator.mnd: if shift >= 0 then
  338:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr OreLocator.mnd: terrainMask |= createFixedMatrix(
  339:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  340:  set :findPossiblePlacement:placementMask 1                   ...
  341:  set :findPossiblePlacement:width 1                           ...
  342:  set :findPossiblePlacement:height 1                          ...
  343:  setaddr :findPossiblePlacement*retaddr *label136             ...
  344:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label136                                              ...
  345:  jump *label137 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  346:  set :tryPlaceGenerator*retval false                          ...
  347:  return :tryPlaceGenerator*retaddr                            ...
        label *label137                                              ...
  348:  op add .panelX :tryPlaceGenerator:centerX :findPossiblePlace OreLocator.mnd: panelX = centerX + c;
  349:  op add .panelY :tryPlaceGenerator:centerY :findPossiblePlace OreLocator.mnd: panelY = centerY + r;
  350:  op shl *tmp260 1 :findPossiblePlacement*retval               OreLocator.mnd: terrainMask |= (1 << shift);
  351:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  352:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  353:  set :findPossiblePlacement:placementMask 1                   ...
  354:  set :findPossiblePlacement:width 1                           ...
  355:  set :findPossiblePlacement:height 1                          ...
  356:  setaddr :findPossiblePlacement*retaddr *label139             ...
  357:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label139                                              ...
  358:  jump *label140 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  359:  set :tryPlaceGenerator*retval false                          ...
  360:  return :tryPlaceGenerator*retaddr                            ...
        label *label140                                              ...
  361:  op add .batteryX :tryPlaceGenerator:centerX :findPossiblePla OreLocator.mnd: batteryX = centerX + c;
  362:  op add .batteryY :tryPlaceGenerator:centerY :findPossiblePla OreLocator.mnd: batteryY = centerY + r;
  363:  op shl *tmp266 1 :findPossiblePlacement*retval               OreLocator.mnd: terrainMask |= (1 << shift);
  364:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  365:  op sub *tmp267 .water2X .node1X                              OreLocator.mnd: if len(water2X - node1X, water2Y - node1Y) > 7              // 2x2 block
  366:  op sub *tmp268 .water2Y .node1Y                              ...
  367:  op len *tmp269 *tmp267 *tmp268                               ...
  368:  jump *label144 greaterThan *tmp269 7                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  369:  op sub *tmp271 .generatorX .node1X                           OreLocator.mnd: or len(generatorX - node1X, generatorY - node1Y) > 7    // 2x2 block
  370:  op sub *tmp272 .generatorY .node1Y                           ...
  371:  op len *tmp273 *tmp271 *tmp272                               ...
  372:  jump *label144 greaterThan *tmp273 7                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  373:  op sub *tmp275 .panelX .node1X                               OreLocator.mnd: or len(panelX - node1X, panelY - node1Y) > 6
  374:  op sub *tmp276 .panelY .node1Y                               ...
  375:  op len *tmp277 *tmp275 *tmp276                               ...
  376:  jump *label144 greaterThan *tmp277 6                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  377:  op sub *tmp279 .batteryX .node1X                             ...
  378:  op sub *tmp280 .batteryY .node1Y                             ...
  379:  op len *tmp281 *tmp279 *tmp280                               ...
  380:  jump *label142 lessThanEq *tmp281 6                          ...
        label *label144                                              ...
  381:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  382:  set :findPossiblePlacement:placementMask 1                   ...
  383:  set :findPossiblePlacement:width 1                           ...
  384:  set :findPossiblePlacement:height 1                          ...
  385:  setaddr :findPossiblePlacement*retaddr *label148             ...
  386:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label148                                              ...
  387:  jump *label149 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  388:  set :tryPlaceGenerator*retval false                          ...
  389:  return :tryPlaceGenerator*retaddr                            ...
        label *label149                                              ...
  390:  op add .node2X :tryPlaceGenerator:centerX :findPossiblePlace OreLocator.mnd: node2X = centerX + c;
  391:  op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlace OreLocator.mnd: node2Y = centerY + r;
        label *label142                                              OreLocator.mnd: if len(water2X - node1X, water2Y - node1Y) > 7              // 2x2 block
  392:  set :tryPlaceGenerator*retval true                           OreLocator.mnd: return true;
  393:  return :tryPlaceGenerator*retaddr                            OreLocator.mnd: def tryPlaceGenerator(centerX, centerY, terrainMask, generatorHorizontal, generatorVertical)
        label *label18                                               OreLocator.mnd: def createCombinedMask(x, y);
  394:  write @unit processor4 ":createTerrainMask:unit"             OreLocator.mnd: async(matrices.createTerrainMask(@unit, x, y));
  395:  write :createCombinedMask:x processor4 ":createTerrainMask:x ...
  396:  write :createCombinedMask:y processor4 ":createTerrainMask:y ...
  397:  write false processor4 ":createTerrainMask*finished"         ...
  398:  write 1 processor4 "@counter"                                ...
  399:  op add *tmp300 :createCombinedMask:y 4                       OreLocator.mnd: var row2 = createBlockMaskRow(x, y + 4);
  400:  op add *tmp291 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  401:  ucontrol getBlock *tmp291 *tmp300 0 :createBlockMaskRow:resu ...
  402:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  403:  op add *tmp291 :createCombinedMask:x 3                       ...
  404:  ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0                ...
  405:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  406:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  407:  op add *tmp291 :createCombinedMask:x 2                       ...
  408:  ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0                ...
  409:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  410:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  411:  op add *tmp291 :createCombinedMask:x 1                       ...
  412:  ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0                ...
  413:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  414:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  415:  ucontrol getBlock :createCombinedMask:x *tmp300 0 *tmp292 0  ...
  416:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  417:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  418:  op add *tmp291 :createCombinedMask:x -1                      ...
  419:  ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0                ...
  420:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  421:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  422:  op add *tmp291 :createCombinedMask:x -2                      ...
  423:  ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0                ...
  424:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  425:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  426:  op add *tmp291 :createCombinedMask:x -3                      ...
  427:  ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0                ...
  428:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  429:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  430:  op add *tmp291 :createCombinedMask:x -4                      ...
  431:  ucontrol getBlock *tmp291 *tmp300 0 *tmp292 0                ...
  432:  op or :createAdjacentMask:row2 *tmp290 *tmp292               ...
  433:  op add *tmp302 :createCombinedMask:y 3                       OreLocator.mnd: var row1 = createBlockMaskRow(x, y + 3);
  434:  op add *tmp291 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  435:  ucontrol getBlock *tmp291 *tmp302 0 :createBlockMaskRow:resu ...
  436:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  437:  op add *tmp291 :createCombinedMask:x 3                       ...
  438:  ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0                ...
  439:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  440:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  441:  op add *tmp291 :createCombinedMask:x 2                       ...
  442:  ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0                ...
  443:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  444:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  445:  op add *tmp291 :createCombinedMask:x 1                       ...
  446:  ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0                ...
  447:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  448:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  449:  ucontrol getBlock :createCombinedMask:x *tmp302 0 *tmp292 0  ...
  450:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  451:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  452:  op add *tmp291 :createCombinedMask:x -1                      ...
  453:  ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0                ...
  454:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  455:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  456:  op add *tmp291 :createCombinedMask:x -2                      ...
  457:  ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0                ...
  458:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  459:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  460:  op add *tmp291 :createCombinedMask:x -3                      ...
  461:  ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0                ...
  462:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  463:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  464:  op add *tmp291 :createCombinedMask:x -4                      ...
  465:  ucontrol getBlock *tmp291 *tmp302 0 *tmp292 0                ...
  466:  op or :createAdjacentMask:row1 *tmp290 *tmp292               ...
  467:  op add *tmp304 :createCombinedMask:y 2                       OreLocator.mnd: var row0 = createBlockMaskRow(x, y + r);
  468:  op add *tmp291 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  469:  ucontrol getBlock *tmp291 *tmp304 0 :createBlockMaskRow:resu ...
  470:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  471:  op add *tmp291 :createCombinedMask:x 3                       ...
  472:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  473:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  474:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  475:  op add *tmp291 :createCombinedMask:x 2                       ...
  476:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  477:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  478:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  479:  op add *tmp291 :createCombinedMask:x 1                       ...
  480:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  481:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  482:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  483:  ucontrol getBlock :createCombinedMask:x *tmp304 0 *tmp292 0  ...
  484:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  485:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  486:  op add *tmp291 :createCombinedMask:x -1                      ...
  487:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  488:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  489:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  490:  op add *tmp291 :createCombinedMask:x -2                      ...
  491:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  492:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  493:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  494:  op add *tmp291 :createCombinedMask:x -3                      ...
  495:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  496:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  497:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  498:  op add *tmp291 :createCombinedMask:x -4                      ...
  499:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  500:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  501:  op shl *tmp306 :createAdjacentMask:row1 1                    OreLocator.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  502:  op or *tmp307 :createAdjacentMask:row2 *tmp306               ...
  503:  op shr *tmp308 :createAdjacentMask:row1 1                    ...
  504:  op or *tmp309 *tmp307 *tmp308                                ...
  505:  op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:r ...
  506:  op and :createAdjacentMask:result :createAdjacentMask:mask 0 OreLocator.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  507:  set :createAdjacentMask:row2 :createAdjacentMask:row1        OreLocator.mnd: row2 = row1;
  508:  set :createAdjacentMask:row1 :createBlockMaskRow:result      OreLocator.mnd: row1 = row0;
  509:  op add *tmp304 :createCombinedMask:y 1                       OreLocator.mnd: var row0 = createBlockMaskRow(x, y + r);
  510:  op add *tmp291 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  511:  ucontrol getBlock *tmp291 *tmp304 0 :createBlockMaskRow:resu ...
  512:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  513:  op add *tmp291 :createCombinedMask:x 3                       ...
  514:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  515:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  516:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  517:  op add *tmp291 :createCombinedMask:x 2                       ...
  518:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  519:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  520:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  521:  op add *tmp291 :createCombinedMask:x 1                       ...
  522:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  523:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  524:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  525:  ucontrol getBlock :createCombinedMask:x *tmp304 0 *tmp292 0  ...
  526:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  527:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  528:  op add *tmp291 :createCombinedMask:x -1                      ...
  529:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  530:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  531:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  532:  op add *tmp291 :createCombinedMask:x -2                      ...
  533:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  534:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  535:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  536:  op add *tmp291 :createCombinedMask:x -3                      ...
  537:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  538:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  539:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  540:  op add *tmp291 :createCombinedMask:x -4                      ...
  541:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  542:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  543:  op shl *tmp306 :createAdjacentMask:row1 1                    OreLocator.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  544:  op or *tmp307 :createAdjacentMask:row2 *tmp306               ...
  545:  op shr *tmp308 :createAdjacentMask:row1 1                    ...
  546:  op or *tmp309 *tmp307 *tmp308                                ...
  547:  op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:r ...
  548:  op shl *tmp311 :createAdjacentMask:result 7                  OreLocator.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  549:  op and *tmp312 :createAdjacentMask:mask 0xFE                 ...
  550:  op or :createAdjacentMask:result *tmp311 *tmp312             ...
  551:  set :createAdjacentMask:row2 :createAdjacentMask:row1        OreLocator.mnd: row2 = row1;
  552:  set :createAdjacentMask:row1 :createBlockMaskRow:result      OreLocator.mnd: row1 = row0;
  553:  op add *tmp291 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  554:  ucontrol getBlock *tmp291 :createCombinedMask:y 0 :createBlo ...
  555:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  556:  op add *tmp291 :createCombinedMask:x 3                       ...
  557:  ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0  ...
  558:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  559:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  560:  op add *tmp291 :createCombinedMask:x 2                       ...
  561:  ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0  ...
  562:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  563:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  564:  op add *tmp291 :createCombinedMask:x 1                       ...
  565:  ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0  ...
  566:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  567:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  568:  ucontrol getBlock :createCombinedMask:x :createCombinedMask: ...
  569:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  570:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  571:  op add *tmp291 :createCombinedMask:x -1                      ...
  572:  ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0  ...
  573:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  574:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  575:  op add *tmp291 :createCombinedMask:x -2                      ...
  576:  ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0  ...
  577:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  578:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  579:  op add *tmp291 :createCombinedMask:x -3                      ...
  580:  ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0  ...
  581:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  582:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  583:  op add *tmp291 :createCombinedMask:x -4                      ...
  584:  ucontrol getBlock *tmp291 :createCombinedMask:y 0 *tmp292 0  ...
  585:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  586:  op shl *tmp306 :createAdjacentMask:row1 1                    OreLocator.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  587:  op or *tmp307 :createAdjacentMask:row2 *tmp306               ...
  588:  op shr *tmp308 :createAdjacentMask:row1 1                    ...
  589:  op or *tmp309 *tmp307 *tmp308                                ...
  590:  op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:r ...
  591:  op shl *tmp311 :createAdjacentMask:result 7                  OreLocator.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  592:  op and *tmp312 :createAdjacentMask:mask 0xFE                 ...
  593:  op or :createAdjacentMask:result *tmp311 *tmp312             ...
  594:  set :createAdjacentMask:row2 :createAdjacentMask:row1        OreLocator.mnd: row2 = row1;
  595:  set :createAdjacentMask:row1 :createBlockMaskRow:result      OreLocator.mnd: row1 = row0;
  596:  op add *tmp304 :createCombinedMask:y -1                      OreLocator.mnd: var row0 = createBlockMaskRow(x, y + r);
  597:  op add *tmp291 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  598:  ucontrol getBlock *tmp291 *tmp304 0 :createBlockMaskRow:resu ...
  599:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  600:  op add *tmp291 :createCombinedMask:x 3                       ...
  601:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  602:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  603:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  604:  op add *tmp291 :createCombinedMask:x 2                       ...
  605:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  606:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  607:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  608:  op add *tmp291 :createCombinedMask:x 1                       ...
  609:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  610:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  611:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  612:  ucontrol getBlock :createCombinedMask:x *tmp304 0 *tmp292 0  ...
  613:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  614:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  615:  op add *tmp291 :createCombinedMask:x -1                      ...
  616:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  617:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  618:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  619:  op add *tmp291 :createCombinedMask:x -2                      ...
  620:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  621:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  622:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  623:  op add *tmp291 :createCombinedMask:x -3                      ...
  624:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  625:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  626:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  627:  op add *tmp291 :createCombinedMask:x -4                      ...
  628:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  629:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  630:  op shl *tmp306 :createAdjacentMask:row1 1                    OreLocator.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  631:  op or *tmp307 :createAdjacentMask:row2 *tmp306               ...
  632:  op shr *tmp308 :createAdjacentMask:row1 1                    ...
  633:  op or *tmp309 *tmp307 *tmp308                                ...
  634:  op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow:r ...
  635:  op shl *tmp311 :createAdjacentMask:result 7                  OreLocator.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  636:  op and *tmp312 :createAdjacentMask:mask 0xFE                 ...
  637:  op or :createAdjacentMask:result *tmp311 *tmp312             ...
  638:  set :createAdjacentMask:row2 :createAdjacentMask:row1        OreLocator.mnd: row2 = row1;
  639:  set :createAdjacentMask:row1 :createBlockMaskRow:result      OreLocator.mnd: row1 = row0;
  640:  op add :createBlockMaskRow:y :createCombinedMask:y -2        OreLocator.mnd: var row0 = createBlockMaskRow(x, y + r);
  641:  op add *tmp291 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  642:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 :createBlo ...
  643:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  644:  op add *tmp291 :createCombinedMask:x 3                       ...
  645:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  646:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  647:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  648:  op add *tmp291 :createCombinedMask:x 2                       ...
  649:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  650:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  651:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  652:  op add *tmp291 :createCombinedMask:x 1                       ...
  653:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  654:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  655:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  656:  ucontrol getBlock :createCombinedMask:x :createBlockMaskRow: ...
  657:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  658:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  659:  op add *tmp291 :createCombinedMask:x -1                      ...
  660:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  661:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  662:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  663:  op add *tmp291 :createCombinedMask:x -2                      ...
  664:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  665:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  666:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  667:  op add *tmp291 :createCombinedMask:x -3                      ...
  668:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  669:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  670:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  671:  op add *tmp291 :createCombinedMask:x -4                      ...
  672:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  673:  op or :createBlockMaskRow*retval *tmp290 *tmp292             ...
  674:  op shl *tmp306 :createAdjacentMask:row1 1                    OreLocator.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  675:  op or *tmp307 :createAdjacentMask:row2 *tmp306               ...
  676:  op shr *tmp308 :createAdjacentMask:row1 1                    ...
  677:  op or *tmp309 *tmp307 *tmp308                                ...
  678:  op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*r ...
  679:  op shl *tmp311 :createAdjacentMask:result 7                  OreLocator.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  680:  op and *tmp312 :createAdjacentMask:mask 0xFE                 ...
  681:  op or :createAdjacentMask:result *tmp311 *tmp312             ...
  682:  set :createAdjacentMask:row2 :createAdjacentMask:row1        OreLocator.mnd: row2 = row1;
  683:  set :createAdjacentMask:row1 :createBlockMaskRow*retval      OreLocator.mnd: row1 = row0;
  684:  op add :createBlockMaskRow:y :createCombinedMask:y -3        OreLocator.mnd: var row0 = createBlockMaskRow(x, y + r);
  685:  op add *tmp291 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  686:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 :createBlo ...
  687:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  688:  op add *tmp291 :createCombinedMask:x 3                       ...
  689:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  690:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  691:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  692:  op add *tmp291 :createCombinedMask:x 2                       ...
  693:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  694:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  695:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  696:  op add *tmp291 :createCombinedMask:x 1                       ...
  697:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  698:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  699:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  700:  ucontrol getBlock :createCombinedMask:x :createBlockMaskRow: ...
  701:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  702:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  703:  op add *tmp291 :createCombinedMask:x -1                      ...
  704:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  705:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  706:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  707:  op add *tmp291 :createCombinedMask:x -2                      ...
  708:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  709:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  710:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  711:  op add *tmp291 :createCombinedMask:x -3                      ...
  712:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  713:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  714:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  715:  op add *tmp291 :createCombinedMask:x -4                      ...
  716:  ucontrol getBlock *tmp291 :createBlockMaskRow:y 0 *tmp292 0  ...
  717:  op or :createBlockMaskRow*retval *tmp290 *tmp292             ...
  718:  op shl *tmp306 :createAdjacentMask:row1 1                    OreLocator.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  719:  op or *tmp307 :createAdjacentMask:row2 *tmp306               ...
  720:  op shr *tmp308 :createAdjacentMask:row1 1                    ...
  721:  op or *tmp309 *tmp307 *tmp308                                ...
  722:  op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*r ...
  723:  op shl *tmp311 :createAdjacentMask:result 7                  OreLocator.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  724:  op and *tmp312 :createAdjacentMask:mask 0xFE                 ...
  725:  op or :createAdjacentMask:result *tmp311 *tmp312             ...
  726:  set :createAdjacentMask:row2 :createAdjacentMask:row1        OreLocator.mnd: row2 = row1;
  727:  set :createAdjacentMask:row1 :createBlockMaskRow*retval      OreLocator.mnd: row1 = row0;
  728:  op add *tmp304 :createCombinedMask:y -4                      OreLocator.mnd: var row0 = createBlockMaskRow(x, y + r);
  729:  set :createBlockMaskRow:y *tmp304                            ...
  730:  op add *tmp291 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  731:  ucontrol getBlock *tmp291 *tmp304 0 :createBlockMaskRow:resu ...
  732:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  733:  op add *tmp291 :createCombinedMask:x 3                       ...
  734:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  735:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  736:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  737:  op add *tmp291 :createCombinedMask:x 2                       ...
  738:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  739:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  740:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  741:  op add *tmp291 :createCombinedMask:x 1                       ...
  742:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  743:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  744:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  745:  ucontrol getBlock :createCombinedMask:x *tmp304 0 *tmp292 0  ...
  746:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  747:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  748:  op add *tmp291 :createCombinedMask:x -1                      ...
  749:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  750:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  751:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  752:  op add *tmp291 :createCombinedMask:x -2                      ...
  753:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  754:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  755:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  756:  op add *tmp291 :createCombinedMask:x -3                      ...
  757:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  758:  op or :createBlockMaskRow:result *tmp290 *tmp292             ...
  759:  op shl *tmp290 :createBlockMaskRow:result 1                  ...
  760:  op add *tmp291 :createCombinedMask:x -4                      ...
  761:  ucontrol getBlock *tmp291 *tmp304 0 *tmp292 0                ...
  762:  op or :createBlockMaskRow*retval *tmp290 *tmp292             ...
  763:  op shl *tmp306 :createAdjacentMask:row1 1                    OreLocator.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  764:  op or *tmp307 :createAdjacentMask:row2 *tmp306               ...
  765:  op shr *tmp308 :createAdjacentMask:row1 1                    ...
  766:  op or *tmp309 *tmp307 *tmp308                                ...
  767:  op or :createAdjacentMask:mask *tmp309 :createBlockMaskRow*r ...
  768:  op shl *tmp311 :createAdjacentMask:result 7                  OreLocator.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  769:  op and *tmp312 :createAdjacentMask:mask 0xFE                 ...
  770:  op or :createAdjacentMask:result *tmp311 *tmp312             ...
  771:  set :createAdjacentMask:row2 :createAdjacentMask:row1        OreLocator.mnd: row2 = row1;
  772:  set :createAdjacentMask:row1 :createBlockMaskRow*retval      OreLocator.mnd: row1 = row0;
  773:  op shr *tmp299 :createAdjacentMask:result 1                  OreLocator.mnd: result >> 1;
        label *label163                                              OreLocator.mnd: var terrainMask = await(matrices.createTerrainMask);
  774:  wait 1e-15                                                   ...
  775:  read *tmp315 processor4 ":createTerrainMask*finished"        ...
  776:  jump *label163 equal *tmp315 false                           ...
  777:  read :createCombinedMask:terrainMask processor4 ":createTerr ...
  778:  op or :excludeArea:mask *tmp299 :createCombinedMask:terrainM OreLocator.mnd: return excludeArea(adjacentMask | terrainMask, x, y, coreX, coreY, BASE_SIZE, BASE_SIZE);
  779:  set :excludeArea:maskX :createCombinedMask:x                 ...
  780:  set :excludeArea:maskY :createCombinedMask:y                 ...
  781:  set :excludeArea:areaX .coreX                                ...
  782:  set :excludeArea:areaY .coreY                                ...
  783:  set :excludeArea:areaWidth 15                                ...
  784:  set :excludeArea:areaHeight 15                               ...
  785:  setaddr :excludeArea*retaddr *label164                       ...
  786:  call *label14 *invalid :excludeArea*retval                   ...
        label *label164                                              ...
  787:  set :createCombinedMask*retval :excludeArea*retval           ...
  788:  return :createCombinedMask*retaddr                           OreLocator.mnd: def createCombinedMask(x, y);
        label *label19                                               OreLocator.mnd: noinline def layoutThoriumDrillAtLocation()
  789:  set .panelY -1                                               OreLocator.mnd: water1X = water1Y = water2X = water2Y = generatorX = generatorY = panelX = panelY = -1;
  790:  set .panelX -1                                               ...
  791:  set .generatorY -1                                           ...
  792:  set .generatorX -1                                           ...
  793:  set .water2Y -1                                              ...
  794:  set .water2X -1                                              ...
  795:  set .water1Y -1                                              ...
  796:  set .water1X -1                                              ...
  797:  set :moveTo.5:x .drillX                                      OreLocator.mnd: moveTo(drillX, drillY, 1);
  798:  set :moveTo.5:y .drillY                                      ...
  799:  ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp318 0          OreLocator.mnd: while !within(x, y, radius) do
  800:  jump *label169 notEqual *tmp318 false                        ...
        label *label262                                              ...
  801:  ucontrol approach :moveTo.5:x :moveTo.5:y 0.5 0 0            OreLocator.mnd: approach(x, y, radius - 0.5);
  802:  ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp318 0          OreLocator.mnd: while !within(x, y, radius) do
  803:  jump *label262 equal *tmp318 false                           ...
        label *label169                                              ...
  804:  set :createCombinedMask:x .drillX                            OreLocator.mnd: var plainTerrainMask = createCombinedMask(drillX, drillY);
  805:  set :createCombinedMask:y .drillY                            ...
  806:  setaddr :createCombinedMask*retaddr *label170                ...
  807:  call *label18 *invalid :createCombinedMask*retval            ...
        label *label170                                              ...
  808:  op or :layoutThoriumDrillAtLocation:terrainMask :createCombi OreLocator.mnd: var terrainMask = plainTerrainMask | createFixedMatrix(
  809:  op or :layoutThoriumDrillAtLocation:cornersMask :layoutThori OreLocator.mnd: var cornersMask = terrainMask | createFixedMatrix(
  810:  set :layoutThoriumDrillAtLocation:mask2x2 387                OreLocator.mnd: var mask2x2 = createFixedMatrix(0b11, 0b11);
  811:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt OreLocator.mnd: var shift = findPossiblePlacement(cornersMask, mask2x2, 2, 2, out c, out r);
  812:  set :findPossiblePlacement:placementMask 387                 ...
  813:  set :findPossiblePlacement:width 2                           ...
  814:  set :findPossiblePlacement:height 2                          ...
  815:  setaddr :findPossiblePlacement*retaddr *label171             ...
  816:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label171                                              ...
  817:  jump *label172 lessThan :findPossiblePlacement*retval 0      OreLocator.mnd: if shift >= 0 then
  818:  op add *tmp327 .drillX 0.5                                   OreLocator.mnd: water1X = drillX + 0.5 + c;
  819:  op add .water1X *tmp327 :findPossiblePlacement:x             ...
  820:  op add *tmp329 .drillY 0.5                                   OreLocator.mnd: water1Y = drillY + 0.5 + r;
  821:  op add .water1Y *tmp329 :findPossiblePlacement:y             ...
  822:  op shl *tmp331 :layoutThoriumDrillAtLocation:mask2x2 :findPo OreLocator.mnd: terrainMask |= (mask2x2 << shift);
  823:  op or :layoutThoriumDrillAtLocation:terrainMask :layoutThori ...
  824:  op or :layoutThoriumDrillAtLocation:cornersMask :layoutThori OreLocator.mnd: cornersMask |= (mask2x2 << shift);
        label *label172                                              OreLocator.mnd: if shift >= 0 then
  825:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt OreLocator.mnd: shift = findPossiblePlacement(cornersMask, mask2x2, 2, 2, out c, out r);
  826:  set :findPossiblePlacement:placementMask :layoutThoriumDrill ...
  827:  set :findPossiblePlacement:width 2                           ...
  828:  set :findPossiblePlacement:height 2                          ...
  829:  setaddr :findPossiblePlacement*retaddr *label174             ...
  830:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label174                                              ...
  831:  jump *label175 lessThan :findPossiblePlacement*retval 0      OreLocator.mnd: if shift >= 0 then
  832:  op add *tmp336 .drillX 0.5                                   OreLocator.mnd: containerX = drillX + 0.5 + c;
  833:  op add .containerX *tmp336 :findPossiblePlacement:x          ...
  834:  op add *tmp338 .drillY 0.5                                   OreLocator.mnd: containerY = drillY + 0.5 + r;
  835:  op add .containerY *tmp338 :findPossiblePlacement:y          ...
  836:  op shl *tmp340 :layoutThoriumDrillAtLocation:mask2x2 :findPo OreLocator.mnd: terrainMask |= (mask2x2 << shift);
  837:  op or :layoutThoriumDrillAtLocation:terrainMask :layoutThori ...
        label *label175                                              OreLocator.mnd: if shift >= 0 then
  838:  op or :layoutThoriumDrillAtLocation:nodeMask :layoutThoriumD OreLocator.mnd: var nodeMask = terrainMask | createFixedMatrix(
  839:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt OreLocator.mnd: shift = findPossiblePlacement(nodeMask, 1, 1, 1, out c, out r);
  840:  set :findPossiblePlacement:placementMask 1                   ...
  841:  set :findPossiblePlacement:width 1                           ...
  842:  set :findPossiblePlacement:height 1                          ...
  843:  setaddr :findPossiblePlacement*retaddr *label177             ...
  844:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label177                                              ...
  845:  jump *label178 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  846:  set :layoutThoriumDrillAtLocation*retval false               ...
  847:  return :layoutThoriumDrillAtLocation*retaddr                 ...
        label *label178                                              ...
  848:  op add .node1X .drillX :findPossiblePlacement:x              OreLocator.mnd: node1X = drillX + c;
  849:  op add .node1Y .drillY :findPossiblePlacement:y              OreLocator.mnd: node1Y = drillY + r;
  850:  op shl *tmp347 1 :findPossiblePlacement*retval               OreLocator.mnd: terrainMask |= (1 << shift);
  851:  op or :layoutThoriumDrillAtLocation:terrainMask :layoutThori ...
  852:  set :layoutThoriumDrillAtLocation:generatorHorizontal 1935   OreLocator.mnd: var generatorHorizontal = createFixedMatrix(0b1111, 0b1111);
  853:  set :layoutThoriumDrillAtLocation:generatorVertical 6340995  OreLocator.mnd: var generatorVertical = createFixedMatrix(0b11, 0b11, 0b11, 0b11);
  854:  set :tryPlaceGenerator:centerX .drillX                       OreLocator.mnd: if tryPlaceGenerator(drillX, drillY, terrainMask, generatorHorizontal, generatorVertical) then
  855:  set :tryPlaceGenerator:centerY .drillY                       ...
  856:  set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLoca ...
  857:  set :tryPlaceGenerator:generatorHorizontal 1935              ...
  858:  set :tryPlaceGenerator:generatorVertical 6340995             ...
  859:  setaddr :tryPlaceGenerator*retaddr *label182                 ...
  860:  call *label16 *invalid :tryPlaceGenerator*retval             ...
        label *label182                                              ...
  861:  jump *label180 equal :tryPlaceGenerator*retval false         ...
  862:  set :layoutThoriumDrillAtLocation*retval true                OreLocator.mnd: return true;
  863:  return :layoutThoriumDrillAtLocation*retaddr                 ...
        label *label180                                              OreLocator.mnd: if tryPlaceGenerator(drillX, drillY, terrainMask, generatorHorizontal, generatorVertical) then
  864:  set :layoutThoriumDrillAtLocation:sx 3                       OreLocator.mnd: for var sx in 3, 3, -3, -3; var sy in 3, -3, 3, -3 do
  865:  set :layoutThoriumDrillAtLocation:sy 3                       ...
  866:  setaddr *tmp350 *label186                                    ...
  867:  jump *label183 always 0 0                                    ...
        multilabel *label186                                         ...
  868:  set :layoutThoriumDrillAtLocation:sx 3                       ...
  869:  set :layoutThoriumDrillAtLocation:sy -3                      ...
  870:  setaddr *tmp350 *label187                                    ...
  871:  jump *label183 always 0 0                                    ...
        multilabel *label187                                         ...
  872:  set :layoutThoriumDrillAtLocation:sx -3                      ...
  873:  set :layoutThoriumDrillAtLocation:sy 3                       ...
  874:  setaddr *tmp350 *label188                                    ...
  875:  jump *label183 always 0 0                                    ...
        multilabel *label188                                         ...
  876:  set :layoutThoriumDrillAtLocation:sx -3                      ...
  877:  set :layoutThoriumDrillAtLocation:sy -3                      ...
  878:  setaddr *tmp350 *label189                                    ...
        label *label183                                              ...
  879:  op sub :layoutThoriumDrillAtLocation:newX .drillX :layoutTho OreLocator.mnd: var newX = drillX - sx;
  880:  op sub :layoutThoriumDrillAtLocation:newY .drillY :layoutTho OreLocator.mnd: var newY = drillY - sy;
  881:  set :createCombinedMask:x :layoutThoriumDrillAtLocation:newX OreLocator.mnd: var newTerrainMask = createCombinedMask(newX, newY);
  882:  set :createCombinedMask:y :layoutThoriumDrillAtLocation:newY ...
  883:  setaddr :createCombinedMask*retaddr *label190                ...
  884:  call *label18 *invalid :createCombinedMask*retval            ...
        label *label190                                              ...
  885:  set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMas OreLocator.mnd: var shiftedMask = shiftMask(terrainMask, sx, sy);
  886:  op abs *tmp161 :layoutThoriumDrillAtLocation:sx 0            OreLocator.mnd: if abs(shiftX) > 6 or abs(shiftY) > 6 then return 0; end;
  887:  jump *label275 greaterThan *tmp161 6                         ...
  888:  op abs *tmp163 :layoutThoriumDrillAtLocation:sy 0            ...
  889:  jump *label276 lessThanEq *tmp163 6                          ...
        label *label275                                              ...
  890:  set :shiftMask*retval 0                                      ...
  891:  jump *label284 always 0 0                                    ...
        label *label276                                              ...
  892:  op mul *tmp166 7 :layoutThoriumDrillAtLocation:sy            OreLocator.mnd: var shift = shiftX + 7 * shiftY;
  893:  op add :shiftMask:shift :layoutThoriumDrillAtLocation:sx *tm ...
  894:  jump *label278 lessThanEq :shiftMask:shift 0                 OreLocator.mnd: if shift > 0 then
  895:  op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift OreLocator.mnd: var clearMask = FULL_MASK >> shift;
  896:  op and *tmp171 :layoutThoriumDrillAtLocation:terrainMask :sh OreLocator.mnd: mask = (mask & clearMask) << shift;
  897:  op shl :shiftMask:mask *tmp171 :shiftMask:shift              ...
  898:  jump *label279 always 0 0                                    OreLocator.mnd: if shift > 0 then
        label *label278                                              ...
  899:  op sub *tmp173 0 :shiftMask:shift                            OreLocator.mnd: mask >>= -shift;
  900:  op shr :shiftMask:mask :layoutThoriumDrillAtLocation:terrain ...
        label *label279                                              OreLocator.mnd: if shift > 0 then
  901:  jump *label282 equal :layoutThoriumDrillAtLocation:sx 0      OreLocator.mnd: if shiftX != 0 then
  902:  op shr :shiftMask:keep 0b1111111 *tmp161                     OreLocator.mnd: var keep = 0b1111111 >> abs(shiftX);        // The bits we need to keep
  903:  jump *label280 lessThanEq :layoutThoriumDrillAtLocation:sx 0 OreLocator.mnd: if shiftX > 0 then keep <<= shiftX; end;    // Shift to the proper side
  904:  op shl :shiftMask:keep :shiftMask:keep :layoutThoriumDrillAt ...
        label *label280                                              ...
  905:  op shl *tmp180 :shiftMask:keep 7                             OreLocator.mnd: keep |= keep << 7;
  906:  op or :shiftMask:keep :shiftMask:keep *tmp180                ...
  907:  op shl *tmp181 :shiftMask:keep 14                            OreLocator.mnd: keep |= keep << 14;
  908:  op or :shiftMask:keep :shiftMask:keep *tmp181                ...
  909:  op shl *tmp182 :shiftMask:keep 21                            OreLocator.mnd: keep |= keep << 21;
  910:  op or :shiftMask:keep :shiftMask:keep *tmp182                ...
  911:  op and :shiftMask:mask :shiftMask:mask :shiftMask:keep       OreLocator.mnd: mask &= keep;
        label *label282                                              OreLocator.mnd: if shiftX != 0 then
  912:  set :shiftMask*retval :shiftMask:mask                        OreLocator.mnd: return mask;
        label *label284                                              OreLocator.mnd: def shiftMask(mask, shiftX, shiftY)
  913:  op or :layoutThoriumDrillAtLocation:combinedMask :createComb OreLocator.mnd: var combinedMask = newTerrainMask | shiftedMask;
  914:  op sub *tmp356 .drillX :layoutThoriumDrillAtLocation:sx      OreLocator.mnd: if tryPlaceGenerator(drillX - sx, drillY - sy, combinedMask, generatorHorizontal, generatorVertical) then return true; end;
  915:  op sub *tmp357 .drillY :layoutThoriumDrillAtLocation:sy      ...
  916:  set :tryPlaceGenerator:centerX *tmp356                       ...
  917:  set :tryPlaceGenerator:centerY *tmp357                       ...
  918:  set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLoca ...
  919:  set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDri ...
  920:  set :tryPlaceGenerator:generatorVertical :layoutThoriumDrill ...
  921:  setaddr :tryPlaceGenerator*retaddr *label194                 ...
  922:  call *label16 *invalid :tryPlaceGenerator*retval             ...
        label *label194                                              ...
  923:  jump *label192 equal :tryPlaceGenerator*retval false         ...
  924:  set :layoutThoriumDrillAtLocation*retval true                ...
  925:  return :layoutThoriumDrillAtLocation*retaddr                 ...
        label *label192                                              ...
  926:  multijump *tmp350 0 0                                        OreLocator.mnd: for var sx in 3, 3, -3, -3; var sy in 3, -3, 3, -3 do
        multilabel *label189                                         ...
  927:  set :layoutThoriumDrillAtLocation*retval true                OreLocator.mnd: return true;
  928:  return :layoutThoriumDrillAtLocation*retaddr                 OreLocator.mnd: noinline def layoutThoriumDrillAtLocation()
        label *label6                                                OreLocator.mnd: export def layoutThoriumDrill(x, y, unit, limit)
  929:  set :findDrillLocation:x :layoutThoriumDrill:x               OreLocator.mnd: if !findDrillLocation(x, y, unit, @thorium, @ore-thorium, 3, limit, out drillX, out drillY) then
  930:  set :findDrillLocation:y :layoutThoriumDrill:y               ...
  931:  set :findDrillLocation:unit :layoutThoriumDrill:unit         ...
  932:  set :findDrillLocation:item @thorium                         ...
  933:  set :findDrillLocation:ore @ore-thorium                      ...
  934:  set :findDrillLocation:size 3                                ...
  935:  set :findDrillLocation:limit :layoutThoriumDrill:limit       ...
  936:  setaddr :findDrillLocation*retaddr *label198                 ...
  937:  call *label5 *invalid :findDrillLocation*retval              ...
        label *label198                                              ...
  938:  set .drillX :findDrillLocation:dx                            ...
  939:  set .drillY :findDrillLocation:dy                            ...
  940:  jump *label196 notEqual :findDrillLocation*retval false      ...
  941:  set :layoutThoriumDrill*retval false                         OreLocator.mnd: return false;
  942:  jump *label195 always 0 0                                    ...
        label *label196                                              OreLocator.mnd: if !findDrillLocation(x, y, unit, @thorium, @ore-thorium, 3, limit, out drillX, out drillY) then
  943:  setaddr :layoutThoriumDrillAtLocation*retaddr *label199      OreLocator.mnd: layoutThoriumDrillAtLocation();
  944:  call *label19 *invalid :layoutThoriumDrillAtLocation*retval  ...
        label *label199                                              ...
  945:  set :layoutThoriumDrill*retval :layoutThoriumDrillAtLocation OreLocator.mnd: export def layoutThoriumDrill(x, y, unit, limit)
        label *label195                                              ...
  946:  set :layoutThoriumDrill*finished true                        ...
  947:  jump *label22 always 0 0                                     ...
        label *label8                                                OreLocator.mnd: export void stopLocation()
  948:  set .mapSpots 0                                              OreLocator.mnd: mapProgress = mapTotal = mapSpots = 0;
  949:  set .mapTotal 0                                              ...
  950:  set .mapProgress 0                                           ...
  951:  ucontrol unbind 0 0 0 0 0                                    OreLocator.mnd: unbind();
  952:  set :stopLocation*finished true                              OreLocator.mnd: export void stopLocation()
  953:  jump *label22 always 0 0                                     ...


Code size and number of instantiations by function:
  Size  Times  AvgSize  Function
   297     9x     33,0  def createBlockMaskRow(in x, in y)
   108     1x    108,0  noinline def layoutThoriumDrillAtLocation()
    94     1x     94,0  def tryPlaceGenerator(in centerX, in centerY, in terrainMask, in generatorHorizontal, in generatorVertical)
    87     1x     87,0  export def findDrillLocation(in x, in y, in unit, in item, in ore, in size, in limit, out dx, out dy, out capacity)
    78     1x     78,0  def createAdjacentMask(in x, in y)
    54     2x     27,0  def shiftMask(in mask, in shiftX, in shiftY)
    46     1x     46,0  inline def locateOreAway(in ore, in out x, in out y, in distanceLimit)
    24     1x     24,0  noinline def findPossiblePlacement(in terrainMask, in placementMask, in width, in height, out x, out y)
    23     1x     23,0  noinline def excludeArea(in mask, in maskX, in maskY, in areaX, in areaY, in areaWidth, in areaHeight)
    21     1x     21,0  def createMatrixOfSize(in width, in height)
    20     1x     20,0  def createCombinedMask(in x, in y)
    20     4x      5,0  inline void moveTo(in x, in y, in radius)
    20     2x     10,0  inline void saveLocation(in item, in value, in x, in y)
    19     1x     19,0  export def layoutThoriumDrill(in x, in y, in unit, in limit)
    17     1x     17,0  inline def visited(in x, in y)
    12     1x     12,0  <no function>
     7     1x      7,0  export void stopLocation()
     4     2x      2,0  inline def limit(in value, in low, in high)
     4     2x      2,0  inline def round(in x)

Performance: parsed in 599 ms, compiled in 375 ms, optimized in 1,962 ms, run in 10 ms.
Error connecting to Mlog Watcher: Connection refused: connect
  - make sure Mindustry with active Mlog Watcher mod is running
  - verify Mlog Watcher listens on port 9992

Program output (2 steps):
The program didn't generate any output.
Execution exception at instruction 4: read *tmp11 processor4 "*signature":
Variable 'processor4' is not an object.
(Use the '#set err-not-an-object = false;' directive or the '--err-not-an-object false' command line option to ignore this exception.)
