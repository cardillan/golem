   991 instructions before optimizations.
   101 instructions eliminated by Temp Variables Elimination (2 passes, 7 iterations).
    77 instructions eliminated by Dead Code Elimination (6 iterations).
    11 instructions eliminated by Jump Normalization (2 passes, 6 iterations).
    46 instructions eliminated by Condition Optimization (7 iterations).
    58 instructions eliminated by Single Step Elimination (3 passes, 9 iterations).
    12 instructions modified by Expression Optimization (4 iterations).
     1 instructions eliminated by Boolean Optimization (7 iterations).
       1 fully-evaluated expressions optimized using selects.
     2 instructions modified by If Expression Optimization (4 iterations).
   209 instructions eliminated by Data Flow Optimization (15 passes, 52 iterations).
     1 loops improved by Loop Hoisting.
     4 instructions added by Loop Rotation (4 iterations).
       11 loop conditions were partially rotated.
   258 instructions added by Loop Unrolling (20 iterations).
     7 loops unrolled by Loop Unrolling.
   189 instructions added by Function Inlining (20 iterations).
     9 function calls inlined by Function Inlining.
    13 instructions eliminated by Jump Straightening (2 passes, 8 iterations).
     5 instructions updated by Jump Threading.
     9 instructions eliminated by Unreachable Code Elimination (2 iterations).
   917 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 373):
    Full loop rotation at OreLocator.mnd:46:5                    size    +1, benefit       26.0, efficiency     26.000
  * Full loop rotation at OreLocator.mnd:46:5                    size    +1, benefit    16250.0, efficiency  16250.000 (+1 instructions)
    Full loop rotation at OreLocator.mnd:46:5                    size    +1, benefit      650.0, efficiency    650.000
    Full loop rotation at OreLocator.mnd:46:5                    size    +1, benefit       26.0, efficiency     26.000
    Unroll iteration loop at OreLocator.mnd:616:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:282:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:390:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:478:1 size   +19, benefit     2808.0, efficiency    147.789
    Inline function 'createCombinedMask' defined at OreLocator.mnd:513:1 size   +53, benefit      104.0, efficiency      1.962
    Inline function call at OreLocator.mnd:324:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:491:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:492:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:495:20                size   +10, benefit     2600.0, efficiency    260.000
    Inline function call at OreLocator.mnd:527:28                size   +54, benefit        4.0, efficiency      0.074
    Inline function call at OreLocator.mnd:611:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:622:30                size   +54, benefit      100.0, efficiency      1.852
    Inline function call at OreLocator.mnd:624:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:639:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 372):
    Full loop rotation at OreLocator.mnd:46:5                    size    +1, benefit       26.0, efficiency     26.000
  * Full loop rotation at OreLocator.mnd:46:5                    size    +1, benefit      650.0, efficiency    650.000 (+1 instructions)
    Full loop rotation at OreLocator.mnd:46:5                    size    +1, benefit       26.0, efficiency     26.000
    Unroll iteration loop at OreLocator.mnd:616:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:282:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:390:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:478:1 size   +19, benefit     2808.0, efficiency    147.789
    Inline function 'createCombinedMask' defined at OreLocator.mnd:513:1 size   +53, benefit      104.0, efficiency      1.962
    Inline function call at OreLocator.mnd:324:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:491:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:492:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:495:20                size   +10, benefit     2600.0, efficiency    260.000
    Inline function call at OreLocator.mnd:527:28                size   +54, benefit        4.0, efficiency      0.074
    Inline function call at OreLocator.mnd:611:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:622:30                size   +54, benefit      100.0, efficiency      1.852
    Inline function call at OreLocator.mnd:624:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:639:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 371):
    Full loop rotation at OreLocator.mnd:46:5                    size    +1, benefit       26.0, efficiency     26.000
    Full loop rotation at OreLocator.mnd:46:5                    size    +1, benefit       26.0, efficiency     26.000
    Unroll iteration loop at OreLocator.mnd:616:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:282:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:390:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:478:1 size   +19, benefit     2808.0, efficiency    147.789
    Inline function 'createCombinedMask' defined at OreLocator.mnd:513:1 size   +53, benefit      104.0, efficiency      1.962
    Inline function call at OreLocator.mnd:324:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:491:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:492:16                size   +10, benefit      104.0, efficiency     10.400
  * Inline function call at OreLocator.mnd:495:20                size   +10, benefit     2600.0, efficiency    260.000 (+9 instructions)
    Inline function call at OreLocator.mnd:527:28                size   +54, benefit        4.0, efficiency      0.074
    Inline function call at OreLocator.mnd:611:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:622:30                size   +54, benefit      100.0, efficiency      1.852
    Inline function call at OreLocator.mnd:624:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:639:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 362):
  * Full loop rotation at OreLocator.mnd:46:5                    size    +1, benefit       26.0, efficiency     26.000 (+1 instructions)
    Full loop rotation at OreLocator.mnd:46:5                    size    +1, benefit       26.0, efficiency     26.000
    Unroll iteration loop at OreLocator.mnd:616:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:282:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:390:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:478:1 size    +9, benefit      208.0, efficiency     23.111
    Inline function 'createCombinedMask' defined at OreLocator.mnd:513:1 size   +62, benefit      104.0, efficiency      1.677
    Inline function call at OreLocator.mnd:324:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:491:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:492:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:527:28                size   +63, benefit        4.0, efficiency      0.063
    Inline function call at OreLocator.mnd:611:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:622:30                size   +63, benefit      100.0, efficiency      1.587
    Inline function call at OreLocator.mnd:624:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:639:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 361):
  * Full loop rotation at OreLocator.mnd:46:5                    size    +1, benefit       26.0, efficiency     26.000 (+1 instructions)
    Unroll iteration loop at OreLocator.mnd:616:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:282:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:390:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createBlockMaskRow' defined at OreLocator.mnd:478:1 size    +9, benefit      208.0, efficiency     23.111
    Inline function 'createCombinedMask' defined at OreLocator.mnd:513:1 size   +62, benefit      104.0, efficiency      1.677
    Inline function call at OreLocator.mnd:324:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:491:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:492:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:527:28                size   +63, benefit        4.0, efficiency      0.063
    Inline function call at OreLocator.mnd:611:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:622:30                size   +63, benefit      100.0, efficiency      1.587
    Inline function call at OreLocator.mnd:624:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:639:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 360):
    Unroll iteration loop at OreLocator.mnd:616:5                size   +81, benefit       19.0, efficiency      0.235
    Inline function 'shiftMask' defined at OreLocator.mnd:282:1  size   +26, benefit      171.0, efficiency      6.577
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:390:1 size   +92, benefit      143.0, efficiency      1.554
  * Inline function 'createBlockMaskRow' defined at OreLocator.mnd:478:1 size    +9, benefit      208.0, efficiency     23.111 (-6 instructions)
    Inline function 'createCombinedMask' defined at OreLocator.mnd:513:1 size   +62, benefit      104.0, efficiency      1.677
    Inline function call at OreLocator.mnd:324:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:491:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:492:16                size   +10, benefit      104.0, efficiency     10.400
    Inline function call at OreLocator.mnd:527:28                size   +63, benefit        4.0, efficiency      0.063
    Inline function call at OreLocator.mnd:611:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:622:30                size   +63, benefit      100.0, efficiency      1.587
    Inline function call at OreLocator.mnd:624:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:639:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 366):
    Unroll iteration loop at OreLocator.mnd:616:5                size   +81, benefit       19.0, efficiency      0.235
  * Inline function 'shiftMask' defined at OreLocator.mnd:282:1  size   +26, benefit      171.0, efficiency      6.577 (+16 instructions)
    Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:390:1 size   +92, benefit      143.0, efficiency      1.554
    Inline function 'createCombinedMask' defined at OreLocator.mnd:513:1 size   +69, benefit      104.0, efficiency      1.507
    Inline function call at OreLocator.mnd:324:23                size   +27, benefit       58.5, efficiency      2.167
    Inline function call at OreLocator.mnd:527:28                size   +70, benefit        4.0, efficiency      0.057
    Inline function call at OreLocator.mnd:611:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:622:30                size   +70, benefit      100.0, efficiency      1.429
    Inline function call at OreLocator.mnd:624:27                size   +27, benefit      112.5, efficiency      4.167
    Inline function call at OreLocator.mnd:639:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 350):
    Unroll iteration loop at OreLocator.mnd:616:5                size  +173, benefit       19.0, efficiency      0.110
  * Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:390:1 size   +92, benefit      143.0, efficiency      1.554 (+88 instructions)
    Inline function 'createCombinedMask' defined at OreLocator.mnd:513:1 size   +69, benefit      104.0, efficiency      1.507
    Inline function call at OreLocator.mnd:527:28                size   +70, benefit        4.0, efficiency      0.057
    Inline function call at OreLocator.mnd:611:8                 size   +93, benefit        5.5, efficiency      0.059
    Inline function call at OreLocator.mnd:622:30                size   +70, benefit      100.0, efficiency      1.429
    Inline function call at OreLocator.mnd:639:12                size   +93, benefit      137.5, efficiency      1.478

Pass 1: speed optimization selection (cost limit 262):
  ! Unroll iteration loop at OreLocator.mnd:616:5                size  +541, benefit       19.0, efficiency      0.035
  * Inline function 'createCombinedMask' defined at OreLocator.mnd:513:1 size   +69, benefit      104.0, efficiency      1.507 (+63 instructions)
    Inline function call at OreLocator.mnd:527:28                size   +70, benefit        4.0, efficiency      0.057
    Inline function call at OreLocator.mnd:622:30                size   +70, benefit      100.0, efficiency      1.429

Pass 2: speed optimization selection (cost limit 227):
    Unroll loop at OreLocator.mnd:359:5                          size   +17, benefit     3900.0, efficiency    229.412
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:494:5                          size  +111, benefit      350.0, efficiency      3.153
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit    11250.0, efficiency    387.931
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit    11250.0, efficiency    387.931
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit    11250.0, efficiency    387.931
    Unroll loop at OreLocator.mnd:494:5                          size  +111, benefit     8750.0, efficiency     78.829
  * Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit   281250.0, efficiency   9698.276 (+28 instructions)

Pass 2: speed optimization selection (cost limit 199):
    Unroll loop at OreLocator.mnd:359:5                          size   +17, benefit     3900.0, efficiency    229.412
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:494:5                          size  +111, benefit      350.0, efficiency      3.153
  * Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit    11250.0, efficiency    387.931 (+28 instructions)
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit    11250.0, efficiency    387.931
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit    11250.0, efficiency    387.931
  ! Unroll loop at OreLocator.mnd:494:5                          size  +279, benefit     8750.0, efficiency     31.362

Pass 2: speed optimization selection (cost limit 171):
    Unroll loop at OreLocator.mnd:359:5                          size   +17, benefit     3900.0, efficiency    229.412
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit      450.0, efficiency     15.517
  ! Unroll loop at OreLocator.mnd:494:5                          size  +279, benefit      350.0, efficiency      1.254
  * Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit    11250.0, efficiency    387.931 (+26 instructions)
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit    11250.0, efficiency    387.931
  ! Unroll loop at OreLocator.mnd:494:5                          size  +279, benefit     8750.0, efficiency     31.362

Pass 2: speed optimization selection (cost limit 145):
    Unroll loop at OreLocator.mnd:359:5                          size   +17, benefit     3900.0, efficiency    229.412
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit      450.0, efficiency     15.517
  ! Unroll loop at OreLocator.mnd:494:5                          size  +279, benefit      350.0, efficiency      1.254
  * Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit    11250.0, efficiency    387.931 (+28 instructions)
  ! Unroll loop at OreLocator.mnd:494:5                          size  +279, benefit     8750.0, efficiency     31.362

Pass 2: speed optimization selection (cost limit 117):
  * Unroll loop at OreLocator.mnd:359:5                          size   +17, benefit     3900.0, efficiency    229.412 (+17 instructions)
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit      450.0, efficiency     15.517
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit      450.0, efficiency     15.517
  ! Unroll loop at OreLocator.mnd:494:5                          size  +279, benefit      350.0, efficiency      1.254
  ! Unroll loop at OreLocator.mnd:494:5                          size  +279, benefit     8750.0, efficiency     31.362

Pass 2: speed optimization selection (cost limit 100):
  * Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit      450.0, efficiency     15.517 (+26 instructions)
    Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit      450.0, efficiency     15.517
  ! Unroll loop at OreLocator.mnd:494:5                          size  +279, benefit      350.0, efficiency      1.254
  ! Unroll loop at OreLocator.mnd:494:5                          size  +279, benefit     8750.0, efficiency     31.362

Pass 2: speed optimization selection (cost limit 74):
  * Unroll loop at OreLocator.mnd:480:5                          size   +29, benefit      450.0, efficiency     15.517 (+24 instructions)
  ! Unroll loop at OreLocator.mnd:494:5                          size  +279, benefit      350.0, efficiency      1.254
  ! Unroll loop at OreLocator.mnd:494:5                          size  +279, benefit     8750.0, efficiency     31.362

Pass 2: speed optimization selection (cost limit 50):
  ! Unroll loop at OreLocator.mnd:494:5                          size  +273, benefit      350.0, efficiency      1.282
  ! Unroll loop at OreLocator.mnd:494:5                          size  +273, benefit     8750.0, efficiency     32.051

Pass 3: speed optimization selection (cost limit 63):
  ! Unroll loop at OreLocator.mnd:494:5                          size  +261, benefit      350.0, efficiency      1.341
  ! Unroll loop at OreLocator.mnd:494:5                          size  +261, benefit     8750.0, efficiency     33.525

Pass 4: speed optimization selection (cost limit 63):
  ! Unroll loop at OreLocator.mnd:494:5                          size  +261, benefit      350.0, efficiency      1.341
  ! Unroll loop at OreLocator.mnd:494:5                          size  +261, benefit     8750.0, efficiency     33.525

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-68 instructions):
 
   136 jump *label44 equal *tmp56 false
   137 set *tmp28 false
   138 jump *label34 always
-    * set *tmp57 null
   139 jump *label45 always
   140 label *label44
-    * set *tmp57 null
   141 label *label45
   142 op sub *tmp58 :locateOreAway:x .coreX
   143 op abs *tmp59 *tmp58
 
   159 label *label48
   160 set *tmp69 null
   161 label *label49
-    * set *tmp67 *tmp69
   162 jump *label47 always
   163 label *label46
-    * set *tmp67 null
   164 label *label47
   165 op greaterThanEq *tmp70 :locateOreAway:coreDist 8
   166 jump *label50 equal *tmp70 false
 
   191 jump *label60 equal *tmp88 false
   192 set *tmp74 true
   193 jump *label56 always
-    * set *tmp89 null
   194 jump *label61 always
   195 label *label60
-    * set *tmp89 null
   196 label *label61
   197 label *label58
   198 op add :visited:i :visited:i 1
 
   221 label *label52
   222 set *tmp73 null
   223 label *label53
-    * set *tmp71 *tmp73
   224 jump *label51 always
   225 label *label50
-    * set *tmp71 null
   226 label *label51
   227 label *label36
   228 jump *label35 always
 
   239 op greaterThan *tmp96 :findDrillLocation:capacity 0
   240 set :findDrillLocation*retval *tmp96
   241 jump *label23 always
-    * set *tmp95 null
   242 jump *label33 always
   243 label *label32
-    * set *tmp95 null
   244 label *label33
   245 op greaterThanEq *tmp97 :findDrillLocation:limit 1000
   246 jump *label62 equal *tmp97 false
   247 set *tmp99 .mapSpots
   248 op add .mapSpots .mapSpots 1
-    * set *tmp98 *tmp99
   249 jump *label63 always
   250 label *label62
-    * set *tmp98 null
   251 label *label63
   252 set :moveTo.3:x :findDrillLocation:oreX
   253 set :moveTo.3:y :findDrillLocation:oreY
 
   300 op lessThanEq *tmp124 :findDrillLocation:coreDist 8
   301 jump *label73 equal *tmp124 false
   302 jump *label71 always
-    * set *tmp125 null
   303 jump *label74 always
   304 label *label73
-    * set *tmp125 null
   305 label *label74
   306 op greaterThan *tmp126 :findDrillLocation:score :findDrillLocation:capacity
   307 jump *label75 equal *tmp126 false
 
   311 op lessThan *tmp128 :findDrillLocation:limit 1000
   312 jump *label77 equal *tmp128 false
   313 set .mapSpots :findDrillLocation:score
-    * set *tmp129 :findDrillLocation:score
   314 jump *label78 always
   315 label *label77
-    * set *tmp129 null
   316 label *label78
   317 op greaterThanEq *tmp130 :findDrillLocation:capacity :findDrillLocation:limit
   318 jump *label79 equal *tmp130 false
 
   333 op add .count .count 1
   334 set *tmp139 .count
   335 write :saveLocation:y bank1 *tmp139
-    * set *tmp141 .locations
   336 op add .locations .locations 1
   337 label *label81
   338 ucontrol unbind
 
   344 label *label79
   345 set *tmp131 null
   346 label *label80
-    * set *tmp127 *tmp131
   347 jump *label76 always
   348 label *label75
-    * set *tmp127 null
   349 label *label76
   350 op greaterThan *tmp142 :findDrillLocation:score :findDrillLocation:best
   351 jump *label82 equal *tmp142 false
   352 set :findDrillLocation:bestX :findDrillLocation:newX
   353 set :findDrillLocation:bestY :findDrillLocation:newY
   354 set :findDrillLocation:best :findDrillLocation:score
-    * set *tmp143 :findDrillLocation:best
   355 jump *label83 always
   356 label *label82
-    * set *tmp143 null
   357 label *label83
   358 op lessThanEq *tmp144 :findDrillLocation:score :findDrillLocation:last
   359 jump *label84 equal *tmp144 false
   360 jump *label71 always
-    * set *tmp145 null
   361 jump *label85 always
   362 label *label84
-    * set *tmp145 null
   363 label *label85
   364 set :findDrillLocation:last :findDrillLocation:score
   365 op mul *tmp146 :findDrillLocation:diffX 1.1
 
   398 op add .count .count 1
   399 set *tmp163 .count
   400 write :saveLocation.1:y bank1 *tmp163
-    * set *tmp165 .locations
   401 op add .locations .locations 1
   402 label *label90
-    * set *tmp155 null
   403 jump *label89 always
   404 label *label88
-    * set *tmp155 null
   405 label *label89
   406 label *label30
   407 jump *label29 always
 
   424 label *label94
   425 set :shiftMask*retval 0
   426 jump *label91 always
-    * set *tmp170 null
   427 jump *label93 always
   428 label *label92
-    * set *tmp170 null
   429 label *label93
   430 op mul *tmp171 7 :shiftMask:shiftY
   431 op add *tmp172 :shiftMask:shiftX *tmp171
 
   437 op and *tmp176 :shiftMask:mask :shiftMask:clearMask
   438 op shl *tmp177 *tmp176 :shiftMask:shift
   439 set :shiftMask:mask *tmp177
-    * set *tmp174 :shiftMask:mask
   440 jump *label97 always
   441 label *label96
   442 op sub *tmp178 0 :shiftMask:shift
   443 op shr :shiftMask:mask :shiftMask:mask *tmp178
-    * set *tmp174 :shiftMask:mask
   444 label *label97
   445 op notEqual *tmp179 :shiftMask:shiftX 0
   446 jump *label98 equal *tmp179 false
 
   450 op greaterThan *tmp183 :shiftMask:shiftX 0
   451 jump *label100 equal *tmp183 false
   452 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
-    * set *tmp184 :shiftMask:keep
   453 jump *label101 always
   454 label *label100
-    * set *tmp184 null
   455 label *label101
   456 op shl *tmp185 :shiftMask:keep 7
   457 op or :shiftMask:keep :shiftMask:keep *tmp185
 
   460 op shl *tmp187 :shiftMask:keep 21
   461 op or :shiftMask:keep :shiftMask:keep *tmp187
   462 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
-    * set *tmp180 :shiftMask:mask
   463 jump *label99 always
   464 label *label98
-    * set *tmp180 null
   465 label *label99
   466 set :shiftMask*retval :shiftMask:mask
   467 jump *label91 always
 
   507 op greaterThanEq *tmp208 :createMatrixOfSize:i :createMatrixOfSize:height
   508 jump *label111 equal *tmp208 false
   509 jump *label110 always
-    * set *tmp209 null
   510 jump *label112 always
   511 label *label111
-    * set *tmp209 null
   512 label *label112
   513 op shl *tmp210 :createMatrixOfSize:matrix 7
   514 op or *tmp211 *tmp210 :createMatrixOfSize:row
 
   570 op add *tmp227 *tmp226 :findPossiblePlacement:x
   571 set :findPossiblePlacement*retval *tmp227
   572 jump *label114 always
-    * set *tmp224 null
   573 jump *label122 always
   574 label *label121
-    * set *tmp224 null
   575 label *label122
   576 op sub *tmp228 3 :findPossiblePlacement:width
   577 op greaterThan *tmp229 :findPossiblePlacement:x *tmp228
   578 jump *label123 equal *tmp229 false
   579 jump *label120 always
-    * set *tmp230 null
   580 jump *label124 always
   581 label *label123
-    * set *tmp230 null
   582 label *label124
   583 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
   584 label *label119
 
   589 op greaterThan *tmp232 :findPossiblePlacement:y *tmp231
   590 jump *label125 equal *tmp232 false
   591 jump *label117 always
-    * set *tmp233 null
   592 jump *label126 always
   593 label *label125
-    * set *tmp233 null
   594 label *label126
   595 label *label116
   596 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
 
   620 jump *label131 equal *tmp237 false
   621 set :tryPlaceGenerator*retval false
   622 jump *label127 always
-    * set *tmp238 null
   623 jump *label132 always
   624 label *label131
-    * set *tmp238 null
   625 label *label132
   626 op add *tmp239 :tryPlaceGenerator:centerX 0.5
   627 op add *tmp240 *tmp239 :tryPlaceGenerator:c
 
   637 set .generatorY *tmp246
   638 op shl *tmp247 :tryPlaceGenerator:generatorVertical :tryPlaceGenerator:shift
   639 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp247
-    * set *tmp236 :tryPlaceGenerator:terrainMask
   640 jump *label130 always
   641 label *label129
   642 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
 
   654 jump *label134 equal *tmp249 false
   655 set :tryPlaceGenerator*retval false
   656 jump *label127 always
-    * set *tmp250 null
   657 jump *label135 always
   658 label *label134
-    * set *tmp250 null
   659 label *label135
   660 op add *tmp251 :tryPlaceGenerator:centerX 0.5
   661 op add *tmp252 *tmp251 :tryPlaceGenerator:c
 
   671 set .generatorY *tmp258
   672 op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :tryPlaceGenerator:shift
   673 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
-    * set *tmp236 :tryPlaceGenerator:terrainMask
   674 label *label130
   675 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask 437639987601635
   676 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
 
   688 jump *label137 equal *tmp261 false
   689 set :tryPlaceGenerator*retval false
   690 jump *label127 always
-    * set *tmp262 null
   691 jump *label138 always
   692 label *label137
-    * set *tmp262 null
   693 label *label138
   694 op add *tmp263 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
   695 set .panelX *tmp263
 
   712 jump *label140 equal *tmp267 false
   713 set :tryPlaceGenerator*retval false
   714 jump *label127 always
-    * set *tmp268 null
   715 jump *label141 always
   716 label *label140
-    * set *tmp268 null
   717 label *label141
   718 op add *tmp269 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
   719 set .batteryX *tmp269
 
   763 jump *label149 equal *tmp290 false
   764 set :tryPlaceGenerator*retval false
   765 jump *label127 always
-    * set *tmp291 null
   766 jump *label150 always
   767 label *label149
-    * set *tmp291 null
   768 label *label150
   769 op add *tmp292 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
   770 set .node2X *tmp292
 
   772 set .node2Y *tmp293
   773 op shl *tmp294 1 :tryPlaceGenerator:shift
   774 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp294
-    * set *tmp288 :tryPlaceGenerator:terrainMask
   775 jump *label143 always
   776 label *label142
-    * set *tmp288 null
   777 label *label143
   778 set :tryPlaceGenerator*retval true
   779 jump *label127 always
 
   937 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp337
   938 op shl *tmp338 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   939 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp338
-    * set *tmp332 :layoutThoriumDrillAtLocation:cornersMask
   940 jump *label173 always
   941 label *label172
-    * set *tmp332 null
   942 label *label173
   943 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
   944 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
 
   961 set .containerY *tmp345
   962 op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   963 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp346
-    * set *tmp341 :layoutThoriumDrillAtLocation:terrainMask
   964 jump *label176 always
   965 label *label175
-    * set *tmp341 null
   966 label *label176
   967 op or *tmp347 :layoutThoriumDrillAtLocation:terrainMask 437639987601635
   968 set :layoutThoriumDrillAtLocation:nodeMask *tmp347
 
   981 jump *label178 equal *tmp349 false
   982 set :layoutThoriumDrillAtLocation*retval false
   983 jump *label165 always
-    * set *tmp350 null
   984 jump *label179 always
   985 label *label178
-    * set *tmp350 null
   986 label *label179
   987 op add *tmp351 .drillX :layoutThoriumDrillAtLocation:c
   988 set .node1X *tmp351
 
  1004 jump *label180 equal *tmp354 false
  1005 set :layoutThoriumDrillAtLocation*retval true
  1006 jump *label165 always
-    * set *tmp355 null
  1007 jump *label181 always
  1008 label *label180
-    * set *tmp355 null
  1009 label *label181
  1010 set :layoutThoriumDrillAtLocation:sx 3
  1011 set :layoutThoriumDrillAtLocation:sy 3
 
  1061 jump *label192 equal *tmp364 false
  1062 set :layoutThoriumDrillAtLocation*retval true
  1063 jump *label165 always
-    * set *tmp365 null
  1064 jump *label193 always
  1065 label *label192
-    * set *tmp365 null
  1066 label *label193
  1067 label *label184
  1068 multijump *tmp356 0 0 (m:marker0)
 
  1091 jump *label196 equal *tmp366 false
  1092 set :layoutThoriumDrill*retval false
  1093 jump *label195 always
-    * set *tmp367 null
  1094 jump *label197 always
  1095 label *label196
-    * set *tmp367 null
  1096 label *label197
  1097 setaddr :layoutThoriumDrillAtLocation*retaddr *label199 (h:*label199)
  1098 call *label19 *invalid :layoutThoriumDrillAtLocation*retval (m:*label199) (h:*label199)

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-7 instructions):
 
   154 op equal *tmp68 :locateOreAway:lastY :locateOreAway:y
   155 jump *label48 equal *tmp68 false
   156 jump *label36 always
-    * set *tmp69 null
   157 jump *label49 always
   158 label *label48
-    * set *tmp69 null
   159 label *label49
   160 jump *label47 always
   161 label *label46
 
   214 label *label54
   215 set *tmp91 null
   216 label *label55
-    * set *tmp73 *tmp91
   217 jump *label53 always
   218 label *label52
-    * set *tmp73 null
   219 label *label53
   220 jump *label51 always
   221 label *label50
 
   240 label *label33
   241 op greaterThanEq *tmp97 :findDrillLocation:limit 1000
   242 jump *label62 equal *tmp97 false
-    * set *tmp99 .mapSpots
   243 op add .mapSpots .mapSpots 1
   244 jump *label63 always
   245 label *label62
 
   334 set .searchFinished true
   335 set :findDrillLocation*retval true
   336 jump *label23 always
-    * set *tmp131 null
   337 jump *label80 always
   338 label *label79
-    * set *tmp131 null
   339 label *label80
   340 jump *label76 always
   341 label *label75

Modifications by Initial phase, Dead Code Elimination, iteration 3 (-2 instructions):
 
   209 printflush message1
   210 set *tmp28 true
   211 jump *label34 always
-    * set *tmp91 null
   212 jump *label55 always
   213 label *label54
-    * set *tmp91 null
   214 label *label55
   215 jump *label53 always
   216 label *label52

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-101 instructions):
 
    19 label *label5
    20 set .searchFinished false
    21 ubind :findDrillLocation:unit
-    * set *tmp12 .locations
-    * set .locationsStart *tmp12
+   22 set .locationsStart .locations
    23 set .coreX :findDrillLocation:x
    24 set .coreY :findDrillLocation:y
    25 set :findDrillLocation:capacity 0
 
    53 label *label25
    54 label *label24
    55 op div *tmp21 :findDrillLocation:distanceLimit 3.8197185279121366
-    * op pow *tmp22 *tmp21 2
-    * set .mapTotal *tmp22
+   56 op pow .mapTotal *tmp21 2
    57 set :findDrillLocation:oreX 0
    58 set :findDrillLocation:oreY 0
    59 label *label29
 
    62 set :findDrillLocation:bestX :findDrillLocation:x
    63 set :findDrillLocation:bestY :findDrillLocation:y
    64 op sub *tmp23 :findDrillLocation:limit :findDrillLocation:capacity
-    * op mul *tmp24 *tmp23 .attenuationRate
-    * set :findDrillLocation:maxDistance *tmp24
-    * op min *tmp25 :findDrillLocation:distanceLimit :findDrillLocation:maxDistance
-    * set :findDrillLocation:distanceLimit *tmp25
+   65 op mul :findDrillLocation:maxDistance *tmp23 .attenuationRate
+   66 op min :findDrillLocation:distanceLimit :findDrillLocation:distanceLimit :findDrillLocation:maxDistance
    67 op div *tmp26 :findDrillLocation:distanceLimit 3.8197185279121366
-    * op pow *tmp27 *tmp26 2
-    * set .mapTotal *tmp27
+   68 op pow .mapTotal *tmp26 2
    69 set :locateOreAway:ore :findDrillLocation:item
    70 set :locateOreAway:x :findDrillLocation:oreX
    71 set :locateOreAway:y :findDrillLocation:oreY
    72 set :locateOreAway:distanceLimit :findDrillLocation:distanceLimit
-    * op mul *tmp29 3.8197185279121366 .angle
-    * set :locateOreAway:distance *tmp29
+   73 op mul :locateOreAway:distance 3.8197185279121366 .angle
    74 set :locateOreAway:lastX -1
    75 set :locateOreAway:lastY -1
-    * op max *tmp30 .angle @pi
-    * set .angle *tmp30
-    * op mul *tmp31 .angle .angle
-    * set .mapProgress *tmp31
+   76 op max .angle .angle @pi
+   77 op mul .mapProgress .angle .angle
    78 label *label35
    79 op lessThan *tmp32 :locateOreAway:distance :locateOreAway:distanceLimit
    80 jump *label37 equal *tmp32 false
-    * op div *tmp33 .angle @degToRad
-    * set :locateOreAway:a *tmp33
+   81 op div :locateOreAway:a .angle @degToRad
    82 op sin *tmp34 :locateOreAway:a
    83 op mul *tmp35 *tmp34 :locateOreAway:distance
    84 op add *tmp36 .coreX *tmp35
 
    87 set :limit:low 5
    88 set :limit:high *tmp37
    89 op max *tmp39 :limit:value :limit:low
-    * op min *tmp40 *tmp39 :limit:high
-    * set *tmp38 *tmp40
+   90 op min *tmp38 *tmp39 :limit:high
    91 label *label38
    92 set :locateOreAway:lx *tmp38
    93 op cos *tmp41 :locateOreAway:a
 
    98 set :limit.1:low 5
    99 set :limit.1:high *tmp44
   100 op max *tmp46 :limit.1:value :limit.1:low
-    * op min *tmp47 *tmp46 :limit.1:high
-    * set *tmp45 *tmp47
+  101 op min *tmp45 *tmp46 :limit.1:high
   102 label *label39
   103 set :locateOreAway:ly *tmp45
   104 set :moveTo.2:x :locateOreAway:lx
 
   116 label *label40
   117 op div *tmp51 3.8197185279121366 :locateOreAway:distance
   118 op add .angle .angle *tmp51
-    * op mul *tmp52 .angle .angle
-    * set .mapProgress *tmp52
-    * op mul *tmp53 3.8197185279121366 .angle
-    * set :locateOreAway:distance *tmp53
+  119 op mul .mapProgress .angle .angle
+  120 op mul :locateOreAway:distance 3.8197185279121366 .angle
   121 ulocate ore core true :locateOreAway:ore :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
   122 op equal *tmp56 *tmp54 false
   123 jump *label44 equal *tmp56 false
 
   130 op abs *tmp59 *tmp58
   131 op sub *tmp60 :locateOreAway:y .coreY
   132 op abs *tmp61 *tmp60
-    * op max *tmp62 *tmp59 *tmp61
-    * set :locateOreAway:coreDist *tmp62
+  133 op max :locateOreAway:coreDist *tmp59 *tmp61
   134 op sub *tmp63 :locateOreAway:x :locateOreAway:lx
   135 op sub *tmp64 :locateOreAway:y :locateOreAway:ly
-    * op len *tmp65 *tmp63 *tmp64
-    * set :locateOreAway:unitDist *tmp65
+  136 op len :locateOreAway:unitDist *tmp63 *tmp64
   137 op equal *tmp66 :locateOreAway:lastX :locateOreAway:x
   138 jump *label46 equal *tmp66 false
   139 op equal *tmp68 :locateOreAway:lastY :locateOreAway:y
 
   157 set :visited:i .locationsStart
   158 label *label57
   159 jump *label59 greaterThanEq :visited:i *tmp75
-    * op mul *tmp76 4 :visited:i
-    * set :visited:index *tmp76
-    * op add *tmp77 :visited:index 2
-    * set *tmp78 *tmp77
-    * read *tmp80 bank1 *tmp78
-    * set :visited:lx *tmp80
+  160 op mul :visited:index 4 :visited:i
+  161 op add *tmp78 :visited:index 2
+  162 read :visited:lx bank1 *tmp78
   163 op add *tmp81 :visited:index 3
-    * set *tmp82 *tmp81
-    * read *tmp84 bank1 *tmp82
-    * set :visited:ly *tmp84
+  164 read :visited:ly bank1 *tmp81
   165 op sub *tmp85 :visited:x :visited:lx
   166 op sub *tmp86 :visited:y :visited:ly
   167 op len *tmp87 *tmp85 *tmp86
 
   184 jump *label54 equal *tmp90 false
   185 op div *tmp92 7.639437055824273 :locateOreAway:distance
   186 op add .angle .angle *tmp92
-    * op mul *tmp93 .angle .angle
-    * set .mapProgress *tmp93
+  187 op mul .mapProgress .angle .angle
   188 printflush message1
   189 set *tmp28 true
   190 jump *label34 always
 
   209 op equal *tmp94 *tmp28 false
   210 jump *label32 equal *tmp94 false
   211 set .searchFinished true
-    * op greaterThan *tmp96 :findDrillLocation:capacity 0
-    * set :findDrillLocation*retval *tmp96
+  212 op greaterThan :findDrillLocation*retval :findDrillLocation:capacity 0
   213 jump *label23 always
   214 jump *label33 always
   215 label *label32
 
   252 wait 1e-15
   253 read *tmp112 processor4 ":findBestPosition*finished"
   254 jump *label72 equal *tmp112 false
-    * read *tmp113 processor4 ":findBestPosition:bestX"
-    * set :findDrillLocation:diffX *tmp113
-    * read *tmp114 processor4 ":findBestPosition:bestY"
-    * set :findDrillLocation:diffY *tmp114
-    * read *tmp116 processor4 ":findBestPosition*retval"
-    * set :findDrillLocation:score *tmp116
-    * op add *tmp117 :findDrillLocation:oreX :findDrillLocation:diffX
-    * set :findDrillLocation:newX *tmp117
-    * op add *tmp118 :findDrillLocation:oreY :findDrillLocation:diffY
-    * set :findDrillLocation:newY *tmp118
+  255 read :findDrillLocation:diffX processor4 ":findBestPosition:bestX"
+  256 read :findDrillLocation:diffY processor4 ":findBestPosition:bestY"
+  257 read :findDrillLocation:score processor4 ":findBestPosition*retval"
+  258 op add :findDrillLocation:newX :findDrillLocation:oreX :findDrillLocation:diffX
+  259 op add :findDrillLocation:newY :findDrillLocation:oreY :findDrillLocation:diffY
   260 op sub *tmp119 :findDrillLocation:newX .coreX
   261 op abs *tmp120 *tmp119
   262 op sub *tmp121 :findDrillLocation:newY .coreY
   263 op abs *tmp122 *tmp121
-    * op max *tmp123 *tmp120 *tmp122
-    * set :findDrillLocation:coreDist *tmp123
+  264 op max :findDrillLocation:coreDist *tmp120 *tmp122
   265 op lessThanEq *tmp124 :findDrillLocation:coreDist 8
   266 jump *label73 equal *tmp124 false
   267 jump *label71 always
 
   290 sensor *tmp134 :saveLocation:item @id
   291 write *tmp134 bank1 *tmp132
   292 op add .count .count 1
-    * set *tmp135 .count
-    * write :saveLocation:value bank1 *tmp135
+  293 write :saveLocation:value bank1 .count
   294 op add .count .count 1
-    * set *tmp137 .count
-    * write :saveLocation:x bank1 *tmp137
+  295 write :saveLocation:x bank1 .count
   296 op add .count .count 1
-    * set *tmp139 .count
-    * write :saveLocation:y bank1 *tmp139
+  297 write :saveLocation:y bank1 .count
   298 op add .locations .locations 1
   299 label *label81
   300 ucontrol unbind
 
   322 label *label84
   323 label *label85
   324 set :findDrillLocation:last :findDrillLocation:score
-    * op mul *tmp146 :findDrillLocation:diffX 1.1
-    * set :round:x *tmp146
+  325 op mul :round:x :findDrillLocation:diffX 1.1
   326 op add *tmp148 :round:x 0.5
-    * op floor *tmp149 *tmp148
-    * set *tmp147 *tmp149
+  327 op floor *tmp147 *tmp148
   328 label *label86
   329 op add :findDrillLocation:oreX :findDrillLocation:oreX *tmp147
-    * op mul *tmp150 :findDrillLocation:diffY 1.1
-    * set :round.1:x *tmp150
+  330 op mul :round.1:x :findDrillLocation:diffY 1.1
   331 op add *tmp152 :round.1:x 0.5
-    * op floor *tmp153 *tmp152
-    * set *tmp151 *tmp153
+  332 op floor *tmp151 *tmp152
   333 label *label87
   334 op add :findDrillLocation:oreY :findDrillLocation:oreY *tmp151
   335 label *label70
 
   346 sensor *tmp158 :saveLocation.1:item @id
   347 write *tmp158 bank1 *tmp156
   348 op add .count .count 1
-    * set *tmp159 .count
-    * write :saveLocation.1:value bank1 *tmp159
+  349 write :saveLocation.1:value bank1 .count
   350 op add .count .count 1
-    * set *tmp161 .count
-    * write :saveLocation.1:x bank1 *tmp161
+  351 write :saveLocation.1:x bank1 .count
   352 op add .count .count 1
-    * set *tmp163 .count
-    * write :saveLocation.1:y bank1 *tmp163
+  353 write :saveLocation.1:y bank1 .count
   354 op add .locations .locations 1
   355 label *label90
   356 jump *label89 always
 
   381 label *label92
   382 label *label93
   383 op mul *tmp171 7 :shiftMask:shiftY
-    * op add *tmp172 :shiftMask:shiftX *tmp171
-    * set :shiftMask:shift *tmp172
+  384 op add :shiftMask:shift :shiftMask:shiftX *tmp171
   385 op greaterThan *tmp173 :shiftMask:shift 0
   386 jump *label96 equal *tmp173 false
-    * op shr *tmp175 562949953421311 :shiftMask:shift
-    * set :shiftMask:clearMask *tmp175
+  387 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
   388 op and *tmp176 :shiftMask:mask :shiftMask:clearMask
-    * op shl *tmp177 *tmp176 :shiftMask:shift
-    * set :shiftMask:mask *tmp177
+  389 op shl :shiftMask:mask *tmp176 :shiftMask:shift
   390 jump *label97 always
   391 label *label96
   392 op sub *tmp178 0 :shiftMask:shift
 
   395 op notEqual *tmp179 :shiftMask:shiftX 0
   396 jump *label98 equal *tmp179 false
   397 op abs *tmp181 :shiftMask:shiftX
-    * op shr *tmp182 0b1111111 *tmp181
-    * set :shiftMask:keep *tmp182
+  398 op shr :shiftMask:keep 0b1111111 *tmp181
   399 op greaterThan *tmp183 :shiftMask:shiftX 0
   400 jump *label100 equal *tmp183 false
   401 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
 
   424 op idiv *tmp190 *tmp189 2
   425 op sub *tmp191 :excludeArea:maskX :excludeArea:areaX
   426 op abs *tmp192 *tmp191
-    * op sub *tmp193 *tmp190 *tmp192
-    * set :excludeArea:overlapX *tmp193
+  427 op sub :excludeArea:overlapX *tmp190 *tmp192
   428 op add *tmp194 :excludeArea:areaHeight 7
   429 op add *tmp195 *tmp194 1
   430 op idiv *tmp196 *tmp195 2
   431 op sub *tmp197 :excludeArea:maskY :excludeArea:areaY
   432 op abs *tmp198 *tmp197
-    * op sub *tmp199 *tmp196 *tmp198
-    * set :excludeArea:overlapY *tmp199
+  433 op sub :excludeArea:overlapY *tmp196 *tmp198
   434 op greaterThan *tmp200 :excludeArea:overlapX 0
   435 jump *label103 equal *tmp200 false
   436 label *label106
 
   438 jump *label103 equal *tmp201 false
   439 jump *label105 always
   440 label *label105
-    * op min *tmp203 7 :excludeArea:overlapX
-    * set :excludeArea:blockSizeX *tmp203
-    * op min *tmp204 7 :excludeArea:overlapY
-    * set :excludeArea:blockSizeY *tmp204
+  441 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
+  442 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
   443 set :createMatrixOfSize:width :excludeArea:blockSizeX
   444 set :createMatrixOfSize:height :excludeArea:blockSizeY
   445 op shl *tmp206 1 :createMatrixOfSize:width
-    * op sub *tmp207 *tmp206 1
-    * set :createMatrixOfSize:row *tmp207
+  446 op sub :createMatrixOfSize:row *tmp206 1
   447 set :createMatrixOfSize:matrix :createMatrixOfSize:row
   448 set :createMatrixOfSize:i 1
   449 label *label108
 
   455 label *label111
   456 label *label112
   457 op shl *tmp210 :createMatrixOfSize:matrix 7
-    * op or *tmp211 *tmp210 :createMatrixOfSize:row
-    * set :createMatrixOfSize:matrix *tmp211
+  458 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   459 label *label109
   460 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
   461 jump *label108 always
 
   467 set :excludeArea:blocked *tmp205
   468 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX
   469 op sub *tmp213 7 :excludeArea:blockSizeX
-    * op mul *tmp214 *tmp212 *tmp213
-    * set :excludeArea:shiftX *tmp214
+  470 op mul :excludeArea:shiftX *tmp212 *tmp213
   471 op lessThan *tmp215 :excludeArea:maskY :excludeArea:areaY
   472 op sub *tmp216 7 :excludeArea:blockSizeY
-    * op mul *tmp217 *tmp215 *tmp216
-    * set :excludeArea:shiftY *tmp217
+  473 op mul :excludeArea:shiftY *tmp215 *tmp216
   474 set :shiftMask:mask :excludeArea:blocked
   475 set :shiftMask:shiftX :excludeArea:shiftX
   476 set :shiftMask:shiftY :excludeArea:shiftY
 
   478 call *label13 *invalid :shiftMask*retval (m:*label113) (h:*label113)
   479 label *label113
   480 set :excludeArea:shifted :shiftMask*retval
-    * op or *tmp218 :excludeArea:mask :excludeArea:shifted
-    * set :excludeArea*retval *tmp218
+  481 op or :excludeArea*retval :excludeArea:mask :excludeArea:shifted
   482 jump *label102 always
   483 set *tmp202 null
   484 jump *label104 always
 
   497 jump *label117 greaterThan :findPossiblePlacement:y 3
   498 op add *tmp219 :findPossiblePlacement:y 3
   499 op mul *tmp220 7 *tmp219
-    * op shl *tmp221 :findPossiblePlacement:placementMask *tmp220
-    * set :findPossiblePlacement:mask *tmp221
+  500 op shl :findPossiblePlacement:mask :findPossiblePlacement:placementMask *tmp220
   501 set :findPossiblePlacement:x -3
   502 label *label118
   503 jump *label120 greaterThan :findPossiblePlacement:x 3
 
   506 jump *label121 equal *tmp223 false
   507 op mul *tmp225 :findPossiblePlacement:y 7
   508 op add *tmp226 24 *tmp225
-    * op add *tmp227 *tmp226 :findPossiblePlacement:x
-    * set :findPossiblePlacement*retval *tmp227
+  509 op add :findPossiblePlacement*retval *tmp226 :findPossiblePlacement:x
   510 jump *label114 always
   511 jump *label122 always
   512 label *label121
 
   550 label *label128
   551 set :tryPlaceGenerator:c :findPossiblePlacement:x
   552 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp234 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp234
+  553 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   554 op greaterThanEq *tmp235 :tryPlaceGenerator:shift 0
   555 jump *label129 equal *tmp235 false
   556 op lessThan *tmp237 :tryPlaceGenerator:shift 0
 
   561 label *label131
   562 label *label132
   563 op add *tmp239 :tryPlaceGenerator:centerX 0.5
-    * op add *tmp240 *tmp239 :tryPlaceGenerator:c
-    * set .water2X *tmp240
+  564 op add .water2X *tmp239 :tryPlaceGenerator:c
   565 op add *tmp241 :tryPlaceGenerator:centerY 0.5
-    * op add *tmp242 *tmp241 :tryPlaceGenerator:r
-    * set .water2Y *tmp242
+  566 op add .water2Y *tmp241 :tryPlaceGenerator:r
   567 op add *tmp243 :tryPlaceGenerator:centerX 0.5
-    * op add *tmp244 *tmp243 :tryPlaceGenerator:c
-    * set .generatorX *tmp244
+  568 op add .generatorX *tmp243 :tryPlaceGenerator:c
   569 op add *tmp245 :tryPlaceGenerator:centerY 2.5
-    * op add *tmp246 *tmp245 :tryPlaceGenerator:r
-    * set .generatorY *tmp246
+  570 op add .generatorY *tmp245 :tryPlaceGenerator:r
   571 op shl *tmp247 :tryPlaceGenerator:generatorVertical :tryPlaceGenerator:shift
   572 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp247
   573 jump *label130 always
 
   581 label *label133
   582 set :tryPlaceGenerator:c :findPossiblePlacement:x
   583 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp248 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp248
+  584 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   585 op lessThan *tmp249 :tryPlaceGenerator:shift 0
   586 jump *label134 equal *tmp249 false
   587 set :tryPlaceGenerator*retval false
 
   590 label *label134
   591 label *label135
   592 op add *tmp251 :tryPlaceGenerator:centerX 0.5
-    * op add *tmp252 *tmp251 :tryPlaceGenerator:c
-    * set .water2X *tmp252
+  593 op add .water2X *tmp251 :tryPlaceGenerator:c
   594 op add *tmp253 :tryPlaceGenerator:centerY 0.5
-    * op add *tmp254 *tmp253 :tryPlaceGenerator:r
-    * set .water2Y *tmp254
+  595 op add .water2Y *tmp253 :tryPlaceGenerator:r
   596 op add *tmp255 :tryPlaceGenerator:centerX 2.5
-    * op add *tmp256 *tmp255 :tryPlaceGenerator:c
-    * set .generatorX *tmp256
+  597 op add .generatorX *tmp255 :tryPlaceGenerator:c
   598 op add *tmp257 :tryPlaceGenerator:centerY 0.5
-    * op add *tmp258 *tmp257 :tryPlaceGenerator:r
-    * set .generatorY *tmp258
+  599 op add .generatorY *tmp257 :tryPlaceGenerator:r
   600 op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :tryPlaceGenerator:shift
   601 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
   602 label *label130
 
   610 label *label136
   611 set :tryPlaceGenerator:c :findPossiblePlacement:x
   612 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp260 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp260
+  613 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   614 op lessThan *tmp261 :tryPlaceGenerator:shift 0
   615 jump *label137 equal *tmp261 false
   616 set :tryPlaceGenerator*retval false
 
   618 jump *label138 always
   619 label *label137
   620 label *label138
-    * op add *tmp263 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * set .panelX *tmp263
-    * op add *tmp264 :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * set .panelY *tmp264
+  621 op add .panelX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
+  622 op add .panelY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
   623 op shl *tmp265 1 :tryPlaceGenerator:shift
   624 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp265
   625 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
 
   631 label *label139
   632 set :tryPlaceGenerator:c :findPossiblePlacement:x
   633 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp266 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp266
+  634 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   635 op lessThan *tmp267 :tryPlaceGenerator:shift 0
   636 jump *label140 equal *tmp267 false
   637 set :tryPlaceGenerator*retval false
 
   639 jump *label141 always
   640 label *label140
   641 label *label141
-    * op add *tmp269 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * set .batteryX *tmp269
-    * op add *tmp270 :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * set .batteryY *tmp270
+  642 op add .batteryX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
+  643 op add .batteryY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
   644 op shl *tmp271 1 :tryPlaceGenerator:shift
   645 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp271
   646 op sub *tmp272 .water2X .node1X
 
   679 label *label148
   680 set :tryPlaceGenerator:c :findPossiblePlacement:x
   681 set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set *tmp289 :findPossiblePlacement*retval
-    * set :tryPlaceGenerator:shift *tmp289
+  682 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   683 op lessThan *tmp290 :tryPlaceGenerator:shift 0
   684 jump *label149 equal *tmp290 false
   685 set :tryPlaceGenerator*retval false
 
   687 jump *label150 always
   688 label *label149
   689 label *label150
-    * op add *tmp292 :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * set .node2X *tmp292
-    * op add *tmp293 :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * set .node2Y *tmp293
+  690 op add .node2X :tryPlaceGenerator:centerX :tryPlaceGenerator:c
+  691 op add .node2Y :tryPlaceGenerator:centerY :tryPlaceGenerator:r
   692 op shl *tmp294 1 :tryPlaceGenerator:shift
   693 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp294
   694 jump *label143 always
 
   708 op shl *tmp295 :createBlockMaskRow:result 1
   709 op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
   710 ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
-    * op or *tmp300 *tmp295 *tmp297
-    * set :createBlockMaskRow:result *tmp300
+  711 op or :createBlockMaskRow:result *tmp295 *tmp297
   712 label *label153
   713 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   714 jump *label152 always
 
   734 setaddr :createBlockMaskRow*retaddr *label157 (h:*label157)
   735 call *label17 *invalid :createBlockMaskRow*retval (m:*label157) (h:*label157)
   736 label *label157
-    * set *tmp306 :createBlockMaskRow*retval
-    * set :createAdjacentMask:row2 *tmp306
+  737 set :createAdjacentMask:row2 :createBlockMaskRow*retval
   738 op add *tmp307 :createAdjacentMask:y 3
   739 set :createBlockMaskRow:x :createAdjacentMask:x
   740 set :createBlockMaskRow:y *tmp307
   741 setaddr :createBlockMaskRow*retaddr *label158 (h:*label158)
   742 call *label17 *invalid :createBlockMaskRow*retval (m:*label158) (h:*label158)
   743 label *label158
-    * set *tmp308 :createBlockMaskRow*retval
-    * set :createAdjacentMask:row1 *tmp308
+  744 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   745 set :createAdjacentMask:r 2
   746 label *label159
   747 jump *label161 lessThan :createAdjacentMask:r -4
 
   751 setaddr :createBlockMaskRow*retaddr *label162 (h:*label162)
   752 call *label17 *invalid :createBlockMaskRow*retval (m:*label162) (h:*label162)
   753 label *label162
-    * set *tmp310 :createBlockMaskRow*retval
-    * set :createAdjacentMask:row0 *tmp310
+  754 set :createAdjacentMask:row0 :createBlockMaskRow*retval
   755 op shl *tmp311 :createAdjacentMask:row1 1
   756 op or *tmp312 :createAdjacentMask:row2 *tmp311
   757 op shr *tmp313 :createAdjacentMask:row1 1
   758 op or *tmp314 *tmp312 *tmp313
-    * op or *tmp315 *tmp314 :createAdjacentMask:row0
-    * set :createAdjacentMask:mask *tmp315
+  759 op or :createAdjacentMask:mask *tmp314 :createAdjacentMask:row0
   760 op shl *tmp316 :createAdjacentMask:result 7
   761 op and *tmp317 :createAdjacentMask:mask 0xFE
-    * op or *tmp318 *tmp316 *tmp317
-    * set :createAdjacentMask:result *tmp318
+  762 op or :createAdjacentMask:result *tmp316 *tmp317
   763 set :createAdjacentMask:row2 :createAdjacentMask:row1
   764 set :createAdjacentMask:row1 :createAdjacentMask:row0
   765 label *label160
   766 op sub :createAdjacentMask:r :createAdjacentMask:r 1
   767 jump *label159 always
   768 label *label161
-    * op shr *tmp319 :createAdjacentMask:result 1
-    * set *tmp304 *tmp319
+  769 op shr *tmp304 :createAdjacentMask:result 1
   770 label *label156
   771 set :createCombinedMask:adjacentMask *tmp304
   772 label *label163
   773 wait 1e-15
   774 read *tmp320 processor4 ":createTerrainMask*finished"
   775 jump *label163 equal *tmp320 false
-    * read *tmp322 processor4 ":createTerrainMask*retval"
-    * set :createCombinedMask:terrainMask *tmp322
-    * op or *tmp323 :createCombinedMask:adjacentMask :createCombinedMask:terrainMask
-    * set :excludeArea:mask *tmp323
+  776 read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
+  777 op or :excludeArea:mask :createCombinedMask:adjacentMask :createCombinedMask:terrainMask
   778 set :excludeArea:maskX :createCombinedMask:x
   779 set :excludeArea:maskY :createCombinedMask:y
   780 set :excludeArea:areaX .coreX
 
   817 setaddr :createCombinedMask*retaddr *label170 (h:*label170)
   818 call *label18 *invalid :createCombinedMask*retval (m:*label170) (h:*label170)
   819 label *label170
-    * set *tmp327 :createCombinedMask*retval
-    * set :layoutThoriumDrillAtLocation:plainTerrainMask *tmp327
-    * op or *tmp328 :layoutThoriumDrillAtLocation:plainTerrainMask 7575371776
-    * set :layoutThoriumDrillAtLocation:terrainMask *tmp328
-    * op or *tmp329 :layoutThoriumDrillAtLocation:terrainMask 285880598593601
-    * set :layoutThoriumDrillAtLocation:cornersMask *tmp329
+  820 set :layoutThoriumDrillAtLocation:plainTerrainMask :createCombinedMask*retval
+  821 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:plainTerrainMask 7575371776
+  822 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   823 set :layoutThoriumDrillAtLocation:mask2x2 387
   824 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
   825 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
 
   830 label *label171
   831 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   832 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set *tmp330 :findPossiblePlacement*retval
-    * set :layoutThoriumDrillAtLocation:shift *tmp330
+  833 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   834 op greaterThanEq *tmp331 :layoutThoriumDrillAtLocation:shift 0
   835 jump *label172 equal *tmp331 false
   836 op add *tmp333 .drillX 0.5
-    * op add *tmp334 *tmp333 :layoutThoriumDrillAtLocation:c
-    * set .water1X *tmp334
+  837 op add .water1X *tmp333 :layoutThoriumDrillAtLocation:c
   838 op add *tmp335 .drillY 0.5
-    * op add *tmp336 *tmp335 :layoutThoriumDrillAtLocation:r
-    * set .water1Y *tmp336
+  839 op add .water1Y *tmp335 :layoutThoriumDrillAtLocation:r
   840 op shl *tmp337 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   841 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp337
   842 op shl *tmp338 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
 
   853 label *label174
   854 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   855 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set *tmp339 :findPossiblePlacement*retval
-    * set :layoutThoriumDrillAtLocation:shift *tmp339
+  856 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   857 op greaterThanEq *tmp340 :layoutThoriumDrillAtLocation:shift 0
   858 jump *label175 equal *tmp340 false
   859 op add *tmp342 .drillX 0.5
-    * op add *tmp343 *tmp342 :layoutThoriumDrillAtLocation:c
-    * set .containerX *tmp343
+  860 op add .containerX *tmp342 :layoutThoriumDrillAtLocation:c
   861 op add *tmp344 .drillY 0.5
-    * op add *tmp345 *tmp344 :layoutThoriumDrillAtLocation:r
-    * set .containerY *tmp345
+  862 op add .containerY *tmp344 :layoutThoriumDrillAtLocation:r
   863 op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   864 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp346
   865 jump *label176 always
   866 label *label175
   867 label *label176
-    * op or *tmp347 :layoutThoriumDrillAtLocation:terrainMask 437639987601635
-    * set :layoutThoriumDrillAtLocation:nodeMask *tmp347
+  868 op or :layoutThoriumDrillAtLocation:nodeMask :layoutThoriumDrillAtLocation:terrainMask 437639987601635
   869 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:nodeMask
   870 set :findPossiblePlacement:placementMask 1
   871 set :findPossiblePlacement:width 1
 
   875 label *label177
   876 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   877 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set *tmp348 :findPossiblePlacement*retval
-    * set :layoutThoriumDrillAtLocation:shift *tmp348
+  878 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   879 op lessThan *tmp349 :layoutThoriumDrillAtLocation:shift 0
   880 jump *label178 equal *tmp349 false
   881 set :layoutThoriumDrillAtLocation*retval false
 
   883 jump *label179 always
   884 label *label178
   885 label *label179
-    * op add *tmp351 .drillX :layoutThoriumDrillAtLocation:c
-    * set .node1X *tmp351
-    * op add *tmp352 .drillY :layoutThoriumDrillAtLocation:r
-    * set .node1Y *tmp352
+  886 op add .node1X .drillX :layoutThoriumDrillAtLocation:c
+  887 op add .node1Y .drillY :layoutThoriumDrillAtLocation:r
   888 op shl *tmp353 1 :layoutThoriumDrillAtLocation:shift
   889 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp353
   890 set :layoutThoriumDrillAtLocation:generatorHorizontal 1935
 
   897 setaddr :tryPlaceGenerator*retaddr *label182 (h:*label182)
   898 call *label16 *invalid :tryPlaceGenerator*retval (m:*label182) (h:*label182)
   899 label *label182
-    * set *tmp354 :tryPlaceGenerator*retval
-    * jump *label180 equal *tmp354 false
+  900 jump *label180 equal :tryPlaceGenerator*retval false
   901 set :layoutThoriumDrillAtLocation*retval true
   902 jump *label165 always
   903 jump *label181 always
 
   922 set :layoutThoriumDrillAtLocation:sy -3
   923 setaddr *tmp356 *label189
   924 label *label183
-    * op sub *tmp357 .drillX :layoutThoriumDrillAtLocation:sx
-    * set :layoutThoriumDrillAtLocation:newX *tmp357
-    * op sub *tmp358 .drillY :layoutThoriumDrillAtLocation:sy
-    * set :layoutThoriumDrillAtLocation:newY *tmp358
+  925 op sub :layoutThoriumDrillAtLocation:newX .drillX :layoutThoriumDrillAtLocation:sx
+  926 op sub :layoutThoriumDrillAtLocation:newY .drillY :layoutThoriumDrillAtLocation:sy
   927 set :createCombinedMask:x :layoutThoriumDrillAtLocation:newX
   928 set :createCombinedMask:y :layoutThoriumDrillAtLocation:newY
   929 setaddr :createCombinedMask*retaddr *label190 (h:*label190)
   930 call *label18 *invalid :createCombinedMask*retval (m:*label190) (h:*label190)
   931 label *label190
-    * set *tmp359 :createCombinedMask*retval
-    * set :layoutThoriumDrillAtLocation:newTerrainMask *tmp359
+  932 set :layoutThoriumDrillAtLocation:newTerrainMask :createCombinedMask*retval
   933 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
   934 set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
   935 set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
   936 setaddr :shiftMask*retaddr *label191 (h:*label191)
   937 call *label13 *invalid :shiftMask*retval (m:*label191) (h:*label191)
   938 label *label191
-    * set *tmp360 :shiftMask*retval
-    * set :layoutThoriumDrillAtLocation:shiftedMask *tmp360
-    * op or *tmp361 :layoutThoriumDrillAtLocation:newTerrainMask :layoutThoriumDrillAtLocation:shiftedMask
-    * set :layoutThoriumDrillAtLocation:combinedMask *tmp361
+  939 set :layoutThoriumDrillAtLocation:shiftedMask :shiftMask*retval
+  940 op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :layoutThoriumDrillAtLocation:shiftedMask
   941 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
   942 op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy
   943 set :tryPlaceGenerator:centerX *tmp362
 
   948 setaddr :tryPlaceGenerator*retaddr *label194 (h:*label194)
   949 call *label16 *invalid :tryPlaceGenerator*retval (m:*label194) (h:*label194)
   950 label *label194
-    * set *tmp364 :tryPlaceGenerator*retval
-    * jump *label192 equal *tmp364 false
+  951 jump *label192 equal :tryPlaceGenerator*retval false
   952 set :layoutThoriumDrillAtLocation*retval true
   953 jump *label165 always
   954 jump *label193 always

Modifications by Iterated phase, Jump Normalization, pass 1, iteration 1 (-2 instructions):
 
    57 set :findDrillLocation:oreX 0
    58 set :findDrillLocation:oreY 0
    59 label *label29
-    * jump *label31 equal true false
    60 set :findDrillLocation:best -1
    61 set :findDrillLocation:bestX :findDrillLocation:x
    62 set :findDrillLocation:bestY :findDrillLocation:y
 
   239 label *label64
   240 set :findDrillLocation:last 0
   241 label *label69
-    * jump *label71 equal true false
   242 write @unit processor4 ":findBestPosition:unit"
   243 write :findDrillLocation:oreX processor4 ":findBestPosition:x"
   244 write :findDrillLocation:oreY processor4 ":findBestPosition:y"

Modifications by Iterated phase, Jump Straightening, pass 1, iteration 1 (-2 instructions):
 
   370 label *label95
   371 op abs *tmp168 :shiftMask:shiftY
   372 op greaterThan *tmp169 *tmp168 6
-    * jump *label94 notEqual *tmp169 false
-    * jump *label92 always
+  373 jump *label92 equal *tmp169 false
   374 label *label94
   375 set :shiftMask*retval 0
   376 jump *label91 always
 
   664 op sub *tmp285 .batteryY .node1Y
   665 op len *tmp286 *tmp284 *tmp285
   666 op greaterThan *tmp287 *tmp286 6
-    * jump *label144 notEqual *tmp287 false
-    * jump *label142 always
+  667 jump *label142 equal *tmp287 false
   668 label *label144
   669 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
   670 set :findPossiblePlacement:placementMask 1

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-46 instructions):
 
    43 set :moveTo.1:radius 6
    44 label *label26
    45 ucontrol within :moveTo.1:x :moveTo.1:y :moveTo.1:radius *tmp18
-    * op equal *tmp19 *tmp18 false
-    * jump *label28 equal *tmp19 false
+   46 jump *label28 notEqual *tmp18 false
    47 op sub *tmp20 :moveTo.1:radius 0.5
    48 ucontrol approach :moveTo.1:x :moveTo.1:y *tmp20
    49 label *label27
 
    74 op max .angle .angle @pi
    75 op mul .mapProgress .angle .angle
    76 label *label35
-    * op lessThan *tmp32 :locateOreAway:distance :locateOreAway:distanceLimit
-    * jump *label37 equal *tmp32 false
+   77 jump *label37 greaterThanEq :locateOreAway:distance :locateOreAway:distanceLimit
    78 op div :locateOreAway:a .angle @degToRad
    79 op sin *tmp34 :locateOreAway:a
    80 op mul *tmp35 *tmp34 :locateOreAway:distance
 
   103 set :moveTo.2:radius 5
   104 label *label41
   105 ucontrol within :moveTo.2:x :moveTo.2:y :moveTo.2:radius *tmp48
-    * op equal *tmp49 *tmp48 false
-    * jump *label43 equal *tmp49 false
+  106 jump *label43 notEqual *tmp48 false
   107 op sub *tmp50 :moveTo.2:radius 0.5
   108 ucontrol approach :moveTo.2:x :moveTo.2:y *tmp50
   109 label *label42
 
   115 op mul .mapProgress .angle .angle
   116 op mul :locateOreAway:distance 3.8197185279121366 .angle
   117 ulocate ore core true :locateOreAway:ore :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
-    * op equal *tmp56 *tmp54 false
-    * jump *label44 equal *tmp56 false
+  118 jump *label44 notEqual *tmp54 false
   119 set *tmp28 false
   120 jump *label34 always
   121 jump *label45 always
 
   129 op sub *tmp63 :locateOreAway:x :locateOreAway:lx
   130 op sub *tmp64 :locateOreAway:y :locateOreAway:ly
   131 op len :locateOreAway:unitDist *tmp63 *tmp64
-    * op equal *tmp66 :locateOreAway:lastX :locateOreAway:x
-    * jump *label46 equal *tmp66 false
-    * op equal *tmp68 :locateOreAway:lastY :locateOreAway:y
-    * jump *label48 equal *tmp68 false
+  132 jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x
+  133 jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
   134 jump *label36 always
   135 jump *label49 always
   136 label *label48
 
   138 jump *label47 always
   139 label *label46
   140 label *label47
-    * op greaterThanEq *tmp70 :locateOreAway:coreDist 8
-    * jump *label50 equal *tmp70 false
-    * op lessThan *tmp72 :locateOreAway:unitDist :locateOreAway:distance
-    * jump *label52 equal *tmp72 false
+  141 jump *label50 lessThan :locateOreAway:coreDist 8
+  142 jump *label52 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
   143 set :locateOreAway:lastX :locateOreAway:x
   144 set :locateOreAway:lastY :locateOreAway:y
   145 set :visited:x :locateOreAway:x
 
   156 op sub *tmp85 :visited:x :visited:lx
   157 op sub *tmp86 :visited:y :visited:ly
   158 op len *tmp87 *tmp85 *tmp86
-    * op lessThan *tmp88 *tmp87 7
-    * jump *label60 equal *tmp88 false
+  159 jump *label60 greaterThanEq *tmp87 7
   160 set *tmp74 true
   161 jump *label56 always
   162 jump *label61 always
 
   170 jump *label56 always
   171 set *tmp74 null
   172 label *label56
-    * op equal *tmp90 *tmp74 false
-    * jump *label54 equal *tmp90 false
+  173 jump *label54 notEqual *tmp74 false
   174 op div *tmp92 7.639437055824273 :locateOreAway:distance
   175 op add .angle .angle *tmp92
   176 op mul .mapProgress .angle .angle
 
   195 label *label34
   196 set :findDrillLocation:oreX :locateOreAway:x
   197 set :findDrillLocation:oreY :locateOreAway:y
-    * op equal *tmp94 *tmp28 false
-    * jump *label32 equal *tmp94 false
+  198 jump *label32 notEqual *tmp28 false
   199 set .searchFinished true
   200 op greaterThan :findDrillLocation*retval :findDrillLocation:capacity 0
   201 jump *label23 always
   202 jump *label33 always
   203 label *label32
   204 label *label33
-    * op greaterThanEq *tmp97 :findDrillLocation:limit 1000
-    * jump *label62 equal *tmp97 false
+  205 jump *label62 lessThan :findDrillLocation:limit 1000
   206 op add .mapSpots .mapSpots 1
   207 jump *label63 always
   208 label *label62
 
   216 set :moveTo.4:radius 6
   217 label *label66
   218 ucontrol within :moveTo.4:x :moveTo.4:y :moveTo.4:radius *tmp102
-    * op equal *tmp103 *tmp102 false
-    * jump *label68 equal *tmp103 false
+  219 jump *label68 notEqual *tmp102 false
   220 op sub *tmp104 :moveTo.4:radius 0.5
   221 ucontrol approach :moveTo.4:x :moveTo.4:y *tmp104
   222 label *label67
 
   247 op sub *tmp121 :findDrillLocation:newY .coreY
   248 op abs *tmp122 *tmp121
   249 op max :findDrillLocation:coreDist *tmp120 *tmp122
-    * op lessThanEq *tmp124 :findDrillLocation:coreDist 8
-    * jump *label73 equal *tmp124 false
+  250 jump *label73 greaterThan :findDrillLocation:coreDist 8
   251 jump *label71 always
   252 jump *label74 always
   253 label *label73
   254 label *label74
-    * op greaterThan *tmp126 :findDrillLocation:score :findDrillLocation:capacity
-    * jump *label75 equal *tmp126 false
+  255 jump *label75 lessThanEq :findDrillLocation:score :findDrillLocation:capacity
   256 set :findDrillLocation:dx :findDrillLocation:newX
   257 set :findDrillLocation:dy :findDrillLocation:newY
   258 set :findDrillLocation:capacity :findDrillLocation:score
-    * op lessThan *tmp128 :findDrillLocation:limit 1000
-    * jump *label77 equal *tmp128 false
+  259 jump *label77 greaterThanEq :findDrillLocation:limit 1000
   260 set .mapSpots :findDrillLocation:score
   261 jump *label78 always
   262 label *label77
   263 label *label78
-    * op greaterThanEq *tmp130 :findDrillLocation:capacity :findDrillLocation:limit
-    * jump *label79 equal *tmp130 false
+  264 jump *label79 lessThan :findDrillLocation:capacity :findDrillLocation:limit
   265 set :saveLocation:item :findDrillLocation:item
   266 set :saveLocation:value :findDrillLocation:score
   267 set :saveLocation:x :findDrillLocation:dx
 
   288 jump *label76 always
   289 label *label75
   290 label *label76
-    * op greaterThan *tmp142 :findDrillLocation:score :findDrillLocation:best
-    * jump *label82 equal *tmp142 false
+  291 jump *label82 lessThanEq :findDrillLocation:score :findDrillLocation:best
   292 set :findDrillLocation:bestX :findDrillLocation:newX
   293 set :findDrillLocation:bestY :findDrillLocation:newY
   294 set :findDrillLocation:best :findDrillLocation:score
   295 jump *label83 always
   296 label *label82
   297 label *label83
-    * op lessThanEq *tmp144 :findDrillLocation:score :findDrillLocation:last
-    * jump *label84 equal *tmp144 false
+  298 jump *label84 greaterThan :findDrillLocation:score :findDrillLocation:last
   299 jump *label71 always
   300 jump *label85 always
   301 label *label84
 
   314 label *label70
   315 jump *label69 always
   316 label *label71
-    * op greaterThanEq *tmp154 :findDrillLocation:best 0
-    * jump *label88 equal *tmp154 false
+  317 jump *label88 lessThan :findDrillLocation:best 0
   318 set :saveLocation.1:item :findDrillLocation:item
   319 set :saveLocation.1:value :findDrillLocation:best
   320 set :saveLocation.1:x :findDrillLocation:bestX
 
   345 end
   346 label *label13
   347 op abs *tmp166 :shiftMask:shiftX
-    * op greaterThan *tmp167 *tmp166 6
-    * jump *label94 notEqual *tmp167 false
+  348 jump *label94 greaterThan *tmp166 6
   349 label *label95
   350 op abs *tmp168 :shiftMask:shiftY
-    * op greaterThan *tmp169 *tmp168 6
-    * jump *label92 equal *tmp169 false
+  351 jump *label92 lessThanEq *tmp168 6
   352 label *label94
   353 set :shiftMask*retval 0
   354 jump *label91 always
 
   357 label *label93
   358 op mul *tmp171 7 :shiftMask:shiftY
   359 op add :shiftMask:shift :shiftMask:shiftX *tmp171
-    * op greaterThan *tmp173 :shiftMask:shift 0
-    * jump *label96 equal *tmp173 false
+  360 jump *label96 lessThanEq :shiftMask:shift 0
   361 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
   362 op and *tmp176 :shiftMask:mask :shiftMask:clearMask
   363 op shl :shiftMask:mask *tmp176 :shiftMask:shift
 
   366 op sub *tmp178 0 :shiftMask:shift
   367 op shr :shiftMask:mask :shiftMask:mask *tmp178
   368 label *label97
-    * op notEqual *tmp179 :shiftMask:shiftX 0
-    * jump *label98 equal *tmp179 false
+  369 jump *label98 equal :shiftMask:shiftX 0
   370 op abs *tmp181 :shiftMask:shiftX
   371 op shr :shiftMask:keep 0b1111111 *tmp181
-    * op greaterThan *tmp183 :shiftMask:shiftX 0
-    * jump *label100 equal *tmp183 false
+  372 jump *label100 lessThanEq :shiftMask:shiftX 0
   373 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
   374 jump *label101 always
   375 label *label100
 
   403 op sub *tmp197 :excludeArea:maskY :excludeArea:areaY
   404 op abs *tmp198 *tmp197
   405 op sub :excludeArea:overlapY *tmp196 *tmp198
-    * op greaterThan *tmp200 :excludeArea:overlapX 0
-    * jump *label103 equal *tmp200 false
+  406 jump *label103 lessThanEq :excludeArea:overlapX 0
   407 label *label106
-    * op greaterThan *tmp201 :excludeArea:overlapY 0
-    * jump *label103 equal *tmp201 false
+  408 jump *label103 lessThanEq :excludeArea:overlapY 0
   409 jump *label105 always
   410 label *label105
   411 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
 
   418 set :createMatrixOfSize:i 1
   419 label *label108
   420 jump *label110 greaterThanEq :createMatrixOfSize:i 7
-    * op greaterThanEq *tmp208 :createMatrixOfSize:i :createMatrixOfSize:height
-    * jump *label111 equal *tmp208 false
+  421 jump *label111 lessThan :createMatrixOfSize:i :createMatrixOfSize:height
   422 jump *label110 always
   423 jump *label112 always
   424 label *label111
 
   471 label *label118
   472 jump *label120 greaterThan :findPossiblePlacement:x 3
   473 op and *tmp222 :findPossiblePlacement:terrainMask :findPossiblePlacement:mask
-    * op equal *tmp223 *tmp222 0
-    * jump *label121 equal *tmp223 false
+  474 jump *label121 notEqual *tmp222 0
   475 op mul *tmp225 :findPossiblePlacement:y 7
   476 op add *tmp226 24 *tmp225
   477 op add :findPossiblePlacement*retval *tmp226 :findPossiblePlacement:x
 
   480 label *label121
   481 label *label122
   482 op sub *tmp228 3 :findPossiblePlacement:width
-    * op greaterThan *tmp229 :findPossiblePlacement:x *tmp228
-    * jump *label123 equal *tmp229 false
+  483 jump *label123 lessThanEq :findPossiblePlacement:x *tmp228
   484 jump *label120 always
   485 jump *label124 always
   486 label *label123
 
   491 jump *label118 always
   492 label *label120
   493 op sub *tmp231 3 :findPossiblePlacement:height
-    * op greaterThan *tmp232 :findPossiblePlacement:y *tmp231
-    * jump *label125 equal *tmp232 false
+  494 jump *label125 lessThanEq :findPossiblePlacement:y *tmp231
   495 jump *label117 always
   496 jump *label126 always
   497 label *label125
 
   517 set :tryPlaceGenerator:c :findPossiblePlacement:x
   518 set :tryPlaceGenerator:r :findPossiblePlacement:y
   519 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op greaterThanEq *tmp235 :tryPlaceGenerator:shift 0
-    * jump *label129 equal *tmp235 false
-    * op lessThan *tmp237 :tryPlaceGenerator:shift 0
-    * jump *label131 equal *tmp237 false
+  520 jump *label129 lessThan :tryPlaceGenerator:shift 0
+  521 jump *label131 greaterThanEq :tryPlaceGenerator:shift 0
   522 set :tryPlaceGenerator*retval false
   523 jump *label127 always
   524 jump *label132 always
 
   546 set :tryPlaceGenerator:c :findPossiblePlacement:x
   547 set :tryPlaceGenerator:r :findPossiblePlacement:y
   548 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp249 :tryPlaceGenerator:shift 0
-    * jump *label134 equal *tmp249 false
+  549 jump *label134 greaterThanEq :tryPlaceGenerator:shift 0
   550 set :tryPlaceGenerator*retval false
   551 jump *label127 always
   552 jump *label135 always
 
   574 set :tryPlaceGenerator:c :findPossiblePlacement:x
   575 set :tryPlaceGenerator:r :findPossiblePlacement:y
   576 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp261 :tryPlaceGenerator:shift 0
-    * jump *label137 equal *tmp261 false
+  577 jump *label137 greaterThanEq :tryPlaceGenerator:shift 0
   578 set :tryPlaceGenerator*retval false
   579 jump *label127 always
   580 jump *label138 always
 
   594 set :tryPlaceGenerator:c :findPossiblePlacement:x
   595 set :tryPlaceGenerator:r :findPossiblePlacement:y
   596 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp267 :tryPlaceGenerator:shift 0
-    * jump *label140 equal *tmp267 false
+  597 jump *label140 greaterThanEq :tryPlaceGenerator:shift 0
   598 set :tryPlaceGenerator*retval false
   599 jump *label127 always
   600 jump *label141 always
 
   607 op sub *tmp272 .water2X .node1X
   608 op sub *tmp273 .water2Y .node1Y
   609 op len *tmp274 *tmp272 *tmp273
-    * op greaterThan *tmp275 *tmp274 7
-    * jump *label144 notEqual *tmp275 false
+  610 jump *label144 greaterThan *tmp274 7
   611 label *label147
   612 op sub *tmp276 .generatorX .node1X
   613 op sub *tmp277 .generatorY .node1Y
   614 op len *tmp278 *tmp276 *tmp277
-    * op greaterThan *tmp279 *tmp278 7
-    * jump *label144 notEqual *tmp279 false
+  615 jump *label144 greaterThan *tmp278 7
   616 jump *label146 always
   617 label *label146
   618 op sub *tmp280 .panelX .node1X
   619 op sub *tmp281 .panelY .node1Y
   620 op len *tmp282 *tmp280 *tmp281
-    * op greaterThan *tmp283 *tmp282 6
-    * jump *label144 notEqual *tmp283 false
+  621 jump *label144 greaterThan *tmp282 6
   622 jump *label145 always
   623 label *label145
   624 op sub *tmp284 .batteryX .node1X
   625 op sub *tmp285 .batteryY .node1Y
   626 op len *tmp286 *tmp284 *tmp285
-    * op greaterThan *tmp287 *tmp286 6
-    * jump *label142 equal *tmp287 false
+  627 jump *label142 lessThanEq *tmp286 6
   628 label *label144
   629 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
   630 set :findPossiblePlacement:placementMask 1
 
   636 set :tryPlaceGenerator:c :findPossiblePlacement:x
   637 set :tryPlaceGenerator:r :findPossiblePlacement:y
   638 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * op lessThan *tmp290 :tryPlaceGenerator:shift 0
-    * jump *label149 equal *tmp290 false
+  639 jump *label149 greaterThanEq :tryPlaceGenerator:shift 0
   640 set :tryPlaceGenerator*retval false
   641 jump *label127 always
   642 jump *label150 always
 
   759 set :moveTo.5:radius 1
   760 label *label167
   761 ucontrol within :moveTo.5:x :moveTo.5:y :moveTo.5:radius *tmp324
-    * op equal *tmp325 *tmp324 false
-    * jump *label169 equal *tmp325 false
+  762 jump *label169 notEqual *tmp324 false
   763 op sub *tmp326 :moveTo.5:radius 0.5
   764 ucontrol approach :moveTo.5:x :moveTo.5:y *tmp326
   765 label *label168
 
   785 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   786 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   787 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * op greaterThanEq *tmp331 :layoutThoriumDrillAtLocation:shift 0
-    * jump *label172 equal *tmp331 false
+  788 jump *label172 lessThan :layoutThoriumDrillAtLocation:shift 0
   789 op add *tmp333 .drillX 0.5
   790 op add .water1X *tmp333 :layoutThoriumDrillAtLocation:c
   791 op add *tmp335 .drillY 0.5
 
   807 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   808 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   809 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * op greaterThanEq *tmp340 :layoutThoriumDrillAtLocation:shift 0
-    * jump *label175 equal *tmp340 false
+  810 jump *label175 lessThan :layoutThoriumDrillAtLocation:shift 0
   811 op add *tmp342 .drillX 0.5
   812 op add .containerX *tmp342 :layoutThoriumDrillAtLocation:c
   813 op add *tmp344 .drillY 0.5
 
   828 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   829 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   830 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * op lessThan *tmp349 :layoutThoriumDrillAtLocation:shift 0
-    * jump *label178 equal *tmp349 false
+  831 jump *label178 greaterThanEq :layoutThoriumDrillAtLocation:shift 0
   832 set :layoutThoriumDrillAtLocation*retval false
   833 jump *label165 always
   834 jump *label179 always
 
   928 label *label198
   929 set .drillX :findDrillLocation:dx
   930 set .drillY :findDrillLocation:dy
-    * op equal *tmp366 :findDrillLocation*retval false
-    * jump *label196 equal *tmp366 false
+  931 jump *label196 notEqual :findDrillLocation*retval false
   932 set :layoutThoriumDrill*retval false
   933 jump *label195 always
   934 jump *label197 always

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-38 instructions):
 
   118 jump *label44 notEqual *tmp54 false
   119 set *tmp28 false
   120 jump *label34 always
-    * jump *label45 always
   121 label *label44
   122 label *label45
   123 op sub *tmp58 :locateOreAway:x .coreX
 
   131 jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x
   132 jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
   133 jump *label36 always
-    * jump *label49 always
   134 label *label48
   135 label *label49
-    * jump *label47 always
   136 label *label46
   137 label *label47
   138 jump *label50 lessThan :locateOreAway:coreDist 8
 
   156 jump *label60 greaterThanEq *tmp87 7
   157 set *tmp74 true
   158 jump *label56 always
-    * jump *label61 always
   159 label *label60
   160 label *label61
   161 label *label58
 
   173 printflush message1
   174 set *tmp28 true
   175 jump *label34 always
-    * jump *label55 always
   176 label *label54
   177 label *label55
-    * jump *label53 always
   178 label *label52
   179 label *label53
-    * jump *label51 always
   180 label *label50
   181 label *label51
   182 label *label36
 
   192 set .searchFinished true
   193 op greaterThan :findDrillLocation*retval :findDrillLocation:capacity 0
   194 jump *label23 always
-    * jump *label33 always
   195 label *label32
   196 label *label33
   197 jump *label62 lessThan :findDrillLocation:limit 1000
   198 op add .mapSpots .mapSpots 1
-    * jump *label63 always
   199 label *label62
   200 label *label63
   201 set :moveTo.3:x :findDrillLocation:oreX
 
   240 op max :findDrillLocation:coreDist *tmp120 *tmp122
   241 jump *label73 greaterThan :findDrillLocation:coreDist 8
   242 jump *label71 always
-    * jump *label74 always
   243 label *label73
   244 label *label74
   245 jump *label75 lessThanEq :findDrillLocation:score :findDrillLocation:capacity
 
   248 set :findDrillLocation:capacity :findDrillLocation:score
   249 jump *label77 greaterThanEq :findDrillLocation:limit 1000
   250 set .mapSpots :findDrillLocation:score
-    * jump *label78 always
   251 label *label77
   252 label *label78
   253 jump *label79 lessThan :findDrillLocation:capacity :findDrillLocation:limit
 
   271 set .searchFinished true
   272 set :findDrillLocation*retval true
   273 jump *label23 always
-    * jump *label80 always
   274 label *label79
   275 label *label80
-    * jump *label76 always
   276 label *label75
   277 label *label76
   278 jump *label82 lessThanEq :findDrillLocation:score :findDrillLocation:best
   279 set :findDrillLocation:bestX :findDrillLocation:newX
   280 set :findDrillLocation:bestY :findDrillLocation:newY
   281 set :findDrillLocation:best :findDrillLocation:score
-    * jump *label83 always
   282 label *label82
   283 label *label83
   284 jump *label84 greaterThan :findDrillLocation:score :findDrillLocation:last
   285 jump *label71 always
-    * jump *label85 always
   286 label *label84
   287 label *label85
   288 set :findDrillLocation:last :findDrillLocation:score
 
   316 write :saveLocation.1:y bank1 .count
   317 op add .locations .locations 1
   318 label *label90
-    * jump *label89 always
   319 label *label88
   320 label *label89
   321 label *label30
 
   336 label *label94
   337 set :shiftMask*retval 0
   338 jump *label91 always
-    * jump *label93 always
   339 label *label92
   340 label *label93
   341 op mul *tmp171 7 :shiftMask:shiftY
 
   354 op shr :shiftMask:keep 0b1111111 *tmp181
   355 jump *label100 lessThanEq :shiftMask:shiftX 0
   356 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
-    * jump *label101 always
   357 label *label100
   358 label *label101
   359 op shl *tmp185 :shiftMask:keep 7
 
   363 op shl *tmp187 :shiftMask:keep 21
   364 op or :shiftMask:keep :shiftMask:keep *tmp187
   365 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
-    * jump *label99 always
   366 label *label98
   367 label *label99
   368 set :shiftMask*retval :shiftMask:mask
 
   387 jump *label103 lessThanEq :excludeArea:overlapX 0
   388 label *label106
   389 jump *label103 lessThanEq :excludeArea:overlapY 0
-    * jump *label105 always
   390 label *label105
   391 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
   392 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
 
   400 jump *label110 greaterThanEq :createMatrixOfSize:i 7
   401 jump *label111 lessThan :createMatrixOfSize:i :createMatrixOfSize:height
   402 jump *label110 always
-    * jump *label112 always
   403 label *label111
   404 label *label112
   405 op shl *tmp210 :createMatrixOfSize:matrix 7
 
   455 op add *tmp226 24 *tmp225
   456 op add :findPossiblePlacement*retval *tmp226 :findPossiblePlacement:x
   457 jump *label114 always
-    * jump *label122 always
   458 label *label121
   459 label *label122
   460 op sub *tmp228 3 :findPossiblePlacement:width
   461 jump *label123 lessThanEq :findPossiblePlacement:x *tmp228
   462 jump *label120 always
-    * jump *label124 always
   463 label *label123
   464 label *label124
   465 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
 
   470 op sub *tmp231 3 :findPossiblePlacement:height
   471 jump *label125 lessThanEq :findPossiblePlacement:y *tmp231
   472 jump *label117 always
-    * jump *label126 always
   473 label *label125
   474 label *label126
   475 label *label116
 
   497 jump *label131 greaterThanEq :tryPlaceGenerator:shift 0
   498 set :tryPlaceGenerator*retval false
   499 jump *label127 always
-    * jump *label132 always
   500 label *label131
   501 label *label132
   502 op add *tmp239 :tryPlaceGenerator:centerX 0.5
 
   524 jump *label134 greaterThanEq :tryPlaceGenerator:shift 0
   525 set :tryPlaceGenerator*retval false
   526 jump *label127 always
-    * jump *label135 always
   527 label *label134
   528 label *label135
   529 op add *tmp251 :tryPlaceGenerator:centerX 0.5
 
   551 jump *label137 greaterThanEq :tryPlaceGenerator:shift 0
   552 set :tryPlaceGenerator*retval false
   553 jump *label127 always
-    * jump *label138 always
   554 label *label137
   555 label *label138
   556 op add .panelX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
 
   570 jump *label140 greaterThanEq :tryPlaceGenerator:shift 0
   571 set :tryPlaceGenerator*retval false
   572 jump *label127 always
-    * jump *label141 always
   573 label *label140
   574 label *label141
   575 op add .batteryX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
 
   585 op sub *tmp277 .generatorY .node1Y
   586 op len *tmp278 *tmp276 *tmp277
   587 jump *label144 greaterThan *tmp278 7
-    * jump *label146 always
   588 label *label146
   589 op sub *tmp280 .panelX .node1X
   590 op sub *tmp281 .panelY .node1Y
   591 op len *tmp282 *tmp280 *tmp281
   592 jump *label144 greaterThan *tmp282 6
-    * jump *label145 always
   593 label *label145
   594 op sub *tmp284 .batteryX .node1X
   595 op sub *tmp285 .batteryY .node1Y
 
   609 jump *label149 greaterThanEq :tryPlaceGenerator:shift 0
   610 set :tryPlaceGenerator*retval false
   611 jump *label127 always
-    * jump *label150 always
   612 label *label149
   613 label *label150
   614 op add .node2X :tryPlaceGenerator:centerX :tryPlaceGenerator:c
   615 op add .node2Y :tryPlaceGenerator:centerY :tryPlaceGenerator:r
   616 op shl *tmp294 1 :tryPlaceGenerator:shift
   617 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp294
-    * jump *label143 always
   618 label *label142
   619 label *label143
   620 set :tryPlaceGenerator*retval true
 
   762 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp337
   763 op shl *tmp338 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   764 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp338
-    * jump *label173 always
   765 label *label172
   766 label *label173
   767 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
 
   781 op add .containerY *tmp344 :layoutThoriumDrillAtLocation:r
   782 op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
   783 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp346
-    * jump *label176 always
   784 label *label175
   785 label *label176
   786 op or :layoutThoriumDrillAtLocation:nodeMask :layoutThoriumDrillAtLocation:terrainMask 437639987601635
 
   797 jump *label178 greaterThanEq :layoutThoriumDrillAtLocation:shift 0
   798 set :layoutThoriumDrillAtLocation*retval false
   799 jump *label165 always
-    * jump *label179 always
   800 label *label178
   801 label *label179
   802 op add .node1X .drillX :layoutThoriumDrillAtLocation:c
 
   816 jump *label180 equal :tryPlaceGenerator*retval false
   817 set :layoutThoriumDrillAtLocation*retval true
   818 jump *label165 always
-    * jump *label181 always
   819 label *label180
   820 label *label181
   821 set :layoutThoriumDrillAtLocation:sx 3
 
   866 jump *label192 equal :tryPlaceGenerator*retval false
   867 set :layoutThoriumDrillAtLocation*retval true
   868 jump *label165 always
-    * jump *label193 always
   869 label *label192
   870 label *label193
   871 label *label184
 
   894 jump *label196 notEqual :findDrillLocation*retval false
   895 set :layoutThoriumDrill*retval false
   896 jump *label195 always
-    * jump *label197 always
   897 label *label196
   898 label *label197
   899 setaddr :layoutThoriumDrillAtLocation*retaddr *label199 (h:*label199)

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-12 instructions):
 
    26 set :findDrillLocation:dy :findDrillLocation:capacity
    27 set :findDrillLocation:dx :findDrillLocation:dy
    28 set .mapSpots :findDrillLocation:dx
-    * op sub *tmp13 @mapw .coreX
-    * op sub *tmp14 @maph .coreY
-    * op max *tmp15 .coreX .coreY
+   29 op sub *tmp13 @mapw :findDrillLocation:x
+   30 op sub *tmp14 @maph :findDrillLocation:y
+   31 op max *tmp15 :findDrillLocation:x :findDrillLocation:y
    32 op max *tmp15 *tmp15 *tmp13
    33 op max *tmp15 *tmp15 *tmp14
    34 set :findDrillLocation:distanceLimit *tmp15
    35 set .angle 0
-    * set .mapProgress .angle
-    * set :moveTo:x .coreX
-    * set :moveTo:y .coreY
-    * set *tmp16 :moveTo:x
-    * set *tmp17 :moveTo:y
-    * set :moveTo.1:x *tmp16
-    * set :moveTo.1:y *tmp17
+   36 set .mapProgress 0
+   37 set :moveTo:x :findDrillLocation:x
+   38 set :moveTo:y :findDrillLocation:y
+   39 set *tmp16 .coreX
+   40 set *tmp17 .coreY
+   41 set :moveTo.1:x :moveTo:x
+   42 set :moveTo.1:y :moveTo:y
    43 set :moveTo.1:radius 6
    44 label *label26
-    * ucontrol within :moveTo.1:x :moveTo.1:y :moveTo.1:radius *tmp18
+   45 ucontrol within *tmp16 *tmp17 6 *tmp18
    46 jump *label28 notEqual *tmp18 false
-    * op sub *tmp20 :moveTo.1:radius 0.5
-    * ucontrol approach :moveTo.1:x :moveTo.1:y *tmp20
+   47 op sub *tmp20 6 0.5
+   48 ucontrol approach *tmp16 *tmp17 5.5
    49 label *label27
    50 jump *label26 always
    51 label *label28
    52 label *label25
    53 label *label24
-    * op div *tmp21 :findDrillLocation:distanceLimit 3.8197185279121366
+   54 op div *tmp21 *tmp15 3.8197185279121366
    55 op pow .mapTotal *tmp21 2
    56 set :findDrillLocation:oreX 0
    57 set :findDrillLocation:oreY 0
 
    74 op max .angle .angle @pi
    75 op mul .mapProgress .angle .angle
    76 label *label35
-    * jump *label37 greaterThanEq :locateOreAway:distance :locateOreAway:distanceLimit
+   77 jump *label37 greaterThanEq :locateOreAway:distance :findDrillLocation:distanceLimit
    78 op div :locateOreAway:a .angle @degToRad
    79 op sin *tmp34 :locateOreAway:a
    80 op mul *tmp35 *tmp34 :locateOreAway:distance
-    * op add *tmp36 .coreX *tmp35
+   81 op add *tmp36 :findDrillLocation:x *tmp35
    82 op sub *tmp37 @mapw 5
    83 set :limit:value *tmp36
    84 set :limit:low 5
    85 set :limit:high *tmp37
-    * op max *tmp39 :limit:value :limit:low
-    * op min *tmp38 *tmp39 :limit:high
+   86 op max *tmp39 *tmp36 5
+   87 op min *tmp38 *tmp39 *tmp37
    88 label *label38
    89 set :locateOreAway:lx *tmp38
    90 op cos *tmp41 :locateOreAway:a
    91 op mul *tmp42 *tmp41 :locateOreAway:distance
-    * op add *tmp43 .coreY *tmp42
+   92 op add *tmp43 :findDrillLocation:y *tmp42
    93 op sub *tmp44 @maph 5
    94 set :limit.1:value *tmp43
    95 set :limit.1:low 5
    96 set :limit.1:high *tmp44
-    * op max *tmp46 :limit.1:value :limit.1:low
-    * op min *tmp45 *tmp46 :limit.1:high
+   97 op max *tmp46 *tmp43 5
+   98 op min *tmp45 *tmp46 *tmp44
    99 label *label39
   100 set :locateOreAway:ly *tmp45
-    * set :moveTo.2:x :locateOreAway:lx
-    * set :moveTo.2:y :locateOreAway:ly
+  101 set :moveTo.2:x *tmp38
+  102 set :moveTo.2:y *tmp45
   103 set :moveTo.2:radius 5
   104 label *label41
-    * ucontrol within :moveTo.2:x :moveTo.2:y :moveTo.2:radius *tmp48
+  105 ucontrol within :locateOreAway:lx :locateOreAway:ly 5 *tmp48
   106 jump *label43 notEqual *tmp48 false
-    * op sub *tmp50 :moveTo.2:radius 0.5
-    * ucontrol approach :moveTo.2:x :moveTo.2:y *tmp50
+  107 op sub *tmp50 5 0.5
+  108 ucontrol approach :locateOreAway:lx :locateOreAway:ly 4.5
   109 label *label42
   110 jump *label41 always
   111 label *label43
 
   114 op add .angle .angle *tmp51
   115 op mul .mapProgress .angle .angle
   116 op mul :locateOreAway:distance 3.8197185279121366 .angle
-    * ulocate ore core true :locateOreAway:ore :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
+  117 ulocate ore core true :findDrillLocation:item :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
   118 jump *label44 notEqual *tmp54 false
   119 set *tmp28 false
   120 jump *label34 always
   121 label *label44
   122 label *label45
-    * op sub *tmp58 :locateOreAway:x .coreX
+  123 op sub *tmp58 :locateOreAway:x :findDrillLocation:x
   124 op abs *tmp59 *tmp58
-    * op sub *tmp60 :locateOreAway:y .coreY
+  125 op sub *tmp60 :locateOreAway:y :findDrillLocation:y
   126 op abs *tmp61 *tmp60
   127 op max :locateOreAway:coreDist *tmp59 *tmp61
-    * op sub *tmp63 :locateOreAway:x :locateOreAway:lx
-    * op sub *tmp64 :locateOreAway:y :locateOreAway:ly
+  128 op sub *tmp63 :locateOreAway:x *tmp38
+  129 op sub *tmp64 :locateOreAway:y *tmp45
   130 op len :locateOreAway:unitDist *tmp63 *tmp64
   131 jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x
   132 jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
 
   150 read :visited:lx bank1 *tmp78
   151 op add *tmp81 :visited:index 3
   152 read :visited:ly bank1 *tmp81
-    * op sub *tmp85 :visited:x :visited:lx
-    * op sub *tmp86 :visited:y :visited:ly
+  153 op sub *tmp85 :locateOreAway:x :visited:lx
+  154 op sub *tmp86 :locateOreAway:y :visited:ly
   155 op len *tmp87 *tmp85 *tmp86
   156 jump *label60 greaterThanEq *tmp87 7
   157 set *tmp74 true
 
   164 label *label59
   165 set *tmp74 false
   166 jump *label56 always
-    * set *tmp74 null
   167 label *label56
   168 jump *label54 notEqual *tmp74 false
-    * op div *tmp92 7.639437055824273 :locateOreAway:distance
+  169 op div *tmp92 2 .angle
   170 op add .angle .angle *tmp92
   171 op mul .mapProgress .angle .angle
   172 printflush message1
 
   183 label *label37
   184 set *tmp28 false
   185 jump *label34 always
-    * set *tmp28 null
   186 label *label34
   187 set :findDrillLocation:oreX :locateOreAway:x
   188 set :findDrillLocation:oreY :locateOreAway:y
 
   196 op add .mapSpots .mapSpots 1
   197 label *label62
   198 label *label63
-    * set :moveTo.3:x :findDrillLocation:oreX
-    * set :moveTo.3:y :findDrillLocation:oreY
-    * set *tmp100 :moveTo.3:x
-    * set *tmp101 :moveTo.3:y
-    * set :moveTo.4:x *tmp100
-    * set :moveTo.4:y *tmp101
+  199 set :moveTo.3:x :locateOreAway:x
+  200 set :moveTo.3:y :locateOreAway:y
+  201 set *tmp100 :findDrillLocation:oreX
+  202 set *tmp101 :findDrillLocation:oreY
+  203 set :moveTo.4:x :moveTo.3:x
+  204 set :moveTo.4:y :moveTo.3:y
   205 set :moveTo.4:radius 6
   206 label *label66
-    * ucontrol within :moveTo.4:x :moveTo.4:y :moveTo.4:radius *tmp102
+  207 ucontrol within *tmp100 *tmp101 6 *tmp102
   208 jump *label68 notEqual *tmp102 false
-    * op sub *tmp104 :moveTo.4:radius 0.5
-    * ucontrol approach :moveTo.4:x :moveTo.4:y *tmp104
+  209 op sub *tmp104 6 0.5
+  210 ucontrol approach *tmp100 *tmp101 5.5
   211 label *label67
   212 jump *label66 always
   213 label *label68
 
   231 read :findDrillLocation:score processor4 ":findBestPosition*retval"
   232 op add :findDrillLocation:newX :findDrillLocation:oreX :findDrillLocation:diffX
   233 op add :findDrillLocation:newY :findDrillLocation:oreY :findDrillLocation:diffY
-    * op sub *tmp119 :findDrillLocation:newX .coreX
+  234 op sub *tmp119 :findDrillLocation:newX :findDrillLocation:x
   235 op abs *tmp120 *tmp119
-    * op sub *tmp121 :findDrillLocation:newY .coreY
+  236 op sub *tmp121 :findDrillLocation:newY :findDrillLocation:y
   237 op abs *tmp122 *tmp121
   238 op max :findDrillLocation:coreDist *tmp120 *tmp122
   239 jump *label73 greaterThan :findDrillLocation:coreDist 8
 
   255 set :saveLocation:y :findDrillLocation:dy
   256 op add .count .count 1
   257 set *tmp132 .count
-    * sensor *tmp134 :saveLocation:item @id
-    * write *tmp134 bank1 *tmp132
+  258 sensor *tmp134 :findDrillLocation:item @id
+  259 write *tmp134 bank1 .count
   260 op add .count .count 1
-    * write :saveLocation:value bank1 .count
+  261 write :findDrillLocation:score bank1 .count
   262 op add .count .count 1
-    * write :saveLocation:x bank1 .count
+  263 write :findDrillLocation:dx bank1 .count
   264 op add .count .count 1
-    * write :saveLocation:y bank1 .count
+  265 write :findDrillLocation:dy bank1 .count
   266 op add .locations .locations 1
   267 label *label81
   268 ucontrol unbind
 
   304 set :saveLocation.1:y :findDrillLocation:bestY
   305 op add .count .count 1
   306 set *tmp156 .count
-    * sensor *tmp158 :saveLocation.1:item @id
-    * write *tmp158 bank1 *tmp156
+  307 sensor *tmp158 :findDrillLocation:item @id
+  308 write *tmp158 bank1 .count
   309 op add .count .count 1
-    * write :saveLocation.1:value bank1 .count
+  310 write :findDrillLocation:best bank1 .count
   311 op add .count .count 1
-    * write :saveLocation.1:x bank1 .count
+  312 write :findDrillLocation:bestX bank1 .count
   313 op add .count .count 1
-    * write :saveLocation.1:y bank1 .count
+  314 write :findDrillLocation:bestY bank1 .count
   315 op add .locations .locations 1
   316 label *label90
   317 label *label88
 
   349 label *label97
   350 jump *label98 equal :shiftMask:shiftX 0
   351 op abs *tmp181 :shiftMask:shiftX
-    * op shr :shiftMask:keep 0b1111111 *tmp181
+  352 op shr :shiftMask:keep 0b1111111 *tmp166
   353 jump *label100 lessThanEq :shiftMask:shiftX 0
   354 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
   355 label *label100
 
   365 label *label99
   366 set :shiftMask*retval :shiftMask:mask
   367 jump *label91 always
-    * set :shiftMask*retval null
   368 label *label91
   369 return :shiftMask*retaddr
   370 end
   371 label *label14
   372 op add *tmp188 :excludeArea:areaWidth 7
-    * op add *tmp189 *tmp188 1
+  373 op add *tmp189 :excludeArea:areaWidth 8
   374 op idiv *tmp190 *tmp189 2
   375 op sub *tmp191 :excludeArea:maskX :excludeArea:areaX
   376 op abs *tmp192 *tmp191
   377 op sub :excludeArea:overlapX *tmp190 *tmp192
   378 op add *tmp194 :excludeArea:areaHeight 7
-    * op add *tmp195 *tmp194 1
+  379 op add *tmp195 :excludeArea:areaHeight 8
   380 op idiv *tmp196 *tmp195 2
   381 op sub *tmp197 :excludeArea:maskY :excludeArea:areaY
   382 op abs *tmp198 *tmp197
 
   389 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
   390 set :createMatrixOfSize:width :excludeArea:blockSizeX
   391 set :createMatrixOfSize:height :excludeArea:blockSizeY
-    * op shl *tmp206 1 :createMatrixOfSize:width
+  392 op shl *tmp206 1 :excludeArea:blockSizeX
   393 op sub :createMatrixOfSize:row *tmp206 1
   394 set :createMatrixOfSize:matrix :createMatrixOfSize:row
   395 set :createMatrixOfSize:i 1
   396 label *label108
   397 jump *label110 greaterThanEq :createMatrixOfSize:i 7
-    * jump *label111 lessThan :createMatrixOfSize:i :createMatrixOfSize:height
+  398 jump *label111 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
   399 jump *label110 always
   400 label *label111
   401 label *label112
 
   407 label *label110
   408 set *tmp205 :createMatrixOfSize:matrix
   409 jump *label107 always
-    * set *tmp205 null
   410 label *label107
-    * set :excludeArea:blocked *tmp205
+  411 set :excludeArea:blocked :createMatrixOfSize:matrix
   412 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX
   413 op sub *tmp213 7 :excludeArea:blockSizeX
   414 op mul :excludeArea:shiftX *tmp212 *tmp213
   415 op lessThan *tmp215 :excludeArea:maskY :excludeArea:areaY
   416 op sub *tmp216 7 :excludeArea:blockSizeY
   417 op mul :excludeArea:shiftY *tmp215 *tmp216
-    * set :shiftMask:mask :excludeArea:blocked
+  418 set :shiftMask:mask *tmp205
   419 set :shiftMask:shiftX :excludeArea:shiftX
   420 set :shiftMask:shiftY :excludeArea:shiftY
   421 setaddr :shiftMask*retaddr *label113 (h:*label113)
   422 call *label13 *invalid :shiftMask*retval (m:*label113) (h:*label113)
   423 label *label113
   424 set :excludeArea:shifted :shiftMask*retval
-    * op or :excludeArea*retval :excludeArea:mask :excludeArea:shifted
+  425 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   426 jump *label102 always
-    * set *tmp202 null
   427 jump *label104 always
   428 label *label103
   429 set :excludeArea*retval :excludeArea:mask
   430 jump *label102 always
-    * set *tmp202 null
   431 label *label104
-    * set :excludeArea*retval *tmp202
+  432 set :excludeArea*retval null
   433 label *label102
   434 return :excludeArea*retaddr
   435 end
 
   472 label *label117
   473 set :findPossiblePlacement*retval -1
   474 jump *label114 always
-    * set :findPossiblePlacement*retval null
   475 label *label114
   476 return :findPossiblePlacement*retaddr
   477 end
 
   486 set :tryPlaceGenerator:c :findPossiblePlacement:x
   487 set :tryPlaceGenerator:r :findPossiblePlacement:y
   488 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label129 lessThan :tryPlaceGenerator:shift 0
-    * jump *label131 greaterThanEq :tryPlaceGenerator:shift 0
+  489 jump *label129 lessThan :findPossiblePlacement*retval 0
+  490 jump *label131 greaterThanEq :findPossiblePlacement*retval 0
   491 set :tryPlaceGenerator*retval false
   492 jump *label127 always
   493 label *label131
   494 label *label132
   495 op add *tmp239 :tryPlaceGenerator:centerX 0.5
-    * op add .water2X *tmp239 :tryPlaceGenerator:c
+  496 op add .water2X *tmp239 :findPossiblePlacement:x
   497 op add *tmp241 :tryPlaceGenerator:centerY 0.5
-    * op add .water2Y *tmp241 :tryPlaceGenerator:r
+  498 op add .water2Y *tmp241 :findPossiblePlacement:y
   499 op add *tmp243 :tryPlaceGenerator:centerX 0.5
-    * op add .generatorX *tmp243 :tryPlaceGenerator:c
+  500 op add .generatorX *tmp239 :findPossiblePlacement:x
   501 op add *tmp245 :tryPlaceGenerator:centerY 2.5
-    * op add .generatorY *tmp245 :tryPlaceGenerator:r
-    * op shl *tmp247 :tryPlaceGenerator:generatorVertical :tryPlaceGenerator:shift
+  502 op add .generatorY *tmp245 :findPossiblePlacement:y
+  503 op shl *tmp247 :tryPlaceGenerator:generatorVertical :findPossiblePlacement*retval
   504 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp247
   505 jump *label130 always
   506 label *label129
 
   514 set :tryPlaceGenerator:c :findPossiblePlacement:x
   515 set :tryPlaceGenerator:r :findPossiblePlacement:y
   516 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label134 greaterThanEq :tryPlaceGenerator:shift 0
+  517 jump *label134 greaterThanEq :findPossiblePlacement*retval 0
   518 set :tryPlaceGenerator*retval false
   519 jump *label127 always
   520 label *label134
   521 label *label135
   522 op add *tmp251 :tryPlaceGenerator:centerX 0.5
-    * op add .water2X *tmp251 :tryPlaceGenerator:c
+  523 op add .water2X *tmp251 :findPossiblePlacement:x
   524 op add *tmp253 :tryPlaceGenerator:centerY 0.5
-    * op add .water2Y *tmp253 :tryPlaceGenerator:r
+  525 op add .water2Y *tmp253 :findPossiblePlacement:y
   526 op add *tmp255 :tryPlaceGenerator:centerX 2.5
-    * op add .generatorX *tmp255 :tryPlaceGenerator:c
+  527 op add .generatorX *tmp255 :findPossiblePlacement:x
   528 op add *tmp257 :tryPlaceGenerator:centerY 0.5
-    * op add .generatorY *tmp257 :tryPlaceGenerator:r
-    * op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :tryPlaceGenerator:shift
+  529 op add .generatorY *tmp253 :findPossiblePlacement:y
+  530 op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
   531 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
   532 label *label130
   533 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask 437639987601635
 
   541 set :tryPlaceGenerator:c :findPossiblePlacement:x
   542 set :tryPlaceGenerator:r :findPossiblePlacement:y
   543 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label137 greaterThanEq :tryPlaceGenerator:shift 0
+  544 jump *label137 greaterThanEq :findPossiblePlacement*retval 0
   545 set :tryPlaceGenerator*retval false
   546 jump *label127 always
   547 label *label137
   548 label *label138
-    * op add .panelX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * op add .panelY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * op shl *tmp265 1 :tryPlaceGenerator:shift
+  549 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  550 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  551 op shl *tmp265 1 :findPossiblePlacement*retval
   552 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp265
   553 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
   554 set :findPossiblePlacement:placementMask 1
 
   560 set :tryPlaceGenerator:c :findPossiblePlacement:x
   561 set :tryPlaceGenerator:r :findPossiblePlacement:y
   562 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label140 greaterThanEq :tryPlaceGenerator:shift 0
+  563 jump *label140 greaterThanEq :findPossiblePlacement*retval 0
   564 set :tryPlaceGenerator*retval false
   565 jump *label127 always
   566 label *label140
   567 label *label141
-    * op add .batteryX :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * op add .batteryY :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * op shl *tmp271 1 :tryPlaceGenerator:shift
+  568 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  569 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  570 op shl *tmp271 1 :findPossiblePlacement*retval
   571 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp271
   572 op sub *tmp272 .water2X .node1X
   573 op sub *tmp273 .water2Y .node1Y
 
   599 set :tryPlaceGenerator:c :findPossiblePlacement:x
   600 set :tryPlaceGenerator:r :findPossiblePlacement:y
   601 set :tryPlaceGenerator:shift :findPossiblePlacement*retval
-    * jump *label149 greaterThanEq :tryPlaceGenerator:shift 0
+  602 jump *label149 greaterThanEq :findPossiblePlacement*retval 0
   603 set :tryPlaceGenerator*retval false
   604 jump *label127 always
   605 label *label149
   606 label *label150
-    * op add .node2X :tryPlaceGenerator:centerX :tryPlaceGenerator:c
-    * op add .node2Y :tryPlaceGenerator:centerY :tryPlaceGenerator:r
-    * op shl *tmp294 1 :tryPlaceGenerator:shift
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp294
+  607 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  608 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  609 op shl *tmp294 1 :findPossiblePlacement*retval
   610 label *label142
   611 label *label143
   612 set :tryPlaceGenerator*retval true
   613 jump *label127 always
-    * set :tryPlaceGenerator*retval null
   614 label *label127
   615 return :tryPlaceGenerator*retaddr
   616 end
 
   629 label *label154
   630 set :createBlockMaskRow*retval :createBlockMaskRow:result
   631 jump *label151 always
-    * set :createBlockMaskRow*retval null
   632 label *label151
   633 return :createBlockMaskRow*retaddr
   634 end
 
   641 set :createAdjacentMask:x :createCombinedMask:x
   642 set :createAdjacentMask:y :createCombinedMask:y
   643 set :createAdjacentMask:result 0
-    * op add *tmp305 :createAdjacentMask:y 4
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  644 op add *tmp305 :createCombinedMask:y 4
+  645 set :createBlockMaskRow:x :createCombinedMask:x
   646 set :createBlockMaskRow:y *tmp305
   647 setaddr :createBlockMaskRow*retaddr *label157 (h:*label157)
   648 call *label17 *invalid :createBlockMaskRow*retval (m:*label157) (h:*label157)
 
   669 op or *tmp312 :createAdjacentMask:row2 *tmp311
   670 op shr *tmp313 :createAdjacentMask:row1 1
   671 op or *tmp314 *tmp312 *tmp313
-    * op or :createAdjacentMask:mask *tmp314 :createAdjacentMask:row0
+  672 op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow*retval
   673 op shl *tmp316 :createAdjacentMask:result 7
   674 op and *tmp317 :createAdjacentMask:mask 0xFE
   675 op or :createAdjacentMask:result *tmp316 *tmp317
   676 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createAdjacentMask:row0
+  677 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   678 label *label160
   679 op sub :createAdjacentMask:r :createAdjacentMask:r 1
   680 jump *label159 always
 
   687 read *tmp320 processor4 ":createTerrainMask*finished"
   688 jump *label163 equal *tmp320 false
   689 read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
-    * op or :excludeArea:mask :createCombinedMask:adjacentMask :createCombinedMask:terrainMask
+  690 op or :excludeArea:mask *tmp304 :createCombinedMask:terrainMask
   691 set :excludeArea:maskX :createCombinedMask:x
   692 set :excludeArea:maskY :createCombinedMask:y
   693 set :excludeArea:areaX .coreX
 
   699 label *label164
   700 set :createCombinedMask*retval :excludeArea*retval
   701 jump *label155 always
-    * set :createCombinedMask*retval null
   702 label *label155
   703 return :createCombinedMask*retaddr
   704 end
 
   715 set :moveTo.5:y .drillY
   716 set :moveTo.5:radius 1
   717 label *label167
-    * ucontrol within :moveTo.5:x :moveTo.5:y :moveTo.5:radius *tmp324
+  718 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324
   719 jump *label169 notEqual *tmp324 false
-    * op sub *tmp326 :moveTo.5:radius 0.5
-    * ucontrol approach :moveTo.5:x :moveTo.5:y *tmp326
+  720 op sub *tmp326 1 0.5
+  721 ucontrol approach :moveTo.5:x :moveTo.5:y 0.5
   722 label *label168
   723 jump *label167 always
   724 label *label169
 
   729 call *label18 *invalid :createCombinedMask*retval (m:*label170) (h:*label170)
   730 label *label170
   731 set :layoutThoriumDrillAtLocation:plainTerrainMask :createCombinedMask*retval
-    * op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:plainTerrainMask 7575371776
+  732 op or :layoutThoriumDrillAtLocation:terrainMask :createCombinedMask*retval 7575371776
   733 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   734 set :layoutThoriumDrillAtLocation:mask2x2 387
   735 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
-    * set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
+  736 set :findPossiblePlacement:placementMask 387
   737 set :findPossiblePlacement:width 2
   738 set :findPossiblePlacement:height 2
   739 setaddr :findPossiblePlacement*retaddr *label171 (h:*label171)
 
   742 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   743 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   744 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * jump *label172 lessThan :layoutThoriumDrillAtLocation:shift 0
+  745 jump *label172 lessThan :findPossiblePlacement*retval 0
   746 op add *tmp333 .drillX 0.5
-    * op add .water1X *tmp333 :layoutThoriumDrillAtLocation:c
+  747 op add .water1X *tmp333 :findPossiblePlacement:x
   748 op add *tmp335 .drillY 0.5
-    * op add .water1Y *tmp335 :layoutThoriumDrillAtLocation:r
-    * op shl *tmp337 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
+  749 op add .water1Y *tmp335 :findPossiblePlacement:y
+  750 op shl *tmp337 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   751 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp337
-    * op shl *tmp338 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
-    * op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp338
+  752 op shl *tmp338 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
+  753 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp337
   754 label *label172
   755 label *label173
   756 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
 
   763 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   764 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   765 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * jump *label175 lessThan :layoutThoriumDrillAtLocation:shift 0
+  766 jump *label175 lessThan :findPossiblePlacement*retval 0
   767 op add *tmp342 .drillX 0.5
-    * op add .containerX *tmp342 :layoutThoriumDrillAtLocation:c
+  768 op add .containerX *tmp342 :findPossiblePlacement:x
   769 op add *tmp344 .drillY 0.5
-    * op add .containerY *tmp344 :layoutThoriumDrillAtLocation:r
-    * op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :layoutThoriumDrillAtLocation:shift
+  770 op add .containerY *tmp344 :findPossiblePlacement:y
+  771 op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   772 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp346
   773 label *label175
   774 label *label176
 
   783 set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
   784 set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
   785 set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
-    * jump *label178 greaterThanEq :layoutThoriumDrillAtLocation:shift 0
+  786 jump *label178 greaterThanEq :findPossiblePlacement*retval 0
   787 set :layoutThoriumDrillAtLocation*retval false
   788 jump *label165 always
   789 label *label178
   790 label *label179
-    * op add .node1X .drillX :layoutThoriumDrillAtLocation:c
-    * op add .node1Y .drillY :layoutThoriumDrillAtLocation:r
-    * op shl *tmp353 1 :layoutThoriumDrillAtLocation:shift
+  791 op add .node1X .drillX :findPossiblePlacement:x
+  792 op add .node1Y .drillY :findPossiblePlacement:y
+  793 op shl *tmp353 1 :findPossiblePlacement*retval
   794 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp353
   795 set :layoutThoriumDrillAtLocation:generatorHorizontal 1935
   796 set :layoutThoriumDrillAtLocation:generatorVertical 6340995
   797 set :tryPlaceGenerator:centerX .drillX
   798 set :tryPlaceGenerator:centerY .drillY
   799 set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:terrainMask
-    * set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDrillAtLocation:generatorHorizontal
-    * set :tryPlaceGenerator:generatorVertical :layoutThoriumDrillAtLocation:generatorVertical
+  800 set :tryPlaceGenerator:generatorHorizontal 1935
+  801 set :tryPlaceGenerator:generatorVertical 6340995
   802 setaddr :tryPlaceGenerator*retaddr *label182 (h:*label182)
   803 call *label16 *invalid :tryPlaceGenerator*retval (m:*label182) (h:*label182)
   804 label *label182
 
   841 call *label13 *invalid :shiftMask*retval (m:*label191) (h:*label191)
   842 label *label191
   843 set :layoutThoriumDrillAtLocation:shiftedMask :shiftMask*retval
-    * op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :layoutThoriumDrillAtLocation:shiftedMask
+  844 op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :shiftMask*retval
   845 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
   846 op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy
   847 set :tryPlaceGenerator:centerX *tmp362
 
   863 label *label185
   864 set :layoutThoriumDrillAtLocation*retval true
   865 jump *label165 always
-    * set :layoutThoriumDrillAtLocation*retval null
   866 label *label165
   867 return :layoutThoriumDrillAtLocation*retaddr
   868 end

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-70 instructions):
 
    36 set .mapProgress 0
    37 set :moveTo:x :findDrillLocation:x
    38 set :moveTo:y :findDrillLocation:y
-    * set *tmp16 .coreX
-    * set *tmp17 .coreY
-    * set :moveTo.1:x :moveTo:x
-    * set :moveTo.1:y :moveTo:y
-    * set :moveTo.1:radius 6
+   39 set *tmp16 :findDrillLocation:x
+   40 set *tmp17 :findDrillLocation:y
+   41 set :moveTo.1:x :findDrillLocation:x
+   42 set :moveTo.1:y :findDrillLocation:y
    43 label *label26
-    * ucontrol within *tmp16 *tmp17 6 *tmp18
+   44 ucontrol within .coreX .coreY 6 *tmp18
    45 jump *label28 notEqual *tmp18 false
-    * op sub *tmp20 6 0.5
-    * ucontrol approach *tmp16 *tmp17 5.5
+   46 ucontrol approach .coreX .coreY 5.5
    47 label *label27
    48 jump *label26 always
    49 label *label28
 
    62 op min :findDrillLocation:distanceLimit :findDrillLocation:distanceLimit :findDrillLocation:maxDistance
    63 op div *tmp26 :findDrillLocation:distanceLimit 3.8197185279121366
    64 op pow .mapTotal *tmp26 2
-    * set :locateOreAway:ore :findDrillLocation:item
    65 set :locateOreAway:x :findDrillLocation:oreX
    66 set :locateOreAway:y :findDrillLocation:oreY
-    * set :locateOreAway:distanceLimit :findDrillLocation:distanceLimit
    67 op mul :locateOreAway:distance 3.8197185279121366 .angle
    68 set :locateOreAway:lastX -1
    69 set :locateOreAway:lastY -1
 
    76 op mul *tmp35 *tmp34 :locateOreAway:distance
    77 op add *tmp36 :findDrillLocation:x *tmp35
    78 op sub *tmp37 @mapw 5
-    * set :limit:value *tmp36
-    * set :limit:low 5
-    * set :limit:high *tmp37
    79 op max *tmp39 *tmp36 5
    80 op min *tmp38 *tmp39 *tmp37
    81 label *label38
 
    84 op mul *tmp42 *tmp41 :locateOreAway:distance
    85 op add *tmp43 :findDrillLocation:y *tmp42
    86 op sub *tmp44 @maph 5
-    * set :limit.1:value *tmp43
-    * set :limit.1:low 5
-    * set :limit.1:high *tmp44
    87 op max *tmp46 *tmp43 5
    88 op min *tmp45 *tmp46 *tmp44
    89 label *label39
    90 set :locateOreAway:ly *tmp45
-    * set :moveTo.2:x *tmp38
-    * set :moveTo.2:y *tmp45
-    * set :moveTo.2:radius 5
    91 label *label41
-    * ucontrol within :locateOreAway:lx :locateOreAway:ly 5 *tmp48
+   92 ucontrol within *tmp38 *tmp45 5 *tmp48
    93 jump *label43 notEqual *tmp48 false
-    * op sub *tmp50 5 0.5
-    * ucontrol approach :locateOreAway:lx :locateOreAway:ly 4.5
+   94 ucontrol approach *tmp38 *tmp45 4.5
    95 label *label42
    96 jump *label41 always
    97 label *label43
 
   125 jump *label52 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
   126 set :locateOreAway:lastX :locateOreAway:x
   127 set :locateOreAway:lastY :locateOreAway:y
-    * set :visited:x :locateOreAway:x
-    * set :visited:y :locateOreAway:y
   128 set *tmp75 .locations
   129 set :visited:i .locationsStart
   130 label *label57
 
   182 label *label63
   183 set :moveTo.3:x :locateOreAway:x
   184 set :moveTo.3:y :locateOreAway:y
-    * set *tmp100 :findDrillLocation:oreX
-    * set *tmp101 :findDrillLocation:oreY
-    * set :moveTo.4:x :moveTo.3:x
-    * set :moveTo.4:y :moveTo.3:y
-    * set :moveTo.4:radius 6
+  185 set *tmp100 :locateOreAway:x
+  186 set *tmp101 :locateOreAway:y
+  187 set :moveTo.4:x :locateOreAway:x
+  188 set :moveTo.4:y :locateOreAway:y
   189 label *label66
-    * ucontrol within *tmp100 *tmp101 6 *tmp102
+  190 ucontrol within :findDrillLocation:oreX :findDrillLocation:oreY 6 *tmp102
   191 jump *label68 notEqual *tmp102 false
-    * op sub *tmp104 6 0.5
-    * ucontrol approach *tmp100 *tmp101 5.5
+  192 ucontrol approach :findDrillLocation:oreX :findDrillLocation:oreY 5.5
   193 label *label67
   194 jump *label66 always
   195 label *label68
 
   231 label *label77
   232 label *label78
   233 jump *label79 lessThan :findDrillLocation:capacity :findDrillLocation:limit
-    * set :saveLocation:item :findDrillLocation:item
-    * set :saveLocation:value :findDrillLocation:score
-    * set :saveLocation:x :findDrillLocation:dx
-    * set :saveLocation:y :findDrillLocation:dy
   234 op add .count .count 1
-    * set *tmp132 .count
   235 sensor *tmp134 :findDrillLocation:item @id
   236 write *tmp134 bank1 .count
   237 op add .count .count 1
 
   275 jump *label69 always
   276 label *label71
   277 jump *label88 lessThan :findDrillLocation:best 0
-    * set :saveLocation.1:item :findDrillLocation:item
-    * set :saveLocation.1:value :findDrillLocation:best
-    * set :saveLocation.1:x :findDrillLocation:bestX
-    * set :saveLocation.1:y :findDrillLocation:bestY
   278 op add .count .count 1
-    * set *tmp156 .count
   279 sensor *tmp158 :findDrillLocation:item @id
   280 write *tmp158 bank1 .count
   281 op add .count .count 1
 
   320 op shr :shiftMask:mask :shiftMask:mask *tmp178
   321 label *label97
   322 jump *label98 equal :shiftMask:shiftX 0
-    * op abs *tmp181 :shiftMask:shiftX
   323 op shr :shiftMask:keep 0b1111111 *tmp166
   324 jump *label100 lessThanEq :shiftMask:shiftX 0
   325 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
 
   340 return :shiftMask*retaddr
   341 end
   342 label *label14
-    * op add *tmp188 :excludeArea:areaWidth 7
   343 op add *tmp189 :excludeArea:areaWidth 8
   344 op idiv *tmp190 *tmp189 2
   345 op sub *tmp191 :excludeArea:maskX :excludeArea:areaX
   346 op abs *tmp192 *tmp191
   347 op sub :excludeArea:overlapX *tmp190 *tmp192
-    * op add *tmp194 :excludeArea:areaHeight 7
   348 op add *tmp195 :excludeArea:areaHeight 8
   349 op idiv *tmp196 *tmp195 2
   350 op sub *tmp197 :excludeArea:maskY :excludeArea:areaY
 
   356 label *label105
   357 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
   358 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
-    * set :createMatrixOfSize:width :excludeArea:blockSizeX
-    * set :createMatrixOfSize:height :excludeArea:blockSizeY
   359 op shl *tmp206 1 :excludeArea:blockSizeX
   360 op sub :createMatrixOfSize:row *tmp206 1
   361 set :createMatrixOfSize:matrix :createMatrixOfSize:row
 
   375 set *tmp205 :createMatrixOfSize:matrix
   376 jump *label107 always
   377 label *label107
-    * set :excludeArea:blocked :createMatrixOfSize:matrix
   378 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX
   379 op sub *tmp213 7 :excludeArea:blockSizeX
   380 op mul :excludeArea:shiftX *tmp212 *tmp213
   381 op lessThan *tmp215 :excludeArea:maskY :excludeArea:areaY
   382 op sub *tmp216 7 :excludeArea:blockSizeY
   383 op mul :excludeArea:shiftY *tmp215 *tmp216
-    * set :shiftMask:mask *tmp205
+  384 set :shiftMask:mask :createMatrixOfSize:matrix
   385 set :shiftMask:shiftX :excludeArea:shiftX
   386 set :shiftMask:shiftY :excludeArea:shiftY
   387 setaddr :shiftMask*retaddr *label113 (h:*label113)
   388 call *label13 *invalid :shiftMask*retval (m:*label113) (h:*label113)
   389 label *label113
-    * set :excludeArea:shifted :shiftMask*retval
   390 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   391 jump *label102 always
   392 jump *label104 always
 
   394 set :excludeArea*retval :excludeArea:mask
   395 jump *label102 always
   396 label *label104
-    * set :excludeArea*retval null
   397 label *label102
   398 return :excludeArea*retaddr
   399 end
 
   447 setaddr :findPossiblePlacement*retaddr *label128 (h:*label128)
   448 call *label15 *invalid :findPossiblePlacement*retval (m:*label128) (h:*label128)
   449 label *label128
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   450 jump *label129 lessThan :findPossiblePlacement*retval 0
   451 jump *label131 greaterThanEq :findPossiblePlacement*retval 0
   452 set :tryPlaceGenerator*retval false
 
   457 op add .water2X *tmp239 :findPossiblePlacement:x
   458 op add *tmp241 :tryPlaceGenerator:centerY 0.5
   459 op add .water2Y *tmp241 :findPossiblePlacement:y
-    * op add *tmp243 :tryPlaceGenerator:centerX 0.5
   460 op add .generatorX *tmp239 :findPossiblePlacement:x
   461 op add *tmp245 :tryPlaceGenerator:centerY 2.5
   462 op add .generatorY *tmp245 :findPossiblePlacement:y
 
   471 setaddr :findPossiblePlacement*retaddr *label133 (h:*label133)
   472 call *label15 *invalid :findPossiblePlacement*retval (m:*label133) (h:*label133)
   473 label *label133
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   474 jump *label134 greaterThanEq :findPossiblePlacement*retval 0
   475 set :tryPlaceGenerator*retval false
   476 jump *label127 always
 
   482 op add .water2Y *tmp253 :findPossiblePlacement:y
   483 op add *tmp255 :tryPlaceGenerator:centerX 2.5
   484 op add .generatorX *tmp255 :findPossiblePlacement:x
-    * op add *tmp257 :tryPlaceGenerator:centerY 0.5
   485 op add .generatorY *tmp253 :findPossiblePlacement:y
   486 op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
   487 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
 
   494 setaddr :findPossiblePlacement*retaddr *label136 (h:*label136)
   495 call *label15 *invalid :findPossiblePlacement*retval (m:*label136) (h:*label136)
   496 label *label136
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   497 jump *label137 greaterThanEq :findPossiblePlacement*retval 0
   498 set :tryPlaceGenerator*retval false
   499 jump *label127 always
 
   510 setaddr :findPossiblePlacement*retaddr *label139 (h:*label139)
   511 call *label15 *invalid :findPossiblePlacement*retval (m:*label139) (h:*label139)
   512 label *label139
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   513 jump *label140 greaterThanEq :findPossiblePlacement*retval 0
   514 set :tryPlaceGenerator*retval false
   515 jump *label127 always
 
   546 setaddr :findPossiblePlacement*retaddr *label148 (h:*label148)
   547 call *label15 *invalid :findPossiblePlacement*retval (m:*label148) (h:*label148)
   548 label *label148
-    * set :tryPlaceGenerator:c :findPossiblePlacement:x
-    * set :tryPlaceGenerator:r :findPossiblePlacement:y
-    * set :tryPlaceGenerator:shift :findPossiblePlacement*retval
   549 jump *label149 greaterThanEq :findPossiblePlacement*retval 0
   550 set :tryPlaceGenerator*retval false
   551 jump *label127 always
 
   553 label *label150
   554 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
   555 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
-    * op shl *tmp294 1 :findPossiblePlacement*retval
   556 label *label142
   557 label *label143
   558 set :tryPlaceGenerator*retval true
 
   610 setaddr :createBlockMaskRow*retaddr *label162 (h:*label162)
   611 call *label17 *invalid :createBlockMaskRow*retval (m:*label162) (h:*label162)
   612 label *label162
-    * set :createAdjacentMask:row0 :createBlockMaskRow*retval
   613 op shl *tmp311 :createAdjacentMask:row1 1
   614 op or *tmp312 :createAdjacentMask:row2 *tmp311
   615 op shr *tmp313 :createAdjacentMask:row1 1
 
   626 label *label161
   627 op shr *tmp304 :createAdjacentMask:result 1
   628 label *label156
-    * set :createCombinedMask:adjacentMask *tmp304
   629 label *label163
   630 wait 1e-15
   631 read *tmp320 processor4 ":createTerrainMask*finished"
 
   657 set .water1X -1
   658 set :moveTo.5:x .drillX
   659 set :moveTo.5:y .drillY
-    * set :moveTo.5:radius 1
   660 label *label167
   661 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324
   662 jump *label169 notEqual *tmp324 false
-    * op sub *tmp326 1 0.5
   663 ucontrol approach :moveTo.5:x :moveTo.5:y 0.5
   664 label *label168
   665 jump *label167 always
 
   670 setaddr :createCombinedMask*retaddr *label170 (h:*label170)
   671 call *label18 *invalid :createCombinedMask*retval (m:*label170) (h:*label170)
   672 label *label170
-    * set :layoutThoriumDrillAtLocation:plainTerrainMask :createCombinedMask*retval
   673 op or :layoutThoriumDrillAtLocation:terrainMask :createCombinedMask*retval 7575371776
   674 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   675 set :layoutThoriumDrillAtLocation:mask2x2 387
 
   680 setaddr :findPossiblePlacement*retaddr *label171 (h:*label171)
   681 call *label15 *invalid :findPossiblePlacement*retval (m:*label171) (h:*label171)
   682 label *label171
-    * set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
-    * set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   683 jump *label172 lessThan :findPossiblePlacement*retval 0
   684 op add *tmp333 .drillX 0.5
   685 op add .water1X *tmp333 :findPossiblePlacement:x
 
   687 op add .water1Y *tmp335 :findPossiblePlacement:y
   688 op shl *tmp337 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   689 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp337
-    * op shl *tmp338 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   690 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp337
   691 label *label172
   692 label *label173
 
   697 setaddr :findPossiblePlacement*retaddr *label174 (h:*label174)
   698 call *label15 *invalid :findPossiblePlacement*retval (m:*label174) (h:*label174)
   699 label *label174
-    * set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
-    * set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   700 jump *label175 lessThan :findPossiblePlacement*retval 0
   701 op add *tmp342 .drillX 0.5
   702 op add .containerX *tmp342 :findPossiblePlacement:x
 
   714 setaddr :findPossiblePlacement*retaddr *label177 (h:*label177)
   715 call *label15 *invalid :findPossiblePlacement*retval (m:*label177) (h:*label177)
   716 label *label177
-    * set :layoutThoriumDrillAtLocation:c :findPossiblePlacement:x
-    * set :layoutThoriumDrillAtLocation:r :findPossiblePlacement:y
-    * set :layoutThoriumDrillAtLocation:shift :findPossiblePlacement*retval
   717 jump *label178 greaterThanEq :findPossiblePlacement*retval 0
   718 set :layoutThoriumDrillAtLocation*retval false
   719 jump *label165 always
 
   771 setaddr :shiftMask*retaddr *label191 (h:*label191)
   772 call *label13 *invalid :shiftMask*retval (m:*label191) (h:*label191)
   773 label *label191
-    * set :layoutThoriumDrillAtLocation:shiftedMask :shiftMask*retval
   774 op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :shiftMask*retval
   775 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
   776 op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-15 instructions):
 
    34 set :findDrillLocation:distanceLimit *tmp15
    35 set .angle 0
    36 set .mapProgress 0
-    * set :moveTo:x :findDrillLocation:x
-    * set :moveTo:y :findDrillLocation:y
-    * set *tmp16 :findDrillLocation:x
-    * set *tmp17 :findDrillLocation:y
-    * set :moveTo.1:x :findDrillLocation:x
-    * set :moveTo.1:y :findDrillLocation:y
    37 label *label26
-    * ucontrol within .coreX .coreY 6 *tmp18
+   38 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
    39 jump *label28 notEqual *tmp18 false
-    * ucontrol approach .coreX .coreY 5.5
+   40 ucontrol approach :findDrillLocation:x :findDrillLocation:y 5.5
    41 label *label27
    42 jump *label26 always
    43 label *label28
 
    73 op max *tmp39 *tmp36 5
    74 op min *tmp38 *tmp39 *tmp37
    75 label *label38
-    * set :locateOreAway:lx *tmp38
    76 op cos *tmp41 :locateOreAway:a
    77 op mul *tmp42 *tmp41 :locateOreAway:distance
    78 op add *tmp43 :findDrillLocation:y *tmp42
 
    80 op max *tmp46 *tmp43 5
    81 op min *tmp45 *tmp46 *tmp44
    82 label *label39
-    * set :locateOreAway:ly *tmp45
    83 label *label41
    84 ucontrol within *tmp38 *tmp45 5 *tmp48
    85 jump *label43 notEqual *tmp48 false
 
   172 op add .mapSpots .mapSpots 1
   173 label *label62
   174 label *label63
-    * set :moveTo.3:x :locateOreAway:x
-    * set :moveTo.3:y :locateOreAway:y
-    * set *tmp100 :locateOreAway:x
-    * set *tmp101 :locateOreAway:y
-    * set :moveTo.4:x :locateOreAway:x
-    * set :moveTo.4:y :locateOreAway:y
   175 label *label66
-    * ucontrol within :findDrillLocation:oreX :findDrillLocation:oreY 6 *tmp102
+  176 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102
   177 jump *label68 notEqual *tmp102 false
-    * ucontrol approach :findDrillLocation:oreX :findDrillLocation:oreY 5.5
+  178 ucontrol approach :locateOreAway:x :locateOreAway:y 5.5
   179 label *label67
   180 jump *label66 always
   181 label *label68
 
   358 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
   359 jump *label108 always
   360 label *label110
-    * set *tmp205 :createMatrixOfSize:matrix
   361 jump *label107 always
   362 label *label107
   363 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX

Modifications by Iterated phase, Loop Rotation, pass 1, iteration 1:
 
    65 op mul .mapProgress .angle .angle
    66 label *label35
    67 jump *label37 greaterThanEq :locateOreAway:distance :findDrillLocation:distanceLimit
+   68 label *label205
    69 op div :locateOreAway:a .angle @degToRad
    70 op sin *tmp34 :locateOreAway:a
    71 op mul *tmp35 *tmp34 :locateOreAway:distance
 
   122 set :visited:i .locationsStart
   123 label *label57
   124 jump *label59 greaterThanEq :visited:i *tmp75
+  125 label *label206
   126 op mul :visited:index 4 :visited:i
   127 op add *tmp78 :visited:index 2
   128 read :visited:lx bank1 *tmp78
 
   138 label *label61
   139 label *label58
   140 op add :visited:i :visited:i 1
-    * jump *label57 always
+  141 jump *label206 lessThan :visited:i *tmp75
   142 label *label59
   143 set *tmp74 false
   144 jump *label56 always
 
   157 label *label50
   158 label *label51
   159 label *label36
-    * jump *label35 always
+  160 jump *label205 lessThan :locateOreAway:distance :findDrillLocation:distanceLimit
   161 label *label37
   162 set *tmp28 false
   163 jump *label34 always
 
   350 set :createMatrixOfSize:i 1
   351 label *label108
   352 jump *label110 greaterThanEq :createMatrixOfSize:i 7
+  353 label *label207
   354 jump *label111 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
   355 jump *label110 always
   356 label *label111
 
   359 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   360 label *label109
   361 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label108 always
+  362 jump *label207 lessThan :createMatrixOfSize:i 7
   363 label *label110
   364 jump *label107 always
   365 label *label107
 
   389 set :findPossiblePlacement:y -3
   390 label *label115
   391 jump *label117 greaterThan :findPossiblePlacement:y 3
+  392 label *label208
   393 op add *tmp219 :findPossiblePlacement:y 3
   394 op mul *tmp220 7 *tmp219
   395 op shl :findPossiblePlacement:mask :findPossiblePlacement:placementMask *tmp220
   396 set :findPossiblePlacement:x -3
   397 label *label118
   398 jump *label120 greaterThan :findPossiblePlacement:x 3
+  399 label *label209
   400 op and *tmp222 :findPossiblePlacement:terrainMask :findPossiblePlacement:mask
   401 jump *label121 notEqual *tmp222 0
   402 op mul *tmp225 :findPossiblePlacement:y 7
 
   413 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
   414 label *label119
   415 op add :findPossiblePlacement:x :findPossiblePlacement:x 1
-    * jump *label118 always
+  416 jump *label209 lessThanEq :findPossiblePlacement:x 3
   417 label *label120
   418 op sub *tmp231 3 :findPossiblePlacement:height
   419 jump *label125 lessThanEq :findPossiblePlacement:y *tmp231
 
   422 label *label126
   423 label *label116
   424 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
-    * jump *label115 always
+  425 jump *label208 lessThanEq :findPossiblePlacement:y 3
   426 label *label117
   427 set :findPossiblePlacement*retval -1
   428 jump *label114 always
 
   555 set :createBlockMaskRow:c 4
   556 label *label152
   557 jump *label154 lessThan :createBlockMaskRow:c -4
+  558 label *label210
   559 op shl *tmp295 :createBlockMaskRow:result 1
   560 op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
   561 ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
   562 op or :createBlockMaskRow:result *tmp295 *tmp297
   563 label *label153
   564 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label152 always
+  565 jump *label210 greaterThanEq :createBlockMaskRow:c -4
   566 label *label154
   567 set :createBlockMaskRow*retval :createBlockMaskRow:result
   568 jump *label151 always
 
   595 set :createAdjacentMask:r 2
   596 label *label159
   597 jump *label161 lessThan :createAdjacentMask:r -4
+  598 label *label211
   599 op add *tmp309 :createAdjacentMask:y :createAdjacentMask:r
   600 set :createBlockMaskRow:x :createAdjacentMask:x
   601 set :createBlockMaskRow:y *tmp309
 
   614 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   615 label *label160
   616 op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * jump *label159 always
+  617 jump *label211 greaterThanEq :createAdjacentMask:r -4
   618 label *label161
   619 op shr *tmp304 :createAdjacentMask:result 1
   620 label *label156

Modifications by Iterated phase, Boolean Optimization, pass 1, iteration 1 (-1 instructions):
 
   214 set :findDrillLocation:dx :findDrillLocation:newX
   215 set :findDrillLocation:dy :findDrillLocation:newY
   216 set :findDrillLocation:capacity :findDrillLocation:score
-    * jump *label77 greaterThanEq :findDrillLocation:limit 1000
-    * set .mapSpots :findDrillLocation:score
-    * label *label77
-    * label *label78
+  217 select .mapSpots lessThan :findDrillLocation:limit 1000 :findDrillLocation:score .mapSpots
   218 jump *label79 lessThan :findDrillLocation:capacity :findDrillLocation:limit
   219 op add .count .count 1
   220 sensor *tmp134 :findDrillLocation:item @id
 
   285 label *label13
   286 op abs *tmp166 :shiftMask:shiftX
   287 jump *label94 greaterThan *tmp166 6
-    * label *label95
   288 op abs *tmp168 :shiftMask:shiftY
   289 jump *label92 lessThanEq *tmp168 6
   290 label *label94
 
   335 op abs *tmp198 *tmp197
   336 op sub :excludeArea:overlapY *tmp196 *tmp198
   337 jump *label103 lessThanEq :excludeArea:overlapX 0
-    * label *label106
   338 jump *label103 lessThanEq :excludeArea:overlapY 0
-    * label *label105
   339 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
   340 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
   341 op shl *tmp206 1 :excludeArea:blockSizeX
 
   507 op sub *tmp273 .water2Y .node1Y
   508 op len *tmp274 *tmp272 *tmp273
   509 jump *label144 greaterThan *tmp274 7
-    * label *label147
   510 op sub *tmp276 .generatorX .node1X
   511 op sub *tmp277 .generatorY .node1Y
   512 op len *tmp278 *tmp276 *tmp277
   513 jump *label144 greaterThan *tmp278 7
-    * label *label146
   514 op sub *tmp280 .panelX .node1X
   515 op sub *tmp281 .panelY .node1Y
   516 op len *tmp282 *tmp280 *tmp281
   517 jump *label144 greaterThan *tmp282 6
-    * label *label145
   518 op sub *tmp284 .batteryX .node1X
   519 op sub *tmp285 .batteryY .node1Y
   520 op len *tmp286 *tmp284 *tmp285

Modifications by Full loop rotation at OreLocator.mnd:46:5 (+1 instructions):
 
    84 label *label41
    85 ucontrol within *tmp38 *tmp45 5 *tmp48
    86 jump *label43 notEqual *tmp48 false
+   87 label *label212
    88 ucontrol approach *tmp38 *tmp45 4.5
    89 label *label42
-    * jump *label41 always
+   90 ucontrol within *tmp38 *tmp45 5 *tmp48
+   91 jump *label212 equal *tmp48 false
    92 label *label43
    93 label *label40
    94 op div *tmp51 3.8197185279121366 :locateOreAway:distance

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   123 set *tmp75 .locations
   124 set :visited:i .locationsStart
   125 label *label57
-    * jump *label59 greaterThanEq :visited:i *tmp75
+  126 jump *label59 greaterThanEq .locationsStart *tmp75
   127 label *label206
   128 op mul :visited:index 4 :visited:i
   129 op add *tmp78 :visited:index 2
 
   345 set :createMatrixOfSize:matrix :createMatrixOfSize:row
   346 set :createMatrixOfSize:i 1
   347 label *label108
-    * jump *label110 greaterThanEq :createMatrixOfSize:i 7
+  348 jump *label110 greaterThanEq 1 7
   349 label *label207
   350 jump *label111 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
   351 jump *label110 always
 
   547 set :createBlockMaskRow:result 0
   548 set :createBlockMaskRow:c 4
   549 label *label152
-    * jump *label154 lessThan :createBlockMaskRow:c -4
+  550 jump *label154 lessThan 4 -4
   551 label *label210
   552 op shl *tmp295 :createBlockMaskRow:result 1
   553 op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
 
   587 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   588 set :createAdjacentMask:r 2
   589 label *label159
-    * jump *label161 lessThan :createAdjacentMask:r -4
+  590 jump *label161 lessThan 2 -4
   591 label *label211
   592 op add *tmp309 :createAdjacentMask:y :createAdjacentMask:r
   593 set :createBlockMaskRow:x :createAdjacentMask:x

Modifications by Full loop rotation at OreLocator.mnd:46:5 (+1 instructions):
 
   179 label *label66
   180 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102
   181 jump *label68 notEqual *tmp102 false
+  182 label *label213
   183 ucontrol approach :locateOreAway:x :locateOreAway:y 5.5
   184 label *label67
-    * jump *label66 always
+  185 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102
+  186 jump *label213 equal *tmp102 false
   187 label *label68
   188 label *label65
   189 label *label64

Modifications by Inline function call at OreLocator.mnd:495:20 (+9 instructions):
 
   594 op add *tmp309 :createAdjacentMask:y :createAdjacentMask:r
   595 set :createBlockMaskRow:x :createAdjacentMask:x
   596 set :createBlockMaskRow:y *tmp309
-    * setaddr :createBlockMaskRow*retaddr *label162 (h:*label162)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label162) (h:*label162)
-    * label *label162
+  597 label *label214
+  598 set :createBlockMaskRow:result 0
+  599 set :createBlockMaskRow:c 4
+  600 label *label215
+  601 jump *label218 lessThan 4 -4
+  602 label *label216
+  603 op shl *tmp295 :createBlockMaskRow:result 1
+  604 op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
+  605 ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
+  606 op or :createBlockMaskRow:result *tmp295 *tmp297
+  607 label *label217
+  608 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  609 jump *label216 greaterThanEq :createBlockMaskRow:c -4
+  610 label *label218
+  611 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  612 jump *label219 always
+  613 label *label219
   614 op shl *tmp311 :createAdjacentMask:row1 1
   615 op or *tmp312 :createAdjacentMask:row2 *tmp311
   616 op shr *tmp313 :createAdjacentMask:row1 1

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   601 jump *label218 lessThan 4 -4
   602 label *label216
   603 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
+  604 op add *tmp296 :createAdjacentMask:x :createBlockMaskRow:c
+  605 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   606 op or :createBlockMaskRow:result *tmp295 *tmp297
   607 label *label217
   608 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
 
   615 op or *tmp312 :createAdjacentMask:row2 *tmp311
   616 op shr *tmp313 :createAdjacentMask:row1 1
   617 op or *tmp314 *tmp312 *tmp313
-    * op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow*retval
+  618 op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow:result
   619 op shl *tmp316 :createAdjacentMask:result 7
   620 op and *tmp317 :createAdjacentMask:mask 0xFE
   621 op or :createAdjacentMask:result *tmp316 *tmp317
   622 set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  623 set :createAdjacentMask:row1 :createBlockMaskRow:result
   624 label *label160
   625 op sub :createAdjacentMask:r :createAdjacentMask:r 1
   626 jump *label211 greaterThanEq :createAdjacentMask:r -4

Modifications by Full loop rotation at OreLocator.mnd:46:5 (+1 instructions):
 
    37 label *label26
    38 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
    39 jump *label28 notEqual *tmp18 false
+   40 label *label220
    41 ucontrol approach :findDrillLocation:x :findDrillLocation:y 5.5
    42 label *label27
-    * jump *label26 always
+   43 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
+   44 jump *label220 equal *tmp18 false
    45 label *label28
    46 label *label25
    47 label *label24

Modifications by Full loop rotation at OreLocator.mnd:46:5 (+1 instructions):
 
   663 label *label167
   664 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324
   665 jump *label169 notEqual *tmp324 false
+  666 label *label221
   667 ucontrol approach :moveTo.5:x :moveTo.5:y 0.5
   668 label *label168
-    * jump *label167 always
+  669 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324
+  670 jump *label221 equal *tmp324 false
   671 label *label169
   672 label *label166
   673 set :createCombinedMask:x .drillX

Modifications by Inline function 'createBlockMaskRow' defined at OreLocator.mnd:478:1 (+5 instructions):
 
   547 label *label127
   548 return :tryPlaceGenerator*retaddr
   549 end
-    * label *label17
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label152
-    * jump *label154 lessThan 4 -4
-    * label *label210
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label153
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label210 greaterThanEq :createBlockMaskRow:c -4
-    * label *label154
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
-    * jump *label151 always
-    * label *label151
-    * return :createBlockMaskRow*retaddr
-    * end
   550 label *label18
   551 write @unit processor4 ":createTerrainMask:unit"
   552 write :createCombinedMask:x processor4 ":createTerrainMask:x"
 
   559 op add *tmp305 :createCombinedMask:y 4
   560 set :createBlockMaskRow:x :createCombinedMask:x
   561 set :createBlockMaskRow:y *tmp305
-    * setaddr :createBlockMaskRow*retaddr *label157 (h:*label157)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label157) (h:*label157)
-    * label *label157
+  562 label *label222
+  563 set :createBlockMaskRow:result 0
+  564 set :createBlockMaskRow:c 4
+  565 label *label223
+  566 jump *label226 lessThan 4 -4
+  567 label *label224
+  568 op shl *tmp295 :createBlockMaskRow:result 1
+  569 op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
+  570 ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
+  571 op or :createBlockMaskRow:result *tmp295 *tmp297
+  572 label *label225
+  573 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  574 jump *label224 greaterThanEq :createBlockMaskRow:c -4
+  575 label *label226
+  576 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  577 jump *label227 always
+  578 label *label227
   579 set :createAdjacentMask:row2 :createBlockMaskRow*retval
   580 op add *tmp307 :createAdjacentMask:y 3
   581 set :createBlockMaskRow:x :createAdjacentMask:x
   582 set :createBlockMaskRow:y *tmp307
-    * setaddr :createBlockMaskRow*retaddr *label158 (h:*label158)
-    * call *label17 *invalid :createBlockMaskRow*retval (m:*label158) (h:*label158)
-    * label *label158
+  583 label *label228
+  584 set :createBlockMaskRow:result 0
+  585 set :createBlockMaskRow:c 4
+  586 label *label229
+  587 jump *label232 lessThan 4 -4
+  588 label *label230
+  589 op shl *tmp295 :createBlockMaskRow:result 1
+  590 op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
+  591 ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
+  592 op or :createBlockMaskRow:result *tmp295 *tmp297
+  593 label *label231
+  594 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  595 jump *label230 greaterThanEq :createBlockMaskRow:c -4
+  596 label *label232
+  597 set :createBlockMaskRow*retval :createBlockMaskRow:result
+  598 jump *label233 always
+  599 label *label233
   600 set :createAdjacentMask:row1 :createBlockMaskRow*retval
   601 set :createAdjacentMask:r 2
   602 label *label159

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   566 jump *label226 lessThan 4 -4
   567 label *label224
   568 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
+  569 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  570 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   571 op or :createBlockMaskRow:result *tmp295 *tmp297
   572 label *label225
   573 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
 
   576 set :createBlockMaskRow*retval :createBlockMaskRow:result
   577 jump *label227 always
   578 label *label227
-    * set :createAdjacentMask:row2 :createBlockMaskRow*retval
-    * op add *tmp307 :createAdjacentMask:y 3
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  579 set :createAdjacentMask:row2 :createBlockMaskRow:result
+  580 op add *tmp307 :createCombinedMask:y 3
+  581 set :createBlockMaskRow:x :createCombinedMask:x
   582 set :createBlockMaskRow:y *tmp307
   583 label *label228
   584 set :createBlockMaskRow:result 0
 
   587 jump *label232 lessThan 4 -4
   588 label *label230
   589 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createBlockMaskRow:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 :createBlockMaskRow:y *tmp298 *tmp297 *tmp299
+  590 op add *tmp296 :createAdjacentMask:x :createBlockMaskRow:c
+  591 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   592 op or :createBlockMaskRow:result *tmp295 *tmp297
   593 label *label231
   594 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
 
   597 set :createBlockMaskRow*retval :createBlockMaskRow:result
   598 jump *label233 always
   599 label *label233
-    * set :createAdjacentMask:row1 :createBlockMaskRow*retval
+  600 set :createAdjacentMask:row1 :createBlockMaskRow:result
   601 set :createAdjacentMask:r 2
   602 label *label159
   603 jump *label161 lessThan 2 -4
   604 label *label211
-    * op add *tmp309 :createAdjacentMask:y :createAdjacentMask:r
-    * set :createBlockMaskRow:x :createAdjacentMask:x
+  605 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
+  606 set :createBlockMaskRow:x :createCombinedMask:x
   607 set :createBlockMaskRow:y *tmp309
   608 label *label214
   609 set :createBlockMaskRow:result 0
 
   612 jump *label218 lessThan 4 -4
   613 label *label216
   614 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createAdjacentMask:x :createBlockMaskRow:c
+  615 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
   616 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   617 op or :createBlockMaskRow:result *tmp295 *tmp297
   618 label *label217

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-10 instructions):
 
   554 write false processor4 ":createTerrainMask*finished"
   555 write 1 processor4 "@counter"
   556 set :createAdjacentMask:x :createCombinedMask:x
-    * set :createAdjacentMask:y :createCombinedMask:y
   557 set :createAdjacentMask:result 0
   558 op add *tmp305 :createCombinedMask:y 4
-    * set :createBlockMaskRow:x :createCombinedMask:x
-    * set :createBlockMaskRow:y *tmp305
   559 label *label222
   560 set :createBlockMaskRow:result 0
   561 set :createBlockMaskRow:c 4
 
   570 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   571 jump *label224 greaterThanEq :createBlockMaskRow:c -4
   572 label *label226
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   573 jump *label227 always
   574 label *label227
   575 set :createAdjacentMask:row2 :createBlockMaskRow:result
   576 op add *tmp307 :createCombinedMask:y 3
-    * set :createBlockMaskRow:x :createCombinedMask:x
-    * set :createBlockMaskRow:y *tmp307
   577 label *label228
   578 set :createBlockMaskRow:result 0
   579 set :createBlockMaskRow:c 4
 
   581 jump *label232 lessThan 4 -4
   582 label *label230
   583 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createAdjacentMask:x :createBlockMaskRow:c
+  584 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
   585 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   586 op or :createBlockMaskRow:result *tmp295 *tmp297
   587 label *label231
   588 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   589 jump *label230 greaterThanEq :createBlockMaskRow:c -4
   590 label *label232
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   591 jump *label233 always
   592 label *label233
   593 set :createAdjacentMask:row1 :createBlockMaskRow:result
 
   596 jump *label161 lessThan 2 -4
   597 label *label211
   598 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
-    * set :createBlockMaskRow:x :createCombinedMask:x
-    * set :createBlockMaskRow:y *tmp309
   599 label *label214
   600 set :createBlockMaskRow:result 0
   601 set :createBlockMaskRow:c 4
 
   610 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   611 jump *label216 greaterThanEq :createBlockMaskRow:c -4
   612 label *label218
-    * set :createBlockMaskRow*retval :createBlockMaskRow:result
   613 jump *label219 always
   614 label *label219
   615 op shl *tmp311 :createAdjacentMask:row1 1

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-1 instructions):
 
   553 write :createCombinedMask:y processor4 ":createTerrainMask:y"
   554 write false processor4 ":createTerrainMask*finished"
   555 write 1 processor4 "@counter"
-    * set :createAdjacentMask:x :createCombinedMask:x
   556 set :createAdjacentMask:result 0
   557 op add *tmp305 :createCombinedMask:y 4
   558 label *label222

Modifications by Inline function 'shiftMask' defined at OreLocator.mnd:282:1 (+22 instructions):
 
   288 set :findDrillLocation*finished true
   289 return :findDrillLocation*retaddr
   290 end
-    * label *label13
-    * op abs *tmp166 :shiftMask:shiftX
-    * jump *label94 greaterThan *tmp166 6
-    * op abs *tmp168 :shiftMask:shiftY
-    * jump *label92 lessThanEq *tmp168 6
-    * label *label94
-    * set :shiftMask*retval 0
-    * jump *label91 always
-    * label *label92
-    * label *label93
-    * op mul *tmp171 7 :shiftMask:shiftY
-    * op add :shiftMask:shift :shiftMask:shiftX *tmp171
-    * jump *label96 lessThanEq :shiftMask:shift 0
-    * op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
-    * op and *tmp176 :shiftMask:mask :shiftMask:clearMask
-    * op shl :shiftMask:mask *tmp176 :shiftMask:shift
-    * jump *label97 always
-    * label *label96
-    * op sub *tmp178 0 :shiftMask:shift
-    * op shr :shiftMask:mask :shiftMask:mask *tmp178
-    * label *label97
-    * jump *label98 equal :shiftMask:shiftX 0
-    * op shr :shiftMask:keep 0b1111111 *tmp166
-    * jump *label100 lessThanEq :shiftMask:shiftX 0
-    * op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
-    * label *label100
-    * label *label101
-    * op shl *tmp185 :shiftMask:keep 7
-    * op or :shiftMask:keep :shiftMask:keep *tmp185
-    * op shl *tmp186 :shiftMask:keep 14
-    * op or :shiftMask:keep :shiftMask:keep *tmp186
-    * op shl *tmp187 :shiftMask:keep 21
-    * op or :shiftMask:keep :shiftMask:keep *tmp187
-    * op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
-    * label *label98
-    * label *label99
-    * set :shiftMask*retval :shiftMask:mask
-    * jump *label91 always
-    * label *label91
-    * return :shiftMask*retaddr
-    * end
   291 label *label14
   292 op add *tmp189 :excludeArea:areaWidth 8
   293 op idiv *tmp190 *tmp189 2
 
   331 set :shiftMask:mask :createMatrixOfSize:matrix
   332 set :shiftMask:shiftX :excludeArea:shiftX
   333 set :shiftMask:shiftY :excludeArea:shiftY
-    * setaddr :shiftMask*retaddr *label113 (h:*label113)
-    * call *label13 *invalid :shiftMask*retval (m:*label113) (h:*label113)
-    * label *label113
+  334 label *label234
+  335 op abs *tmp166 :shiftMask:shiftX
+  336 jump *label235 greaterThan *tmp166 6
+  337 op abs *tmp168 :shiftMask:shiftY
+  338 jump *label236 lessThanEq *tmp168 6
+  339 label *label235
+  340 set :shiftMask*retval 0
+  341 jump *label244 always
+  342 label *label236
+  343 label *label237
+  344 op mul *tmp171 7 :shiftMask:shiftY
+  345 op add :shiftMask:shift :shiftMask:shiftX *tmp171
+  346 jump *label238 lessThanEq :shiftMask:shift 0
+  347 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
+  348 op and *tmp176 :shiftMask:mask :shiftMask:clearMask
+  349 op shl :shiftMask:mask *tmp176 :shiftMask:shift
+  350 jump *label239 always
+  351 label *label238
+  352 op sub *tmp178 0 :shiftMask:shift
+  353 op shr :shiftMask:mask :shiftMask:mask *tmp178
+  354 label *label239
+  355 jump *label242 equal :shiftMask:shiftX 0
+  356 op shr :shiftMask:keep 0b1111111 *tmp166
+  357 jump *label240 lessThanEq :shiftMask:shiftX 0
+  358 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
+  359 label *label240
+  360 label *label241
+  361 op shl *tmp185 :shiftMask:keep 7
+  362 op or :shiftMask:keep :shiftMask:keep *tmp185
+  363 op shl *tmp186 :shiftMask:keep 14
+  364 op or :shiftMask:keep :shiftMask:keep *tmp186
+  365 op shl *tmp187 :shiftMask:keep 21
+  366 op or :shiftMask:keep :shiftMask:keep *tmp187
+  367 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
+  368 label *label242
+  369 label *label243
+  370 set :shiftMask*retval :shiftMask:mask
+  371 jump *label244 always
+  372 label *label244
   373 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   374 jump *label102 always
   375 jump *label104 always
 
   766 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
   767 set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
   768 set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
-    * setaddr :shiftMask*retaddr *label191 (h:*label191)
-    * call *label13 *invalid :shiftMask*retval (m:*label191) (h:*label191)
-    * label *label191
+  769 label *label245
+  770 op abs *tmp166 :shiftMask:shiftX
+  771 jump *label246 greaterThan *tmp166 6
+  772 op abs *tmp168 :shiftMask:shiftY
+  773 jump *label247 lessThanEq *tmp168 6
+  774 label *label246
+  775 set :shiftMask*retval 0
+  776 jump *label255 always
+  777 label *label247
+  778 label *label248
+  779 op mul *tmp171 7 :shiftMask:shiftY
+  780 op add :shiftMask:shift :shiftMask:shiftX *tmp171
+  781 jump *label249 lessThanEq :shiftMask:shift 0
+  782 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
+  783 op and *tmp176 :shiftMask:mask :shiftMask:clearMask
+  784 op shl :shiftMask:mask *tmp176 :shiftMask:shift
+  785 jump *label250 always
+  786 label *label249
+  787 op sub *tmp178 0 :shiftMask:shift
+  788 op shr :shiftMask:mask :shiftMask:mask *tmp178
+  789 label *label250
+  790 jump *label253 equal :shiftMask:shiftX 0
+  791 op shr :shiftMask:keep 0b1111111 *tmp166
+  792 jump *label251 lessThanEq :shiftMask:shiftX 0
+  793 op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
+  794 label *label251
+  795 label *label252
+  796 op shl *tmp185 :shiftMask:keep 7
+  797 op or :shiftMask:keep :shiftMask:keep *tmp185
+  798 op shl *tmp186 :shiftMask:keep 14
+  799 op or :shiftMask:keep :shiftMask:keep *tmp186
+  800 op shl *tmp187 :shiftMask:keep 21
+  801 op or :shiftMask:keep :shiftMask:keep *tmp187
+  802 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
+  803 label *label253
+  804 label *label254
+  805 set :shiftMask*retval :shiftMask:mask
+  806 jump *label255 always
+  807 label *label255
   808 op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :shiftMask*retval
   809 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
   810 op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   332 set :shiftMask:shiftX :excludeArea:shiftX
   333 set :shiftMask:shiftY :excludeArea:shiftY
   334 label *label234
-    * op abs *tmp166 :shiftMask:shiftX
+  335 op abs *tmp166 :excludeArea:shiftX
   336 jump *label235 greaterThan *tmp166 6
-    * op abs *tmp168 :shiftMask:shiftY
+  337 op abs *tmp168 :excludeArea:shiftY
   338 jump *label236 lessThanEq *tmp168 6
   339 label *label235
   340 set :shiftMask*retval 0
   341 jump *label244 always
   342 label *label236
   343 label *label237
-    * op mul *tmp171 7 :shiftMask:shiftY
-    * op add :shiftMask:shift :shiftMask:shiftX *tmp171
+  344 op mul *tmp171 7 :excludeArea:shiftY
+  345 op add :shiftMask:shift :excludeArea:shiftX *tmp171
   346 jump *label238 lessThanEq :shiftMask:shift 0
   347 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
-    * op and *tmp176 :shiftMask:mask :shiftMask:clearMask
+  348 op and *tmp176 :createMatrixOfSize:matrix :shiftMask:clearMask
   349 op shl :shiftMask:mask *tmp176 :shiftMask:shift
   350 jump *label239 always
   351 label *label238
   352 op sub *tmp178 0 :shiftMask:shift
-    * op shr :shiftMask:mask :shiftMask:mask *tmp178
+  353 op shr :shiftMask:mask :createMatrixOfSize:matrix *tmp178
   354 label *label239
-    * jump *label242 equal :shiftMask:shiftX 0
+  355 jump *label242 equal :excludeArea:shiftX 0
   356 op shr :shiftMask:keep 0b1111111 *tmp166
-    * jump *label240 lessThanEq :shiftMask:shiftX 0
-    * op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
+  357 jump *label240 lessThanEq :excludeArea:shiftX 0
+  358 op shl :shiftMask:keep :shiftMask:keep :excludeArea:shiftX
   359 label *label240
   360 label *label241
   361 op shl *tmp185 :shiftMask:keep 7
 
   767 set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
   768 set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
   769 label *label245
-    * op abs *tmp166 :shiftMask:shiftX
+  770 op abs *tmp166 :layoutThoriumDrillAtLocation:sx
   771 jump *label246 greaterThan *tmp166 6
-    * op abs *tmp168 :shiftMask:shiftY
+  772 op abs *tmp168 :layoutThoriumDrillAtLocation:sy
   773 jump *label247 lessThanEq *tmp168 6
   774 label *label246
   775 set :shiftMask*retval 0
   776 jump *label255 always
   777 label *label247
   778 label *label248
-    * op mul *tmp171 7 :shiftMask:shiftY
-    * op add :shiftMask:shift :shiftMask:shiftX *tmp171
+  779 op mul *tmp171 7 :layoutThoriumDrillAtLocation:sy
+  780 op add :shiftMask:shift :layoutThoriumDrillAtLocation:sx *tmp171
   781 jump *label249 lessThanEq :shiftMask:shift 0
   782 op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift
-    * op and *tmp176 :shiftMask:mask :shiftMask:clearMask
+  783 op and *tmp176 :layoutThoriumDrillAtLocation:terrainMask :shiftMask:clearMask
   784 op shl :shiftMask:mask *tmp176 :shiftMask:shift
   785 jump *label250 always
   786 label *label249
   787 op sub *tmp178 0 :shiftMask:shift
-    * op shr :shiftMask:mask :shiftMask:mask *tmp178
+  788 op shr :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask *tmp178
   789 label *label250
-    * jump *label253 equal :shiftMask:shiftX 0
+  790 jump *label253 equal :layoutThoriumDrillAtLocation:sx 0
   791 op shr :shiftMask:keep 0b1111111 *tmp166
-    * jump *label251 lessThanEq :shiftMask:shiftX 0
-    * op shl :shiftMask:keep :shiftMask:keep :shiftMask:shiftX
+  792 jump *label251 lessThanEq :layoutThoriumDrillAtLocation:sx 0
+  793 op shl :shiftMask:keep :shiftMask:keep :layoutThoriumDrillAtLocation:sx
   794 label *label251
   795 label *label252
   796 op shl *tmp185 :shiftMask:keep 7
 
   805 set :shiftMask*retval :shiftMask:mask
   806 jump *label255 always
   807 label *label255
-    * op or :layoutThoriumDrillAtLocation:combinedMask :layoutThoriumDrillAtLocation:newTerrainMask :shiftMask*retval
+  808 op or :layoutThoriumDrillAtLocation:combinedMask :createCombinedMask*retval :shiftMask*retval
   809 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
   810 op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy
   811 set :tryPlaceGenerator:centerX *tmp362

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-6 instructions):
 
   328 op lessThan *tmp215 :excludeArea:maskY :excludeArea:areaY
   329 op sub *tmp216 7 :excludeArea:blockSizeY
   330 op mul :excludeArea:shiftY *tmp215 *tmp216
-    * set :shiftMask:mask :createMatrixOfSize:matrix
-    * set :shiftMask:shiftX :excludeArea:shiftX
-    * set :shiftMask:shiftY :excludeArea:shiftY
   331 label *label234
   332 op abs *tmp166 :excludeArea:shiftX
   333 jump *label235 greaterThan *tmp166 6
 
   759 setaddr :createCombinedMask*retaddr *label190 (h:*label190)
   760 call *label18 *invalid :createCombinedMask*retval (m:*label190) (h:*label190)
   761 label *label190
-    * set :layoutThoriumDrillAtLocation:newTerrainMask :createCombinedMask*retval
   762 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
-    * set :shiftMask:shiftX :layoutThoriumDrillAtLocation:sx
-    * set :shiftMask:shiftY :layoutThoriumDrillAtLocation:sy
   763 label *label245
   764 op abs *tmp166 :layoutThoriumDrillAtLocation:sx
   765 jump *label246 greaterThan *tmp166 6

Modifications by Inline function 'tryPlaceGenerator' defined at OreLocator.mnd:390:1 (+88 instructions):
 
   421 label *label114
   422 return :findPossiblePlacement*retaddr
   423 end
-    * label *label16
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorVertical
-    * set :findPossiblePlacement:width 2
-    * set :findPossiblePlacement:height 4
-    * setaddr :findPossiblePlacement*retaddr *label128 (h:*label128)
-    * call *label15 *invalid :findPossiblePlacement*retval (m:*label128) (h:*label128)
-    * label *label128
-    * jump *label129 lessThan :findPossiblePlacement*retval 0
-    * jump *label131 greaterThanEq :findPossiblePlacement*retval 0
-    * set :tryPlaceGenerator*retval false
-    * jump *label127 always
-    * label *label131
-    * label *label132
-    * op add *tmp239 :tryPlaceGenerator:centerX 0.5
-    * op add .water2X *tmp239 :findPossiblePlacement:x
-    * op add *tmp241 :tryPlaceGenerator:centerY 0.5
-    * op add .water2Y *tmp241 :findPossiblePlacement:y
-    * op add .generatorX *tmp239 :findPossiblePlacement:x
-    * op add *tmp245 :tryPlaceGenerator:centerY 2.5
-    * op add .generatorY *tmp245 :findPossiblePlacement:y
-    * op shl *tmp247 :tryPlaceGenerator:generatorVertical :findPossiblePlacement*retval
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp247
-    * jump *label130 always
-    * label *label129
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorHorizontal
-    * set :findPossiblePlacement:width 4
-    * set :findPossiblePlacement:height 2
-    * setaddr :findPossiblePlacement*retaddr *label133 (h:*label133)
-    * call *label15 *invalid :findPossiblePlacement*retval (m:*label133) (h:*label133)
-    * label *label133
-    * jump *label134 greaterThanEq :findPossiblePlacement*retval 0
-    * set :tryPlaceGenerator*retval false
-    * jump *label127 always
-    * label *label134
-    * label *label135
-    * op add *tmp251 :tryPlaceGenerator:centerX 0.5
-    * op add .water2X *tmp251 :findPossiblePlacement:x
-    * op add *tmp253 :tryPlaceGenerator:centerY 0.5
-    * op add .water2Y *tmp253 :findPossiblePlacement:y
-    * op add *tmp255 :tryPlaceGenerator:centerX 2.5
-    * op add .generatorX *tmp255 :findPossiblePlacement:x
-    * op add .generatorY *tmp253 :findPossiblePlacement:y
-    * op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
-    * label *label130
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask 437639987601635
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask 1
-    * set :findPossiblePlacement:width 1
-    * set :findPossiblePlacement:height 1
-    * setaddr :findPossiblePlacement*retaddr *label136 (h:*label136)
-    * call *label15 *invalid :findPossiblePlacement*retval (m:*label136) (h:*label136)
-    * label *label136
-    * jump *label137 greaterThanEq :findPossiblePlacement*retval 0
-    * set :tryPlaceGenerator*retval false
-    * jump *label127 always
-    * label *label137
-    * label *label138
-    * op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
-    * op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
-    * op shl *tmp265 1 :findPossiblePlacement*retval
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp265
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask 1
-    * set :findPossiblePlacement:width 1
-    * set :findPossiblePlacement:height 1
-    * setaddr :findPossiblePlacement*retaddr *label139 (h:*label139)
-    * call *label15 *invalid :findPossiblePlacement*retval (m:*label139) (h:*label139)
-    * label *label139
-    * jump *label140 greaterThanEq :findPossiblePlacement*retval 0
-    * set :tryPlaceGenerator*retval false
-    * jump *label127 always
-    * label *label140
-    * label *label141
-    * op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
-    * op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
-    * op shl *tmp271 1 :findPossiblePlacement*retval
-    * op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp271
-    * op sub *tmp272 .water2X .node1X
-    * op sub *tmp273 .water2Y .node1Y
-    * op len *tmp274 *tmp272 *tmp273
-    * jump *label144 greaterThan *tmp274 7
-    * op sub *tmp276 .generatorX .node1X
-    * op sub *tmp277 .generatorY .node1Y
-    * op len *tmp278 *tmp276 *tmp277
-    * jump *label144 greaterThan *tmp278 7
-    * op sub *tmp280 .panelX .node1X
-    * op sub *tmp281 .panelY .node1Y
-    * op len *tmp282 *tmp280 *tmp281
-    * jump *label144 greaterThan *tmp282 6
-    * op sub *tmp284 .batteryX .node1X
-    * op sub *tmp285 .batteryY .node1Y
-    * op len *tmp286 *tmp284 *tmp285
-    * jump *label142 lessThanEq *tmp286 6
-    * label *label144
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask 1
-    * set :findPossiblePlacement:width 1
-    * set :findPossiblePlacement:height 1
-    * setaddr :findPossiblePlacement*retaddr *label148 (h:*label148)
-    * call *label15 *invalid :findPossiblePlacement*retval (m:*label148) (h:*label148)
-    * label *label148
-    * jump *label149 greaterThanEq :findPossiblePlacement*retval 0
-    * set :tryPlaceGenerator*retval false
-    * jump *label127 always
-    * label *label149
-    * label *label150
-    * op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
-    * op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
-    * label *label142
-    * label *label143
-    * set :tryPlaceGenerator*retval true
-    * jump *label127 always
-    * label *label127
-    * return :tryPlaceGenerator*retaddr
-    * end
   424 label *label18
   425 write @unit processor4 ":createTerrainMask:unit"
   426 write :createCombinedMask:x processor4 ":createTerrainMask:x"
 
   607 set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:terrainMask
   608 set :tryPlaceGenerator:generatorHorizontal 1935
   609 set :tryPlaceGenerator:generatorVertical 6340995
-    * setaddr :tryPlaceGenerator*retaddr *label182 (h:*label182)
-    * call *label16 *invalid :tryPlaceGenerator*retval (m:*label182) (h:*label182)
-    * label *label182
+  610 label *label256
+  611 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  612 set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorVertical
+  613 set :findPossiblePlacement:width 2
+  614 set :findPossiblePlacement:height 4
+  615 setaddr :findPossiblePlacement*retaddr *label257 (h:*label257)
+  616 call *label15 *invalid :findPossiblePlacement*retval (m:*label257) (h:*label257)
+  617 label *label257
+  618 jump *label260 lessThan :findPossiblePlacement*retval 0
+  619 jump *label258 greaterThanEq :findPossiblePlacement*retval 0
+  620 set :tryPlaceGenerator*retval false
+  621 jump *label277 always
+  622 label *label258
+  623 label *label259
+  624 op add *tmp239 :tryPlaceGenerator:centerX 0.5
+  625 op add .water2X *tmp239 :findPossiblePlacement:x
+  626 op add *tmp241 :tryPlaceGenerator:centerY 0.5
+  627 op add .water2Y *tmp241 :findPossiblePlacement:y
+  628 op add .generatorX *tmp239 :findPossiblePlacement:x
+  629 op add *tmp245 :tryPlaceGenerator:centerY 2.5
+  630 op add .generatorY *tmp245 :findPossiblePlacement:y
+  631 op shl *tmp247 :tryPlaceGenerator:generatorVertical :findPossiblePlacement*retval
+  632 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp247
+  633 jump *label264 always
+  634 label *label260
+  635 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  636 set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorHorizontal
+  637 set :findPossiblePlacement:width 4
+  638 set :findPossiblePlacement:height 2
+  639 setaddr :findPossiblePlacement*retaddr *label261 (h:*label261)
+  640 call *label15 *invalid :findPossiblePlacement*retval (m:*label261) (h:*label261)
+  641 label *label261
+  642 jump *label262 greaterThanEq :findPossiblePlacement*retval 0
+  643 set :tryPlaceGenerator*retval false
+  644 jump *label277 always
+  645 label *label262
+  646 label *label263
+  647 op add *tmp251 :tryPlaceGenerator:centerX 0.5
+  648 op add .water2X *tmp251 :findPossiblePlacement:x
+  649 op add *tmp253 :tryPlaceGenerator:centerY 0.5
+  650 op add .water2Y *tmp253 :findPossiblePlacement:y
+  651 op add *tmp255 :tryPlaceGenerator:centerX 2.5
+  652 op add .generatorX *tmp255 :findPossiblePlacement:x
+  653 op add .generatorY *tmp253 :findPossiblePlacement:y
+  654 op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
+  655 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
+  656 label *label264
+  657 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask 437639987601635
+  658 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  659 set :findPossiblePlacement:placementMask 1
+  660 set :findPossiblePlacement:width 1
+  661 set :findPossiblePlacement:height 1
+  662 setaddr :findPossiblePlacement*retaddr *label265 (h:*label265)
+  663 call *label15 *invalid :findPossiblePlacement*retval (m:*label265) (h:*label265)
+  664 label *label265
+  665 jump *label266 greaterThanEq :findPossiblePlacement*retval 0
+  666 set :tryPlaceGenerator*retval false
+  667 jump *label277 always
+  668 label *label266
+  669 label *label267
+  670 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  671 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  672 op shl *tmp265 1 :findPossiblePlacement*retval
+  673 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp265
+  674 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  675 set :findPossiblePlacement:placementMask 1
+  676 set :findPossiblePlacement:width 1
+  677 set :findPossiblePlacement:height 1
+  678 setaddr :findPossiblePlacement*retaddr *label268 (h:*label268)
+  679 call *label15 *invalid :findPossiblePlacement*retval (m:*label268) (h:*label268)
+  680 label *label268
+  681 jump *label269 greaterThanEq :findPossiblePlacement*retval 0
+  682 set :tryPlaceGenerator*retval false
+  683 jump *label277 always
+  684 label *label269
+  685 label *label270
+  686 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  687 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  688 op shl *tmp271 1 :findPossiblePlacement*retval
+  689 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp271
+  690 op sub *tmp272 .water2X .node1X
+  691 op sub *tmp273 .water2Y .node1Y
+  692 op len *tmp274 *tmp272 *tmp273
+  693 jump *label271 greaterThan *tmp274 7
+  694 op sub *tmp276 .generatorX .node1X
+  695 op sub *tmp277 .generatorY .node1Y
+  696 op len *tmp278 *tmp276 *tmp277
+  697 jump *label271 greaterThan *tmp278 7
+  698 op sub *tmp280 .panelX .node1X
+  699 op sub *tmp281 .panelY .node1Y
+  700 op len *tmp282 *tmp280 *tmp281
+  701 jump *label271 greaterThan *tmp282 6
+  702 op sub *tmp284 .batteryX .node1X
+  703 op sub *tmp285 .batteryY .node1Y
+  704 op len *tmp286 *tmp284 *tmp285
+  705 jump *label275 lessThanEq *tmp286 6
+  706 label *label271
+  707 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  708 set :findPossiblePlacement:placementMask 1
+  709 set :findPossiblePlacement:width 1
+  710 set :findPossiblePlacement:height 1
+  711 setaddr :findPossiblePlacement*retaddr *label272 (h:*label272)
+  712 call *label15 *invalid :findPossiblePlacement*retval (m:*label272) (h:*label272)
+  713 label *label272
+  714 jump *label273 greaterThanEq :findPossiblePlacement*retval 0
+  715 set :tryPlaceGenerator*retval false
+  716 jump *label277 always
+  717 label *label273
+  718 label *label274
+  719 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  720 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  721 label *label275
+  722 label *label276
+  723 set :tryPlaceGenerator*retval true
+  724 jump *label277 always
+  725 label *label277
   726 jump *label180 equal :tryPlaceGenerator*retval false
   727 set :layoutThoriumDrillAtLocation*retval true
   728 jump *label165 always
 
   802 set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:combinedMask
   803 set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDrillAtLocation:generatorHorizontal
   804 set :tryPlaceGenerator:generatorVertical :layoutThoriumDrillAtLocation:generatorVertical
-    * setaddr :tryPlaceGenerator*retaddr *label194 (h:*label194)
-    * call *label16 *invalid :tryPlaceGenerator*retval (m:*label194) (h:*label194)
-    * label *label194
+  805 label *label278
+  806 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  807 set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorVertical
+  808 set :findPossiblePlacement:width 2
+  809 set :findPossiblePlacement:height 4
+  810 setaddr :findPossiblePlacement*retaddr *label279 (h:*label279)
+  811 call *label15 *invalid :findPossiblePlacement*retval (m:*label279) (h:*label279)
+  812 label *label279
+  813 jump *label282 lessThan :findPossiblePlacement*retval 0
+  814 jump *label280 greaterThanEq :findPossiblePlacement*retval 0
+  815 set :tryPlaceGenerator*retval false
+  816 jump *label299 always
+  817 label *label280
+  818 label *label281
+  819 op add *tmp239 :tryPlaceGenerator:centerX 0.5
+  820 op add .water2X *tmp239 :findPossiblePlacement:x
+  821 op add *tmp241 :tryPlaceGenerator:centerY 0.5
+  822 op add .water2Y *tmp241 :findPossiblePlacement:y
+  823 op add .generatorX *tmp239 :findPossiblePlacement:x
+  824 op add *tmp245 :tryPlaceGenerator:centerY 2.5
+  825 op add .generatorY *tmp245 :findPossiblePlacement:y
+  826 op shl *tmp247 :tryPlaceGenerator:generatorVertical :findPossiblePlacement*retval
+  827 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp247
+  828 jump *label286 always
+  829 label *label282
+  830 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  831 set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorHorizontal
+  832 set :findPossiblePlacement:width 4
+  833 set :findPossiblePlacement:height 2
+  834 setaddr :findPossiblePlacement*retaddr *label283 (h:*label283)
+  835 call *label15 *invalid :findPossiblePlacement*retval (m:*label283) (h:*label283)
+  836 label *label283
+  837 jump *label284 greaterThanEq :findPossiblePlacement*retval 0
+  838 set :tryPlaceGenerator*retval false
+  839 jump *label299 always
+  840 label *label284
+  841 label *label285
+  842 op add *tmp251 :tryPlaceGenerator:centerX 0.5
+  843 op add .water2X *tmp251 :findPossiblePlacement:x
+  844 op add *tmp253 :tryPlaceGenerator:centerY 0.5
+  845 op add .water2Y *tmp253 :findPossiblePlacement:y
+  846 op add *tmp255 :tryPlaceGenerator:centerX 2.5
+  847 op add .generatorX *tmp255 :findPossiblePlacement:x
+  848 op add .generatorY *tmp253 :findPossiblePlacement:y
+  849 op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findPossiblePlacement*retval
+  850 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp259
+  851 label *label286
+  852 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask 437639987601635
+  853 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  854 set :findPossiblePlacement:placementMask 1
+  855 set :findPossiblePlacement:width 1
+  856 set :findPossiblePlacement:height 1
+  857 setaddr :findPossiblePlacement*retaddr *label287 (h:*label287)
+  858 call *label15 *invalid :findPossiblePlacement*retval (m:*label287) (h:*label287)
+  859 label *label287
+  860 jump *label288 greaterThanEq :findPossiblePlacement*retval 0
+  861 set :tryPlaceGenerator*retval false
+  862 jump *label299 always
+  863 label *label288
+  864 label *label289
+  865 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  866 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  867 op shl *tmp265 1 :findPossiblePlacement*retval
+  868 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp265
+  869 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  870 set :findPossiblePlacement:placementMask 1
+  871 set :findPossiblePlacement:width 1
+  872 set :findPossiblePlacement:height 1
+  873 setaddr :findPossiblePlacement*retaddr *label290 (h:*label290)
+  874 call *label15 *invalid :findPossiblePlacement*retval (m:*label290) (h:*label290)
+  875 label *label290
+  876 jump *label291 greaterThanEq :findPossiblePlacement*retval 0
+  877 set :tryPlaceGenerator*retval false
+  878 jump *label299 always
+  879 label *label291
+  880 label *label292
+  881 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  882 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  883 op shl *tmp271 1 :findPossiblePlacement*retval
+  884 op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terrainMask *tmp271
+  885 op sub *tmp272 .water2X .node1X
+  886 op sub *tmp273 .water2Y .node1Y
+  887 op len *tmp274 *tmp272 *tmp273
+  888 jump *label293 greaterThan *tmp274 7
+  889 op sub *tmp276 .generatorX .node1X
+  890 op sub *tmp277 .generatorY .node1Y
+  891 op len *tmp278 *tmp276 *tmp277
+  892 jump *label293 greaterThan *tmp278 7
+  893 op sub *tmp280 .panelX .node1X
+  894 op sub *tmp281 .panelY .node1Y
+  895 op len *tmp282 *tmp280 *tmp281
+  896 jump *label293 greaterThan *tmp282 6
+  897 op sub *tmp284 .batteryX .node1X
+  898 op sub *tmp285 .batteryY .node1Y
+  899 op len *tmp286 *tmp284 *tmp285
+  900 jump *label297 lessThanEq *tmp286 6
+  901 label *label293
+  902 set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
+  903 set :findPossiblePlacement:placementMask 1
+  904 set :findPossiblePlacement:width 1
+  905 set :findPossiblePlacement:height 1
+  906 setaddr :findPossiblePlacement*retaddr *label294 (h:*label294)
+  907 call *label15 *invalid :findPossiblePlacement*retval (m:*label294) (h:*label294)
+  908 label *label294
+  909 jump *label295 greaterThanEq :findPossiblePlacement*retval 0
+  910 set :tryPlaceGenerator*retval false
+  911 jump *label299 always
+  912 label *label295
+  913 label *label296
+  914 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
+  915 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
+  916 label *label297
+  917 label *label298
+  918 set :tryPlaceGenerator*retval true
+  919 jump *label299 always
+  920 label *label299
   921 jump *label192 equal :tryPlaceGenerator*retval false
   922 set :layoutThoriumDrillAtLocation*retval true
   923 jump *label165 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   608 set :tryPlaceGenerator:generatorHorizontal 1935
   609 set :tryPlaceGenerator:generatorVertical 6340995
   610 label *label256
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorVertical
+  611 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:terrainMask
+  612 set :findPossiblePlacement:placementMask 6340995
   613 set :findPossiblePlacement:width 2
   614 set :findPossiblePlacement:height 4
   615 setaddr :findPossiblePlacement*retaddr *label257 (h:*label257)
 
   803 set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDrillAtLocation:generatorHorizontal
   804 set :tryPlaceGenerator:generatorVertical :layoutThoriumDrillAtLocation:generatorVertical
   805 label *label278
-    * set :findPossiblePlacement:terrainMask :tryPlaceGenerator:terrainMask
-    * set :findPossiblePlacement:placementMask :tryPlaceGenerator:generatorVertical
+  806 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:combinedMask
+  807 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:generatorVertical
   808 set :findPossiblePlacement:width 2
   809 set :findPossiblePlacement:height 4
   810 setaddr :findPossiblePlacement*retaddr *label279 (h:*label279)

Modifications by Inline function 'createCombinedMask' defined at OreLocator.mnd:513:1 (+65 instructions):
 
   421 label *label114
   422 return :findPossiblePlacement*retaddr
   423 end
-    * label *label18
-    * write @unit processor4 ":createTerrainMask:unit"
-    * write :createCombinedMask:x processor4 ":createTerrainMask:x"
-    * write :createCombinedMask:y processor4 ":createTerrainMask:y"
-    * write false processor4 ":createTerrainMask*finished"
-    * write 1 processor4 "@counter"
-    * set :createAdjacentMask:result 0
-    * op add *tmp305 :createCombinedMask:y 4
-    * label *label222
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label223
-    * jump *label226 lessThan 4 -4
-    * label *label224
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label225
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label224 greaterThanEq :createBlockMaskRow:c -4
-    * label *label226
-    * jump *label227 always
-    * label *label227
-    * set :createAdjacentMask:row2 :createBlockMaskRow:result
-    * op add *tmp307 :createCombinedMask:y 3
-    * label *label228
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label229
-    * jump *label232 lessThan 4 -4
-    * label *label230
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label231
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label230 greaterThanEq :createBlockMaskRow:c -4
-    * label *label232
-    * jump *label233 always
-    * label *label233
-    * set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * set :createAdjacentMask:r 2
-    * label *label159
-    * jump *label161 lessThan 2 -4
-    * label *label211
-    * op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
-    * label *label214
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label215
-    * jump *label218 lessThan 4 -4
-    * label *label216
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label217
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label216 greaterThanEq :createBlockMaskRow:c -4
-    * label *label218
-    * jump *label219 always
-    * label *label219
-    * op shl *tmp311 :createAdjacentMask:row1 1
-    * op or *tmp312 :createAdjacentMask:row2 *tmp311
-    * op shr *tmp313 :createAdjacentMask:row1 1
-    * op or *tmp314 *tmp312 *tmp313
-    * op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow:result
-    * op shl *tmp316 :createAdjacentMask:result 7
-    * op and *tmp317 :createAdjacentMask:mask 0xFE
-    * op or :createAdjacentMask:result *tmp316 *tmp317
-    * set :createAdjacentMask:row2 :createAdjacentMask:row1
-    * set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label160
-    * op sub :createAdjacentMask:r :createAdjacentMask:r 1
-    * jump *label211 greaterThanEq :createAdjacentMask:r -4
-    * label *label161
-    * op shr *tmp304 :createAdjacentMask:result 1
-    * label *label156
-    * label *label163
-    * wait 1e-15
-    * read *tmp320 processor4 ":createTerrainMask*finished"
-    * jump *label163 equal *tmp320 false
-    * read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
-    * op or :excludeArea:mask *tmp304 :createCombinedMask:terrainMask
-    * set :excludeArea:maskX :createCombinedMask:x
-    * set :excludeArea:maskY :createCombinedMask:y
-    * set :excludeArea:areaX .coreX
-    * set :excludeArea:areaY .coreY
-    * set :excludeArea:areaWidth 15
-    * set :excludeArea:areaHeight 15
-    * setaddr :excludeArea*retaddr *label164 (h:*label164)
-    * call *label14 *invalid :excludeArea*retval (m:*label164) (h:*label164)
-    * label *label164
-    * set :createCombinedMask*retval :excludeArea*retval
-    * jump *label155 always
-    * label *label155
-    * return :createCombinedMask*retaddr
-    * end
   424 label *label19
   425 set .panelY -1
   426 set .panelX -1
 
   444 label *label166
   445 set :createCombinedMask:x .drillX
   446 set :createCombinedMask:y .drillY
-    * setaddr :createCombinedMask*retaddr *label170 (h:*label170)
-    * call *label18 *invalid :createCombinedMask*retval (m:*label170) (h:*label170)
-    * label *label170
+  447 label *label300
+  448 write @unit processor4 ":createTerrainMask:unit"
+  449 write :createCombinedMask:x processor4 ":createTerrainMask:x"
+  450 write :createCombinedMask:y processor4 ":createTerrainMask:y"
+  451 write false processor4 ":createTerrainMask*finished"
+  452 write 1 processor4 "@counter"
+  453 set :createAdjacentMask:result 0
+  454 op add *tmp305 :createCombinedMask:y 4
+  455 label *label301
+  456 set :createBlockMaskRow:result 0
+  457 set :createBlockMaskRow:c 4
+  458 label *label302
+  459 jump *label305 lessThan 4 -4
+  460 label *label303
+  461 op shl *tmp295 :createBlockMaskRow:result 1
+  462 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  463 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  464 op or :createBlockMaskRow:result *tmp295 *tmp297
+  465 label *label304
+  466 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  467 jump *label303 greaterThanEq :createBlockMaskRow:c -4
+  468 label *label305
+  469 jump *label306 always
+  470 label *label306
+  471 set :createAdjacentMask:row2 :createBlockMaskRow:result
+  472 op add *tmp307 :createCombinedMask:y 3
+  473 label *label307
+  474 set :createBlockMaskRow:result 0
+  475 set :createBlockMaskRow:c 4
+  476 label *label308
+  477 jump *label311 lessThan 4 -4
+  478 label *label309
+  479 op shl *tmp295 :createBlockMaskRow:result 1
+  480 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  481 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  482 op or :createBlockMaskRow:result *tmp295 *tmp297
+  483 label *label310
+  484 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  485 jump *label309 greaterThanEq :createBlockMaskRow:c -4
+  486 label *label311
+  487 jump *label312 always
+  488 label *label312
+  489 set :createAdjacentMask:row1 :createBlockMaskRow:result
+  490 set :createAdjacentMask:r 2
+  491 label *label313
+  492 jump *label322 lessThan 2 -4
+  493 label *label314
+  494 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
+  495 label *label315
+  496 set :createBlockMaskRow:result 0
+  497 set :createBlockMaskRow:c 4
+  498 label *label316
+  499 jump *label319 lessThan 4 -4
+  500 label *label317
+  501 op shl *tmp295 :createBlockMaskRow:result 1
+  502 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  503 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  504 op or :createBlockMaskRow:result *tmp295 *tmp297
+  505 label *label318
+  506 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  507 jump *label317 greaterThanEq :createBlockMaskRow:c -4
+  508 label *label319
+  509 jump *label320 always
+  510 label *label320
+  511 op shl *tmp311 :createAdjacentMask:row1 1
+  512 op or *tmp312 :createAdjacentMask:row2 *tmp311
+  513 op shr *tmp313 :createAdjacentMask:row1 1
+  514 op or *tmp314 *tmp312 *tmp313
+  515 op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow:result
+  516 op shl *tmp316 :createAdjacentMask:result 7
+  517 op and *tmp317 :createAdjacentMask:mask 0xFE
+  518 op or :createAdjacentMask:result *tmp316 *tmp317
+  519 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  520 set :createAdjacentMask:row1 :createBlockMaskRow:result
+  521 label *label321
+  522 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  523 jump *label314 greaterThanEq :createAdjacentMask:r -4
+  524 label *label322
+  525 op shr *tmp304 :createAdjacentMask:result 1
+  526 label *label323
+  527 label *label324
+  528 wait 1e-15
+  529 read *tmp320 processor4 ":createTerrainMask*finished"
+  530 jump *label324 equal *tmp320 false
+  531 read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
+  532 op or :excludeArea:mask *tmp304 :createCombinedMask:terrainMask
+  533 set :excludeArea:maskX :createCombinedMask:x
+  534 set :excludeArea:maskY :createCombinedMask:y
+  535 set :excludeArea:areaX .coreX
+  536 set :excludeArea:areaY .coreY
+  537 set :excludeArea:areaWidth 15
+  538 set :excludeArea:areaHeight 15
+  539 setaddr :excludeArea*retaddr *label325 (h:*label325)
+  540 call *label14 *invalid :excludeArea*retval (m:*label325) (h:*label325)
+  541 label *label325
+  542 set :createCombinedMask*retval :excludeArea*retval
+  543 jump *label326 always
+  544 label *label326
   545 op or :layoutThoriumDrillAtLocation:terrainMask :createCombinedMask*retval 7575371776
   546 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   547 set :layoutThoriumDrillAtLocation:mask2x2 387
 
   746 op sub :layoutThoriumDrillAtLocation:newY .drillY :layoutThoriumDrillAtLocation:sy
   747 set :createCombinedMask:x :layoutThoriumDrillAtLocation:newX
   748 set :createCombinedMask:y :layoutThoriumDrillAtLocation:newY
-    * setaddr :createCombinedMask*retaddr *label190 (h:*label190)
-    * call *label18 *invalid :createCombinedMask*retval (m:*label190) (h:*label190)
-    * label *label190
+  749 label *label327
+  750 write @unit processor4 ":createTerrainMask:unit"
+  751 write :createCombinedMask:x processor4 ":createTerrainMask:x"
+  752 write :createCombinedMask:y processor4 ":createTerrainMask:y"
+  753 write false processor4 ":createTerrainMask*finished"
+  754 write 1 processor4 "@counter"
+  755 set :createAdjacentMask:result 0
+  756 op add *tmp305 :createCombinedMask:y 4
+  757 label *label328
+  758 set :createBlockMaskRow:result 0
+  759 set :createBlockMaskRow:c 4
+  760 label *label329
+  761 jump *label332 lessThan 4 -4
+  762 label *label330
+  763 op shl *tmp295 :createBlockMaskRow:result 1
+  764 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  765 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  766 op or :createBlockMaskRow:result *tmp295 *tmp297
+  767 label *label331
+  768 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  769 jump *label330 greaterThanEq :createBlockMaskRow:c -4
+  770 label *label332
+  771 jump *label333 always
+  772 label *label333
+  773 set :createAdjacentMask:row2 :createBlockMaskRow:result
+  774 op add *tmp307 :createCombinedMask:y 3
+  775 label *label334
+  776 set :createBlockMaskRow:result 0
+  777 set :createBlockMaskRow:c 4
+  778 label *label335
+  779 jump *label338 lessThan 4 -4
+  780 label *label336
+  781 op shl *tmp295 :createBlockMaskRow:result 1
+  782 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  783 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  784 op or :createBlockMaskRow:result *tmp295 *tmp297
+  785 label *label337
+  786 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  787 jump *label336 greaterThanEq :createBlockMaskRow:c -4
+  788 label *label338
+  789 jump *label339 always
+  790 label *label339
+  791 set :createAdjacentMask:row1 :createBlockMaskRow:result
+  792 set :createAdjacentMask:r 2
+  793 label *label340
+  794 jump *label349 lessThan 2 -4
+  795 label *label341
+  796 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
+  797 label *label342
+  798 set :createBlockMaskRow:result 0
+  799 set :createBlockMaskRow:c 4
+  800 label *label343
+  801 jump *label346 lessThan 4 -4
+  802 label *label344
+  803 op shl *tmp295 :createBlockMaskRow:result 1
+  804 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  805 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  806 op or :createBlockMaskRow:result *tmp295 *tmp297
+  807 label *label345
+  808 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  809 jump *label344 greaterThanEq :createBlockMaskRow:c -4
+  810 label *label346
+  811 jump *label347 always
+  812 label *label347
+  813 op shl *tmp311 :createAdjacentMask:row1 1
+  814 op or *tmp312 :createAdjacentMask:row2 *tmp311
+  815 op shr *tmp313 :createAdjacentMask:row1 1
+  816 op or *tmp314 *tmp312 *tmp313
+  817 op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow:result
+  818 op shl *tmp316 :createAdjacentMask:result 7
+  819 op and *tmp317 :createAdjacentMask:mask 0xFE
+  820 op or :createAdjacentMask:result *tmp316 *tmp317
+  821 set :createAdjacentMask:row2 :createAdjacentMask:row1
+  822 set :createAdjacentMask:row1 :createBlockMaskRow:result
+  823 label *label348
+  824 op sub :createAdjacentMask:r :createAdjacentMask:r 1
+  825 jump *label341 greaterThanEq :createAdjacentMask:r -4
+  826 label *label349
+  827 op shr *tmp304 :createAdjacentMask:result 1
+  828 label *label350
+  829 label *label351
+  830 wait 1e-15
+  831 read *tmp320 processor4 ":createTerrainMask*finished"
+  832 jump *label351 equal *tmp320 false
+  833 read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
+  834 op or :excludeArea:mask *tmp304 :createCombinedMask:terrainMask
+  835 set :excludeArea:maskX :createCombinedMask:x
+  836 set :excludeArea:maskY :createCombinedMask:y
+  837 set :excludeArea:areaX .coreX
+  838 set :excludeArea:areaY .coreY
+  839 set :excludeArea:areaWidth 15
+  840 set :excludeArea:areaHeight 15
+  841 setaddr :excludeArea*retaddr *label352 (h:*label352)
+  842 call *label14 *invalid :excludeArea*retval (m:*label352) (h:*label352)
+  843 label *label352
+  844 set :createCombinedMask*retval :excludeArea*retval
+  845 jump *label353 always
+  846 label *label353
   847 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
   848 label *label245
   849 op abs *tmp166 :layoutThoriumDrillAtLocation:sx

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
   542 set :createCombinedMask*retval :excludeArea*retval
   543 jump *label326 always
   544 label *label326
-    * op or :layoutThoriumDrillAtLocation:terrainMask :createCombinedMask*retval 7575371776
+  545 op or :layoutThoriumDrillAtLocation:terrainMask :excludeArea*retval 7575371776
   546 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   547 set :layoutThoriumDrillAtLocation:mask2x2 387
   548 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
 
   748 set :createCombinedMask:y :layoutThoriumDrillAtLocation:newY
   749 label *label327
   750 write @unit processor4 ":createTerrainMask:unit"
-    * write :createCombinedMask:x processor4 ":createTerrainMask:x"
-    * write :createCombinedMask:y processor4 ":createTerrainMask:y"
+  751 write :layoutThoriumDrillAtLocation:newX processor4 ":createTerrainMask:x"
+  752 write :layoutThoriumDrillAtLocation:newY processor4 ":createTerrainMask:y"
   753 write false processor4 ":createTerrainMask*finished"
   754 write 1 processor4 "@counter"
   755 set :createAdjacentMask:result 0
-    * op add *tmp305 :createCombinedMask:y 4
+  756 op add *tmp305 :layoutThoriumDrillAtLocation:newY 4
   757 label *label328
   758 set :createBlockMaskRow:result 0
   759 set :createBlockMaskRow:c 4
 
   761 jump *label332 lessThan 4 -4
   762 label *label330
   763 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  764 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
   765 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   766 op or :createBlockMaskRow:result *tmp295 *tmp297
   767 label *label331
 
   771 jump *label333 always
   772 label *label333
   773 set :createAdjacentMask:row2 :createBlockMaskRow:result
-    * op add *tmp307 :createCombinedMask:y 3
+  774 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
   775 label *label334
   776 set :createBlockMaskRow:result 0
   777 set :createBlockMaskRow:c 4
 
   779 jump *label338 lessThan 4 -4
   780 label *label336
   781 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  782 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
   783 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   784 op or :createBlockMaskRow:result *tmp295 *tmp297
   785 label *label337
 
   793 label *label340
   794 jump *label349 lessThan 2 -4
   795 label *label341
-    * op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
+  796 op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdjacentMask:r
   797 label *label342
   798 set :createBlockMaskRow:result 0
   799 set :createBlockMaskRow:c 4
 
   801 jump *label346 lessThan 4 -4
   802 label *label344
   803 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  804 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
   805 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   806 op or :createBlockMaskRow:result *tmp295 *tmp297
   807 label *label345
 
   832 jump *label351 equal *tmp320 false
   833 read :createCombinedMask:terrainMask processor4 ":createTerrainMask*retval"
   834 op or :excludeArea:mask *tmp304 :createCombinedMask:terrainMask
-    * set :excludeArea:maskX :createCombinedMask:x
-    * set :excludeArea:maskY :createCombinedMask:y
+  835 set :excludeArea:maskX :layoutThoriumDrillAtLocation:newX
+  836 set :excludeArea:maskY :layoutThoriumDrillAtLocation:newY
   837 set :excludeArea:areaX .coreX
   838 set :excludeArea:areaY .coreY
   839 set :excludeArea:areaWidth 15
 
   884 set :shiftMask*retval :shiftMask:mask
   885 jump *label255 always
   886 label *label255
-    * op or :layoutThoriumDrillAtLocation:combinedMask :createCombinedMask*retval :shiftMask*retval
+  887 op or :layoutThoriumDrillAtLocation:combinedMask :excludeArea*retval :shiftMask*retval
   888 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
   889 op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy
   890 set :tryPlaceGenerator:centerX *tmp362

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-2 instructions):
 
   539 setaddr :excludeArea*retaddr *label325 (h:*label325)
   540 call *label14 *invalid :excludeArea*retval (m:*label325) (h:*label325)
   541 label *label325
-    * set :createCombinedMask*retval :excludeArea*retval
   542 jump *label326 always
   543 label *label326
   544 op or :layoutThoriumDrillAtLocation:terrainMask :excludeArea*retval 7575371776
 
   840 setaddr :excludeArea*retaddr *label352 (h:*label352)
   841 call *label14 *invalid :excludeArea*retval (m:*label352) (h:*label352)
   842 label *label352
-    * set :createCombinedMask*retval :excludeArea*retval
   843 jump *label353 always
   844 label *label353
   845 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask

Modifications by Iterated phase, Jump Normalization, pass 2, iteration 1 (-9 instructions):
 
   308 set :createMatrixOfSize:matrix :createMatrixOfSize:row
   309 set :createMatrixOfSize:i 1
   310 label *label108
-    * jump *label110 greaterThanEq 1 7
   311 label *label207
   312 jump *label111 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
   313 jump *label110 always
 
   455 set :createBlockMaskRow:result 0
   456 set :createBlockMaskRow:c 4
   457 label *label302
-    * jump *label305 lessThan 4 -4
   458 label *label303
   459 op shl *tmp295 :createBlockMaskRow:result 1
   460 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
 
   472 set :createBlockMaskRow:result 0
   473 set :createBlockMaskRow:c 4
   474 label *label308
-    * jump *label311 lessThan 4 -4
   475 label *label309
   476 op shl *tmp295 :createBlockMaskRow:result 1
   477 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
 
   486 set :createAdjacentMask:row1 :createBlockMaskRow:result
   487 set :createAdjacentMask:r 2
   488 label *label313
-    * jump *label322 lessThan 2 -4
   489 label *label314
   490 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
   491 label *label315
   492 set :createBlockMaskRow:result 0
   493 set :createBlockMaskRow:c 4
   494 label *label316
-    * jump *label319 lessThan 4 -4
   495 label *label317
   496 op shl *tmp295 :createBlockMaskRow:result 1
   497 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
 
   752 set :createBlockMaskRow:result 0
   753 set :createBlockMaskRow:c 4
   754 label *label329
-    * jump *label332 lessThan 4 -4
   755 label *label330
   756 op shl *tmp295 :createBlockMaskRow:result 1
   757 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
 
   769 set :createBlockMaskRow:result 0
   770 set :createBlockMaskRow:c 4
   771 label *label335
-    * jump *label338 lessThan 4 -4
   772 label *label336
   773 op shl *tmp295 :createBlockMaskRow:result 1
   774 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
 
   783 set :createAdjacentMask:row1 :createBlockMaskRow:result
   784 set :createAdjacentMask:r 2
   785 label *label340
-    * jump *label349 lessThan 2 -4
   786 label *label341
   787 op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdjacentMask:r
   788 label *label342
   789 set :createBlockMaskRow:result 0
   790 set :createBlockMaskRow:c 4
   791 label *label343
-    * jump *label346 lessThan 4 -4
   792 label *label344
   793 op shl *tmp295 :createBlockMaskRow:result 1
   794 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-19 instructions):
 
   145 jump *label206 lessThan :visited:i *tmp75
   146 label *label59
   147 set *tmp74 false
-    * jump *label56 always
   148 label *label56
   149 jump *label54 notEqual *tmp74 false
   150 op div *tmp92 2 .angle
 
   163 jump *label205 lessThan :locateOreAway:distance :findDrillLocation:distanceLimit
   164 label *label37
   165 set *tmp28 false
-    * jump *label34 always
   166 label *label34
   167 set :findDrillLocation:oreX :locateOreAway:x
   168 set :findDrillLocation:oreY :locateOreAway:y
 
   317 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
   318 jump *label207 lessThan :createMatrixOfSize:i 7
   319 label *label110
-    * jump *label107 always
   320 label *label107
   321 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX
   322 op sub *tmp213 7 :excludeArea:blockSizeX
 
   361 label *label242
   362 label *label243
   363 set :shiftMask*retval :shiftMask:mask
-    * jump *label244 always
   364 label *label244
   365 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
-    * jump *label102 always
   366 jump *label104 always
   367 label *label103
   368 set :excludeArea*retval :excludeArea:mask
-    * jump *label102 always
   369 label *label104
   370 label *label102
   371 return :excludeArea*retaddr
 
   410 jump *label208 lessThanEq :findPossiblePlacement:y 3
   411 label *label117
   412 set :findPossiblePlacement*retval -1
-    * jump *label114 always
   413 label *label114
   414 return :findPossiblePlacement*retaddr
   415 end
 
   457 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   458 jump *label303 greaterThanEq :createBlockMaskRow:c -4
   459 label *label305
-    * jump *label306 always
   460 label *label306
   461 set :createAdjacentMask:row2 :createBlockMaskRow:result
   462 op add *tmp307 :createCombinedMask:y 3
 
   473 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   474 jump *label309 greaterThanEq :createBlockMaskRow:c -4
   475 label *label311
-    * jump *label312 always
   476 label *label312
   477 set :createAdjacentMask:row1 :createBlockMaskRow:result
   478 set :createAdjacentMask:r 2
 
   492 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   493 jump *label317 greaterThanEq :createBlockMaskRow:c -4
   494 label *label319
-    * jump *label320 always
   495 label *label320
   496 op shl *tmp311 :createAdjacentMask:row1 1
   497 op or *tmp312 :createAdjacentMask:row2 *tmp311
 
   524 setaddr :excludeArea*retaddr *label325 (h:*label325)
   525 call *label14 *invalid :excludeArea*retval (m:*label325) (h:*label325)
   526 label *label325
-    * jump *label326 always
   527 label *label326
   528 op or :layoutThoriumDrillAtLocation:terrainMask :excludeArea*retval 7575371776
   529 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
 
   699 label *label275
   700 label *label276
   701 set :tryPlaceGenerator*retval true
-    * jump *label277 always
   702 label *label277
   703 jump *label180 equal :tryPlaceGenerator*retval false
   704 set :layoutThoriumDrillAtLocation*retval true
 
   749 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   750 jump *label330 greaterThanEq :createBlockMaskRow:c -4
   751 label *label332
-    * jump *label333 always
   752 label *label333
   753 set :createAdjacentMask:row2 :createBlockMaskRow:result
   754 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
 
   765 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   766 jump *label336 greaterThanEq :createBlockMaskRow:c -4
   767 label *label338
-    * jump *label339 always
   768 label *label339
   769 set :createAdjacentMask:row1 :createBlockMaskRow:result
   770 set :createAdjacentMask:r 2
 
   784 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   785 jump *label344 greaterThanEq :createBlockMaskRow:c -4
   786 label *label346
-    * jump *label347 always
   787 label *label347
   788 op shl *tmp311 :createAdjacentMask:row1 1
   789 op or *tmp312 :createAdjacentMask:row2 *tmp311
 
   816 setaddr :excludeArea*retaddr *label352 (h:*label352)
   817 call *label14 *invalid :excludeArea*retval (m:*label352) (h:*label352)
   818 label *label352
-    * jump *label353 always
   819 label *label353
   820 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
   821 label *label245
 
   855 label *label253
   856 label *label254
   857 set :shiftMask*retval :shiftMask:mask
-    * jump *label255 always
   858 label *label255
   859 op or :layoutThoriumDrillAtLocation:combinedMask :excludeArea*retval :shiftMask*retval
   860 op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx
 
   978 label *label297
   979 label *label298
   980 set :tryPlaceGenerator*retval true
-    * jump *label299 always
   981 label *label299
   982 jump *label192 equal :tryPlaceGenerator*retval false
   983 set :layoutThoriumDrillAtLocation*retval true
 
   989 multilabel *label189 (m:marker0)
   990 label *label185
   991 set :layoutThoriumDrillAtLocation*retval true
-    * jump *label165 always
   992 label *label165
   993 return :layoutThoriumDrillAtLocation*retaddr
   994 end

Modifications by Iterated phase, Loop Hoisting, pass 2, iteration 1:
 
    67 op mul .mapProgress .angle .angle
    68 label *label35
    69 jump *label37 greaterThanEq :locateOreAway:distance :findDrillLocation:distanceLimit
+   70 op sub *tmp37 @mapw 5
+   71 op sub *tmp44 @maph 5
    72 label *label205
    73 op div :locateOreAway:a .angle @degToRad
    74 op sin *tmp34 :locateOreAway:a
    75 op mul *tmp35 *tmp34 :locateOreAway:distance
    76 op add *tmp36 :findDrillLocation:x *tmp35
-    * op sub *tmp37 @mapw 5
    77 op max *tmp39 *tmp36 5
    78 op min *tmp38 *tmp39 *tmp37
    79 label *label38
    80 op cos *tmp41 :locateOreAway:a
    81 op mul *tmp42 *tmp41 :locateOreAway:distance
    82 op add *tmp43 :findDrillLocation:y *tmp42
-    * op sub *tmp44 @maph 5
    83 op max *tmp46 *tmp43 5
    84 op min *tmp45 *tmp46 *tmp44
    85 label *label39

Modifications by Iterated phase, If Expression Optimization, pass 2, iteration 1:
 
   297 op sub *tmp197 :excludeArea:maskY :excludeArea:areaY
   298 op abs *tmp198 *tmp197
   299 op sub :excludeArea:overlapY *tmp196 *tmp198
-    * jump *label103 lessThanEq :excludeArea:overlapX 0
-    * jump *label103 lessThanEq :excludeArea:overlapY 0
+  300 set :excludeArea*retval :excludeArea:mask
+  301 jump *label104 lessThanEq :excludeArea:overlapX 0
+  302 jump *label104 lessThanEq :excludeArea:overlapY 0
   303 op min :excludeArea:blockSizeX 7 :excludeArea:overlapX
   304 op min :excludeArea:blockSizeY 7 :excludeArea:overlapY
   305 op shl *tmp206 1 :excludeArea:blockSizeX
 
   365 label *label244
   366 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   367 jump *label104 always
-    * label *label103
-    * set :excludeArea*retval :excludeArea:mask
   368 label *label104
   369 label *label102
   370 return :excludeArea*retaddr

Modifications by Unroll loop at OreLocator.mnd:480:5 (+39 instructions):
 
   772 op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdjacentMask:r
   773 label *label342
   774 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label343
-    * label *label344
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label345
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label344 greaterThanEq :createBlockMaskRow:c -4
-    * label *label346
+  775 set :createBlockMaskRow:c 4
+  776 label *label354
+  777 op shl *tmp295 :createBlockMaskRow:result 1
+  778 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  779 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  780 op or :createBlockMaskRow:result *tmp295 *tmp297
+  781 label *label355
+  782 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  783 op shl *tmp295 :createBlockMaskRow:result 1
+  784 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  785 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  786 op or :createBlockMaskRow:result *tmp295 *tmp297
+  787 label *label356
+  788 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  789 op shl *tmp295 :createBlockMaskRow:result 1
+  790 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  791 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  792 op or :createBlockMaskRow:result *tmp295 *tmp297
+  793 label *label357
+  794 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  795 op shl *tmp295 :createBlockMaskRow:result 1
+  796 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  797 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  798 op or :createBlockMaskRow:result *tmp295 *tmp297
+  799 label *label358
+  800 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  801 op shl *tmp295 :createBlockMaskRow:result 1
+  802 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  803 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  804 op or :createBlockMaskRow:result *tmp295 *tmp297
+  805 label *label359
+  806 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  807 op shl *tmp295 :createBlockMaskRow:result 1
+  808 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  809 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  810 op or :createBlockMaskRow:result *tmp295 *tmp297
+  811 label *label360
+  812 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  813 op shl *tmp295 :createBlockMaskRow:result 1
+  814 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  815 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  816 op or :createBlockMaskRow:result *tmp295 *tmp297
+  817 label *label361
+  818 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  819 op shl *tmp295 :createBlockMaskRow:result 1
+  820 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  821 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  822 op or :createBlockMaskRow:result *tmp295 *tmp297
+  823 label *label362
+  824 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  825 op shl *tmp295 :createBlockMaskRow:result 1
+  826 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  827 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  828 op or :createBlockMaskRow:result *tmp295 *tmp297
+  829 label *label363
+  830 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  831 label *label346
   832 label *label347
   833 op shl *tmp311 :createAdjacentMask:row1 1
   834 op or *tmp312 :createAdjacentMask:row2 *tmp311

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1:
 
   774 set :createBlockMaskRow:result 0
   775 set :createBlockMaskRow:c 4
   776 label *label354
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  777 op shl *tmp295 0 1
+  778 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   779 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  780 op or :createBlockMaskRow:result 0 *tmp297
   781 label *label355
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  782 op sub :createBlockMaskRow:c 4 1
   783 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  784 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   785 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   786 op or :createBlockMaskRow:result *tmp295 *tmp297
   787 label *label356
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  788 op sub :createBlockMaskRow:c 3 1
   789 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  790 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   791 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   792 op or :createBlockMaskRow:result *tmp295 *tmp297
   793 label *label357
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  794 op sub :createBlockMaskRow:c 2 1
   795 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  796 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   797 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   798 op or :createBlockMaskRow:result *tmp295 *tmp297
   799 label *label358
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  800 op sub :createBlockMaskRow:c 1 1
   801 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  802 op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
   803 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   804 op or :createBlockMaskRow:result *tmp295 *tmp297
   805 label *label359
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  806 op sub :createBlockMaskRow:c 0 1
   807 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  808 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   809 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   810 op or :createBlockMaskRow:result *tmp295 *tmp297
   811 label *label360
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  812 op sub :createBlockMaskRow:c -1 1
   813 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  814 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   815 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   816 op or :createBlockMaskRow:result *tmp295 *tmp297
   817 label *label361
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  818 op sub :createBlockMaskRow:c -2 1
   819 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  820 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   821 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   822 op or :createBlockMaskRow:result *tmp295 *tmp297
   823 label *label362
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  824 op sub :createBlockMaskRow:c -3 1
   825 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  826 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   827 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   828 op or :createBlockMaskRow:result *tmp295 *tmp297
   829 label *label363
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  830 op sub :createBlockMaskRow:c -4 1
   831 label *label346
   832 label *label347
   833 op shl *tmp311 :createAdjacentMask:row1 1

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2 (-11 instructions):
 
   771 label *label341
   772 op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdjacentMask:r
   773 label *label342
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   774 label *label354
-    * op shl *tmp295 0 1
   775 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   776 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   777 op or :createBlockMaskRow:result 0 *tmp297
   778 label *label355
-    * op sub :createBlockMaskRow:c 4 1
   779 op shl *tmp295 :createBlockMaskRow:result 1
   780 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   781 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   782 op or :createBlockMaskRow:result *tmp295 *tmp297
   783 label *label356
-    * op sub :createBlockMaskRow:c 3 1
   784 op shl *tmp295 :createBlockMaskRow:result 1
   785 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   786 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   787 op or :createBlockMaskRow:result *tmp295 *tmp297
   788 label *label357
-    * op sub :createBlockMaskRow:c 2 1
   789 op shl *tmp295 :createBlockMaskRow:result 1
   790 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   791 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   792 op or :createBlockMaskRow:result *tmp295 *tmp297
   793 label *label358
-    * op sub :createBlockMaskRow:c 1 1
   794 op shl *tmp295 :createBlockMaskRow:result 1
   795 op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
   796 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   797 op or :createBlockMaskRow:result *tmp295 *tmp297
   798 label *label359
-    * op sub :createBlockMaskRow:c 0 1
   799 op shl *tmp295 :createBlockMaskRow:result 1
   800 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   801 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   802 op or :createBlockMaskRow:result *tmp295 *tmp297
   803 label *label360
-    * op sub :createBlockMaskRow:c -1 1
   804 op shl *tmp295 :createBlockMaskRow:result 1
   805 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   806 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   807 op or :createBlockMaskRow:result *tmp295 *tmp297
   808 label *label361
-    * op sub :createBlockMaskRow:c -2 1
   809 op shl *tmp295 :createBlockMaskRow:result 1
   810 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   811 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   812 op or :createBlockMaskRow:result *tmp295 *tmp297
   813 label *label362
-    * op sub :createBlockMaskRow:c -3 1
   814 op shl *tmp295 :createBlockMaskRow:result 1
   815 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   816 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299

Modifications by Unroll loop at OreLocator.mnd:480:5 (+39 instructions):
 
   480 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
   481 label *label315
   482 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label316
-    * label *label317
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label318
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label317 greaterThanEq :createBlockMaskRow:c -4
-    * label *label319
+  483 set :createBlockMaskRow:c 4
+  484 label *label364
+  485 op shl *tmp295 :createBlockMaskRow:result 1
+  486 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  487 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  488 op or :createBlockMaskRow:result *tmp295 *tmp297
+  489 label *label365
+  490 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  491 op shl *tmp295 :createBlockMaskRow:result 1
+  492 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  493 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  494 op or :createBlockMaskRow:result *tmp295 *tmp297
+  495 label *label366
+  496 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  497 op shl *tmp295 :createBlockMaskRow:result 1
+  498 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  499 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  500 op or :createBlockMaskRow:result *tmp295 *tmp297
+  501 label *label367
+  502 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  503 op shl *tmp295 :createBlockMaskRow:result 1
+  504 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  505 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  506 op or :createBlockMaskRow:result *tmp295 *tmp297
+  507 label *label368
+  508 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  509 op shl *tmp295 :createBlockMaskRow:result 1
+  510 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  511 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  512 op or :createBlockMaskRow:result *tmp295 *tmp297
+  513 label *label369
+  514 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  515 op shl *tmp295 :createBlockMaskRow:result 1
+  516 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  517 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  518 op or :createBlockMaskRow:result *tmp295 *tmp297
+  519 label *label370
+  520 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  521 op shl *tmp295 :createBlockMaskRow:result 1
+  522 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  523 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  524 op or :createBlockMaskRow:result *tmp295 *tmp297
+  525 label *label371
+  526 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  527 op shl *tmp295 :createBlockMaskRow:result 1
+  528 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  529 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  530 op or :createBlockMaskRow:result *tmp295 *tmp297
+  531 label *label372
+  532 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  533 op shl *tmp295 :createBlockMaskRow:result 1
+  534 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  535 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  536 op or :createBlockMaskRow:result *tmp295 *tmp297
+  537 label *label373
+  538 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  539 label *label319
   540 label *label320
   541 op shl *tmp311 :createAdjacentMask:row1 1
   542 op or *tmp312 :createAdjacentMask:row2 *tmp311

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1:
 
   482 set :createBlockMaskRow:result 0
   483 set :createBlockMaskRow:c 4
   484 label *label364
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  485 op shl *tmp295 0 1
+  486 op add *tmp296 :createCombinedMask:x 4
   487 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  488 op or :createBlockMaskRow:result 0 *tmp297
   489 label *label365
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  490 op sub :createBlockMaskRow:c 4 1
   491 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  492 op add *tmp296 :createCombinedMask:x 3
   493 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   494 op or :createBlockMaskRow:result *tmp295 *tmp297
   495 label *label366
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  496 op sub :createBlockMaskRow:c 3 1
   497 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  498 op add *tmp296 :createCombinedMask:x 2
   499 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   500 op or :createBlockMaskRow:result *tmp295 *tmp297
   501 label *label367
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  502 op sub :createBlockMaskRow:c 2 1
   503 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  504 op add *tmp296 :createCombinedMask:x 1
   505 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   506 op or :createBlockMaskRow:result *tmp295 *tmp297
   507 label *label368
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  508 op sub :createBlockMaskRow:c 1 1
   509 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  510 op add *tmp296 :createCombinedMask:x 0
   511 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   512 op or :createBlockMaskRow:result *tmp295 *tmp297
   513 label *label369
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  514 op sub :createBlockMaskRow:c 0 1
   515 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  516 op add *tmp296 :createCombinedMask:x -1
   517 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   518 op or :createBlockMaskRow:result *tmp295 *tmp297
   519 label *label370
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  520 op sub :createBlockMaskRow:c -1 1
   521 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  522 op add *tmp296 :createCombinedMask:x -2
   523 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   524 op or :createBlockMaskRow:result *tmp295 *tmp297
   525 label *label371
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  526 op sub :createBlockMaskRow:c -2 1
   527 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  528 op add *tmp296 :createCombinedMask:x -3
   529 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   530 op or :createBlockMaskRow:result *tmp295 *tmp297
   531 label *label372
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  532 op sub :createBlockMaskRow:c -3 1
   533 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  534 op add *tmp296 :createCombinedMask:x -4
   535 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   536 op or :createBlockMaskRow:result *tmp295 *tmp297
   537 label *label373
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  538 op sub :createBlockMaskRow:c -4 1
   539 label *label319
   540 label *label320
   541 op shl *tmp311 :createAdjacentMask:row1 1

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2 (-11 instructions):
 
   479 label *label314
   480 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
   481 label *label315
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   482 label *label364
-    * op shl *tmp295 0 1
   483 op add *tmp296 :createCombinedMask:x 4
   484 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   485 op or :createBlockMaskRow:result 0 *tmp297
   486 label *label365
-    * op sub :createBlockMaskRow:c 4 1
   487 op shl *tmp295 :createBlockMaskRow:result 1
   488 op add *tmp296 :createCombinedMask:x 3
   489 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   490 op or :createBlockMaskRow:result *tmp295 *tmp297
   491 label *label366
-    * op sub :createBlockMaskRow:c 3 1
   492 op shl *tmp295 :createBlockMaskRow:result 1
   493 op add *tmp296 :createCombinedMask:x 2
   494 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   495 op or :createBlockMaskRow:result *tmp295 *tmp297
   496 label *label367
-    * op sub :createBlockMaskRow:c 2 1
   497 op shl *tmp295 :createBlockMaskRow:result 1
   498 op add *tmp296 :createCombinedMask:x 1
   499 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   500 op or :createBlockMaskRow:result *tmp295 *tmp297
   501 label *label368
-    * op sub :createBlockMaskRow:c 1 1
   502 op shl *tmp295 :createBlockMaskRow:result 1
   503 op add *tmp296 :createCombinedMask:x 0
   504 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   505 op or :createBlockMaskRow:result *tmp295 *tmp297
   506 label *label369
-    * op sub :createBlockMaskRow:c 0 1
   507 op shl *tmp295 :createBlockMaskRow:result 1
   508 op add *tmp296 :createCombinedMask:x -1
   509 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   510 op or :createBlockMaskRow:result *tmp295 *tmp297
   511 label *label370
-    * op sub :createBlockMaskRow:c -1 1
   512 op shl *tmp295 :createBlockMaskRow:result 1
   513 op add *tmp296 :createCombinedMask:x -2
   514 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   515 op or :createBlockMaskRow:result *tmp295 *tmp297
   516 label *label371
-    * op sub :createBlockMaskRow:c -2 1
   517 op shl *tmp295 :createBlockMaskRow:result 1
   518 op add *tmp296 :createCombinedMask:x -3
   519 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   520 op or :createBlockMaskRow:result *tmp295 *tmp297
   521 label *label372
-    * op sub :createBlockMaskRow:c -3 1
   522 op shl *tmp295 :createBlockMaskRow:result 1
   523 op add *tmp296 :createCombinedMask:x -4
   524 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299

Modifications by Unroll loop at OreLocator.mnd:480:5 (+39 instructions):
 
   772 op add *tmp305 :layoutThoriumDrillAtLocation:newY 4
   773 label *label328
   774 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label329
-    * label *label330
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label331
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label330 greaterThanEq :createBlockMaskRow:c -4
-    * label *label332
+  775 set :createBlockMaskRow:c 4
+  776 label *label374
+  777 op shl *tmp295 :createBlockMaskRow:result 1
+  778 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  779 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  780 op or :createBlockMaskRow:result *tmp295 *tmp297
+  781 label *label375
+  782 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  783 op shl *tmp295 :createBlockMaskRow:result 1
+  784 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  785 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  786 op or :createBlockMaskRow:result *tmp295 *tmp297
+  787 label *label376
+  788 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  789 op shl *tmp295 :createBlockMaskRow:result 1
+  790 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  791 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  792 op or :createBlockMaskRow:result *tmp295 *tmp297
+  793 label *label377
+  794 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  795 op shl *tmp295 :createBlockMaskRow:result 1
+  796 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  797 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  798 op or :createBlockMaskRow:result *tmp295 *tmp297
+  799 label *label378
+  800 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  801 op shl *tmp295 :createBlockMaskRow:result 1
+  802 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  803 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  804 op or :createBlockMaskRow:result *tmp295 *tmp297
+  805 label *label379
+  806 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  807 op shl *tmp295 :createBlockMaskRow:result 1
+  808 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  809 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  810 op or :createBlockMaskRow:result *tmp295 *tmp297
+  811 label *label380
+  812 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  813 op shl *tmp295 :createBlockMaskRow:result 1
+  814 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  815 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  816 op or :createBlockMaskRow:result *tmp295 *tmp297
+  817 label *label381
+  818 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  819 op shl *tmp295 :createBlockMaskRow:result 1
+  820 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  821 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  822 op or :createBlockMaskRow:result *tmp295 *tmp297
+  823 label *label382
+  824 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  825 op shl *tmp295 :createBlockMaskRow:result 1
+  826 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  827 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  828 op or :createBlockMaskRow:result *tmp295 *tmp297
+  829 label *label383
+  830 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  831 label *label332
   832 label *label333
   833 set :createAdjacentMask:row2 :createBlockMaskRow:result
   834 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-1 instructions):
 
   825 op shl *tmp295 :createBlockMaskRow:result 1
   826 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
   827 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  828 op or :createAdjacentMask:row2 *tmp295 *tmp297
   829 label *label383
   830 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   831 label *label332
   832 label *label333
-    * set :createAdjacentMask:row2 :createBlockMaskRow:result
   833 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
   834 label *label334
   835 set :createBlockMaskRow:result 0

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   774 set :createBlockMaskRow:result 0
   775 set :createBlockMaskRow:c 4
   776 label *label374
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  777 op shl *tmp295 0 1
+  778 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   779 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  780 op or :createBlockMaskRow:result 0 *tmp297
   781 label *label375
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  782 op sub :createBlockMaskRow:c 4 1
   783 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  784 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   785 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   786 op or :createBlockMaskRow:result *tmp295 *tmp297
   787 label *label376
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  788 op sub :createBlockMaskRow:c 3 1
   789 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  790 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   791 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   792 op or :createBlockMaskRow:result *tmp295 *tmp297
   793 label *label377
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  794 op sub :createBlockMaskRow:c 2 1
   795 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  796 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   797 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   798 op or :createBlockMaskRow:result *tmp295 *tmp297
   799 label *label378
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  800 op sub :createBlockMaskRow:c 1 1
   801 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  802 op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
   803 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   804 op or :createBlockMaskRow:result *tmp295 *tmp297
   805 label *label379
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  806 op sub :createBlockMaskRow:c 0 1
   807 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  808 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   809 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   810 op or :createBlockMaskRow:result *tmp295 *tmp297
   811 label *label380
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  812 op sub :createBlockMaskRow:c -1 1
   813 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  814 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   815 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   816 op or :createBlockMaskRow:result *tmp295 *tmp297
   817 label *label381
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  818 op sub :createBlockMaskRow:c -2 1
   819 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  820 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   821 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   822 op or :createBlockMaskRow:result *tmp295 *tmp297
   823 label *label382
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  824 op sub :createBlockMaskRow:c -3 1
   825 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  826 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   827 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   828 op or :createAdjacentMask:row2 *tmp295 *tmp297
   829 label *label383
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  830 op sub :createBlockMaskRow:c -4 1
   831 label *label332
   832 label *label333
   833 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 3 (-12 instructions):
 
   771 set :createAdjacentMask:result 0
   772 op add *tmp305 :layoutThoriumDrillAtLocation:newY 4
   773 label *label328
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   774 label *label374
-    * op shl *tmp295 0 1
   775 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   776 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   777 op or :createBlockMaskRow:result 0 *tmp297
   778 label *label375
-    * op sub :createBlockMaskRow:c 4 1
   779 op shl *tmp295 :createBlockMaskRow:result 1
   780 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   781 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   782 op or :createBlockMaskRow:result *tmp295 *tmp297
   783 label *label376
-    * op sub :createBlockMaskRow:c 3 1
   784 op shl *tmp295 :createBlockMaskRow:result 1
   785 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   786 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   787 op or :createBlockMaskRow:result *tmp295 *tmp297
   788 label *label377
-    * op sub :createBlockMaskRow:c 2 1
   789 op shl *tmp295 :createBlockMaskRow:result 1
   790 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   791 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   792 op or :createBlockMaskRow:result *tmp295 *tmp297
   793 label *label378
-    * op sub :createBlockMaskRow:c 1 1
   794 op shl *tmp295 :createBlockMaskRow:result 1
   795 op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
   796 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   797 op or :createBlockMaskRow:result *tmp295 *tmp297
   798 label *label379
-    * op sub :createBlockMaskRow:c 0 1
   799 op shl *tmp295 :createBlockMaskRow:result 1
   800 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   801 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   802 op or :createBlockMaskRow:result *tmp295 *tmp297
   803 label *label380
-    * op sub :createBlockMaskRow:c -1 1
   804 op shl *tmp295 :createBlockMaskRow:result 1
   805 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   806 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   807 op or :createBlockMaskRow:result *tmp295 *tmp297
   808 label *label381
-    * op sub :createBlockMaskRow:c -2 1
   809 op shl *tmp295 :createBlockMaskRow:result 1
   810 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   811 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   812 op or :createBlockMaskRow:result *tmp295 *tmp297
   813 label *label382
-    * op sub :createBlockMaskRow:c -3 1
   814 op shl *tmp295 :createBlockMaskRow:result 1
   815 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   816 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   817 op or :createAdjacentMask:row2 *tmp295 *tmp297
   818 label *label383
-    * op sub :createBlockMaskRow:c -4 1
   819 label *label332
   820 label *label333
   821 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3

Modifications by Unroll loop at OreLocator.mnd:480:5 (+39 instructions):
 
   821 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
   822 label *label334
   823 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label335
-    * label *label336
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label337
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label336 greaterThanEq :createBlockMaskRow:c -4
-    * label *label338
+  824 set :createBlockMaskRow:c 4
+  825 label *label384
+  826 op shl *tmp295 :createBlockMaskRow:result 1
+  827 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  828 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  829 op or :createBlockMaskRow:result *tmp295 *tmp297
+  830 label *label385
+  831 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  832 op shl *tmp295 :createBlockMaskRow:result 1
+  833 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  834 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  835 op or :createBlockMaskRow:result *tmp295 *tmp297
+  836 label *label386
+  837 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  838 op shl *tmp295 :createBlockMaskRow:result 1
+  839 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  840 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  841 op or :createBlockMaskRow:result *tmp295 *tmp297
+  842 label *label387
+  843 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  844 op shl *tmp295 :createBlockMaskRow:result 1
+  845 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  846 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  847 op or :createBlockMaskRow:result *tmp295 *tmp297
+  848 label *label388
+  849 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  850 op shl *tmp295 :createBlockMaskRow:result 1
+  851 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  852 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  853 op or :createBlockMaskRow:result *tmp295 *tmp297
+  854 label *label389
+  855 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  856 op shl *tmp295 :createBlockMaskRow:result 1
+  857 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  858 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  859 op or :createBlockMaskRow:result *tmp295 *tmp297
+  860 label *label390
+  861 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  862 op shl *tmp295 :createBlockMaskRow:result 1
+  863 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  864 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  865 op or :createBlockMaskRow:result *tmp295 *tmp297
+  866 label *label391
+  867 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  868 op shl *tmp295 :createBlockMaskRow:result 1
+  869 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  870 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  871 op or :createBlockMaskRow:result *tmp295 *tmp297
+  872 label *label392
+  873 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  874 op shl *tmp295 :createBlockMaskRow:result 1
+  875 op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  876 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  877 op or :createBlockMaskRow:result *tmp295 *tmp297
+  878 label *label393
+  879 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  880 label *label338
   881 label *label339
   882 set :createAdjacentMask:row1 :createBlockMaskRow:result
   883 set :createAdjacentMask:r 2

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1:
 
   823 set :createBlockMaskRow:result 0
   824 set :createBlockMaskRow:c 4
   825 label *label384
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  826 op shl *tmp295 0 1
+  827 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   828 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  829 op or :createBlockMaskRow:result 0 *tmp297
   830 label *label385
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  831 op sub :createBlockMaskRow:c 4 1
   832 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  833 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   834 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   835 op or :createBlockMaskRow:result *tmp295 *tmp297
   836 label *label386
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  837 op sub :createBlockMaskRow:c 3 1
   838 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  839 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   840 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   841 op or :createBlockMaskRow:result *tmp295 *tmp297
   842 label *label387
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  843 op sub :createBlockMaskRow:c 2 1
   844 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  845 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   846 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   847 op or :createBlockMaskRow:result *tmp295 *tmp297
   848 label *label388
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  849 op sub :createBlockMaskRow:c 1 1
   850 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  851 op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
   852 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   853 op or :createBlockMaskRow:result *tmp295 *tmp297
   854 label *label389
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  855 op sub :createBlockMaskRow:c 0 1
   856 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  857 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   858 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   859 op or :createBlockMaskRow:result *tmp295 *tmp297
   860 label *label390
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  861 op sub :createBlockMaskRow:c -1 1
   862 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  863 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   864 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   865 op or :createBlockMaskRow:result *tmp295 *tmp297
   866 label *label391
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  867 op sub :createBlockMaskRow:c -2 1
   868 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  869 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   870 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   871 op or :createBlockMaskRow:result *tmp295 *tmp297
   872 label *label392
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  873 op sub :createBlockMaskRow:c -3 1
   874 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX :createBlockMaskRow:c
+  875 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   876 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   877 op or :createBlockMaskRow:result *tmp295 *tmp297
   878 label *label393
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  879 op sub :createBlockMaskRow:c -4 1
   880 label *label338
   881 label *label339
   882 set :createAdjacentMask:row1 :createBlockMaskRow:result

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2 (-11 instructions):
 
   820 label *label333
   821 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
   822 label *label334
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   823 label *label384
-    * op shl *tmp295 0 1
   824 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   825 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   826 op or :createBlockMaskRow:result 0 *tmp297
   827 label *label385
-    * op sub :createBlockMaskRow:c 4 1
   828 op shl *tmp295 :createBlockMaskRow:result 1
   829 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   830 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   831 op or :createBlockMaskRow:result *tmp295 *tmp297
   832 label *label386
-    * op sub :createBlockMaskRow:c 3 1
   833 op shl *tmp295 :createBlockMaskRow:result 1
   834 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   835 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   836 op or :createBlockMaskRow:result *tmp295 *tmp297
   837 label *label387
-    * op sub :createBlockMaskRow:c 2 1
   838 op shl *tmp295 :createBlockMaskRow:result 1
   839 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   840 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   841 op or :createBlockMaskRow:result *tmp295 *tmp297
   842 label *label388
-    * op sub :createBlockMaskRow:c 1 1
   843 op shl *tmp295 :createBlockMaskRow:result 1
   844 op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
   845 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   846 op or :createBlockMaskRow:result *tmp295 *tmp297
   847 label *label389
-    * op sub :createBlockMaskRow:c 0 1
   848 op shl *tmp295 :createBlockMaskRow:result 1
   849 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   850 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   851 op or :createBlockMaskRow:result *tmp295 *tmp297
   852 label *label390
-    * op sub :createBlockMaskRow:c -1 1
   853 op shl *tmp295 :createBlockMaskRow:result 1
   854 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   855 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   856 op or :createBlockMaskRow:result *tmp295 *tmp297
   857 label *label391
-    * op sub :createBlockMaskRow:c -2 1
   858 op shl *tmp295 :createBlockMaskRow:result 1
   859 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   860 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   861 op or :createBlockMaskRow:result *tmp295 *tmp297
   862 label *label392
-    * op sub :createBlockMaskRow:c -3 1
   863 op shl *tmp295 :createBlockMaskRow:result 1
   864 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   865 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299

Modifications by Unroll loop at OreLocator.mnd:359:5 (+24 instructions):
 
   305 op shl *tmp206 1 :excludeArea:blockSizeX
   306 op sub :createMatrixOfSize:row *tmp206 1
   307 set :createMatrixOfSize:matrix :createMatrixOfSize:row
-    * set :createMatrixOfSize:i 1
-    * label *label108
-    * label *label207
-    * jump *label111 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
-    * jump *label110 always
-    * label *label111
-    * label *label112
-    * op shl *tmp210 :createMatrixOfSize:matrix 7
-    * op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label109
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label207 lessThan :createMatrixOfSize:i 7
-    * label *label110
+  308 set :createMatrixOfSize:i 1
+  309 label *label394
+  310 jump *label395 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  311 jump *label110 always
+  312 label *label395
+  313 label *label396
+  314 op shl *tmp210 :createMatrixOfSize:matrix 7
+  315 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
+  316 label *label397
+  317 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  318 jump *label398 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  319 jump *label110 always
+  320 label *label398
+  321 label *label399
+  322 op shl *tmp210 :createMatrixOfSize:matrix 7
+  323 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
+  324 label *label400
+  325 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  326 jump *label401 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  327 jump *label110 always
+  328 label *label401
+  329 label *label402
+  330 op shl *tmp210 :createMatrixOfSize:matrix 7
+  331 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
+  332 label *label403
+  333 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  334 jump *label404 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  335 jump *label110 always
+  336 label *label404
+  337 label *label405
+  338 op shl *tmp210 :createMatrixOfSize:matrix 7
+  339 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
+  340 label *label406
+  341 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  342 jump *label407 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  343 jump *label110 always
+  344 label *label407
+  345 label *label408
+  346 op shl *tmp210 :createMatrixOfSize:matrix 7
+  347 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
+  348 label *label409
+  349 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  350 jump *label410 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  351 jump *label110 always
+  352 label *label410
+  353 label *label411
+  354 op shl *tmp210 :createMatrixOfSize:matrix 7
+  355 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
+  356 label *label412
+  357 op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  358 label *label110
   359 label *label107
   360 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX
   361 op sub *tmp213 7 :excludeArea:blockSizeX

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1:
 
   307 set :createMatrixOfSize:matrix :createMatrixOfSize:row
   308 set :createMatrixOfSize:i 1
   309 label *label394
-    * jump *label395 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  310 jump *label395 lessThan 1 :excludeArea:blockSizeY
   311 jump *label110 always
   312 label *label395
   313 label *label396
-    * op shl *tmp210 :createMatrixOfSize:matrix 7
+  314 op shl *tmp210 :createMatrixOfSize:row 7
   315 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   316 label *label397
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label398 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  317 op add :createMatrixOfSize:i 1 1
+  318 jump *label398 lessThan 2 :excludeArea:blockSizeY
   319 jump *label110 always
   320 label *label398
   321 label *label399
   322 op shl *tmp210 :createMatrixOfSize:matrix 7
   323 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   324 label *label400
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label401 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  325 op add :createMatrixOfSize:i 2 1
+  326 jump *label401 lessThan 3 :excludeArea:blockSizeY
   327 jump *label110 always
   328 label *label401
   329 label *label402
   330 op shl *tmp210 :createMatrixOfSize:matrix 7
   331 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   332 label *label403
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label404 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  333 op add :createMatrixOfSize:i 3 1
+  334 jump *label404 lessThan 4 :excludeArea:blockSizeY
   335 jump *label110 always
   336 label *label404
   337 label *label405
   338 op shl *tmp210 :createMatrixOfSize:matrix 7
   339 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   340 label *label406
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label407 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  341 op add :createMatrixOfSize:i 4 1
+  342 jump *label407 lessThan 5 :excludeArea:blockSizeY
   343 jump *label110 always
   344 label *label407
   345 label *label408
   346 op shl *tmp210 :createMatrixOfSize:matrix 7
   347 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   348 label *label409
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
-    * jump *label410 lessThan :createMatrixOfSize:i :excludeArea:blockSizeY
+  349 op add :createMatrixOfSize:i 5 1
+  350 jump *label410 lessThan 6 :excludeArea:blockSizeY
   351 jump *label110 always
   352 label *label410
   353 label *label411
   354 op shl *tmp210 :createMatrixOfSize:matrix 7
   355 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   356 label *label412
-    * op add :createMatrixOfSize:i :createMatrixOfSize:i 1
+  357 op add :createMatrixOfSize:i 6 1
   358 label *label110
   359 label *label107
   360 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2 (-7 instructions):
 
   305 op shl *tmp206 1 :excludeArea:blockSizeX
   306 op sub :createMatrixOfSize:row *tmp206 1
   307 set :createMatrixOfSize:matrix :createMatrixOfSize:row
-    * set :createMatrixOfSize:i 1
   308 label *label394
   309 jump *label395 lessThan 1 :excludeArea:blockSizeY
   310 jump *label110 always
 
   313 op shl *tmp210 :createMatrixOfSize:row 7
   314 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   315 label *label397
-    * op add :createMatrixOfSize:i 1 1
   316 jump *label398 lessThan 2 :excludeArea:blockSizeY
   317 jump *label110 always
   318 label *label398
 
   320 op shl *tmp210 :createMatrixOfSize:matrix 7
   321 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   322 label *label400
-    * op add :createMatrixOfSize:i 2 1
   323 jump *label401 lessThan 3 :excludeArea:blockSizeY
   324 jump *label110 always
   325 label *label401
 
   327 op shl *tmp210 :createMatrixOfSize:matrix 7
   328 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   329 label *label403
-    * op add :createMatrixOfSize:i 3 1
   330 jump *label404 lessThan 4 :excludeArea:blockSizeY
   331 jump *label110 always
   332 label *label404
 
   334 op shl *tmp210 :createMatrixOfSize:matrix 7
   335 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   336 label *label406
-    * op add :createMatrixOfSize:i 4 1
   337 jump *label407 lessThan 5 :excludeArea:blockSizeY
   338 jump *label110 always
   339 label *label407
 
   341 op shl *tmp210 :createMatrixOfSize:matrix 7
   342 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   343 label *label409
-    * op add :createMatrixOfSize:i 5 1
   344 jump *label410 lessThan 6 :excludeArea:blockSizeY
   345 jump *label110 always
   346 label *label410
 
   348 op shl *tmp210 :createMatrixOfSize:matrix 7
   349 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
   350 label *label412
-    * op add :createMatrixOfSize:i 6 1
   351 label *label110
   352 label *label107
   353 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX

Modifications by Unroll loop at OreLocator.mnd:480:5 (+39 instructions):
 
   476 op add *tmp305 :createCombinedMask:y 4
   477 label *label301
   478 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label302
-    * label *label303
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label304
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label303 greaterThanEq :createBlockMaskRow:c -4
-    * label *label305
+  479 set :createBlockMaskRow:c 4
+  480 label *label413
+  481 op shl *tmp295 :createBlockMaskRow:result 1
+  482 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  483 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  484 op or :createBlockMaskRow:result *tmp295 *tmp297
+  485 label *label414
+  486 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  487 op shl *tmp295 :createBlockMaskRow:result 1
+  488 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  489 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  490 op or :createBlockMaskRow:result *tmp295 *tmp297
+  491 label *label415
+  492 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  493 op shl *tmp295 :createBlockMaskRow:result 1
+  494 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  495 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  496 op or :createBlockMaskRow:result *tmp295 *tmp297
+  497 label *label416
+  498 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  499 op shl *tmp295 :createBlockMaskRow:result 1
+  500 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  501 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  502 op or :createBlockMaskRow:result *tmp295 *tmp297
+  503 label *label417
+  504 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  505 op shl *tmp295 :createBlockMaskRow:result 1
+  506 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  507 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  508 op or :createBlockMaskRow:result *tmp295 *tmp297
+  509 label *label418
+  510 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  511 op shl *tmp295 :createBlockMaskRow:result 1
+  512 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  513 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  514 op or :createBlockMaskRow:result *tmp295 *tmp297
+  515 label *label419
+  516 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  517 op shl *tmp295 :createBlockMaskRow:result 1
+  518 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  519 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  520 op or :createBlockMaskRow:result *tmp295 *tmp297
+  521 label *label420
+  522 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  523 op shl *tmp295 :createBlockMaskRow:result 1
+  524 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  525 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  526 op or :createBlockMaskRow:result *tmp295 *tmp297
+  527 label *label421
+  528 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  529 op shl *tmp295 :createBlockMaskRow:result 1
+  530 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  531 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  532 op or :createBlockMaskRow:result *tmp295 *tmp297
+  533 label *label422
+  534 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  535 label *label305
   536 label *label306
   537 set :createAdjacentMask:row2 :createBlockMaskRow:result
   538 op add *tmp307 :createCombinedMask:y 3

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-1 instructions):
 
   529 op shl *tmp295 :createBlockMaskRow:result 1
   530 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
   531 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  532 op or :createAdjacentMask:row2 *tmp295 *tmp297
   533 label *label422
   534 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
   535 label *label305
   536 label *label306
-    * set :createAdjacentMask:row2 :createBlockMaskRow:result
   537 op add *tmp307 :createCombinedMask:y 3
   538 label *label307
   539 set :createBlockMaskRow:result 0

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
   478 set :createBlockMaskRow:result 0
   479 set :createBlockMaskRow:c 4
   480 label *label413
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  481 op shl *tmp295 0 1
+  482 op add *tmp296 :createCombinedMask:x 4
   483 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  484 op or :createBlockMaskRow:result 0 *tmp297
   485 label *label414
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  486 op sub :createBlockMaskRow:c 4 1
   487 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  488 op add *tmp296 :createCombinedMask:x 3
   489 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   490 op or :createBlockMaskRow:result *tmp295 *tmp297
   491 label *label415
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  492 op sub :createBlockMaskRow:c 3 1
   493 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  494 op add *tmp296 :createCombinedMask:x 2
   495 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   496 op or :createBlockMaskRow:result *tmp295 *tmp297
   497 label *label416
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  498 op sub :createBlockMaskRow:c 2 1
   499 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  500 op add *tmp296 :createCombinedMask:x 1
   501 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   502 op or :createBlockMaskRow:result *tmp295 *tmp297
   503 label *label417
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  504 op sub :createBlockMaskRow:c 1 1
   505 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  506 op add *tmp296 :createCombinedMask:x 0
   507 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   508 op or :createBlockMaskRow:result *tmp295 *tmp297
   509 label *label418
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  510 op sub :createBlockMaskRow:c 0 1
   511 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  512 op add *tmp296 :createCombinedMask:x -1
   513 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   514 op or :createBlockMaskRow:result *tmp295 *tmp297
   515 label *label419
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  516 op sub :createBlockMaskRow:c -1 1
   517 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  518 op add *tmp296 :createCombinedMask:x -2
   519 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   520 op or :createBlockMaskRow:result *tmp295 *tmp297
   521 label *label420
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  522 op sub :createBlockMaskRow:c -2 1
   523 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  524 op add *tmp296 :createCombinedMask:x -3
   525 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   526 op or :createBlockMaskRow:result *tmp295 *tmp297
   527 label *label421
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  528 op sub :createBlockMaskRow:c -3 1
   529 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  530 op add *tmp296 :createCombinedMask:x -4
   531 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   532 op or :createAdjacentMask:row2 *tmp295 *tmp297
   533 label *label422
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  534 op sub :createBlockMaskRow:c -4 1
   535 label *label305
   536 label *label306
   537 op add *tmp307 :createCombinedMask:y 3

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 3 (-12 instructions):
 
   475 set :createAdjacentMask:result 0
   476 op add *tmp305 :createCombinedMask:y 4
   477 label *label301
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   478 label *label413
-    * op shl *tmp295 0 1
   479 op add *tmp296 :createCombinedMask:x 4
   480 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   481 op or :createBlockMaskRow:result 0 *tmp297
   482 label *label414
-    * op sub :createBlockMaskRow:c 4 1
   483 op shl *tmp295 :createBlockMaskRow:result 1
   484 op add *tmp296 :createCombinedMask:x 3
   485 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   486 op or :createBlockMaskRow:result *tmp295 *tmp297
   487 label *label415
-    * op sub :createBlockMaskRow:c 3 1
   488 op shl *tmp295 :createBlockMaskRow:result 1
   489 op add *tmp296 :createCombinedMask:x 2
   490 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   491 op or :createBlockMaskRow:result *tmp295 *tmp297
   492 label *label416
-    * op sub :createBlockMaskRow:c 2 1
   493 op shl *tmp295 :createBlockMaskRow:result 1
   494 op add *tmp296 :createCombinedMask:x 1
   495 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   496 op or :createBlockMaskRow:result *tmp295 *tmp297
   497 label *label417
-    * op sub :createBlockMaskRow:c 1 1
   498 op shl *tmp295 :createBlockMaskRow:result 1
   499 op add *tmp296 :createCombinedMask:x 0
   500 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   501 op or :createBlockMaskRow:result *tmp295 *tmp297
   502 label *label418
-    * op sub :createBlockMaskRow:c 0 1
   503 op shl *tmp295 :createBlockMaskRow:result 1
   504 op add *tmp296 :createCombinedMask:x -1
   505 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   506 op or :createBlockMaskRow:result *tmp295 *tmp297
   507 label *label419
-    * op sub :createBlockMaskRow:c -1 1
   508 op shl *tmp295 :createBlockMaskRow:result 1
   509 op add *tmp296 :createCombinedMask:x -2
   510 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   511 op or :createBlockMaskRow:result *tmp295 *tmp297
   512 label *label420
-    * op sub :createBlockMaskRow:c -2 1
   513 op shl *tmp295 :createBlockMaskRow:result 1
   514 op add *tmp296 :createCombinedMask:x -3
   515 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   516 op or :createBlockMaskRow:result *tmp295 *tmp297
   517 label *label421
-    * op sub :createBlockMaskRow:c -3 1
   518 op shl *tmp295 :createBlockMaskRow:result 1
   519 op add *tmp296 :createCombinedMask:x -4
   520 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   521 op or :createAdjacentMask:row2 *tmp295 *tmp297
   522 label *label422
-    * op sub :createBlockMaskRow:c -4 1
   523 label *label305
   524 label *label306
   525 op add *tmp307 :createCombinedMask:y 3

Modifications by Unroll loop at OreLocator.mnd:480:5 (+39 instructions):
 
   525 op add *tmp307 :createCombinedMask:y 3
   526 label *label307
   527 set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
-    * label *label308
-    * label *label309
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label310
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
-    * jump *label309 greaterThanEq :createBlockMaskRow:c -4
-    * label *label311
+  528 set :createBlockMaskRow:c 4
+  529 label *label423
+  530 op shl *tmp295 :createBlockMaskRow:result 1
+  531 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  532 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  533 op or :createBlockMaskRow:result *tmp295 *tmp297
+  534 label *label424
+  535 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  536 op shl *tmp295 :createBlockMaskRow:result 1
+  537 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  538 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  539 op or :createBlockMaskRow:result *tmp295 *tmp297
+  540 label *label425
+  541 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  542 op shl *tmp295 :createBlockMaskRow:result 1
+  543 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  544 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  545 op or :createBlockMaskRow:result *tmp295 *tmp297
+  546 label *label426
+  547 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  548 op shl *tmp295 :createBlockMaskRow:result 1
+  549 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  550 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  551 op or :createBlockMaskRow:result *tmp295 *tmp297
+  552 label *label427
+  553 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  554 op shl *tmp295 :createBlockMaskRow:result 1
+  555 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  556 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  557 op or :createBlockMaskRow:result *tmp295 *tmp297
+  558 label *label428
+  559 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  560 op shl *tmp295 :createBlockMaskRow:result 1
+  561 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  562 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  563 op or :createBlockMaskRow:result *tmp295 *tmp297
+  564 label *label429
+  565 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  566 op shl *tmp295 :createBlockMaskRow:result 1
+  567 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  568 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  569 op or :createBlockMaskRow:result *tmp295 *tmp297
+  570 label *label430
+  571 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  572 op shl *tmp295 :createBlockMaskRow:result 1
+  573 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  574 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  575 op or :createBlockMaskRow:result *tmp295 *tmp297
+  576 label *label431
+  577 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  578 op shl *tmp295 :createBlockMaskRow:result 1
+  579 op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  580 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  581 op or :createBlockMaskRow:result *tmp295 *tmp297
+  582 label *label432
+  583 op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  584 label *label311
   585 label *label312
   586 set :createAdjacentMask:row1 :createBlockMaskRow:result
   587 set :createAdjacentMask:r 2

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1:
 
   527 set :createBlockMaskRow:result 0
   528 set :createBlockMaskRow:c 4
   529 label *label423
-    * op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  530 op shl *tmp295 0 1
+  531 op add *tmp296 :createCombinedMask:x 4
   532 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result *tmp295 *tmp297
+  533 op or :createBlockMaskRow:result 0 *tmp297
   534 label *label424
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  535 op sub :createBlockMaskRow:c 4 1
   536 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  537 op add *tmp296 :createCombinedMask:x 3
   538 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   539 op or :createBlockMaskRow:result *tmp295 *tmp297
   540 label *label425
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  541 op sub :createBlockMaskRow:c 3 1
   542 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  543 op add *tmp296 :createCombinedMask:x 2
   544 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   545 op or :createBlockMaskRow:result *tmp295 *tmp297
   546 label *label426
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  547 op sub :createBlockMaskRow:c 2 1
   548 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  549 op add *tmp296 :createCombinedMask:x 1
   550 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   551 op or :createBlockMaskRow:result *tmp295 *tmp297
   552 label *label427
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  553 op sub :createBlockMaskRow:c 1 1
   554 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  555 op add *tmp296 :createCombinedMask:x 0
   556 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   557 op or :createBlockMaskRow:result *tmp295 *tmp297
   558 label *label428
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  559 op sub :createBlockMaskRow:c 0 1
   560 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  561 op add *tmp296 :createCombinedMask:x -1
   562 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   563 op or :createBlockMaskRow:result *tmp295 *tmp297
   564 label *label429
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  565 op sub :createBlockMaskRow:c -1 1
   566 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  567 op add *tmp296 :createCombinedMask:x -2
   568 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   569 op or :createBlockMaskRow:result *tmp295 *tmp297
   570 label *label430
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  571 op sub :createBlockMaskRow:c -2 1
   572 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  573 op add *tmp296 :createCombinedMask:x -3
   574 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   575 op or :createBlockMaskRow:result *tmp295 *tmp297
   576 label *label431
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  577 op sub :createBlockMaskRow:c -3 1
   578 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x :createBlockMaskRow:c
+  579 op add *tmp296 :createCombinedMask:x -4
   580 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   581 op or :createBlockMaskRow:result *tmp295 *tmp297
   582 label *label432
-    * op sub :createBlockMaskRow:c :createBlockMaskRow:c 1
+  583 op sub :createBlockMaskRow:c -4 1
   584 label *label311
   585 label *label312
   586 set :createAdjacentMask:row1 :createBlockMaskRow:result

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2 (-15 instructions):
 
   524 label *label306
   525 op add *tmp307 :createCombinedMask:y 3
   526 label *label307
-    * set :createBlockMaskRow:result 0
-    * set :createBlockMaskRow:c 4
   527 label *label423
-    * op shl *tmp295 0 1
   528 op add *tmp296 :createCombinedMask:x 4
   529 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   530 op or :createBlockMaskRow:result 0 *tmp297
   531 label *label424
-    * op sub :createBlockMaskRow:c 4 1
   532 op shl *tmp295 :createBlockMaskRow:result 1
   533 op add *tmp296 :createCombinedMask:x 3
   534 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   535 op or :createBlockMaskRow:result *tmp295 *tmp297
   536 label *label425
-    * op sub :createBlockMaskRow:c 3 1
   537 op shl *tmp295 :createBlockMaskRow:result 1
   538 op add *tmp296 :createCombinedMask:x 2
   539 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   540 op or :createBlockMaskRow:result *tmp295 *tmp297
   541 label *label426
-    * op sub :createBlockMaskRow:c 2 1
   542 op shl *tmp295 :createBlockMaskRow:result 1
   543 op add *tmp296 :createCombinedMask:x 1
   544 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   545 op or :createBlockMaskRow:result *tmp295 *tmp297
   546 label *label427
-    * op sub :createBlockMaskRow:c 1 1
   547 op shl *tmp295 :createBlockMaskRow:result 1
   548 op add *tmp296 :createCombinedMask:x 0
   549 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   550 op or :createBlockMaskRow:result *tmp295 *tmp297
   551 label *label428
-    * op sub :createBlockMaskRow:c 0 1
   552 op shl *tmp295 :createBlockMaskRow:result 1
   553 op add *tmp296 :createCombinedMask:x -1
   554 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   555 op or :createBlockMaskRow:result *tmp295 *tmp297
   556 label *label429
-    * op sub :createBlockMaskRow:c -1 1
   557 op shl *tmp295 :createBlockMaskRow:result 1
   558 op add *tmp296 :createCombinedMask:x -2
   559 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   560 op or :createBlockMaskRow:result *tmp295 *tmp297
   561 label *label430
-    * op sub :createBlockMaskRow:c -2 1
   562 op shl *tmp295 :createBlockMaskRow:result 1
   563 op add *tmp296 :createCombinedMask:x -3
   564 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   565 op or :createBlockMaskRow:result *tmp295 *tmp297
   566 label *label431
-    * op sub :createBlockMaskRow:c -3 1
   567 op shl *tmp295 :createBlockMaskRow:result 1
   568 op add *tmp296 :createCombinedMask:x -4
   569 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   570 op or :createBlockMaskRow:result *tmp295 *tmp297
   571 label *label432
-    * op sub :createBlockMaskRow:c -4 1
   572 label *label311
   573 label *label312
   574 set :createAdjacentMask:row1 :createBlockMaskRow:result
 
   622 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   623 op or :createBlockMaskRow:result *tmp295 *tmp297
   624 label *label373
-    * op sub :createBlockMaskRow:c -4 1
   625 label *label319
   626 label *label320
   627 op shl *tmp311 :createAdjacentMask:row1 1
 
   962 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   963 op or :createBlockMaskRow:result *tmp295 *tmp297
   964 label *label393
-    * op sub :createBlockMaskRow:c -4 1
   965 label *label338
   966 label *label339
   967 set :createAdjacentMask:row1 :createBlockMaskRow:result
 
  1015 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
  1016 op or :createBlockMaskRow:result *tmp295 *tmp297
  1017 label *label363
-    * op sub :createBlockMaskRow:c -4 1
  1018 label *label346
  1019 label *label347
  1020 op shl *tmp311 :createAdjacentMask:row1 1

Modifications by Iterated phase, Single Step Elimination, pass 3, iteration 1 (-1 instructions):
 
   395 set :shiftMask*retval :shiftMask:mask
   396 label *label244
   397 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
-    * jump *label104 always
   398 label *label104
   399 label *label102
   400 return :excludeArea*retaddr

Modifications by Iterated phase, Expression Optimization, pass 3, iteration 1:
 
   477 label *label413
   478 op add *tmp296 :createCombinedMask:x 4
   479 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result 0 *tmp297
+  480 set :createBlockMaskRow:result *tmp297
   481 label *label414
   482 op shl *tmp295 :createBlockMaskRow:result 1
   483 op add *tmp296 :createCombinedMask:x 3
 
   495 op or :createBlockMaskRow:result *tmp295 *tmp297
   496 label *label417
   497 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x 0
+  498 set *tmp296 :createCombinedMask:x
   499 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   500 op or :createBlockMaskRow:result *tmp295 *tmp297
   501 label *label418
 
   526 label *label423
   527 op add *tmp296 :createCombinedMask:x 4
   528 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result 0 *tmp297
+  529 set :createBlockMaskRow:result *tmp297
   530 label *label424
   531 op shl *tmp295 :createBlockMaskRow:result 1
   532 op add *tmp296 :createCombinedMask:x 3
 
   544 op or :createBlockMaskRow:result *tmp295 *tmp297
   545 label *label427
   546 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x 0
+  547 set *tmp296 :createCombinedMask:x
   548 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   549 op or :createBlockMaskRow:result *tmp295 *tmp297
   550 label *label428
 
   579 label *label364
   580 op add *tmp296 :createCombinedMask:x 4
   581 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result 0 *tmp297
+  582 set :createBlockMaskRow:result *tmp297
   583 label *label365
   584 op shl *tmp295 :createBlockMaskRow:result 1
   585 op add *tmp296 :createCombinedMask:x 3
 
   597 op or :createBlockMaskRow:result *tmp295 *tmp297
   598 label *label368
   599 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :createCombinedMask:x 0
+  600 set *tmp296 :createCombinedMask:x
   601 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   602 op or :createBlockMaskRow:result *tmp295 *tmp297
   603 label *label369
 
   870 label *label374
   871 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   872 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result 0 *tmp297
+  873 set :createBlockMaskRow:result *tmp297
   874 label *label375
   875 op shl *tmp295 :createBlockMaskRow:result 1
   876 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
 
   888 op or :createBlockMaskRow:result *tmp295 *tmp297
   889 label *label378
   890 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
+  891 set *tmp296 :layoutThoriumDrillAtLocation:newX
   892 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   893 op or :createBlockMaskRow:result *tmp295 *tmp297
   894 label *label379
 
   919 label *label384
   920 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   921 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result 0 *tmp297
+  922 set :createBlockMaskRow:result *tmp297
   923 label *label385
   924 op shl *tmp295 :createBlockMaskRow:result 1
   925 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
 
   937 op or :createBlockMaskRow:result *tmp295 *tmp297
   938 label *label388
   939 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
+  940 set *tmp296 :layoutThoriumDrillAtLocation:newX
   941 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   942 op or :createBlockMaskRow:result *tmp295 *tmp297
   943 label *label389
 
   972 label *label354
   973 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   974 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * op or :createBlockMaskRow:result 0 *tmp297
+  975 set :createBlockMaskRow:result *tmp297
   976 label *label355
   977 op shl *tmp295 :createBlockMaskRow:result 1
   978 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
 
   990 op or :createBlockMaskRow:result *tmp295 *tmp297
   991 label *label358
   992 op shl *tmp295 :createBlockMaskRow:result 1
-    * op add *tmp296 :layoutThoriumDrillAtLocation:newX 0
+  993 set *tmp296 :layoutThoriumDrillAtLocation:newX
   994 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   995 op or :createBlockMaskRow:result *tmp295 *tmp297
   996 label *label359

Modifications by Iterated phase, Data Flow Optimization, pass 3, iteration 1 (-6 instructions):
 
   476 label *label301
   477 label *label413
   478 op add *tmp296 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * set :createBlockMaskRow:result *tmp297
+  479 ucontrol getBlock *tmp296 *tmp305 *tmp298 :createBlockMaskRow:result *tmp299
   480 label *label414
   481 op shl *tmp295 :createBlockMaskRow:result 1
   482 op add *tmp296 :createCombinedMask:x 3
 
   524 label *label307
   525 label *label423
   526 op add *tmp296 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * set :createBlockMaskRow:result *tmp297
+  527 ucontrol getBlock *tmp296 *tmp307 *tmp298 :createBlockMaskRow:result *tmp299
   528 label *label424
   529 op shl *tmp295 :createBlockMaskRow:result 1
   530 op add *tmp296 :createCombinedMask:x 3
 
   576 label *label315
   577 label *label364
   578 op add *tmp296 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * set :createBlockMaskRow:result *tmp297
+  579 ucontrol getBlock *tmp296 *tmp309 *tmp298 :createBlockMaskRow:result *tmp299
   580 label *label365
   581 op shl *tmp295 :createBlockMaskRow:result 1
   582 op add *tmp296 :createCombinedMask:x 3
 
   866 label *label328
   867 label *label374
   868 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
-    * set :createBlockMaskRow:result *tmp297
+  869 ucontrol getBlock *tmp296 *tmp305 *tmp298 :createBlockMaskRow:result *tmp299
   870 label *label375
   871 op shl *tmp295 :createBlockMaskRow:result 1
   872 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
 
   914 label *label334
   915 label *label384
   916 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
-    * set :createBlockMaskRow:result *tmp297
+  917 ucontrol getBlock *tmp296 *tmp307 *tmp298 :createBlockMaskRow:result *tmp299
   918 label *label385
   919 op shl *tmp295 :createBlockMaskRow:result 1
   920 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
 
   966 label *label342
   967 label *label354
   968 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
-    * set :createBlockMaskRow:result *tmp297
+  969 ucontrol getBlock *tmp296 *tmp309 *tmp298 :createBlockMaskRow:result *tmp299
   970 label *label355
   971 op shl *tmp295 :createBlockMaskRow:result 1
   972 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3

Modifications by Iterated phase, Data Flow Optimization, pass 3, iteration 2:
 
   495 label *label417
   496 op shl *tmp295 :createBlockMaskRow:result 1
   497 set *tmp296 :createCombinedMask:x
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  498 ucontrol getBlock :createCombinedMask:x *tmp305 *tmp298 *tmp297 *tmp299
   499 op or :createBlockMaskRow:result *tmp295 *tmp297
   500 label *label418
   501 op shl *tmp295 :createBlockMaskRow:result 1
 
   543 label *label427
   544 op shl *tmp295 :createBlockMaskRow:result 1
   545 set *tmp296 :createCombinedMask:x
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  546 ucontrol getBlock :createCombinedMask:x *tmp307 *tmp298 *tmp297 *tmp299
   547 op or :createBlockMaskRow:result *tmp295 *tmp297
   548 label *label428
   549 op shl *tmp295 :createBlockMaskRow:result 1
 
   595 label *label368
   596 op shl *tmp295 :createBlockMaskRow:result 1
   597 set *tmp296 :createCombinedMask:x
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  598 ucontrol getBlock :createCombinedMask:x *tmp309 *tmp298 *tmp297 *tmp299
   599 op or :createBlockMaskRow:result *tmp295 *tmp297
   600 label *label369
   601 op shl *tmp295 :createBlockMaskRow:result 1
 
   885 label *label378
   886 op shl *tmp295 :createBlockMaskRow:result 1
   887 set *tmp296 :layoutThoriumDrillAtLocation:newX
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  888 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp305 *tmp298 *tmp297 *tmp299
   889 op or :createBlockMaskRow:result *tmp295 *tmp297
   890 label *label379
   891 op shl *tmp295 :createBlockMaskRow:result 1
 
   933 label *label388
   934 op shl *tmp295 :createBlockMaskRow:result 1
   935 set *tmp296 :layoutThoriumDrillAtLocation:newX
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  936 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp307 *tmp298 *tmp297 *tmp299
   937 op or :createBlockMaskRow:result *tmp295 *tmp297
   938 label *label389
   939 op shl *tmp295 :createBlockMaskRow:result 1
 
   985 label *label358
   986 op shl *tmp295 :createBlockMaskRow:result 1
   987 set *tmp296 :layoutThoriumDrillAtLocation:newX
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  988 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp309 *tmp298 *tmp297 *tmp299
   989 op or :createBlockMaskRow:result *tmp295 *tmp297
   990 label *label359
   991 op shl *tmp295 :createBlockMaskRow:result 1

Modifications by Iterated phase, Data Flow Optimization, pass 3, iteration 3 (-6 instructions):
 
   494 op or :createBlockMaskRow:result *tmp295 *tmp297
   495 label *label417
   496 op shl *tmp295 :createBlockMaskRow:result 1
-    * set *tmp296 :createCombinedMask:x
   497 ucontrol getBlock :createCombinedMask:x *tmp305 *tmp298 *tmp297 *tmp299
   498 op or :createBlockMaskRow:result *tmp295 *tmp297
   499 label *label418
 
   541 op or :createBlockMaskRow:result *tmp295 *tmp297
   542 label *label427
   543 op shl *tmp295 :createBlockMaskRow:result 1
-    * set *tmp296 :createCombinedMask:x
   544 ucontrol getBlock :createCombinedMask:x *tmp307 *tmp298 *tmp297 *tmp299
   545 op or :createBlockMaskRow:result *tmp295 *tmp297
   546 label *label428
 
   592 op or :createBlockMaskRow:result *tmp295 *tmp297
   593 label *label368
   594 op shl *tmp295 :createBlockMaskRow:result 1
-    * set *tmp296 :createCombinedMask:x
   595 ucontrol getBlock :createCombinedMask:x *tmp309 *tmp298 *tmp297 *tmp299
   596 op or :createBlockMaskRow:result *tmp295 *tmp297
   597 label *label369
 
   881 op or :createBlockMaskRow:result *tmp295 *tmp297
   882 label *label378
   883 op shl *tmp295 :createBlockMaskRow:result 1
-    * set *tmp296 :layoutThoriumDrillAtLocation:newX
   884 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp305 *tmp298 *tmp297 *tmp299
   885 op or :createBlockMaskRow:result *tmp295 *tmp297
   886 label *label379
 
   928 op or :createBlockMaskRow:result *tmp295 *tmp297
   929 label *label388
   930 op shl *tmp295 :createBlockMaskRow:result 1
-    * set *tmp296 :layoutThoriumDrillAtLocation:newX
   931 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp307 *tmp298 *tmp297 *tmp299
   932 op or :createBlockMaskRow:result *tmp295 *tmp297
   933 label *label389
 
   979 op or :createBlockMaskRow:result *tmp295 *tmp297
   980 label *label358
   981 op shl *tmp295 :createBlockMaskRow:result 1
-    * set *tmp296 :layoutThoriumDrillAtLocation:newX
   982 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp309 *tmp298 *tmp297 *tmp299
   983 op or :createBlockMaskRow:result *tmp295 *tmp297
   984 label *label359

Modifications by Jumps phase, Unreachable Code Elimination, pass 5, iteration 1 (-9 instructions):
 
    13 label *label22
    14 wait 1e12
    15 jump *label22 always
-    * end
    16 label *label4
    17 setaddr :findDrillLocation*retaddr *label22
    18 label *label5
 
    33 set :findDrillLocation:distanceLimit *tmp15
    34 set .angle 0
    35 set .mapProgress 0
-    * label *label26
    36 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
    37 jump *label28 notEqual *tmp18 false
    38 label *label220
    39 ucontrol approach :findDrillLocation:x :findDrillLocation:y 5.5
-    * label *label27
    40 ucontrol within :findDrillLocation:x :findDrillLocation:y 6 *tmp18
    41 jump *label220 equal *tmp18 false
    42 label *label28
-    * label *label25
-    * label *label24
    43 op div *tmp21 *tmp15 3.8197185279121366
    44 op pow .mapTotal *tmp21 2
    45 set :findDrillLocation:oreX 0
 
    60 set :locateOreAway:lastY -1
    61 op max .angle .angle @pi
    62 op mul .mapProgress .angle .angle
-    * label *label35
    63 jump *label37 greaterThanEq :locateOreAway:distance :findDrillLocation:distanceLimit
    64 op sub *tmp37 @mapw 5
    65 op sub *tmp44 @maph 5
 
    70 op add *tmp36 :findDrillLocation:x *tmp35
    71 op max *tmp39 *tmp36 5
    72 op min *tmp38 *tmp39 *tmp37
-    * label *label38
    73 op cos *tmp41 :locateOreAway:a
    74 op mul *tmp42 *tmp41 :locateOreAway:distance
    75 op add *tmp43 :findDrillLocation:y *tmp42
    76 op max *tmp46 *tmp43 5
    77 op min *tmp45 *tmp46 *tmp44
-    * label *label39
-    * label *label41
    78 ucontrol within *tmp38 *tmp45 5 *tmp48
    79 jump *label43 notEqual *tmp48 false
    80 label *label212
    81 ucontrol approach *tmp38 *tmp45 4.5
-    * label *label42
    82 ucontrol within *tmp38 *tmp45 5 *tmp48
    83 jump *label212 equal *tmp48 false
    84 label *label43
-    * label *label40
    85 op div *tmp51 3.8197185279121366 :locateOreAway:distance
    86 op add .angle .angle *tmp51
    87 op mul .mapProgress .angle .angle
 
    91 set *tmp28 false
    92 jump *label34 always
    93 label *label44
-    * label *label45
    94 op sub *tmp58 :locateOreAway:x :findDrillLocation:x
    95 op abs *tmp59 *tmp58
    96 op sub *tmp60 :locateOreAway:y :findDrillLocation:y
 
   103 jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
   104 jump *label36 always
   105 label *label48
-    * label *label49
   106 label *label46
-    * label *label47
   107 jump *label50 lessThan :locateOreAway:coreDist 8
   108 jump *label52 greaterThanEq :locateOreAway:unitDist :locateOreAway:distance
   109 set :locateOreAway:lastX :locateOreAway:x
   110 set :locateOreAway:lastY :locateOreAway:y
   111 set *tmp75 .locations
   112 set :visited:i .locationsStart
-    * label *label57
   113 jump *label59 greaterThanEq .locationsStart *tmp75
   114 label *label206
   115 op mul :visited:index 4 :visited:i
 
   124 set *tmp74 true
   125 jump *label56 always
   126 label *label60
-    * label *label61
-    * label *label58
   127 op add :visited:i :visited:i 1
   128 jump *label206 lessThan :visited:i *tmp75
   129 label *label59
 
   137 set *tmp28 true
   138 jump *label34 always
   139 label *label54
-    * label *label55
   140 label *label52
-    * label *label53
   141 label *label50
-    * label *label51
   142 label *label36
   143 jump *label205 lessThan :locateOreAway:distance :findDrillLocation:distanceLimit
   144 label *label37
 
   151 op greaterThan :findDrillLocation*retval :findDrillLocation:capacity 0
   152 jump *label23 always
   153 label *label32
-    * label *label33
   154 jump *label62 lessThan :findDrillLocation:limit 1000
   155 op add .mapSpots .mapSpots 1
   156 label *label62
-    * label *label63
-    * label *label66
   157 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102
   158 jump *label68 notEqual *tmp102 false
   159 label *label213
   160 ucontrol approach :locateOreAway:x :locateOreAway:y 5.5
-    * label *label67
   161 ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102
   162 jump *label213 equal *tmp102 false
   163 label *label68
-    * label *label65
-    * label *label64
   164 set :findDrillLocation:last 0
   165 label *label69
   166 write @unit processor4 ":findBestPosition:unit"
 
   187 jump *label73 greaterThan :findDrillLocation:coreDist 8
   188 jump *label71 always
   189 label *label73
-    * label *label74
   190 jump *label75 lessThanEq :findDrillLocation:score :findDrillLocation:capacity
   191 set :findDrillLocation:dx :findDrillLocation:newX
   192 set :findDrillLocation:dy :findDrillLocation:newY
 
   203 op add .count .count 1
   204 write :findDrillLocation:dy bank1 .count
   205 op add .locations .locations 1
-    * label *label81
   206 ucontrol unbind
   207 set .searchFinished true
   208 set :findDrillLocation*retval true
   209 jump *label23 always
   210 label *label79
-    * label *label80
   211 label *label75
-    * label *label76
   212 jump *label82 lessThanEq :findDrillLocation:score :findDrillLocation:best
   213 set :findDrillLocation:bestX :findDrillLocation:newX
   214 set :findDrillLocation:bestY :findDrillLocation:newY
   215 set :findDrillLocation:best :findDrillLocation:score
   216 label *label82
-    * label *label83
   217 jump *label84 greaterThan :findDrillLocation:score :findDrillLocation:last
   218 jump *label71 always
   219 label *label84
-    * label *label85
   220 set :findDrillLocation:last :findDrillLocation:score
   221 op mul :round:x :findDrillLocation:diffX 1.1
   222 op add *tmp148 :round:x 0.5
   223 op floor *tmp147 *tmp148
-    * label *label86
   224 op add :findDrillLocation:oreX :findDrillLocation:oreX *tmp147
   225 op mul :round.1:x :findDrillLocation:diffY 1.1
   226 op add *tmp152 :round.1:x 0.5
   227 op floor *tmp151 *tmp152
-    * label *label87
   228 op add :findDrillLocation:oreY :findDrillLocation:oreY *tmp151
-    * label *label70
   229 jump *label69 always
   230 label *label71
   231 jump *label88 lessThan :findDrillLocation:best 0
 
   239 op add .count .count 1
   240 write :findDrillLocation:bestY bank1 .count
   241 op add .locations .locations 1
-    * label *label90
   242 label *label88
-    * label *label89
-    * label *label30
   243 jump *label29 always
-    * label *label31
-    * set .searchFinished true
-    * set :findDrillLocation*retval false
   244 label *label23
   245 set :findDrillLocation*finished true
   246 return :findDrillLocation*retaddr
-    * end
   247 label *label14
   248 op add *tmp189 :excludeArea:areaWidth 8
   249 op idiv *tmp190 *tmp189 2
 
   263 op shl *tmp206 1 :excludeArea:blockSizeX
   264 op sub :createMatrixOfSize:row *tmp206 1
   265 set :createMatrixOfSize:matrix :createMatrixOfSize:row
-    * label *label394
   266 jump *label395 lessThan 1 :excludeArea:blockSizeY
   267 jump *label110 always
   268 label *label395
-    * label *label396
   269 op shl *tmp210 :createMatrixOfSize:row 7
   270 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label397
   271 jump *label398 lessThan 2 :excludeArea:blockSizeY
   272 jump *label110 always
   273 label *label398
-    * label *label399
   274 op shl *tmp210 :createMatrixOfSize:matrix 7
   275 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label400
   276 jump *label401 lessThan 3 :excludeArea:blockSizeY
   277 jump *label110 always
   278 label *label401
-    * label *label402
   279 op shl *tmp210 :createMatrixOfSize:matrix 7
   280 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label403
   281 jump *label404 lessThan 4 :excludeArea:blockSizeY
   282 jump *label110 always
   283 label *label404
-    * label *label405
   284 op shl *tmp210 :createMatrixOfSize:matrix 7
   285 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label406
   286 jump *label407 lessThan 5 :excludeArea:blockSizeY
   287 jump *label110 always
   288 label *label407
-    * label *label408
   289 op shl *tmp210 :createMatrixOfSize:matrix 7
   290 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label409
   291 jump *label410 lessThan 6 :excludeArea:blockSizeY
   292 jump *label110 always
   293 label *label410
-    * label *label411
   294 op shl *tmp210 :createMatrixOfSize:matrix 7
   295 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * label *label412
   296 label *label110
-    * label *label107
   297 op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX
   298 op sub *tmp213 7 :excludeArea:blockSizeX
   299 op mul :excludeArea:shiftX *tmp212 *tmp213
   300 op lessThan *tmp215 :excludeArea:maskY :excludeArea:areaY
   301 op sub *tmp216 7 :excludeArea:blockSizeY
   302 op mul :excludeArea:shiftY *tmp215 *tmp216
-    * label *label234
   303 op abs *tmp166 :excludeArea:shiftX
   304 jump *label235 greaterThan *tmp166 6
   305 op abs *tmp168 :excludeArea:shiftY
 
   308 set :shiftMask*retval 0
   309 jump *label244 always
   310 label *label236
-    * label *label237
   311 op mul *tmp171 7 :excludeArea:shiftY
   312 op add :shiftMask:shift :excludeArea:shiftX *tmp171
   313 jump *label238 lessThanEq :shiftMask:shift 0
 
   324 jump *label240 lessThanEq :excludeArea:shiftX 0
   325 op shl :shiftMask:keep :shiftMask:keep :excludeArea:shiftX
   326 label *label240
-    * label *label241
   327 op shl *tmp185 :shiftMask:keep 7
   328 op or :shiftMask:keep :shiftMask:keep *tmp185
   329 op shl *tmp186 :shiftMask:keep 14
 
   332 op or :shiftMask:keep :shiftMask:keep *tmp187
   333 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
   334 label *label242
-    * label *label243
   335 set :shiftMask*retval :shiftMask:mask
   336 label *label244
   337 op or :excludeArea*retval :excludeArea:mask :shiftMask*retval
   338 label *label104
-    * label *label102
   339 return :excludeArea*retaddr
-    * end
   340 label *label15
   341 set :findPossiblePlacement:y -3
-    * label *label115
   342 jump *label117 greaterThan :findPossiblePlacement:y 3
   343 label *label208
   344 op add *tmp219 :findPossiblePlacement:y 3
   345 op mul *tmp220 7 *tmp219
   346 op shl :findPossiblePlacement:mask :findPossiblePlacement:placementMask *tmp220
   347 set :findPossiblePlacement:x -3
-    * label *label118
   348 jump *label120 greaterThan :findPossiblePlacement:x 3
   349 label *label209
   350 op and *tmp222 :findPossiblePlacement:terrainMask :findPossiblePlacement:mask
 
   354 op add :findPossiblePlacement*retval *tmp226 :findPossiblePlacement:x
   355 jump *label114 always
   356 label *label121
-    * label *label122
   357 op sub *tmp228 3 :findPossiblePlacement:width
   358 jump *label123 lessThanEq :findPossiblePlacement:x *tmp228
   359 jump *label120 always
   360 label *label123
-    * label *label124
   361 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
-    * label *label119
   362 op add :findPossiblePlacement:x :findPossiblePlacement:x 1
   363 jump *label209 lessThanEq :findPossiblePlacement:x 3
   364 label *label120
 
   366 jump *label125 lessThanEq :findPossiblePlacement:y *tmp231
   367 jump *label117 always
   368 label *label125
-    * label *label126
-    * label *label116
   369 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
   370 jump *label208 lessThanEq :findPossiblePlacement:y 3
   371 label *label117
   372 set :findPossiblePlacement*retval -1
   373 label *label114
   374 return :findPossiblePlacement*retaddr
-    * end
   375 label *label19
   376 set .panelY -1
   377 set .panelX -1
 
   383 set .water1X -1
   384 set :moveTo.5:x .drillX
   385 set :moveTo.5:y .drillY
-    * label *label167
   386 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324
   387 jump *label169 notEqual *tmp324 false
   388 label *label221
   389 ucontrol approach :moveTo.5:x :moveTo.5:y 0.5
-    * label *label168
   390 ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324
   391 jump *label221 equal *tmp324 false
   392 label *label169
-    * label *label166
   393 set :createCombinedMask:x .drillX
   394 set :createCombinedMask:y .drillY
-    * label *label300
   395 write @unit processor4 ":createTerrainMask:unit"
   396 write :createCombinedMask:x processor4 ":createTerrainMask:x"
   397 write :createCombinedMask:y processor4 ":createTerrainMask:y"
 
   399 write 1 processor4 "@counter"
   400 set :createAdjacentMask:result 0
   401 op add *tmp305 :createCombinedMask:y 4
-    * label *label301
-    * label *label413
   402 op add *tmp296 :createCombinedMask:x 4
   403 ucontrol getBlock *tmp296 *tmp305 *tmp298 :createBlockMaskRow:result *tmp299
-    * label *label414
   404 op shl *tmp295 :createBlockMaskRow:result 1
   405 op add *tmp296 :createCombinedMask:x 3
   406 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   407 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label415
   408 op shl *tmp295 :createBlockMaskRow:result 1
   409 op add *tmp296 :createCombinedMask:x 2
   410 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   411 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label416
   412 op shl *tmp295 :createBlockMaskRow:result 1
   413 op add *tmp296 :createCombinedMask:x 1
   414 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   415 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label417
   416 op shl *tmp295 :createBlockMaskRow:result 1
   417 ucontrol getBlock :createCombinedMask:x *tmp305 *tmp298 *tmp297 *tmp299
   418 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label418
   419 op shl *tmp295 :createBlockMaskRow:result 1
   420 op add *tmp296 :createCombinedMask:x -1
   421 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   422 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label419
   423 op shl *tmp295 :createBlockMaskRow:result 1
   424 op add *tmp296 :createCombinedMask:x -2
   425 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   426 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label420
   427 op shl *tmp295 :createBlockMaskRow:result 1
   428 op add *tmp296 :createCombinedMask:x -3
   429 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   430 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label421
   431 op shl *tmp295 :createBlockMaskRow:result 1
   432 op add *tmp296 :createCombinedMask:x -4
   433 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   434 op or :createAdjacentMask:row2 *tmp295 *tmp297
-    * label *label422
-    * label *label305
-    * label *label306
   435 op add *tmp307 :createCombinedMask:y 3
-    * label *label307
-    * label *label423
   436 op add *tmp296 :createCombinedMask:x 4
   437 ucontrol getBlock *tmp296 *tmp307 *tmp298 :createBlockMaskRow:result *tmp299
-    * label *label424
   438 op shl *tmp295 :createBlockMaskRow:result 1
   439 op add *tmp296 :createCombinedMask:x 3
   440 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   441 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label425
   442 op shl *tmp295 :createBlockMaskRow:result 1
   443 op add *tmp296 :createCombinedMask:x 2
   444 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   445 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label426
   446 op shl *tmp295 :createBlockMaskRow:result 1
   447 op add *tmp296 :createCombinedMask:x 1
   448 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   449 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label427
   450 op shl *tmp295 :createBlockMaskRow:result 1
   451 ucontrol getBlock :createCombinedMask:x *tmp307 *tmp298 *tmp297 *tmp299
   452 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label428
   453 op shl *tmp295 :createBlockMaskRow:result 1
   454 op add *tmp296 :createCombinedMask:x -1
   455 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   456 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label429
   457 op shl *tmp295 :createBlockMaskRow:result 1
   458 op add *tmp296 :createCombinedMask:x -2
   459 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   460 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label430
   461 op shl *tmp295 :createBlockMaskRow:result 1
   462 op add *tmp296 :createCombinedMask:x -3
   463 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   464 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label431
   465 op shl *tmp295 :createBlockMaskRow:result 1
   466 op add *tmp296 :createCombinedMask:x -4
   467 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   468 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label432
-    * label *label311
-    * label *label312
   469 set :createAdjacentMask:row1 :createBlockMaskRow:result
   470 set :createAdjacentMask:r 2
-    * label *label313
   471 label *label314
   472 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
-    * label *label315
-    * label *label364
   473 op add *tmp296 :createCombinedMask:x 4
   474 ucontrol getBlock *tmp296 *tmp309 *tmp298 :createBlockMaskRow:result *tmp299
-    * label *label365
   475 op shl *tmp295 :createBlockMaskRow:result 1
   476 op add *tmp296 :createCombinedMask:x 3
   477 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   478 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label366
   479 op shl *tmp295 :createBlockMaskRow:result 1
   480 op add *tmp296 :createCombinedMask:x 2
   481 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   482 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label367
   483 op shl *tmp295 :createBlockMaskRow:result 1
   484 op add *tmp296 :createCombinedMask:x 1
   485 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   486 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label368
   487 op shl *tmp295 :createBlockMaskRow:result 1
   488 ucontrol getBlock :createCombinedMask:x *tmp309 *tmp298 *tmp297 *tmp299
   489 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label369
   490 op shl *tmp295 :createBlockMaskRow:result 1
   491 op add *tmp296 :createCombinedMask:x -1
   492 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   493 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label370
   494 op shl *tmp295 :createBlockMaskRow:result 1
   495 op add *tmp296 :createCombinedMask:x -2
   496 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   497 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label371
   498 op shl *tmp295 :createBlockMaskRow:result 1
   499 op add *tmp296 :createCombinedMask:x -3
   500 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   501 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label372
   502 op shl *tmp295 :createBlockMaskRow:result 1
   503 op add *tmp296 :createCombinedMask:x -4
   504 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   505 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label373
-    * label *label319
-    * label *label320
   506 op shl *tmp311 :createAdjacentMask:row1 1
   507 op or *tmp312 :createAdjacentMask:row2 *tmp311
   508 op shr *tmp313 :createAdjacentMask:row1 1
 
   513 op or :createAdjacentMask:result *tmp316 *tmp317
   514 set :createAdjacentMask:row2 :createAdjacentMask:row1
   515 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label321
   516 op sub :createAdjacentMask:r :createAdjacentMask:r 1
   517 jump *label314 greaterThanEq :createAdjacentMask:r -4
-    * label *label322
   518 op shr *tmp304 :createAdjacentMask:result 1
-    * label *label323
   519 label *label324
   520 wait 1e-15
   521 read *tmp320 processor4 ":createTerrainMask*finished"
 
   531 setaddr :excludeArea*retaddr *label325 (h:*label325)
   532 call *label14 *invalid :excludeArea*retval (m:*label325) (h:*label325)
   533 label *label325
-    * label *label326
   534 op or :layoutThoriumDrillAtLocation:terrainMask :excludeArea*retval 7575371776
   535 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:terrainMask 285880598593601
   536 set :layoutThoriumDrillAtLocation:mask2x2 387
 
   550 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp337
   551 op or :layoutThoriumDrillAtLocation:cornersMask :layoutThoriumDrillAtLocation:cornersMask *tmp337
   552 label *label172
-    * label *label173
   553 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:cornersMask
   554 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:mask2x2
   555 set :findPossiblePlacement:width 2
 
   565 op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :findPossiblePlacement*retval
   566 op or :layoutThoriumDrillAtLocation:terrainMask :layoutThoriumDrillAtLocation:terrainMask *tmp346
   567 label *label175
-    * label *label176
   568 op or :layoutThoriumDrillAtLocation:nodeMask :layoutThoriumDrillAtLocation:terrainMask 437639987601635
   569 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:nodeMask
   570 set :findPossiblePlacement:placementMask 1
 
   577 set :layoutThoriumDrillAtLocation*retval false
   578 jump *label165 always
   579 label *label178
-    * label *label179
   580 op add .node1X .drillX :findPossiblePlacement:x
   581 op add .node1Y .drillY :findPossiblePlacement:y
   582 op shl *tmp353 1 :findPossiblePlacement*retval
 
   588 set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:terrainMask
   589 set :tryPlaceGenerator:generatorHorizontal 1935
   590 set :tryPlaceGenerator:generatorVertical 6340995
-    * label *label256
   591 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:terrainMask
   592 set :findPossiblePlacement:placementMask 6340995
   593 set :findPossiblePlacement:width 2
 
   600 set :tryPlaceGenerator*retval false
   601 jump *label277 always
   602 label *label258
-    * label *label259
   603 op add *tmp239 :tryPlaceGenerator:centerX 0.5
   604 op add .water2X *tmp239 :findPossiblePlacement:x
   605 op add *tmp241 :tryPlaceGenerator:centerY 0.5
 
   622 set :tryPlaceGenerator*retval false
   623 jump *label277 always
   624 label *label262
-    * label *label263
   625 op add *tmp251 :tryPlaceGenerator:centerX 0.5
   626 op add .water2X *tmp251 :findPossiblePlacement:x
   627 op add *tmp253 :tryPlaceGenerator:centerY 0.5
 
   644 set :tryPlaceGenerator*retval false
   645 jump *label277 always
   646 label *label266
-    * label *label267
   647 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   648 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   649 op shl *tmp265 1 :findPossiblePlacement*retval
 
   659 set :tryPlaceGenerator*retval false
   660 jump *label277 always
   661 label *label269
-    * label *label270
   662 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   663 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   664 op shl *tmp271 1 :findPossiblePlacement*retval
 
   691 set :tryPlaceGenerator*retval false
   692 jump *label277 always
   693 label *label273
-    * label *label274
   694 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
   695 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
   696 label *label275
-    * label *label276
   697 set :tryPlaceGenerator*retval true
   698 label *label277
   699 jump *label180 equal :tryPlaceGenerator*retval false
   700 set :layoutThoriumDrillAtLocation*retval true
   701 jump *label165 always
   702 label *label180
-    * label *label181
   703 set :layoutThoriumDrillAtLocation:sx 3
   704 set :layoutThoriumDrillAtLocation:sy 3
   705 setaddr *tmp356 *label186
 
   723 op sub :layoutThoriumDrillAtLocation:newY .drillY :layoutThoriumDrillAtLocation:sy
   724 set :createCombinedMask:x :layoutThoriumDrillAtLocation:newX
   725 set :createCombinedMask:y :layoutThoriumDrillAtLocation:newY
-    * label *label327
   726 write @unit processor4 ":createTerrainMask:unit"
   727 write :layoutThoriumDrillAtLocation:newX processor4 ":createTerrainMask:x"
   728 write :layoutThoriumDrillAtLocation:newY processor4 ":createTerrainMask:y"
 
   730 write 1 processor4 "@counter"
   731 set :createAdjacentMask:result 0
   732 op add *tmp305 :layoutThoriumDrillAtLocation:newY 4
-    * label *label328
-    * label *label374
   733 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   734 ucontrol getBlock *tmp296 *tmp305 *tmp298 :createBlockMaskRow:result *tmp299
-    * label *label375
   735 op shl *tmp295 :createBlockMaskRow:result 1
   736 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   737 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   738 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label376
   739 op shl *tmp295 :createBlockMaskRow:result 1
   740 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   741 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   742 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label377
   743 op shl *tmp295 :createBlockMaskRow:result 1
   744 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   745 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   746 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label378
   747 op shl *tmp295 :createBlockMaskRow:result 1
   748 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp305 *tmp298 *tmp297 *tmp299
   749 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label379
   750 op shl *tmp295 :createBlockMaskRow:result 1
   751 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   752 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   753 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label380
   754 op shl *tmp295 :createBlockMaskRow:result 1
   755 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   756 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   757 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label381
   758 op shl *tmp295 :createBlockMaskRow:result 1
   759 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   760 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   761 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label382
   762 op shl *tmp295 :createBlockMaskRow:result 1
   763 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   764 ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
   765 op or :createAdjacentMask:row2 *tmp295 *tmp297
-    * label *label383
-    * label *label332
-    * label *label333
   766 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
-    * label *label334
-    * label *label384
   767 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   768 ucontrol getBlock *tmp296 *tmp307 *tmp298 :createBlockMaskRow:result *tmp299
-    * label *label385
   769 op shl *tmp295 :createBlockMaskRow:result 1
   770 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   771 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   772 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label386
   773 op shl *tmp295 :createBlockMaskRow:result 1
   774 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   775 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   776 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label387
   777 op shl *tmp295 :createBlockMaskRow:result 1
   778 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   779 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   780 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label388
   781 op shl *tmp295 :createBlockMaskRow:result 1
   782 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp307 *tmp298 *tmp297 *tmp299
   783 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label389
   784 op shl *tmp295 :createBlockMaskRow:result 1
   785 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   786 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   787 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label390
   788 op shl *tmp295 :createBlockMaskRow:result 1
   789 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   790 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   791 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label391
   792 op shl *tmp295 :createBlockMaskRow:result 1
   793 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   794 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   795 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label392
   796 op shl *tmp295 :createBlockMaskRow:result 1
   797 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   798 ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
   799 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label393
-    * label *label338
-    * label *label339
   800 set :createAdjacentMask:row1 :createBlockMaskRow:result
   801 set :createAdjacentMask:r 2
-    * label *label340
   802 label *label341
   803 op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdjacentMask:r
-    * label *label342
-    * label *label354
   804 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
   805 ucontrol getBlock *tmp296 *tmp309 *tmp298 :createBlockMaskRow:result *tmp299
-    * label *label355
   806 op shl *tmp295 :createBlockMaskRow:result 1
   807 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
   808 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   809 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label356
   810 op shl *tmp295 :createBlockMaskRow:result 1
   811 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
   812 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   813 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label357
   814 op shl *tmp295 :createBlockMaskRow:result 1
   815 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
   816 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   817 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label358
   818 op shl *tmp295 :createBlockMaskRow:result 1
   819 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp309 *tmp298 *tmp297 *tmp299
   820 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label359
   821 op shl *tmp295 :createBlockMaskRow:result 1
   822 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
   823 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   824 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label360
   825 op shl *tmp295 :createBlockMaskRow:result 1
   826 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
   827 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   828 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label361
   829 op shl *tmp295 :createBlockMaskRow:result 1
   830 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
   831 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   832 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label362
   833 op shl *tmp295 :createBlockMaskRow:result 1
   834 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
   835 ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
   836 op or :createBlockMaskRow:result *tmp295 *tmp297
-    * label *label363
-    * label *label346
-    * label *label347
   837 op shl *tmp311 :createAdjacentMask:row1 1
   838 op or *tmp312 :createAdjacentMask:row2 *tmp311
   839 op shr *tmp313 :createAdjacentMask:row1 1
 
   844 op or :createAdjacentMask:result *tmp316 *tmp317
   845 set :createAdjacentMask:row2 :createAdjacentMask:row1
   846 set :createAdjacentMask:row1 :createBlockMaskRow:result
-    * label *label348
   847 op sub :createAdjacentMask:r :createAdjacentMask:r 1
   848 jump *label341 greaterThanEq :createAdjacentMask:r -4
-    * label *label349
   849 op shr *tmp304 :createAdjacentMask:result 1
-    * label *label350
   850 label *label351
   851 wait 1e-15
   852 read *tmp320 processor4 ":createTerrainMask*finished"
 
   862 setaddr :excludeArea*retaddr *label352 (h:*label352)
   863 call *label14 *invalid :excludeArea*retval (m:*label352) (h:*label352)
   864 label *label352
-    * label *label353
   865 set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMask
-    * label *label245
   866 op abs *tmp166 :layoutThoriumDrillAtLocation:sx
   867 jump *label246 greaterThan *tmp166 6
   868 op abs *tmp168 :layoutThoriumDrillAtLocation:sy
 
   871 set :shiftMask*retval 0
   872 jump *label255 always
   873 label *label247
-    * label *label248
   874 op mul *tmp171 7 :layoutThoriumDrillAtLocation:sy
   875 op add :shiftMask:shift :layoutThoriumDrillAtLocation:sx *tmp171
   876 jump *label249 lessThanEq :shiftMask:shift 0
 
   887 jump *label251 lessThanEq :layoutThoriumDrillAtLocation:sx 0
   888 op shl :shiftMask:keep :shiftMask:keep :layoutThoriumDrillAtLocation:sx
   889 label *label251
-    * label *label252
   890 op shl *tmp185 :shiftMask:keep 7
   891 op or :shiftMask:keep :shiftMask:keep *tmp185
   892 op shl *tmp186 :shiftMask:keep 14
 
   895 op or :shiftMask:keep :shiftMask:keep *tmp187
   896 op and :shiftMask:mask :shiftMask:mask :shiftMask:keep
   897 label *label253
-    * label *label254
   898 set :shiftMask*retval :shiftMask:mask
   899 label *label255
   900 op or :layoutThoriumDrillAtLocation:combinedMask :excludeArea*retval :shiftMask*retval
 
   905 set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLocation:combinedMask
   906 set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDrillAtLocation:generatorHorizontal
   907 set :tryPlaceGenerator:generatorVertical :layoutThoriumDrillAtLocation:generatorVertical
-    * label *label278
   908 set :findPossiblePlacement:terrainMask :layoutThoriumDrillAtLocation:combinedMask
   909 set :findPossiblePlacement:placementMask :layoutThoriumDrillAtLocation:generatorVertical
   910 set :findPossiblePlacement:width 2
 
   917 set :tryPlaceGenerator*retval false
   918 jump *label299 always
   919 label *label280
-    * label *label281
   920 op add *tmp239 :tryPlaceGenerator:centerX 0.5
   921 op add .water2X *tmp239 :findPossiblePlacement:x
   922 op add *tmp241 :tryPlaceGenerator:centerY 0.5
 
   939 set :tryPlaceGenerator*retval false
   940 jump *label299 always
   941 label *label284
-    * label *label285
   942 op add *tmp251 :tryPlaceGenerator:centerX 0.5
   943 op add .water2X *tmp251 :findPossiblePlacement:x
   944 op add *tmp253 :tryPlaceGenerator:centerY 0.5
 
   961 set :tryPlaceGenerator*retval false
   962 jump *label299 always
   963 label *label288
-    * label *label289
   964 op add .panelX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   965 op add .panelY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   966 op shl *tmp265 1 :findPossiblePlacement*retval
 
   976 set :tryPlaceGenerator*retval false
   977 jump *label299 always
   978 label *label291
-    * label *label292
   979 op add .batteryX :tryPlaceGenerator:centerX :findPossiblePlacement:x
   980 op add .batteryY :tryPlaceGenerator:centerY :findPossiblePlacement:y
   981 op shl *tmp271 1 :findPossiblePlacement*retval
 
  1008 set :tryPlaceGenerator*retval false
  1009 jump *label299 always
  1010 label *label295
-    * label *label296
  1011 op add .node2X :tryPlaceGenerator:centerX :findPossiblePlacement:x
  1012 op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlacement:y
  1013 label *label297
-    * label *label298
  1014 set :tryPlaceGenerator*retval true
  1015 label *label299
  1016 jump *label192 equal :tryPlaceGenerator*retval false
  1017 set :layoutThoriumDrillAtLocation*retval true
  1018 jump *label165 always
  1019 label *label192
-    * label *label193
-    * label *label184
  1020 multijump *tmp356 0 0 (m:marker0)
  1021 multilabel *label189 (m:marker0)
-    * label *label185
  1022 set :layoutThoriumDrillAtLocation*retval true
  1023 label *label165
  1024 return :layoutThoriumDrillAtLocation*retaddr
-    * end
  1025 label *label6
  1026 set :findDrillLocation:x :layoutThoriumDrill:x
  1027 set :findDrillLocation:y :layoutThoriumDrill:y
 
  1039 set :layoutThoriumDrill*retval false
  1040 jump *label195 always
  1041 label *label196
-    * label *label197
  1042 setaddr :layoutThoriumDrillAtLocation*retaddr *label199 (h:*label199)
  1043 call *label19 *invalid :layoutThoriumDrillAtLocation*retval (m:*label199) (h:*label199)
  1044 label *label199
 
  1046 label *label195
  1047 set :layoutThoriumDrill*finished true
  1048 jump *label22 always
-    * end
  1049 label *label8
  1050 set .mapSpots 0
  1051 set .mapTotal 0
  1052 set .mapProgress 0
  1053 ucontrol unbind
-    * label *label200
  1054 set :stopLocation*finished true
  1055 jump *label22 always
-    * end

Modifications by Jumps phase, Jump Straightening, pass 5, iteration 1 (-11 instructions):
 
   100 op sub *tmp64 :locateOreAway:y *tmp45
   101 op len :locateOreAway:unitDist *tmp63 *tmp64
   102 jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x
-    * jump *label48 notEqual :locateOreAway:lastY :locateOreAway:y
-    * jump *label36 always
+  103 jump *label36 equal :locateOreAway:lastY :locateOreAway:y
   104 label *label48
   105 label *label46
   106 jump *label50 lessThan :locateOreAway:coreDist 8
 
   183 op sub *tmp121 :findDrillLocation:newY :findDrillLocation:y
   184 op abs *tmp122 *tmp121
   185 op max :findDrillLocation:coreDist *tmp120 *tmp122
-    * jump *label73 greaterThan :findDrillLocation:coreDist 8
-    * jump *label71 always
+  186 jump *label71 lessThanEq :findDrillLocation:coreDist 8
   187 label *label73
   188 jump *label75 lessThanEq :findDrillLocation:score :findDrillLocation:capacity
   189 set :findDrillLocation:dx :findDrillLocation:newX
 
   212 set :findDrillLocation:bestY :findDrillLocation:newY
   213 set :findDrillLocation:best :findDrillLocation:score
   214 label *label82
-    * jump *label84 greaterThan :findDrillLocation:score :findDrillLocation:last
-    * jump *label71 always
+  215 jump *label71 lessThanEq :findDrillLocation:score :findDrillLocation:last
   216 label *label84
   217 set :findDrillLocation:last :findDrillLocation:score
   218 op mul :round:x :findDrillLocation:diffX 1.1
 
   260 op shl *tmp206 1 :excludeArea:blockSizeX
   261 op sub :createMatrixOfSize:row *tmp206 1
   262 set :createMatrixOfSize:matrix :createMatrixOfSize:row
-    * jump *label395 lessThan 1 :excludeArea:blockSizeY
-    * jump *label110 always
+  263 jump *label110 greaterThanEq 1 :excludeArea:blockSizeY
   264 label *label395
   265 op shl *tmp210 :createMatrixOfSize:row 7
   266 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * jump *label398 lessThan 2 :excludeArea:blockSizeY
-    * jump *label110 always
+  267 jump *label110 greaterThanEq 2 :excludeArea:blockSizeY
   268 label *label398
   269 op shl *tmp210 :createMatrixOfSize:matrix 7
   270 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * jump *label401 lessThan 3 :excludeArea:blockSizeY
-    * jump *label110 always
+  271 jump *label110 greaterThanEq 3 :excludeArea:blockSizeY
   272 label *label401
   273 op shl *tmp210 :createMatrixOfSize:matrix 7
   274 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * jump *label404 lessThan 4 :excludeArea:blockSizeY
-    * jump *label110 always
+  275 jump *label110 greaterThanEq 4 :excludeArea:blockSizeY
   276 label *label404
   277 op shl *tmp210 :createMatrixOfSize:matrix 7
   278 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * jump *label407 lessThan 5 :excludeArea:blockSizeY
-    * jump *label110 always
+  279 jump *label110 greaterThanEq 5 :excludeArea:blockSizeY
   280 label *label407
   281 op shl *tmp210 :createMatrixOfSize:matrix 7
   282 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
-    * jump *label410 lessThan 6 :excludeArea:blockSizeY
-    * jump *label110 always
+  283 jump *label110 greaterThanEq 6 :excludeArea:blockSizeY
   284 label *label410
   285 op shl *tmp210 :createMatrixOfSize:matrix 7
   286 op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize:row
 
   346 jump *label114 always
   347 label *label121
   348 op sub *tmp228 3 :findPossiblePlacement:width
-    * jump *label123 lessThanEq :findPossiblePlacement:x *tmp228
-    * jump *label120 always
+  349 jump *label120 greaterThan :findPossiblePlacement:x *tmp228
   350 label *label123
   351 op shl :findPossiblePlacement:mask :findPossiblePlacement:mask 1
   352 op add :findPossiblePlacement:x :findPossiblePlacement:x 1
   353 jump *label209 lessThanEq :findPossiblePlacement:x 3
   354 label *label120
   355 op sub *tmp231 3 :findPossiblePlacement:height
-    * jump *label125 lessThanEq :findPossiblePlacement:y *tmp231
-    * jump *label117 always
+  356 jump *label117 greaterThan :findPossiblePlacement:y *tmp231
   357 label *label125
   358 op add :findPossiblePlacement:y :findPossiblePlacement:y 1
   359 jump *label208 lessThanEq :findPossiblePlacement:y 3

Modifications by Jumps phase, Jump Threading, pass 5, iteration 1:
 
   222 op add :findDrillLocation:oreY :findDrillLocation:oreY *tmp151
   223 jump *label69 always
   224 label *label71
-    * jump *label88 lessThan :findDrillLocation:best 0
+  225 jump *label29 lessThan :findDrillLocation:best 0
   226 op add .count .count 1
   227 sensor *tmp158 :findDrillLocation:item @id
   228 write *tmp158 bank1 .count
 
   334 op mul *tmp225 :findPossiblePlacement:y 7
   335 op add *tmp226 24 *tmp225
   336 op add :findPossiblePlacement*retval *tmp226 :findPossiblePlacement:x
-    * jump *label114 always
+  337 return :findPossiblePlacement*retaddr
   338 label *label121
   339 op sub *tmp228 3 :findPossiblePlacement:width
   340 jump *label120 greaterThan :findPossiblePlacement:x *tmp228
 
   553 label *label177
   554 jump *label178 greaterThanEq :findPossiblePlacement*retval 0
   555 set :layoutThoriumDrillAtLocation*retval false
-    * jump *label165 always
+  556 return :layoutThoriumDrillAtLocation*retaddr
   557 label *label178
   558 op add .node1X .drillX :findPossiblePlacement:x
   559 op add .node1Y .drillY :findPossiblePlacement:y
 
   676 label *label277
   677 jump *label180 equal :tryPlaceGenerator*retval false
   678 set :layoutThoriumDrillAtLocation*retval true
-    * jump *label165 always
+  679 return :layoutThoriumDrillAtLocation*retaddr
   680 label *label180
   681 set :layoutThoriumDrillAtLocation:sx 3
   682 set :layoutThoriumDrillAtLocation:sy 3
 
   993 label *label299
   994 jump *label192 equal :tryPlaceGenerator*retval false
   995 set :layoutThoriumDrillAtLocation*retval true
-    * jump *label165 always
+  996 return :layoutThoriumDrillAtLocation*retaddr
   997 label *label192
   998 multijump *tmp356 0 0 (m:marker0)
   999 multilabel *label189 (m:marker0)

Modifications by Final phase, Temp Variables Elimination, iteration 1:
 
    86 op add .angle .angle *tmp51
    87 op mul .mapProgress .angle .angle
    88 op mul :locateOreAway:distance 3.8197185279121366 .angle
-    * ulocate ore core true :findDrillLocation:item :locateOreAway:x :locateOreAway:y *tmp54 *tmp55
+   89 ulocate ore core true :findDrillLocation:item :locateOreAway:x :locateOreAway:y *tmp54 0
    90 jump *label44 notEqual *tmp54 false
    91 set *tmp28 false
    92 jump *label34 always
 
   376 set :createAdjacentMask:result 0
   377 op add *tmp305 :createCombinedMask:y 4
   378 op add *tmp296 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 :createBlockMaskRow:result *tmp299
+  379 ucontrol getBlock *tmp296 *tmp305 0 :createBlockMaskRow:result 0
   380 op shl *tmp295 :createBlockMaskRow:result 1
   381 op add *tmp296 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  382 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   383 op or :createBlockMaskRow:result *tmp295 *tmp297
   384 op shl *tmp295 :createBlockMaskRow:result 1
   385 op add *tmp296 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  386 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   387 op or :createBlockMaskRow:result *tmp295 *tmp297
   388 op shl *tmp295 :createBlockMaskRow:result 1
   389 op add *tmp296 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  390 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   391 op or :createBlockMaskRow:result *tmp295 *tmp297
   392 op shl *tmp295 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x *tmp305 *tmp298 *tmp297 *tmp299
+  393 ucontrol getBlock :createCombinedMask:x *tmp305 0 *tmp297 0
   394 op or :createBlockMaskRow:result *tmp295 *tmp297
   395 op shl *tmp295 :createBlockMaskRow:result 1
   396 op add *tmp296 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  397 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   398 op or :createBlockMaskRow:result *tmp295 *tmp297
   399 op shl *tmp295 :createBlockMaskRow:result 1
   400 op add *tmp296 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  401 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   402 op or :createBlockMaskRow:result *tmp295 *tmp297
   403 op shl *tmp295 :createBlockMaskRow:result 1
   404 op add *tmp296 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  405 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   406 op or :createBlockMaskRow:result *tmp295 *tmp297
   407 op shl *tmp295 :createBlockMaskRow:result 1
   408 op add *tmp296 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  409 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   410 op or :createAdjacentMask:row2 *tmp295 *tmp297
   411 op add *tmp307 :createCombinedMask:y 3
   412 op add *tmp296 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 :createBlockMaskRow:result *tmp299
+  413 ucontrol getBlock *tmp296 *tmp307 0 :createBlockMaskRow:result 0
   414 op shl *tmp295 :createBlockMaskRow:result 1
   415 op add *tmp296 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  416 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   417 op or :createBlockMaskRow:result *tmp295 *tmp297
   418 op shl *tmp295 :createBlockMaskRow:result 1
   419 op add *tmp296 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  420 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   421 op or :createBlockMaskRow:result *tmp295 *tmp297
   422 op shl *tmp295 :createBlockMaskRow:result 1
   423 op add *tmp296 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  424 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   425 op or :createBlockMaskRow:result *tmp295 *tmp297
   426 op shl *tmp295 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x *tmp307 *tmp298 *tmp297 *tmp299
+  427 ucontrol getBlock :createCombinedMask:x *tmp307 0 *tmp297 0
   428 op or :createBlockMaskRow:result *tmp295 *tmp297
   429 op shl *tmp295 :createBlockMaskRow:result 1
   430 op add *tmp296 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  431 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   432 op or :createBlockMaskRow:result *tmp295 *tmp297
   433 op shl *tmp295 :createBlockMaskRow:result 1
   434 op add *tmp296 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  435 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   436 op or :createBlockMaskRow:result *tmp295 *tmp297
   437 op shl *tmp295 :createBlockMaskRow:result 1
   438 op add *tmp296 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  439 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   440 op or :createBlockMaskRow:result *tmp295 *tmp297
   441 op shl *tmp295 :createBlockMaskRow:result 1
   442 op add *tmp296 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  443 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   444 op or :createBlockMaskRow:result *tmp295 *tmp297
   445 set :createAdjacentMask:row1 :createBlockMaskRow:result
   446 set :createAdjacentMask:r 2
   447 label *label314
   448 op add *tmp309 :createCombinedMask:y :createAdjacentMask:r
   449 op add *tmp296 :createCombinedMask:x 4
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 :createBlockMaskRow:result *tmp299
+  450 ucontrol getBlock *tmp296 *tmp309 0 :createBlockMaskRow:result 0
   451 op shl *tmp295 :createBlockMaskRow:result 1
   452 op add *tmp296 :createCombinedMask:x 3
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  453 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   454 op or :createBlockMaskRow:result *tmp295 *tmp297
   455 op shl *tmp295 :createBlockMaskRow:result 1
   456 op add *tmp296 :createCombinedMask:x 2
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  457 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   458 op or :createBlockMaskRow:result *tmp295 *tmp297
   459 op shl *tmp295 :createBlockMaskRow:result 1
   460 op add *tmp296 :createCombinedMask:x 1
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  461 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   462 op or :createBlockMaskRow:result *tmp295 *tmp297
   463 op shl *tmp295 :createBlockMaskRow:result 1
-    * ucontrol getBlock :createCombinedMask:x *tmp309 *tmp298 *tmp297 *tmp299
+  464 ucontrol getBlock :createCombinedMask:x *tmp309 0 *tmp297 0
   465 op or :createBlockMaskRow:result *tmp295 *tmp297
   466 op shl *tmp295 :createBlockMaskRow:result 1
   467 op add *tmp296 :createCombinedMask:x -1
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  468 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   469 op or :createBlockMaskRow:result *tmp295 *tmp297
   470 op shl *tmp295 :createBlockMaskRow:result 1
   471 op add *tmp296 :createCombinedMask:x -2
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  472 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   473 op or :createBlockMaskRow:result *tmp295 *tmp297
   474 op shl *tmp295 :createBlockMaskRow:result 1
   475 op add *tmp296 :createCombinedMask:x -3
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  476 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   477 op or :createBlockMaskRow:result *tmp295 *tmp297
   478 op shl *tmp295 :createBlockMaskRow:result 1
   479 op add *tmp296 :createCombinedMask:x -4
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  480 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   481 op or :createBlockMaskRow:result *tmp295 *tmp297
   482 op shl *tmp311 :createAdjacentMask:row1 1
   483 op or *tmp312 :createAdjacentMask:row2 *tmp311
 
   707 set :createAdjacentMask:result 0
   708 op add *tmp305 :layoutThoriumDrillAtLocation:newY 4
   709 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 :createBlockMaskRow:result *tmp299
+  710 ucontrol getBlock *tmp296 *tmp305 0 :createBlockMaskRow:result 0
   711 op shl *tmp295 :createBlockMaskRow:result 1
   712 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  713 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   714 op or :createBlockMaskRow:result *tmp295 *tmp297
   715 op shl *tmp295 :createBlockMaskRow:result 1
   716 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  717 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   718 op or :createBlockMaskRow:result *tmp295 *tmp297
   719 op shl *tmp295 :createBlockMaskRow:result 1
   720 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  721 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   722 op or :createBlockMaskRow:result *tmp295 *tmp297
   723 op shl *tmp295 :createBlockMaskRow:result 1
-    * ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp305 *tmp298 *tmp297 *tmp299
+  724 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp305 0 *tmp297 0
   725 op or :createBlockMaskRow:result *tmp295 *tmp297
   726 op shl *tmp295 :createBlockMaskRow:result 1
   727 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  728 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   729 op or :createBlockMaskRow:result *tmp295 *tmp297
   730 op shl *tmp295 :createBlockMaskRow:result 1
   731 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  732 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   733 op or :createBlockMaskRow:result *tmp295 *tmp297
   734 op shl *tmp295 :createBlockMaskRow:result 1
   735 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  736 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   737 op or :createBlockMaskRow:result *tmp295 *tmp297
   738 op shl *tmp295 :createBlockMaskRow:result 1
   739 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
-    * ucontrol getBlock *tmp296 *tmp305 *tmp298 *tmp297 *tmp299
+  740 ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0
   741 op or :createAdjacentMask:row2 *tmp295 *tmp297
   742 op add *tmp307 :layoutThoriumDrillAtLocation:newY 3
   743 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 :createBlockMaskRow:result *tmp299
+  744 ucontrol getBlock *tmp296 *tmp307 0 :createBlockMaskRow:result 0
   745 op shl *tmp295 :createBlockMaskRow:result 1
   746 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  747 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   748 op or :createBlockMaskRow:result *tmp295 *tmp297
   749 op shl *tmp295 :createBlockMaskRow:result 1
   750 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  751 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   752 op or :createBlockMaskRow:result *tmp295 *tmp297
   753 op shl *tmp295 :createBlockMaskRow:result 1
   754 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  755 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   756 op or :createBlockMaskRow:result *tmp295 *tmp297
   757 op shl *tmp295 :createBlockMaskRow:result 1
-    * ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp307 *tmp298 *tmp297 *tmp299
+  758 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp307 0 *tmp297 0
   759 op or :createBlockMaskRow:result *tmp295 *tmp297
   760 op shl *tmp295 :createBlockMaskRow:result 1
   761 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  762 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   763 op or :createBlockMaskRow:result *tmp295 *tmp297
   764 op shl *tmp295 :createBlockMaskRow:result 1
   765 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  766 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   767 op or :createBlockMaskRow:result *tmp295 *tmp297
   768 op shl *tmp295 :createBlockMaskRow:result 1
   769 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  770 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   771 op or :createBlockMaskRow:result *tmp295 *tmp297
   772 op shl *tmp295 :createBlockMaskRow:result 1
   773 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
-    * ucontrol getBlock *tmp296 *tmp307 *tmp298 *tmp297 *tmp299
+  774 ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0
   775 op or :createBlockMaskRow:result *tmp295 *tmp297
   776 set :createAdjacentMask:row1 :createBlockMaskRow:result
   777 set :createAdjacentMask:r 2
   778 label *label341
   779 op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdjacentMask:r
   780 op add *tmp296 :layoutThoriumDrillAtLocation:newX 4
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 :createBlockMaskRow:result *tmp299
+  781 ucontrol getBlock *tmp296 *tmp309 0 :createBlockMaskRow:result 0
   782 op shl *tmp295 :createBlockMaskRow:result 1
   783 op add *tmp296 :layoutThoriumDrillAtLocation:newX 3
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  784 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   785 op or :createBlockMaskRow:result *tmp295 *tmp297
   786 op shl *tmp295 :createBlockMaskRow:result 1
   787 op add *tmp296 :layoutThoriumDrillAtLocation:newX 2
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  788 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   789 op or :createBlockMaskRow:result *tmp295 *tmp297
   790 op shl *tmp295 :createBlockMaskRow:result 1
   791 op add *tmp296 :layoutThoriumDrillAtLocation:newX 1
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  792 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   793 op or :createBlockMaskRow:result *tmp295 *tmp297
   794 op shl *tmp295 :createBlockMaskRow:result 1
-    * ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp309 *tmp298 *tmp297 *tmp299
+  795 ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp309 0 *tmp297 0
   796 op or :createBlockMaskRow:result *tmp295 *tmp297
   797 op shl *tmp295 :createBlockMaskRow:result 1
   798 op add *tmp296 :layoutThoriumDrillAtLocation:newX -1
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  799 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   800 op or :createBlockMaskRow:result *tmp295 *tmp297
   801 op shl *tmp295 :createBlockMaskRow:result 1
   802 op add *tmp296 :layoutThoriumDrillAtLocation:newX -2
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  803 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   804 op or :createBlockMaskRow:result *tmp295 *tmp297
   805 op shl *tmp295 :createBlockMaskRow:result 1
   806 op add *tmp296 :layoutThoriumDrillAtLocation:newX -3
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  807 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   808 op or :createBlockMaskRow:result *tmp295 *tmp297
   809 op shl *tmp295 :createBlockMaskRow:result 1
   810 op add *tmp296 :layoutThoriumDrillAtLocation:newX -4
-    * ucontrol getBlock *tmp296 *tmp309 *tmp298 *tmp297 *tmp299
+  811 ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0
   812 op or :createBlockMaskRow:result *tmp295 *tmp297
   813 op shl *tmp311 :createAdjacentMask:row1 1
   814 op or *tmp312 :createAdjacentMask:row2 *tmp311

Final code before resolving virtual instructions:

    0:  jump *label20 always 0 0                                     OreLocator.mnd: #set target = 8;
    1:  jump *label4 always 0 0                                      ...
    2:  jump *label6 always 0 0                                      ...
    3:  jump *label8 always 0 0                                      ...
        label *label20                                               ...
    4:  set *id "name: Base Builder - Ore Locator\nversion: v0.4.0"  ...
        label *label21                                               OreLocator.mnd: require "Matrices.mnd" remote matrices;
    5:  read *tmp11 processor4 "*signature"                          ...
    6:  jump *label21 notEqual *tmp11 "b7c1b9d437eb2566:v1"          ...
    7:  set .attenuationRate 50                                      OreLocator.mnd: export var attenuationRate = 50;
    8:  set .locations 0                                             OreLocator.mnd: export var locations = 0;
    9:  set .count -1                                                OreLocator.mnd: var count = -1, locationsStart, start;
   10:  set *signature "2b365030e19b2b7f:v1"                         OreLocator.mnd: #set target = 8;
        label *label22                                               ...
   11:  wait 1e12                                                    ...
   12:  jump *label22 always 0 0                                     ...
        label *label4                                                OreLocator.mnd: export def findDrillLocation(x, y, unit, item, ore, size, limit, out dx, out dy, out capacity)
   13:  setaddr :findDrillLocation*retaddr *label22                  ...
        label *label5                                                ...
   14:  set .searchFinished false                                    OreLocator.mnd: searchFinished = false;
   15:  ubind :findDrillLocation:unit                                OreLocator.mnd: ubind(unit);
   16:  set .locationsStart .locations                               OreLocator.mnd: locationsStart = locations;
   17:  set .coreX :findDrillLocation:x                              OreLocator.mnd: coreX = x;
   18:  set .coreY :findDrillLocation:y                              OreLocator.mnd: coreY = y;
   19:  set :findDrillLocation:capacity 0                            OreLocator.mnd: mapSpots = dx = dy = capacity = 0;
   20:  set :findDrillLocation:dy :findDrillLocation:capacity        ...
   21:  set :findDrillLocation:dx :findDrillLocation:dy              ...
   22:  set .mapSpots :findDrillLocation:dx                          ...
   23:  op sub *tmp13 @mapw :findDrillLocation:x                     OreLocator.mnd: var distanceLimit = max(coreX, coreY, @mapw - coreX, @maph - coreY);
   24:  op sub *tmp14 @maph :findDrillLocation:y                     ...
   25:  op max *tmp15 :findDrillLocation:x :findDrillLocation:y      ...
   26:  op max *tmp15 *tmp15 *tmp13                                  ...
   27:  op max *tmp15 *tmp15 *tmp14                                  ...
   28:  set :findDrillLocation:distanceLimit *tmp15                  ...
   29:  set .angle 0                                                 OreLocator.mnd: mapProgress = angle = 0;
   30:  set .mapProgress 0                                           ...
   31:  ucontrol within :findDrillLocation:x :findDrillLocation:y 6  OreLocator.mnd: while !within(x, y, radius) do
   32:  jump *label28 notEqual *tmp18 false                          ...
        label *label220                                              ...
   33:  ucontrol approach :findDrillLocation:x :findDrillLocation:y  OreLocator.mnd: approach(x, y, radius - 0.5);
   34:  ucontrol within :findDrillLocation:x :findDrillLocation:y 6  OreLocator.mnd: while !within(x, y, radius) do
   35:  jump *label220 equal *tmp18 false                            ...
        label *label28                                               ...
   36:  op div *tmp21 *tmp15 3.8197185279121366                      OreLocator.mnd: mapTotal = (distanceLimit / SPIRAL_WIDTH) ** 2;
   37:  op pow .mapTotal *tmp21 2                                    ...
   38:  set :findDrillLocation:oreX 0                                OreLocator.mnd: var oreX = 0, oreY = 0;
   39:  set :findDrillLocation:oreY 0                                ...
        label *label29                                               OreLocator.mnd: while true do
   40:  set :findDrillLocation:best -1                               OreLocator.mnd: var best = -1, bestX = x, bestY = y;
   41:  set :findDrillLocation:bestX :findDrillLocation:x            ...
   42:  set :findDrillLocation:bestY :findDrillLocation:y            ...
   43:  op sub *tmp23 :findDrillLocation:limit :findDrillLocation:ca OreLocator.mnd: var maxDistance = (limit - capacity) * attenuationRate;
   44:  op mul :findDrillLocation:maxDistance *tmp23 .attenuationRat ...
   45:  op min :findDrillLocation:distanceLimit :findDrillLocation:d OreLocator.mnd: distanceLimit = min(distanceLimit, maxDistance);
   46:  op div *tmp26 :findDrillLocation:distanceLimit 3.81971852791 OreLocator.mnd: mapTotal = (distanceLimit / SPIRAL_WIDTH) ** 2;
   47:  op pow .mapTotal *tmp26 2                                    ...
   48:  set :locateOreAway:x :findDrillLocation:oreX                 OreLocator.mnd: if !locateOreAway(item, in out oreX, in out oreY, in distanceLimit) then
   49:  set :locateOreAway:y :findDrillLocation:oreY                 ...
   50:  op mul :locateOreAway:distance 3.8197185279121366 .angle     OreLocator.mnd: var distance = SPIRAL_WIDTH * angle;
   51:  set :locateOreAway:lastX -1                                  OreLocator.mnd: var lastX = -1, lastY = -1;
   52:  set :locateOreAway:lastY -1                                  ...
   53:  op max .angle .angle @pi                                     OreLocator.mnd: angle = max(angle, @pi);
   54:  op mul .mapProgress .angle .angle                            OreLocator.mnd: mapProgress = angle * angle;
   55:  jump *label37 greaterThanEq :locateOreAway:distance :findDri OreLocator.mnd: while distance < distanceLimit do
   56:  op sub *tmp37 @mapw 5                                        ...
   57:  op sub *tmp44 @maph 5                                        ...
        label *label205                                              ...
   58:  op div :locateOreAway:a .angle @degToRad                     OreLocator.mnd: var a = angle / @degToRad;
   59:  op sin *tmp34 :locateOreAway:a 0                             OreLocator.mnd: var lx = limit(coreX + sin(a) * distance, 5, @mapw - 5);
   60:  op mul *tmp35 *tmp34 :locateOreAway:distance                 ...
   61:  op add *tmp36 :findDrillLocation:x *tmp35                    ...
   62:  op max *tmp39 *tmp36 5                                       OreLocator.mnd: min(max(value, low), high);
   63:  op min *tmp38 *tmp39 *tmp37                                  ...
   64:  op cos *tmp41 :locateOreAway:a 0                             OreLocator.mnd: var ly = limit(coreY + cos(a) * distance, 5, @maph - 5);
   65:  op mul *tmp42 *tmp41 :locateOreAway:distance                 ...
   66:  op add *tmp43 :findDrillLocation:y *tmp42                    ...
   67:  op max *tmp46 *tmp43 5                                       OreLocator.mnd: min(max(value, low), high);
   68:  op min *tmp45 *tmp46 *tmp44                                  ...
   69:  ucontrol within *tmp38 *tmp45 5 *tmp48 0                     OreLocator.mnd: while !within(x, y, radius) do
   70:  jump *label43 notEqual *tmp48 false                          ...
        label *label212                                              ...
   71:  ucontrol approach *tmp38 *tmp45 4.5 0 0                      OreLocator.mnd: approach(x, y, radius - 0.5);
   72:  ucontrol within *tmp38 *tmp45 5 *tmp48 0                     OreLocator.mnd: while !within(x, y, radius) do
   73:  jump *label212 equal *tmp48 false                            ...
        label *label43                                               ...
   74:  op div *tmp51 3.8197185279121366 :locateOreAway:distance     OreLocator.mnd: angle += SPIRAL_WIDTH / distance;
   75:  op add .angle .angle *tmp51                                  ...
   76:  op mul .mapProgress .angle .angle                            OreLocator.mnd: mapProgress = angle * angle;
   77:  op mul :locateOreAway:distance 3.8197185279121366 .angle     OreLocator.mnd: distance = SPIRAL_WIDTH * angle;
   78:  ulocate ore core true :findDrillLocation:item :locateOreAway OreLocator.mnd: if !ulocate(:ore, ore, out x, out y) then
   79:  jump *label44 notEqual *tmp54 false                          ...
   80:  set *tmp28 false                                             OreLocator.mnd: return false;
   81:  jump *label34 always 0 0                                     ...
        label *label44                                               OreLocator.mnd: if !ulocate(:ore, ore, out x, out y) then
   82:  op sub *tmp58 :locateOreAway:x :findDrillLocation:x          OreLocator.mnd: var coreDist = max(abs(x - coreX), abs(y - coreY));
   83:  op abs *tmp59 *tmp58 0                                       ...
   84:  op sub *tmp60 :locateOreAway:y :findDrillLocation:y          ...
   85:  op abs *tmp61 *tmp60 0                                       ...
   86:  op max :locateOreAway:coreDist *tmp59 *tmp61                 ...
   87:  op sub *tmp63 :locateOreAway:x *tmp38                        OreLocator.mnd: var unitDist = len(x - lx, y - ly);
   88:  op sub *tmp64 :locateOreAway:y *tmp45                        ...
   89:  op len :locateOreAway:unitDist *tmp63 *tmp64                 ...
   90:  jump *label46 notEqual :locateOreAway:lastX :locateOreAway:x OreLocator.mnd: if lastX == x then if lastY == y then continue; end; end;
   91:  jump *label36 equal :locateOreAway:lastY :locateOreAway:y    ...
        label *label46                                               ...
   92:  jump *label50 lessThan :locateOreAway:coreDist 8             OreLocator.mnd: if coreDist >= MIN_CORE_DIST then
   93:  jump *label52 greaterThanEq :locateOreAway:unitDist :locateO OreLocator.mnd: if unitDist < distance then
   94:  set :locateOreAway:lastX :locateOreAway:x                    OreLocator.mnd: lastX = x;
   95:  set :locateOreAway:lastY :locateOreAway:y                    OreLocator.mnd: lastY = y;
   96:  set *tmp75 .locations                                        OreLocator.mnd: for var i in locationsStart ... locations do
   97:  set :visited:i .locationsStart                               ...
   98:  jump *label59 greaterThanEq .locationsStart *tmp75           ...
        label *label206                                              ...
   99:  op mul :visited:index 4 :visited:i                           OreLocator.mnd: var index = 4 * i;
  100:  op add *tmp78 :visited:index 2                               OreLocator.mnd: var lx = bank1[index + 2];
  101:  read :visited:lx bank1 *tmp78                                ...
  102:  op add *tmp81 :visited:index 3                               OreLocator.mnd: var ly = bank1[index + 3];
  103:  read :visited:ly bank1 *tmp81                                ...
  104:  op sub *tmp85 :locateOreAway:x :visited:lx                   OreLocator.mnd: if len(x - lx, y - ly) < 7 then
  105:  op sub *tmp86 :locateOreAway:y :visited:ly                   ...
  106:  op len *tmp87 *tmp85 *tmp86                                  ...
  107:  jump *label60 greaterThanEq *tmp87 7                         ...
  108:  set *tmp74 true                                              OreLocator.mnd: return true;
  109:  jump *label56 always 0 0                                     ...
        label *label60                                               OreLocator.mnd: if len(x - lx, y - ly) < 7 then
  110:  op add :visited:i :visited:i 1                               OreLocator.mnd: for var i in locationsStart ... locations do
  111:  jump *label206 lessThan :visited:i *tmp75                    ...
        label *label59                                               ...
  112:  set *tmp74 false                                             OreLocator.mnd: return false;
        label *label56                                               OreLocator.mnd: if !visited(x, y) then
  113:  jump *label54 notEqual *tmp74 false                          ...
  114:  op div *tmp92 2 .angle                                       OreLocator.mnd: angle += 2 * SPIRAL_WIDTH / distance;
  115:  op add .angle .angle *tmp92                                  ...
  116:  op mul .mapProgress .angle .angle                            OreLocator.mnd: mapProgress = angle * angle;
  117:  printflush message1                                          OreLocator.mnd: printflush(message1);
  118:  set *tmp28 true                                              OreLocator.mnd: return true;
  119:  jump *label34 always 0 0                                     ...
        label *label54                                               OreLocator.mnd: if !visited(x, y) then
        label *label52                                               OreLocator.mnd: if unitDist < distance then
        label *label50                                               OreLocator.mnd: if coreDist >= MIN_CORE_DIST then
        label *label36                                               OreLocator.mnd: while distance < distanceLimit do
  120:  jump *label205 lessThan :locateOreAway:distance :findDrillLo ...
        label *label37                                               ...
  121:  set *tmp28 false                                             OreLocator.mnd: return false;
        label *label34                                               OreLocator.mnd: if !locateOreAway(item, in out oreX, in out oreY, in distanceLimit) then
  122:  set :findDrillLocation:oreX :locateOreAway:x                 ...
  123:  set :findDrillLocation:oreY :locateOreAway:y                 ...
  124:  jump *label32 notEqual *tmp28 false                          ...
  125:  set .searchFinished true                                     OreLocator.mnd: searchFinished = true;
  126:  op greaterThan :findDrillLocation*retval :findDrillLocation: OreLocator.mnd: return capacity > 0;
  127:  jump *label23 always 0 0                                     ...
        label *label32                                               OreLocator.mnd: if !locateOreAway(item, in out oreX, in out oreY, in distanceLimit) then
  128:  jump *label62 lessThan :findDrillLocation:limit 1000         OreLocator.mnd: if limit >= 1000 then mapSpots++; end;
  129:  op add .mapSpots .mapSpots 1                                 ...
        label *label62                                               ...
  130:  ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102  OreLocator.mnd: while !within(x, y, radius) do
  131:  jump *label68 notEqual *tmp102 false                         ...
        label *label213                                              ...
  132:  ucontrol approach :locateOreAway:x :locateOreAway:y 5.5 0 0  OreLocator.mnd: approach(x, y, radius - 0.5);
  133:  ucontrol within :locateOreAway:x :locateOreAway:y 6 *tmp102  OreLocator.mnd: while !within(x, y, radius) do
  134:  jump *label213 equal *tmp102 false                           ...
        label *label68                                               ...
  135:  set :findDrillLocation:last 0                                OreLocator.mnd: var last = 0;
        label *label69                                               OreLocator.mnd: while true do
  136:  write @unit processor4 ":findBestPosition:unit"              OreLocator.mnd: var score = matrices.findBestPosition(@unit, oreX, oreY, ore, size, out diffX, out diffY);
  137:  write :findDrillLocation:oreX processor4 ":findBestPosition: ...
  138:  write :findDrillLocation:oreY processor4 ":findBestPosition: ...
  139:  write :findDrillLocation:ore processor4 ":findBestPosition:o ...
  140:  write :findDrillLocation:size processor4 ":findBestPosition: ...
  141:  write false processor4 ":findBestPosition*finished"          ...
  142:  write 2 processor4 "@counter"                                ...
        label *label72                                               ...
  143:  wait 1e-15                                                   ...
  144:  read *tmp112 processor4 ":findBestPosition*finished"         ...
  145:  jump *label72 equal *tmp112 false                            ...
  146:  read :findDrillLocation:diffX processor4 ":findBestPosition: ...
  147:  read :findDrillLocation:diffY processor4 ":findBestPosition: ...
  148:  read :findDrillLocation:score processor4 ":findBestPosition* ...
  149:  op add :findDrillLocation:newX :findDrillLocation:oreX :find OreLocator.mnd: var newX = oreX + diffX;
  150:  op add :findDrillLocation:newY :findDrillLocation:oreY :find OreLocator.mnd: var newY = oreY + diffY;
  151:  op sub *tmp119 :findDrillLocation:newX :findDrillLocation:x  OreLocator.mnd: var coreDist = max(abs(newX - coreX), abs(newY - coreY));
  152:  op abs *tmp120 *tmp119 0                                     ...
  153:  op sub *tmp121 :findDrillLocation:newY :findDrillLocation:y  ...
  154:  op abs *tmp122 *tmp121 0                                     ...
  155:  op max :findDrillLocation:coreDist *tmp120 *tmp122           ...
  156:  jump *label71 lessThanEq :findDrillLocation:coreDist 8       OreLocator.mnd: if coreDist <= MIN_CORE_DIST then break; end;
  157:  jump *label75 lessThanEq :findDrillLocation:score :findDrill OreLocator.mnd: if score > capacity then
  158:  set :findDrillLocation:dx :findDrillLocation:newX            OreLocator.mnd: dx = newX;
  159:  set :findDrillLocation:dy :findDrillLocation:newY            OreLocator.mnd: dy = newY;
  160:  set :findDrillLocation:capacity :findDrillLocation:score     OreLocator.mnd: capacity = score;
  161:  select .mapSpots lessThan :findDrillLocation:limit 1000 :fin OreLocator.mnd: if limit < 1000 then mapSpots = score; end;
  162:  jump *label79 lessThan :findDrillLocation:capacity :findDril OreLocator.mnd: if capacity >= limit then
  163:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = item.@id;
  164:  sensor *tmp134 :findDrillLocation:item @id                   ...
  165:  write *tmp134 bank1 .count                                   ...
  166:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = value;
  167:  write :findDrillLocation:score bank1 .count                  ...
  168:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = x;
  169:  write :findDrillLocation:dx bank1 .count                     ...
  170:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = y;
  171:  write :findDrillLocation:dy bank1 .count                     ...
  172:  op add .locations .locations 1                               OreLocator.mnd: inline void saveLocation(item, value, x, y)
  173:  ucontrol unbind 0 0 0 0 0                                    OreLocator.mnd: unbind();
  174:  set .searchFinished true                                     OreLocator.mnd: searchFinished = true;
  175:  set :findDrillLocation*retval true                           OreLocator.mnd: return true;
  176:  jump *label23 always 0 0                                     ...
        label *label79                                               OreLocator.mnd: if capacity >= limit then
        label *label75                                               OreLocator.mnd: if score > capacity then
  177:  jump *label82 lessThanEq :findDrillLocation:score :findDrill OreLocator.mnd: if score > best then
  178:  set :findDrillLocation:bestX :findDrillLocation:newX         OreLocator.mnd: bestX = newX;
  179:  set :findDrillLocation:bestY :findDrillLocation:newY         OreLocator.mnd: bestY = newY;
  180:  set :findDrillLocation:best :findDrillLocation:score         OreLocator.mnd: best = score;
        label *label82                                               OreLocator.mnd: if score > best then
  181:  jump *label71 lessThanEq :findDrillLocation:score :findDrill OreLocator.mnd: if score <= last then break; end;
  182:  set :findDrillLocation:last :findDrillLocation:score         OreLocator.mnd: last = score;
  183:  op mul :round:x :findDrillLocation:diffX 1.1                 OreLocator.mnd: oreX += round(diffX * 1.1);    // Rounds halves to higher absolute values
  184:  op add *tmp148 :round:x 0.5                                  *math: floor(x + 0.5);
  185:  op floor *tmp147 *tmp148 0                                   ...
  186:  op add :findDrillLocation:oreX :findDrillLocation:oreX *tmp1 OreLocator.mnd: oreX += round(diffX * 1.1);    // Rounds halves to higher absolute values
  187:  op mul :round.1:x :findDrillLocation:diffY 1.1               OreLocator.mnd: oreY += round(diffY * 1.1);
  188:  op add *tmp152 :round.1:x 0.5                                *math: floor(x + 0.5);
  189:  op floor *tmp151 *tmp152 0                                   ...
  190:  op add :findDrillLocation:oreY :findDrillLocation:oreY *tmp1 OreLocator.mnd: oreY += round(diffY * 1.1);
  191:  jump *label69 always 0 0                                     OreLocator.mnd: while true do
        label *label71                                               ...
  192:  jump *label29 lessThan :findDrillLocation:best 0             OreLocator.mnd: if best >= 0 then
  193:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = item.@id;
  194:  sensor *tmp158 :findDrillLocation:item @id                   ...
  195:  write *tmp158 bank1 .count                                   ...
  196:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = value;
  197:  write :findDrillLocation:best bank1 .count                   ...
  198:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = x;
  199:  write :findDrillLocation:bestX bank1 .count                  ...
  200:  op add .count .count 1                                       OreLocator.mnd: bank1[++count] = y;
  201:  write :findDrillLocation:bestY bank1 .count                  ...
  202:  op add .locations .locations 1                               OreLocator.mnd: inline void saveLocation(item, value, x, y)
  203:  jump *label29 always 0 0                                     OreLocator.mnd: while true do
        label *label23                                               OreLocator.mnd: export def findDrillLocation(x, y, unit, item, ore, size, limit, out dx, out dy, out capacity)
  204:  set :findDrillLocation*finished true                         ...
  205:  return :findDrillLocation*retaddr                            ...
        label *label14                                               OreLocator.mnd: noinline def excludeArea(mask, maskX, maskY, areaX, areaY, areaWidth, areaHeight)
  206:  op add *tmp189 :excludeArea:areaWidth 8                      OreLocator.mnd: var overlapX = (areaWidth + 7 + 1) \ 2 - abs(maskX - areaX);
  207:  op idiv *tmp190 *tmp189 2                                    ...
  208:  op sub *tmp191 :excludeArea:maskX :excludeArea:areaX         ...
  209:  op abs *tmp192 *tmp191 0                                     ...
  210:  op sub :excludeArea:overlapX *tmp190 *tmp192                 ...
  211:  op add *tmp195 :excludeArea:areaHeight 8                     OreLocator.mnd: var overlapY = (areaHeight + 7 + 1) \ 2 - abs(maskY - areaY);
  212:  op idiv *tmp196 *tmp195 2                                    ...
  213:  op sub *tmp197 :excludeArea:maskY :excludeArea:areaY         ...
  214:  op abs *tmp198 *tmp197 0                                     ...
  215:  op sub :excludeArea:overlapY *tmp196 *tmp198                 ...
  216:  set :excludeArea*retval :excludeArea:mask                    OreLocator.mnd: return mask;
  217:  jump *label104 lessThanEq :excludeArea:overlapX 0            OreLocator.mnd: if overlapX > 0 and overlapY > 0 then
  218:  jump *label104 lessThanEq :excludeArea:overlapY 0            ...
  219:  op min :excludeArea:blockSizeX 7 :excludeArea:overlapX       OreLocator.mnd: var blockSizeX = min(7, overlapX);
  220:  op min :excludeArea:blockSizeY 7 :excludeArea:overlapY       OreLocator.mnd: var blockSizeY = min(7, overlapY);
  221:  op shl *tmp206 1 :excludeArea:blockSizeX                     OreLocator.mnd: var row = (1 << width) - 1;
  222:  op sub :createMatrixOfSize:row *tmp206 1                     ...
  223:  set :createMatrixOfSize:matrix :createMatrixOfSize:row       OreLocator.mnd: var matrix = row;
  224:  jump *label110 greaterThanEq 1 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  225:  op shl *tmp210 :createMatrixOfSize:row 7                     OreLocator.mnd: matrix = (matrix << 7) | row;
  226:  op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize ...
  227:  jump *label110 greaterThanEq 2 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  228:  op shl *tmp210 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  229:  op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize ...
  230:  jump *label110 greaterThanEq 3 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  231:  op shl *tmp210 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  232:  op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize ...
  233:  jump *label110 greaterThanEq 4 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  234:  op shl *tmp210 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  235:  op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize ...
  236:  jump *label110 greaterThanEq 5 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  237:  op shl *tmp210 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  238:  op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize ...
  239:  jump *label110 greaterThanEq 6 :excludeArea:blockSizeY       OreLocator.mnd: if i >= height then break; end;
  240:  op shl *tmp210 :createMatrixOfSize:matrix 7                  OreLocator.mnd: matrix = (matrix << 7) | row;
  241:  op or :createMatrixOfSize:matrix *tmp210 :createMatrixOfSize ...
        label *label110                                              OreLocator.mnd: for var i in 1 ... 7 do
  242:  op lessThan *tmp212 :excludeArea:maskX :excludeArea:areaX    OreLocator.mnd: var shiftX = (maskX < areaX) * (7 - blockSizeX);
  243:  op sub *tmp213 7 :excludeArea:blockSizeX                     ...
  244:  op mul :excludeArea:shiftX *tmp212 *tmp213                   ...
  245:  op lessThan *tmp215 :excludeArea:maskY :excludeArea:areaY    OreLocator.mnd: var shiftY = (maskY < areaY) * (7 - blockSizeY);
  246:  op sub *tmp216 7 :excludeArea:blockSizeY                     ...
  247:  op mul :excludeArea:shiftY *tmp215 *tmp216                   ...
  248:  op abs *tmp166 :excludeArea:shiftX 0                         OreLocator.mnd: if abs(shiftX) > 6 or abs(shiftY) > 6 then return 0; end;
  249:  jump *label235 greaterThan *tmp166 6                         ...
  250:  op abs *tmp168 :excludeArea:shiftY 0                         ...
  251:  jump *label236 lessThanEq *tmp168 6                          ...
        label *label235                                              ...
  252:  set :shiftMask*retval 0                                      ...
  253:  jump *label244 always 0 0                                    ...
        label *label236                                              ...
  254:  op mul *tmp171 7 :excludeArea:shiftY                         OreLocator.mnd: var shift = shiftX + 7 * shiftY;
  255:  op add :shiftMask:shift :excludeArea:shiftX *tmp171          ...
  256:  jump *label238 lessThanEq :shiftMask:shift 0                 OreLocator.mnd: if shift > 0 then
  257:  op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift OreLocator.mnd: var clearMask = FULL_MASK >> shift;
  258:  op and *tmp176 :createMatrixOfSize:matrix :shiftMask:clearMa OreLocator.mnd: mask = (mask & clearMask) << shift;
  259:  op shl :shiftMask:mask *tmp176 :shiftMask:shift              ...
  260:  jump *label239 always 0 0                                    OreLocator.mnd: if shift > 0 then
        label *label238                                              ...
  261:  op sub *tmp178 0 :shiftMask:shift                            OreLocator.mnd: mask >>= -shift;
  262:  op shr :shiftMask:mask :createMatrixOfSize:matrix *tmp178    ...
        label *label239                                              OreLocator.mnd: if shift > 0 then
  263:  jump *label242 equal :excludeArea:shiftX 0                   OreLocator.mnd: if shiftX != 0 then
  264:  op shr :shiftMask:keep 0b1111111 *tmp166                     OreLocator.mnd: var keep = 0b1111111 >> abs(shiftX);        // The bits we need to keep
  265:  jump *label240 lessThanEq :excludeArea:shiftX 0              OreLocator.mnd: if shiftX > 0 then keep <<= shiftX; end;    // Shift to the proper side
  266:  op shl :shiftMask:keep :shiftMask:keep :excludeArea:shiftX   ...
        label *label240                                              ...
  267:  op shl *tmp185 :shiftMask:keep 7                             OreLocator.mnd: keep |= keep << 7;
  268:  op or :shiftMask:keep :shiftMask:keep *tmp185                ...
  269:  op shl *tmp186 :shiftMask:keep 14                            OreLocator.mnd: keep |= keep << 14;
  270:  op or :shiftMask:keep :shiftMask:keep *tmp186                ...
  271:  op shl *tmp187 :shiftMask:keep 21                            OreLocator.mnd: keep |= keep << 21;
  272:  op or :shiftMask:keep :shiftMask:keep *tmp187                ...
  273:  op and :shiftMask:mask :shiftMask:mask :shiftMask:keep       OreLocator.mnd: mask &= keep;
        label *label242                                              OreLocator.mnd: if shiftX != 0 then
  274:  set :shiftMask*retval :shiftMask:mask                        OreLocator.mnd: return mask;
        label *label244                                              OreLocator.mnd: def shiftMask(mask, shiftX, shiftY)
  275:  op or :excludeArea*retval :excludeArea:mask :shiftMask*retva OreLocator.mnd: return mask | shifted;
        label *label104                                              OreLocator.mnd: if overlapX > 0 and overlapY > 0 then
  276:  return :excludeArea*retaddr                                  OreLocator.mnd: noinline def excludeArea(mask, maskX, maskY, areaX, areaY, areaWidth, areaHeight)
        label *label15                                               OreLocator.mnd: noinline def findPossiblePlacement(terrainMask, placementMask, width, height, out x, out y)
  277:  set :findPossiblePlacement:y -3                              OreLocator.mnd: for y in -3 .. 3 do
  278:  jump *label117 greaterThan :findPossiblePlacement:y 3        ...
        label *label208                                              ...
  279:  op add *tmp219 :findPossiblePlacement:y 3                    OreLocator.mnd: var mask = placementMask << 7 * (y + 3);
  280:  op mul *tmp220 7 *tmp219                                     ...
  281:  op shl :findPossiblePlacement:mask :findPossiblePlacement:pl ...
  282:  set :findPossiblePlacement:x -3                              OreLocator.mnd: for x in -3 .. 3 do
  283:  jump *label120 greaterThan :findPossiblePlacement:x 3        ...
        label *label209                                              ...
  284:  op and *tmp222 :findPossiblePlacement:terrainMask :findPossi OreLocator.mnd: if (terrainMask & mask) == 0 then return 3 * 8 + y * 7 + x; end;
  285:  jump *label121 notEqual *tmp222 0                            ...
  286:  op mul *tmp225 :findPossiblePlacement:y 7                    ...
  287:  op add *tmp226 24 *tmp225                                    ...
  288:  op add :findPossiblePlacement*retval *tmp226 :findPossiblePl ...
  289:  return :findPossiblePlacement*retaddr                        ...
        label *label121                                              ...
  290:  op sub *tmp228 3 :findPossiblePlacement:width                OreLocator.mnd: if x > 3 - width then break; end;
  291:  jump *label120 greaterThan :findPossiblePlacement:x *tmp228  ...
  292:  op shl :findPossiblePlacement:mask :findPossiblePlacement:ma OreLocator.mnd: mask <<= 1;
  293:  op add :findPossiblePlacement:x :findPossiblePlacement:x 1   OreLocator.mnd: for x in -3 .. 3 do
  294:  jump *label209 lessThanEq :findPossiblePlacement:x 3         ...
        label *label120                                              ...
  295:  op sub *tmp231 3 :findPossiblePlacement:height               OreLocator.mnd: if y > 3 - height then break; end;
  296:  jump *label117 greaterThan :findPossiblePlacement:y *tmp231  ...
  297:  op add :findPossiblePlacement:y :findPossiblePlacement:y 1   OreLocator.mnd: for y in -3 .. 3 do
  298:  jump *label208 lessThanEq :findPossiblePlacement:y 3         ...
        label *label117                                              ...
  299:  set :findPossiblePlacement*retval -1                         OreLocator.mnd: return -1;
  300:  return :findPossiblePlacement*retaddr                        OreLocator.mnd: noinline def findPossiblePlacement(terrainMask, placementMask, width, height, out x, out y)
        label *label19                                               OreLocator.mnd: noinline def layoutThoriumDrillAtLocation()
  301:  set .panelY -1                                               OreLocator.mnd: water1X = water1Y = water2X = water2Y = generatorX = generatorY = panelX = panelY = -1;
  302:  set .panelX -1                                               ...
  303:  set .generatorY -1                                           ...
  304:  set .generatorX -1                                           ...
  305:  set .water2Y -1                                              ...
  306:  set .water2X -1                                              ...
  307:  set .water1Y -1                                              ...
  308:  set .water1X -1                                              ...
  309:  set :moveTo.5:x .drillX                                      OreLocator.mnd: moveTo(drillX, drillY, 1);
  310:  set :moveTo.5:y .drillY                                      ...
  311:  ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324 0          OreLocator.mnd: while !within(x, y, radius) do
  312:  jump *label169 notEqual *tmp324 false                        ...
        label *label221                                              ...
  313:  ucontrol approach :moveTo.5:x :moveTo.5:y 0.5 0 0            OreLocator.mnd: approach(x, y, radius - 0.5);
  314:  ucontrol within :moveTo.5:x :moveTo.5:y 1 *tmp324 0          OreLocator.mnd: while !within(x, y, radius) do
  315:  jump *label221 equal *tmp324 false                           ...
        label *label169                                              ...
  316:  set :createCombinedMask:x .drillX                            OreLocator.mnd: var plainTerrainMask = createCombinedMask(drillX, drillY);
  317:  set :createCombinedMask:y .drillY                            ...
  318:  write @unit processor4 ":createTerrainMask:unit"             OreLocator.mnd: async(matrices.createTerrainMask(@unit, x, y));
  319:  write :createCombinedMask:x processor4 ":createTerrainMask:x ...
  320:  write :createCombinedMask:y processor4 ":createTerrainMask:y ...
  321:  write false processor4 ":createTerrainMask*finished"         ...
  322:  write 1 processor4 "@counter"                                ...
  323:  set :createAdjacentMask:result 0                             OreLocator.mnd: var result = 0;
  324:  op add *tmp305 :createCombinedMask:y 4                       OreLocator.mnd: var row2 = createBlockMaskRow(x, y + 4);
  325:  op add *tmp296 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  326:  ucontrol getBlock *tmp296 *tmp305 0 :createBlockMaskRow:resu ...
  327:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  328:  op add *tmp296 :createCombinedMask:x 3                       ...
  329:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  330:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  331:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  332:  op add *tmp296 :createCombinedMask:x 2                       ...
  333:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  334:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  335:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  336:  op add *tmp296 :createCombinedMask:x 1                       ...
  337:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  338:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  339:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  340:  ucontrol getBlock :createCombinedMask:x *tmp305 0 *tmp297 0  ...
  341:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  342:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  343:  op add *tmp296 :createCombinedMask:x -1                      ...
  344:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  345:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  346:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  347:  op add *tmp296 :createCombinedMask:x -2                      ...
  348:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  349:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  350:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  351:  op add *tmp296 :createCombinedMask:x -3                      ...
  352:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  353:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  354:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  355:  op add *tmp296 :createCombinedMask:x -4                      ...
  356:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  357:  op or :createAdjacentMask:row2 *tmp295 *tmp297               ...
  358:  op add *tmp307 :createCombinedMask:y 3                       OreLocator.mnd: var row1 = createBlockMaskRow(x, y + 3);
  359:  op add *tmp296 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  360:  ucontrol getBlock *tmp296 *tmp307 0 :createBlockMaskRow:resu ...
  361:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  362:  op add *tmp296 :createCombinedMask:x 3                       ...
  363:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  364:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  365:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  366:  op add *tmp296 :createCombinedMask:x 2                       ...
  367:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  368:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  369:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  370:  op add *tmp296 :createCombinedMask:x 1                       ...
  371:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  372:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  373:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  374:  ucontrol getBlock :createCombinedMask:x *tmp307 0 *tmp297 0  ...
  375:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  376:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  377:  op add *tmp296 :createCombinedMask:x -1                      ...
  378:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  379:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  380:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  381:  op add *tmp296 :createCombinedMask:x -2                      ...
  382:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  383:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  384:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  385:  op add *tmp296 :createCombinedMask:x -3                      ...
  386:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  387:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  388:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  389:  op add *tmp296 :createCombinedMask:x -4                      ...
  390:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  391:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  392:  set :createAdjacentMask:row1 :createBlockMaskRow:result      OreLocator.mnd: var row1 = createBlockMaskRow(x, y + 3);
  393:  set :createAdjacentMask:r 2                                  OreLocator.mnd: for var r in -4 .. 2 descending do
        label *label314                                              ...
  394:  op add *tmp309 :createCombinedMask:y :createAdjacentMask:r   OreLocator.mnd: var row0 = createBlockMaskRow(x, y + r);
  395:  op add *tmp296 :createCombinedMask:x 4                       OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  396:  ucontrol getBlock *tmp296 *tmp309 0 :createBlockMaskRow:resu ...
  397:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  398:  op add *tmp296 :createCombinedMask:x 3                       ...
  399:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  400:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  401:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  402:  op add *tmp296 :createCombinedMask:x 2                       ...
  403:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  404:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  405:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  406:  op add *tmp296 :createCombinedMask:x 1                       ...
  407:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  408:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  409:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  410:  ucontrol getBlock :createCombinedMask:x *tmp309 0 *tmp297 0  ...
  411:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  412:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  413:  op add *tmp296 :createCombinedMask:x -1                      ...
  414:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  415:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  416:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  417:  op add *tmp296 :createCombinedMask:x -2                      ...
  418:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  419:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  420:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  421:  op add *tmp296 :createCombinedMask:x -3                      ...
  422:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  423:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  424:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  425:  op add *tmp296 :createCombinedMask:x -4                      ...
  426:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  427:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  428:  op shl *tmp311 :createAdjacentMask:row1 1                    OreLocator.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  429:  op or *tmp312 :createAdjacentMask:row2 *tmp311               ...
  430:  op shr *tmp313 :createAdjacentMask:row1 1                    ...
  431:  op or *tmp314 *tmp312 *tmp313                                ...
  432:  op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow:r ...
  433:  op shl *tmp316 :createAdjacentMask:result 7                  OreLocator.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  434:  op and *tmp317 :createAdjacentMask:mask 0xFE                 ...
  435:  op or :createAdjacentMask:result *tmp316 *tmp317             ...
  436:  set :createAdjacentMask:row2 :createAdjacentMask:row1        OreLocator.mnd: row2 = row1;
  437:  set :createAdjacentMask:row1 :createBlockMaskRow:result      OreLocator.mnd: row1 = row0;
  438:  op sub :createAdjacentMask:r :createAdjacentMask:r 1         OreLocator.mnd: for var r in -4 .. 2 descending do
  439:  jump *label314 greaterThanEq :createAdjacentMask:r -4        ...
  440:  op shr *tmp304 :createAdjacentMask:result 1                  OreLocator.mnd: result >> 1;
        label *label324                                              OreLocator.mnd: var terrainMask = await(matrices.createTerrainMask);
  441:  wait 1e-15                                                   ...
  442:  read *tmp320 processor4 ":createTerrainMask*finished"        ...
  443:  jump *label324 equal *tmp320 false                           ...
  444:  read :createCombinedMask:terrainMask processor4 ":createTerr ...
  445:  op or :excludeArea:mask *tmp304 :createCombinedMask:terrainM OreLocator.mnd: return excludeArea(adjacentMask | terrainMask, x, y, coreX, coreY, BASE_SIZE, BASE_SIZE);
  446:  set :excludeArea:maskX :createCombinedMask:x                 ...
  447:  set :excludeArea:maskY :createCombinedMask:y                 ...
  448:  set :excludeArea:areaX .coreX                                ...
  449:  set :excludeArea:areaY .coreY                                ...
  450:  set :excludeArea:areaWidth 15                                ...
  451:  set :excludeArea:areaHeight 15                               ...
  452:  setaddr :excludeArea*retaddr *label325                       ...
  453:  call *label14 *invalid :excludeArea*retval                   ...
        label *label325                                              ...
  454:  op or :layoutThoriumDrillAtLocation:terrainMask :excludeArea OreLocator.mnd: var terrainMask = plainTerrainMask | createFixedMatrix(
  455:  op or :layoutThoriumDrillAtLocation:cornersMask :layoutThori OreLocator.mnd: var cornersMask = terrainMask | createFixedMatrix(
  456:  set :layoutThoriumDrillAtLocation:mask2x2 387                OreLocator.mnd: var mask2x2 = createFixedMatrix(0b11, 0b11);
  457:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt OreLocator.mnd: var shift = findPossiblePlacement(cornersMask, mask2x2, 2, 2, out c, out r);
  458:  set :findPossiblePlacement:placementMask 387                 ...
  459:  set :findPossiblePlacement:width 2                           ...
  460:  set :findPossiblePlacement:height 2                          ...
  461:  setaddr :findPossiblePlacement*retaddr *label171             ...
  462:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label171                                              ...
  463:  jump *label172 lessThan :findPossiblePlacement*retval 0      OreLocator.mnd: if shift >= 0 then
  464:  op add *tmp333 .drillX 0.5                                   OreLocator.mnd: water1X = drillX + 0.5 + c;
  465:  op add .water1X *tmp333 :findPossiblePlacement:x             ...
  466:  op add *tmp335 .drillY 0.5                                   OreLocator.mnd: water1Y = drillY + 0.5 + r;
  467:  op add .water1Y *tmp335 :findPossiblePlacement:y             ...
  468:  op shl *tmp337 :layoutThoriumDrillAtLocation:mask2x2 :findPo OreLocator.mnd: terrainMask |= (mask2x2 << shift);
  469:  op or :layoutThoriumDrillAtLocation:terrainMask :layoutThori ...
  470:  op or :layoutThoriumDrillAtLocation:cornersMask :layoutThori OreLocator.mnd: cornersMask |= (mask2x2 << shift);
        label *label172                                              OreLocator.mnd: if shift >= 0 then
  471:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt OreLocator.mnd: shift = findPossiblePlacement(cornersMask, mask2x2, 2, 2, out c, out r);
  472:  set :findPossiblePlacement:placementMask :layoutThoriumDrill ...
  473:  set :findPossiblePlacement:width 2                           ...
  474:  set :findPossiblePlacement:height 2                          ...
  475:  setaddr :findPossiblePlacement*retaddr *label174             ...
  476:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label174                                              ...
  477:  jump *label175 lessThan :findPossiblePlacement*retval 0      OreLocator.mnd: if shift >= 0 then
  478:  op add *tmp342 .drillX 0.5                                   OreLocator.mnd: containerX = drillX + 0.5 + c;
  479:  op add .containerX *tmp342 :findPossiblePlacement:x          ...
  480:  op add *tmp344 .drillY 0.5                                   OreLocator.mnd: containerY = drillY + 0.5 + r;
  481:  op add .containerY *tmp344 :findPossiblePlacement:y          ...
  482:  op shl *tmp346 :layoutThoriumDrillAtLocation:mask2x2 :findPo OreLocator.mnd: terrainMask |= (mask2x2 << shift);
  483:  op or :layoutThoriumDrillAtLocation:terrainMask :layoutThori ...
        label *label175                                              OreLocator.mnd: if shift >= 0 then
  484:  op or :layoutThoriumDrillAtLocation:nodeMask :layoutThoriumD OreLocator.mnd: var nodeMask = terrainMask | createFixedMatrix(
  485:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt OreLocator.mnd: shift = findPossiblePlacement(nodeMask, 1, 1, 1, out c, out r);
  486:  set :findPossiblePlacement:placementMask 1                   ...
  487:  set :findPossiblePlacement:width 1                           ...
  488:  set :findPossiblePlacement:height 1                          ...
  489:  setaddr :findPossiblePlacement*retaddr *label177             ...
  490:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label177                                              ...
  491:  jump *label178 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  492:  set :layoutThoriumDrillAtLocation*retval false               ...
  493:  return :layoutThoriumDrillAtLocation*retaddr                 ...
        label *label178                                              ...
  494:  op add .node1X .drillX :findPossiblePlacement:x              OreLocator.mnd: node1X = drillX + c;
  495:  op add .node1Y .drillY :findPossiblePlacement:y              OreLocator.mnd: node1Y = drillY + r;
  496:  op shl *tmp353 1 :findPossiblePlacement*retval               OreLocator.mnd: terrainMask |= (1 << shift);
  497:  op or :layoutThoriumDrillAtLocation:terrainMask :layoutThori ...
  498:  set :layoutThoriumDrillAtLocation:generatorHorizontal 1935   OreLocator.mnd: var generatorHorizontal = createFixedMatrix(0b1111, 0b1111);
  499:  set :layoutThoriumDrillAtLocation:generatorVertical 6340995  OreLocator.mnd: var generatorVertical = createFixedMatrix(0b11, 0b11, 0b11, 0b11);
  500:  set :tryPlaceGenerator:centerX .drillX                       OreLocator.mnd: if tryPlaceGenerator(drillX, drillY, terrainMask, generatorHorizontal, generatorVertical) then
  501:  set :tryPlaceGenerator:centerY .drillY                       ...
  502:  set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLoca ...
  503:  set :tryPlaceGenerator:generatorHorizontal 1935              ...
  504:  set :tryPlaceGenerator:generatorVertical 6340995             ...
  505:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt OreLocator.mnd: var shift = findPossiblePlacement(terrainMask, generatorVertical, 2, 4, out c, out r);
  506:  set :findPossiblePlacement:placementMask 6340995             ...
  507:  set :findPossiblePlacement:width 2                           ...
  508:  set :findPossiblePlacement:height 4                          ...
  509:  setaddr :findPossiblePlacement*retaddr *label257             ...
  510:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label257                                              ...
  511:  jump *label260 lessThan :findPossiblePlacement*retval 0      OreLocator.mnd: if shift >= 0 then
  512:  jump *label258 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  513:  set :tryPlaceGenerator*retval false                          ...
  514:  jump *label277 always 0 0                                    ...
        label *label258                                              ...
  515:  op add *tmp239 :tryPlaceGenerator:centerX 0.5                OreLocator.mnd: water2X = centerX + 0.5 + c;
  516:  op add .water2X *tmp239 :findPossiblePlacement:x             ...
  517:  op add *tmp241 :tryPlaceGenerator:centerY 0.5                OreLocator.mnd: water2Y = centerY + 0.5 + r;
  518:  op add .water2Y *tmp241 :findPossiblePlacement:y             ...
  519:  op add .generatorX *tmp239 :findPossiblePlacement:x          OreLocator.mnd: generatorX = centerX + 0.5 + c;
  520:  op add *tmp245 :tryPlaceGenerator:centerY 2.5                OreLocator.mnd: generatorY = centerY + 2.5 + r;
  521:  op add .generatorY *tmp245 :findPossiblePlacement:y          ...
  522:  op shl *tmp247 :tryPlaceGenerator:generatorVertical :findPos OreLocator.mnd: terrainMask |= (generatorVertical << shift);
  523:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  524:  jump *label264 always 0 0                                    OreLocator.mnd: if shift >= 0 then
        label *label260                                              ...
  525:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, generatorHorizontal, 4, 2, out c, out r);
  526:  set :findPossiblePlacement:placementMask :tryPlaceGenerator: ...
  527:  set :findPossiblePlacement:width 4                           ...
  528:  set :findPossiblePlacement:height 2                          ...
  529:  setaddr :findPossiblePlacement*retaddr *label261             ...
  530:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label261                                              ...
  531:  jump *label262 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  532:  set :tryPlaceGenerator*retval false                          ...
  533:  jump *label277 always 0 0                                    ...
        label *label262                                              ...
  534:  op add *tmp251 :tryPlaceGenerator:centerX 0.5                OreLocator.mnd: water2X = centerX + 0.5 + c;
  535:  op add .water2X *tmp251 :findPossiblePlacement:x             ...
  536:  op add *tmp253 :tryPlaceGenerator:centerY 0.5                OreLocator.mnd: water2Y = centerY + 0.5 + r;
  537:  op add .water2Y *tmp253 :findPossiblePlacement:y             ...
  538:  op add *tmp255 :tryPlaceGenerator:centerX 2.5                OreLocator.mnd: generatorX = centerX + 2.5 + c;
  539:  op add .generatorX *tmp255 :findPossiblePlacement:x          ...
  540:  op add .generatorY *tmp253 :findPossiblePlacement:y          OreLocator.mnd: generatorY = centerY + 0.5 + r;
  541:  op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findP OreLocator.mnd: terrainMask |= (generatorHorizontal << shift);
  542:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
        label *label264                                              OreLocator.mnd: if shift >= 0 then
  543:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr OreLocator.mnd: terrainMask |= createFixedMatrix(
  544:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  545:  set :findPossiblePlacement:placementMask 1                   ...
  546:  set :findPossiblePlacement:width 1                           ...
  547:  set :findPossiblePlacement:height 1                          ...
  548:  setaddr :findPossiblePlacement*retaddr *label265             ...
  549:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label265                                              ...
  550:  jump *label266 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  551:  set :tryPlaceGenerator*retval false                          ...
  552:  jump *label277 always 0 0                                    ...
        label *label266                                              ...
  553:  op add .panelX :tryPlaceGenerator:centerX :findPossiblePlace OreLocator.mnd: panelX = centerX + c;
  554:  op add .panelY :tryPlaceGenerator:centerY :findPossiblePlace OreLocator.mnd: panelY = centerY + r;
  555:  op shl *tmp265 1 :findPossiblePlacement*retval               OreLocator.mnd: terrainMask |= (1 << shift);
  556:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  557:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  558:  set :findPossiblePlacement:placementMask 1                   ...
  559:  set :findPossiblePlacement:width 1                           ...
  560:  set :findPossiblePlacement:height 1                          ...
  561:  setaddr :findPossiblePlacement*retaddr *label268             ...
  562:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label268                                              ...
  563:  jump *label269 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  564:  set :tryPlaceGenerator*retval false                          ...
  565:  jump *label277 always 0 0                                    ...
        label *label269                                              ...
  566:  op add .batteryX :tryPlaceGenerator:centerX :findPossiblePla OreLocator.mnd: batteryX = centerX + c;
  567:  op add .batteryY :tryPlaceGenerator:centerY :findPossiblePla OreLocator.mnd: batteryY = centerY + r;
  568:  op shl *tmp271 1 :findPossiblePlacement*retval               OreLocator.mnd: terrainMask |= (1 << shift);
  569:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  570:  op sub *tmp272 .water2X .node1X                              OreLocator.mnd: if len(water2X - node1X, water2Y - node1Y) > 7              // 2x2 block
  571:  op sub *tmp273 .water2Y .node1Y                              ...
  572:  op len *tmp274 *tmp272 *tmp273                               ...
  573:  jump *label271 greaterThan *tmp274 7                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  574:  op sub *tmp276 .generatorX .node1X                           OreLocator.mnd: or len(generatorX - node1X, generatorY - node1Y) > 7    // 2x2 block
  575:  op sub *tmp277 .generatorY .node1Y                           ...
  576:  op len *tmp278 *tmp276 *tmp277                               ...
  577:  jump *label271 greaterThan *tmp278 7                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  578:  op sub *tmp280 .panelX .node1X                               OreLocator.mnd: or len(panelX - node1X, panelY - node1Y) > 6
  579:  op sub *tmp281 .panelY .node1Y                               ...
  580:  op len *tmp282 *tmp280 *tmp281                               ...
  581:  jump *label271 greaterThan *tmp282 6                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  582:  op sub *tmp284 .batteryX .node1X                             ...
  583:  op sub *tmp285 .batteryY .node1Y                             ...
  584:  op len *tmp286 *tmp284 *tmp285                               ...
  585:  jump *label275 lessThanEq *tmp286 6                          ...
        label *label271                                              ...
  586:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  587:  set :findPossiblePlacement:placementMask 1                   ...
  588:  set :findPossiblePlacement:width 1                           ...
  589:  set :findPossiblePlacement:height 1                          ...
  590:  setaddr :findPossiblePlacement*retaddr *label272             ...
  591:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label272                                              ...
  592:  jump *label273 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  593:  set :tryPlaceGenerator*retval false                          ...
  594:  jump *label277 always 0 0                                    ...
        label *label273                                              ...
  595:  op add .node2X :tryPlaceGenerator:centerX :findPossiblePlace OreLocator.mnd: node2X = centerX + c;
  596:  op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlace OreLocator.mnd: node2Y = centerY + r;
        label *label275                                              OreLocator.mnd: if len(water2X - node1X, water2Y - node1Y) > 7              // 2x2 block
  597:  set :tryPlaceGenerator*retval true                           OreLocator.mnd: return true;
        label *label277                                              OreLocator.mnd: def tryPlaceGenerator(centerX, centerY, terrainMask, generatorHorizontal, generatorVertical)
  598:  jump *label180 equal :tryPlaceGenerator*retval false         OreLocator.mnd: if tryPlaceGenerator(drillX, drillY, terrainMask, generatorHorizontal, generatorVertical) then
  599:  set :layoutThoriumDrillAtLocation*retval true                OreLocator.mnd: return true;
  600:  return :layoutThoriumDrillAtLocation*retaddr                 ...
        label *label180                                              OreLocator.mnd: if tryPlaceGenerator(drillX, drillY, terrainMask, generatorHorizontal, generatorVertical) then
  601:  set :layoutThoriumDrillAtLocation:sx 3                       OreLocator.mnd: for var sx in 3, 3, -3, -3; var sy in 3, -3, 3, -3 do
  602:  set :layoutThoriumDrillAtLocation:sy 3                       ...
  603:  setaddr *tmp356 *label186                                    ...
  604:  jump *label183 always 0 0                                    ...
        multilabel *label186                                         ...
  605:  set :layoutThoriumDrillAtLocation:sx 3                       ...
  606:  set :layoutThoriumDrillAtLocation:sy -3                      ...
  607:  setaddr *tmp356 *label187                                    ...
  608:  jump *label183 always 0 0                                    ...
        multilabel *label187                                         ...
  609:  set :layoutThoriumDrillAtLocation:sx -3                      ...
  610:  set :layoutThoriumDrillAtLocation:sy 3                       ...
  611:  setaddr *tmp356 *label188                                    ...
  612:  jump *label183 always 0 0                                    ...
        multilabel *label188                                         ...
  613:  set :layoutThoriumDrillAtLocation:sx -3                      ...
  614:  set :layoutThoriumDrillAtLocation:sy -3                      ...
  615:  setaddr *tmp356 *label189                                    ...
        label *label183                                              ...
  616:  op sub :layoutThoriumDrillAtLocation:newX .drillX :layoutTho OreLocator.mnd: var newX = drillX - sx;
  617:  op sub :layoutThoriumDrillAtLocation:newY .drillY :layoutTho OreLocator.mnd: var newY = drillY - sy;
  618:  set :createCombinedMask:x :layoutThoriumDrillAtLocation:newX OreLocator.mnd: var newTerrainMask = createCombinedMask(newX, newY);
  619:  set :createCombinedMask:y :layoutThoriumDrillAtLocation:newY ...
  620:  write @unit processor4 ":createTerrainMask:unit"             OreLocator.mnd: async(matrices.createTerrainMask(@unit, x, y));
  621:  write :layoutThoriumDrillAtLocation:newX processor4 ":create ...
  622:  write :layoutThoriumDrillAtLocation:newY processor4 ":create ...
  623:  write false processor4 ":createTerrainMask*finished"         ...
  624:  write 1 processor4 "@counter"                                ...
  625:  set :createAdjacentMask:result 0                             OreLocator.mnd: var result = 0;
  626:  op add *tmp305 :layoutThoriumDrillAtLocation:newY 4          OreLocator.mnd: var row2 = createBlockMaskRow(x, y + 4);
  627:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 4          OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  628:  ucontrol getBlock *tmp296 *tmp305 0 :createBlockMaskRow:resu ...
  629:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  630:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 3          ...
  631:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  632:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  633:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  634:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 2          ...
  635:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  636:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  637:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  638:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 1          ...
  639:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  640:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  641:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  642:  ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp305 ...
  643:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  644:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  645:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -1         ...
  646:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  647:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  648:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  649:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -2         ...
  650:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  651:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  652:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  653:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -3         ...
  654:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  655:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  656:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  657:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -4         ...
  658:  ucontrol getBlock *tmp296 *tmp305 0 *tmp297 0                ...
  659:  op or :createAdjacentMask:row2 *tmp295 *tmp297               ...
  660:  op add *tmp307 :layoutThoriumDrillAtLocation:newY 3          OreLocator.mnd: var row1 = createBlockMaskRow(x, y + 3);
  661:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 4          OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  662:  ucontrol getBlock *tmp296 *tmp307 0 :createBlockMaskRow:resu ...
  663:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  664:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 3          ...
  665:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  666:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  667:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  668:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 2          ...
  669:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  670:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  671:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  672:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 1          ...
  673:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  674:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  675:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  676:  ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp307 ...
  677:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  678:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  679:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -1         ...
  680:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  681:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  682:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  683:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -2         ...
  684:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  685:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  686:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  687:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -3         ...
  688:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  689:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  690:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  691:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -4         ...
  692:  ucontrol getBlock *tmp296 *tmp307 0 *tmp297 0                ...
  693:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  694:  set :createAdjacentMask:row1 :createBlockMaskRow:result      OreLocator.mnd: var row1 = createBlockMaskRow(x, y + 3);
  695:  set :createAdjacentMask:r 2                                  OreLocator.mnd: for var r in -4 .. 2 descending do
        label *label341                                              ...
  696:  op add *tmp309 :layoutThoriumDrillAtLocation:newY :createAdj OreLocator.mnd: var row0 = createBlockMaskRow(x, y + r);
  697:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 4          OreLocator.mnd: result = (result << 1) | getBlock(x + c, y);
  698:  ucontrol getBlock *tmp296 *tmp309 0 :createBlockMaskRow:resu ...
  699:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  700:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 3          ...
  701:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  702:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  703:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  704:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 2          ...
  705:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  706:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  707:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  708:  op add *tmp296 :layoutThoriumDrillAtLocation:newX 1          ...
  709:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  710:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  711:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  712:  ucontrol getBlock :layoutThoriumDrillAtLocation:newX *tmp309 ...
  713:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  714:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  715:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -1         ...
  716:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  717:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  718:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  719:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -2         ...
  720:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  721:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  722:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  723:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -3         ...
  724:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  725:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  726:  op shl *tmp295 :createBlockMaskRow:result 1                  ...
  727:  op add *tmp296 :layoutThoriumDrillAtLocation:newX -4         ...
  728:  ucontrol getBlock *tmp296 *tmp309 0 *tmp297 0                ...
  729:  op or :createBlockMaskRow:result *tmp295 *tmp297             ...
  730:  op shl *tmp311 :createAdjacentMask:row1 1                    OreLocator.mnd: var mask = row2 | (row1 << 1) | (row1 >> 1) | row0;
  731:  op or *tmp312 :createAdjacentMask:row2 *tmp311               ...
  732:  op shr *tmp313 :createAdjacentMask:row1 1                    ...
  733:  op or *tmp314 *tmp312 *tmp313                                ...
  734:  op or :createAdjacentMask:mask *tmp314 :createBlockMaskRow:r ...
  735:  op shl *tmp316 :createAdjacentMask:result 7                  OreLocator.mnd: result = (result << 7) | (mask & 0xFE);       // We're keeping one additional bit on the right
  736:  op and *tmp317 :createAdjacentMask:mask 0xFE                 ...
  737:  op or :createAdjacentMask:result *tmp316 *tmp317             ...
  738:  set :createAdjacentMask:row2 :createAdjacentMask:row1        OreLocator.mnd: row2 = row1;
  739:  set :createAdjacentMask:row1 :createBlockMaskRow:result      OreLocator.mnd: row1 = row0;
  740:  op sub :createAdjacentMask:r :createAdjacentMask:r 1         OreLocator.mnd: for var r in -4 .. 2 descending do
  741:  jump *label341 greaterThanEq :createAdjacentMask:r -4        ...
  742:  op shr *tmp304 :createAdjacentMask:result 1                  OreLocator.mnd: result >> 1;
        label *label351                                              OreLocator.mnd: var terrainMask = await(matrices.createTerrainMask);
  743:  wait 1e-15                                                   ...
  744:  read *tmp320 processor4 ":createTerrainMask*finished"        ...
  745:  jump *label351 equal *tmp320 false                           ...
  746:  read :createCombinedMask:terrainMask processor4 ":createTerr ...
  747:  op or :excludeArea:mask *tmp304 :createCombinedMask:terrainM OreLocator.mnd: return excludeArea(adjacentMask | terrainMask, x, y, coreX, coreY, BASE_SIZE, BASE_SIZE);
  748:  set :excludeArea:maskX :layoutThoriumDrillAtLocation:newX    ...
  749:  set :excludeArea:maskY :layoutThoriumDrillAtLocation:newY    ...
  750:  set :excludeArea:areaX .coreX                                ...
  751:  set :excludeArea:areaY .coreY                                ...
  752:  set :excludeArea:areaWidth 15                                ...
  753:  set :excludeArea:areaHeight 15                               ...
  754:  setaddr :excludeArea*retaddr *label352                       ...
  755:  call *label14 *invalid :excludeArea*retval                   ...
        label *label352                                              ...
  756:  set :shiftMask:mask :layoutThoriumDrillAtLocation:terrainMas OreLocator.mnd: var shiftedMask = shiftMask(terrainMask, sx, sy);
  757:  op abs *tmp166 :layoutThoriumDrillAtLocation:sx 0            OreLocator.mnd: if abs(shiftX) > 6 or abs(shiftY) > 6 then return 0; end;
  758:  jump *label246 greaterThan *tmp166 6                         ...
  759:  op abs *tmp168 :layoutThoriumDrillAtLocation:sy 0            ...
  760:  jump *label247 lessThanEq *tmp168 6                          ...
        label *label246                                              ...
  761:  set :shiftMask*retval 0                                      ...
  762:  jump *label255 always 0 0                                    ...
        label *label247                                              ...
  763:  op mul *tmp171 7 :layoutThoriumDrillAtLocation:sy            OreLocator.mnd: var shift = shiftX + 7 * shiftY;
  764:  op add :shiftMask:shift :layoutThoriumDrillAtLocation:sx *tm ...
  765:  jump *label249 lessThanEq :shiftMask:shift 0                 OreLocator.mnd: if shift > 0 then
  766:  op shr :shiftMask:clearMask 562949953421311 :shiftMask:shift OreLocator.mnd: var clearMask = FULL_MASK >> shift;
  767:  op and *tmp176 :layoutThoriumDrillAtLocation:terrainMask :sh OreLocator.mnd: mask = (mask & clearMask) << shift;
  768:  op shl :shiftMask:mask *tmp176 :shiftMask:shift              ...
  769:  jump *label250 always 0 0                                    OreLocator.mnd: if shift > 0 then
        label *label249                                              ...
  770:  op sub *tmp178 0 :shiftMask:shift                            OreLocator.mnd: mask >>= -shift;
  771:  op shr :shiftMask:mask :layoutThoriumDrillAtLocation:terrain ...
        label *label250                                              OreLocator.mnd: if shift > 0 then
  772:  jump *label253 equal :layoutThoriumDrillAtLocation:sx 0      OreLocator.mnd: if shiftX != 0 then
  773:  op shr :shiftMask:keep 0b1111111 *tmp166                     OreLocator.mnd: var keep = 0b1111111 >> abs(shiftX);        // The bits we need to keep
  774:  jump *label251 lessThanEq :layoutThoriumDrillAtLocation:sx 0 OreLocator.mnd: if shiftX > 0 then keep <<= shiftX; end;    // Shift to the proper side
  775:  op shl :shiftMask:keep :shiftMask:keep :layoutThoriumDrillAt ...
        label *label251                                              ...
  776:  op shl *tmp185 :shiftMask:keep 7                             OreLocator.mnd: keep |= keep << 7;
  777:  op or :shiftMask:keep :shiftMask:keep *tmp185                ...
  778:  op shl *tmp186 :shiftMask:keep 14                            OreLocator.mnd: keep |= keep << 14;
  779:  op or :shiftMask:keep :shiftMask:keep *tmp186                ...
  780:  op shl *tmp187 :shiftMask:keep 21                            OreLocator.mnd: keep |= keep << 21;
  781:  op or :shiftMask:keep :shiftMask:keep *tmp187                ...
  782:  op and :shiftMask:mask :shiftMask:mask :shiftMask:keep       OreLocator.mnd: mask &= keep;
        label *label253                                              OreLocator.mnd: if shiftX != 0 then
  783:  set :shiftMask*retval :shiftMask:mask                        OreLocator.mnd: return mask;
        label *label255                                              OreLocator.mnd: def shiftMask(mask, shiftX, shiftY)
  784:  op or :layoutThoriumDrillAtLocation:combinedMask :excludeAre OreLocator.mnd: var combinedMask = newTerrainMask | shiftedMask;
  785:  op sub *tmp362 .drillX :layoutThoriumDrillAtLocation:sx      OreLocator.mnd: if tryPlaceGenerator(drillX - sx, drillY - sy, combinedMask, generatorHorizontal, generatorVertical) then return true; end;
  786:  op sub *tmp363 .drillY :layoutThoriumDrillAtLocation:sy      ...
  787:  set :tryPlaceGenerator:centerX *tmp362                       ...
  788:  set :tryPlaceGenerator:centerY *tmp363                       ...
  789:  set :tryPlaceGenerator:terrainMask :layoutThoriumDrillAtLoca ...
  790:  set :tryPlaceGenerator:generatorHorizontal :layoutThoriumDri ...
  791:  set :tryPlaceGenerator:generatorVertical :layoutThoriumDrill ...
  792:  set :findPossiblePlacement:terrainMask :layoutThoriumDrillAt OreLocator.mnd: var shift = findPossiblePlacement(terrainMask, generatorVertical, 2, 4, out c, out r);
  793:  set :findPossiblePlacement:placementMask :layoutThoriumDrill ...
  794:  set :findPossiblePlacement:width 2                           ...
  795:  set :findPossiblePlacement:height 4                          ...
  796:  setaddr :findPossiblePlacement*retaddr *label279             ...
  797:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label279                                              ...
  798:  jump *label282 lessThan :findPossiblePlacement*retval 0      OreLocator.mnd: if shift >= 0 then
  799:  jump *label280 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  800:  set :tryPlaceGenerator*retval false                          ...
  801:  jump *label299 always 0 0                                    ...
        label *label280                                              ...
  802:  op add *tmp239 :tryPlaceGenerator:centerX 0.5                OreLocator.mnd: water2X = centerX + 0.5 + c;
  803:  op add .water2X *tmp239 :findPossiblePlacement:x             ...
  804:  op add *tmp241 :tryPlaceGenerator:centerY 0.5                OreLocator.mnd: water2Y = centerY + 0.5 + r;
  805:  op add .water2Y *tmp241 :findPossiblePlacement:y             ...
  806:  op add .generatorX *tmp239 :findPossiblePlacement:x          OreLocator.mnd: generatorX = centerX + 0.5 + c;
  807:  op add *tmp245 :tryPlaceGenerator:centerY 2.5                OreLocator.mnd: generatorY = centerY + 2.5 + r;
  808:  op add .generatorY *tmp245 :findPossiblePlacement:y          ...
  809:  op shl *tmp247 :tryPlaceGenerator:generatorVertical :findPos OreLocator.mnd: terrainMask |= (generatorVertical << shift);
  810:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  811:  jump *label286 always 0 0                                    OreLocator.mnd: if shift >= 0 then
        label *label282                                              ...
  812:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, generatorHorizontal, 4, 2, out c, out r);
  813:  set :findPossiblePlacement:placementMask :tryPlaceGenerator: ...
  814:  set :findPossiblePlacement:width 4                           ...
  815:  set :findPossiblePlacement:height 2                          ...
  816:  setaddr :findPossiblePlacement*retaddr *label283             ...
  817:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label283                                              ...
  818:  jump *label284 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  819:  set :tryPlaceGenerator*retval false                          ...
  820:  jump *label299 always 0 0                                    ...
        label *label284                                              ...
  821:  op add *tmp251 :tryPlaceGenerator:centerX 0.5                OreLocator.mnd: water2X = centerX + 0.5 + c;
  822:  op add .water2X *tmp251 :findPossiblePlacement:x             ...
  823:  op add *tmp253 :tryPlaceGenerator:centerY 0.5                OreLocator.mnd: water2Y = centerY + 0.5 + r;
  824:  op add .water2Y *tmp253 :findPossiblePlacement:y             ...
  825:  op add *tmp255 :tryPlaceGenerator:centerX 2.5                OreLocator.mnd: generatorX = centerX + 2.5 + c;
  826:  op add .generatorX *tmp255 :findPossiblePlacement:x          ...
  827:  op add .generatorY *tmp253 :findPossiblePlacement:y          OreLocator.mnd: generatorY = centerY + 0.5 + r;
  828:  op shl *tmp259 :tryPlaceGenerator:generatorHorizontal :findP OreLocator.mnd: terrainMask |= (generatorHorizontal << shift);
  829:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
        label *label286                                              OreLocator.mnd: if shift >= 0 then
  830:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr OreLocator.mnd: terrainMask |= createFixedMatrix(
  831:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  832:  set :findPossiblePlacement:placementMask 1                   ...
  833:  set :findPossiblePlacement:width 1                           ...
  834:  set :findPossiblePlacement:height 1                          ...
  835:  setaddr :findPossiblePlacement*retaddr *label287             ...
  836:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label287                                              ...
  837:  jump *label288 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  838:  set :tryPlaceGenerator*retval false                          ...
  839:  jump *label299 always 0 0                                    ...
        label *label288                                              ...
  840:  op add .panelX :tryPlaceGenerator:centerX :findPossiblePlace OreLocator.mnd: panelX = centerX + c;
  841:  op add .panelY :tryPlaceGenerator:centerY :findPossiblePlace OreLocator.mnd: panelY = centerY + r;
  842:  op shl *tmp265 1 :findPossiblePlacement*retval               OreLocator.mnd: terrainMask |= (1 << shift);
  843:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  844:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  845:  set :findPossiblePlacement:placementMask 1                   ...
  846:  set :findPossiblePlacement:width 1                           ...
  847:  set :findPossiblePlacement:height 1                          ...
  848:  setaddr :findPossiblePlacement*retaddr *label290             ...
  849:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label290                                              ...
  850:  jump *label291 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  851:  set :tryPlaceGenerator*retval false                          ...
  852:  jump *label299 always 0 0                                    ...
        label *label291                                              ...
  853:  op add .batteryX :tryPlaceGenerator:centerX :findPossiblePla OreLocator.mnd: batteryX = centerX + c;
  854:  op add .batteryY :tryPlaceGenerator:centerY :findPossiblePla OreLocator.mnd: batteryY = centerY + r;
  855:  op shl *tmp271 1 :findPossiblePlacement*retval               OreLocator.mnd: terrainMask |= (1 << shift);
  856:  op or :tryPlaceGenerator:terrainMask :tryPlaceGenerator:terr ...
  857:  op sub *tmp272 .water2X .node1X                              OreLocator.mnd: if len(water2X - node1X, water2Y - node1Y) > 7              // 2x2 block
  858:  op sub *tmp273 .water2Y .node1Y                              ...
  859:  op len *tmp274 *tmp272 *tmp273                               ...
  860:  jump *label293 greaterThan *tmp274 7                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  861:  op sub *tmp276 .generatorX .node1X                           OreLocator.mnd: or len(generatorX - node1X, generatorY - node1Y) > 7    // 2x2 block
  862:  op sub *tmp277 .generatorY .node1Y                           ...
  863:  op len *tmp278 *tmp276 *tmp277                               ...
  864:  jump *label293 greaterThan *tmp278 7                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  865:  op sub *tmp280 .panelX .node1X                               OreLocator.mnd: or len(panelX - node1X, panelY - node1Y) > 6
  866:  op sub *tmp281 .panelY .node1Y                               ...
  867:  op len *tmp282 *tmp280 *tmp281                               ...
  868:  jump *label293 greaterThan *tmp282 6                         OreLocator.mnd: or len(batteryX - node1X, batteryY - node1Y) > 6
  869:  op sub *tmp284 .batteryX .node1X                             ...
  870:  op sub *tmp285 .batteryY .node1Y                             ...
  871:  op len *tmp286 *tmp284 *tmp285                               ...
  872:  jump *label297 lessThanEq *tmp286 6                          ...
        label *label293                                              ...
  873:  set :findPossiblePlacement:terrainMask :tryPlaceGenerator:te OreLocator.mnd: shift = findPossiblePlacement(terrainMask, 1, 1, 1, out c, out r);
  874:  set :findPossiblePlacement:placementMask 1                   ...
  875:  set :findPossiblePlacement:width 1                           ...
  876:  set :findPossiblePlacement:height 1                          ...
  877:  setaddr :findPossiblePlacement*retaddr *label294             ...
  878:  call *label15 *invalid :findPossiblePlacement*retval         ...
        label *label294                                              ...
  879:  jump *label295 greaterThanEq :findPossiblePlacement*retval 0 OreLocator.mnd: if shift < 0 then return false; end;
  880:  set :tryPlaceGenerator*retval false                          ...
  881:  jump *label299 always 0 0                                    ...
        label *label295                                              ...
  882:  op add .node2X :tryPlaceGenerator:centerX :findPossiblePlace OreLocator.mnd: node2X = centerX + c;
  883:  op add .node2Y :tryPlaceGenerator:centerY :findPossiblePlace OreLocator.mnd: node2Y = centerY + r;
        label *label297                                              OreLocator.mnd: if len(water2X - node1X, water2Y - node1Y) > 7              // 2x2 block
  884:  set :tryPlaceGenerator*retval true                           OreLocator.mnd: return true;
        label *label299                                              OreLocator.mnd: def tryPlaceGenerator(centerX, centerY, terrainMask, generatorHorizontal, generatorVertical)
  885:  jump *label192 equal :tryPlaceGenerator*retval false         OreLocator.mnd: if tryPlaceGenerator(drillX - sx, drillY - sy, combinedMask, generatorHorizontal, generatorVertical) then return true; end;
  886:  set :layoutThoriumDrillAtLocation*retval true                ...
  887:  return :layoutThoriumDrillAtLocation*retaddr                 ...
        label *label192                                              ...
  888:  multijump *tmp356 0 0                                        OreLocator.mnd: for var sx in 3, 3, -3, -3; var sy in 3, -3, 3, -3 do
        multilabel *label189                                         ...
  889:  set :layoutThoriumDrillAtLocation*retval true                OreLocator.mnd: return true;
  890:  return :layoutThoriumDrillAtLocation*retaddr                 OreLocator.mnd: noinline def layoutThoriumDrillAtLocation()
        label *label6                                                OreLocator.mnd: export def layoutThoriumDrill(x, y, unit, limit)
  891:  set :findDrillLocation:x :layoutThoriumDrill:x               OreLocator.mnd: if !findDrillLocation(x, y, unit, @thorium, @ore-thorium, 3, limit, out drillX, out drillY) then
  892:  set :findDrillLocation:y :layoutThoriumDrill:y               ...
  893:  set :findDrillLocation:unit :layoutThoriumDrill:unit         ...
  894:  set :findDrillLocation:item @thorium                         ...
  895:  set :findDrillLocation:ore @ore-thorium                      ...
  896:  set :findDrillLocation:size 3                                ...
  897:  set :findDrillLocation:limit :layoutThoriumDrill:limit       ...
  898:  setaddr :findDrillLocation*retaddr *label198                 ...
  899:  call *label5 *invalid :findDrillLocation*retval              ...
        label *label198                                              ...
  900:  set .drillX :findDrillLocation:dx                            ...
  901:  set .drillY :findDrillLocation:dy                            ...
  902:  jump *label196 notEqual :findDrillLocation*retval false      ...
  903:  set :layoutThoriumDrill*retval false                         OreLocator.mnd: return false;
  904:  jump *label195 always 0 0                                    ...
        label *label196                                              OreLocator.mnd: if !findDrillLocation(x, y, unit, @thorium, @ore-thorium, 3, limit, out drillX, out drillY) then
  905:  setaddr :layoutThoriumDrillAtLocation*retaddr *label199      OreLocator.mnd: layoutThoriumDrillAtLocation();
  906:  call *label19 *invalid :layoutThoriumDrillAtLocation*retval  ...
        label *label199                                              ...
  907:  set :layoutThoriumDrill*retval :layoutThoriumDrillAtLocation OreLocator.mnd: export def layoutThoriumDrill(x, y, unit, limit)
        label *label195                                              ...
  908:  set :layoutThoriumDrill*finished true                        ...
  909:  jump *label22 always 0 0                                     ...
        label *label8                                                OreLocator.mnd: export void stopLocation()
  910:  set .mapSpots 0                                              OreLocator.mnd: mapProgress = mapTotal = mapSpots = 0;
  911:  set .mapTotal 0                                              ...
  912:  set .mapProgress 0                                           ...
  913:  ucontrol unbind 0 0 0 0 0                                    OreLocator.mnd: unbind();
  914:  set :stopLocation*finished true                              OreLocator.mnd: export void stopLocation()
  915:  jump *label22 always 0 0                                     ...


Code size and number of instantiations by function:
  Size  Times  AvgSize  Function
   198     1x    198,0  def createBlockMaskRow(in x, in y)
   186     2x     93,0  def tryPlaceGenerator(in centerX, in centerY, in terrainMask, in generatorHorizontal, in generatorVertical)
   100     1x    100,0  noinline def layoutThoriumDrillAtLocation()
    87     1x     87,0  export def findDrillLocation(in x, in y, in unit, in item, in ore, in size, in limit, out dx, out dy, out capacity)
    54     2x     27,0  def shiftMask(in mask, in shiftX, in shiftY)
    46     1x     46,0  inline def locateOreAway(in ore, in out x, in out y, in distanceLimit)
    38     2x     19,0  def createAdjacentMask(in x, in y)
    36     2x     18,0  def createCombinedMask(in x, in y)
    24     1x     24,0  noinline def findPossiblePlacement(in terrainMask, in placementMask, in width, in height, out x, out y)
    23     1x     23,0  noinline def excludeArea(in mask, in maskX, in maskY, in areaX, in areaY, in areaWidth, in areaHeight)
    21     1x     21,0  def createMatrixOfSize(in width, in height)
    20     4x      5,0  inline void moveTo(in x, in y, in radius)
    20     2x     10,0  inline void saveLocation(in item, in value, in x, in y)
    19     1x     19,0  export def layoutThoriumDrill(in x, in y, in unit, in limit)
    17     1x     17,0  inline def visited(in x, in y)
    13     1x     13,0  <no function>
     7     1x      7,0  export void stopLocation()
     4     2x      2,0  inline def limit(in value, in low, in high)
     4     2x      2,0  inline def round(in x)
