  1364 instructions before optimizations.
    83 instructions eliminated by Temp Variables Elimination (2 passes, 8 iterations).
   104 instructions eliminated by Dead Code Elimination (5 iterations).
     2 instructions eliminated by Jump Normalization (7 iterations).
    66 instructions eliminated by Condition Optimization (8 iterations).
    73 instructions eliminated by Single Step Elimination (2 passes, 9 iterations).
    17 instructions modified by Expression Optimization (2 passes, 5 iterations).
   460 instructions eliminated by Data Flow Optimization (5 passes, 19 iterations).
     1 loops improved by Loop Hoisting.
       2 loop conditions were partially rotated.
   304 instructions added by Loop Unrolling (7 iterations).
     2 loops unrolled by Loop Unrolling.
     2 instructions updated by Jump Threading.
     3 instructions eliminated by Unreachable Code Elimination (2 iterations).
   877 instructions after optimizations.

Pass 3: speed optimization selection (cost limit 396):
    Unroll loop at line 30:5                                     size   +57, benefit      350.0, efficiency      6.140
  * Unroll loop at line 31:9                                     size   +32, benefit     8750.0, efficiency    273.438 (+33 instructions)

Pass 3: speed optimization selection (cost limit 363):
  * Unroll loop at line 30:5                                     size  +255, benefit      350.0, efficiency      1.373 (+252 instructions)

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-54 instructions):
 
   747 label *label81
   748 set *tmp262 null
   749 label *label82
-    * set *tmp260 *tmp262
   750 jump *label80 always
   751 label *label79
-    * set *tmp260 null
   752 label *label80
   753 label *label78
   754 set :updatePosition.1:dx 0
 
   766 label *label86
   767 set *tmp266 null
   768 label *label87
-    * set *tmp264 *tmp266
   769 jump *label85 always
   770 label *label84
-    * set *tmp264 null
   771 label *label85
   772 label *label83
   773 set :updatePosition.2:dx 1
 
   785 label *label91
   786 set *tmp270 null
   787 label *label92
-    * set *tmp268 *tmp270
   788 jump *label90 always
   789 label *label89
-    * set *tmp268 null
   790 label *label90
   791 label *label88
   792 label *label77
 
   808 label *label97
   809 set *tmp275 null
   810 label *label98
-    * set *tmp273 *tmp275
   811 jump *label96 always
   812 label *label95
-    * set *tmp273 null
   813 label *label96
   814 label *label94
   815 set :updatePosition.4:dx 0
 
   827 label *label102
   828 set *tmp279 null
   829 label *label103
-    * set *tmp277 *tmp279
   830 jump *label101 always
   831 label *label100
-    * set *tmp277 null
   832 label *label101
   833 label *label99
   834 set :updatePosition.5:dx 1
 
   846 label *label107
   847 set *tmp283 null
   848 label *label108
-    * set *tmp281 *tmp283
   849 jump *label106 always
   850 label *label105
-    * set *tmp281 null
   851 label *label106
   852 label *label104
   853 label *label93
 
   869 label *label113
   870 set *tmp288 null
   871 label *label114
-    * set *tmp286 *tmp288
   872 jump *label112 always
   873 label *label111
-    * set *tmp286 null
   874 label *label112
   875 label *label110
   876 set :updatePosition.7:dx 0
 
   888 label *label118
   889 set *tmp292 null
   890 label *label119
-    * set *tmp290 *tmp292
   891 jump *label117 always
   892 label *label116
-    * set *tmp290 null
   893 label *label117
   894 label *label115
   895 set :updatePosition.8:dx 1
 
   907 label *label123
   908 set *tmp296 null
   909 label *label124
-    * set *tmp294 *tmp296
   910 jump *label122 always
   911 label *label121
-    * set *tmp294 null
   912 label *label122
   913 label *label120
   914 label *label109
-    * set *tmp251 null
   915 jump *label76 always
   916 label *label75
   917 op equal *tmp297 :findBestPosition:size 2
 
   924 set :findBestPosition:row3 *tmp301
   925 op add *tmp302 :findBestPosition:y4 :findBestPosition:y5
   926 set :findBestPosition:row4 *tmp302
-    * set *tmp298 :findBestPosition:row4
   927 jump *label126 always
   928 label *label125
   929 op sub *tmp303 :findBestPosition:y 3
 
  1210 op add *tmp411 *tmp410 :findBestPosition:y5
  1211 op add *tmp412 *tmp411 :findBestPosition:y6
  1212 set :findBestPosition:row4 *tmp412
-    * set *tmp298 :findBestPosition:row4
  1213 label *label126
  1214 set :updateRowPositionsEven:dy -1.5
  1215 set :updateRowPositionsEven:rowSum :findBestPosition:row1
 
  1229 label *label155
  1230 set *tmp416 null
  1231 label *label156
-    * set *tmp414 *tmp416
  1232 jump *label154 always
  1233 label *label153
-    * set *tmp414 null
  1234 label *label154
  1235 label *label152
  1236 set :updatePosition.10:dx -0.5
 
  1248 label *label160
  1249 set *tmp420 null
  1250 label *label161
-    * set *tmp418 *tmp420
  1251 jump *label159 always
  1252 label *label158
-    * set *tmp418 null
  1253 label *label159
  1254 label *label157
  1255 set :updatePosition.11:dx 0.5
 
  1267 label *label165
  1268 set *tmp424 null
  1269 label *label166
-    * set *tmp422 *tmp424
  1270 jump *label164 always
  1271 label *label163
-    * set *tmp422 null
  1272 label *label164
  1273 label *label162
  1274 set :updatePosition.12:dx 1.5
 
  1286 label *label170
  1287 set *tmp428 null
  1288 label *label171
-    * set *tmp426 *tmp428
  1289 jump *label169 always
  1290 label *label168
-    * set *tmp426 null
  1291 label *label169
  1292 label *label167
  1293 label *label151
 
  1309 label *label176
  1310 set *tmp432 null
  1311 label *label177
-    * set *tmp430 *tmp432
  1312 jump *label175 always
  1313 label *label174
-    * set *tmp430 null
  1314 label *label175
  1315 label *label173
  1316 set :updatePosition.14:dx -0.5
 
  1328 label *label181
  1329 set *tmp436 null
  1330 label *label182
-    * set *tmp434 *tmp436
  1331 jump *label180 always
  1332 label *label179
-    * set *tmp434 null
  1333 label *label180
  1334 label *label178
  1335 set :updatePosition.15:dx 0.5
 
  1347 label *label186
  1348 set *tmp440 null
  1349 label *label187
-    * set *tmp438 *tmp440
  1350 jump *label185 always
  1351 label *label184
-    * set *tmp438 null
  1352 label *label185
  1353 label *label183
  1354 set :updatePosition.16:dx 1.5
 
  1366 label *label191
  1367 set *tmp444 null
  1368 label *label192
-    * set *tmp442 *tmp444
  1369 jump *label190 always
  1370 label *label189
-    * set *tmp442 null
  1371 label *label190
  1372 label *label188
  1373 label *label172
 
  1389 label *label197
  1390 set *tmp448 null
  1391 label *label198
-    * set *tmp446 *tmp448
  1392 jump *label196 always
  1393 label *label195
-    * set *tmp446 null
  1394 label *label196
  1395 label *label194
  1396 set :updatePosition.18:dx -0.5
 
  1408 label *label202
  1409 set *tmp452 null
  1410 label *label203
-    * set *tmp450 *tmp452
  1411 jump *label201 always
  1412 label *label200
-    * set *tmp450 null
  1413 label *label201
  1414 label *label199
  1415 set :updatePosition.19:dx 0.5
 
  1427 label *label207
  1428 set *tmp456 null
  1429 label *label208
-    * set *tmp454 *tmp456
  1430 jump *label206 always
  1431 label *label205
-    * set *tmp454 null
  1432 label *label206
  1433 label *label204
  1434 set :updatePosition.20:dx 1.5
 
  1446 label *label212
  1447 set *tmp460 null
  1448 label *label213
-    * set *tmp458 *tmp460
  1449 jump *label211 always
  1450 label *label210
-    * set *tmp458 null
  1451 label *label211
  1452 label *label209
  1453 label *label193
 
  1469 label *label218
  1470 set *tmp464 null
  1471 label *label219
-    * set *tmp462 *tmp464
  1472 jump *label217 always
  1473 label *label216
-    * set *tmp462 null
  1474 label *label217
  1475 label *label215
  1476 set :updatePosition.22:dx -0.5
 
  1488 label *label223
  1489 set *tmp468 null
  1490 label *label224
-    * set *tmp466 *tmp468
  1491 jump *label222 always
  1492 label *label221
-    * set *tmp466 null
  1493 label *label222
  1494 label *label220
  1495 set :updatePosition.23:dx 0.5
 
  1507 label *label228
  1508 set *tmp472 null
  1509 label *label229
-    * set *tmp470 *tmp472
  1510 jump *label227 always
  1511 label *label226
-    * set *tmp470 null
  1512 label *label227
  1513 label *label225
  1514 set :updatePosition.24:dx 1.5
 
  1526 label *label233
  1527 set *tmp476 null
  1528 label *label234
-    * set *tmp474 *tmp476
  1529 jump *label232 always
  1530 label *label231
-    * set *tmp474 null
  1531 label *label232
  1532 label *label230
  1533 label *label214
-    * set *tmp251 null
  1534 label *label76
  1535 op mul *tmp477 :findBestPosition:best 255
  1536 set :findBestPosition*retval *tmp477

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-50 instructions):
 
   742 set :findBestPosition:bestX :updatePosition:dx
   743 set :findBestPosition:bestY :updatePosition:dy
   744 set :findBestPosition:best :updatePosition:value
-    * set *tmp262 :findBestPosition:best
   745 jump *label82 always
   746 label *label81
-    * set *tmp262 null
   747 label *label82
   748 jump *label80 always
   749 label *label79
 
   759 set :findBestPosition:bestX :updatePosition.1:dx
   760 set :findBestPosition:bestY :updatePosition.1:dy
   761 set :findBestPosition:best :updatePosition.1:value
-    * set *tmp266 :findBestPosition:best
   762 jump *label87 always
   763 label *label86
-    * set *tmp266 null
   764 label *label87
   765 jump *label85 always
   766 label *label84
 
   776 set :findBestPosition:bestX :updatePosition.2:dx
   777 set :findBestPosition:bestY :updatePosition.2:dy
   778 set :findBestPosition:best :updatePosition.2:value
-    * set *tmp270 :findBestPosition:best
   779 jump *label92 always
   780 label *label91
-    * set *tmp270 null
   781 label *label92
   782 jump *label90 always
   783 label *label89
 
   797 set :findBestPosition:bestX :updatePosition.3:dx
   798 set :findBestPosition:bestY :updatePosition.3:dy
   799 set :findBestPosition:best :updatePosition.3:value
-    * set *tmp275 :findBestPosition:best
   800 jump *label98 always
   801 label *label97
-    * set *tmp275 null
   802 label *label98
   803 jump *label96 always
   804 label *label95
 
   814 set :findBestPosition:bestX :updatePosition.4:dx
   815 set :findBestPosition:bestY :updatePosition.4:dy
   816 set :findBestPosition:best :updatePosition.4:value
-    * set *tmp279 :findBestPosition:best
   817 jump *label103 always
   818 label *label102
-    * set *tmp279 null
   819 label *label103
   820 jump *label101 always
   821 label *label100
 
   831 set :findBestPosition:bestX :updatePosition.5:dx
   832 set :findBestPosition:bestY :updatePosition.5:dy
   833 set :findBestPosition:best :updatePosition.5:value
-    * set *tmp283 :findBestPosition:best
   834 jump *label108 always
   835 label *label107
-    * set *tmp283 null
   836 label *label108
   837 jump *label106 always
   838 label *label105
 
   852 set :findBestPosition:bestX :updatePosition.6:dx
   853 set :findBestPosition:bestY :updatePosition.6:dy
   854 set :findBestPosition:best :updatePosition.6:value
-    * set *tmp288 :findBestPosition:best
   855 jump *label114 always
   856 label *label113
-    * set *tmp288 null
   857 label *label114
   858 jump *label112 always
   859 label *label111
 
   869 set :findBestPosition:bestX :updatePosition.7:dx
   870 set :findBestPosition:bestY :updatePosition.7:dy
   871 set :findBestPosition:best :updatePosition.7:value
-    * set *tmp292 :findBestPosition:best
   872 jump *label119 always
   873 label *label118
-    * set *tmp292 null
   874 label *label119
   875 jump *label117 always
   876 label *label116
 
   886 set :findBestPosition:bestX :updatePosition.8:dx
   887 set :findBestPosition:bestY :updatePosition.8:dy
   888 set :findBestPosition:best :updatePosition.8:value
-    * set *tmp296 :findBestPosition:best
   889 jump *label124 always
   890 label *label123
-    * set *tmp296 null
   891 label *label124
   892 jump *label122 always
   893 label *label121
 
  1206 set :findBestPosition:bestX :updatePosition.9:dx
  1207 set :findBestPosition:bestY :updatePosition.9:dy
  1208 set :findBestPosition:best :updatePosition.9:value
-    * set *tmp416 :findBestPosition:best
  1209 jump *label156 always
  1210 label *label155
-    * set *tmp416 null
  1211 label *label156
  1212 jump *label154 always
  1213 label *label153
 
  1223 set :findBestPosition:bestX :updatePosition.10:dx
  1224 set :findBestPosition:bestY :updatePosition.10:dy
  1225 set :findBestPosition:best :updatePosition.10:value
-    * set *tmp420 :findBestPosition:best
  1226 jump *label161 always
  1227 label *label160
-    * set *tmp420 null
  1228 label *label161
  1229 jump *label159 always
  1230 label *label158
 
  1240 set :findBestPosition:bestX :updatePosition.11:dx
  1241 set :findBestPosition:bestY :updatePosition.11:dy
  1242 set :findBestPosition:best :updatePosition.11:value
-    * set *tmp424 :findBestPosition:best
  1243 jump *label166 always
  1244 label *label165
-    * set *tmp424 null
  1245 label *label166
  1246 jump *label164 always
  1247 label *label163
 
  1257 set :findBestPosition:bestX :updatePosition.12:dx
  1258 set :findBestPosition:bestY :updatePosition.12:dy
  1259 set :findBestPosition:best :updatePosition.12:value
-    * set *tmp428 :findBestPosition:best
  1260 jump *label171 always
  1261 label *label170
-    * set *tmp428 null
  1262 label *label171
  1263 jump *label169 always
  1264 label *label168
 
  1278 set :findBestPosition:bestX :updatePosition.13:dx
  1279 set :findBestPosition:bestY :updatePosition.13:dy
  1280 set :findBestPosition:best :updatePosition.13:value
-    * set *tmp432 :findBestPosition:best
  1281 jump *label177 always
  1282 label *label176
-    * set *tmp432 null
  1283 label *label177
  1284 jump *label175 always
  1285 label *label174
 
  1295 set :findBestPosition:bestX :updatePosition.14:dx
  1296 set :findBestPosition:bestY :updatePosition.14:dy
  1297 set :findBestPosition:best :updatePosition.14:value
-    * set *tmp436 :findBestPosition:best
  1298 jump *label182 always
  1299 label *label181
-    * set *tmp436 null
  1300 label *label182
  1301 jump *label180 always
  1302 label *label179
 
  1312 set :findBestPosition:bestX :updatePosition.15:dx
  1313 set :findBestPosition:bestY :updatePosition.15:dy
  1314 set :findBestPosition:best :updatePosition.15:value
-    * set *tmp440 :findBestPosition:best
  1315 jump *label187 always
  1316 label *label186
-    * set *tmp440 null
  1317 label *label187
  1318 jump *label185 always
  1319 label *label184
 
  1329 set :findBestPosition:bestX :updatePosition.16:dx
  1330 set :findBestPosition:bestY :updatePosition.16:dy
  1331 set :findBestPosition:best :updatePosition.16:value
-    * set *tmp444 :findBestPosition:best
  1332 jump *label192 always
  1333 label *label191
-    * set *tmp444 null
  1334 label *label192
  1335 jump *label190 always
  1336 label *label189
 
  1350 set :findBestPosition:bestX :updatePosition.17:dx
  1351 set :findBestPosition:bestY :updatePosition.17:dy
  1352 set :findBestPosition:best :updatePosition.17:value
-    * set *tmp448 :findBestPosition:best
  1353 jump *label198 always
  1354 label *label197
-    * set *tmp448 null
  1355 label *label198
  1356 jump *label196 always
  1357 label *label195
 
  1367 set :findBestPosition:bestX :updatePosition.18:dx
  1368 set :findBestPosition:bestY :updatePosition.18:dy
  1369 set :findBestPosition:best :updatePosition.18:value
-    * set *tmp452 :findBestPosition:best
  1370 jump *label203 always
  1371 label *label202
-    * set *tmp452 null
  1372 label *label203
  1373 jump *label201 always
  1374 label *label200
 
  1384 set :findBestPosition:bestX :updatePosition.19:dx
  1385 set :findBestPosition:bestY :updatePosition.19:dy
  1386 set :findBestPosition:best :updatePosition.19:value
-    * set *tmp456 :findBestPosition:best
  1387 jump *label208 always
  1388 label *label207
-    * set *tmp456 null
  1389 label *label208
  1390 jump *label206 always
  1391 label *label205
 
  1401 set :findBestPosition:bestX :updatePosition.20:dx
  1402 set :findBestPosition:bestY :updatePosition.20:dy
  1403 set :findBestPosition:best :updatePosition.20:value
-    * set *tmp460 :findBestPosition:best
  1404 jump *label213 always
  1405 label *label212
-    * set *tmp460 null
  1406 label *label213
  1407 jump *label211 always
  1408 label *label210
 
  1422 set :findBestPosition:bestX :updatePosition.21:dx
  1423 set :findBestPosition:bestY :updatePosition.21:dy
  1424 set :findBestPosition:best :updatePosition.21:value
-    * set *tmp464 :findBestPosition:best
  1425 jump *label219 always
  1426 label *label218
-    * set *tmp464 null
  1427 label *label219
  1428 jump *label217 always
  1429 label *label216
 
  1439 set :findBestPosition:bestX :updatePosition.22:dx
  1440 set :findBestPosition:bestY :updatePosition.22:dy
  1441 set :findBestPosition:best :updatePosition.22:value
-    * set *tmp468 :findBestPosition:best
  1442 jump *label224 always
  1443 label *label223
-    * set *tmp468 null
  1444 label *label224
  1445 jump *label222 always
  1446 label *label221
 
  1456 set :findBestPosition:bestX :updatePosition.23:dx
  1457 set :findBestPosition:bestY :updatePosition.23:dy
  1458 set :findBestPosition:best :updatePosition.23:value
-    * set *tmp472 :findBestPosition:best
  1459 jump *label229 always
  1460 label *label228
-    * set *tmp472 null
  1461 label *label229
  1462 jump *label227 always
  1463 label *label226
 
  1473 set :findBestPosition:bestX :updatePosition.24:dx
  1474 set :findBestPosition:bestY :updatePosition.24:dy
  1475 set :findBestPosition:best :updatePosition.24:value
-    * set *tmp476 :findBestPosition:best
  1476 jump *label234 always
  1477 label *label233
-    * set *tmp476 null
  1478 label *label234
  1479 jump *label232 always
  1480 label *label231

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-83 instructions):
 
    26 select :isSolid:result notEqual solid false 1 0
    27 set *tmp3 :isSolid:result
    28 label *label13
-    * op or *tmp4 *tmp0 *tmp3
-    * set :createTerrainMask:result *tmp4
+   29 op or :createTerrainMask:result *tmp0 *tmp3
    30 label *label11
    31 op sub :createTerrainMask:c :createTerrainMask:c 1
    32 jump *label10 always
 
    49 set :computeRowValues:y *tmp5
    50 set :computeRowValues:ore :findBestPosition:ore
    51 set :computeRowValues:size :findBestPosition:size
-    * op sub *tmp7 :computeRowValues:x 2
-    * set :tileValue:x *tmp7
+   52 op sub :tileValue:x :computeRowValues:x 2
    53 set :tileValue:y :computeRowValues:y
    54 set :tileValue:ore :computeRowValues:ore
    55 ucontrol getBlock :tileValue:x :tileValue:y type building floor
 
    59 set *tmp8 :tileValue:result
    60 label *label16
    61 set :computeRowValues:x1 *tmp8
-    * op sub *tmp9 :computeRowValues:x 1
-    * set :tileValue.1:x *tmp9
+   62 op sub :tileValue.1:x :computeRowValues:x 1
    63 set :tileValue.1:y :computeRowValues:y
    64 set :tileValue.1:ore :computeRowValues:ore
    65 ucontrol getBlock :tileValue.1:x :tileValue.1:y type building floor
 
    69 set *tmp10 :tileValue.1:result
    70 label *label17
    71 set :computeRowValues:x2 *tmp10
-    * op add *tmp11 :computeRowValues:x 0
-    * set :tileValue.2:x *tmp11
+   72 op add :tileValue.2:x :computeRowValues:x 0
    73 set :tileValue.2:y :computeRowValues:y
    74 set :tileValue.2:ore :computeRowValues:ore
    75 ucontrol getBlock :tileValue.2:x :tileValue.2:y type building floor
 
    79 set *tmp12 :tileValue.2:result
    80 label *label18
    81 set :computeRowValues:x3 *tmp12
-    * op add *tmp13 :computeRowValues:x 1
-    * set :tileValue.3:x *tmp13
+   82 op add :tileValue.3:x :computeRowValues:x 1
    83 set :tileValue.3:y :computeRowValues:y
    84 set :tileValue.3:ore :computeRowValues:ore
    85 ucontrol getBlock :tileValue.3:x :tileValue.3:y type building floor
 
    89 set *tmp14 :tileValue.3:result
    90 label *label19
    91 set :computeRowValues:x4 *tmp14
-    * op add *tmp15 :computeRowValues:x 2
-    * set :tileValue.4:x *tmp15
+   92 op add :tileValue.4:x :computeRowValues:x 2
    93 set :tileValue.4:y :computeRowValues:y
    94 set :tileValue.4:ore :computeRowValues:ore
    95 ucontrol getBlock :tileValue.4:x :tileValue.4:y type building floor
 
   105 op add *tmp20 :computeRowValues:x2 :computeRowValues:x3
   106 op add *tmp21 :computeRowValues:x3 :computeRowValues:x4
   107 op add *tmp22 :computeRowValues:x4 :computeRowValues:x5
-    * packcolor *tmp23 *tmp19 *tmp20 *tmp21 *tmp22
-    * set *tmp6 *tmp23
+  108 packcolor *tmp6 *tmp19 *tmp20 *tmp21 *tmp22
   109 jump *label15 always
   110 set *tmp18 null
   111 jump *label22 always
 
   118 op add *tmp29 *tmp28 :computeRowValues:x4
   119 op add *tmp30 :computeRowValues:x3 :computeRowValues:x4
   120 op add *tmp31 *tmp30 :computeRowValues:x5
-    * packcolor *tmp32 *tmp27 *tmp29 *tmp31 0
-    * set *tmp6 *tmp32
+  121 packcolor *tmp6 *tmp27 *tmp29 *tmp31 0
   122 jump *label15 always
   123 set *tmp25 null
   124 jump *label24 always
   125 label *label23
-    * op sub *tmp33 :computeRowValues:x 3
-    * set :tileValue.5:x *tmp33
+  126 op sub :tileValue.5:x :computeRowValues:x 3
   127 set :tileValue.5:y :computeRowValues:y
   128 set :tileValue.5:ore :computeRowValues:ore
   129 ucontrol getBlock :tileValue.5:x :tileValue.5:y type building floor
 
   133 set *tmp34 :tileValue.5:result
   134 label *label25
   135 set :computeRowValues:x0 *tmp34
-    * op add *tmp35 :computeRowValues:x 3
-    * set :tileValue.6:x *tmp35
+  136 op add :tileValue.6:x :computeRowValues:x 3
   137 set :tileValue.6:y :computeRowValues:y
   138 set :tileValue.6:ore :computeRowValues:ore
   139 ucontrol getBlock :tileValue.6:x :tileValue.6:y type building floor
 
   159 op add *tmp50 *tmp49 :computeRowValues:x5
   160 op add *tmp51 *tmp50 :computeRowValues:x6
   161 op min *tmp52 0.09803921568627451 *tmp51
-    * packcolor *tmp53 *tmp40 *tmp44 *tmp48 *tmp52
-    * set *tmp6 *tmp53
+  162 packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52
   163 jump *label15 always
   164 set *tmp25 null
   165 label *label24
 
   173 set :computeRowValues.1:y *tmp54
   174 set :computeRowValues.1:ore :findBestPosition:ore
   175 set :computeRowValues.1:size :findBestPosition:size
-    * op sub *tmp56 :computeRowValues.1:x 2
-    * set :tileValue.7:x *tmp56
+  176 op sub :tileValue.7:x :computeRowValues.1:x 2
   177 set :tileValue.7:y :computeRowValues.1:y
   178 set :tileValue.7:ore :computeRowValues.1:ore
   179 ucontrol getBlock :tileValue.7:x :tileValue.7:y type building floor
 
   183 set *tmp57 :tileValue.7:result
   184 label *label28
   185 set :computeRowValues.1:x1 *tmp57
-    * op sub *tmp58 :computeRowValues.1:x 1
-    * set :tileValue.8:x *tmp58
+  186 op sub :tileValue.8:x :computeRowValues.1:x 1
   187 set :tileValue.8:y :computeRowValues.1:y
   188 set :tileValue.8:ore :computeRowValues.1:ore
   189 ucontrol getBlock :tileValue.8:x :tileValue.8:y type building floor
 
   193 set *tmp59 :tileValue.8:result
   194 label *label29
   195 set :computeRowValues.1:x2 *tmp59
-    * op add *tmp60 :computeRowValues.1:x 0
-    * set :tileValue.9:x *tmp60
+  196 op add :tileValue.9:x :computeRowValues.1:x 0
   197 set :tileValue.9:y :computeRowValues.1:y
   198 set :tileValue.9:ore :computeRowValues.1:ore
   199 ucontrol getBlock :tileValue.9:x :tileValue.9:y type building floor
 
   203 set *tmp61 :tileValue.9:result
   204 label *label30
   205 set :computeRowValues.1:x3 *tmp61
-    * op add *tmp62 :computeRowValues.1:x 1
-    * set :tileValue.10:x *tmp62
+  206 op add :tileValue.10:x :computeRowValues.1:x 1
   207 set :tileValue.10:y :computeRowValues.1:y
   208 set :tileValue.10:ore :computeRowValues.1:ore
   209 ucontrol getBlock :tileValue.10:x :tileValue.10:y type building floor
 
   213 set *tmp63 :tileValue.10:result
   214 label *label31
   215 set :computeRowValues.1:x4 *tmp63
-    * op add *tmp64 :computeRowValues.1:x 2
-    * set :tileValue.11:x *tmp64
+  216 op add :tileValue.11:x :computeRowValues.1:x 2
   217 set :tileValue.11:y :computeRowValues.1:y
   218 set :tileValue.11:ore :computeRowValues.1:ore
   219 ucontrol getBlock :tileValue.11:x :tileValue.11:y type building floor
 
   229 op add *tmp69 :computeRowValues.1:x2 :computeRowValues.1:x3
   230 op add *tmp70 :computeRowValues.1:x3 :computeRowValues.1:x4
   231 op add *tmp71 :computeRowValues.1:x4 :computeRowValues.1:x5
-    * packcolor *tmp72 *tmp68 *tmp69 *tmp70 *tmp71
-    * set *tmp55 *tmp72
+  232 packcolor *tmp55 *tmp68 *tmp69 *tmp70 *tmp71
   233 jump *label27 always
   234 set *tmp67 null
   235 jump *label34 always
 
   242 op add *tmp78 *tmp77 :computeRowValues.1:x4
   243 op add *tmp79 :computeRowValues.1:x3 :computeRowValues.1:x4
   244 op add *tmp80 *tmp79 :computeRowValues.1:x5
-    * packcolor *tmp81 *tmp76 *tmp78 *tmp80 0
-    * set *tmp55 *tmp81
+  245 packcolor *tmp55 *tmp76 *tmp78 *tmp80 0
   246 jump *label27 always
   247 set *tmp74 null
   248 jump *label36 always
   249 label *label35
-    * op sub *tmp82 :computeRowValues.1:x 3
-    * set :tileValue.12:x *tmp82
+  250 op sub :tileValue.12:x :computeRowValues.1:x 3
   251 set :tileValue.12:y :computeRowValues.1:y
   252 set :tileValue.12:ore :computeRowValues.1:ore
   253 ucontrol getBlock :tileValue.12:x :tileValue.12:y type building floor
 
   257 set *tmp83 :tileValue.12:result
   258 label *label37
   259 set :computeRowValues.1:x0 *tmp83
-    * op add *tmp84 :computeRowValues.1:x 3
-    * set :tileValue.13:x *tmp84
+  260 op add :tileValue.13:x :computeRowValues.1:x 3
   261 set :tileValue.13:y :computeRowValues.1:y
   262 set :tileValue.13:ore :computeRowValues.1:ore
   263 ucontrol getBlock :tileValue.13:x :tileValue.13:y type building floor
 
   283 op add *tmp99 *tmp98 :computeRowValues.1:x5
   284 op add *tmp100 *tmp99 :computeRowValues.1:x6
   285 op min *tmp101 0.09803921568627451 *tmp100
-    * packcolor *tmp102 *tmp89 *tmp93 *tmp97 *tmp101
-    * set *tmp55 *tmp102
+  286 packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101
   287 jump *label27 always
   288 set *tmp74 null
   289 label *label36
 
   297 set :computeRowValues.2:y *tmp103
   298 set :computeRowValues.2:ore :findBestPosition:ore
   299 set :computeRowValues.2:size :findBestPosition:size
-    * op sub *tmp105 :computeRowValues.2:x 2
-    * set :tileValue.14:x *tmp105
+  300 op sub :tileValue.14:x :computeRowValues.2:x 2
   301 set :tileValue.14:y :computeRowValues.2:y
   302 set :tileValue.14:ore :computeRowValues.2:ore
   303 ucontrol getBlock :tileValue.14:x :tileValue.14:y type building floor
 
   307 set *tmp106 :tileValue.14:result
   308 label *label40
   309 set :computeRowValues.2:x1 *tmp106
-    * op sub *tmp107 :computeRowValues.2:x 1
-    * set :tileValue.15:x *tmp107
+  310 op sub :tileValue.15:x :computeRowValues.2:x 1
   311 set :tileValue.15:y :computeRowValues.2:y
   312 set :tileValue.15:ore :computeRowValues.2:ore
   313 ucontrol getBlock :tileValue.15:x :tileValue.15:y type building floor
 
   317 set *tmp108 :tileValue.15:result
   318 label *label41
   319 set :computeRowValues.2:x2 *tmp108
-    * op add *tmp109 :computeRowValues.2:x 0
-    * set :tileValue.16:x *tmp109
+  320 op add :tileValue.16:x :computeRowValues.2:x 0
   321 set :tileValue.16:y :computeRowValues.2:y
   322 set :tileValue.16:ore :computeRowValues.2:ore
   323 ucontrol getBlock :tileValue.16:x :tileValue.16:y type building floor
 
   327 set *tmp110 :tileValue.16:result
   328 label *label42
   329 set :computeRowValues.2:x3 *tmp110
-    * op add *tmp111 :computeRowValues.2:x 1
-    * set :tileValue.17:x *tmp111
+  330 op add :tileValue.17:x :computeRowValues.2:x 1
   331 set :tileValue.17:y :computeRowValues.2:y
   332 set :tileValue.17:ore :computeRowValues.2:ore
   333 ucontrol getBlock :tileValue.17:x :tileValue.17:y type building floor
 
   337 set *tmp112 :tileValue.17:result
   338 label *label43
   339 set :computeRowValues.2:x4 *tmp112
-    * op add *tmp113 :computeRowValues.2:x 2
-    * set :tileValue.18:x *tmp113
+  340 op add :tileValue.18:x :computeRowValues.2:x 2
   341 set :tileValue.18:y :computeRowValues.2:y
   342 set :tileValue.18:ore :computeRowValues.2:ore
   343 ucontrol getBlock :tileValue.18:x :tileValue.18:y type building floor
 
   353 op add *tmp118 :computeRowValues.2:x2 :computeRowValues.2:x3
   354 op add *tmp119 :computeRowValues.2:x3 :computeRowValues.2:x4
   355 op add *tmp120 :computeRowValues.2:x4 :computeRowValues.2:x5
-    * packcolor *tmp121 *tmp117 *tmp118 *tmp119 *tmp120
-    * set *tmp104 *tmp121
+  356 packcolor *tmp104 *tmp117 *tmp118 *tmp119 *tmp120
   357 jump *label39 always
   358 set *tmp116 null
   359 jump *label46 always
 
   366 op add *tmp127 *tmp126 :computeRowValues.2:x4
   367 op add *tmp128 :computeRowValues.2:x3 :computeRowValues.2:x4
   368 op add *tmp129 *tmp128 :computeRowValues.2:x5
-    * packcolor *tmp130 *tmp125 *tmp127 *tmp129 0
-    * set *tmp104 *tmp130
+  369 packcolor *tmp104 *tmp125 *tmp127 *tmp129 0
   370 jump *label39 always
   371 set *tmp123 null
   372 jump *label48 always
   373 label *label47
-    * op sub *tmp131 :computeRowValues.2:x 3
-    * set :tileValue.19:x *tmp131
+  374 op sub :tileValue.19:x :computeRowValues.2:x 3
   375 set :tileValue.19:y :computeRowValues.2:y
   376 set :tileValue.19:ore :computeRowValues.2:ore
   377 ucontrol getBlock :tileValue.19:x :tileValue.19:y type building floor
 
   381 set *tmp132 :tileValue.19:result
   382 label *label49
   383 set :computeRowValues.2:x0 *tmp132
-    * op add *tmp133 :computeRowValues.2:x 3
-    * set :tileValue.20:x *tmp133
+  384 op add :tileValue.20:x :computeRowValues.2:x 3
   385 set :tileValue.20:y :computeRowValues.2:y
   386 set :tileValue.20:ore :computeRowValues.2:ore
   387 ucontrol getBlock :tileValue.20:x :tileValue.20:y type building floor
 
   407 op add *tmp148 *tmp147 :computeRowValues.2:x5
   408 op add *tmp149 *tmp148 :computeRowValues.2:x6
   409 op min *tmp150 0.09803921568627451 *tmp149
-    * packcolor *tmp151 *tmp138 *tmp142 *tmp146 *tmp150
-    * set *tmp104 *tmp151
+  410 packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150
   411 jump *label39 always
   412 set *tmp123 null
   413 label *label48
 
   421 set :computeRowValues.3:y *tmp152
   422 set :computeRowValues.3:ore :findBestPosition:ore
   423 set :computeRowValues.3:size :findBestPosition:size
-    * op sub *tmp154 :computeRowValues.3:x 2
-    * set :tileValue.21:x *tmp154
+  424 op sub :tileValue.21:x :computeRowValues.3:x 2
   425 set :tileValue.21:y :computeRowValues.3:y
   426 set :tileValue.21:ore :computeRowValues.3:ore
   427 ucontrol getBlock :tileValue.21:x :tileValue.21:y type building floor
 
   431 set *tmp155 :tileValue.21:result
   432 label *label52
   433 set :computeRowValues.3:x1 *tmp155
-    * op sub *tmp156 :computeRowValues.3:x 1
-    * set :tileValue.22:x *tmp156
+  434 op sub :tileValue.22:x :computeRowValues.3:x 1
   435 set :tileValue.22:y :computeRowValues.3:y
   436 set :tileValue.22:ore :computeRowValues.3:ore
   437 ucontrol getBlock :tileValue.22:x :tileValue.22:y type building floor
 
   441 set *tmp157 :tileValue.22:result
   442 label *label53
   443 set :computeRowValues.3:x2 *tmp157
-    * op add *tmp158 :computeRowValues.3:x 0
-    * set :tileValue.23:x *tmp158
+  444 op add :tileValue.23:x :computeRowValues.3:x 0
   445 set :tileValue.23:y :computeRowValues.3:y
   446 set :tileValue.23:ore :computeRowValues.3:ore
   447 ucontrol getBlock :tileValue.23:x :tileValue.23:y type building floor
 
   451 set *tmp159 :tileValue.23:result
   452 label *label54
   453 set :computeRowValues.3:x3 *tmp159
-    * op add *tmp160 :computeRowValues.3:x 1
-    * set :tileValue.24:x *tmp160
+  454 op add :tileValue.24:x :computeRowValues.3:x 1
   455 set :tileValue.24:y :computeRowValues.3:y
   456 set :tileValue.24:ore :computeRowValues.3:ore
   457 ucontrol getBlock :tileValue.24:x :tileValue.24:y type building floor
 
   461 set *tmp161 :tileValue.24:result
   462 label *label55
   463 set :computeRowValues.3:x4 *tmp161
-    * op add *tmp162 :computeRowValues.3:x 2
-    * set :tileValue.25:x *tmp162
+  464 op add :tileValue.25:x :computeRowValues.3:x 2
   465 set :tileValue.25:y :computeRowValues.3:y
   466 set :tileValue.25:ore :computeRowValues.3:ore
   467 ucontrol getBlock :tileValue.25:x :tileValue.25:y type building floor
 
   477 op add *tmp167 :computeRowValues.3:x2 :computeRowValues.3:x3
   478 op add *tmp168 :computeRowValues.3:x3 :computeRowValues.3:x4
   479 op add *tmp169 :computeRowValues.3:x4 :computeRowValues.3:x5
-    * packcolor *tmp170 *tmp166 *tmp167 *tmp168 *tmp169
-    * set *tmp153 *tmp170
+  480 packcolor *tmp153 *tmp166 *tmp167 *tmp168 *tmp169
   481 jump *label51 always
   482 set *tmp165 null
   483 jump *label58 always
 
   490 op add *tmp176 *tmp175 :computeRowValues.3:x4
   491 op add *tmp177 :computeRowValues.3:x3 :computeRowValues.3:x4
   492 op add *tmp178 *tmp177 :computeRowValues.3:x5
-    * packcolor *tmp179 *tmp174 *tmp176 *tmp178 0
-    * set *tmp153 *tmp179
+  493 packcolor *tmp153 *tmp174 *tmp176 *tmp178 0
   494 jump *label51 always
   495 set *tmp172 null
   496 jump *label60 always
   497 label *label59
-    * op sub *tmp180 :computeRowValues.3:x 3
-    * set :tileValue.26:x *tmp180
+  498 op sub :tileValue.26:x :computeRowValues.3:x 3
   499 set :tileValue.26:y :computeRowValues.3:y
   500 set :tileValue.26:ore :computeRowValues.3:ore
   501 ucontrol getBlock :tileValue.26:x :tileValue.26:y type building floor
 
   505 set *tmp181 :tileValue.26:result
   506 label *label61
   507 set :computeRowValues.3:x0 *tmp181
-    * op add *tmp182 :computeRowValues.3:x 3
-    * set :tileValue.27:x *tmp182
+  508 op add :tileValue.27:x :computeRowValues.3:x 3
   509 set :tileValue.27:y :computeRowValues.3:y
   510 set :tileValue.27:ore :computeRowValues.3:ore
   511 ucontrol getBlock :tileValue.27:x :tileValue.27:y type building floor
 
   531 op add *tmp197 *tmp196 :computeRowValues.3:x5
   532 op add *tmp198 *tmp197 :computeRowValues.3:x6
   533 op min *tmp199 0.09803921568627451 *tmp198
-    * packcolor *tmp200 *tmp187 *tmp191 *tmp195 *tmp199
-    * set *tmp153 *tmp200
+  534 packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199
   535 jump *label51 always
   536 set *tmp172 null
   537 label *label60
 
   545 set :computeRowValues.4:y *tmp201
   546 set :computeRowValues.4:ore :findBestPosition:ore
   547 set :computeRowValues.4:size :findBestPosition:size
-    * op sub *tmp203 :computeRowValues.4:x 2
-    * set :tileValue.28:x *tmp203
+  548 op sub :tileValue.28:x :computeRowValues.4:x 2
   549 set :tileValue.28:y :computeRowValues.4:y
   550 set :tileValue.28:ore :computeRowValues.4:ore
   551 ucontrol getBlock :tileValue.28:x :tileValue.28:y type building floor
 
   555 set *tmp204 :tileValue.28:result
   556 label *label64
   557 set :computeRowValues.4:x1 *tmp204
-    * op sub *tmp205 :computeRowValues.4:x 1
-    * set :tileValue.29:x *tmp205
+  558 op sub :tileValue.29:x :computeRowValues.4:x 1
   559 set :tileValue.29:y :computeRowValues.4:y
   560 set :tileValue.29:ore :computeRowValues.4:ore
   561 ucontrol getBlock :tileValue.29:x :tileValue.29:y type building floor
 
   565 set *tmp206 :tileValue.29:result
   566 label *label65
   567 set :computeRowValues.4:x2 *tmp206
-    * op add *tmp207 :computeRowValues.4:x 0
-    * set :tileValue.30:x *tmp207
+  568 op add :tileValue.30:x :computeRowValues.4:x 0
   569 set :tileValue.30:y :computeRowValues.4:y
   570 set :tileValue.30:ore :computeRowValues.4:ore
   571 ucontrol getBlock :tileValue.30:x :tileValue.30:y type building floor
 
   575 set *tmp208 :tileValue.30:result
   576 label *label66
   577 set :computeRowValues.4:x3 *tmp208
-    * op add *tmp209 :computeRowValues.4:x 1
-    * set :tileValue.31:x *tmp209
+  578 op add :tileValue.31:x :computeRowValues.4:x 1
   579 set :tileValue.31:y :computeRowValues.4:y
   580 set :tileValue.31:ore :computeRowValues.4:ore
   581 ucontrol getBlock :tileValue.31:x :tileValue.31:y type building floor
 
   585 set *tmp210 :tileValue.31:result
   586 label *label67
   587 set :computeRowValues.4:x4 *tmp210
-    * op add *tmp211 :computeRowValues.4:x 2
-    * set :tileValue.32:x *tmp211
+  588 op add :tileValue.32:x :computeRowValues.4:x 2
   589 set :tileValue.32:y :computeRowValues.4:y
   590 set :tileValue.32:ore :computeRowValues.4:ore
   591 ucontrol getBlock :tileValue.32:x :tileValue.32:y type building floor
 
   601 op add *tmp216 :computeRowValues.4:x2 :computeRowValues.4:x3
   602 op add *tmp217 :computeRowValues.4:x3 :computeRowValues.4:x4
   603 op add *tmp218 :computeRowValues.4:x4 :computeRowValues.4:x5
-    * packcolor *tmp219 *tmp215 *tmp216 *tmp217 *tmp218
-    * set *tmp202 *tmp219
+  604 packcolor *tmp202 *tmp215 *tmp216 *tmp217 *tmp218
   605 jump *label63 always
   606 set *tmp214 null
   607 jump *label70 always
 
   614 op add *tmp225 *tmp224 :computeRowValues.4:x4
   615 op add *tmp226 :computeRowValues.4:x3 :computeRowValues.4:x4
   616 op add *tmp227 *tmp226 :computeRowValues.4:x5
-    * packcolor *tmp228 *tmp223 *tmp225 *tmp227 0
-    * set *tmp202 *tmp228
+  617 packcolor *tmp202 *tmp223 *tmp225 *tmp227 0
   618 jump *label63 always
   619 set *tmp221 null
   620 jump *label72 always
   621 label *label71
-    * op sub *tmp229 :computeRowValues.4:x 3
-    * set :tileValue.33:x *tmp229
+  622 op sub :tileValue.33:x :computeRowValues.4:x 3
   623 set :tileValue.33:y :computeRowValues.4:y
   624 set :tileValue.33:ore :computeRowValues.4:ore
   625 ucontrol getBlock :tileValue.33:x :tileValue.33:y type building floor
 
   629 set *tmp230 :tileValue.33:result
   630 label *label73
   631 set :computeRowValues.4:x0 *tmp230
-    * op add *tmp231 :computeRowValues.4:x 3
-    * set :tileValue.34:x *tmp231
+  632 op add :tileValue.34:x :computeRowValues.4:x 3
   633 set :tileValue.34:y :computeRowValues.4:y
   634 set :tileValue.34:ore :computeRowValues.4:ore
   635 ucontrol getBlock :tileValue.34:x :tileValue.34:y type building floor
 
   655 op add *tmp246 *tmp245 :computeRowValues.4:x5
   656 op add *tmp247 *tmp246 :computeRowValues.4:x6
   657 op min *tmp248 0.09803921568627451 *tmp247
-    * packcolor *tmp249 *tmp236 *tmp240 *tmp244 *tmp248
-    * set *tmp202 *tmp249
+  658 packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248
   659 jump *label63 always
   660 set *tmp221 null
   661 label *label72
 
   670 op equal *tmp250 :findBestPosition:size 3
   671 jump *label75 equal *tmp250 false
   672 op add *tmp252 :findBestPosition:y2 :findBestPosition:y3
-    * op add *tmp253 :findBestPosition:y1 *tmp252
-    * set :findBestPosition:row1 *tmp253
+  673 op add :findBestPosition:row1 :findBestPosition:y1 *tmp252
   674 op add *tmp254 :findBestPosition:y2 :findBestPosition:y3
-    * op add *tmp255 *tmp254 :findBestPosition:y4
-    * set :findBestPosition:row2 *tmp255
+  675 op add :findBestPosition:row2 *tmp254 :findBestPosition:y4
   676 op add *tmp256 :findBestPosition:y3 :findBestPosition:y4
-    * op add *tmp257 *tmp256 :findBestPosition:y5
-    * set :findBestPosition:row3 *tmp257
+  677 op add :findBestPosition:row3 *tmp256 :findBestPosition:y5
   678 set :updateRowPositionsOdd:dy -1
   679 set :updateRowPositionsOdd:rowSum :findBestPosition:row1
   680 unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 *tmp258 :updateRowPositionsOdd:rowSum
 
   844 label *label75
   845 op equal *tmp297 :findBestPosition:size 2
   846 jump *label125 equal *tmp297 false
-    * op add *tmp299 :findBestPosition:y1 :findBestPosition:y2
-    * set :findBestPosition:row1 *tmp299
-    * op add *tmp300 :findBestPosition:y2 :findBestPosition:y3
-    * set :findBestPosition:row2 *tmp300
-    * op add *tmp301 :findBestPosition:y3 :findBestPosition:y4
-    * set :findBestPosition:row3 *tmp301
-    * op add *tmp302 :findBestPosition:y4 :findBestPosition:y5
-    * set :findBestPosition:row4 *tmp302
+  847 op add :findBestPosition:row1 :findBestPosition:y1 :findBestPosition:y2
+  848 op add :findBestPosition:row2 :findBestPosition:y2 :findBestPosition:y3
+  849 op add :findBestPosition:row3 :findBestPosition:y3 :findBestPosition:y4
+  850 op add :findBestPosition:row4 :findBestPosition:y4 :findBestPosition:y5
   851 jump *label126 always
   852 label *label125
   853 op sub *tmp303 :findBestPosition:y 3
 
   855 set :computeRowValues.5:y *tmp303
   856 set :computeRowValues.5:ore :findBestPosition:ore
   857 set :computeRowValues.5:size :findBestPosition:size
-    * op sub *tmp305 :computeRowValues.5:x 2
-    * set :tileValue.35:x *tmp305
+  858 op sub :tileValue.35:x :computeRowValues.5:x 2
   859 set :tileValue.35:y :computeRowValues.5:y
   860 set :tileValue.35:ore :computeRowValues.5:ore
   861 ucontrol getBlock :tileValue.35:x :tileValue.35:y type building floor
 
   865 set *tmp306 :tileValue.35:result
   866 label *label128
   867 set :computeRowValues.5:x1 *tmp306
-    * op sub *tmp307 :computeRowValues.5:x 1
-    * set :tileValue.36:x *tmp307
+  868 op sub :tileValue.36:x :computeRowValues.5:x 1
   869 set :tileValue.36:y :computeRowValues.5:y
   870 set :tileValue.36:ore :computeRowValues.5:ore
   871 ucontrol getBlock :tileValue.36:x :tileValue.36:y type building floor
 
   875 set *tmp308 :tileValue.36:result
   876 label *label129
   877 set :computeRowValues.5:x2 *tmp308
-    * op add *tmp309 :computeRowValues.5:x 0
-    * set :tileValue.37:x *tmp309
+  878 op add :tileValue.37:x :computeRowValues.5:x 0
   879 set :tileValue.37:y :computeRowValues.5:y
   880 set :tileValue.37:ore :computeRowValues.5:ore
   881 ucontrol getBlock :tileValue.37:x :tileValue.37:y type building floor
 
   885 set *tmp310 :tileValue.37:result
   886 label *label130
   887 set :computeRowValues.5:x3 *tmp310
-    * op add *tmp311 :computeRowValues.5:x 1
-    * set :tileValue.38:x *tmp311
+  888 op add :tileValue.38:x :computeRowValues.5:x 1
   889 set :tileValue.38:y :computeRowValues.5:y
   890 set :tileValue.38:ore :computeRowValues.5:ore
   891 ucontrol getBlock :tileValue.38:x :tileValue.38:y type building floor
 
   895 set *tmp312 :tileValue.38:result
   896 label *label131
   897 set :computeRowValues.5:x4 *tmp312
-    * op add *tmp313 :computeRowValues.5:x 2
-    * set :tileValue.39:x *tmp313
+  898 op add :tileValue.39:x :computeRowValues.5:x 2
   899 set :tileValue.39:y :computeRowValues.5:y
   900 set :tileValue.39:ore :computeRowValues.5:ore
   901 ucontrol getBlock :tileValue.39:x :tileValue.39:y type building floor
 
   911 op add *tmp318 :computeRowValues.5:x2 :computeRowValues.5:x3
   912 op add *tmp319 :computeRowValues.5:x3 :computeRowValues.5:x4
   913 op add *tmp320 :computeRowValues.5:x4 :computeRowValues.5:x5
-    * packcolor *tmp321 *tmp317 *tmp318 *tmp319 *tmp320
-    * set *tmp304 *tmp321
+  914 packcolor *tmp304 *tmp317 *tmp318 *tmp319 *tmp320
   915 jump *label127 always
   916 set *tmp316 null
   917 jump *label134 always
 
   924 op add *tmp327 *tmp326 :computeRowValues.5:x4
   925 op add *tmp328 :computeRowValues.5:x3 :computeRowValues.5:x4
   926 op add *tmp329 *tmp328 :computeRowValues.5:x5
-    * packcolor *tmp330 *tmp325 *tmp327 *tmp329 0
-    * set *tmp304 *tmp330
+  927 packcolor *tmp304 *tmp325 *tmp327 *tmp329 0
   928 jump *label127 always
   929 set *tmp323 null
   930 jump *label136 always
   931 label *label135
-    * op sub *tmp331 :computeRowValues.5:x 3
-    * set :tileValue.40:x *tmp331
+  932 op sub :tileValue.40:x :computeRowValues.5:x 3
   933 set :tileValue.40:y :computeRowValues.5:y
   934 set :tileValue.40:ore :computeRowValues.5:ore
   935 ucontrol getBlock :tileValue.40:x :tileValue.40:y type building floor
 
   939 set *tmp332 :tileValue.40:result
   940 label *label137
   941 set :computeRowValues.5:x0 *tmp332
-    * op add *tmp333 :computeRowValues.5:x 3
-    * set :tileValue.41:x *tmp333
+  942 op add :tileValue.41:x :computeRowValues.5:x 3
   943 set :tileValue.41:y :computeRowValues.5:y
   944 set :tileValue.41:ore :computeRowValues.5:ore
   945 ucontrol getBlock :tileValue.41:x :tileValue.41:y type building floor
 
   965 op add *tmp348 *tmp347 :computeRowValues.5:x5
   966 op add *tmp349 *tmp348 :computeRowValues.5:x6
   967 op min *tmp350 0.09803921568627451 *tmp349
-    * packcolor *tmp351 *tmp338 *tmp342 *tmp346 *tmp350
-    * set *tmp304 *tmp351
+  968 packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350
   969 jump *label127 always
   970 set *tmp323 null
   971 label *label136
 
   979 set :computeRowValues.6:y *tmp352
   980 set :computeRowValues.6:ore :findBestPosition:ore
   981 set :computeRowValues.6:size :findBestPosition:size
-    * op sub *tmp354 :computeRowValues.6:x 2
-    * set :tileValue.42:x *tmp354
+  982 op sub :tileValue.42:x :computeRowValues.6:x 2
   983 set :tileValue.42:y :computeRowValues.6:y
   984 set :tileValue.42:ore :computeRowValues.6:ore
   985 ucontrol getBlock :tileValue.42:x :tileValue.42:y type building floor
 
   989 set *tmp355 :tileValue.42:result
   990 label *label140
   991 set :computeRowValues.6:x1 *tmp355
-    * op sub *tmp356 :computeRowValues.6:x 1
-    * set :tileValue.43:x *tmp356
+  992 op sub :tileValue.43:x :computeRowValues.6:x 1
   993 set :tileValue.43:y :computeRowValues.6:y
   994 set :tileValue.43:ore :computeRowValues.6:ore
   995 ucontrol getBlock :tileValue.43:x :tileValue.43:y type building floor
 
   999 set *tmp357 :tileValue.43:result
  1000 label *label141
  1001 set :computeRowValues.6:x2 *tmp357
-    * op add *tmp358 :computeRowValues.6:x 0
-    * set :tileValue.44:x *tmp358
+ 1002 op add :tileValue.44:x :computeRowValues.6:x 0
  1003 set :tileValue.44:y :computeRowValues.6:y
  1004 set :tileValue.44:ore :computeRowValues.6:ore
  1005 ucontrol getBlock :tileValue.44:x :tileValue.44:y type building floor
 
  1009 set *tmp359 :tileValue.44:result
  1010 label *label142
  1011 set :computeRowValues.6:x3 *tmp359
-    * op add *tmp360 :computeRowValues.6:x 1
-    * set :tileValue.45:x *tmp360
+ 1012 op add :tileValue.45:x :computeRowValues.6:x 1
  1013 set :tileValue.45:y :computeRowValues.6:y
  1014 set :tileValue.45:ore :computeRowValues.6:ore
  1015 ucontrol getBlock :tileValue.45:x :tileValue.45:y type building floor
 
  1019 set *tmp361 :tileValue.45:result
  1020 label *label143
  1021 set :computeRowValues.6:x4 *tmp361
-    * op add *tmp362 :computeRowValues.6:x 2
-    * set :tileValue.46:x *tmp362
+ 1022 op add :tileValue.46:x :computeRowValues.6:x 2
  1023 set :tileValue.46:y :computeRowValues.6:y
  1024 set :tileValue.46:ore :computeRowValues.6:ore
  1025 ucontrol getBlock :tileValue.46:x :tileValue.46:y type building floor
 
  1035 op add *tmp367 :computeRowValues.6:x2 :computeRowValues.6:x3
  1036 op add *tmp368 :computeRowValues.6:x3 :computeRowValues.6:x4
  1037 op add *tmp369 :computeRowValues.6:x4 :computeRowValues.6:x5
-    * packcolor *tmp370 *tmp366 *tmp367 *tmp368 *tmp369
-    * set *tmp353 *tmp370
+ 1038 packcolor *tmp353 *tmp366 *tmp367 *tmp368 *tmp369
  1039 jump *label139 always
  1040 set *tmp365 null
  1041 jump *label146 always
 
  1048 op add *tmp376 *tmp375 :computeRowValues.6:x4
  1049 op add *tmp377 :computeRowValues.6:x3 :computeRowValues.6:x4
  1050 op add *tmp378 *tmp377 :computeRowValues.6:x5
-    * packcolor *tmp379 *tmp374 *tmp376 *tmp378 0
-    * set *tmp353 *tmp379
+ 1051 packcolor *tmp353 *tmp374 *tmp376 *tmp378 0
  1052 jump *label139 always
  1053 set *tmp372 null
  1054 jump *label148 always
  1055 label *label147
-    * op sub *tmp380 :computeRowValues.6:x 3
-    * set :tileValue.47:x *tmp380
+ 1056 op sub :tileValue.47:x :computeRowValues.6:x 3
  1057 set :tileValue.47:y :computeRowValues.6:y
  1058 set :tileValue.47:ore :computeRowValues.6:ore
  1059 ucontrol getBlock :tileValue.47:x :tileValue.47:y type building floor
 
  1063 set *tmp381 :tileValue.47:result
  1064 label *label149
  1065 set :computeRowValues.6:x0 *tmp381
-    * op add *tmp382 :computeRowValues.6:x 3
-    * set :tileValue.48:x *tmp382
+ 1066 op add :tileValue.48:x :computeRowValues.6:x 3
  1067 set :tileValue.48:y :computeRowValues.6:y
  1068 set :tileValue.48:ore :computeRowValues.6:ore
  1069 ucontrol getBlock :tileValue.48:x :tileValue.48:y type building floor
 
  1089 op add *tmp397 *tmp396 :computeRowValues.6:x5
  1090 op add *tmp398 *tmp397 :computeRowValues.6:x6
  1091 op min *tmp399 0.09803921568627451 *tmp398
-    * packcolor *tmp400 *tmp387 *tmp391 *tmp395 *tmp399
-    * set *tmp353 *tmp400
+ 1092 packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399
  1093 jump *label139 always
  1094 set *tmp372 null
  1095 label *label148
 
  1100 set :findBestPosition:y6 *tmp353
  1101 op add *tmp401 :findBestPosition:y1 :findBestPosition:y2
  1102 op add *tmp402 *tmp401 :findBestPosition:y3
-    * op add *tmp403 :findBestPosition:y0 *tmp402
-    * set :findBestPosition:row1 *tmp403
+ 1103 op add :findBestPosition:row1 :findBestPosition:y0 *tmp402
  1104 op add *tmp404 :findBestPosition:y1 :findBestPosition:y2
  1105 op add *tmp405 *tmp404 :findBestPosition:y3
-    * op add *tmp406 *tmp405 :findBestPosition:y4
-    * set :findBestPosition:row2 *tmp406
+ 1106 op add :findBestPosition:row2 *tmp405 :findBestPosition:y4
  1107 op add *tmp407 :findBestPosition:y3 :findBestPosition:y4
  1108 op add *tmp408 *tmp407 :findBestPosition:y5
-    * op add *tmp409 :findBestPosition:y2 *tmp408
-    * set :findBestPosition:row3 *tmp409
+ 1109 op add :findBestPosition:row3 :findBestPosition:y2 *tmp408
  1110 op add *tmp410 :findBestPosition:y3 :findBestPosition:y4
  1111 op add *tmp411 *tmp410 :findBestPosition:y5
-    * op add *tmp412 *tmp411 :findBestPosition:y6
-    * set :findBestPosition:row4 *tmp412
+ 1112 op add :findBestPosition:row4 *tmp411 :findBestPosition:y6
  1113 label *label126
  1114 set :updateRowPositionsEven:dy -1.5
  1115 set :updateRowPositionsEven:rowSum :findBestPosition:row1
 
  1400 label *label230
  1401 label *label214
  1402 label *label76
-    * op mul *tmp477 :findBestPosition:best 255
-    * set :findBestPosition*retval *tmp477
+ 1403 op mul :findBestPosition*retval :findBestPosition:best 255
  1404 jump *label14 always
  1405 set :findBestPosition*retval null
  1406 label *label14

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-66 instructions):
 
    99 set *tmp16 :tileValue.4:result
   100 label *label20
   101 set :computeRowValues:x5 *tmp16
-    * op equal *tmp17 :computeRowValues:size 2
-    * jump *label21 equal *tmp17 false
+  102 jump *label21 notEqual :computeRowValues:size 2
   103 op add *tmp19 :computeRowValues:x1 :computeRowValues:x2
   104 op add *tmp20 :computeRowValues:x2 :computeRowValues:x3
   105 op add *tmp21 :computeRowValues:x3 :computeRowValues:x4
 
   109 set *tmp18 null
   110 jump *label22 always
   111 label *label21
-    * op equal *tmp24 :computeRowValues:size 3
-    * jump *label23 equal *tmp24 false
+  112 jump *label23 notEqual :computeRowValues:size 3
   113 op add *tmp26 :computeRowValues:x2 :computeRowValues:x3
   114 op add *tmp27 :computeRowValues:x1 *tmp26
   115 op add *tmp28 :computeRowValues:x2 :computeRowValues:x3
 
   221 set *tmp65 :tileValue.11:result
   222 label *label32
   223 set :computeRowValues.1:x5 *tmp65
-    * op equal *tmp66 :computeRowValues.1:size 2
-    * jump *label33 equal *tmp66 false
+  224 jump *label33 notEqual :computeRowValues.1:size 2
   225 op add *tmp68 :computeRowValues.1:x1 :computeRowValues.1:x2
   226 op add *tmp69 :computeRowValues.1:x2 :computeRowValues.1:x3
   227 op add *tmp70 :computeRowValues.1:x3 :computeRowValues.1:x4
 
   231 set *tmp67 null
   232 jump *label34 always
   233 label *label33
-    * op equal *tmp73 :computeRowValues.1:size 3
-    * jump *label35 equal *tmp73 false
+  234 jump *label35 notEqual :computeRowValues.1:size 3
   235 op add *tmp75 :computeRowValues.1:x2 :computeRowValues.1:x3
   236 op add *tmp76 :computeRowValues.1:x1 *tmp75
   237 op add *tmp77 :computeRowValues.1:x2 :computeRowValues.1:x3
 
   343 set *tmp114 :tileValue.18:result
   344 label *label44
   345 set :computeRowValues.2:x5 *tmp114
-    * op equal *tmp115 :computeRowValues.2:size 2
-    * jump *label45 equal *tmp115 false
+  346 jump *label45 notEqual :computeRowValues.2:size 2
   347 op add *tmp117 :computeRowValues.2:x1 :computeRowValues.2:x2
   348 op add *tmp118 :computeRowValues.2:x2 :computeRowValues.2:x3
   349 op add *tmp119 :computeRowValues.2:x3 :computeRowValues.2:x4
 
   353 set *tmp116 null
   354 jump *label46 always
   355 label *label45
-    * op equal *tmp122 :computeRowValues.2:size 3
-    * jump *label47 equal *tmp122 false
+  356 jump *label47 notEqual :computeRowValues.2:size 3
   357 op add *tmp124 :computeRowValues.2:x2 :computeRowValues.2:x3
   358 op add *tmp125 :computeRowValues.2:x1 *tmp124
   359 op add *tmp126 :computeRowValues.2:x2 :computeRowValues.2:x3
 
   465 set *tmp163 :tileValue.25:result
   466 label *label56
   467 set :computeRowValues.3:x5 *tmp163
-    * op equal *tmp164 :computeRowValues.3:size 2
-    * jump *label57 equal *tmp164 false
+  468 jump *label57 notEqual :computeRowValues.3:size 2
   469 op add *tmp166 :computeRowValues.3:x1 :computeRowValues.3:x2
   470 op add *tmp167 :computeRowValues.3:x2 :computeRowValues.3:x3
   471 op add *tmp168 :computeRowValues.3:x3 :computeRowValues.3:x4
 
   475 set *tmp165 null
   476 jump *label58 always
   477 label *label57
-    * op equal *tmp171 :computeRowValues.3:size 3
-    * jump *label59 equal *tmp171 false
+  478 jump *label59 notEqual :computeRowValues.3:size 3
   479 op add *tmp173 :computeRowValues.3:x2 :computeRowValues.3:x3
   480 op add *tmp174 :computeRowValues.3:x1 *tmp173
   481 op add *tmp175 :computeRowValues.3:x2 :computeRowValues.3:x3
 
   587 set *tmp212 :tileValue.32:result
   588 label *label68
   589 set :computeRowValues.4:x5 *tmp212
-    * op equal *tmp213 :computeRowValues.4:size 2
-    * jump *label69 equal *tmp213 false
+  590 jump *label69 notEqual :computeRowValues.4:size 2
   591 op add *tmp215 :computeRowValues.4:x1 :computeRowValues.4:x2
   592 op add *tmp216 :computeRowValues.4:x2 :computeRowValues.4:x3
   593 op add *tmp217 :computeRowValues.4:x3 :computeRowValues.4:x4
 
   597 set *tmp214 null
   598 jump *label70 always
   599 label *label69
-    * op equal *tmp220 :computeRowValues.4:size 3
-    * jump *label71 equal *tmp220 false
+  600 jump *label71 notEqual :computeRowValues.4:size 3
   601 op add *tmp222 :computeRowValues.4:x2 :computeRowValues.4:x3
   602 op add *tmp223 :computeRowValues.4:x1 *tmp222
   603 op add *tmp224 :computeRowValues.4:x2 :computeRowValues.4:x3
 
   657 set :findBestPosition:best 0
   658 set :findBestPosition:bestX 0
   659 set :findBestPosition:bestY 0
-    * op equal *tmp250 :findBestPosition:size 3
-    * jump *label75 equal *tmp250 false
+  660 jump *label75 notEqual :findBestPosition:size 3
   661 op add *tmp252 :findBestPosition:y2 :findBestPosition:y3
   662 op add :findBestPosition:row1 :findBestPosition:y1 *tmp252
   663 op add *tmp254 :findBestPosition:y2 :findBestPosition:y3
 
   670 set :updatePosition:dx -1
   671 set :updatePosition:dy :updateRowPositionsOdd:dy
   672 set :updatePosition:value :updateRowPositionsOdd:col1
-    * op greaterThan *tmp259 :updatePosition:value :findBestPosition:best
-    * jump *label79 equal *tmp259 false
-    * op lessThan *tmp261 :updatePosition:value 0.0784313725490196
-    * jump *label81 equal *tmp261 false
+  673 jump *label79 lessThanEq :updatePosition:value :findBestPosition:best
+  674 jump *label81 greaterThanEq :updatePosition:value 0.0784313725490196
   675 set :findBestPosition:bestX :updatePosition:dx
   676 set :findBestPosition:bestY :updatePosition:dy
   677 set :findBestPosition:best :updatePosition:value
 
   685 set :updatePosition.1:dx 0
   686 set :updatePosition.1:dy :updateRowPositionsOdd:dy
   687 set :updatePosition.1:value :updateRowPositionsOdd:col2
-    * op greaterThan *tmp263 :updatePosition.1:value :findBestPosition:best
-    * jump *label84 equal *tmp263 false
-    * op lessThan *tmp265 :updatePosition.1:value 0.0784313725490196
-    * jump *label86 equal *tmp265 false
+  688 jump *label84 lessThanEq :updatePosition.1:value :findBestPosition:best
+  689 jump *label86 greaterThanEq :updatePosition.1:value 0.0784313725490196
   690 set :findBestPosition:bestX :updatePosition.1:dx
   691 set :findBestPosition:bestY :updatePosition.1:dy
   692 set :findBestPosition:best :updatePosition.1:value
 
   700 set :updatePosition.2:dx 1
   701 set :updatePosition.2:dy :updateRowPositionsOdd:dy
   702 set :updatePosition.2:value :updateRowPositionsOdd:col3
-    * op greaterThan *tmp267 :updatePosition.2:value :findBestPosition:best
-    * jump *label89 equal *tmp267 false
-    * op lessThan *tmp269 :updatePosition.2:value 0.0784313725490196
-    * jump *label91 equal *tmp269 false
+  703 jump *label89 lessThanEq :updatePosition.2:value :findBestPosition:best
+  704 jump *label91 greaterThanEq :updatePosition.2:value 0.0784313725490196
   705 set :findBestPosition:bestX :updatePosition.2:dx
   706 set :findBestPosition:bestY :updatePosition.2:dy
   707 set :findBestPosition:best :updatePosition.2:value
 
   719 set :updatePosition.3:dx -1
   720 set :updatePosition.3:dy :updateRowPositionsOdd.1:dy
   721 set :updatePosition.3:value :updateRowPositionsOdd.1:col1
-    * op greaterThan *tmp272 :updatePosition.3:value :findBestPosition:best
-    * jump *label95 equal *tmp272 false
-    * op lessThan *tmp274 :updatePosition.3:value 0.0784313725490196
-    * jump *label97 equal *tmp274 false
+  722 jump *label95 lessThanEq :updatePosition.3:value :findBestPosition:best
+  723 jump *label97 greaterThanEq :updatePosition.3:value 0.0784313725490196
   724 set :findBestPosition:bestX :updatePosition.3:dx
   725 set :findBestPosition:bestY :updatePosition.3:dy
   726 set :findBestPosition:best :updatePosition.3:value
 
   734 set :updatePosition.4:dx 0
   735 set :updatePosition.4:dy :updateRowPositionsOdd.1:dy
   736 set :updatePosition.4:value :updateRowPositionsOdd.1:col2
-    * op greaterThan *tmp276 :updatePosition.4:value :findBestPosition:best
-    * jump *label100 equal *tmp276 false
-    * op lessThan *tmp278 :updatePosition.4:value 0.0784313725490196
-    * jump *label102 equal *tmp278 false
+  737 jump *label100 lessThanEq :updatePosition.4:value :findBestPosition:best
+  738 jump *label102 greaterThanEq :updatePosition.4:value 0.0784313725490196
   739 set :findBestPosition:bestX :updatePosition.4:dx
   740 set :findBestPosition:bestY :updatePosition.4:dy
   741 set :findBestPosition:best :updatePosition.4:value
 
   749 set :updatePosition.5:dx 1
   750 set :updatePosition.5:dy :updateRowPositionsOdd.1:dy
   751 set :updatePosition.5:value :updateRowPositionsOdd.1:col3
-    * op greaterThan *tmp280 :updatePosition.5:value :findBestPosition:best
-    * jump *label105 equal *tmp280 false
-    * op lessThan *tmp282 :updatePosition.5:value 0.0784313725490196
-    * jump *label107 equal *tmp282 false
+  752 jump *label105 lessThanEq :updatePosition.5:value :findBestPosition:best
+  753 jump *label107 greaterThanEq :updatePosition.5:value 0.0784313725490196
   754 set :findBestPosition:bestX :updatePosition.5:dx
   755 set :findBestPosition:bestY :updatePosition.5:dy
   756 set :findBestPosition:best :updatePosition.5:value
 
   768 set :updatePosition.6:dx -1
   769 set :updatePosition.6:dy :updateRowPositionsOdd.2:dy
   770 set :updatePosition.6:value :updateRowPositionsOdd.2:col1
-    * op greaterThan *tmp285 :updatePosition.6:value :findBestPosition:best
-    * jump *label111 equal *tmp285 false
-    * op lessThan *tmp287 :updatePosition.6:value 0.0784313725490196
-    * jump *label113 equal *tmp287 false
+  771 jump *label111 lessThanEq :updatePosition.6:value :findBestPosition:best
+  772 jump *label113 greaterThanEq :updatePosition.6:value 0.0784313725490196
   773 set :findBestPosition:bestX :updatePosition.6:dx
   774 set :findBestPosition:bestY :updatePosition.6:dy
   775 set :findBestPosition:best :updatePosition.6:value
 
   783 set :updatePosition.7:dx 0
   784 set :updatePosition.7:dy :updateRowPositionsOdd.2:dy
   785 set :updatePosition.7:value :updateRowPositionsOdd.2:col2
-    * op greaterThan *tmp289 :updatePosition.7:value :findBestPosition:best
-    * jump *label116 equal *tmp289 false
-    * op lessThan *tmp291 :updatePosition.7:value 0.0784313725490196
-    * jump *label118 equal *tmp291 false
+  786 jump *label116 lessThanEq :updatePosition.7:value :findBestPosition:best
+  787 jump *label118 greaterThanEq :updatePosition.7:value 0.0784313725490196
   788 set :findBestPosition:bestX :updatePosition.7:dx
   789 set :findBestPosition:bestY :updatePosition.7:dy
   790 set :findBestPosition:best :updatePosition.7:value
 
   798 set :updatePosition.8:dx 1
   799 set :updatePosition.8:dy :updateRowPositionsOdd.2:dy
   800 set :updatePosition.8:value :updateRowPositionsOdd.2:col3
-    * op greaterThan *tmp293 :updatePosition.8:value :findBestPosition:best
-    * jump *label121 equal *tmp293 false
-    * op lessThan *tmp295 :updatePosition.8:value 0.0784313725490196
-    * jump *label123 equal *tmp295 false
+  801 jump *label121 lessThanEq :updatePosition.8:value :findBestPosition:best
+  802 jump *label123 greaterThanEq :updatePosition.8:value 0.0784313725490196
   803 set :findBestPosition:bestX :updatePosition.8:dx
   804 set :findBestPosition:bestY :updatePosition.8:dy
   805 set :findBestPosition:best :updatePosition.8:value
 
   813 label *label109
   814 jump *label76 always
   815 label *label75
-    * op equal *tmp297 :findBestPosition:size 2
-    * jump *label125 equal *tmp297 false
+  816 jump *label125 notEqual :findBestPosition:size 2
   817 op add :findBestPosition:row1 :findBestPosition:y1 :findBestPosition:y2
   818 op add :findBestPosition:row2 :findBestPosition:y2 :findBestPosition:y3
   819 op add :findBestPosition:row3 :findBestPosition:y3 :findBestPosition:y4
 
   875 set *tmp314 :tileValue.39:result
   876 label *label132
   877 set :computeRowValues.5:x5 *tmp314
-    * op equal *tmp315 :computeRowValues.5:size 2
-    * jump *label133 equal *tmp315 false
+  878 jump *label133 notEqual :computeRowValues.5:size 2
   879 op add *tmp317 :computeRowValues.5:x1 :computeRowValues.5:x2
   880 op add *tmp318 :computeRowValues.5:x2 :computeRowValues.5:x3
   881 op add *tmp319 :computeRowValues.5:x3 :computeRowValues.5:x4
 
   885 set *tmp316 null
   886 jump *label134 always
   887 label *label133
-    * op equal *tmp322 :computeRowValues.5:size 3
-    * jump *label135 equal *tmp322 false
+  888 jump *label135 notEqual :computeRowValues.5:size 3
   889 op add *tmp324 :computeRowValues.5:x2 :computeRowValues.5:x3
   890 op add *tmp325 :computeRowValues.5:x1 *tmp324
   891 op add *tmp326 :computeRowValues.5:x2 :computeRowValues.5:x3
 
   997 set *tmp363 :tileValue.46:result
   998 label *label144
   999 set :computeRowValues.6:x5 *tmp363
-    * op equal *tmp364 :computeRowValues.6:size 2
-    * jump *label145 equal *tmp364 false
+ 1000 jump *label145 notEqual :computeRowValues.6:size 2
  1001 op add *tmp366 :computeRowValues.6:x1 :computeRowValues.6:x2
  1002 op add *tmp367 :computeRowValues.6:x2 :computeRowValues.6:x3
  1003 op add *tmp368 :computeRowValues.6:x3 :computeRowValues.6:x4
 
  1007 set *tmp365 null
  1008 jump *label146 always
  1009 label *label145
-    * op equal *tmp371 :computeRowValues.6:size 3
-    * jump *label147 equal *tmp371 false
+ 1010 jump *label147 notEqual :computeRowValues.6:size 3
  1011 op add *tmp373 :computeRowValues.6:x2 :computeRowValues.6:x3
  1012 op add *tmp374 :computeRowValues.6:x1 *tmp373
  1013 op add *tmp375 :computeRowValues.6:x2 :computeRowValues.6:x3
 
  1083 set :updatePosition.9:dx -1.5
  1084 set :updatePosition.9:dy :updateRowPositionsEven:dy
  1085 set :updatePosition.9:value :updateRowPositionsEven:col1
-    * op greaterThan *tmp413 :updatePosition.9:value :findBestPosition:best
-    * jump *label153 equal *tmp413 false
-    * op lessThan *tmp415 :updatePosition.9:value 0.0784313725490196
-    * jump *label155 equal *tmp415 false
+ 1086 jump *label153 lessThanEq :updatePosition.9:value :findBestPosition:best
+ 1087 jump *label155 greaterThanEq :updatePosition.9:value 0.0784313725490196
  1088 set :findBestPosition:bestX :updatePosition.9:dx
  1089 set :findBestPosition:bestY :updatePosition.9:dy
  1090 set :findBestPosition:best :updatePosition.9:value
 
  1098 set :updatePosition.10:dx -0.5
  1099 set :updatePosition.10:dy :updateRowPositionsEven:dy
  1100 set :updatePosition.10:value :updateRowPositionsEven:col2
-    * op greaterThan *tmp417 :updatePosition.10:value :findBestPosition:best
-    * jump *label158 equal *tmp417 false
-    * op lessThan *tmp419 :updatePosition.10:value 0.0784313725490196
-    * jump *label160 equal *tmp419 false
+ 1101 jump *label158 lessThanEq :updatePosition.10:value :findBestPosition:best
+ 1102 jump *label160 greaterThanEq :updatePosition.10:value 0.0784313725490196
  1103 set :findBestPosition:bestX :updatePosition.10:dx
  1104 set :findBestPosition:bestY :updatePosition.10:dy
  1105 set :findBestPosition:best :updatePosition.10:value
 
  1113 set :updatePosition.11:dx 0.5
  1114 set :updatePosition.11:dy :updateRowPositionsEven:dy
  1115 set :updatePosition.11:value :updateRowPositionsEven:col3
-    * op greaterThan *tmp421 :updatePosition.11:value :findBestPosition:best
-    * jump *label163 equal *tmp421 false
-    * op lessThan *tmp423 :updatePosition.11:value 0.0784313725490196
-    * jump *label165 equal *tmp423 false
+ 1116 jump *label163 lessThanEq :updatePosition.11:value :findBestPosition:best
+ 1117 jump *label165 greaterThanEq :updatePosition.11:value 0.0784313725490196
  1118 set :findBestPosition:bestX :updatePosition.11:dx
  1119 set :findBestPosition:bestY :updatePosition.11:dy
  1120 set :findBestPosition:best :updatePosition.11:value
 
  1128 set :updatePosition.12:dx 1.5
  1129 set :updatePosition.12:dy :updateRowPositionsEven:dy
  1130 set :updatePosition.12:value :updateRowPositionsEven:col4
-    * op greaterThan *tmp425 :updatePosition.12:value :findBestPosition:best
-    * jump *label168 equal *tmp425 false
-    * op lessThan *tmp427 :updatePosition.12:value 0.0784313725490196
-    * jump *label170 equal *tmp427 false
+ 1131 jump *label168 lessThanEq :updatePosition.12:value :findBestPosition:best
+ 1132 jump *label170 greaterThanEq :updatePosition.12:value 0.0784313725490196
  1133 set :findBestPosition:bestX :updatePosition.12:dx
  1134 set :findBestPosition:bestY :updatePosition.12:dy
  1135 set :findBestPosition:best :updatePosition.12:value
 
  1147 set :updatePosition.13:dx -1.5
  1148 set :updatePosition.13:dy :updateRowPositionsEven.1:dy
  1149 set :updatePosition.13:value :updateRowPositionsEven.1:col1
-    * op greaterThan *tmp429 :updatePosition.13:value :findBestPosition:best
-    * jump *label174 equal *tmp429 false
-    * op lessThan *tmp431 :updatePosition.13:value 0.0784313725490196
-    * jump *label176 equal *tmp431 false
+ 1150 jump *label174 lessThanEq :updatePosition.13:value :findBestPosition:best
+ 1151 jump *label176 greaterThanEq :updatePosition.13:value 0.0784313725490196
  1152 set :findBestPosition:bestX :updatePosition.13:dx
  1153 set :findBestPosition:bestY :updatePosition.13:dy
  1154 set :findBestPosition:best :updatePosition.13:value
 
  1162 set :updatePosition.14:dx -0.5
  1163 set :updatePosition.14:dy :updateRowPositionsEven.1:dy
  1164 set :updatePosition.14:value :updateRowPositionsEven.1:col2
-    * op greaterThan *tmp433 :updatePosition.14:value :findBestPosition:best
-    * jump *label179 equal *tmp433 false
-    * op lessThan *tmp435 :updatePosition.14:value 0.0784313725490196
-    * jump *label181 equal *tmp435 false
+ 1165 jump *label179 lessThanEq :updatePosition.14:value :findBestPosition:best
+ 1166 jump *label181 greaterThanEq :updatePosition.14:value 0.0784313725490196
  1167 set :findBestPosition:bestX :updatePosition.14:dx
  1168 set :findBestPosition:bestY :updatePosition.14:dy
  1169 set :findBestPosition:best :updatePosition.14:value
 
  1177 set :updatePosition.15:dx 0.5
  1178 set :updatePosition.15:dy :updateRowPositionsEven.1:dy
  1179 set :updatePosition.15:value :updateRowPositionsEven.1:col3
-    * op greaterThan *tmp437 :updatePosition.15:value :findBestPosition:best
-    * jump *label184 equal *tmp437 false
-    * op lessThan *tmp439 :updatePosition.15:value 0.0784313725490196
-    * jump *label186 equal *tmp439 false
+ 1180 jump *label184 lessThanEq :updatePosition.15:value :findBestPosition:best
+ 1181 jump *label186 greaterThanEq :updatePosition.15:value 0.0784313725490196
  1182 set :findBestPosition:bestX :updatePosition.15:dx
  1183 set :findBestPosition:bestY :updatePosition.15:dy
  1184 set :findBestPosition:best :updatePosition.15:value
 
  1192 set :updatePosition.16:dx 1.5
  1193 set :updatePosition.16:dy :updateRowPositionsEven.1:dy
  1194 set :updatePosition.16:value :updateRowPositionsEven.1:col4
-    * op greaterThan *tmp441 :updatePosition.16:value :findBestPosition:best
-    * jump *label189 equal *tmp441 false
-    * op lessThan *tmp443 :updatePosition.16:value 0.0784313725490196
-    * jump *label191 equal *tmp443 false
+ 1195 jump *label189 lessThanEq :updatePosition.16:value :findBestPosition:best
+ 1196 jump *label191 greaterThanEq :updatePosition.16:value 0.0784313725490196
  1197 set :findBestPosition:bestX :updatePosition.16:dx
  1198 set :findBestPosition:bestY :updatePosition.16:dy
  1199 set :findBestPosition:best :updatePosition.16:value
 
  1211 set :updatePosition.17:dx -1.5
  1212 set :updatePosition.17:dy :updateRowPositionsEven.2:dy
  1213 set :updatePosition.17:value :updateRowPositionsEven.2:col1
-    * op greaterThan *tmp445 :updatePosition.17:value :findBestPosition:best
-    * jump *label195 equal *tmp445 false
-    * op lessThan *tmp447 :updatePosition.17:value 0.0784313725490196
-    * jump *label197 equal *tmp447 false
+ 1214 jump *label195 lessThanEq :updatePosition.17:value :findBestPosition:best
+ 1215 jump *label197 greaterThanEq :updatePosition.17:value 0.0784313725490196
  1216 set :findBestPosition:bestX :updatePosition.17:dx
  1217 set :findBestPosition:bestY :updatePosition.17:dy
  1218 set :findBestPosition:best :updatePosition.17:value
 
  1226 set :updatePosition.18:dx -0.5
  1227 set :updatePosition.18:dy :updateRowPositionsEven.2:dy
  1228 set :updatePosition.18:value :updateRowPositionsEven.2:col2
-    * op greaterThan *tmp449 :updatePosition.18:value :findBestPosition:best
-    * jump *label200 equal *tmp449 false
-    * op lessThan *tmp451 :updatePosition.18:value 0.0784313725490196
-    * jump *label202 equal *tmp451 false
+ 1229 jump *label200 lessThanEq :updatePosition.18:value :findBestPosition:best
+ 1230 jump *label202 greaterThanEq :updatePosition.18:value 0.0784313725490196
  1231 set :findBestPosition:bestX :updatePosition.18:dx
  1232 set :findBestPosition:bestY :updatePosition.18:dy
  1233 set :findBestPosition:best :updatePosition.18:value
 
  1241 set :updatePosition.19:dx 0.5
  1242 set :updatePosition.19:dy :updateRowPositionsEven.2:dy
  1243 set :updatePosition.19:value :updateRowPositionsEven.2:col3
-    * op greaterThan *tmp453 :updatePosition.19:value :findBestPosition:best
-    * jump *label205 equal *tmp453 false
-    * op lessThan *tmp455 :updatePosition.19:value 0.0784313725490196
-    * jump *label207 equal *tmp455 false
+ 1244 jump *label205 lessThanEq :updatePosition.19:value :findBestPosition:best
+ 1245 jump *label207 greaterThanEq :updatePosition.19:value 0.0784313725490196
  1246 set :findBestPosition:bestX :updatePosition.19:dx
  1247 set :findBestPosition:bestY :updatePosition.19:dy
  1248 set :findBestPosition:best :updatePosition.19:value
 
  1256 set :updatePosition.20:dx 1.5
  1257 set :updatePosition.20:dy :updateRowPositionsEven.2:dy
  1258 set :updatePosition.20:value :updateRowPositionsEven.2:col4
-    * op greaterThan *tmp457 :updatePosition.20:value :findBestPosition:best
-    * jump *label210 equal *tmp457 false
-    * op lessThan *tmp459 :updatePosition.20:value 0.0784313725490196
-    * jump *label212 equal *tmp459 false
+ 1259 jump *label210 lessThanEq :updatePosition.20:value :findBestPosition:best
+ 1260 jump *label212 greaterThanEq :updatePosition.20:value 0.0784313725490196
  1261 set :findBestPosition:bestX :updatePosition.20:dx
  1262 set :findBestPosition:bestY :updatePosition.20:dy
  1263 set :findBestPosition:best :updatePosition.20:value
 
  1275 set :updatePosition.21:dx -1.5
  1276 set :updatePosition.21:dy :updateRowPositionsEven.3:dy
  1277 set :updatePosition.21:value :updateRowPositionsEven.3:col1
-    * op greaterThan *tmp461 :updatePosition.21:value :findBestPosition:best
-    * jump *label216 equal *tmp461 false
-    * op lessThan *tmp463 :updatePosition.21:value 0.0784313725490196
-    * jump *label218 equal *tmp463 false
+ 1278 jump *label216 lessThanEq :updatePosition.21:value :findBestPosition:best
+ 1279 jump *label218 greaterThanEq :updatePosition.21:value 0.0784313725490196
  1280 set :findBestPosition:bestX :updatePosition.21:dx
  1281 set :findBestPosition:bestY :updatePosition.21:dy
  1282 set :findBestPosition:best :updatePosition.21:value
 
  1290 set :updatePosition.22:dx -0.5
  1291 set :updatePosition.22:dy :updateRowPositionsEven.3:dy
  1292 set :updatePosition.22:value :updateRowPositionsEven.3:col2
-    * op greaterThan *tmp465 :updatePosition.22:value :findBestPosition:best
-    * jump *label221 equal *tmp465 false
-    * op lessThan *tmp467 :updatePosition.22:value 0.0784313725490196
-    * jump *label223 equal *tmp467 false
+ 1293 jump *label221 lessThanEq :updatePosition.22:value :findBestPosition:best
+ 1294 jump *label223 greaterThanEq :updatePosition.22:value 0.0784313725490196
  1295 set :findBestPosition:bestX :updatePosition.22:dx
  1296 set :findBestPosition:bestY :updatePosition.22:dy
  1297 set :findBestPosition:best :updatePosition.22:value
 
  1305 set :updatePosition.23:dx 0.5
  1306 set :updatePosition.23:dy :updateRowPositionsEven.3:dy
  1307 set :updatePosition.23:value :updateRowPositionsEven.3:col3
-    * op greaterThan *tmp469 :updatePosition.23:value :findBestPosition:best
-    * jump *label226 equal *tmp469 false
-    * op lessThan *tmp471 :updatePosition.23:value 0.0784313725490196
-    * jump *label228 equal *tmp471 false
+ 1308 jump *label226 lessThanEq :updatePosition.23:value :findBestPosition:best
+ 1309 jump *label228 greaterThanEq :updatePosition.23:value 0.0784313725490196
  1310 set :findBestPosition:bestX :updatePosition.23:dx
  1311 set :findBestPosition:bestY :updatePosition.23:dy
  1312 set :findBestPosition:best :updatePosition.23:value
 
  1320 set :updatePosition.24:dx 1.5
  1321 set :updatePosition.24:dy :updateRowPositionsEven.3:dy
  1322 set :updatePosition.24:value :updateRowPositionsEven.3:col4
-    * op greaterThan *tmp473 :updatePosition.24:value :findBestPosition:best
-    * jump *label231 equal *tmp473 false
-    * op lessThan *tmp475 :updatePosition.24:value 0.0784313725490196
-    * jump *label233 equal *tmp475 false
+ 1323 jump *label231 lessThanEq :updatePosition.24:value :findBestPosition:best
+ 1324 jump *label233 greaterThanEq :updatePosition.24:value 0.0784313725490196
  1325 set :findBestPosition:bestX :updatePosition.24:dx
  1326 set :findBestPosition:bestY :updatePosition.24:dy
  1327 set :findBestPosition:best :updatePosition.24:value

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-50 instructions):
 
   675 set :findBestPosition:bestX :updatePosition:dx
   676 set :findBestPosition:bestY :updatePosition:dy
   677 set :findBestPosition:best :updatePosition:value
-    * jump *label82 always
   678 label *label81
   679 label *label82
-    * jump *label80 always
   680 label *label79
   681 label *label80
   682 label *label78
 
   688 set :findBestPosition:bestX :updatePosition.1:dx
   689 set :findBestPosition:bestY :updatePosition.1:dy
   690 set :findBestPosition:best :updatePosition.1:value
-    * jump *label87 always
   691 label *label86
   692 label *label87
-    * jump *label85 always
   693 label *label84
   694 label *label85
   695 label *label83
 
   701 set :findBestPosition:bestX :updatePosition.2:dx
   702 set :findBestPosition:bestY :updatePosition.2:dy
   703 set :findBestPosition:best :updatePosition.2:value
-    * jump *label92 always
   704 label *label91
   705 label *label92
-    * jump *label90 always
   706 label *label89
   707 label *label90
   708 label *label88
 
   718 set :findBestPosition:bestX :updatePosition.3:dx
   719 set :findBestPosition:bestY :updatePosition.3:dy
   720 set :findBestPosition:best :updatePosition.3:value
-    * jump *label98 always
   721 label *label97
   722 label *label98
-    * jump *label96 always
   723 label *label95
   724 label *label96
   725 label *label94
 
   731 set :findBestPosition:bestX :updatePosition.4:dx
   732 set :findBestPosition:bestY :updatePosition.4:dy
   733 set :findBestPosition:best :updatePosition.4:value
-    * jump *label103 always
   734 label *label102
   735 label *label103
-    * jump *label101 always
   736 label *label100
   737 label *label101
   738 label *label99
 
   744 set :findBestPosition:bestX :updatePosition.5:dx
   745 set :findBestPosition:bestY :updatePosition.5:dy
   746 set :findBestPosition:best :updatePosition.5:value
-    * jump *label108 always
   747 label *label107
   748 label *label108
-    * jump *label106 always
   749 label *label105
   750 label *label106
   751 label *label104
 
   761 set :findBestPosition:bestX :updatePosition.6:dx
   762 set :findBestPosition:bestY :updatePosition.6:dy
   763 set :findBestPosition:best :updatePosition.6:value
-    * jump *label114 always
   764 label *label113
   765 label *label114
-    * jump *label112 always
   766 label *label111
   767 label *label112
   768 label *label110
 
   774 set :findBestPosition:bestX :updatePosition.7:dx
   775 set :findBestPosition:bestY :updatePosition.7:dy
   776 set :findBestPosition:best :updatePosition.7:value
-    * jump *label119 always
   777 label *label118
   778 label *label119
-    * jump *label117 always
   779 label *label116
   780 label *label117
   781 label *label115
 
   787 set :findBestPosition:bestX :updatePosition.8:dx
   788 set :findBestPosition:bestY :updatePosition.8:dy
   789 set :findBestPosition:best :updatePosition.8:value
-    * jump *label124 always
   790 label *label123
   791 label *label124
-    * jump *label122 always
   792 label *label121
   793 label *label122
   794 label *label120
 
  1070 set :findBestPosition:bestX :updatePosition.9:dx
  1071 set :findBestPosition:bestY :updatePosition.9:dy
  1072 set :findBestPosition:best :updatePosition.9:value
-    * jump *label156 always
  1073 label *label155
  1074 label *label156
-    * jump *label154 always
  1075 label *label153
  1076 label *label154
  1077 label *label152
 
  1083 set :findBestPosition:bestX :updatePosition.10:dx
  1084 set :findBestPosition:bestY :updatePosition.10:dy
  1085 set :findBestPosition:best :updatePosition.10:value
-    * jump *label161 always
  1086 label *label160
  1087 label *label161
-    * jump *label159 always
  1088 label *label158
  1089 label *label159
  1090 label *label157
 
  1096 set :findBestPosition:bestX :updatePosition.11:dx
  1097 set :findBestPosition:bestY :updatePosition.11:dy
  1098 set :findBestPosition:best :updatePosition.11:value
-    * jump *label166 always
  1099 label *label165
  1100 label *label166
-    * jump *label164 always
  1101 label *label163
  1102 label *label164
  1103 label *label162
 
  1109 set :findBestPosition:bestX :updatePosition.12:dx
  1110 set :findBestPosition:bestY :updatePosition.12:dy
  1111 set :findBestPosition:best :updatePosition.12:value
-    * jump *label171 always
  1112 label *label170
  1113 label *label171
-    * jump *label169 always
  1114 label *label168
  1115 label *label169
  1116 label *label167
 
  1126 set :findBestPosition:bestX :updatePosition.13:dx
  1127 set :findBestPosition:bestY :updatePosition.13:dy
  1128 set :findBestPosition:best :updatePosition.13:value
-    * jump *label177 always
  1129 label *label176
  1130 label *label177
-    * jump *label175 always
  1131 label *label174
  1132 label *label175
  1133 label *label173
 
  1139 set :findBestPosition:bestX :updatePosition.14:dx
  1140 set :findBestPosition:bestY :updatePosition.14:dy
  1141 set :findBestPosition:best :updatePosition.14:value
-    * jump *label182 always
  1142 label *label181
  1143 label *label182
-    * jump *label180 always
  1144 label *label179
  1145 label *label180
  1146 label *label178
 
  1152 set :findBestPosition:bestX :updatePosition.15:dx
  1153 set :findBestPosition:bestY :updatePosition.15:dy
  1154 set :findBestPosition:best :updatePosition.15:value
-    * jump *label187 always
  1155 label *label186
  1156 label *label187
-    * jump *label185 always
  1157 label *label184
  1158 label *label185
  1159 label *label183
 
  1165 set :findBestPosition:bestX :updatePosition.16:dx
  1166 set :findBestPosition:bestY :updatePosition.16:dy
  1167 set :findBestPosition:best :updatePosition.16:value
-    * jump *label192 always
  1168 label *label191
  1169 label *label192
-    * jump *label190 always
  1170 label *label189
  1171 label *label190
  1172 label *label188
 
  1182 set :findBestPosition:bestX :updatePosition.17:dx
  1183 set :findBestPosition:bestY :updatePosition.17:dy
  1184 set :findBestPosition:best :updatePosition.17:value
-    * jump *label198 always
  1185 label *label197
  1186 label *label198
-    * jump *label196 always
  1187 label *label195
  1188 label *label196
  1189 label *label194
 
  1195 set :findBestPosition:bestX :updatePosition.18:dx
  1196 set :findBestPosition:bestY :updatePosition.18:dy
  1197 set :findBestPosition:best :updatePosition.18:value
-    * jump *label203 always
  1198 label *label202
  1199 label *label203
-    * jump *label201 always
  1200 label *label200
  1201 label *label201
  1202 label *label199
 
  1208 set :findBestPosition:bestX :updatePosition.19:dx
  1209 set :findBestPosition:bestY :updatePosition.19:dy
  1210 set :findBestPosition:best :updatePosition.19:value
-    * jump *label208 always
  1211 label *label207
  1212 label *label208
-    * jump *label206 always
  1213 label *label205
  1214 label *label206
  1215 label *label204
 
  1221 set :findBestPosition:bestX :updatePosition.20:dx
  1222 set :findBestPosition:bestY :updatePosition.20:dy
  1223 set :findBestPosition:best :updatePosition.20:value
-    * jump *label213 always
  1224 label *label212
  1225 label *label213
-    * jump *label211 always
  1226 label *label210
  1227 label *label211
  1228 label *label209
 
  1238 set :findBestPosition:bestX :updatePosition.21:dx
  1239 set :findBestPosition:bestY :updatePosition.21:dy
  1240 set :findBestPosition:best :updatePosition.21:value
-    * jump *label219 always
  1241 label *label218
  1242 label *label219
-    * jump *label217 always
  1243 label *label216
  1244 label *label217
  1245 label *label215
 
  1251 set :findBestPosition:bestX :updatePosition.22:dx
  1252 set :findBestPosition:bestY :updatePosition.22:dy
  1253 set :findBestPosition:best :updatePosition.22:value
-    * jump *label224 always
  1254 label *label223
  1255 label *label224
-    * jump *label222 always
  1256 label *label221
  1257 label *label222
  1258 label *label220
 
  1264 set :findBestPosition:bestX :updatePosition.23:dx
  1265 set :findBestPosition:bestY :updatePosition.23:dy
  1266 set :findBestPosition:best :updatePosition.23:value
-    * jump *label229 always
  1267 label *label228
  1268 label *label229
-    * jump *label227 always
  1269 label *label226
  1270 label *label227
  1271 label *label225
 
  1277 set :findBestPosition:bestX :updatePosition.24:dx
  1278 set :findBestPosition:bestY :updatePosition.24:dy
  1279 set :findBestPosition:best :updatePosition.24:value
-    * jump *label234 always
  1280 label *label233
  1281 label *label234
-    * jump *label232 always
  1282 label *label231
  1283 label *label232
  1284 label *label230

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1:
 
    69 set *tmp10 :tileValue.1:result
    70 label *label17
    71 set :computeRowValues:x2 *tmp10
-    * op add :tileValue.2:x :computeRowValues:x 0
+   72 set :tileValue.2:x :computeRowValues:x
    73 set :tileValue.2:y :computeRowValues:y
    74 set :tileValue.2:ore :computeRowValues:ore
    75 ucontrol getBlock :tileValue.2:x :tileValue.2:y type building floor
 
   191 set *tmp59 :tileValue.8:result
   192 label *label29
   193 set :computeRowValues.1:x2 *tmp59
-    * op add :tileValue.9:x :computeRowValues.1:x 0
+  194 set :tileValue.9:x :computeRowValues.1:x
   195 set :tileValue.9:y :computeRowValues.1:y
   196 set :tileValue.9:ore :computeRowValues.1:ore
   197 ucontrol getBlock :tileValue.9:x :tileValue.9:y type building floor
 
   288 set *tmp55 *tmp67
   289 label *label27
   290 set :findBestPosition:y2 *tmp55
-    * op add *tmp103 :findBestPosition:y 0
+  291 set *tmp103 :findBestPosition:y
   292 set :computeRowValues.2:x :findBestPosition:x
   293 set :computeRowValues.2:y *tmp103
   294 set :computeRowValues.2:ore :findBestPosition:ore
 
   313 set *tmp108 :tileValue.15:result
   314 label *label41
   315 set :computeRowValues.2:x2 *tmp108
-    * op add :tileValue.16:x :computeRowValues.2:x 0
+  316 set :tileValue.16:x :computeRowValues.2:x
   317 set :tileValue.16:y :computeRowValues.2:y
   318 set :tileValue.16:ore :computeRowValues.2:ore
   319 ucontrol getBlock :tileValue.16:x :tileValue.16:y type building floor
 
   435 set *tmp157 :tileValue.22:result
   436 label *label53
   437 set :computeRowValues.3:x2 *tmp157
-    * op add :tileValue.23:x :computeRowValues.3:x 0
+  438 set :tileValue.23:x :computeRowValues.3:x
   439 set :tileValue.23:y :computeRowValues.3:y
   440 set :tileValue.23:ore :computeRowValues.3:ore
   441 ucontrol getBlock :tileValue.23:x :tileValue.23:y type building floor
 
   557 set *tmp206 :tileValue.29:result
   558 label *label65
   559 set :computeRowValues.4:x2 *tmp206
-    * op add :tileValue.30:x :computeRowValues.4:x 0
+  560 set :tileValue.30:x :computeRowValues.4:x
   561 set :tileValue.30:y :computeRowValues.4:y
   562 set :tileValue.30:ore :computeRowValues.4:ore
   563 ucontrol getBlock :tileValue.30:x :tileValue.30:y type building floor
 
   827 set *tmp308 :tileValue.36:result
   828 label *label129
   829 set :computeRowValues.5:x2 *tmp308
-    * op add :tileValue.37:x :computeRowValues.5:x 0
+  830 set :tileValue.37:x :computeRowValues.5:x
   831 set :tileValue.37:y :computeRowValues.5:y
   832 set :tileValue.37:ore :computeRowValues.5:ore
   833 ucontrol getBlock :tileValue.37:x :tileValue.37:y type building floor
 
   949 set *tmp357 :tileValue.43:result
   950 label *label141
   951 set :computeRowValues.6:x2 *tmp357
-    * op add :tileValue.44:x :computeRowValues.6:x 0
+  952 set :tileValue.44:x :computeRowValues.6:x
   953 set :tileValue.44:y :computeRowValues.6:y
   954 set :tileValue.44:ore :computeRowValues.6:ore
   955 ucontrol getBlock :tileValue.44:x :tileValue.44:y type building floor

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-23 instructions):
 
    21 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
    22 set :isSolid:x *tmp1
    23 set :isSolid:y *tmp2
-    * ucontrol getBlock :isSolid:x :isSolid:y type building floor
+   24 ucontrol getBlock *tmp1 *tmp2 type building floor
    25 sensor solid type @solid
    26 select :isSolid:result notEqual solid false 1 0
    27 set *tmp3 :isSolid:result
    28 label *label13
-    * op or :createTerrainMask:result *tmp0 *tmp3
+   29 op or :createTerrainMask:result *tmp0 :isSolid:result
    30 label *label11
    31 op sub :createTerrainMask:c :createTerrainMask:c 1
    32 jump *label10 always
 
    37 label *label9
    38 set :createTerrainMask*retval :createTerrainMask:result
    39 jump *label6 always
-    * set :createTerrainMask*retval null
    40 label *label6
    41 set :createTerrainMask*finished true
    42 jump *label5 always
 
    48 set :computeRowValues:y *tmp5
    49 set :computeRowValues:ore :findBestPosition:ore
    50 set :computeRowValues:size :findBestPosition:size
-    * op sub :tileValue:x :computeRowValues:x 2
-    * set :tileValue:y :computeRowValues:y
-    * set :tileValue:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue:x :tileValue:y type building floor
-    * select value equal floor :tileValue:ore 0.00392156862745098 0
+   51 op sub :tileValue:x :findBestPosition:x 2
+   52 set :tileValue:y *tmp5
+   53 set :tileValue:ore :findBestPosition:ore
+   54 ucontrol getBlock :tileValue:x :computeRowValues:y type building floor
+   55 select value equal floor :computeRowValues:ore 0.00392156862745098 0
    56 sensor solid type @solid
    57 select :tileValue:result notEqual solid false 0.09803921568627451 value
    58 set *tmp8 :tileValue:result
    59 label *label16
-    * set :computeRowValues:x1 *tmp8
-    * op sub :tileValue.1:x :computeRowValues:x 1
-    * set :tileValue.1:y :computeRowValues:y
-    * set :tileValue.1:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue.1:x :tileValue.1:y type building floor
-    * select value equal floor :tileValue.1:ore 0.00392156862745098 0
+   60 set :computeRowValues:x1 :tileValue:result
+   61 op sub :tileValue.1:x :findBestPosition:x 1
+   62 set :tileValue.1:y *tmp5
+   63 set :tileValue.1:ore :findBestPosition:ore
+   64 ucontrol getBlock :tileValue.1:x :computeRowValues:y type building floor
+   65 select value equal floor :computeRowValues:ore 0.00392156862745098 0
    66 sensor solid type @solid
    67 select :tileValue.1:result notEqual solid false 0.09803921568627451 value
    68 set *tmp10 :tileValue.1:result
    69 label *label17
-    * set :computeRowValues:x2 *tmp10
-    * set :tileValue.2:x :computeRowValues:x
-    * set :tileValue.2:y :computeRowValues:y
-    * set :tileValue.2:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue.2:x :tileValue.2:y type building floor
-    * select value equal floor :tileValue.2:ore 0.00392156862745098 0
+   70 set :computeRowValues:x2 :tileValue.1:result
+   71 set :tileValue.2:x :findBestPosition:x
+   72 set :tileValue.2:y *tmp5
+   73 set :tileValue.2:ore :findBestPosition:ore
+   74 ucontrol getBlock :computeRowValues:x :computeRowValues:y type building floor
+   75 select value equal floor :computeRowValues:ore 0.00392156862745098 0
    76 sensor solid type @solid
    77 select :tileValue.2:result notEqual solid false 0.09803921568627451 value
    78 set *tmp12 :tileValue.2:result
    79 label *label18
-    * set :computeRowValues:x3 *tmp12
-    * op add :tileValue.3:x :computeRowValues:x 1
-    * set :tileValue.3:y :computeRowValues:y
-    * set :tileValue.3:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue.3:x :tileValue.3:y type building floor
-    * select value equal floor :tileValue.3:ore 0.00392156862745098 0
+   80 set :computeRowValues:x3 :tileValue.2:result
+   81 op add :tileValue.3:x :findBestPosition:x 1
+   82 set :tileValue.3:y *tmp5
+   83 set :tileValue.3:ore :findBestPosition:ore
+   84 ucontrol getBlock :tileValue.3:x :computeRowValues:y type building floor
+   85 select value equal floor :computeRowValues:ore 0.00392156862745098 0
    86 sensor solid type @solid
    87 select :tileValue.3:result notEqual solid false 0.09803921568627451 value
    88 set *tmp14 :tileValue.3:result
    89 label *label19
-    * set :computeRowValues:x4 *tmp14
-    * op add :tileValue.4:x :computeRowValues:x 2
-    * set :tileValue.4:y :computeRowValues:y
-    * set :tileValue.4:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue.4:x :tileValue.4:y type building floor
-    * select value equal floor :tileValue.4:ore 0.00392156862745098 0
+   90 set :computeRowValues:x4 :tileValue.3:result
+   91 op add :tileValue.4:x :findBestPosition:x 2
+   92 set :tileValue.4:y *tmp5
+   93 set :tileValue.4:ore :findBestPosition:ore
+   94 ucontrol getBlock :tileValue.4:x :computeRowValues:y type building floor
+   95 select value equal floor :computeRowValues:ore 0.00392156862745098 0
    96 sensor solid type @solid
    97 select :tileValue.4:result notEqual solid false 0.09803921568627451 value
    98 set *tmp16 :tileValue.4:result
    99 label *label20
-    * set :computeRowValues:x5 *tmp16
-    * jump *label21 notEqual :computeRowValues:size 2
-    * op add *tmp19 :computeRowValues:x1 :computeRowValues:x2
-    * op add *tmp20 :computeRowValues:x2 :computeRowValues:x3
-    * op add *tmp21 :computeRowValues:x3 :computeRowValues:x4
-    * op add *tmp22 :computeRowValues:x4 :computeRowValues:x5
+  100 set :computeRowValues:x5 :tileValue.4:result
+  101 jump *label21 notEqual :findBestPosition:size 2
+  102 op add *tmp19 *tmp8 *tmp10
+  103 op add *tmp20 *tmp10 *tmp12
+  104 op add *tmp21 *tmp12 *tmp14
+  105 op add *tmp22 *tmp14 *tmp16
   106 packcolor *tmp6 *tmp19 *tmp20 *tmp21 *tmp22
   107 jump *label15 always
-    * set *tmp18 null
   108 jump *label22 always
   109 label *label21
-    * jump *label23 notEqual :computeRowValues:size 3
-    * op add *tmp26 :computeRowValues:x2 :computeRowValues:x3
-    * op add *tmp27 :computeRowValues:x1 *tmp26
-    * op add *tmp28 :computeRowValues:x2 :computeRowValues:x3
-    * op add *tmp29 *tmp28 :computeRowValues:x4
-    * op add *tmp30 :computeRowValues:x3 :computeRowValues:x4
-    * op add *tmp31 *tmp30 :computeRowValues:x5
+  110 jump *label23 notEqual :findBestPosition:size 3
+  111 op add *tmp26 *tmp10 *tmp12
+  112 op add *tmp27 *tmp8 *tmp26
+  113 op add *tmp28 *tmp10 *tmp12
+  114 op add *tmp29 *tmp26 *tmp14
+  115 op add *tmp30 *tmp12 *tmp14
+  116 op add *tmp31 *tmp30 *tmp16
   117 packcolor *tmp6 *tmp27 *tmp29 *tmp31 0
   118 jump *label15 always
-    * set *tmp25 null
   119 jump *label24 always
   120 label *label23
-    * op sub :tileValue.5:x :computeRowValues:x 3
-    * set :tileValue.5:y :computeRowValues:y
-    * set :tileValue.5:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue.5:x :tileValue.5:y type building floor
-    * select value equal floor :tileValue.5:ore 0.00392156862745098 0
+  121 op sub :tileValue.5:x :findBestPosition:x 3
+  122 set :tileValue.5:y *tmp5
+  123 set :tileValue.5:ore :findBestPosition:ore
+  124 ucontrol getBlock :tileValue.5:x :computeRowValues:y type building floor
+  125 select value equal floor :computeRowValues:ore 0.00392156862745098 0
   126 sensor solid type @solid
   127 select :tileValue.5:result notEqual solid false 0.09803921568627451 value
   128 set *tmp34 :tileValue.5:result
   129 label *label25
-    * set :computeRowValues:x0 *tmp34
-    * op add :tileValue.6:x :computeRowValues:x 3
-    * set :tileValue.6:y :computeRowValues:y
-    * set :tileValue.6:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue.6:x :tileValue.6:y type building floor
-    * select value equal floor :tileValue.6:ore 0.00392156862745098 0
+  130 set :computeRowValues:x0 :tileValue.5:result
+  131 op add :tileValue.6:x :findBestPosition:x 3
+  132 set :tileValue.6:y *tmp5
+  133 set :tileValue.6:ore :findBestPosition:ore
+  134 ucontrol getBlock :tileValue.6:x :computeRowValues:y type building floor
+  135 select value equal floor :computeRowValues:ore 0.00392156862745098 0
   136 sensor solid type @solid
   137 select :tileValue.6:result notEqual solid false 0.09803921568627451 value
   138 set *tmp36 :tileValue.6:result
   139 label *label26
-    * set :computeRowValues:x6 *tmp36
-    * op add *tmp37 :computeRowValues:x1 :computeRowValues:x2
-    * op add *tmp38 *tmp37 :computeRowValues:x3
-    * op add *tmp39 :computeRowValues:x0 *tmp38
+  140 set :computeRowValues:x6 :tileValue.6:result
+  141 op add *tmp37 *tmp8 *tmp10
+  142 op add *tmp38 *tmp37 *tmp12
+  143 op add *tmp39 *tmp34 *tmp38
   144 op min *tmp40 0.09803921568627451 *tmp39
-    * op add *tmp41 :computeRowValues:x1 :computeRowValues:x2
-    * op add *tmp42 *tmp41 :computeRowValues:x3
-    * op add *tmp43 *tmp42 :computeRowValues:x4
+  145 op add *tmp41 *tmp8 *tmp10
+  146 op add *tmp42 *tmp37 *tmp12
+  147 op add *tmp43 *tmp38 *tmp14
   148 op min *tmp44 0.09803921568627451 *tmp43
-    * op add *tmp45 :computeRowValues:x3 :computeRowValues:x4
-    * op add *tmp46 *tmp45 :computeRowValues:x5
-    * op add *tmp47 :computeRowValues:x2 *tmp46
+  149 op add *tmp45 *tmp12 *tmp14
+  150 op add *tmp46 *tmp45 *tmp16
+  151 op add *tmp47 *tmp10 *tmp46
   152 op min *tmp48 0.09803921568627451 *tmp47
-    * op add *tmp49 :computeRowValues:x3 :computeRowValues:x4
-    * op add *tmp50 *tmp49 :computeRowValues:x5
-    * op add *tmp51 *tmp50 :computeRowValues:x6
+  153 op add *tmp49 *tmp12 *tmp14
+  154 op add *tmp50 *tmp45 *tmp16
+  155 op add *tmp51 *tmp46 *tmp36
   156 op min *tmp52 0.09803921568627451 *tmp51
   157 packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52
   158 jump *label15 always
-    * set *tmp25 null
   159 label *label24
-    * set *tmp18 *tmp25
+  160 set *tmp18 null
   161 label *label22
-    * set *tmp6 *tmp18
+  162 set *tmp6 null
   163 label *label15
   164 set :findBestPosition:y1 *tmp6
   165 op sub *tmp54 :findBestPosition:y 1
 
   167 set :computeRowValues.1:y *tmp54
   168 set :computeRowValues.1:ore :findBestPosition:ore
   169 set :computeRowValues.1:size :findBestPosition:size
-    * op sub :tileValue.7:x :computeRowValues.1:x 2
-    * set :tileValue.7:y :computeRowValues.1:y
-    * set :tileValue.7:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.7:x :tileValue.7:y type building floor
-    * select value equal floor :tileValue.7:ore 0.00392156862745098 0
+  170 op sub :tileValue.7:x :findBestPosition:x 2
+  171 set :tileValue.7:y *tmp54
+  172 set :tileValue.7:ore :findBestPosition:ore
+  173 ucontrol getBlock :tileValue:x :computeRowValues.1:y type building floor
+  174 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   175 sensor solid type @solid
   176 select :tileValue.7:result notEqual solid false 0.09803921568627451 value
   177 set *tmp57 :tileValue.7:result
   178 label *label28
-    * set :computeRowValues.1:x1 *tmp57
-    * op sub :tileValue.8:x :computeRowValues.1:x 1
-    * set :tileValue.8:y :computeRowValues.1:y
-    * set :tileValue.8:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.8:x :tileValue.8:y type building floor
-    * select value equal floor :tileValue.8:ore 0.00392156862745098 0
+  179 set :computeRowValues.1:x1 :tileValue.7:result
+  180 op sub :tileValue.8:x :findBestPosition:x 1
+  181 set :tileValue.8:y *tmp54
+  182 set :tileValue.8:ore :findBestPosition:ore
+  183 ucontrol getBlock :tileValue.1:x :computeRowValues.1:y type building floor
+  184 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   185 sensor solid type @solid
   186 select :tileValue.8:result notEqual solid false 0.09803921568627451 value
   187 set *tmp59 :tileValue.8:result
   188 label *label29
-    * set :computeRowValues.1:x2 *tmp59
-    * set :tileValue.9:x :computeRowValues.1:x
-    * set :tileValue.9:y :computeRowValues.1:y
-    * set :tileValue.9:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.9:x :tileValue.9:y type building floor
-    * select value equal floor :tileValue.9:ore 0.00392156862745098 0
+  189 set :computeRowValues.1:x2 :tileValue.8:result
+  190 set :tileValue.9:x :findBestPosition:x
+  191 set :tileValue.9:y *tmp54
+  192 set :tileValue.9:ore :findBestPosition:ore
+  193 ucontrol getBlock :computeRowValues.1:x :computeRowValues.1:y type building floor
+  194 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   195 sensor solid type @solid
   196 select :tileValue.9:result notEqual solid false 0.09803921568627451 value
   197 set *tmp61 :tileValue.9:result
   198 label *label30
-    * set :computeRowValues.1:x3 *tmp61
-    * op add :tileValue.10:x :computeRowValues.1:x 1
-    * set :tileValue.10:y :computeRowValues.1:y
-    * set :tileValue.10:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.10:x :tileValue.10:y type building floor
-    * select value equal floor :tileValue.10:ore 0.00392156862745098 0
+  199 set :computeRowValues.1:x3 :tileValue.9:result
+  200 op add :tileValue.10:x :findBestPosition:x 1
+  201 set :tileValue.10:y *tmp54
+  202 set :tileValue.10:ore :findBestPosition:ore
+  203 ucontrol getBlock :tileValue.3:x :computeRowValues.1:y type building floor
+  204 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   205 sensor solid type @solid
   206 select :tileValue.10:result notEqual solid false 0.09803921568627451 value
   207 set *tmp63 :tileValue.10:result
   208 label *label31
-    * set :computeRowValues.1:x4 *tmp63
-    * op add :tileValue.11:x :computeRowValues.1:x 2
-    * set :tileValue.11:y :computeRowValues.1:y
-    * set :tileValue.11:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.11:x :tileValue.11:y type building floor
-    * select value equal floor :tileValue.11:ore 0.00392156862745098 0
+  209 set :computeRowValues.1:x4 :tileValue.10:result
+  210 op add :tileValue.11:x :findBestPosition:x 2
+  211 set :tileValue.11:y *tmp54
+  212 set :tileValue.11:ore :findBestPosition:ore
+  213 ucontrol getBlock :tileValue.4:x :computeRowValues.1:y type building floor
+  214 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   215 sensor solid type @solid
   216 select :tileValue.11:result notEqual solid false 0.09803921568627451 value
   217 set *tmp65 :tileValue.11:result
   218 label *label32
-    * set :computeRowValues.1:x5 *tmp65
-    * jump *label33 notEqual :computeRowValues.1:size 2
-    * op add *tmp68 :computeRowValues.1:x1 :computeRowValues.1:x2
-    * op add *tmp69 :computeRowValues.1:x2 :computeRowValues.1:x3
-    * op add *tmp70 :computeRowValues.1:x3 :computeRowValues.1:x4
-    * op add *tmp71 :computeRowValues.1:x4 :computeRowValues.1:x5
+  219 set :computeRowValues.1:x5 :tileValue.11:result
+  220 jump *label33 notEqual :findBestPosition:size 2
+  221 op add *tmp68 *tmp57 *tmp59
+  222 op add *tmp69 *tmp59 *tmp61
+  223 op add *tmp70 *tmp61 *tmp63
+  224 op add *tmp71 *tmp63 *tmp65
   225 packcolor *tmp55 *tmp68 *tmp69 *tmp70 *tmp71
   226 jump *label27 always
-    * set *tmp67 null
   227 jump *label34 always
   228 label *label33
-    * jump *label35 notEqual :computeRowValues.1:size 3
-    * op add *tmp75 :computeRowValues.1:x2 :computeRowValues.1:x3
-    * op add *tmp76 :computeRowValues.1:x1 *tmp75
-    * op add *tmp77 :computeRowValues.1:x2 :computeRowValues.1:x3
-    * op add *tmp78 *tmp77 :computeRowValues.1:x4
-    * op add *tmp79 :computeRowValues.1:x3 :computeRowValues.1:x4
-    * op add *tmp80 *tmp79 :computeRowValues.1:x5
+  229 jump *label35 notEqual :findBestPosition:size 3
+  230 op add *tmp75 *tmp59 *tmp61
+  231 op add *tmp76 *tmp57 *tmp75
+  232 op add *tmp77 *tmp59 *tmp61
+  233 op add *tmp78 *tmp75 *tmp63
+  234 op add *tmp79 *tmp61 *tmp63
+  235 op add *tmp80 *tmp79 *tmp65
   236 packcolor *tmp55 *tmp76 *tmp78 *tmp80 0
   237 jump *label27 always
-    * set *tmp74 null
   238 jump *label36 always
   239 label *label35
-    * op sub :tileValue.12:x :computeRowValues.1:x 3
-    * set :tileValue.12:y :computeRowValues.1:y
-    * set :tileValue.12:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.12:x :tileValue.12:y type building floor
-    * select value equal floor :tileValue.12:ore 0.00392156862745098 0
+  240 op sub :tileValue.12:x :findBestPosition:x 3
+  241 set :tileValue.12:y *tmp54
+  242 set :tileValue.12:ore :findBestPosition:ore
+  243 ucontrol getBlock :tileValue.12:x :computeRowValues.1:y type building floor
+  244 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   245 sensor solid type @solid
   246 select :tileValue.12:result notEqual solid false 0.09803921568627451 value
   247 set *tmp83 :tileValue.12:result
   248 label *label37
-    * set :computeRowValues.1:x0 *tmp83
-    * op add :tileValue.13:x :computeRowValues.1:x 3
-    * set :tileValue.13:y :computeRowValues.1:y
-    * set :tileValue.13:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.13:x :tileValue.13:y type building floor
-    * select value equal floor :tileValue.13:ore 0.00392156862745098 0
+  249 set :computeRowValues.1:x0 :tileValue.12:result
+  250 op add :tileValue.13:x :findBestPosition:x 3
+  251 set :tileValue.13:y *tmp54
+  252 set :tileValue.13:ore :findBestPosition:ore
+  253 ucontrol getBlock :tileValue.13:x :computeRowValues.1:y type building floor
+  254 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   255 sensor solid type @solid
   256 select :tileValue.13:result notEqual solid false 0.09803921568627451 value
   257 set *tmp85 :tileValue.13:result
   258 label *label38
-    * set :computeRowValues.1:x6 *tmp85
-    * op add *tmp86 :computeRowValues.1:x1 :computeRowValues.1:x2
-    * op add *tmp87 *tmp86 :computeRowValues.1:x3
-    * op add *tmp88 :computeRowValues.1:x0 *tmp87
+  259 set :computeRowValues.1:x6 :tileValue.13:result
+  260 op add *tmp86 *tmp57 *tmp59
+  261 op add *tmp87 *tmp86 *tmp61
+  262 op add *tmp88 *tmp83 *tmp87
   263 op min *tmp89 0.09803921568627451 *tmp88
-    * op add *tmp90 :computeRowValues.1:x1 :computeRowValues.1:x2
-    * op add *tmp91 *tmp90 :computeRowValues.1:x3
-    * op add *tmp92 *tmp91 :computeRowValues.1:x4
+  264 op add *tmp90 *tmp57 *tmp59
+  265 op add *tmp91 *tmp86 *tmp61
+  266 op add *tmp92 *tmp87 *tmp63
   267 op min *tmp93 0.09803921568627451 *tmp92
-    * op add *tmp94 :computeRowValues.1:x3 :computeRowValues.1:x4
-    * op add *tmp95 *tmp94 :computeRowValues.1:x5
-    * op add *tmp96 :computeRowValues.1:x2 *tmp95
+  268 op add *tmp94 *tmp61 *tmp63
+  269 op add *tmp95 *tmp94 *tmp65
+  270 op add *tmp96 *tmp59 *tmp95
   271 op min *tmp97 0.09803921568627451 *tmp96
-    * op add *tmp98 :computeRowValues.1:x3 :computeRowValues.1:x4
-    * op add *tmp99 *tmp98 :computeRowValues.1:x5
-    * op add *tmp100 *tmp99 :computeRowValues.1:x6
+  272 op add *tmp98 *tmp61 *tmp63
+  273 op add *tmp99 *tmp94 *tmp65
+  274 op add *tmp100 *tmp95 *tmp85
   275 op min *tmp101 0.09803921568627451 *tmp100
   276 packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101
   277 jump *label27 always
-    * set *tmp74 null
   278 label *label36
-    * set *tmp67 *tmp74
+  279 set *tmp67 null
   280 label *label34
-    * set *tmp55 *tmp67
+  281 set *tmp55 null
   282 label *label27
   283 set :findBestPosition:y2 *tmp55
   284 set *tmp103 :findBestPosition:y
   285 set :computeRowValues.2:x :findBestPosition:x
-    * set :computeRowValues.2:y *tmp103
+  286 set :computeRowValues.2:y :findBestPosition:y
   287 set :computeRowValues.2:ore :findBestPosition:ore
   288 set :computeRowValues.2:size :findBestPosition:size
-    * op sub :tileValue.14:x :computeRowValues.2:x 2
-    * set :tileValue.14:y :computeRowValues.2:y
-    * set :tileValue.14:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.14:x :tileValue.14:y type building floor
-    * select value equal floor :tileValue.14:ore 0.00392156862745098 0
+  289 op sub :tileValue.14:x :findBestPosition:x 2
+  290 set :tileValue.14:y *tmp103
+  291 set :tileValue.14:ore :findBestPosition:ore
+  292 ucontrol getBlock :tileValue:x :computeRowValues.2:y type building floor
+  293 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   294 sensor solid type @solid
   295 select :tileValue.14:result notEqual solid false 0.09803921568627451 value
   296 set *tmp106 :tileValue.14:result
   297 label *label40
-    * set :computeRowValues.2:x1 *tmp106
-    * op sub :tileValue.15:x :computeRowValues.2:x 1
-    * set :tileValue.15:y :computeRowValues.2:y
-    * set :tileValue.15:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.15:x :tileValue.15:y type building floor
-    * select value equal floor :tileValue.15:ore 0.00392156862745098 0
+  298 set :computeRowValues.2:x1 :tileValue.14:result
+  299 op sub :tileValue.15:x :findBestPosition:x 1
+  300 set :tileValue.15:y *tmp103
+  301 set :tileValue.15:ore :findBestPosition:ore
+  302 ucontrol getBlock :tileValue.1:x :computeRowValues.2:y type building floor
+  303 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   304 sensor solid type @solid
   305 select :tileValue.15:result notEqual solid false 0.09803921568627451 value
   306 set *tmp108 :tileValue.15:result
   307 label *label41
-    * set :computeRowValues.2:x2 *tmp108
-    * set :tileValue.16:x :computeRowValues.2:x
-    * set :tileValue.16:y :computeRowValues.2:y
-    * set :tileValue.16:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.16:x :tileValue.16:y type building floor
-    * select value equal floor :tileValue.16:ore 0.00392156862745098 0
+  308 set :computeRowValues.2:x2 :tileValue.15:result
+  309 set :tileValue.16:x :findBestPosition:x
+  310 set :tileValue.16:y *tmp103
+  311 set :tileValue.16:ore :findBestPosition:ore
+  312 ucontrol getBlock :computeRowValues.2:x :computeRowValues.2:y type building floor
+  313 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   314 sensor solid type @solid
   315 select :tileValue.16:result notEqual solid false 0.09803921568627451 value
   316 set *tmp110 :tileValue.16:result
   317 label *label42
-    * set :computeRowValues.2:x3 *tmp110
-    * op add :tileValue.17:x :computeRowValues.2:x 1
-    * set :tileValue.17:y :computeRowValues.2:y
-    * set :tileValue.17:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.17:x :tileValue.17:y type building floor
-    * select value equal floor :tileValue.17:ore 0.00392156862745098 0
+  318 set :computeRowValues.2:x3 :tileValue.16:result
+  319 op add :tileValue.17:x :findBestPosition:x 1
+  320 set :tileValue.17:y *tmp103
+  321 set :tileValue.17:ore :findBestPosition:ore
+  322 ucontrol getBlock :tileValue.3:x :computeRowValues.2:y type building floor
+  323 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   324 sensor solid type @solid
   325 select :tileValue.17:result notEqual solid false 0.09803921568627451 value
   326 set *tmp112 :tileValue.17:result
   327 label *label43
-    * set :computeRowValues.2:x4 *tmp112
-    * op add :tileValue.18:x :computeRowValues.2:x 2
-    * set :tileValue.18:y :computeRowValues.2:y
-    * set :tileValue.18:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.18:x :tileValue.18:y type building floor
-    * select value equal floor :tileValue.18:ore 0.00392156862745098 0
+  328 set :computeRowValues.2:x4 :tileValue.17:result
+  329 op add :tileValue.18:x :findBestPosition:x 2
+  330 set :tileValue.18:y *tmp103
+  331 set :tileValue.18:ore :findBestPosition:ore
+  332 ucontrol getBlock :tileValue.4:x :computeRowValues.2:y type building floor
+  333 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   334 sensor solid type @solid
   335 select :tileValue.18:result notEqual solid false 0.09803921568627451 value
   336 set *tmp114 :tileValue.18:result
   337 label *label44
-    * set :computeRowValues.2:x5 *tmp114
-    * jump *label45 notEqual :computeRowValues.2:size 2
-    * op add *tmp117 :computeRowValues.2:x1 :computeRowValues.2:x2
-    * op add *tmp118 :computeRowValues.2:x2 :computeRowValues.2:x3
-    * op add *tmp119 :computeRowValues.2:x3 :computeRowValues.2:x4
-    * op add *tmp120 :computeRowValues.2:x4 :computeRowValues.2:x5
+  338 set :computeRowValues.2:x5 :tileValue.18:result
+  339 jump *label45 notEqual :findBestPosition:size 2
+  340 op add *tmp117 *tmp106 *tmp108
+  341 op add *tmp118 *tmp108 *tmp110
+  342 op add *tmp119 *tmp110 *tmp112
+  343 op add *tmp120 *tmp112 *tmp114
   344 packcolor *tmp104 *tmp117 *tmp118 *tmp119 *tmp120
   345 jump *label39 always
-    * set *tmp116 null
   346 jump *label46 always
   347 label *label45
-    * jump *label47 notEqual :computeRowValues.2:size 3
-    * op add *tmp124 :computeRowValues.2:x2 :computeRowValues.2:x3
-    * op add *tmp125 :computeRowValues.2:x1 *tmp124
-    * op add *tmp126 :computeRowValues.2:x2 :computeRowValues.2:x3
-    * op add *tmp127 *tmp126 :computeRowValues.2:x4
-    * op add *tmp128 :computeRowValues.2:x3 :computeRowValues.2:x4
-    * op add *tmp129 *tmp128 :computeRowValues.2:x5
+  348 jump *label47 notEqual :findBestPosition:size 3
+  349 op add *tmp124 *tmp108 *tmp110
+  350 op add *tmp125 *tmp106 *tmp124
+  351 op add *tmp126 *tmp108 *tmp110
+  352 op add *tmp127 *tmp124 *tmp112
+  353 op add *tmp128 *tmp110 *tmp112
+  354 op add *tmp129 *tmp128 *tmp114
   355 packcolor *tmp104 *tmp125 *tmp127 *tmp129 0
   356 jump *label39 always
-    * set *tmp123 null
   357 jump *label48 always
   358 label *label47
-    * op sub :tileValue.19:x :computeRowValues.2:x 3
-    * set :tileValue.19:y :computeRowValues.2:y
-    * set :tileValue.19:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.19:x :tileValue.19:y type building floor
-    * select value equal floor :tileValue.19:ore 0.00392156862745098 0
+  359 op sub :tileValue.19:x :findBestPosition:x 3
+  360 set :tileValue.19:y *tmp103
+  361 set :tileValue.19:ore :findBestPosition:ore
+  362 ucontrol getBlock :tileValue.19:x :computeRowValues.2:y type building floor
+  363 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   364 sensor solid type @solid
   365 select :tileValue.19:result notEqual solid false 0.09803921568627451 value
   366 set *tmp132 :tileValue.19:result
   367 label *label49
-    * set :computeRowValues.2:x0 *tmp132
-    * op add :tileValue.20:x :computeRowValues.2:x 3
-    * set :tileValue.20:y :computeRowValues.2:y
-    * set :tileValue.20:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.20:x :tileValue.20:y type building floor
-    * select value equal floor :tileValue.20:ore 0.00392156862745098 0
+  368 set :computeRowValues.2:x0 :tileValue.19:result
+  369 op add :tileValue.20:x :findBestPosition:x 3
+  370 set :tileValue.20:y *tmp103
+  371 set :tileValue.20:ore :findBestPosition:ore
+  372 ucontrol getBlock :tileValue.20:x :computeRowValues.2:y type building floor
+  373 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   374 sensor solid type @solid
   375 select :tileValue.20:result notEqual solid false 0.09803921568627451 value
   376 set *tmp134 :tileValue.20:result
   377 label *label50
-    * set :computeRowValues.2:x6 *tmp134
-    * op add *tmp135 :computeRowValues.2:x1 :computeRowValues.2:x2
-    * op add *tmp136 *tmp135 :computeRowValues.2:x3
-    * op add *tmp137 :computeRowValues.2:x0 *tmp136
+  378 set :computeRowValues.2:x6 :tileValue.20:result
+  379 op add *tmp135 *tmp106 *tmp108
+  380 op add *tmp136 *tmp135 *tmp110
+  381 op add *tmp137 *tmp132 *tmp136
   382 op min *tmp138 0.09803921568627451 *tmp137
-    * op add *tmp139 :computeRowValues.2:x1 :computeRowValues.2:x2
-    * op add *tmp140 *tmp139 :computeRowValues.2:x3
-    * op add *tmp141 *tmp140 :computeRowValues.2:x4
+  383 op add *tmp139 *tmp106 *tmp108
+  384 op add *tmp140 *tmp135 *tmp110
+  385 op add *tmp141 *tmp136 *tmp112
   386 op min *tmp142 0.09803921568627451 *tmp141
-    * op add *tmp143 :computeRowValues.2:x3 :computeRowValues.2:x4
-    * op add *tmp144 *tmp143 :computeRowValues.2:x5
-    * op add *tmp145 :computeRowValues.2:x2 *tmp144
+  387 op add *tmp143 *tmp110 *tmp112
+  388 op add *tmp144 *tmp143 *tmp114
+  389 op add *tmp145 *tmp108 *tmp144
   390 op min *tmp146 0.09803921568627451 *tmp145
-    * op add *tmp147 :computeRowValues.2:x3 :computeRowValues.2:x4
-    * op add *tmp148 *tmp147 :computeRowValues.2:x5
-    * op add *tmp149 *tmp148 :computeRowValues.2:x6
+  391 op add *tmp147 *tmp110 *tmp112
+  392 op add *tmp148 *tmp143 *tmp114
+  393 op add *tmp149 *tmp144 *tmp134
   394 op min *tmp150 0.09803921568627451 *tmp149
   395 packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150
   396 jump *label39 always
-    * set *tmp123 null
   397 label *label48
-    * set *tmp116 *tmp123
+  398 set *tmp116 null
   399 label *label46
-    * set *tmp104 *tmp116
+  400 set *tmp104 null
   401 label *label39
   402 set :findBestPosition:y3 *tmp104
   403 op add *tmp152 :findBestPosition:y 1
 
   405 set :computeRowValues.3:y *tmp152
   406 set :computeRowValues.3:ore :findBestPosition:ore
   407 set :computeRowValues.3:size :findBestPosition:size
-    * op sub :tileValue.21:x :computeRowValues.3:x 2
-    * set :tileValue.21:y :computeRowValues.3:y
-    * set :tileValue.21:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.21:x :tileValue.21:y type building floor
-    * select value equal floor :tileValue.21:ore 0.00392156862745098 0
+  408 op sub :tileValue.21:x :findBestPosition:x 2
+  409 set :tileValue.21:y *tmp152
+  410 set :tileValue.21:ore :findBestPosition:ore
+  411 ucontrol getBlock :tileValue:x :computeRowValues.3:y type building floor
+  412 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   413 sensor solid type @solid
   414 select :tileValue.21:result notEqual solid false 0.09803921568627451 value
   415 set *tmp155 :tileValue.21:result
   416 label *label52
-    * set :computeRowValues.3:x1 *tmp155
-    * op sub :tileValue.22:x :computeRowValues.3:x 1
-    * set :tileValue.22:y :computeRowValues.3:y
-    * set :tileValue.22:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.22:x :tileValue.22:y type building floor
-    * select value equal floor :tileValue.22:ore 0.00392156862745098 0
+  417 set :computeRowValues.3:x1 :tileValue.21:result
+  418 op sub :tileValue.22:x :findBestPosition:x 1
+  419 set :tileValue.22:y *tmp152
+  420 set :tileValue.22:ore :findBestPosition:ore
+  421 ucontrol getBlock :tileValue.1:x :computeRowValues.3:y type building floor
+  422 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   423 sensor solid type @solid
   424 select :tileValue.22:result notEqual solid false 0.09803921568627451 value
   425 set *tmp157 :tileValue.22:result
   426 label *label53
-    * set :computeRowValues.3:x2 *tmp157
-    * set :tileValue.23:x :computeRowValues.3:x
-    * set :tileValue.23:y :computeRowValues.3:y
-    * set :tileValue.23:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.23:x :tileValue.23:y type building floor
-    * select value equal floor :tileValue.23:ore 0.00392156862745098 0
+  427 set :computeRowValues.3:x2 :tileValue.22:result
+  428 set :tileValue.23:x :findBestPosition:x
+  429 set :tileValue.23:y *tmp152
+  430 set :tileValue.23:ore :findBestPosition:ore
+  431 ucontrol getBlock :computeRowValues.3:x :computeRowValues.3:y type building floor
+  432 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   433 sensor solid type @solid
   434 select :tileValue.23:result notEqual solid false 0.09803921568627451 value
   435 set *tmp159 :tileValue.23:result
   436 label *label54
-    * set :computeRowValues.3:x3 *tmp159
-    * op add :tileValue.24:x :computeRowValues.3:x 1
-    * set :tileValue.24:y :computeRowValues.3:y
-    * set :tileValue.24:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.24:x :tileValue.24:y type building floor
-    * select value equal floor :tileValue.24:ore 0.00392156862745098 0
+  437 set :computeRowValues.3:x3 :tileValue.23:result
+  438 op add :tileValue.24:x :findBestPosition:x 1
+  439 set :tileValue.24:y *tmp152
+  440 set :tileValue.24:ore :findBestPosition:ore
+  441 ucontrol getBlock :tileValue.3:x :computeRowValues.3:y type building floor
+  442 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   443 sensor solid type @solid
   444 select :tileValue.24:result notEqual solid false 0.09803921568627451 value
   445 set *tmp161 :tileValue.24:result
   446 label *label55
-    * set :computeRowValues.3:x4 *tmp161
-    * op add :tileValue.25:x :computeRowValues.3:x 2
-    * set :tileValue.25:y :computeRowValues.3:y
-    * set :tileValue.25:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.25:x :tileValue.25:y type building floor
-    * select value equal floor :tileValue.25:ore 0.00392156862745098 0
+  447 set :computeRowValues.3:x4 :tileValue.24:result
+  448 op add :tileValue.25:x :findBestPosition:x 2
+  449 set :tileValue.25:y *tmp152
+  450 set :tileValue.25:ore :findBestPosition:ore
+  451 ucontrol getBlock :tileValue.4:x :computeRowValues.3:y type building floor
+  452 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   453 sensor solid type @solid
   454 select :tileValue.25:result notEqual solid false 0.09803921568627451 value
   455 set *tmp163 :tileValue.25:result
   456 label *label56
-    * set :computeRowValues.3:x5 *tmp163
-    * jump *label57 notEqual :computeRowValues.3:size 2
-    * op add *tmp166 :computeRowValues.3:x1 :computeRowValues.3:x2
-    * op add *tmp167 :computeRowValues.3:x2 :computeRowValues.3:x3
-    * op add *tmp168 :computeRowValues.3:x3 :computeRowValues.3:x4
-    * op add *tmp169 :computeRowValues.3:x4 :computeRowValues.3:x5
+  457 set :computeRowValues.3:x5 :tileValue.25:result
+  458 jump *label57 notEqual :findBestPosition:size 2
+  459 op add *tmp166 *tmp155 *tmp157
+  460 op add *tmp167 *tmp157 *tmp159
+  461 op add *tmp168 *tmp159 *tmp161
+  462 op add *tmp169 *tmp161 *tmp163
   463 packcolor *tmp153 *tmp166 *tmp167 *tmp168 *tmp169
   464 jump *label51 always
-    * set *tmp165 null
   465 jump *label58 always
   466 label *label57
-    * jump *label59 notEqual :computeRowValues.3:size 3
-    * op add *tmp173 :computeRowValues.3:x2 :computeRowValues.3:x3
-    * op add *tmp174 :computeRowValues.3:x1 *tmp173
-    * op add *tmp175 :computeRowValues.3:x2 :computeRowValues.3:x3
-    * op add *tmp176 *tmp175 :computeRowValues.3:x4
-    * op add *tmp177 :computeRowValues.3:x3 :computeRowValues.3:x4
-    * op add *tmp178 *tmp177 :computeRowValues.3:x5
+  467 jump *label59 notEqual :findBestPosition:size 3
+  468 op add *tmp173 *tmp157 *tmp159
+  469 op add *tmp174 *tmp155 *tmp173
+  470 op add *tmp175 *tmp157 *tmp159
+  471 op add *tmp176 *tmp173 *tmp161
+  472 op add *tmp177 *tmp159 *tmp161
+  473 op add *tmp178 *tmp177 *tmp163
   474 packcolor *tmp153 *tmp174 *tmp176 *tmp178 0
   475 jump *label51 always
-    * set *tmp172 null
   476 jump *label60 always
   477 label *label59
-    * op sub :tileValue.26:x :computeRowValues.3:x 3
-    * set :tileValue.26:y :computeRowValues.3:y
-    * set :tileValue.26:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.26:x :tileValue.26:y type building floor
-    * select value equal floor :tileValue.26:ore 0.00392156862745098 0
+  478 op sub :tileValue.26:x :findBestPosition:x 3
+  479 set :tileValue.26:y *tmp152
+  480 set :tileValue.26:ore :findBestPosition:ore
+  481 ucontrol getBlock :tileValue.26:x :computeRowValues.3:y type building floor
+  482 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   483 sensor solid type @solid
   484 select :tileValue.26:result notEqual solid false 0.09803921568627451 value
   485 set *tmp181 :tileValue.26:result
   486 label *label61
-    * set :computeRowValues.3:x0 *tmp181
-    * op add :tileValue.27:x :computeRowValues.3:x 3
-    * set :tileValue.27:y :computeRowValues.3:y
-    * set :tileValue.27:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.27:x :tileValue.27:y type building floor
-    * select value equal floor :tileValue.27:ore 0.00392156862745098 0
+  487 set :computeRowValues.3:x0 :tileValue.26:result
+  488 op add :tileValue.27:x :findBestPosition:x 3
+  489 set :tileValue.27:y *tmp152
+  490 set :tileValue.27:ore :findBestPosition:ore
+  491 ucontrol getBlock :tileValue.27:x :computeRowValues.3:y type building floor
+  492 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   493 sensor solid type @solid
   494 select :tileValue.27:result notEqual solid false 0.09803921568627451 value
   495 set *tmp183 :tileValue.27:result
   496 label *label62
-    * set :computeRowValues.3:x6 *tmp183
-    * op add *tmp184 :computeRowValues.3:x1 :computeRowValues.3:x2
-    * op add *tmp185 *tmp184 :computeRowValues.3:x3
-    * op add *tmp186 :computeRowValues.3:x0 *tmp185
+  497 set :computeRowValues.3:x6 :tileValue.27:result
+  498 op add *tmp184 *tmp155 *tmp157
+  499 op add *tmp185 *tmp184 *tmp159
+  500 op add *tmp186 *tmp181 *tmp185
   501 op min *tmp187 0.09803921568627451 *tmp186
-    * op add *tmp188 :computeRowValues.3:x1 :computeRowValues.3:x2
-    * op add *tmp189 *tmp188 :computeRowValues.3:x3
-    * op add *tmp190 *tmp189 :computeRowValues.3:x4
+  502 op add *tmp188 *tmp155 *tmp157
+  503 op add *tmp189 *tmp184 *tmp159
+  504 op add *tmp190 *tmp185 *tmp161
   505 op min *tmp191 0.09803921568627451 *tmp190
-    * op add *tmp192 :computeRowValues.3:x3 :computeRowValues.3:x4
-    * op add *tmp193 *tmp192 :computeRowValues.3:x5
-    * op add *tmp194 :computeRowValues.3:x2 *tmp193
+  506 op add *tmp192 *tmp159 *tmp161
+  507 op add *tmp193 *tmp192 *tmp163
+  508 op add *tmp194 *tmp157 *tmp193
   509 op min *tmp195 0.09803921568627451 *tmp194
-    * op add *tmp196 :computeRowValues.3:x3 :computeRowValues.3:x4
-    * op add *tmp197 *tmp196 :computeRowValues.3:x5
-    * op add *tmp198 *tmp197 :computeRowValues.3:x6
+  510 op add *tmp196 *tmp159 *tmp161
+  511 op add *tmp197 *tmp192 *tmp163
+  512 op add *tmp198 *tmp193 *tmp183
   513 op min *tmp199 0.09803921568627451 *tmp198
   514 packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199
   515 jump *label51 always
-    * set *tmp172 null
   516 label *label60
-    * set *tmp165 *tmp172
+  517 set *tmp165 null
   518 label *label58
-    * set *tmp153 *tmp165
+  519 set *tmp153 null
   520 label *label51
   521 set :findBestPosition:y4 *tmp153
   522 op add *tmp201 :findBestPosition:y 2
 
   524 set :computeRowValues.4:y *tmp201
   525 set :computeRowValues.4:ore :findBestPosition:ore
   526 set :computeRowValues.4:size :findBestPosition:size
-    * op sub :tileValue.28:x :computeRowValues.4:x 2
-    * set :tileValue.28:y :computeRowValues.4:y
-    * set :tileValue.28:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.28:x :tileValue.28:y type building floor
-    * select value equal floor :tileValue.28:ore 0.00392156862745098 0
+  527 op sub :tileValue.28:x :findBestPosition:x 2
+  528 set :tileValue.28:y *tmp201
+  529 set :tileValue.28:ore :findBestPosition:ore
+  530 ucontrol getBlock :tileValue:x :computeRowValues.4:y type building floor
+  531 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   532 sensor solid type @solid
   533 select :tileValue.28:result notEqual solid false 0.09803921568627451 value
   534 set *tmp204 :tileValue.28:result
   535 label *label64
-    * set :computeRowValues.4:x1 *tmp204
-    * op sub :tileValue.29:x :computeRowValues.4:x 1
-    * set :tileValue.29:y :computeRowValues.4:y
-    * set :tileValue.29:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.29:x :tileValue.29:y type building floor
-    * select value equal floor :tileValue.29:ore 0.00392156862745098 0
+  536 set :computeRowValues.4:x1 :tileValue.28:result
+  537 op sub :tileValue.29:x :findBestPosition:x 1
+  538 set :tileValue.29:y *tmp201
+  539 set :tileValue.29:ore :findBestPosition:ore
+  540 ucontrol getBlock :tileValue.1:x :computeRowValues.4:y type building floor
+  541 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   542 sensor solid type @solid
   543 select :tileValue.29:result notEqual solid false 0.09803921568627451 value
   544 set *tmp206 :tileValue.29:result
   545 label *label65
-    * set :computeRowValues.4:x2 *tmp206
-    * set :tileValue.30:x :computeRowValues.4:x
-    * set :tileValue.30:y :computeRowValues.4:y
-    * set :tileValue.30:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.30:x :tileValue.30:y type building floor
-    * select value equal floor :tileValue.30:ore 0.00392156862745098 0
+  546 set :computeRowValues.4:x2 :tileValue.29:result
+  547 set :tileValue.30:x :findBestPosition:x
+  548 set :tileValue.30:y *tmp201
+  549 set :tileValue.30:ore :findBestPosition:ore
+  550 ucontrol getBlock :computeRowValues.4:x :computeRowValues.4:y type building floor
+  551 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   552 sensor solid type @solid
   553 select :tileValue.30:result notEqual solid false 0.09803921568627451 value
   554 set *tmp208 :tileValue.30:result
   555 label *label66
-    * set :computeRowValues.4:x3 *tmp208
-    * op add :tileValue.31:x :computeRowValues.4:x 1
-    * set :tileValue.31:y :computeRowValues.4:y
-    * set :tileValue.31:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.31:x :tileValue.31:y type building floor
-    * select value equal floor :tileValue.31:ore 0.00392156862745098 0
+  556 set :computeRowValues.4:x3 :tileValue.30:result
+  557 op add :tileValue.31:x :findBestPosition:x 1
+  558 set :tileValue.31:y *tmp201
+  559 set :tileValue.31:ore :findBestPosition:ore
+  560 ucontrol getBlock :tileValue.3:x :computeRowValues.4:y type building floor
+  561 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   562 sensor solid type @solid
   563 select :tileValue.31:result notEqual solid false 0.09803921568627451 value
   564 set *tmp210 :tileValue.31:result
   565 label *label67
-    * set :computeRowValues.4:x4 *tmp210
-    * op add :tileValue.32:x :computeRowValues.4:x 2
-    * set :tileValue.32:y :computeRowValues.4:y
-    * set :tileValue.32:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.32:x :tileValue.32:y type building floor
-    * select value equal floor :tileValue.32:ore 0.00392156862745098 0
+  566 set :computeRowValues.4:x4 :tileValue.31:result
+  567 op add :tileValue.32:x :findBestPosition:x 2
+  568 set :tileValue.32:y *tmp201
+  569 set :tileValue.32:ore :findBestPosition:ore
+  570 ucontrol getBlock :tileValue.4:x :computeRowValues.4:y type building floor
+  571 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   572 sensor solid type @solid
   573 select :tileValue.32:result notEqual solid false 0.09803921568627451 value
   574 set *tmp212 :tileValue.32:result
   575 label *label68
-    * set :computeRowValues.4:x5 *tmp212
-    * jump *label69 notEqual :computeRowValues.4:size 2
-    * op add *tmp215 :computeRowValues.4:x1 :computeRowValues.4:x2
-    * op add *tmp216 :computeRowValues.4:x2 :computeRowValues.4:x3
-    * op add *tmp217 :computeRowValues.4:x3 :computeRowValues.4:x4
-    * op add *tmp218 :computeRowValues.4:x4 :computeRowValues.4:x5
+  576 set :computeRowValues.4:x5 :tileValue.32:result
+  577 jump *label69 notEqual :findBestPosition:size 2
+  578 op add *tmp215 *tmp204 *tmp206
+  579 op add *tmp216 *tmp206 *tmp208
+  580 op add *tmp217 *tmp208 *tmp210
+  581 op add *tmp218 *tmp210 *tmp212
   582 packcolor *tmp202 *tmp215 *tmp216 *tmp217 *tmp218
   583 jump *label63 always
-    * set *tmp214 null
   584 jump *label70 always
   585 label *label69
-    * jump *label71 notEqual :computeRowValues.4:size 3
-    * op add *tmp222 :computeRowValues.4:x2 :computeRowValues.4:x3
-    * op add *tmp223 :computeRowValues.4:x1 *tmp222
-    * op add *tmp224 :computeRowValues.4:x2 :computeRowValues.4:x3
-    * op add *tmp225 *tmp224 :computeRowValues.4:x4
-    * op add *tmp226 :computeRowValues.4:x3 :computeRowValues.4:x4
-    * op add *tmp227 *tmp226 :computeRowValues.4:x5
+  586 jump *label71 notEqual :findBestPosition:size 3
+  587 op add *tmp222 *tmp206 *tmp208
+  588 op add *tmp223 *tmp204 *tmp222
+  589 op add *tmp224 *tmp206 *tmp208
+  590 op add *tmp225 *tmp222 *tmp210
+  591 op add *tmp226 *tmp208 *tmp210
+  592 op add *tmp227 *tmp226 *tmp212
   593 packcolor *tmp202 *tmp223 *tmp225 *tmp227 0
   594 jump *label63 always
-    * set *tmp221 null
   595 jump *label72 always
   596 label *label71
-    * op sub :tileValue.33:x :computeRowValues.4:x 3
-    * set :tileValue.33:y :computeRowValues.4:y
-    * set :tileValue.33:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.33:x :tileValue.33:y type building floor
-    * select value equal floor :tileValue.33:ore 0.00392156862745098 0
+  597 op sub :tileValue.33:x :findBestPosition:x 3
+  598 set :tileValue.33:y *tmp201
+  599 set :tileValue.33:ore :findBestPosition:ore
+  600 ucontrol getBlock :tileValue.33:x :computeRowValues.4:y type building floor
+  601 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   602 sensor solid type @solid
   603 select :tileValue.33:result notEqual solid false 0.09803921568627451 value
   604 set *tmp230 :tileValue.33:result
   605 label *label73
-    * set :computeRowValues.4:x0 *tmp230
-    * op add :tileValue.34:x :computeRowValues.4:x 3
-    * set :tileValue.34:y :computeRowValues.4:y
-    * set :tileValue.34:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.34:x :tileValue.34:y type building floor
-    * select value equal floor :tileValue.34:ore 0.00392156862745098 0
+  606 set :computeRowValues.4:x0 :tileValue.33:result
+  607 op add :tileValue.34:x :findBestPosition:x 3
+  608 set :tileValue.34:y *tmp201
+  609 set :tileValue.34:ore :findBestPosition:ore
+  610 ucontrol getBlock :tileValue.34:x :computeRowValues.4:y type building floor
+  611 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   612 sensor solid type @solid
   613 select :tileValue.34:result notEqual solid false 0.09803921568627451 value
   614 set *tmp232 :tileValue.34:result
   615 label *label74
-    * set :computeRowValues.4:x6 *tmp232
-    * op add *tmp233 :computeRowValues.4:x1 :computeRowValues.4:x2
-    * op add *tmp234 *tmp233 :computeRowValues.4:x3
-    * op add *tmp235 :computeRowValues.4:x0 *tmp234
+  616 set :computeRowValues.4:x6 :tileValue.34:result
+  617 op add *tmp233 *tmp204 *tmp206
+  618 op add *tmp234 *tmp233 *tmp208
+  619 op add *tmp235 *tmp230 *tmp234
   620 op min *tmp236 0.09803921568627451 *tmp235
-    * op add *tmp237 :computeRowValues.4:x1 :computeRowValues.4:x2
-    * op add *tmp238 *tmp237 :computeRowValues.4:x3
-    * op add *tmp239 *tmp238 :computeRowValues.4:x4
+  621 op add *tmp237 *tmp204 *tmp206
+  622 op add *tmp238 *tmp233 *tmp208
+  623 op add *tmp239 *tmp234 *tmp210
   624 op min *tmp240 0.09803921568627451 *tmp239
-    * op add *tmp241 :computeRowValues.4:x3 :computeRowValues.4:x4
-    * op add *tmp242 *tmp241 :computeRowValues.4:x5
-    * op add *tmp243 :computeRowValues.4:x2 *tmp242
+  625 op add *tmp241 *tmp208 *tmp210
+  626 op add *tmp242 *tmp241 *tmp212
+  627 op add *tmp243 *tmp206 *tmp242
   628 op min *tmp244 0.09803921568627451 *tmp243
-    * op add *tmp245 :computeRowValues.4:x3 :computeRowValues.4:x4
-    * op add *tmp246 *tmp245 :computeRowValues.4:x5
-    * op add *tmp247 *tmp246 :computeRowValues.4:x6
+  629 op add *tmp245 *tmp208 *tmp210
+  630 op add *tmp246 *tmp241 *tmp212
+  631 op add *tmp247 *tmp242 *tmp232
   632 op min *tmp248 0.09803921568627451 *tmp247
   633 packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248
   634 jump *label63 always
-    * set *tmp221 null
   635 label *label72
-    * set *tmp214 *tmp221
+  636 set *tmp214 null
   637 label *label70
-    * set *tmp202 *tmp214
+  638 set *tmp202 null
   639 label *label63
   640 set :findBestPosition:y5 *tmp202
   641 set :findBestPosition:best 0
   642 set :findBestPosition:bestX 0
   643 set :findBestPosition:bestY 0
   644 jump *label75 notEqual :findBestPosition:size 3
-    * op add *tmp252 :findBestPosition:y2 :findBestPosition:y3
-    * op add :findBestPosition:row1 :findBestPosition:y1 *tmp252
-    * op add *tmp254 :findBestPosition:y2 :findBestPosition:y3
-    * op add :findBestPosition:row2 *tmp254 :findBestPosition:y4
-    * op add *tmp256 :findBestPosition:y3 :findBestPosition:y4
-    * op add :findBestPosition:row3 *tmp256 :findBestPosition:y5
+  645 op add *tmp252 *tmp55 *tmp104
+  646 op add :findBestPosition:row1 *tmp6 *tmp252
+  647 op add *tmp254 *tmp55 *tmp104
+  648 op add :findBestPosition:row2 *tmp252 *tmp153
+  649 op add *tmp256 *tmp104 *tmp153
+  650 op add :findBestPosition:row3 *tmp256 *tmp202
   651 set :updateRowPositionsOdd:dy -1
   652 set :updateRowPositionsOdd:rowSum :findBestPosition:row1
-    * unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 *tmp258 :updateRowPositionsOdd:rowSum
+  653 unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 *tmp258 :findBestPosition:row1
   654 set :updatePosition:dx -1
-    * set :updatePosition:dy :updateRowPositionsOdd:dy
+  655 set :updatePosition:dy -1
   656 set :updatePosition:value :updateRowPositionsOdd:col1
-    * jump *label79 lessThanEq :updatePosition:value :findBestPosition:best
-    * jump *label81 greaterThanEq :updatePosition:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition:dx
-    * set :findBestPosition:bestY :updatePosition:dy
-    * set :findBestPosition:best :updatePosition:value
+  657 jump *label79 lessThanEq :updateRowPositionsOdd:col1 0
+  658 jump *label81 greaterThanEq :updateRowPositionsOdd:col1 0.0784313725490196
+  659 set :findBestPosition:bestX -1
+  660 set :findBestPosition:bestY :updateRowPositionsOdd:dy
+  661 set :findBestPosition:best :updateRowPositionsOdd:col1
   662 label *label81
   663 label *label82
   664 label *label79
   665 label *label80
   666 label *label78
   667 set :updatePosition.1:dx 0
-    * set :updatePosition.1:dy :updateRowPositionsOdd:dy
+  668 set :updatePosition.1:dy -1
   669 set :updatePosition.1:value :updateRowPositionsOdd:col2
-    * jump *label84 lessThanEq :updatePosition.1:value :findBestPosition:best
-    * jump *label86 greaterThanEq :updatePosition.1:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.1:dx
-    * set :findBestPosition:bestY :updatePosition.1:dy
-    * set :findBestPosition:best :updatePosition.1:value
+  670 jump *label84 lessThanEq :updateRowPositionsOdd:col2 :findBestPosition:best
+  671 jump *label86 greaterThanEq :updateRowPositionsOdd:col2 0.0784313725490196
+  672 set :findBestPosition:bestX 0
+  673 set :findBestPosition:bestY :updateRowPositionsOdd:dy
+  674 set :findBestPosition:best :updateRowPositionsOdd:col2
   675 label *label86
   676 label *label87
   677 label *label84
   678 label *label85
   679 label *label83
   680 set :updatePosition.2:dx 1
-    * set :updatePosition.2:dy :updateRowPositionsOdd:dy
+  681 set :updatePosition.2:dy -1
   682 set :updatePosition.2:value :updateRowPositionsOdd:col3
-    * jump *label89 lessThanEq :updatePosition.2:value :findBestPosition:best
-    * jump *label91 greaterThanEq :updatePosition.2:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.2:dx
-    * set :findBestPosition:bestY :updatePosition.2:dy
-    * set :findBestPosition:best :updatePosition.2:value
+  683 jump *label89 lessThanEq :updateRowPositionsOdd:col3 :findBestPosition:best
+  684 jump *label91 greaterThanEq :updateRowPositionsOdd:col3 0.0784313725490196
+  685 set :findBestPosition:bestX 1
+  686 set :findBestPosition:bestY :updateRowPositionsOdd:dy
+  687 set :findBestPosition:best :updateRowPositionsOdd:col3
   688 label *label91
   689 label *label92
   690 label *label89
 
   693 label *label77
   694 set :updateRowPositionsOdd.1:dy 0
   695 set :updateRowPositionsOdd.1:rowSum :findBestPosition:row2
-    * unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 *tmp271 :updateRowPositionsOdd.1:rowSum
+  696 unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 *tmp271 :findBestPosition:row2
   697 set :updatePosition.3:dx -1
-    * set :updatePosition.3:dy :updateRowPositionsOdd.1:dy
+  698 set :updatePosition.3:dy 0
   699 set :updatePosition.3:value :updateRowPositionsOdd.1:col1
-    * jump *label95 lessThanEq :updatePosition.3:value :findBestPosition:best
-    * jump *label97 greaterThanEq :updatePosition.3:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.3:dx
-    * set :findBestPosition:bestY :updatePosition.3:dy
-    * set :findBestPosition:best :updatePosition.3:value
+  700 jump *label95 lessThanEq :updateRowPositionsOdd.1:col1 :findBestPosition:best
+  701 jump *label97 greaterThanEq :updateRowPositionsOdd.1:col1 0.0784313725490196
+  702 set :findBestPosition:bestX -1
+  703 set :findBestPosition:bestY :updateRowPositionsOdd.1:dy
+  704 set :findBestPosition:best :updateRowPositionsOdd.1:col1
   705 label *label97
   706 label *label98
   707 label *label95
   708 label *label96
   709 label *label94
   710 set :updatePosition.4:dx 0
-    * set :updatePosition.4:dy :updateRowPositionsOdd.1:dy
+  711 set :updatePosition.4:dy 0
   712 set :updatePosition.4:value :updateRowPositionsOdd.1:col2
-    * jump *label100 lessThanEq :updatePosition.4:value :findBestPosition:best
-    * jump *label102 greaterThanEq :updatePosition.4:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.4:dx
-    * set :findBestPosition:bestY :updatePosition.4:dy
-    * set :findBestPosition:best :updatePosition.4:value
+  713 jump *label100 lessThanEq :updateRowPositionsOdd.1:col2 :findBestPosition:best
+  714 jump *label102 greaterThanEq :updateRowPositionsOdd.1:col2 0.0784313725490196
+  715 set :findBestPosition:bestX 0
+  716 set :findBestPosition:bestY :updateRowPositionsOdd.1:dy
+  717 set :findBestPosition:best :updateRowPositionsOdd.1:col2
   718 label *label102
   719 label *label103
   720 label *label100
   721 label *label101
   722 label *label99
   723 set :updatePosition.5:dx 1
-    * set :updatePosition.5:dy :updateRowPositionsOdd.1:dy
+  724 set :updatePosition.5:dy 0
   725 set :updatePosition.5:value :updateRowPositionsOdd.1:col3
-    * jump *label105 lessThanEq :updatePosition.5:value :findBestPosition:best
-    * jump *label107 greaterThanEq :updatePosition.5:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.5:dx
-    * set :findBestPosition:bestY :updatePosition.5:dy
-    * set :findBestPosition:best :updatePosition.5:value
+  726 jump *label105 lessThanEq :updateRowPositionsOdd.1:col3 :findBestPosition:best
+  727 jump *label107 greaterThanEq :updateRowPositionsOdd.1:col3 0.0784313725490196
+  728 set :findBestPosition:bestX 1
+  729 set :findBestPosition:bestY :updateRowPositionsOdd.1:dy
+  730 set :findBestPosition:best :updateRowPositionsOdd.1:col3
   731 label *label107
   732 label *label108
   733 label *label105
 
   736 label *label93
   737 set :updateRowPositionsOdd.2:dy 1
   738 set :updateRowPositionsOdd.2:rowSum :findBestPosition:row3
-    * unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 *tmp284 :updateRowPositionsOdd.2:rowSum
+  739 unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 *tmp284 :findBestPosition:row3
   740 set :updatePosition.6:dx -1
-    * set :updatePosition.6:dy :updateRowPositionsOdd.2:dy
+  741 set :updatePosition.6:dy 1
   742 set :updatePosition.6:value :updateRowPositionsOdd.2:col1
-    * jump *label111 lessThanEq :updatePosition.6:value :findBestPosition:best
-    * jump *label113 greaterThanEq :updatePosition.6:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.6:dx
-    * set :findBestPosition:bestY :updatePosition.6:dy
-    * set :findBestPosition:best :updatePosition.6:value
+  743 jump *label111 lessThanEq :updateRowPositionsOdd.2:col1 :findBestPosition:best
+  744 jump *label113 greaterThanEq :updateRowPositionsOdd.2:col1 0.0784313725490196
+  745 set :findBestPosition:bestX -1
+  746 set :findBestPosition:bestY :updateRowPositionsOdd.2:dy
+  747 set :findBestPosition:best :updateRowPositionsOdd.2:col1
   748 label *label113
   749 label *label114
   750 label *label111
   751 label *label112
   752 label *label110
   753 set :updatePosition.7:dx 0
-    * set :updatePosition.7:dy :updateRowPositionsOdd.2:dy
+  754 set :updatePosition.7:dy 1
   755 set :updatePosition.7:value :updateRowPositionsOdd.2:col2
-    * jump *label116 lessThanEq :updatePosition.7:value :findBestPosition:best
-    * jump *label118 greaterThanEq :updatePosition.7:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.7:dx
-    * set :findBestPosition:bestY :updatePosition.7:dy
-    * set :findBestPosition:best :updatePosition.7:value
+  756 jump *label116 lessThanEq :updateRowPositionsOdd.2:col2 :findBestPosition:best
+  757 jump *label118 greaterThanEq :updateRowPositionsOdd.2:col2 0.0784313725490196
+  758 set :findBestPosition:bestX 0
+  759 set :findBestPosition:bestY :updateRowPositionsOdd.2:dy
+  760 set :findBestPosition:best :updateRowPositionsOdd.2:col2
   761 label *label118
   762 label *label119
   763 label *label116
   764 label *label117
   765 label *label115
   766 set :updatePosition.8:dx 1
-    * set :updatePosition.8:dy :updateRowPositionsOdd.2:dy
+  767 set :updatePosition.8:dy 1
   768 set :updatePosition.8:value :updateRowPositionsOdd.2:col3
-    * jump *label121 lessThanEq :updatePosition.8:value :findBestPosition:best
-    * jump *label123 greaterThanEq :updatePosition.8:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.8:dx
-    * set :findBestPosition:bestY :updatePosition.8:dy
-    * set :findBestPosition:best :updatePosition.8:value
+  769 jump *label121 lessThanEq :updateRowPositionsOdd.2:col3 :findBestPosition:best
+  770 jump *label123 greaterThanEq :updateRowPositionsOdd.2:col3 0.0784313725490196
+  771 set :findBestPosition:bestX 1
+  772 set :findBestPosition:bestY :updateRowPositionsOdd.2:dy
+  773 set :findBestPosition:best :updateRowPositionsOdd.2:col3
   774 label *label123
   775 label *label124
   776 label *label121
 
   780 jump *label76 always
   781 label *label75
   782 jump *label125 notEqual :findBestPosition:size 2
-    * op add :findBestPosition:row1 :findBestPosition:y1 :findBestPosition:y2
-    * op add :findBestPosition:row2 :findBestPosition:y2 :findBestPosition:y3
-    * op add :findBestPosition:row3 :findBestPosition:y3 :findBestPosition:y4
-    * op add :findBestPosition:row4 :findBestPosition:y4 :findBestPosition:y5
+  783 op add :findBestPosition:row1 *tmp6 *tmp55
+  784 op add :findBestPosition:row2 *tmp55 *tmp104
+  785 op add :findBestPosition:row3 *tmp104 *tmp153
+  786 op add :findBestPosition:row4 *tmp153 *tmp202
   787 jump *label126 always
   788 label *label125
   789 op sub *tmp303 :findBestPosition:y 3
 
   791 set :computeRowValues.5:y *tmp303
   792 set :computeRowValues.5:ore :findBestPosition:ore
   793 set :computeRowValues.5:size :findBestPosition:size
-    * op sub :tileValue.35:x :computeRowValues.5:x 2
-    * set :tileValue.35:y :computeRowValues.5:y
-    * set :tileValue.35:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.35:x :tileValue.35:y type building floor
-    * select value equal floor :tileValue.35:ore 0.00392156862745098 0
+  794 op sub :tileValue.35:x :findBestPosition:x 2
+  795 set :tileValue.35:y *tmp303
+  796 set :tileValue.35:ore :findBestPosition:ore
+  797 ucontrol getBlock :tileValue:x :computeRowValues.5:y type building floor
+  798 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   799 sensor solid type @solid
   800 select :tileValue.35:result notEqual solid false 0.09803921568627451 value
   801 set *tmp306 :tileValue.35:result
   802 label *label128
-    * set :computeRowValues.5:x1 *tmp306
-    * op sub :tileValue.36:x :computeRowValues.5:x 1
-    * set :tileValue.36:y :computeRowValues.5:y
-    * set :tileValue.36:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.36:x :tileValue.36:y type building floor
-    * select value equal floor :tileValue.36:ore 0.00392156862745098 0
+  803 set :computeRowValues.5:x1 :tileValue.35:result
+  804 op sub :tileValue.36:x :findBestPosition:x 1
+  805 set :tileValue.36:y *tmp303
+  806 set :tileValue.36:ore :findBestPosition:ore
+  807 ucontrol getBlock :tileValue.1:x :computeRowValues.5:y type building floor
+  808 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   809 sensor solid type @solid
   810 select :tileValue.36:result notEqual solid false 0.09803921568627451 value
   811 set *tmp308 :tileValue.36:result
   812 label *label129
-    * set :computeRowValues.5:x2 *tmp308
-    * set :tileValue.37:x :computeRowValues.5:x
-    * set :tileValue.37:y :computeRowValues.5:y
-    * set :tileValue.37:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.37:x :tileValue.37:y type building floor
-    * select value equal floor :tileValue.37:ore 0.00392156862745098 0
+  813 set :computeRowValues.5:x2 :tileValue.36:result
+  814 set :tileValue.37:x :findBestPosition:x
+  815 set :tileValue.37:y *tmp303
+  816 set :tileValue.37:ore :findBestPosition:ore
+  817 ucontrol getBlock :computeRowValues.5:x :computeRowValues.5:y type building floor
+  818 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   819 sensor solid type @solid
   820 select :tileValue.37:result notEqual solid false 0.09803921568627451 value
   821 set *tmp310 :tileValue.37:result
   822 label *label130
-    * set :computeRowValues.5:x3 *tmp310
-    * op add :tileValue.38:x :computeRowValues.5:x 1
-    * set :tileValue.38:y :computeRowValues.5:y
-    * set :tileValue.38:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.38:x :tileValue.38:y type building floor
-    * select value equal floor :tileValue.38:ore 0.00392156862745098 0
+  823 set :computeRowValues.5:x3 :tileValue.37:result
+  824 op add :tileValue.38:x :findBestPosition:x 1
+  825 set :tileValue.38:y *tmp303
+  826 set :tileValue.38:ore :findBestPosition:ore
+  827 ucontrol getBlock :tileValue.3:x :computeRowValues.5:y type building floor
+  828 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   829 sensor solid type @solid
   830 select :tileValue.38:result notEqual solid false 0.09803921568627451 value
   831 set *tmp312 :tileValue.38:result
   832 label *label131
-    * set :computeRowValues.5:x4 *tmp312
-    * op add :tileValue.39:x :computeRowValues.5:x 2
-    * set :tileValue.39:y :computeRowValues.5:y
-    * set :tileValue.39:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.39:x :tileValue.39:y type building floor
-    * select value equal floor :tileValue.39:ore 0.00392156862745098 0
+  833 set :computeRowValues.5:x4 :tileValue.38:result
+  834 op add :tileValue.39:x :findBestPosition:x 2
+  835 set :tileValue.39:y *tmp303
+  836 set :tileValue.39:ore :findBestPosition:ore
+  837 ucontrol getBlock :tileValue.4:x :computeRowValues.5:y type building floor
+  838 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   839 sensor solid type @solid
   840 select :tileValue.39:result notEqual solid false 0.09803921568627451 value
   841 set *tmp314 :tileValue.39:result
   842 label *label132
-    * set :computeRowValues.5:x5 *tmp314
-    * jump *label133 notEqual :computeRowValues.5:size 2
-    * op add *tmp317 :computeRowValues.5:x1 :computeRowValues.5:x2
-    * op add *tmp318 :computeRowValues.5:x2 :computeRowValues.5:x3
-    * op add *tmp319 :computeRowValues.5:x3 :computeRowValues.5:x4
-    * op add *tmp320 :computeRowValues.5:x4 :computeRowValues.5:x5
+  843 set :computeRowValues.5:x5 :tileValue.39:result
+  844 jump *label133 notEqual :findBestPosition:size 2
+  845 op add *tmp317 *tmp306 *tmp308
+  846 op add *tmp318 *tmp308 *tmp310
+  847 op add *tmp319 *tmp310 *tmp312
+  848 op add *tmp320 *tmp312 *tmp314
   849 packcolor *tmp304 *tmp317 *tmp318 *tmp319 *tmp320
   850 jump *label127 always
-    * set *tmp316 null
   851 jump *label134 always
   852 label *label133
-    * jump *label135 notEqual :computeRowValues.5:size 3
-    * op add *tmp324 :computeRowValues.5:x2 :computeRowValues.5:x3
-    * op add *tmp325 :computeRowValues.5:x1 *tmp324
-    * op add *tmp326 :computeRowValues.5:x2 :computeRowValues.5:x3
-    * op add *tmp327 *tmp326 :computeRowValues.5:x4
-    * op add *tmp328 :computeRowValues.5:x3 :computeRowValues.5:x4
-    * op add *tmp329 *tmp328 :computeRowValues.5:x5
+  853 jump *label135 notEqual :findBestPosition:size 3
+  854 op add *tmp324 *tmp308 *tmp310
+  855 op add *tmp325 *tmp306 *tmp324
+  856 op add *tmp326 *tmp308 *tmp310
+  857 op add *tmp327 *tmp324 *tmp312
+  858 op add *tmp328 *tmp310 *tmp312
+  859 op add *tmp329 *tmp328 *tmp314
   860 packcolor *tmp304 *tmp325 *tmp327 *tmp329 0
   861 jump *label127 always
-    * set *tmp323 null
   862 jump *label136 always
   863 label *label135
-    * op sub :tileValue.40:x :computeRowValues.5:x 3
-    * set :tileValue.40:y :computeRowValues.5:y
-    * set :tileValue.40:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.40:x :tileValue.40:y type building floor
-    * select value equal floor :tileValue.40:ore 0.00392156862745098 0
+  864 op sub :tileValue.40:x :findBestPosition:x 3
+  865 set :tileValue.40:y *tmp303
+  866 set :tileValue.40:ore :findBestPosition:ore
+  867 ucontrol getBlock :tileValue.40:x :computeRowValues.5:y type building floor
+  868 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   869 sensor solid type @solid
   870 select :tileValue.40:result notEqual solid false 0.09803921568627451 value
   871 set *tmp332 :tileValue.40:result
   872 label *label137
-    * set :computeRowValues.5:x0 *tmp332
-    * op add :tileValue.41:x :computeRowValues.5:x 3
-    * set :tileValue.41:y :computeRowValues.5:y
-    * set :tileValue.41:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.41:x :tileValue.41:y type building floor
-    * select value equal floor :tileValue.41:ore 0.00392156862745098 0
+  873 set :computeRowValues.5:x0 :tileValue.40:result
+  874 op add :tileValue.41:x :findBestPosition:x 3
+  875 set :tileValue.41:y *tmp303
+  876 set :tileValue.41:ore :findBestPosition:ore
+  877 ucontrol getBlock :tileValue.41:x :computeRowValues.5:y type building floor
+  878 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   879 sensor solid type @solid
   880 select :tileValue.41:result notEqual solid false 0.09803921568627451 value
   881 set *tmp334 :tileValue.41:result
   882 label *label138
-    * set :computeRowValues.5:x6 *tmp334
-    * op add *tmp335 :computeRowValues.5:x1 :computeRowValues.5:x2
-    * op add *tmp336 *tmp335 :computeRowValues.5:x3
-    * op add *tmp337 :computeRowValues.5:x0 *tmp336
+  883 set :computeRowValues.5:x6 :tileValue.41:result
+  884 op add *tmp335 *tmp306 *tmp308
+  885 op add *tmp336 *tmp335 *tmp310
+  886 op add *tmp337 *tmp332 *tmp336
   887 op min *tmp338 0.09803921568627451 *tmp337
-    * op add *tmp339 :computeRowValues.5:x1 :computeRowValues.5:x2
-    * op add *tmp340 *tmp339 :computeRowValues.5:x3
-    * op add *tmp341 *tmp340 :computeRowValues.5:x4
+  888 op add *tmp339 *tmp306 *tmp308
+  889 op add *tmp340 *tmp335 *tmp310
+  890 op add *tmp341 *tmp336 *tmp312
   891 op min *tmp342 0.09803921568627451 *tmp341
-    * op add *tmp343 :computeRowValues.5:x3 :computeRowValues.5:x4
-    * op add *tmp344 *tmp343 :computeRowValues.5:x5
-    * op add *tmp345 :computeRowValues.5:x2 *tmp344
+  892 op add *tmp343 *tmp310 *tmp312
+  893 op add *tmp344 *tmp343 *tmp314
+  894 op add *tmp345 *tmp308 *tmp344
   895 op min *tmp346 0.09803921568627451 *tmp345
-    * op add *tmp347 :computeRowValues.5:x3 :computeRowValues.5:x4
-    * op add *tmp348 *tmp347 :computeRowValues.5:x5
-    * op add *tmp349 *tmp348 :computeRowValues.5:x6
+  896 op add *tmp347 *tmp310 *tmp312
+  897 op add *tmp348 *tmp343 *tmp314
+  898 op add *tmp349 *tmp344 *tmp334
   899 op min *tmp350 0.09803921568627451 *tmp349
   900 packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350
   901 jump *label127 always
-    * set *tmp323 null
   902 label *label136
-    * set *tmp316 *tmp323
+  903 set *tmp316 null
   904 label *label134
-    * set *tmp304 *tmp316
+  905 set *tmp304 null
   906 label *label127
   907 set :findBestPosition:y0 *tmp304
   908 op add *tmp352 :findBestPosition:y 3
 
   910 set :computeRowValues.6:y *tmp352
   911 set :computeRowValues.6:ore :findBestPosition:ore
   912 set :computeRowValues.6:size :findBestPosition:size
-    * op sub :tileValue.42:x :computeRowValues.6:x 2
-    * set :tileValue.42:y :computeRowValues.6:y
-    * set :tileValue.42:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.42:x :tileValue.42:y type building floor
-    * select value equal floor :tileValue.42:ore 0.00392156862745098 0
+  913 op sub :tileValue.42:x :findBestPosition:x 2
+  914 set :tileValue.42:y *tmp352
+  915 set :tileValue.42:ore :findBestPosition:ore
+  916 ucontrol getBlock :tileValue:x :computeRowValues.6:y type building floor
+  917 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   918 sensor solid type @solid
   919 select :tileValue.42:result notEqual solid false 0.09803921568627451 value
   920 set *tmp355 :tileValue.42:result
   921 label *label140
-    * set :computeRowValues.6:x1 *tmp355
-    * op sub :tileValue.43:x :computeRowValues.6:x 1
-    * set :tileValue.43:y :computeRowValues.6:y
-    * set :tileValue.43:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.43:x :tileValue.43:y type building floor
-    * select value equal floor :tileValue.43:ore 0.00392156862745098 0
+  922 set :computeRowValues.6:x1 :tileValue.42:result
+  923 op sub :tileValue.43:x :findBestPosition:x 1
+  924 set :tileValue.43:y *tmp352
+  925 set :tileValue.43:ore :findBestPosition:ore
+  926 ucontrol getBlock :tileValue.1:x :computeRowValues.6:y type building floor
+  927 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   928 sensor solid type @solid
   929 select :tileValue.43:result notEqual solid false 0.09803921568627451 value
   930 set *tmp357 :tileValue.43:result
   931 label *label141
-    * set :computeRowValues.6:x2 *tmp357
-    * set :tileValue.44:x :computeRowValues.6:x
-    * set :tileValue.44:y :computeRowValues.6:y
-    * set :tileValue.44:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.44:x :tileValue.44:y type building floor
-    * select value equal floor :tileValue.44:ore 0.00392156862745098 0
+  932 set :computeRowValues.6:x2 :tileValue.43:result
+  933 set :tileValue.44:x :findBestPosition:x
+  934 set :tileValue.44:y *tmp352
+  935 set :tileValue.44:ore :findBestPosition:ore
+  936 ucontrol getBlock :computeRowValues.6:x :computeRowValues.6:y type building floor
+  937 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   938 sensor solid type @solid
   939 select :tileValue.44:result notEqual solid false 0.09803921568627451 value
   940 set *tmp359 :tileValue.44:result
   941 label *label142
-    * set :computeRowValues.6:x3 *tmp359
-    * op add :tileValue.45:x :computeRowValues.6:x 1
-    * set :tileValue.45:y :computeRowValues.6:y
-    * set :tileValue.45:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.45:x :tileValue.45:y type building floor
-    * select value equal floor :tileValue.45:ore 0.00392156862745098 0
+  942 set :computeRowValues.6:x3 :tileValue.44:result
+  943 op add :tileValue.45:x :findBestPosition:x 1
+  944 set :tileValue.45:y *tmp352
+  945 set :tileValue.45:ore :findBestPosition:ore
+  946 ucontrol getBlock :tileValue.3:x :computeRowValues.6:y type building floor
+  947 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   948 sensor solid type @solid
   949 select :tileValue.45:result notEqual solid false 0.09803921568627451 value
   950 set *tmp361 :tileValue.45:result
   951 label *label143
-    * set :computeRowValues.6:x4 *tmp361
-    * op add :tileValue.46:x :computeRowValues.6:x 2
-    * set :tileValue.46:y :computeRowValues.6:y
-    * set :tileValue.46:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.46:x :tileValue.46:y type building floor
-    * select value equal floor :tileValue.46:ore 0.00392156862745098 0
+  952 set :computeRowValues.6:x4 :tileValue.45:result
+  953 op add :tileValue.46:x :findBestPosition:x 2
+  954 set :tileValue.46:y *tmp352
+  955 set :tileValue.46:ore :findBestPosition:ore
+  956 ucontrol getBlock :tileValue.4:x :computeRowValues.6:y type building floor
+  957 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   958 sensor solid type @solid
   959 select :tileValue.46:result notEqual solid false 0.09803921568627451 value
   960 set *tmp363 :tileValue.46:result
   961 label *label144
-    * set :computeRowValues.6:x5 *tmp363
-    * jump *label145 notEqual :computeRowValues.6:size 2
-    * op add *tmp366 :computeRowValues.6:x1 :computeRowValues.6:x2
-    * op add *tmp367 :computeRowValues.6:x2 :computeRowValues.6:x3
-    * op add *tmp368 :computeRowValues.6:x3 :computeRowValues.6:x4
-    * op add *tmp369 :computeRowValues.6:x4 :computeRowValues.6:x5
+  962 set :computeRowValues.6:x5 :tileValue.46:result
+  963 jump *label145 notEqual :findBestPosition:size 2
+  964 op add *tmp366 *tmp355 *tmp357
+  965 op add *tmp367 *tmp357 *tmp359
+  966 op add *tmp368 *tmp359 *tmp361
+  967 op add *tmp369 *tmp361 *tmp363
   968 packcolor *tmp353 *tmp366 *tmp367 *tmp368 *tmp369
   969 jump *label139 always
-    * set *tmp365 null
   970 jump *label146 always
   971 label *label145
-    * jump *label147 notEqual :computeRowValues.6:size 3
-    * op add *tmp373 :computeRowValues.6:x2 :computeRowValues.6:x3
-    * op add *tmp374 :computeRowValues.6:x1 *tmp373
-    * op add *tmp375 :computeRowValues.6:x2 :computeRowValues.6:x3
-    * op add *tmp376 *tmp375 :computeRowValues.6:x4
-    * op add *tmp377 :computeRowValues.6:x3 :computeRowValues.6:x4
-    * op add *tmp378 *tmp377 :computeRowValues.6:x5
+  972 jump *label147 notEqual :findBestPosition:size 3
+  973 op add *tmp373 *tmp357 *tmp359
+  974 op add *tmp374 *tmp355 *tmp373
+  975 op add *tmp375 *tmp357 *tmp359
+  976 op add *tmp376 *tmp373 *tmp361
+  977 op add *tmp377 *tmp359 *tmp361
+  978 op add *tmp378 *tmp377 *tmp363
   979 packcolor *tmp353 *tmp374 *tmp376 *tmp378 0
   980 jump *label139 always
-    * set *tmp372 null
   981 jump *label148 always
   982 label *label147
-    * op sub :tileValue.47:x :computeRowValues.6:x 3
-    * set :tileValue.47:y :computeRowValues.6:y
-    * set :tileValue.47:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.47:x :tileValue.47:y type building floor
-    * select value equal floor :tileValue.47:ore 0.00392156862745098 0
+  983 op sub :tileValue.47:x :findBestPosition:x 3
+  984 set :tileValue.47:y *tmp352
+  985 set :tileValue.47:ore :findBestPosition:ore
+  986 ucontrol getBlock :tileValue.47:x :computeRowValues.6:y type building floor
+  987 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   988 sensor solid type @solid
   989 select :tileValue.47:result notEqual solid false 0.09803921568627451 value
   990 set *tmp381 :tileValue.47:result
   991 label *label149
-    * set :computeRowValues.6:x0 *tmp381
-    * op add :tileValue.48:x :computeRowValues.6:x 3
-    * set :tileValue.48:y :computeRowValues.6:y
-    * set :tileValue.48:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.48:x :tileValue.48:y type building floor
-    * select value equal floor :tileValue.48:ore 0.00392156862745098 0
+  992 set :computeRowValues.6:x0 :tileValue.47:result
+  993 op add :tileValue.48:x :findBestPosition:x 3
+  994 set :tileValue.48:y *tmp352
+  995 set :tileValue.48:ore :findBestPosition:ore
+  996 ucontrol getBlock :tileValue.48:x :computeRowValues.6:y type building floor
+  997 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   998 sensor solid type @solid
   999 select :tileValue.48:result notEqual solid false 0.09803921568627451 value
  1000 set *tmp383 :tileValue.48:result
  1001 label *label150
-    * set :computeRowValues.6:x6 *tmp383
-    * op add *tmp384 :computeRowValues.6:x1 :computeRowValues.6:x2
-    * op add *tmp385 *tmp384 :computeRowValues.6:x3
-    * op add *tmp386 :computeRowValues.6:x0 *tmp385
+ 1002 set :computeRowValues.6:x6 :tileValue.48:result
+ 1003 op add *tmp384 *tmp355 *tmp357
+ 1004 op add *tmp385 *tmp384 *tmp359
+ 1005 op add *tmp386 *tmp381 *tmp385
  1006 op min *tmp387 0.09803921568627451 *tmp386
-    * op add *tmp388 :computeRowValues.6:x1 :computeRowValues.6:x2
-    * op add *tmp389 *tmp388 :computeRowValues.6:x3
-    * op add *tmp390 *tmp389 :computeRowValues.6:x4
+ 1007 op add *tmp388 *tmp355 *tmp357
+ 1008 op add *tmp389 *tmp384 *tmp359
+ 1009 op add *tmp390 *tmp385 *tmp361
  1010 op min *tmp391 0.09803921568627451 *tmp390
-    * op add *tmp392 :computeRowValues.6:x3 :computeRowValues.6:x4
-    * op add *tmp393 *tmp392 :computeRowValues.6:x5
-    * op add *tmp394 :computeRowValues.6:x2 *tmp393
+ 1011 op add *tmp392 *tmp359 *tmp361
+ 1012 op add *tmp393 *tmp392 *tmp363
+ 1013 op add *tmp394 *tmp357 *tmp393
  1014 op min *tmp395 0.09803921568627451 *tmp394
-    * op add *tmp396 :computeRowValues.6:x3 :computeRowValues.6:x4
-    * op add *tmp397 *tmp396 :computeRowValues.6:x5
-    * op add *tmp398 *tmp397 :computeRowValues.6:x6
+ 1015 op add *tmp396 *tmp359 *tmp361
+ 1016 op add *tmp397 *tmp392 *tmp363
+ 1017 op add *tmp398 *tmp393 *tmp383
  1018 op min *tmp399 0.09803921568627451 *tmp398
  1019 packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399
  1020 jump *label139 always
-    * set *tmp372 null
  1021 label *label148
-    * set *tmp365 *tmp372
+ 1022 set *tmp365 null
  1023 label *label146
-    * set *tmp353 *tmp365
+ 1024 set *tmp353 null
  1025 label *label139
  1026 set :findBestPosition:y6 *tmp353
-    * op add *tmp401 :findBestPosition:y1 :findBestPosition:y2
-    * op add *tmp402 *tmp401 :findBestPosition:y3
-    * op add :findBestPosition:row1 :findBestPosition:y0 *tmp402
-    * op add *tmp404 :findBestPosition:y1 :findBestPosition:y2
-    * op add *tmp405 *tmp404 :findBestPosition:y3
-    * op add :findBestPosition:row2 *tmp405 :findBestPosition:y4
-    * op add *tmp407 :findBestPosition:y3 :findBestPosition:y4
-    * op add *tmp408 *tmp407 :findBestPosition:y5
-    * op add :findBestPosition:row3 :findBestPosition:y2 *tmp408
-    * op add *tmp410 :findBestPosition:y3 :findBestPosition:y4
-    * op add *tmp411 *tmp410 :findBestPosition:y5
-    * op add :findBestPosition:row4 *tmp411 :findBestPosition:y6
+ 1027 op add *tmp401 *tmp6 *tmp55
+ 1028 op add *tmp402 *tmp401 *tmp104
+ 1029 op add :findBestPosition:row1 *tmp304 *tmp402
+ 1030 op add *tmp404 *tmp6 *tmp55
+ 1031 op add *tmp405 *tmp401 *tmp104
+ 1032 op add :findBestPosition:row2 *tmp402 *tmp153
+ 1033 op add *tmp407 *tmp104 *tmp153
+ 1034 op add *tmp408 *tmp407 *tmp202
+ 1035 op add :findBestPosition:row3 *tmp55 *tmp408
+ 1036 op add *tmp410 *tmp104 *tmp153
+ 1037 op add *tmp411 *tmp407 *tmp202
+ 1038 op add :findBestPosition:row4 *tmp408 *tmp353
  1039 label *label126
  1040 set :updateRowPositionsEven:dy -1.5
  1041 set :updateRowPositionsEven:rowSum :findBestPosition:row1
-    * unpackcolor :updateRowPositionsEven:col1 :updateRowPositionsEven:col2 :updateRowPositionsEven:col3 :updateRowPositionsEven:col4 :updateRowPositionsEven:rowSum
+ 1042 unpackcolor :updateRowPositionsEven:col1 :updateRowPositionsEven:col2 :updateRowPositionsEven:col3 :updateRowPositionsEven:col4 :findBestPosition:row1
  1043 set :updatePosition.9:dx -1.5
-    * set :updatePosition.9:dy :updateRowPositionsEven:dy
+ 1044 set :updatePosition.9:dy -1.5
  1045 set :updatePosition.9:value :updateRowPositionsEven:col1
-    * jump *label153 lessThanEq :updatePosition.9:value :findBestPosition:best
-    * jump *label155 greaterThanEq :updatePosition.9:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.9:dx
-    * set :findBestPosition:bestY :updatePosition.9:dy
-    * set :findBestPosition:best :updatePosition.9:value
+ 1046 jump *label153 lessThanEq :updateRowPositionsEven:col1 0
+ 1047 jump *label155 greaterThanEq :updateRowPositionsEven:col1 0.0784313725490196
+ 1048 set :findBestPosition:bestX -1.5
+ 1049 set :findBestPosition:bestY :updateRowPositionsEven:dy
+ 1050 set :findBestPosition:best :updateRowPositionsEven:col1
  1051 label *label155
  1052 label *label156
  1053 label *label153
  1054 label *label154
  1055 label *label152
  1056 set :updatePosition.10:dx -0.5
-    * set :updatePosition.10:dy :updateRowPositionsEven:dy
+ 1057 set :updatePosition.10:dy -1.5
  1058 set :updatePosition.10:value :updateRowPositionsEven:col2
-    * jump *label158 lessThanEq :updatePosition.10:value :findBestPosition:best
-    * jump *label160 greaterThanEq :updatePosition.10:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.10:dx
-    * set :findBestPosition:bestY :updatePosition.10:dy
-    * set :findBestPosition:best :updatePosition.10:value
+ 1059 jump *label158 lessThanEq :updateRowPositionsEven:col2 :findBestPosition:best
+ 1060 jump *label160 greaterThanEq :updateRowPositionsEven:col2 0.0784313725490196
+ 1061 set :findBestPosition:bestX -0.5
+ 1062 set :findBestPosition:bestY :updateRowPositionsEven:dy
+ 1063 set :findBestPosition:best :updateRowPositionsEven:col2
  1064 label *label160
  1065 label *label161
  1066 label *label158
  1067 label *label159
  1068 label *label157
  1069 set :updatePosition.11:dx 0.5
-    * set :updatePosition.11:dy :updateRowPositionsEven:dy
+ 1070 set :updatePosition.11:dy -1.5
  1071 set :updatePosition.11:value :updateRowPositionsEven:col3
-    * jump *label163 lessThanEq :updatePosition.11:value :findBestPosition:best
-    * jump *label165 greaterThanEq :updatePosition.11:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.11:dx
-    * set :findBestPosition:bestY :updatePosition.11:dy
-    * set :findBestPosition:best :updatePosition.11:value
+ 1072 jump *label163 lessThanEq :updateRowPositionsEven:col3 :findBestPosition:best
+ 1073 jump *label165 greaterThanEq :updateRowPositionsEven:col3 0.0784313725490196
+ 1074 set :findBestPosition:bestX 0.5
+ 1075 set :findBestPosition:bestY :updateRowPositionsEven:dy
+ 1076 set :findBestPosition:best :updateRowPositionsEven:col3
  1077 label *label165
  1078 label *label166
  1079 label *label163
  1080 label *label164
  1081 label *label162
  1082 set :updatePosition.12:dx 1.5
-    * set :updatePosition.12:dy :updateRowPositionsEven:dy
+ 1083 set :updatePosition.12:dy -1.5
  1084 set :updatePosition.12:value :updateRowPositionsEven:col4
-    * jump *label168 lessThanEq :updatePosition.12:value :findBestPosition:best
-    * jump *label170 greaterThanEq :updatePosition.12:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.12:dx
-    * set :findBestPosition:bestY :updatePosition.12:dy
-    * set :findBestPosition:best :updatePosition.12:value
+ 1085 jump *label168 lessThanEq :updateRowPositionsEven:col4 :findBestPosition:best
+ 1086 jump *label170 greaterThanEq :updateRowPositionsEven:col4 0.0784313725490196
+ 1087 set :findBestPosition:bestX 1.5
+ 1088 set :findBestPosition:bestY :updateRowPositionsEven:dy
+ 1089 set :findBestPosition:best :updateRowPositionsEven:col4
  1090 label *label170
  1091 label *label171
  1092 label *label168
 
  1095 label *label151
  1096 set :updateRowPositionsEven.1:dy -0.5
  1097 set :updateRowPositionsEven.1:rowSum :findBestPosition:row2
-    * unpackcolor :updateRowPositionsEven.1:col1 :updateRowPositionsEven.1:col2 :updateRowPositionsEven.1:col3 :updateRowPositionsEven.1:col4 :updateRowPositionsEven.1:rowSum
+ 1098 unpackcolor :updateRowPositionsEven.1:col1 :updateRowPositionsEven.1:col2 :updateRowPositionsEven.1:col3 :updateRowPositionsEven.1:col4 :findBestPosition:row2
  1099 set :updatePosition.13:dx -1.5
-    * set :updatePosition.13:dy :updateRowPositionsEven.1:dy
+ 1100 set :updatePosition.13:dy -0.5
  1101 set :updatePosition.13:value :updateRowPositionsEven.1:col1
-    * jump *label174 lessThanEq :updatePosition.13:value :findBestPosition:best
-    * jump *label176 greaterThanEq :updatePosition.13:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.13:dx
-    * set :findBestPosition:bestY :updatePosition.13:dy
-    * set :findBestPosition:best :updatePosition.13:value
+ 1102 jump *label174 lessThanEq :updateRowPositionsEven.1:col1 :findBestPosition:best
+ 1103 jump *label176 greaterThanEq :updateRowPositionsEven.1:col1 0.0784313725490196
+ 1104 set :findBestPosition:bestX -1.5
+ 1105 set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+ 1106 set :findBestPosition:best :updateRowPositionsEven.1:col1
  1107 label *label176
  1108 label *label177
  1109 label *label174
  1110 label *label175
  1111 label *label173
  1112 set :updatePosition.14:dx -0.5
-    * set :updatePosition.14:dy :updateRowPositionsEven.1:dy
+ 1113 set :updatePosition.14:dy -0.5
  1114 set :updatePosition.14:value :updateRowPositionsEven.1:col2
-    * jump *label179 lessThanEq :updatePosition.14:value :findBestPosition:best
-    * jump *label181 greaterThanEq :updatePosition.14:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.14:dx
-    * set :findBestPosition:bestY :updatePosition.14:dy
-    * set :findBestPosition:best :updatePosition.14:value
+ 1115 jump *label179 lessThanEq :updateRowPositionsEven.1:col2 :findBestPosition:best
+ 1116 jump *label181 greaterThanEq :updateRowPositionsEven.1:col2 0.0784313725490196
+ 1117 set :findBestPosition:bestX -0.5
+ 1118 set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+ 1119 set :findBestPosition:best :updateRowPositionsEven.1:col2
  1120 label *label181
  1121 label *label182
  1122 label *label179
  1123 label *label180
  1124 label *label178
  1125 set :updatePosition.15:dx 0.5
-    * set :updatePosition.15:dy :updateRowPositionsEven.1:dy
+ 1126 set :updatePosition.15:dy -0.5
  1127 set :updatePosition.15:value :updateRowPositionsEven.1:col3
-    * jump *label184 lessThanEq :updatePosition.15:value :findBestPosition:best
-    * jump *label186 greaterThanEq :updatePosition.15:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.15:dx
-    * set :findBestPosition:bestY :updatePosition.15:dy
-    * set :findBestPosition:best :updatePosition.15:value
+ 1128 jump *label184 lessThanEq :updateRowPositionsEven.1:col3 :findBestPosition:best
+ 1129 jump *label186 greaterThanEq :updateRowPositionsEven.1:col3 0.0784313725490196
+ 1130 set :findBestPosition:bestX 0.5
+ 1131 set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+ 1132 set :findBestPosition:best :updateRowPositionsEven.1:col3
  1133 label *label186
  1134 label *label187
  1135 label *label184
  1136 label *label185
  1137 label *label183
  1138 set :updatePosition.16:dx 1.5
-    * set :updatePosition.16:dy :updateRowPositionsEven.1:dy
+ 1139 set :updatePosition.16:dy -0.5
  1140 set :updatePosition.16:value :updateRowPositionsEven.1:col4
-    * jump *label189 lessThanEq :updatePosition.16:value :findBestPosition:best
-    * jump *label191 greaterThanEq :updatePosition.16:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.16:dx
-    * set :findBestPosition:bestY :updatePosition.16:dy
-    * set :findBestPosition:best :updatePosition.16:value
+ 1141 jump *label189 lessThanEq :updateRowPositionsEven.1:col4 :findBestPosition:best
+ 1142 jump *label191 greaterThanEq :updateRowPositionsEven.1:col4 0.0784313725490196
+ 1143 set :findBestPosition:bestX 1.5
+ 1144 set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+ 1145 set :findBestPosition:best :updateRowPositionsEven.1:col4
  1146 label *label191
  1147 label *label192
  1148 label *label189
 
  1151 label *label172
  1152 set :updateRowPositionsEven.2:dy 0.5
  1153 set :updateRowPositionsEven.2:rowSum :findBestPosition:row3
-    * unpackcolor :updateRowPositionsEven.2:col1 :updateRowPositionsEven.2:col2 :updateRowPositionsEven.2:col3 :updateRowPositionsEven.2:col4 :updateRowPositionsEven.2:rowSum
+ 1154 unpackcolor :updateRowPositionsEven.2:col1 :updateRowPositionsEven.2:col2 :updateRowPositionsEven.2:col3 :updateRowPositionsEven.2:col4 :findBestPosition:row3
  1155 set :updatePosition.17:dx -1.5
-    * set :updatePosition.17:dy :updateRowPositionsEven.2:dy
+ 1156 set :updatePosition.17:dy 0.5
  1157 set :updatePosition.17:value :updateRowPositionsEven.2:col1
-    * jump *label195 lessThanEq :updatePosition.17:value :findBestPosition:best
-    * jump *label197 greaterThanEq :updatePosition.17:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.17:dx
-    * set :findBestPosition:bestY :updatePosition.17:dy
-    * set :findBestPosition:best :updatePosition.17:value
+ 1158 jump *label195 lessThanEq :updateRowPositionsEven.2:col1 :findBestPosition:best
+ 1159 jump *label197 greaterThanEq :updateRowPositionsEven.2:col1 0.0784313725490196
+ 1160 set :findBestPosition:bestX -1.5
+ 1161 set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+ 1162 set :findBestPosition:best :updateRowPositionsEven.2:col1
  1163 label *label197
  1164 label *label198
  1165 label *label195
  1166 label *label196
  1167 label *label194
  1168 set :updatePosition.18:dx -0.5
-    * set :updatePosition.18:dy :updateRowPositionsEven.2:dy
+ 1169 set :updatePosition.18:dy 0.5
  1170 set :updatePosition.18:value :updateRowPositionsEven.2:col2
-    * jump *label200 lessThanEq :updatePosition.18:value :findBestPosition:best
-    * jump *label202 greaterThanEq :updatePosition.18:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.18:dx
-    * set :findBestPosition:bestY :updatePosition.18:dy
-    * set :findBestPosition:best :updatePosition.18:value
+ 1171 jump *label200 lessThanEq :updateRowPositionsEven.2:col2 :findBestPosition:best
+ 1172 jump *label202 greaterThanEq :updateRowPositionsEven.2:col2 0.0784313725490196
+ 1173 set :findBestPosition:bestX -0.5
+ 1174 set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+ 1175 set :findBestPosition:best :updateRowPositionsEven.2:col2
  1176 label *label202
  1177 label *label203
  1178 label *label200
  1179 label *label201
  1180 label *label199
  1181 set :updatePosition.19:dx 0.5
-    * set :updatePosition.19:dy :updateRowPositionsEven.2:dy
+ 1182 set :updatePosition.19:dy 0.5
  1183 set :updatePosition.19:value :updateRowPositionsEven.2:col3
-    * jump *label205 lessThanEq :updatePosition.19:value :findBestPosition:best
-    * jump *label207 greaterThanEq :updatePosition.19:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.19:dx
-    * set :findBestPosition:bestY :updatePosition.19:dy
-    * set :findBestPosition:best :updatePosition.19:value
+ 1184 jump *label205 lessThanEq :updateRowPositionsEven.2:col3 :findBestPosition:best
+ 1185 jump *label207 greaterThanEq :updateRowPositionsEven.2:col3 0.0784313725490196
+ 1186 set :findBestPosition:bestX 0.5
+ 1187 set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+ 1188 set :findBestPosition:best :updateRowPositionsEven.2:col3
  1189 label *label207
  1190 label *label208
  1191 label *label205
  1192 label *label206
  1193 label *label204
  1194 set :updatePosition.20:dx 1.5
-    * set :updatePosition.20:dy :updateRowPositionsEven.2:dy
+ 1195 set :updatePosition.20:dy 0.5
  1196 set :updatePosition.20:value :updateRowPositionsEven.2:col4
-    * jump *label210 lessThanEq :updatePosition.20:value :findBestPosition:best
-    * jump *label212 greaterThanEq :updatePosition.20:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.20:dx
-    * set :findBestPosition:bestY :updatePosition.20:dy
-    * set :findBestPosition:best :updatePosition.20:value
+ 1197 jump *label210 lessThanEq :updateRowPositionsEven.2:col4 :findBestPosition:best
+ 1198 jump *label212 greaterThanEq :updateRowPositionsEven.2:col4 0.0784313725490196
+ 1199 set :findBestPosition:bestX 1.5
+ 1200 set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+ 1201 set :findBestPosition:best :updateRowPositionsEven.2:col4
  1202 label *label212
  1203 label *label213
  1204 label *label210
 
  1207 label *label193
  1208 set :updateRowPositionsEven.3:dy 1.5
  1209 set :updateRowPositionsEven.3:rowSum :findBestPosition:row4
-    * unpackcolor :updateRowPositionsEven.3:col1 :updateRowPositionsEven.3:col2 :updateRowPositionsEven.3:col3 :updateRowPositionsEven.3:col4 :updateRowPositionsEven.3:rowSum
+ 1210 unpackcolor :updateRowPositionsEven.3:col1 :updateRowPositionsEven.3:col2 :updateRowPositionsEven.3:col3 :updateRowPositionsEven.3:col4 :findBestPosition:row4
  1211 set :updatePosition.21:dx -1.5
-    * set :updatePosition.21:dy :updateRowPositionsEven.3:dy
+ 1212 set :updatePosition.21:dy 1.5
  1213 set :updatePosition.21:value :updateRowPositionsEven.3:col1
-    * jump *label216 lessThanEq :updatePosition.21:value :findBestPosition:best
-    * jump *label218 greaterThanEq :updatePosition.21:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.21:dx
-    * set :findBestPosition:bestY :updatePosition.21:dy
-    * set :findBestPosition:best :updatePosition.21:value
+ 1214 jump *label216 lessThanEq :updateRowPositionsEven.3:col1 :findBestPosition:best
+ 1215 jump *label218 greaterThanEq :updateRowPositionsEven.3:col1 0.0784313725490196
+ 1216 set :findBestPosition:bestX -1.5
+ 1217 set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+ 1218 set :findBestPosition:best :updateRowPositionsEven.3:col1
  1219 label *label218
  1220 label *label219
  1221 label *label216
  1222 label *label217
  1223 label *label215
  1224 set :updatePosition.22:dx -0.5
-    * set :updatePosition.22:dy :updateRowPositionsEven.3:dy
+ 1225 set :updatePosition.22:dy 1.5
  1226 set :updatePosition.22:value :updateRowPositionsEven.3:col2
-    * jump *label221 lessThanEq :updatePosition.22:value :findBestPosition:best
-    * jump *label223 greaterThanEq :updatePosition.22:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.22:dx
-    * set :findBestPosition:bestY :updatePosition.22:dy
-    * set :findBestPosition:best :updatePosition.22:value
+ 1227 jump *label221 lessThanEq :updateRowPositionsEven.3:col2 :findBestPosition:best
+ 1228 jump *label223 greaterThanEq :updateRowPositionsEven.3:col2 0.0784313725490196
+ 1229 set :findBestPosition:bestX -0.5
+ 1230 set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+ 1231 set :findBestPosition:best :updateRowPositionsEven.3:col2
  1232 label *label223
  1233 label *label224
  1234 label *label221
  1235 label *label222
  1236 label *label220
  1237 set :updatePosition.23:dx 0.5
-    * set :updatePosition.23:dy :updateRowPositionsEven.3:dy
+ 1238 set :updatePosition.23:dy 1.5
  1239 set :updatePosition.23:value :updateRowPositionsEven.3:col3
-    * jump *label226 lessThanEq :updatePosition.23:value :findBestPosition:best
-    * jump *label228 greaterThanEq :updatePosition.23:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.23:dx
-    * set :findBestPosition:bestY :updatePosition.23:dy
-    * set :findBestPosition:best :updatePosition.23:value
+ 1240 jump *label226 lessThanEq :updateRowPositionsEven.3:col3 :findBestPosition:best
+ 1241 jump *label228 greaterThanEq :updateRowPositionsEven.3:col3 0.0784313725490196
+ 1242 set :findBestPosition:bestX 0.5
+ 1243 set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+ 1244 set :findBestPosition:best :updateRowPositionsEven.3:col3
  1245 label *label228
  1246 label *label229
  1247 label *label226
  1248 label *label227
  1249 label *label225
  1250 set :updatePosition.24:dx 1.5
-    * set :updatePosition.24:dy :updateRowPositionsEven.3:dy
+ 1251 set :updatePosition.24:dy 1.5
  1252 set :updatePosition.24:value :updateRowPositionsEven.3:col4
-    * jump *label231 lessThanEq :updatePosition.24:value :findBestPosition:best
-    * jump *label233 greaterThanEq :updatePosition.24:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.24:dx
-    * set :findBestPosition:bestY :updatePosition.24:dy
-    * set :findBestPosition:best :updatePosition.24:value
+ 1253 jump *label231 lessThanEq :updateRowPositionsEven.3:col4 :findBestPosition:best
+ 1254 jump *label233 greaterThanEq :updateRowPositionsEven.3:col4 0.0784313725490196
+ 1255 set :findBestPosition:bestX 1.5
+ 1256 set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+ 1257 set :findBestPosition:best :updateRowPositionsEven.3:col4
  1258 label *label233
  1259 label *label234
  1260 label *label231
 
  1264 label *label76
  1265 op mul :findBestPosition*retval :findBestPosition:best 255
  1266 jump *label14 always
-    * set :findBestPosition*retval null
  1267 label *label14
  1268 set :findBestPosition*finished true
  1269 jump *label5 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-289 instructions):
 
    19 op shl *tmp0 :createTerrainMask:result 1
    20 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
    21 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
-    * set :isSolid:x *tmp1
-    * set :isSolid:y *tmp2
    22 ucontrol getBlock *tmp1 *tmp2 type building floor
    23 sensor solid type @solid
    24 select :isSolid:result notEqual solid false 1 0
-    * set *tmp3 :isSolid:result
    25 label *label13
    26 op or :createTerrainMask:result *tmp0 :isSolid:result
    27 label *label11
 
    44 set :computeRowValues:x :findBestPosition:x
    45 set :computeRowValues:y *tmp5
    46 set :computeRowValues:ore :findBestPosition:ore
-    * set :computeRowValues:size :findBestPosition:size
    47 op sub :tileValue:x :findBestPosition:x 2
-    * set :tileValue:y *tmp5
-    * set :tileValue:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+   48 ucontrol getBlock :tileValue:x *tmp5 type building floor
+   49 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    50 sensor solid type @solid
    51 select :tileValue:result notEqual solid false 0.09803921568627451 value
    52 set *tmp8 :tileValue:result
    53 label *label16
-    * set :computeRowValues:x1 :tileValue:result
    54 op sub :tileValue.1:x :findBestPosition:x 1
-    * set :tileValue.1:y *tmp5
-    * set :tileValue.1:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+   55 ucontrol getBlock :tileValue.1:x *tmp5 type building floor
+   56 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    57 sensor solid type @solid
    58 select :tileValue.1:result notEqual solid false 0.09803921568627451 value
    59 set *tmp10 :tileValue.1:result
    60 label *label17
-    * set :computeRowValues:x2 :tileValue.1:result
-    * set :tileValue.2:x :findBestPosition:x
-    * set :tileValue.2:y *tmp5
-    * set :tileValue.2:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+   61 ucontrol getBlock :findBestPosition:x *tmp5 type building floor
+   62 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    63 sensor solid type @solid
    64 select :tileValue.2:result notEqual solid false 0.09803921568627451 value
    65 set *tmp12 :tileValue.2:result
    66 label *label18
-    * set :computeRowValues:x3 :tileValue.2:result
    67 op add :tileValue.3:x :findBestPosition:x 1
-    * set :tileValue.3:y *tmp5
-    * set :tileValue.3:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+   68 ucontrol getBlock :tileValue.3:x *tmp5 type building floor
+   69 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    70 sensor solid type @solid
    71 select :tileValue.3:result notEqual solid false 0.09803921568627451 value
    72 set *tmp14 :tileValue.3:result
    73 label *label19
-    * set :computeRowValues:x4 :tileValue.3:result
    74 op add :tileValue.4:x :findBestPosition:x 2
-    * set :tileValue.4:y *tmp5
-    * set :tileValue.4:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+   75 ucontrol getBlock :tileValue.4:x *tmp5 type building floor
+   76 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    77 sensor solid type @solid
    78 select :tileValue.4:result notEqual solid false 0.09803921568627451 value
    79 set *tmp16 :tileValue.4:result
    80 label *label20
-    * set :computeRowValues:x5 :tileValue.4:result
    81 jump *label21 notEqual :findBestPosition:size 2
-    * op add *tmp19 *tmp8 *tmp10
-    * op add *tmp20 *tmp10 *tmp12
-    * op add *tmp21 *tmp12 *tmp14
-    * op add *tmp22 *tmp14 *tmp16
+   82 op add *tmp19 :tileValue:result :tileValue.1:result
+   83 op add *tmp20 :tileValue.1:result :tileValue.2:result
+   84 op add *tmp21 :tileValue.2:result :tileValue.3:result
+   85 op add *tmp22 :tileValue.3:result :tileValue.4:result
    86 packcolor *tmp6 *tmp19 *tmp20 *tmp21 *tmp22
    87 jump *label15 always
    88 jump *label22 always
    89 label *label21
    90 jump *label23 notEqual :findBestPosition:size 3
-    * op add *tmp26 *tmp10 *tmp12
-    * op add *tmp27 *tmp8 *tmp26
-    * op add *tmp28 *tmp10 *tmp12
-    * op add *tmp29 *tmp26 *tmp14
-    * op add *tmp30 *tmp12 *tmp14
-    * op add *tmp31 *tmp30 *tmp16
+   91 op add *tmp26 :tileValue.1:result :tileValue.2:result
+   92 op add *tmp27 :tileValue:result *tmp26
+   93 op add *tmp28 :tileValue.1:result :tileValue.2:result
+   94 op add *tmp29 *tmp26 :tileValue.3:result
+   95 op add *tmp30 :tileValue.2:result :tileValue.3:result
+   96 op add *tmp31 *tmp30 :tileValue.4:result
    97 packcolor *tmp6 *tmp27 *tmp29 *tmp31 0
    98 jump *label15 always
    99 jump *label24 always
   100 label *label23
   101 op sub :tileValue.5:x :findBestPosition:x 3
-    * set :tileValue.5:y *tmp5
-    * set :tileValue.5:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.5:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+  102 ucontrol getBlock :tileValue.5:x *tmp5 type building floor
+  103 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   104 sensor solid type @solid
   105 select :tileValue.5:result notEqual solid false 0.09803921568627451 value
   106 set *tmp34 :tileValue.5:result
   107 label *label25
-    * set :computeRowValues:x0 :tileValue.5:result
   108 op add :tileValue.6:x :findBestPosition:x 3
-    * set :tileValue.6:y *tmp5
-    * set :tileValue.6:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.6:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+  109 ucontrol getBlock :tileValue.6:x *tmp5 type building floor
+  110 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   111 sensor solid type @solid
   112 select :tileValue.6:result notEqual solid false 0.09803921568627451 value
   113 set *tmp36 :tileValue.6:result
   114 label *label26
-    * set :computeRowValues:x6 :tileValue.6:result
-    * op add *tmp37 *tmp8 *tmp10
-    * op add *tmp38 *tmp37 *tmp12
-    * op add *tmp39 *tmp34 *tmp38
+  115 op add *tmp37 :tileValue:result :tileValue.1:result
+  116 op add *tmp38 *tmp37 :tileValue.2:result
+  117 op add *tmp39 :tileValue.5:result *tmp38
   118 op min *tmp40 0.09803921568627451 *tmp39
-    * op add *tmp41 *tmp8 *tmp10
-    * op add *tmp42 *tmp37 *tmp12
-    * op add *tmp43 *tmp38 *tmp14
+  119 op add *tmp41 :tileValue:result :tileValue.1:result
+  120 op add *tmp42 *tmp37 :tileValue.2:result
+  121 op add *tmp43 *tmp38 :tileValue.3:result
   122 op min *tmp44 0.09803921568627451 *tmp43
-    * op add *tmp45 *tmp12 *tmp14
-    * op add *tmp46 *tmp45 *tmp16
-    * op add *tmp47 *tmp10 *tmp46
+  123 op add *tmp45 :tileValue.2:result :tileValue.3:result
+  124 op add *tmp46 *tmp45 :tileValue.4:result
+  125 op add *tmp47 :tileValue.1:result *tmp46
   126 op min *tmp48 0.09803921568627451 *tmp47
-    * op add *tmp49 *tmp12 *tmp14
-    * op add *tmp50 *tmp45 *tmp16
-    * op add *tmp51 *tmp46 *tmp36
+  127 op add *tmp49 :tileValue.2:result :tileValue.3:result
+  128 op add *tmp50 *tmp45 :tileValue.4:result
+  129 op add *tmp51 *tmp46 :tileValue.6:result
   130 op min *tmp52 0.09803921568627451 *tmp51
   131 packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52
   132 jump *label15 always
   133 label *label24
-    * set *tmp18 null
   134 label *label22
-    * set *tmp6 null
   135 label *label15
-    * set :findBestPosition:y1 *tmp6
   136 op sub *tmp54 :findBestPosition:y 1
   137 set :computeRowValues.1:x :findBestPosition:x
   138 set :computeRowValues.1:y *tmp54
   139 set :computeRowValues.1:ore :findBestPosition:ore
-    * set :computeRowValues.1:size :findBestPosition:size
-    * op sub :tileValue.7:x :findBestPosition:x 2
-    * set :tileValue.7:y *tmp54
-    * set :tileValue.7:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  140 ucontrol getBlock :tileValue:x *tmp54 type building floor
+  141 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   142 sensor solid type @solid
   143 select :tileValue.7:result notEqual solid false 0.09803921568627451 value
   144 set *tmp57 :tileValue.7:result
   145 label *label28
-    * set :computeRowValues.1:x1 :tileValue.7:result
-    * op sub :tileValue.8:x :findBestPosition:x 1
-    * set :tileValue.8:y *tmp54
-    * set :tileValue.8:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  146 ucontrol getBlock :tileValue.1:x *tmp54 type building floor
+  147 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   148 sensor solid type @solid
   149 select :tileValue.8:result notEqual solid false 0.09803921568627451 value
   150 set *tmp59 :tileValue.8:result
   151 label *label29
-    * set :computeRowValues.1:x2 :tileValue.8:result
-    * set :tileValue.9:x :findBestPosition:x
-    * set :tileValue.9:y *tmp54
-    * set :tileValue.9:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues.1:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  152 ucontrol getBlock :findBestPosition:x *tmp54 type building floor
+  153 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   154 sensor solid type @solid
   155 select :tileValue.9:result notEqual solid false 0.09803921568627451 value
   156 set *tmp61 :tileValue.9:result
   157 label *label30
-    * set :computeRowValues.1:x3 :tileValue.9:result
-    * op add :tileValue.10:x :findBestPosition:x 1
-    * set :tileValue.10:y *tmp54
-    * set :tileValue.10:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  158 ucontrol getBlock :tileValue.3:x *tmp54 type building floor
+  159 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   160 sensor solid type @solid
   161 select :tileValue.10:result notEqual solid false 0.09803921568627451 value
   162 set *tmp63 :tileValue.10:result
   163 label *label31
-    * set :computeRowValues.1:x4 :tileValue.10:result
-    * op add :tileValue.11:x :findBestPosition:x 2
-    * set :tileValue.11:y *tmp54
-    * set :tileValue.11:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  164 ucontrol getBlock :tileValue.4:x *tmp54 type building floor
+  165 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   166 sensor solid type @solid
   167 select :tileValue.11:result notEqual solid false 0.09803921568627451 value
   168 set *tmp65 :tileValue.11:result
   169 label *label32
-    * set :computeRowValues.1:x5 :tileValue.11:result
   170 jump *label33 notEqual :findBestPosition:size 2
-    * op add *tmp68 *tmp57 *tmp59
-    * op add *tmp69 *tmp59 *tmp61
-    * op add *tmp70 *tmp61 *tmp63
-    * op add *tmp71 *tmp63 *tmp65
+  171 op add *tmp68 :tileValue.7:result :tileValue.8:result
+  172 op add *tmp69 :tileValue.8:result :tileValue.9:result
+  173 op add *tmp70 :tileValue.9:result :tileValue.10:result
+  174 op add *tmp71 :tileValue.10:result :tileValue.11:result
   175 packcolor *tmp55 *tmp68 *tmp69 *tmp70 *tmp71
   176 jump *label27 always
   177 jump *label34 always
   178 label *label33
   179 jump *label35 notEqual :findBestPosition:size 3
-    * op add *tmp75 *tmp59 *tmp61
-    * op add *tmp76 *tmp57 *tmp75
-    * op add *tmp77 *tmp59 *tmp61
-    * op add *tmp78 *tmp75 *tmp63
-    * op add *tmp79 *tmp61 *tmp63
-    * op add *tmp80 *tmp79 *tmp65
+  180 op add *tmp75 :tileValue.8:result :tileValue.9:result
+  181 op add *tmp76 :tileValue.7:result *tmp75
+  182 op add *tmp77 :tileValue.8:result :tileValue.9:result
+  183 op add *tmp78 *tmp75 :tileValue.10:result
+  184 op add *tmp79 :tileValue.9:result :tileValue.10:result
+  185 op add *tmp80 *tmp79 :tileValue.11:result
   186 packcolor *tmp55 *tmp76 *tmp78 *tmp80 0
   187 jump *label27 always
   188 jump *label36 always
   189 label *label35
   190 op sub :tileValue.12:x :findBestPosition:x 3
-    * set :tileValue.12:y *tmp54
-    * set :tileValue.12:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.12:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  191 ucontrol getBlock :tileValue.12:x *tmp54 type building floor
+  192 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   193 sensor solid type @solid
   194 select :tileValue.12:result notEqual solid false 0.09803921568627451 value
   195 set *tmp83 :tileValue.12:result
   196 label *label37
-    * set :computeRowValues.1:x0 :tileValue.12:result
   197 op add :tileValue.13:x :findBestPosition:x 3
-    * set :tileValue.13:y *tmp54
-    * set :tileValue.13:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.13:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  198 ucontrol getBlock :tileValue.13:x *tmp54 type building floor
+  199 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   200 sensor solid type @solid
   201 select :tileValue.13:result notEqual solid false 0.09803921568627451 value
   202 set *tmp85 :tileValue.13:result
   203 label *label38
-    * set :computeRowValues.1:x6 :tileValue.13:result
-    * op add *tmp86 *tmp57 *tmp59
-    * op add *tmp87 *tmp86 *tmp61
-    * op add *tmp88 *tmp83 *tmp87
+  204 op add *tmp86 :tileValue.7:result :tileValue.8:result
+  205 op add *tmp87 *tmp86 :tileValue.9:result
+  206 op add *tmp88 :tileValue.12:result *tmp87
   207 op min *tmp89 0.09803921568627451 *tmp88
-    * op add *tmp90 *tmp57 *tmp59
-    * op add *tmp91 *tmp86 *tmp61
-    * op add *tmp92 *tmp87 *tmp63
+  208 op add *tmp90 :tileValue.7:result :tileValue.8:result
+  209 op add *tmp91 *tmp86 :tileValue.9:result
+  210 op add *tmp92 *tmp87 :tileValue.10:result
   211 op min *tmp93 0.09803921568627451 *tmp92
-    * op add *tmp94 *tmp61 *tmp63
-    * op add *tmp95 *tmp94 *tmp65
-    * op add *tmp96 *tmp59 *tmp95
+  212 op add *tmp94 :tileValue.9:result :tileValue.10:result
+  213 op add *tmp95 *tmp94 :tileValue.11:result
+  214 op add *tmp96 :tileValue.8:result *tmp95
   215 op min *tmp97 0.09803921568627451 *tmp96
-    * op add *tmp98 *tmp61 *tmp63
-    * op add *tmp99 *tmp94 *tmp65
-    * op add *tmp100 *tmp95 *tmp85
+  216 op add *tmp98 :tileValue.9:result :tileValue.10:result
+  217 op add *tmp99 *tmp94 :tileValue.11:result
+  218 op add *tmp100 *tmp95 :tileValue.13:result
   219 op min *tmp101 0.09803921568627451 *tmp100
   220 packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101
   221 jump *label27 always
   222 label *label36
-    * set *tmp67 null
   223 label *label34
-    * set *tmp55 null
   224 label *label27
-    * set :findBestPosition:y2 *tmp55
   225 set *tmp103 :findBestPosition:y
   226 set :computeRowValues.2:x :findBestPosition:x
   227 set :computeRowValues.2:y :findBestPosition:y
   228 set :computeRowValues.2:ore :findBestPosition:ore
-    * set :computeRowValues.2:size :findBestPosition:size
-    * op sub :tileValue.14:x :findBestPosition:x 2
-    * set :tileValue.14:y *tmp103
-    * set :tileValue.14:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  229 set :tileValue.14:y :findBestPosition:y
+  230 ucontrol getBlock :tileValue:x :findBestPosition:y type building floor
+  231 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   232 sensor solid type @solid
   233 select :tileValue.14:result notEqual solid false 0.09803921568627451 value
   234 set *tmp106 :tileValue.14:result
   235 label *label40
-    * set :computeRowValues.2:x1 :tileValue.14:result
-    * op sub :tileValue.15:x :findBestPosition:x 1
-    * set :tileValue.15:y *tmp103
-    * set :tileValue.15:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  236 set :tileValue.15:y :findBestPosition:y
+  237 ucontrol getBlock :tileValue.1:x :findBestPosition:y type building floor
+  238 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   239 sensor solid type @solid
   240 select :tileValue.15:result notEqual solid false 0.09803921568627451 value
   241 set *tmp108 :tileValue.15:result
   242 label *label41
-    * set :computeRowValues.2:x2 :tileValue.15:result
-    * set :tileValue.16:x :findBestPosition:x
-    * set :tileValue.16:y *tmp103
-    * set :tileValue.16:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues.2:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  243 set :tileValue.16:y :findBestPosition:y
+  244 ucontrol getBlock :findBestPosition:x :findBestPosition:y type building floor
+  245 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   246 sensor solid type @solid
   247 select :tileValue.16:result notEqual solid false 0.09803921568627451 value
   248 set *tmp110 :tileValue.16:result
   249 label *label42
-    * set :computeRowValues.2:x3 :tileValue.16:result
-    * op add :tileValue.17:x :findBestPosition:x 1
-    * set :tileValue.17:y *tmp103
-    * set :tileValue.17:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  250 set :tileValue.17:y :findBestPosition:y
+  251 ucontrol getBlock :tileValue.3:x :findBestPosition:y type building floor
+  252 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   253 sensor solid type @solid
   254 select :tileValue.17:result notEqual solid false 0.09803921568627451 value
   255 set *tmp112 :tileValue.17:result
   256 label *label43
-    * set :computeRowValues.2:x4 :tileValue.17:result
-    * op add :tileValue.18:x :findBestPosition:x 2
-    * set :tileValue.18:y *tmp103
-    * set :tileValue.18:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  257 set :tileValue.18:y :findBestPosition:y
+  258 ucontrol getBlock :tileValue.4:x :findBestPosition:y type building floor
+  259 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   260 sensor solid type @solid
   261 select :tileValue.18:result notEqual solid false 0.09803921568627451 value
   262 set *tmp114 :tileValue.18:result
   263 label *label44
-    * set :computeRowValues.2:x5 :tileValue.18:result
   264 jump *label45 notEqual :findBestPosition:size 2
-    * op add *tmp117 *tmp106 *tmp108
-    * op add *tmp118 *tmp108 *tmp110
-    * op add *tmp119 *tmp110 *tmp112
-    * op add *tmp120 *tmp112 *tmp114
+  265 op add *tmp117 :tileValue.14:result :tileValue.15:result
+  266 op add *tmp118 :tileValue.15:result :tileValue.16:result
+  267 op add *tmp119 :tileValue.16:result :tileValue.17:result
+  268 op add *tmp120 :tileValue.17:result :tileValue.18:result
   269 packcolor *tmp104 *tmp117 *tmp118 *tmp119 *tmp120
   270 jump *label39 always
   271 jump *label46 always
   272 label *label45
   273 jump *label47 notEqual :findBestPosition:size 3
-    * op add *tmp124 *tmp108 *tmp110
-    * op add *tmp125 *tmp106 *tmp124
-    * op add *tmp126 *tmp108 *tmp110
-    * op add *tmp127 *tmp124 *tmp112
-    * op add *tmp128 *tmp110 *tmp112
-    * op add *tmp129 *tmp128 *tmp114
+  274 op add *tmp124 :tileValue.15:result :tileValue.16:result
+  275 op add *tmp125 :tileValue.14:result *tmp124
+  276 op add *tmp126 :tileValue.15:result :tileValue.16:result
+  277 op add *tmp127 *tmp124 :tileValue.17:result
+  278 op add *tmp128 :tileValue.16:result :tileValue.17:result
+  279 op add *tmp129 *tmp128 :tileValue.18:result
   280 packcolor *tmp104 *tmp125 *tmp127 *tmp129 0
   281 jump *label39 always
   282 jump *label48 always
   283 label *label47
   284 op sub :tileValue.19:x :findBestPosition:x 3
-    * set :tileValue.19:y *tmp103
-    * set :tileValue.19:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.19:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  285 set :tileValue.19:y :findBestPosition:y
+  286 ucontrol getBlock :tileValue.19:x :findBestPosition:y type building floor
+  287 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   288 sensor solid type @solid
   289 select :tileValue.19:result notEqual solid false 0.09803921568627451 value
   290 set *tmp132 :tileValue.19:result
   291 label *label49
-    * set :computeRowValues.2:x0 :tileValue.19:result
   292 op add :tileValue.20:x :findBestPosition:x 3
-    * set :tileValue.20:y *tmp103
-    * set :tileValue.20:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.20:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  293 set :tileValue.20:y :findBestPosition:y
+  294 ucontrol getBlock :tileValue.20:x :findBestPosition:y type building floor
+  295 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   296 sensor solid type @solid
   297 select :tileValue.20:result notEqual solid false 0.09803921568627451 value
   298 set *tmp134 :tileValue.20:result
   299 label *label50
-    * set :computeRowValues.2:x6 :tileValue.20:result
-    * op add *tmp135 *tmp106 *tmp108
-    * op add *tmp136 *tmp135 *tmp110
-    * op add *tmp137 *tmp132 *tmp136
+  300 op add *tmp135 :tileValue.14:result :tileValue.15:result
+  301 op add *tmp136 *tmp135 :tileValue.16:result
+  302 op add *tmp137 :tileValue.19:result *tmp136
   303 op min *tmp138 0.09803921568627451 *tmp137
-    * op add *tmp139 *tmp106 *tmp108
-    * op add *tmp140 *tmp135 *tmp110
-    * op add *tmp141 *tmp136 *tmp112
+  304 op add *tmp139 :tileValue.14:result :tileValue.15:result
+  305 op add *tmp140 *tmp135 :tileValue.16:result
+  306 op add *tmp141 *tmp136 :tileValue.17:result
   307 op min *tmp142 0.09803921568627451 *tmp141
-    * op add *tmp143 *tmp110 *tmp112
-    * op add *tmp144 *tmp143 *tmp114
-    * op add *tmp145 *tmp108 *tmp144
+  308 op add *tmp143 :tileValue.16:result :tileValue.17:result
+  309 op add *tmp144 *tmp143 :tileValue.18:result
+  310 op add *tmp145 :tileValue.15:result *tmp144
   311 op min *tmp146 0.09803921568627451 *tmp145
-    * op add *tmp147 *tmp110 *tmp112
-    * op add *tmp148 *tmp143 *tmp114
-    * op add *tmp149 *tmp144 *tmp134
+  312 op add *tmp147 :tileValue.16:result :tileValue.17:result
+  313 op add *tmp148 *tmp143 :tileValue.18:result
+  314 op add *tmp149 *tmp144 :tileValue.20:result
   315 op min *tmp150 0.09803921568627451 *tmp149
   316 packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150
   317 jump *label39 always
   318 label *label48
-    * set *tmp116 null
   319 label *label46
-    * set *tmp104 null
   320 label *label39
-    * set :findBestPosition:y3 *tmp104
   321 op add *tmp152 :findBestPosition:y 1
   322 set :computeRowValues.3:x :findBestPosition:x
   323 set :computeRowValues.3:y *tmp152
   324 set :computeRowValues.3:ore :findBestPosition:ore
-    * set :computeRowValues.3:size :findBestPosition:size
-    * op sub :tileValue.21:x :findBestPosition:x 2
-    * set :tileValue.21:y *tmp152
-    * set :tileValue.21:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  325 ucontrol getBlock :tileValue:x *tmp152 type building floor
+  326 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   327 sensor solid type @solid
   328 select :tileValue.21:result notEqual solid false 0.09803921568627451 value
   329 set *tmp155 :tileValue.21:result
   330 label *label52
-    * set :computeRowValues.3:x1 :tileValue.21:result
-    * op sub :tileValue.22:x :findBestPosition:x 1
-    * set :tileValue.22:y *tmp152
-    * set :tileValue.22:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  331 ucontrol getBlock :tileValue.1:x *tmp152 type building floor
+  332 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   333 sensor solid type @solid
   334 select :tileValue.22:result notEqual solid false 0.09803921568627451 value
   335 set *tmp157 :tileValue.22:result
   336 label *label53
-    * set :computeRowValues.3:x2 :tileValue.22:result
-    * set :tileValue.23:x :findBestPosition:x
-    * set :tileValue.23:y *tmp152
-    * set :tileValue.23:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues.3:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  337 ucontrol getBlock :findBestPosition:x *tmp152 type building floor
+  338 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   339 sensor solid type @solid
   340 select :tileValue.23:result notEqual solid false 0.09803921568627451 value
   341 set *tmp159 :tileValue.23:result
   342 label *label54
-    * set :computeRowValues.3:x3 :tileValue.23:result
-    * op add :tileValue.24:x :findBestPosition:x 1
-    * set :tileValue.24:y *tmp152
-    * set :tileValue.24:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  343 ucontrol getBlock :tileValue.3:x *tmp152 type building floor
+  344 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   345 sensor solid type @solid
   346 select :tileValue.24:result notEqual solid false 0.09803921568627451 value
   347 set *tmp161 :tileValue.24:result
   348 label *label55
-    * set :computeRowValues.3:x4 :tileValue.24:result
-    * op add :tileValue.25:x :findBestPosition:x 2
-    * set :tileValue.25:y *tmp152
-    * set :tileValue.25:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  349 ucontrol getBlock :tileValue.4:x *tmp152 type building floor
+  350 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   351 sensor solid type @solid
   352 select :tileValue.25:result notEqual solid false 0.09803921568627451 value
   353 set *tmp163 :tileValue.25:result
   354 label *label56
-    * set :computeRowValues.3:x5 :tileValue.25:result
   355 jump *label57 notEqual :findBestPosition:size 2
-    * op add *tmp166 *tmp155 *tmp157
-    * op add *tmp167 *tmp157 *tmp159
-    * op add *tmp168 *tmp159 *tmp161
-    * op add *tmp169 *tmp161 *tmp163
+  356 op add *tmp166 :tileValue.21:result :tileValue.22:result
+  357 op add *tmp167 :tileValue.22:result :tileValue.23:result
+  358 op add *tmp168 :tileValue.23:result :tileValue.24:result
+  359 op add *tmp169 :tileValue.24:result :tileValue.25:result
   360 packcolor *tmp153 *tmp166 *tmp167 *tmp168 *tmp169
   361 jump *label51 always
   362 jump *label58 always
   363 label *label57
   364 jump *label59 notEqual :findBestPosition:size 3
-    * op add *tmp173 *tmp157 *tmp159
-    * op add *tmp174 *tmp155 *tmp173
-    * op add *tmp175 *tmp157 *tmp159
-    * op add *tmp176 *tmp173 *tmp161
-    * op add *tmp177 *tmp159 *tmp161
-    * op add *tmp178 *tmp177 *tmp163
+  365 op add *tmp173 :tileValue.22:result :tileValue.23:result
+  366 op add *tmp174 :tileValue.21:result *tmp173
+  367 op add *tmp175 :tileValue.22:result :tileValue.23:result
+  368 op add *tmp176 *tmp173 :tileValue.24:result
+  369 op add *tmp177 :tileValue.23:result :tileValue.24:result
+  370 op add *tmp178 *tmp177 :tileValue.25:result
   371 packcolor *tmp153 *tmp174 *tmp176 *tmp178 0
   372 jump *label51 always
   373 jump *label60 always
   374 label *label59
   375 op sub :tileValue.26:x :findBestPosition:x 3
-    * set :tileValue.26:y *tmp152
-    * set :tileValue.26:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.26:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  376 ucontrol getBlock :tileValue.26:x *tmp152 type building floor
+  377 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   378 sensor solid type @solid
   379 select :tileValue.26:result notEqual solid false 0.09803921568627451 value
   380 set *tmp181 :tileValue.26:result
   381 label *label61
-    * set :computeRowValues.3:x0 :tileValue.26:result
   382 op add :tileValue.27:x :findBestPosition:x 3
-    * set :tileValue.27:y *tmp152
-    * set :tileValue.27:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.27:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  383 ucontrol getBlock :tileValue.27:x *tmp152 type building floor
+  384 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   385 sensor solid type @solid
   386 select :tileValue.27:result notEqual solid false 0.09803921568627451 value
   387 set *tmp183 :tileValue.27:result
   388 label *label62
-    * set :computeRowValues.3:x6 :tileValue.27:result
-    * op add *tmp184 *tmp155 *tmp157
-    * op add *tmp185 *tmp184 *tmp159
-    * op add *tmp186 *tmp181 *tmp185
+  389 op add *tmp184 :tileValue.21:result :tileValue.22:result
+  390 op add *tmp185 *tmp184 :tileValue.23:result
+  391 op add *tmp186 :tileValue.26:result *tmp185
   392 op min *tmp187 0.09803921568627451 *tmp186
-    * op add *tmp188 *tmp155 *tmp157
-    * op add *tmp189 *tmp184 *tmp159
-    * op add *tmp190 *tmp185 *tmp161
+  393 op add *tmp188 :tileValue.21:result :tileValue.22:result
+  394 op add *tmp189 *tmp184 :tileValue.23:result
+  395 op add *tmp190 *tmp185 :tileValue.24:result
   396 op min *tmp191 0.09803921568627451 *tmp190
-    * op add *tmp192 *tmp159 *tmp161
-    * op add *tmp193 *tmp192 *tmp163
-    * op add *tmp194 *tmp157 *tmp193
+  397 op add *tmp192 :tileValue.23:result :tileValue.24:result
+  398 op add *tmp193 *tmp192 :tileValue.25:result
+  399 op add *tmp194 :tileValue.22:result *tmp193
   400 op min *tmp195 0.09803921568627451 *tmp194
-    * op add *tmp196 *tmp159 *tmp161
-    * op add *tmp197 *tmp192 *tmp163
-    * op add *tmp198 *tmp193 *tmp183
+  401 op add *tmp196 :tileValue.23:result :tileValue.24:result
+  402 op add *tmp197 *tmp192 :tileValue.25:result
+  403 op add *tmp198 *tmp193 :tileValue.27:result
   404 op min *tmp199 0.09803921568627451 *tmp198
   405 packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199
   406 jump *label51 always
   407 label *label60
-    * set *tmp165 null
   408 label *label58
-    * set *tmp153 null
   409 label *label51
-    * set :findBestPosition:y4 *tmp153
   410 op add *tmp201 :findBestPosition:y 2
   411 set :computeRowValues.4:x :findBestPosition:x
   412 set :computeRowValues.4:y *tmp201
   413 set :computeRowValues.4:ore :findBestPosition:ore
-    * set :computeRowValues.4:size :findBestPosition:size
-    * op sub :tileValue.28:x :findBestPosition:x 2
-    * set :tileValue.28:y *tmp201
-    * set :tileValue.28:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  414 ucontrol getBlock :tileValue:x *tmp201 type building floor
+  415 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   416 sensor solid type @solid
   417 select :tileValue.28:result notEqual solid false 0.09803921568627451 value
   418 set *tmp204 :tileValue.28:result
   419 label *label64
-    * set :computeRowValues.4:x1 :tileValue.28:result
-    * op sub :tileValue.29:x :findBestPosition:x 1
-    * set :tileValue.29:y *tmp201
-    * set :tileValue.29:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  420 ucontrol getBlock :tileValue.1:x *tmp201 type building floor
+  421 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   422 sensor solid type @solid
   423 select :tileValue.29:result notEqual solid false 0.09803921568627451 value
   424 set *tmp206 :tileValue.29:result
   425 label *label65
-    * set :computeRowValues.4:x2 :tileValue.29:result
-    * set :tileValue.30:x :findBestPosition:x
-    * set :tileValue.30:y *tmp201
-    * set :tileValue.30:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues.4:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  426 ucontrol getBlock :findBestPosition:x *tmp201 type building floor
+  427 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   428 sensor solid type @solid
   429 select :tileValue.30:result notEqual solid false 0.09803921568627451 value
   430 set *tmp208 :tileValue.30:result
   431 label *label66
-    * set :computeRowValues.4:x3 :tileValue.30:result
-    * op add :tileValue.31:x :findBestPosition:x 1
-    * set :tileValue.31:y *tmp201
-    * set :tileValue.31:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  432 ucontrol getBlock :tileValue.3:x *tmp201 type building floor
+  433 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   434 sensor solid type @solid
   435 select :tileValue.31:result notEqual solid false 0.09803921568627451 value
   436 set *tmp210 :tileValue.31:result
   437 label *label67
-    * set :computeRowValues.4:x4 :tileValue.31:result
-    * op add :tileValue.32:x :findBestPosition:x 2
-    * set :tileValue.32:y *tmp201
-    * set :tileValue.32:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  438 ucontrol getBlock :tileValue.4:x *tmp201 type building floor
+  439 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   440 sensor solid type @solid
   441 select :tileValue.32:result notEqual solid false 0.09803921568627451 value
   442 set *tmp212 :tileValue.32:result
   443 label *label68
-    * set :computeRowValues.4:x5 :tileValue.32:result
   444 jump *label69 notEqual :findBestPosition:size 2
-    * op add *tmp215 *tmp204 *tmp206
-    * op add *tmp216 *tmp206 *tmp208
-    * op add *tmp217 *tmp208 *tmp210
-    * op add *tmp218 *tmp210 *tmp212
+  445 op add *tmp215 :tileValue.28:result :tileValue.29:result
+  446 op add *tmp216 :tileValue.29:result :tileValue.30:result
+  447 op add *tmp217 :tileValue.30:result :tileValue.31:result
+  448 op add *tmp218 :tileValue.31:result :tileValue.32:result
   449 packcolor *tmp202 *tmp215 *tmp216 *tmp217 *tmp218
   450 jump *label63 always
   451 jump *label70 always
   452 label *label69
   453 jump *label71 notEqual :findBestPosition:size 3
-    * op add *tmp222 *tmp206 *tmp208
-    * op add *tmp223 *tmp204 *tmp222
-    * op add *tmp224 *tmp206 *tmp208
-    * op add *tmp225 *tmp222 *tmp210
-    * op add *tmp226 *tmp208 *tmp210
-    * op add *tmp227 *tmp226 *tmp212
+  454 op add *tmp222 :tileValue.29:result :tileValue.30:result
+  455 op add *tmp223 :tileValue.28:result *tmp222
+  456 op add *tmp224 :tileValue.29:result :tileValue.30:result
+  457 op add *tmp225 *tmp222 :tileValue.31:result
+  458 op add *tmp226 :tileValue.30:result :tileValue.31:result
+  459 op add *tmp227 *tmp226 :tileValue.32:result
   460 packcolor *tmp202 *tmp223 *tmp225 *tmp227 0
   461 jump *label63 always
   462 jump *label72 always
   463 label *label71
   464 op sub :tileValue.33:x :findBestPosition:x 3
-    * set :tileValue.33:y *tmp201
-    * set :tileValue.33:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.33:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  465 ucontrol getBlock :tileValue.33:x *tmp201 type building floor
+  466 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   467 sensor solid type @solid
   468 select :tileValue.33:result notEqual solid false 0.09803921568627451 value
   469 set *tmp230 :tileValue.33:result
   470 label *label73
-    * set :computeRowValues.4:x0 :tileValue.33:result
   471 op add :tileValue.34:x :findBestPosition:x 3
-    * set :tileValue.34:y *tmp201
-    * set :tileValue.34:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.34:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  472 ucontrol getBlock :tileValue.34:x *tmp201 type building floor
+  473 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   474 sensor solid type @solid
   475 select :tileValue.34:result notEqual solid false 0.09803921568627451 value
   476 set *tmp232 :tileValue.34:result
   477 label *label74
-    * set :computeRowValues.4:x6 :tileValue.34:result
-    * op add *tmp233 *tmp204 *tmp206
-    * op add *tmp234 *tmp233 *tmp208
-    * op add *tmp235 *tmp230 *tmp234
+  478 op add *tmp233 :tileValue.28:result :tileValue.29:result
+  479 op add *tmp234 *tmp233 :tileValue.30:result
+  480 op add *tmp235 :tileValue.33:result *tmp234
   481 op min *tmp236 0.09803921568627451 *tmp235
-    * op add *tmp237 *tmp204 *tmp206
-    * op add *tmp238 *tmp233 *tmp208
-    * op add *tmp239 *tmp234 *tmp210
+  482 op add *tmp237 :tileValue.28:result :tileValue.29:result
+  483 op add *tmp238 *tmp233 :tileValue.30:result
+  484 op add *tmp239 *tmp234 :tileValue.31:result
   485 op min *tmp240 0.09803921568627451 *tmp239
-    * op add *tmp241 *tmp208 *tmp210
-    * op add *tmp242 *tmp241 *tmp212
-    * op add *tmp243 *tmp206 *tmp242
+  486 op add *tmp241 :tileValue.30:result :tileValue.31:result
+  487 op add *tmp242 *tmp241 :tileValue.32:result
+  488 op add *tmp243 :tileValue.29:result *tmp242
   489 op min *tmp244 0.09803921568627451 *tmp243
-    * op add *tmp245 *tmp208 *tmp210
-    * op add *tmp246 *tmp241 *tmp212
-    * op add *tmp247 *tmp242 *tmp232
+  490 op add *tmp245 :tileValue.30:result :tileValue.31:result
+  491 op add *tmp246 *tmp241 :tileValue.32:result
+  492 op add *tmp247 *tmp242 :tileValue.34:result
   493 op min *tmp248 0.09803921568627451 *tmp247
   494 packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248
   495 jump *label63 always
   496 label *label72
-    * set *tmp214 null
   497 label *label70
-    * set *tmp202 null
   498 label *label63
-    * set :findBestPosition:y5 *tmp202
   499 set :findBestPosition:best 0
   500 set :findBestPosition:bestX 0
   501 set :findBestPosition:bestY 0
   502 jump *label75 notEqual :findBestPosition:size 3
   503 op add *tmp252 *tmp55 *tmp104
   504 op add :findBestPosition:row1 *tmp6 *tmp252
-    * op add *tmp254 *tmp55 *tmp104
   505 op add :findBestPosition:row2 *tmp252 *tmp153
   506 op add *tmp256 *tmp104 *tmp153
   507 op add :findBestPosition:row3 *tmp256 *tmp202
   508 set :updateRowPositionsOdd:dy -1
-    * set :updateRowPositionsOdd:rowSum :findBestPosition:row1
   509 unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 *tmp258 :findBestPosition:row1
-    * set :updatePosition:dx -1
-    * set :updatePosition:dy -1
-    * set :updatePosition:value :updateRowPositionsOdd:col1
   510 jump *label79 lessThanEq :updateRowPositionsOdd:col1 0
   511 jump *label81 greaterThanEq :updateRowPositionsOdd:col1 0.0784313725490196
   512 set :findBestPosition:bestX -1
-    * set :findBestPosition:bestY :updateRowPositionsOdd:dy
+  513 set :findBestPosition:bestY -1
   514 set :findBestPosition:best :updateRowPositionsOdd:col1
   515 label *label81
   516 label *label82
   517 label *label79
   518 label *label80
   519 label *label78
-    * set :updatePosition.1:dx 0
-    * set :updatePosition.1:dy -1
-    * set :updatePosition.1:value :updateRowPositionsOdd:col2
   520 jump *label84 lessThanEq :updateRowPositionsOdd:col2 :findBestPosition:best
   521 jump *label86 greaterThanEq :updateRowPositionsOdd:col2 0.0784313725490196
   522 set :findBestPosition:bestX 0
-    * set :findBestPosition:bestY :updateRowPositionsOdd:dy
+  523 set :findBestPosition:bestY -1
   524 set :findBestPosition:best :updateRowPositionsOdd:col2
   525 label *label86
   526 label *label87
   527 label *label84
   528 label *label85
   529 label *label83
-    * set :updatePosition.2:dx 1
-    * set :updatePosition.2:dy -1
-    * set :updatePosition.2:value :updateRowPositionsOdd:col3
   530 jump *label89 lessThanEq :updateRowPositionsOdd:col3 :findBestPosition:best
   531 jump *label91 greaterThanEq :updateRowPositionsOdd:col3 0.0784313725490196
   532 set :findBestPosition:bestX 1
-    * set :findBestPosition:bestY :updateRowPositionsOdd:dy
+  533 set :findBestPosition:bestY -1
   534 set :findBestPosition:best :updateRowPositionsOdd:col3
   535 label *label91
   536 label *label92
 
   539 label *label88
   540 label *label77
   541 set :updateRowPositionsOdd.1:dy 0
-    * set :updateRowPositionsOdd.1:rowSum :findBestPosition:row2
   542 unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 *tmp271 :findBestPosition:row2
-    * set :updatePosition.3:dx -1
-    * set :updatePosition.3:dy 0
-    * set :updatePosition.3:value :updateRowPositionsOdd.1:col1
   543 jump *label95 lessThanEq :updateRowPositionsOdd.1:col1 :findBestPosition:best
   544 jump *label97 greaterThanEq :updateRowPositionsOdd.1:col1 0.0784313725490196
   545 set :findBestPosition:bestX -1
-    * set :findBestPosition:bestY :updateRowPositionsOdd.1:dy
+  546 set :findBestPosition:bestY 0
   547 set :findBestPosition:best :updateRowPositionsOdd.1:col1
   548 label *label97
   549 label *label98
   550 label *label95
   551 label *label96
   552 label *label94
-    * set :updatePosition.4:dx 0
-    * set :updatePosition.4:dy 0
-    * set :updatePosition.4:value :updateRowPositionsOdd.1:col2
   553 jump *label100 lessThanEq :updateRowPositionsOdd.1:col2 :findBestPosition:best
   554 jump *label102 greaterThanEq :updateRowPositionsOdd.1:col2 0.0784313725490196
   555 set :findBestPosition:bestX 0
-    * set :findBestPosition:bestY :updateRowPositionsOdd.1:dy
+  556 set :findBestPosition:bestY 0
   557 set :findBestPosition:best :updateRowPositionsOdd.1:col2
   558 label *label102
   559 label *label103
   560 label *label100
   561 label *label101
   562 label *label99
-    * set :updatePosition.5:dx 1
-    * set :updatePosition.5:dy 0
-    * set :updatePosition.5:value :updateRowPositionsOdd.1:col3
   563 jump *label105 lessThanEq :updateRowPositionsOdd.1:col3 :findBestPosition:best
   564 jump *label107 greaterThanEq :updateRowPositionsOdd.1:col3 0.0784313725490196
   565 set :findBestPosition:bestX 1
-    * set :findBestPosition:bestY :updateRowPositionsOdd.1:dy
+  566 set :findBestPosition:bestY 0
   567 set :findBestPosition:best :updateRowPositionsOdd.1:col3
   568 label *label107
   569 label *label108
 
   572 label *label104
   573 label *label93
   574 set :updateRowPositionsOdd.2:dy 1
-    * set :updateRowPositionsOdd.2:rowSum :findBestPosition:row3
   575 unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 *tmp284 :findBestPosition:row3
-    * set :updatePosition.6:dx -1
-    * set :updatePosition.6:dy 1
-    * set :updatePosition.6:value :updateRowPositionsOdd.2:col1
   576 jump *label111 lessThanEq :updateRowPositionsOdd.2:col1 :findBestPosition:best
   577 jump *label113 greaterThanEq :updateRowPositionsOdd.2:col1 0.0784313725490196
   578 set :findBestPosition:bestX -1
-    * set :findBestPosition:bestY :updateRowPositionsOdd.2:dy
+  579 set :findBestPosition:bestY 1
   580 set :findBestPosition:best :updateRowPositionsOdd.2:col1
   581 label *label113
   582 label *label114
   583 label *label111
   584 label *label112
   585 label *label110
-    * set :updatePosition.7:dx 0
-    * set :updatePosition.7:dy 1
-    * set :updatePosition.7:value :updateRowPositionsOdd.2:col2
   586 jump *label116 lessThanEq :updateRowPositionsOdd.2:col2 :findBestPosition:best
   587 jump *label118 greaterThanEq :updateRowPositionsOdd.2:col2 0.0784313725490196
   588 set :findBestPosition:bestX 0
-    * set :findBestPosition:bestY :updateRowPositionsOdd.2:dy
+  589 set :findBestPosition:bestY 1
   590 set :findBestPosition:best :updateRowPositionsOdd.2:col2
   591 label *label118
   592 label *label119
   593 label *label116
   594 label *label117
   595 label *label115
-    * set :updatePosition.8:dx 1
-    * set :updatePosition.8:dy 1
-    * set :updatePosition.8:value :updateRowPositionsOdd.2:col3
   596 jump *label121 lessThanEq :updateRowPositionsOdd.2:col3 :findBestPosition:best
   597 jump *label123 greaterThanEq :updateRowPositionsOdd.2:col3 0.0784313725490196
   598 set :findBestPosition:bestX 1
-    * set :findBestPosition:bestY :updateRowPositionsOdd.2:dy
+  599 set :findBestPosition:bestY 1
   600 set :findBestPosition:best :updateRowPositionsOdd.2:col3
   601 label *label123
   602 label *label124
 
   617 set :computeRowValues.5:x :findBestPosition:x
   618 set :computeRowValues.5:y *tmp303
   619 set :computeRowValues.5:ore :findBestPosition:ore
-    * set :computeRowValues.5:size :findBestPosition:size
-    * op sub :tileValue.35:x :findBestPosition:x 2
-    * set :tileValue.35:y *tmp303
-    * set :tileValue.35:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  620 ucontrol getBlock :tileValue:x *tmp303 type building floor
+  621 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   622 sensor solid type @solid
   623 select :tileValue.35:result notEqual solid false 0.09803921568627451 value
   624 set *tmp306 :tileValue.35:result
   625 label *label128
-    * set :computeRowValues.5:x1 :tileValue.35:result
-    * op sub :tileValue.36:x :findBestPosition:x 1
-    * set :tileValue.36:y *tmp303
-    * set :tileValue.36:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  626 ucontrol getBlock :tileValue.1:x *tmp303 type building floor
+  627 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   628 sensor solid type @solid
   629 select :tileValue.36:result notEqual solid false 0.09803921568627451 value
   630 set *tmp308 :tileValue.36:result
   631 label *label129
-    * set :computeRowValues.5:x2 :tileValue.36:result
-    * set :tileValue.37:x :findBestPosition:x
-    * set :tileValue.37:y *tmp303
-    * set :tileValue.37:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues.5:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  632 ucontrol getBlock :findBestPosition:x *tmp303 type building floor
+  633 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   634 sensor solid type @solid
   635 select :tileValue.37:result notEqual solid false 0.09803921568627451 value
   636 set *tmp310 :tileValue.37:result
   637 label *label130
-    * set :computeRowValues.5:x3 :tileValue.37:result
-    * op add :tileValue.38:x :findBestPosition:x 1
-    * set :tileValue.38:y *tmp303
-    * set :tileValue.38:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  638 ucontrol getBlock :tileValue.3:x *tmp303 type building floor
+  639 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   640 sensor solid type @solid
   641 select :tileValue.38:result notEqual solid false 0.09803921568627451 value
   642 set *tmp312 :tileValue.38:result
   643 label *label131
-    * set :computeRowValues.5:x4 :tileValue.38:result
-    * op add :tileValue.39:x :findBestPosition:x 2
-    * set :tileValue.39:y *tmp303
-    * set :tileValue.39:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  644 ucontrol getBlock :tileValue.4:x *tmp303 type building floor
+  645 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   646 sensor solid type @solid
   647 select :tileValue.39:result notEqual solid false 0.09803921568627451 value
   648 set *tmp314 :tileValue.39:result
   649 label *label132
-    * set :computeRowValues.5:x5 :tileValue.39:result
   650 jump *label133 notEqual :findBestPosition:size 2
-    * op add *tmp317 *tmp306 *tmp308
-    * op add *tmp318 *tmp308 *tmp310
-    * op add *tmp319 *tmp310 *tmp312
-    * op add *tmp320 *tmp312 *tmp314
+  651 op add *tmp317 :tileValue.35:result :tileValue.36:result
+  652 op add *tmp318 :tileValue.36:result :tileValue.37:result
+  653 op add *tmp319 :tileValue.37:result :tileValue.38:result
+  654 op add *tmp320 :tileValue.38:result :tileValue.39:result
   655 packcolor *tmp304 *tmp317 *tmp318 *tmp319 *tmp320
   656 jump *label127 always
   657 jump *label134 always
   658 label *label133
   659 jump *label135 notEqual :findBestPosition:size 3
-    * op add *tmp324 *tmp308 *tmp310
-    * op add *tmp325 *tmp306 *tmp324
-    * op add *tmp326 *tmp308 *tmp310
-    * op add *tmp327 *tmp324 *tmp312
-    * op add *tmp328 *tmp310 *tmp312
-    * op add *tmp329 *tmp328 *tmp314
+  660 op add *tmp324 :tileValue.36:result :tileValue.37:result
+  661 op add *tmp325 :tileValue.35:result *tmp324
+  662 op add *tmp326 :tileValue.36:result :tileValue.37:result
+  663 op add *tmp327 *tmp324 :tileValue.38:result
+  664 op add *tmp328 :tileValue.37:result :tileValue.38:result
+  665 op add *tmp329 *tmp328 :tileValue.39:result
   666 packcolor *tmp304 *tmp325 *tmp327 *tmp329 0
   667 jump *label127 always
   668 jump *label136 always
   669 label *label135
   670 op sub :tileValue.40:x :findBestPosition:x 3
-    * set :tileValue.40:y *tmp303
-    * set :tileValue.40:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.40:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  671 ucontrol getBlock :tileValue.40:x *tmp303 type building floor
+  672 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   673 sensor solid type @solid
   674 select :tileValue.40:result notEqual solid false 0.09803921568627451 value
   675 set *tmp332 :tileValue.40:result
   676 label *label137
-    * set :computeRowValues.5:x0 :tileValue.40:result
   677 op add :tileValue.41:x :findBestPosition:x 3
-    * set :tileValue.41:y *tmp303
-    * set :tileValue.41:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.41:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  678 ucontrol getBlock :tileValue.41:x *tmp303 type building floor
+  679 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   680 sensor solid type @solid
   681 select :tileValue.41:result notEqual solid false 0.09803921568627451 value
   682 set *tmp334 :tileValue.41:result
   683 label *label138
-    * set :computeRowValues.5:x6 :tileValue.41:result
-    * op add *tmp335 *tmp306 *tmp308
-    * op add *tmp336 *tmp335 *tmp310
-    * op add *tmp337 *tmp332 *tmp336
+  684 op add *tmp335 :tileValue.35:result :tileValue.36:result
+  685 op add *tmp336 *tmp335 :tileValue.37:result
+  686 op add *tmp337 :tileValue.40:result *tmp336
   687 op min *tmp338 0.09803921568627451 *tmp337
-    * op add *tmp339 *tmp306 *tmp308
-    * op add *tmp340 *tmp335 *tmp310
-    * op add *tmp341 *tmp336 *tmp312
+  688 op add *tmp339 :tileValue.35:result :tileValue.36:result
+  689 op add *tmp340 *tmp335 :tileValue.37:result
+  690 op add *tmp341 *tmp336 :tileValue.38:result
   691 op min *tmp342 0.09803921568627451 *tmp341
-    * op add *tmp343 *tmp310 *tmp312
-    * op add *tmp344 *tmp343 *tmp314
-    * op add *tmp345 *tmp308 *tmp344
+  692 op add *tmp343 :tileValue.37:result :tileValue.38:result
+  693 op add *tmp344 *tmp343 :tileValue.39:result
+  694 op add *tmp345 :tileValue.36:result *tmp344
   695 op min *tmp346 0.09803921568627451 *tmp345
-    * op add *tmp347 *tmp310 *tmp312
-    * op add *tmp348 *tmp343 *tmp314
-    * op add *tmp349 *tmp344 *tmp334
+  696 op add *tmp347 :tileValue.37:result :tileValue.38:result
+  697 op add *tmp348 *tmp343 :tileValue.39:result
+  698 op add *tmp349 *tmp344 :tileValue.41:result
   699 op min *tmp350 0.09803921568627451 *tmp349
   700 packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350
   701 jump *label127 always
   702 label *label136
-    * set *tmp316 null
   703 label *label134
-    * set *tmp304 null
   704 label *label127
-    * set :findBestPosition:y0 *tmp304
   705 op add *tmp352 :findBestPosition:y 3
   706 set :computeRowValues.6:x :findBestPosition:x
   707 set :computeRowValues.6:y *tmp352
   708 set :computeRowValues.6:ore :findBestPosition:ore
-    * set :computeRowValues.6:size :findBestPosition:size
-    * op sub :tileValue.42:x :findBestPosition:x 2
-    * set :tileValue.42:y *tmp352
-    * set :tileValue.42:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  709 ucontrol getBlock :tileValue:x *tmp352 type building floor
+  710 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   711 sensor solid type @solid
   712 select :tileValue.42:result notEqual solid false 0.09803921568627451 value
   713 set *tmp355 :tileValue.42:result
   714 label *label140
-    * set :computeRowValues.6:x1 :tileValue.42:result
-    * op sub :tileValue.43:x :findBestPosition:x 1
-    * set :tileValue.43:y *tmp352
-    * set :tileValue.43:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  715 ucontrol getBlock :tileValue.1:x *tmp352 type building floor
+  716 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   717 sensor solid type @solid
   718 select :tileValue.43:result notEqual solid false 0.09803921568627451 value
   719 set *tmp357 :tileValue.43:result
   720 label *label141
-    * set :computeRowValues.6:x2 :tileValue.43:result
-    * set :tileValue.44:x :findBestPosition:x
-    * set :tileValue.44:y *tmp352
-    * set :tileValue.44:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues.6:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  721 ucontrol getBlock :findBestPosition:x *tmp352 type building floor
+  722 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   723 sensor solid type @solid
   724 select :tileValue.44:result notEqual solid false 0.09803921568627451 value
   725 set *tmp359 :tileValue.44:result
   726 label *label142
-    * set :computeRowValues.6:x3 :tileValue.44:result
-    * op add :tileValue.45:x :findBestPosition:x 1
-    * set :tileValue.45:y *tmp352
-    * set :tileValue.45:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  727 ucontrol getBlock :tileValue.3:x *tmp352 type building floor
+  728 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   729 sensor solid type @solid
   730 select :tileValue.45:result notEqual solid false 0.09803921568627451 value
   731 set *tmp361 :tileValue.45:result
   732 label *label143
-    * set :computeRowValues.6:x4 :tileValue.45:result
-    * op add :tileValue.46:x :findBestPosition:x 2
-    * set :tileValue.46:y *tmp352
-    * set :tileValue.46:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  733 ucontrol getBlock :tileValue.4:x *tmp352 type building floor
+  734 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   735 sensor solid type @solid
   736 select :tileValue.46:result notEqual solid false 0.09803921568627451 value
   737 set *tmp363 :tileValue.46:result
   738 label *label144
-    * set :computeRowValues.6:x5 :tileValue.46:result
   739 jump *label145 notEqual :findBestPosition:size 2
-    * op add *tmp366 *tmp355 *tmp357
-    * op add *tmp367 *tmp357 *tmp359
-    * op add *tmp368 *tmp359 *tmp361
-    * op add *tmp369 *tmp361 *tmp363
+  740 op add *tmp366 :tileValue.42:result :tileValue.43:result
+  741 op add *tmp367 :tileValue.43:result :tileValue.44:result
+  742 op add *tmp368 :tileValue.44:result :tileValue.45:result
+  743 op add *tmp369 :tileValue.45:result :tileValue.46:result
   744 packcolor *tmp353 *tmp366 *tmp367 *tmp368 *tmp369
   745 jump *label139 always
   746 jump *label146 always
   747 label *label145
   748 jump *label147 notEqual :findBestPosition:size 3
-    * op add *tmp373 *tmp357 *tmp359
-    * op add *tmp374 *tmp355 *tmp373
-    * op add *tmp375 *tmp357 *tmp359
-    * op add *tmp376 *tmp373 *tmp361
-    * op add *tmp377 *tmp359 *tmp361
-    * op add *tmp378 *tmp377 *tmp363
+  749 op add *tmp373 :tileValue.43:result :tileValue.44:result
+  750 op add *tmp374 :tileValue.42:result *tmp373
+  751 op add *tmp375 :tileValue.43:result :tileValue.44:result
+  752 op add *tmp376 *tmp373 :tileValue.45:result
+  753 op add *tmp377 :tileValue.44:result :tileValue.45:result
+  754 op add *tmp378 *tmp377 :tileValue.46:result
   755 packcolor *tmp353 *tmp374 *tmp376 *tmp378 0
   756 jump *label139 always
   757 jump *label148 always
   758 label *label147
   759 op sub :tileValue.47:x :findBestPosition:x 3
-    * set :tileValue.47:y *tmp352
-    * set :tileValue.47:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.47:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  760 ucontrol getBlock :tileValue.47:x *tmp352 type building floor
+  761 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   762 sensor solid type @solid
   763 select :tileValue.47:result notEqual solid false 0.09803921568627451 value
   764 set *tmp381 :tileValue.47:result
   765 label *label149
-    * set :computeRowValues.6:x0 :tileValue.47:result
   766 op add :tileValue.48:x :findBestPosition:x 3
-    * set :tileValue.48:y *tmp352
-    * set :tileValue.48:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.48:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  767 ucontrol getBlock :tileValue.48:x *tmp352 type building floor
+  768 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   769 sensor solid type @solid
   770 select :tileValue.48:result notEqual solid false 0.09803921568627451 value
   771 set *tmp383 :tileValue.48:result
   772 label *label150
-    * set :computeRowValues.6:x6 :tileValue.48:result
-    * op add *tmp384 *tmp355 *tmp357
-    * op add *tmp385 *tmp384 *tmp359
-    * op add *tmp386 *tmp381 *tmp385
+  773 op add *tmp384 :tileValue.42:result :tileValue.43:result
+  774 op add *tmp385 *tmp384 :tileValue.44:result
+  775 op add *tmp386 :tileValue.47:result *tmp385
   776 op min *tmp387 0.09803921568627451 *tmp386
-    * op add *tmp388 *tmp355 *tmp357
-    * op add *tmp389 *tmp384 *tmp359
-    * op add *tmp390 *tmp385 *tmp361
+  777 op add *tmp388 :tileValue.42:result :tileValue.43:result
+  778 op add *tmp389 *tmp384 :tileValue.44:result
+  779 op add *tmp390 *tmp385 :tileValue.45:result
   780 op min *tmp391 0.09803921568627451 *tmp390
-    * op add *tmp392 *tmp359 *tmp361
-    * op add *tmp393 *tmp392 *tmp363
-    * op add *tmp394 *tmp357 *tmp393
+  781 op add *tmp392 :tileValue.44:result :tileValue.45:result
+  782 op add *tmp393 *tmp392 :tileValue.46:result
+  783 op add *tmp394 :tileValue.43:result *tmp393
   784 op min *tmp395 0.09803921568627451 *tmp394
-    * op add *tmp396 *tmp359 *tmp361
-    * op add *tmp397 *tmp392 *tmp363
-    * op add *tmp398 *tmp393 *tmp383
+  785 op add *tmp396 :tileValue.44:result :tileValue.45:result
+  786 op add *tmp397 *tmp392 :tileValue.46:result
+  787 op add *tmp398 *tmp393 :tileValue.48:result
   788 op min *tmp399 0.09803921568627451 *tmp398
   789 packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399
   790 jump *label139 always
   791 label *label148
-    * set *tmp365 null
   792 label *label146
-    * set *tmp353 null
   793 label *label139
-    * set :findBestPosition:y6 *tmp353
   794 op add *tmp401 *tmp6 *tmp55
   795 op add *tmp402 *tmp401 *tmp104
   796 op add :findBestPosition:row1 *tmp304 *tmp402
-    * op add *tmp404 *tmp6 *tmp55
-    * op add *tmp405 *tmp401 *tmp104
   797 op add :findBestPosition:row2 *tmp402 *tmp153
   798 op add *tmp407 *tmp104 *tmp153
   799 op add *tmp408 *tmp407 *tmp202
   800 op add :findBestPosition:row3 *tmp55 *tmp408
-    * op add *tmp410 *tmp104 *tmp153
-    * op add *tmp411 *tmp407 *tmp202
   801 op add :findBestPosition:row4 *tmp408 *tmp353
   802 label *label126
   803 set :updateRowPositionsEven:dy -1.5
-    * set :updateRowPositionsEven:rowSum :findBestPosition:row1
   804 unpackcolor :updateRowPositionsEven:col1 :updateRowPositionsEven:col2 :updateRowPositionsEven:col3 :updateRowPositionsEven:col4 :findBestPosition:row1
-    * set :updatePosition.9:dx -1.5
-    * set :updatePosition.9:dy -1.5
-    * set :updatePosition.9:value :updateRowPositionsEven:col1
   805 jump *label153 lessThanEq :updateRowPositionsEven:col1 0
   806 jump *label155 greaterThanEq :updateRowPositionsEven:col1 0.0784313725490196
   807 set :findBestPosition:bestX -1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven:dy
+  808 set :findBestPosition:bestY -1.5
   809 set :findBestPosition:best :updateRowPositionsEven:col1
   810 label *label155
   811 label *label156
   812 label *label153
   813 label *label154
   814 label *label152
-    * set :updatePosition.10:dx -0.5
-    * set :updatePosition.10:dy -1.5
-    * set :updatePosition.10:value :updateRowPositionsEven:col2
   815 jump *label158 lessThanEq :updateRowPositionsEven:col2 :findBestPosition:best
   816 jump *label160 greaterThanEq :updateRowPositionsEven:col2 0.0784313725490196
   817 set :findBestPosition:bestX -0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven:dy
+  818 set :findBestPosition:bestY -1.5
   819 set :findBestPosition:best :updateRowPositionsEven:col2
   820 label *label160
   821 label *label161
   822 label *label158
   823 label *label159
   824 label *label157
-    * set :updatePosition.11:dx 0.5
-    * set :updatePosition.11:dy -1.5
-    * set :updatePosition.11:value :updateRowPositionsEven:col3
   825 jump *label163 lessThanEq :updateRowPositionsEven:col3 :findBestPosition:best
   826 jump *label165 greaterThanEq :updateRowPositionsEven:col3 0.0784313725490196
   827 set :findBestPosition:bestX 0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven:dy
+  828 set :findBestPosition:bestY -1.5
   829 set :findBestPosition:best :updateRowPositionsEven:col3
   830 label *label165
   831 label *label166
   832 label *label163
   833 label *label164
   834 label *label162
-    * set :updatePosition.12:dx 1.5
-    * set :updatePosition.12:dy -1.5
-    * set :updatePosition.12:value :updateRowPositionsEven:col4
   835 jump *label168 lessThanEq :updateRowPositionsEven:col4 :findBestPosition:best
   836 jump *label170 greaterThanEq :updateRowPositionsEven:col4 0.0784313725490196
   837 set :findBestPosition:bestX 1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven:dy
+  838 set :findBestPosition:bestY -1.5
   839 set :findBestPosition:best :updateRowPositionsEven:col4
   840 label *label170
   841 label *label171
 
   844 label *label167
   845 label *label151
   846 set :updateRowPositionsEven.1:dy -0.5
-    * set :updateRowPositionsEven.1:rowSum :findBestPosition:row2
   847 unpackcolor :updateRowPositionsEven.1:col1 :updateRowPositionsEven.1:col2 :updateRowPositionsEven.1:col3 :updateRowPositionsEven.1:col4 :findBestPosition:row2
-    * set :updatePosition.13:dx -1.5
-    * set :updatePosition.13:dy -0.5
-    * set :updatePosition.13:value :updateRowPositionsEven.1:col1
   848 jump *label174 lessThanEq :updateRowPositionsEven.1:col1 :findBestPosition:best
   849 jump *label176 greaterThanEq :updateRowPositionsEven.1:col1 0.0784313725490196
   850 set :findBestPosition:bestX -1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+  851 set :findBestPosition:bestY -0.5
   852 set :findBestPosition:best :updateRowPositionsEven.1:col1
   853 label *label176
   854 label *label177
   855 label *label174
   856 label *label175
   857 label *label173
-    * set :updatePosition.14:dx -0.5
-    * set :updatePosition.14:dy -0.5
-    * set :updatePosition.14:value :updateRowPositionsEven.1:col2
   858 jump *label179 lessThanEq :updateRowPositionsEven.1:col2 :findBestPosition:best
   859 jump *label181 greaterThanEq :updateRowPositionsEven.1:col2 0.0784313725490196
   860 set :findBestPosition:bestX -0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+  861 set :findBestPosition:bestY -0.5
   862 set :findBestPosition:best :updateRowPositionsEven.1:col2
   863 label *label181
   864 label *label182
   865 label *label179
   866 label *label180
   867 label *label178
-    * set :updatePosition.15:dx 0.5
-    * set :updatePosition.15:dy -0.5
-    * set :updatePosition.15:value :updateRowPositionsEven.1:col3
   868 jump *label184 lessThanEq :updateRowPositionsEven.1:col3 :findBestPosition:best
   869 jump *label186 greaterThanEq :updateRowPositionsEven.1:col3 0.0784313725490196
   870 set :findBestPosition:bestX 0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+  871 set :findBestPosition:bestY -0.5
   872 set :findBestPosition:best :updateRowPositionsEven.1:col3
   873 label *label186
   874 label *label187
   875 label *label184
   876 label *label185
   877 label *label183
-    * set :updatePosition.16:dx 1.5
-    * set :updatePosition.16:dy -0.5
-    * set :updatePosition.16:value :updateRowPositionsEven.1:col4
   878 jump *label189 lessThanEq :updateRowPositionsEven.1:col4 :findBestPosition:best
   879 jump *label191 greaterThanEq :updateRowPositionsEven.1:col4 0.0784313725490196
   880 set :findBestPosition:bestX 1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+  881 set :findBestPosition:bestY -0.5
   882 set :findBestPosition:best :updateRowPositionsEven.1:col4
   883 label *label191
   884 label *label192
 
   887 label *label188
   888 label *label172
   889 set :updateRowPositionsEven.2:dy 0.5
-    * set :updateRowPositionsEven.2:rowSum :findBestPosition:row3
   890 unpackcolor :updateRowPositionsEven.2:col1 :updateRowPositionsEven.2:col2 :updateRowPositionsEven.2:col3 :updateRowPositionsEven.2:col4 :findBestPosition:row3
-    * set :updatePosition.17:dx -1.5
-    * set :updatePosition.17:dy 0.5
-    * set :updatePosition.17:value :updateRowPositionsEven.2:col1
   891 jump *label195 lessThanEq :updateRowPositionsEven.2:col1 :findBestPosition:best
   892 jump *label197 greaterThanEq :updateRowPositionsEven.2:col1 0.0784313725490196
   893 set :findBestPosition:bestX -1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+  894 set :findBestPosition:bestY 0.5
   895 set :findBestPosition:best :updateRowPositionsEven.2:col1
   896 label *label197
   897 label *label198
   898 label *label195
   899 label *label196
   900 label *label194
-    * set :updatePosition.18:dx -0.5
-    * set :updatePosition.18:dy 0.5
-    * set :updatePosition.18:value :updateRowPositionsEven.2:col2
   901 jump *label200 lessThanEq :updateRowPositionsEven.2:col2 :findBestPosition:best
   902 jump *label202 greaterThanEq :updateRowPositionsEven.2:col2 0.0784313725490196
   903 set :findBestPosition:bestX -0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+  904 set :findBestPosition:bestY 0.5
   905 set :findBestPosition:best :updateRowPositionsEven.2:col2
   906 label *label202
   907 label *label203
   908 label *label200
   909 label *label201
   910 label *label199
-    * set :updatePosition.19:dx 0.5
-    * set :updatePosition.19:dy 0.5
-    * set :updatePosition.19:value :updateRowPositionsEven.2:col3
   911 jump *label205 lessThanEq :updateRowPositionsEven.2:col3 :findBestPosition:best
   912 jump *label207 greaterThanEq :updateRowPositionsEven.2:col3 0.0784313725490196
   913 set :findBestPosition:bestX 0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+  914 set :findBestPosition:bestY 0.5
   915 set :findBestPosition:best :updateRowPositionsEven.2:col3
   916 label *label207
   917 label *label208
   918 label *label205
   919 label *label206
   920 label *label204
-    * set :updatePosition.20:dx 1.5
-    * set :updatePosition.20:dy 0.5
-    * set :updatePosition.20:value :updateRowPositionsEven.2:col4
   921 jump *label210 lessThanEq :updateRowPositionsEven.2:col4 :findBestPosition:best
   922 jump *label212 greaterThanEq :updateRowPositionsEven.2:col4 0.0784313725490196
   923 set :findBestPosition:bestX 1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+  924 set :findBestPosition:bestY 0.5
   925 set :findBestPosition:best :updateRowPositionsEven.2:col4
   926 label *label212
   927 label *label213
 
   930 label *label209
   931 label *label193
   932 set :updateRowPositionsEven.3:dy 1.5
-    * set :updateRowPositionsEven.3:rowSum :findBestPosition:row4
   933 unpackcolor :updateRowPositionsEven.3:col1 :updateRowPositionsEven.3:col2 :updateRowPositionsEven.3:col3 :updateRowPositionsEven.3:col4 :findBestPosition:row4
-    * set :updatePosition.21:dx -1.5
-    * set :updatePosition.21:dy 1.5
-    * set :updatePosition.21:value :updateRowPositionsEven.3:col1
   934 jump *label216 lessThanEq :updateRowPositionsEven.3:col1 :findBestPosition:best
   935 jump *label218 greaterThanEq :updateRowPositionsEven.3:col1 0.0784313725490196
   936 set :findBestPosition:bestX -1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+  937 set :findBestPosition:bestY 1.5
   938 set :findBestPosition:best :updateRowPositionsEven.3:col1
   939 label *label218
   940 label *label219
   941 label *label216
   942 label *label217
   943 label *label215
-    * set :updatePosition.22:dx -0.5
-    * set :updatePosition.22:dy 1.5
-    * set :updatePosition.22:value :updateRowPositionsEven.3:col2
   944 jump *label221 lessThanEq :updateRowPositionsEven.3:col2 :findBestPosition:best
   945 jump *label223 greaterThanEq :updateRowPositionsEven.3:col2 0.0784313725490196
   946 set :findBestPosition:bestX -0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+  947 set :findBestPosition:bestY 1.5
   948 set :findBestPosition:best :updateRowPositionsEven.3:col2
   949 label *label223
   950 label *label224
   951 label *label221
   952 label *label222
   953 label *label220
-    * set :updatePosition.23:dx 0.5
-    * set :updatePosition.23:dy 1.5
-    * set :updatePosition.23:value :updateRowPositionsEven.3:col3
   954 jump *label226 lessThanEq :updateRowPositionsEven.3:col3 :findBestPosition:best
   955 jump *label228 greaterThanEq :updateRowPositionsEven.3:col3 0.0784313725490196
   956 set :findBestPosition:bestX 0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+  957 set :findBestPosition:bestY 1.5
   958 set :findBestPosition:best :updateRowPositionsEven.3:col3
   959 label *label228
   960 label *label229
   961 label *label226
   962 label *label227
   963 label *label225
-    * set :updatePosition.24:dx 1.5
-    * set :updatePosition.24:dy 1.5
-    * set :updatePosition.24:value :updateRowPositionsEven.3:col4
   964 jump *label231 lessThanEq :updateRowPositionsEven.3:col4 :findBestPosition:best
   965 jump *label233 greaterThanEq :updateRowPositionsEven.3:col4 0.0784313725490196
   966 set :findBestPosition:bestX 1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+  967 set :findBestPosition:bestY 1.5
   968 set :findBestPosition:best :updateRowPositionsEven.3:col4
   969 label *label233
   970 label *label234

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-120 instructions):
 
    41 label *label2
    42 ubind :findBestPosition:unit
    43 op sub *tmp5 :findBestPosition:y 2
-    * set :computeRowValues:x :findBestPosition:x
-    * set :computeRowValues:y *tmp5
-    * set :computeRowValues:ore :findBestPosition:ore
    44 op sub :tileValue:x :findBestPosition:x 2
    45 ucontrol getBlock :tileValue:x *tmp5 type building floor
    46 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    47 sensor solid type @solid
    48 select :tileValue:result notEqual solid false 0.09803921568627451 value
-    * set *tmp8 :tileValue:result
    49 label *label16
    50 op sub :tileValue.1:x :findBestPosition:x 1
    51 ucontrol getBlock :tileValue.1:x *tmp5 type building floor
    52 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    53 sensor solid type @solid
    54 select :tileValue.1:result notEqual solid false 0.09803921568627451 value
-    * set *tmp10 :tileValue.1:result
    55 label *label17
    56 ucontrol getBlock :findBestPosition:x *tmp5 type building floor
    57 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    58 sensor solid type @solid
    59 select :tileValue.2:result notEqual solid false 0.09803921568627451 value
-    * set *tmp12 :tileValue.2:result
    60 label *label18
    61 op add :tileValue.3:x :findBestPosition:x 1
    62 ucontrol getBlock :tileValue.3:x *tmp5 type building floor
    63 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    64 sensor solid type @solid
    65 select :tileValue.3:result notEqual solid false 0.09803921568627451 value
-    * set *tmp14 :tileValue.3:result
    66 label *label19
    67 op add :tileValue.4:x :findBestPosition:x 2
    68 ucontrol getBlock :tileValue.4:x *tmp5 type building floor
    69 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    70 sensor solid type @solid
    71 select :tileValue.4:result notEqual solid false 0.09803921568627451 value
-    * set *tmp16 :tileValue.4:result
    72 label *label20
    73 jump *label21 notEqual :findBestPosition:size 2
    74 op add *tmp19 :tileValue:result :tileValue.1:result
 
    82 jump *label23 notEqual :findBestPosition:size 3
    83 op add *tmp26 :tileValue.1:result :tileValue.2:result
    84 op add *tmp27 :tileValue:result *tmp26
-    * op add *tmp28 :tileValue.1:result :tileValue.2:result
    85 op add *tmp29 *tmp26 :tileValue.3:result
    86 op add *tmp30 :tileValue.2:result :tileValue.3:result
    87 op add *tmp31 *tmp30 :tileValue.4:result
 
    94 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    95 sensor solid type @solid
    96 select :tileValue.5:result notEqual solid false 0.09803921568627451 value
-    * set *tmp34 :tileValue.5:result
    97 label *label25
    98 op add :tileValue.6:x :findBestPosition:x 3
    99 ucontrol getBlock :tileValue.6:x *tmp5 type building floor
   100 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   101 sensor solid type @solid
   102 select :tileValue.6:result notEqual solid false 0.09803921568627451 value
-    * set *tmp36 :tileValue.6:result
   103 label *label26
   104 op add *tmp37 :tileValue:result :tileValue.1:result
   105 op add *tmp38 *tmp37 :tileValue.2:result
   106 op add *tmp39 :tileValue.5:result *tmp38
   107 op min *tmp40 0.09803921568627451 *tmp39
-    * op add *tmp41 :tileValue:result :tileValue.1:result
-    * op add *tmp42 *tmp37 :tileValue.2:result
   108 op add *tmp43 *tmp38 :tileValue.3:result
   109 op min *tmp44 0.09803921568627451 *tmp43
   110 op add *tmp45 :tileValue.2:result :tileValue.3:result
   111 op add *tmp46 *tmp45 :tileValue.4:result
   112 op add *tmp47 :tileValue.1:result *tmp46
   113 op min *tmp48 0.09803921568627451 *tmp47
-    * op add *tmp49 :tileValue.2:result :tileValue.3:result
-    * op add *tmp50 *tmp45 :tileValue.4:result
   114 op add *tmp51 *tmp46 :tileValue.6:result
   115 op min *tmp52 0.09803921568627451 *tmp51
   116 packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52
 
   119 label *label22
   120 label *label15
   121 op sub *tmp54 :findBestPosition:y 1
-    * set :computeRowValues.1:x :findBestPosition:x
-    * set :computeRowValues.1:y *tmp54
-    * set :computeRowValues.1:ore :findBestPosition:ore
   122 ucontrol getBlock :tileValue:x *tmp54 type building floor
   123 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   124 sensor solid type @solid
   125 select :tileValue.7:result notEqual solid false 0.09803921568627451 value
-    * set *tmp57 :tileValue.7:result
   126 label *label28
   127 ucontrol getBlock :tileValue.1:x *tmp54 type building floor
   128 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   129 sensor solid type @solid
   130 select :tileValue.8:result notEqual solid false 0.09803921568627451 value
-    * set *tmp59 :tileValue.8:result
   131 label *label29
   132 ucontrol getBlock :findBestPosition:x *tmp54 type building floor
   133 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   134 sensor solid type @solid
   135 select :tileValue.9:result notEqual solid false 0.09803921568627451 value
-    * set *tmp61 :tileValue.9:result
   136 label *label30
   137 ucontrol getBlock :tileValue.3:x *tmp54 type building floor
   138 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   139 sensor solid type @solid
   140 select :tileValue.10:result notEqual solid false 0.09803921568627451 value
-    * set *tmp63 :tileValue.10:result
   141 label *label31
   142 ucontrol getBlock :tileValue.4:x *tmp54 type building floor
   143 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   144 sensor solid type @solid
   145 select :tileValue.11:result notEqual solid false 0.09803921568627451 value
-    * set *tmp65 :tileValue.11:result
   146 label *label32
   147 jump *label33 notEqual :findBestPosition:size 2
   148 op add *tmp68 :tileValue.7:result :tileValue.8:result
 
   156 jump *label35 notEqual :findBestPosition:size 3
   157 op add *tmp75 :tileValue.8:result :tileValue.9:result
   158 op add *tmp76 :tileValue.7:result *tmp75
-    * op add *tmp77 :tileValue.8:result :tileValue.9:result
   159 op add *tmp78 *tmp75 :tileValue.10:result
   160 op add *tmp79 :tileValue.9:result :tileValue.10:result
   161 op add *tmp80 *tmp79 :tileValue.11:result
 
   168 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   169 sensor solid type @solid
   170 select :tileValue.12:result notEqual solid false 0.09803921568627451 value
-    * set *tmp83 :tileValue.12:result
   171 label *label37
   172 op add :tileValue.13:x :findBestPosition:x 3
   173 ucontrol getBlock :tileValue.13:x *tmp54 type building floor
   174 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   175 sensor solid type @solid
   176 select :tileValue.13:result notEqual solid false 0.09803921568627451 value
-    * set *tmp85 :tileValue.13:result
   177 label *label38
   178 op add *tmp86 :tileValue.7:result :tileValue.8:result
   179 op add *tmp87 *tmp86 :tileValue.9:result
   180 op add *tmp88 :tileValue.12:result *tmp87
   181 op min *tmp89 0.09803921568627451 *tmp88
-    * op add *tmp90 :tileValue.7:result :tileValue.8:result
-    * op add *tmp91 *tmp86 :tileValue.9:result
   182 op add *tmp92 *tmp87 :tileValue.10:result
   183 op min *tmp93 0.09803921568627451 *tmp92
   184 op add *tmp94 :tileValue.9:result :tileValue.10:result
   185 op add *tmp95 *tmp94 :tileValue.11:result
   186 op add *tmp96 :tileValue.8:result *tmp95
   187 op min *tmp97 0.09803921568627451 *tmp96
-    * op add *tmp98 :tileValue.9:result :tileValue.10:result
-    * op add *tmp99 *tmp94 :tileValue.11:result
   188 op add *tmp100 *tmp95 :tileValue.13:result
   189 op min *tmp101 0.09803921568627451 *tmp100
   190 packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101
 
   192 label *label36
   193 label *label34
   194 label *label27
-    * set *tmp103 :findBestPosition:y
-    * set :computeRowValues.2:x :findBestPosition:x
-    * set :computeRowValues.2:y :findBestPosition:y
-    * set :computeRowValues.2:ore :findBestPosition:ore
-    * set :tileValue.14:y :findBestPosition:y
   195 ucontrol getBlock :tileValue:x :findBestPosition:y type building floor
   196 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   197 sensor solid type @solid
   198 select :tileValue.14:result notEqual solid false 0.09803921568627451 value
-    * set *tmp106 :tileValue.14:result
   199 label *label40
-    * set :tileValue.15:y :findBestPosition:y
   200 ucontrol getBlock :tileValue.1:x :findBestPosition:y type building floor
   201 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   202 sensor solid type @solid
   203 select :tileValue.15:result notEqual solid false 0.09803921568627451 value
-    * set *tmp108 :tileValue.15:result
   204 label *label41
-    * set :tileValue.16:y :findBestPosition:y
   205 ucontrol getBlock :findBestPosition:x :findBestPosition:y type building floor
   206 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   207 sensor solid type @solid
   208 select :tileValue.16:result notEqual solid false 0.09803921568627451 value
-    * set *tmp110 :tileValue.16:result
   209 label *label42
-    * set :tileValue.17:y :findBestPosition:y
   210 ucontrol getBlock :tileValue.3:x :findBestPosition:y type building floor
   211 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   212 sensor solid type @solid
   213 select :tileValue.17:result notEqual solid false 0.09803921568627451 value
-    * set *tmp112 :tileValue.17:result
   214 label *label43
-    * set :tileValue.18:y :findBestPosition:y
   215 ucontrol getBlock :tileValue.4:x :findBestPosition:y type building floor
   216 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   217 sensor solid type @solid
   218 select :tileValue.18:result notEqual solid false 0.09803921568627451 value
-    * set *tmp114 :tileValue.18:result
   219 label *label44
   220 jump *label45 notEqual :findBestPosition:size 2
   221 op add *tmp117 :tileValue.14:result :tileValue.15:result
 
   229 jump *label47 notEqual :findBestPosition:size 3
   230 op add *tmp124 :tileValue.15:result :tileValue.16:result
   231 op add *tmp125 :tileValue.14:result *tmp124
-    * op add *tmp126 :tileValue.15:result :tileValue.16:result
   232 op add *tmp127 *tmp124 :tileValue.17:result
   233 op add *tmp128 :tileValue.16:result :tileValue.17:result
   234 op add *tmp129 *tmp128 :tileValue.18:result
 
   237 jump *label48 always
   238 label *label47
   239 op sub :tileValue.19:x :findBestPosition:x 3
-    * set :tileValue.19:y :findBestPosition:y
   240 ucontrol getBlock :tileValue.19:x :findBestPosition:y type building floor
   241 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   242 sensor solid type @solid
   243 select :tileValue.19:result notEqual solid false 0.09803921568627451 value
-    * set *tmp132 :tileValue.19:result
   244 label *label49
   245 op add :tileValue.20:x :findBestPosition:x 3
-    * set :tileValue.20:y :findBestPosition:y
   246 ucontrol getBlock :tileValue.20:x :findBestPosition:y type building floor
   247 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   248 sensor solid type @solid
   249 select :tileValue.20:result notEqual solid false 0.09803921568627451 value
-    * set *tmp134 :tileValue.20:result
   250 label *label50
   251 op add *tmp135 :tileValue.14:result :tileValue.15:result
   252 op add *tmp136 *tmp135 :tileValue.16:result
   253 op add *tmp137 :tileValue.19:result *tmp136
   254 op min *tmp138 0.09803921568627451 *tmp137
-    * op add *tmp139 :tileValue.14:result :tileValue.15:result
-    * op add *tmp140 *tmp135 :tileValue.16:result
   255 op add *tmp141 *tmp136 :tileValue.17:result
   256 op min *tmp142 0.09803921568627451 *tmp141
   257 op add *tmp143 :tileValue.16:result :tileValue.17:result
   258 op add *tmp144 *tmp143 :tileValue.18:result
   259 op add *tmp145 :tileValue.15:result *tmp144
   260 op min *tmp146 0.09803921568627451 *tmp145
-    * op add *tmp147 :tileValue.16:result :tileValue.17:result
-    * op add *tmp148 *tmp143 :tileValue.18:result
   261 op add *tmp149 *tmp144 :tileValue.20:result
   262 op min *tmp150 0.09803921568627451 *tmp149
   263 packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150
 
   266 label *label46
   267 label *label39
   268 op add *tmp152 :findBestPosition:y 1
-    * set :computeRowValues.3:x :findBestPosition:x
-    * set :computeRowValues.3:y *tmp152
-    * set :computeRowValues.3:ore :findBestPosition:ore
   269 ucontrol getBlock :tileValue:x *tmp152 type building floor
   270 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   271 sensor solid type @solid
   272 select :tileValue.21:result notEqual solid false 0.09803921568627451 value
-    * set *tmp155 :tileValue.21:result
   273 label *label52
   274 ucontrol getBlock :tileValue.1:x *tmp152 type building floor
   275 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   276 sensor solid type @solid
   277 select :tileValue.22:result notEqual solid false 0.09803921568627451 value
-    * set *tmp157 :tileValue.22:result
   278 label *label53
   279 ucontrol getBlock :findBestPosition:x *tmp152 type building floor
   280 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   281 sensor solid type @solid
   282 select :tileValue.23:result notEqual solid false 0.09803921568627451 value
-    * set *tmp159 :tileValue.23:result
   283 label *label54
   284 ucontrol getBlock :tileValue.3:x *tmp152 type building floor
   285 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   286 sensor solid type @solid
   287 select :tileValue.24:result notEqual solid false 0.09803921568627451 value
-    * set *tmp161 :tileValue.24:result
   288 label *label55
   289 ucontrol getBlock :tileValue.4:x *tmp152 type building floor
   290 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   291 sensor solid type @solid
   292 select :tileValue.25:result notEqual solid false 0.09803921568627451 value
-    * set *tmp163 :tileValue.25:result
   293 label *label56
   294 jump *label57 notEqual :findBestPosition:size 2
   295 op add *tmp166 :tileValue.21:result :tileValue.22:result
 
   303 jump *label59 notEqual :findBestPosition:size 3
   304 op add *tmp173 :tileValue.22:result :tileValue.23:result
   305 op add *tmp174 :tileValue.21:result *tmp173
-    * op add *tmp175 :tileValue.22:result :tileValue.23:result
   306 op add *tmp176 *tmp173 :tileValue.24:result
   307 op add *tmp177 :tileValue.23:result :tileValue.24:result
   308 op add *tmp178 *tmp177 :tileValue.25:result
 
   315 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   316 sensor solid type @solid
   317 select :tileValue.26:result notEqual solid false 0.09803921568627451 value
-    * set *tmp181 :tileValue.26:result
   318 label *label61
   319 op add :tileValue.27:x :findBestPosition:x 3
   320 ucontrol getBlock :tileValue.27:x *tmp152 type building floor
   321 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   322 sensor solid type @solid
   323 select :tileValue.27:result notEqual solid false 0.09803921568627451 value
-    * set *tmp183 :tileValue.27:result
   324 label *label62
   325 op add *tmp184 :tileValue.21:result :tileValue.22:result
   326 op add *tmp185 *tmp184 :tileValue.23:result
   327 op add *tmp186 :tileValue.26:result *tmp185
   328 op min *tmp187 0.09803921568627451 *tmp186
-    * op add *tmp188 :tileValue.21:result :tileValue.22:result
-    * op add *tmp189 *tmp184 :tileValue.23:result
   329 op add *tmp190 *tmp185 :tileValue.24:result
   330 op min *tmp191 0.09803921568627451 *tmp190
   331 op add *tmp192 :tileValue.23:result :tileValue.24:result
   332 op add *tmp193 *tmp192 :tileValue.25:result
   333 op add *tmp194 :tileValue.22:result *tmp193
   334 op min *tmp195 0.09803921568627451 *tmp194
-    * op add *tmp196 :tileValue.23:result :tileValue.24:result
-    * op add *tmp197 *tmp192 :tileValue.25:result
   335 op add *tmp198 *tmp193 :tileValue.27:result
   336 op min *tmp199 0.09803921568627451 *tmp198
   337 packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199
 
   340 label *label58
   341 label *label51
   342 op add *tmp201 :findBestPosition:y 2
-    * set :computeRowValues.4:x :findBestPosition:x
-    * set :computeRowValues.4:y *tmp201
-    * set :computeRowValues.4:ore :findBestPosition:ore
   343 ucontrol getBlock :tileValue:x *tmp201 type building floor
   344 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   345 sensor solid type @solid
   346 select :tileValue.28:result notEqual solid false 0.09803921568627451 value
-    * set *tmp204 :tileValue.28:result
   347 label *label64
   348 ucontrol getBlock :tileValue.1:x *tmp201 type building floor
   349 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   350 sensor solid type @solid
   351 select :tileValue.29:result notEqual solid false 0.09803921568627451 value
-    * set *tmp206 :tileValue.29:result
   352 label *label65
   353 ucontrol getBlock :findBestPosition:x *tmp201 type building floor
   354 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   355 sensor solid type @solid
   356 select :tileValue.30:result notEqual solid false 0.09803921568627451 value
-    * set *tmp208 :tileValue.30:result
   357 label *label66
   358 ucontrol getBlock :tileValue.3:x *tmp201 type building floor
   359 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   360 sensor solid type @solid
   361 select :tileValue.31:result notEqual solid false 0.09803921568627451 value
-    * set *tmp210 :tileValue.31:result
   362 label *label67
   363 ucontrol getBlock :tileValue.4:x *tmp201 type building floor
   364 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   365 sensor solid type @solid
   366 select :tileValue.32:result notEqual solid false 0.09803921568627451 value
-    * set *tmp212 :tileValue.32:result
   367 label *label68
   368 jump *label69 notEqual :findBestPosition:size 2
   369 op add *tmp215 :tileValue.28:result :tileValue.29:result
 
   377 jump *label71 notEqual :findBestPosition:size 3
   378 op add *tmp222 :tileValue.29:result :tileValue.30:result
   379 op add *tmp223 :tileValue.28:result *tmp222
-    * op add *tmp224 :tileValue.29:result :tileValue.30:result
   380 op add *tmp225 *tmp222 :tileValue.31:result
   381 op add *tmp226 :tileValue.30:result :tileValue.31:result
   382 op add *tmp227 *tmp226 :tileValue.32:result
 
   389 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   390 sensor solid type @solid
   391 select :tileValue.33:result notEqual solid false 0.09803921568627451 value
-    * set *tmp230 :tileValue.33:result
   392 label *label73
   393 op add :tileValue.34:x :findBestPosition:x 3
   394 ucontrol getBlock :tileValue.34:x *tmp201 type building floor
   395 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   396 sensor solid type @solid
   397 select :tileValue.34:result notEqual solid false 0.09803921568627451 value
-    * set *tmp232 :tileValue.34:result
   398 label *label74
   399 op add *tmp233 :tileValue.28:result :tileValue.29:result
   400 op add *tmp234 *tmp233 :tileValue.30:result
   401 op add *tmp235 :tileValue.33:result *tmp234
   402 op min *tmp236 0.09803921568627451 *tmp235
-    * op add *tmp237 :tileValue.28:result :tileValue.29:result
-    * op add *tmp238 *tmp233 :tileValue.30:result
   403 op add *tmp239 *tmp234 :tileValue.31:result
   404 op min *tmp240 0.09803921568627451 *tmp239
   405 op add *tmp241 :tileValue.30:result :tileValue.31:result
   406 op add *tmp242 *tmp241 :tileValue.32:result
   407 op add *tmp243 :tileValue.29:result *tmp242
   408 op min *tmp244 0.09803921568627451 *tmp243
-    * op add *tmp245 :tileValue.30:result :tileValue.31:result
-    * op add *tmp246 *tmp241 :tileValue.32:result
   409 op add *tmp247 *tmp242 :tileValue.34:result
   410 op min *tmp248 0.09803921568627451 *tmp247
   411 packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248
 
   422 op add :findBestPosition:row2 *tmp252 *tmp153
   423 op add *tmp256 *tmp104 *tmp153
   424 op add :findBestPosition:row3 *tmp256 *tmp202
-    * set :updateRowPositionsOdd:dy -1
   425 unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 *tmp258 :findBestPosition:row1
   426 jump *label79 lessThanEq :updateRowPositionsOdd:col1 0
   427 jump *label81 greaterThanEq :updateRowPositionsOdd:col1 0.0784313725490196
 
   454 label *label90
   455 label *label88
   456 label *label77
-    * set :updateRowPositionsOdd.1:dy 0
   457 unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 *tmp271 :findBestPosition:row2
   458 jump *label95 lessThanEq :updateRowPositionsOdd.1:col1 :findBestPosition:best
   459 jump *label97 greaterThanEq :updateRowPositionsOdd.1:col1 0.0784313725490196
 
   486 label *label106
   487 label *label104
   488 label *label93
-    * set :updateRowPositionsOdd.2:dy 1
   489 unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 *tmp284 :findBestPosition:row3
   490 jump *label111 lessThanEq :updateRowPositionsOdd.2:col1 :findBestPosition:best
   491 jump *label113 greaterThanEq :updateRowPositionsOdd.2:col1 0.0784313725490196
 
   528 jump *label126 always
   529 label *label125
   530 op sub *tmp303 :findBestPosition:y 3
-    * set :computeRowValues.5:x :findBestPosition:x
-    * set :computeRowValues.5:y *tmp303
-    * set :computeRowValues.5:ore :findBestPosition:ore
   531 ucontrol getBlock :tileValue:x *tmp303 type building floor
   532 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   533 sensor solid type @solid
   534 select :tileValue.35:result notEqual solid false 0.09803921568627451 value
-    * set *tmp306 :tileValue.35:result
   535 label *label128
   536 ucontrol getBlock :tileValue.1:x *tmp303 type building floor
   537 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   538 sensor solid type @solid
   539 select :tileValue.36:result notEqual solid false 0.09803921568627451 value
-    * set *tmp308 :tileValue.36:result
   540 label *label129
   541 ucontrol getBlock :findBestPosition:x *tmp303 type building floor
   542 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   543 sensor solid type @solid
   544 select :tileValue.37:result notEqual solid false 0.09803921568627451 value
-    * set *tmp310 :tileValue.37:result
   545 label *label130
   546 ucontrol getBlock :tileValue.3:x *tmp303 type building floor
   547 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   548 sensor solid type @solid
   549 select :tileValue.38:result notEqual solid false 0.09803921568627451 value
-    * set *tmp312 :tileValue.38:result
   550 label *label131
   551 ucontrol getBlock :tileValue.4:x *tmp303 type building floor
   552 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   553 sensor solid type @solid
   554 select :tileValue.39:result notEqual solid false 0.09803921568627451 value
-    * set *tmp314 :tileValue.39:result
   555 label *label132
   556 jump *label133 notEqual :findBestPosition:size 2
   557 op add *tmp317 :tileValue.35:result :tileValue.36:result
 
   565 jump *label135 notEqual :findBestPosition:size 3
   566 op add *tmp324 :tileValue.36:result :tileValue.37:result
   567 op add *tmp325 :tileValue.35:result *tmp324
-    * op add *tmp326 :tileValue.36:result :tileValue.37:result
   568 op add *tmp327 *tmp324 :tileValue.38:result
   569 op add *tmp328 :tileValue.37:result :tileValue.38:result
   570 op add *tmp329 *tmp328 :tileValue.39:result
 
   577 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   578 sensor solid type @solid
   579 select :tileValue.40:result notEqual solid false 0.09803921568627451 value
-    * set *tmp332 :tileValue.40:result
   580 label *label137
   581 op add :tileValue.41:x :findBestPosition:x 3
   582 ucontrol getBlock :tileValue.41:x *tmp303 type building floor
   583 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   584 sensor solid type @solid
   585 select :tileValue.41:result notEqual solid false 0.09803921568627451 value
-    * set *tmp334 :tileValue.41:result
   586 label *label138
   587 op add *tmp335 :tileValue.35:result :tileValue.36:result
   588 op add *tmp336 *tmp335 :tileValue.37:result
   589 op add *tmp337 :tileValue.40:result *tmp336
   590 op min *tmp338 0.09803921568627451 *tmp337
-    * op add *tmp339 :tileValue.35:result :tileValue.36:result
-    * op add *tmp340 *tmp335 :tileValue.37:result
   591 op add *tmp341 *tmp336 :tileValue.38:result
   592 op min *tmp342 0.09803921568627451 *tmp341
   593 op add *tmp343 :tileValue.37:result :tileValue.38:result
   594 op add *tmp344 *tmp343 :tileValue.39:result
   595 op add *tmp345 :tileValue.36:result *tmp344
   596 op min *tmp346 0.09803921568627451 *tmp345
-    * op add *tmp347 :tileValue.37:result :tileValue.38:result
-    * op add *tmp348 *tmp343 :tileValue.39:result
   597 op add *tmp349 *tmp344 :tileValue.41:result
   598 op min *tmp350 0.09803921568627451 *tmp349
   599 packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350
 
   602 label *label134
   603 label *label127
   604 op add *tmp352 :findBestPosition:y 3
-    * set :computeRowValues.6:x :findBestPosition:x
-    * set :computeRowValues.6:y *tmp352
-    * set :computeRowValues.6:ore :findBestPosition:ore
   605 ucontrol getBlock :tileValue:x *tmp352 type building floor
   606 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   607 sensor solid type @solid
   608 select :tileValue.42:result notEqual solid false 0.09803921568627451 value
-    * set *tmp355 :tileValue.42:result
   609 label *label140
   610 ucontrol getBlock :tileValue.1:x *tmp352 type building floor
   611 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   612 sensor solid type @solid
   613 select :tileValue.43:result notEqual solid false 0.09803921568627451 value
-    * set *tmp357 :tileValue.43:result
   614 label *label141
   615 ucontrol getBlock :findBestPosition:x *tmp352 type building floor
   616 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   617 sensor solid type @solid
   618 select :tileValue.44:result notEqual solid false 0.09803921568627451 value
-    * set *tmp359 :tileValue.44:result
   619 label *label142
   620 ucontrol getBlock :tileValue.3:x *tmp352 type building floor
   621 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   622 sensor solid type @solid
   623 select :tileValue.45:result notEqual solid false 0.09803921568627451 value
-    * set *tmp361 :tileValue.45:result
   624 label *label143
   625 ucontrol getBlock :tileValue.4:x *tmp352 type building floor
   626 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   627 sensor solid type @solid
   628 select :tileValue.46:result notEqual solid false 0.09803921568627451 value
-    * set *tmp363 :tileValue.46:result
   629 label *label144
   630 jump *label145 notEqual :findBestPosition:size 2
   631 op add *tmp366 :tileValue.42:result :tileValue.43:result
 
   639 jump *label147 notEqual :findBestPosition:size 3
   640 op add *tmp373 :tileValue.43:result :tileValue.44:result
   641 op add *tmp374 :tileValue.42:result *tmp373
-    * op add *tmp375 :tileValue.43:result :tileValue.44:result
   642 op add *tmp376 *tmp373 :tileValue.45:result
   643 op add *tmp377 :tileValue.44:result :tileValue.45:result
   644 op add *tmp378 *tmp377 :tileValue.46:result
 
   651 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   652 sensor solid type @solid
   653 select :tileValue.47:result notEqual solid false 0.09803921568627451 value
-    * set *tmp381 :tileValue.47:result
   654 label *label149
   655 op add :tileValue.48:x :findBestPosition:x 3
   656 ucontrol getBlock :tileValue.48:x *tmp352 type building floor
   657 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   658 sensor solid type @solid
   659 select :tileValue.48:result notEqual solid false 0.09803921568627451 value
-    * set *tmp383 :tileValue.48:result
   660 label *label150
   661 op add *tmp384 :tileValue.42:result :tileValue.43:result
   662 op add *tmp385 *tmp384 :tileValue.44:result
   663 op add *tmp386 :tileValue.47:result *tmp385
   664 op min *tmp387 0.09803921568627451 *tmp386
-    * op add *tmp388 :tileValue.42:result :tileValue.43:result
-    * op add *tmp389 *tmp384 :tileValue.44:result
   665 op add *tmp390 *tmp385 :tileValue.45:result
   666 op min *tmp391 0.09803921568627451 *tmp390
   667 op add *tmp392 :tileValue.44:result :tileValue.45:result
   668 op add *tmp393 *tmp392 :tileValue.46:result
   669 op add *tmp394 :tileValue.43:result *tmp393
   670 op min *tmp395 0.09803921568627451 *tmp394
-    * op add *tmp396 :tileValue.44:result :tileValue.45:result
-    * op add *tmp397 *tmp392 :tileValue.46:result
   671 op add *tmp398 *tmp393 :tileValue.48:result
   672 op min *tmp399 0.09803921568627451 *tmp398
   673 packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399
 
   684 op add :findBestPosition:row3 *tmp55 *tmp408
   685 op add :findBestPosition:row4 *tmp408 *tmp353
   686 label *label126
-    * set :updateRowPositionsEven:dy -1.5
   687 unpackcolor :updateRowPositionsEven:col1 :updateRowPositionsEven:col2 :updateRowPositionsEven:col3 :updateRowPositionsEven:col4 :findBestPosition:row1
   688 jump *label153 lessThanEq :updateRowPositionsEven:col1 0
   689 jump *label155 greaterThanEq :updateRowPositionsEven:col1 0.0784313725490196
 
   726 label *label169
   727 label *label167
   728 label *label151
-    * set :updateRowPositionsEven.1:dy -0.5
   729 unpackcolor :updateRowPositionsEven.1:col1 :updateRowPositionsEven.1:col2 :updateRowPositionsEven.1:col3 :updateRowPositionsEven.1:col4 :findBestPosition:row2
   730 jump *label174 lessThanEq :updateRowPositionsEven.1:col1 :findBestPosition:best
   731 jump *label176 greaterThanEq :updateRowPositionsEven.1:col1 0.0784313725490196
 
   768 label *label190
   769 label *label188
   770 label *label172
-    * set :updateRowPositionsEven.2:dy 0.5
   771 unpackcolor :updateRowPositionsEven.2:col1 :updateRowPositionsEven.2:col2 :updateRowPositionsEven.2:col3 :updateRowPositionsEven.2:col4 :findBestPosition:row3
   772 jump *label195 lessThanEq :updateRowPositionsEven.2:col1 :findBestPosition:best
   773 jump *label197 greaterThanEq :updateRowPositionsEven.2:col1 0.0784313725490196
 
   810 label *label211
   811 label *label209
   812 label *label193
-    * set :updateRowPositionsEven.3:dy 1.5
   813 unpackcolor :updateRowPositionsEven.3:col1 :updateRowPositionsEven.3:col2 :updateRowPositionsEven.3:col3 :updateRowPositionsEven.3:col4 :findBestPosition:row4
   814 jump *label216 lessThanEq :updateRowPositionsEven.3:col1 :findBestPosition:best
   815 jump *label218 greaterThanEq :updateRowPositionsEven.3:col1 0.0784313725490196

Modifications by Iterated phase, Loop Hoisting, pass 1, iteration 1:
 
    14 label *label7
    15 jump *label9 lessThan :createTerrainMask:r -3
    16 set :createTerrainMask:c 3
+   17 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
    18 label *label10
    19 jump *label12 lessThan :createTerrainMask:c -3
    20 op shl *tmp0 :createTerrainMask:result 1
    21 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
    22 ucontrol getBlock *tmp1 *tmp2 type building floor
    23 sensor solid type @solid
    24 select :isSolid:result notEqual solid false 1 0

Modifications by Iterated phase, Loop Rotation, pass 1, iteration 1:
 
    13 set :createTerrainMask:r 3
    14 label *label7
    15 jump *label9 lessThan :createTerrainMask:r -3
+   16 label *label235
    17 set :createTerrainMask:c 3
    18 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
    19 label *label10
    20 jump *label12 lessThan :createTerrainMask:c -3
+   21 label *label236
    22 op shl *tmp0 :createTerrainMask:result 1
    23 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
    24 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    28 op or :createTerrainMask:result *tmp0 :isSolid:result
    29 label *label11
    30 op sub :createTerrainMask:c :createTerrainMask:c 1
-    * jump *label10 always
+   31 jump *label236 greaterThanEq :createTerrainMask:c -3
    32 label *label12
    33 label *label8
    34 op sub :createTerrainMask:r :createTerrainMask:r 1
-    * jump *label7 always
+   35 jump *label235 greaterThanEq :createTerrainMask:r -3
    36 label *label9
    37 set :createTerrainMask*retval :createTerrainMask:result
    38 jump *label6 always

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-23 instructions):
 
    35 jump *label235 greaterThanEq :createTerrainMask:r -3
    36 label *label9
    37 set :createTerrainMask*retval :createTerrainMask:result
-    * jump *label6 always
    38 label *label6
    39 set :createTerrainMask*finished true
    40 jump *label5 always
 
    77 op add *tmp21 :tileValue.2:result :tileValue.3:result
    78 op add *tmp22 :tileValue.3:result :tileValue.4:result
    79 packcolor *tmp6 *tmp19 *tmp20 *tmp21 *tmp22
-    * jump *label15 always
    80 jump *label22 always
    81 label *label21
    82 jump *label23 notEqual :findBestPosition:size 3
 
    86 op add *tmp30 :tileValue.2:result :tileValue.3:result
    87 op add *tmp31 *tmp30 :tileValue.4:result
    88 packcolor *tmp6 *tmp27 *tmp29 *tmp31 0
-    * jump *label15 always
    89 jump *label24 always
    90 label *label23
    91 op sub :tileValue.5:x :findBestPosition:x 3
 
   113 op add *tmp51 *tmp46 :tileValue.6:result
   114 op min *tmp52 0.09803921568627451 *tmp51
   115 packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52
-    * jump *label15 always
   116 label *label24
   117 label *label22
   118 label *label15
 
   148 op add *tmp70 :tileValue.9:result :tileValue.10:result
   149 op add *tmp71 :tileValue.10:result :tileValue.11:result
   150 packcolor *tmp55 *tmp68 *tmp69 *tmp70 *tmp71
-    * jump *label27 always
   151 jump *label34 always
   152 label *label33
   153 jump *label35 notEqual :findBestPosition:size 3
 
   157 op add *tmp79 :tileValue.9:result :tileValue.10:result
   158 op add *tmp80 *tmp79 :tileValue.11:result
   159 packcolor *tmp55 *tmp76 *tmp78 *tmp80 0
-    * jump *label27 always
   160 jump *label36 always
   161 label *label35
   162 op sub :tileValue.12:x :findBestPosition:x 3
 
   184 op add *tmp100 *tmp95 :tileValue.13:result
   185 op min *tmp101 0.09803921568627451 *tmp100
   186 packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101
-    * jump *label27 always
   187 label *label36
   188 label *label34
   189 label *label27
 
   218 op add *tmp119 :tileValue.16:result :tileValue.17:result
   219 op add *tmp120 :tileValue.17:result :tileValue.18:result
   220 packcolor *tmp104 *tmp117 *tmp118 *tmp119 *tmp120
-    * jump *label39 always
   221 jump *label46 always
   222 label *label45
   223 jump *label47 notEqual :findBestPosition:size 3
 
   227 op add *tmp128 :tileValue.16:result :tileValue.17:result
   228 op add *tmp129 *tmp128 :tileValue.18:result
   229 packcolor *tmp104 *tmp125 *tmp127 *tmp129 0
-    * jump *label39 always
   230 jump *label48 always
   231 label *label47
   232 op sub :tileValue.19:x :findBestPosition:x 3
 
   254 op add *tmp149 *tmp144 :tileValue.20:result
   255 op min *tmp150 0.09803921568627451 *tmp149
   256 packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150
-    * jump *label39 always
   257 label *label48
   258 label *label46
   259 label *label39
 
   289 op add *tmp168 :tileValue.23:result :tileValue.24:result
   290 op add *tmp169 :tileValue.24:result :tileValue.25:result
   291 packcolor *tmp153 *tmp166 *tmp167 *tmp168 *tmp169
-    * jump *label51 always
   292 jump *label58 always
   293 label *label57
   294 jump *label59 notEqual :findBestPosition:size 3
 
   298 op add *tmp177 :tileValue.23:result :tileValue.24:result
   299 op add *tmp178 *tmp177 :tileValue.25:result
   300 packcolor *tmp153 *tmp174 *tmp176 *tmp178 0
-    * jump *label51 always
   301 jump *label60 always
   302 label *label59
   303 op sub :tileValue.26:x :findBestPosition:x 3
 
   325 op add *tmp198 *tmp193 :tileValue.27:result
   326 op min *tmp199 0.09803921568627451 *tmp198
   327 packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199
-    * jump *label51 always
   328 label *label60
   329 label *label58
   330 label *label51
 
   360 op add *tmp217 :tileValue.30:result :tileValue.31:result
   361 op add *tmp218 :tileValue.31:result :tileValue.32:result
   362 packcolor *tmp202 *tmp215 *tmp216 *tmp217 *tmp218
-    * jump *label63 always
   363 jump *label70 always
   364 label *label69
   365 jump *label71 notEqual :findBestPosition:size 3
 
   369 op add *tmp226 :tileValue.30:result :tileValue.31:result
   370 op add *tmp227 *tmp226 :tileValue.32:result
   371 packcolor *tmp202 *tmp223 *tmp225 *tmp227 0
-    * jump *label63 always
   372 jump *label72 always
   373 label *label71
   374 op sub :tileValue.33:x :findBestPosition:x 3
 
   396 op add *tmp247 *tmp242 :tileValue.34:result
   397 op min *tmp248 0.09803921568627451 *tmp247
   398 packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248
-    * jump *label63 always
   399 label *label72
   400 label *label70
   401 label *label63
 
   545 op add *tmp319 :tileValue.37:result :tileValue.38:result
   546 op add *tmp320 :tileValue.38:result :tileValue.39:result
   547 packcolor *tmp304 *tmp317 *tmp318 *tmp319 *tmp320
-    * jump *label127 always
   548 jump *label134 always
   549 label *label133
   550 jump *label135 notEqual :findBestPosition:size 3
 
   554 op add *tmp328 :tileValue.37:result :tileValue.38:result
   555 op add *tmp329 *tmp328 :tileValue.39:result
   556 packcolor *tmp304 *tmp325 *tmp327 *tmp329 0
-    * jump *label127 always
   557 jump *label136 always
   558 label *label135
   559 op sub :tileValue.40:x :findBestPosition:x 3
 
   581 op add *tmp349 *tmp344 :tileValue.41:result
   582 op min *tmp350 0.09803921568627451 *tmp349
   583 packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350
-    * jump *label127 always
   584 label *label136
   585 label *label134
   586 label *label127
 
   616 op add *tmp368 :tileValue.44:result :tileValue.45:result
   617 op add *tmp369 :tileValue.45:result :tileValue.46:result
   618 packcolor *tmp353 *tmp366 *tmp367 *tmp368 *tmp369
-    * jump *label139 always
   619 jump *label146 always
   620 label *label145
   621 jump *label147 notEqual :findBestPosition:size 3
 
   625 op add *tmp377 :tileValue.44:result :tileValue.45:result
   626 op add *tmp378 *tmp377 :tileValue.46:result
   627 packcolor *tmp353 *tmp374 *tmp376 *tmp378 0
-    * jump *label139 always
   628 jump *label148 always
   629 label *label147
   630 op sub :tileValue.47:x :findBestPosition:x 3
 
   652 op add *tmp398 *tmp393 :tileValue.48:result
   653 op min *tmp399 0.09803921568627451 *tmp398
   654 packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399
-    * jump *label139 always
   655 label *label148
   656 label *label146
   657 label *label139
 
   834 label *label214
   835 label *label76
   836 op mul :findBestPosition*retval :findBestPosition:best 255
-    * jump *label14 always
   837 label *label14
   838 set :findBestPosition*finished true
   839 jump *label5 always

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1:
 
    12 set :createTerrainMask:result 0
    13 set :createTerrainMask:r 3
    14 label *label7
-    * jump *label9 lessThan :createTerrainMask:r -3
+   15 jump *label9 lessThan 3 -3
    16 label *label235
    17 set :createTerrainMask:c 3
    18 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
    19 label *label10
-    * jump *label12 lessThan :createTerrainMask:c -3
+   20 jump *label12 lessThan 3 -3
    21 label *label236
    22 op shl *tmp0 :createTerrainMask:result 1
    23 op add *tmp1 :createTerrainMask:x :createTerrainMask:c

Modifications by Iterated phase, Jump Normalization, pass 3, iteration 1 (-2 instructions):
 
    12 set :createTerrainMask:result 0
    13 set :createTerrainMask:r 3
    14 label *label7
-    * jump *label9 lessThan 3 -3
    15 label *label235
    16 set :createTerrainMask:c 3
    17 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
    18 label *label10
-    * jump *label12 lessThan 3 -3
    19 label *label236
    20 op shl *tmp0 :createTerrainMask:result 1
    21 op add *tmp1 :createTerrainMask:x :createTerrainMask:c

Modifications by Unroll loop at line 31:9 (+41 instructions):
 
    13 set :createTerrainMask:r 3
    14 label *label7
    15 label *label235
-    * set :createTerrainMask:c 3
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
-    * label *label10
-    * label *label236
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label13
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label11
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
-    * jump *label236 greaterThanEq :createTerrainMask:c -3
-    * label *label12
+   16 set :createTerrainMask:c 3
+   17 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+   18 label *label237
+   19 op shl *tmp0 :createTerrainMask:result 1
+   20 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   21 ucontrol getBlock *tmp1 *tmp2 type building floor
+   22 sensor solid type @solid
+   23 select :isSolid:result notEqual solid false 1 0
+   24 label *label238
+   25 op or :createTerrainMask:result *tmp0 :isSolid:result
+   26 label *label239
+   27 op sub :createTerrainMask:c :createTerrainMask:c 1
+   28 op shl *tmp0 :createTerrainMask:result 1
+   29 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   30 ucontrol getBlock *tmp1 *tmp2 type building floor
+   31 sensor solid type @solid
+   32 select :isSolid:result notEqual solid false 1 0
+   33 label *label240
+   34 op or :createTerrainMask:result *tmp0 :isSolid:result
+   35 label *label241
+   36 op sub :createTerrainMask:c :createTerrainMask:c 1
+   37 op shl *tmp0 :createTerrainMask:result 1
+   38 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   39 ucontrol getBlock *tmp1 *tmp2 type building floor
+   40 sensor solid type @solid
+   41 select :isSolid:result notEqual solid false 1 0
+   42 label *label242
+   43 op or :createTerrainMask:result *tmp0 :isSolid:result
+   44 label *label243
+   45 op sub :createTerrainMask:c :createTerrainMask:c 1
+   46 op shl *tmp0 :createTerrainMask:result 1
+   47 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   48 ucontrol getBlock *tmp1 *tmp2 type building floor
+   49 sensor solid type @solid
+   50 select :isSolid:result notEqual solid false 1 0
+   51 label *label244
+   52 op or :createTerrainMask:result *tmp0 :isSolid:result
+   53 label *label245
+   54 op sub :createTerrainMask:c :createTerrainMask:c 1
+   55 op shl *tmp0 :createTerrainMask:result 1
+   56 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   57 ucontrol getBlock *tmp1 *tmp2 type building floor
+   58 sensor solid type @solid
+   59 select :isSolid:result notEqual solid false 1 0
+   60 label *label246
+   61 op or :createTerrainMask:result *tmp0 :isSolid:result
+   62 label *label247
+   63 op sub :createTerrainMask:c :createTerrainMask:c 1
+   64 op shl *tmp0 :createTerrainMask:result 1
+   65 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   66 ucontrol getBlock *tmp1 *tmp2 type building floor
+   67 sensor solid type @solid
+   68 select :isSolid:result notEqual solid false 1 0
+   69 label *label248
+   70 op or :createTerrainMask:result *tmp0 :isSolid:result
+   71 label *label249
+   72 op sub :createTerrainMask:c :createTerrainMask:c 1
+   73 op shl *tmp0 :createTerrainMask:result 1
+   74 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   75 ucontrol getBlock *tmp1 *tmp2 type building floor
+   76 sensor solid type @solid
+   77 select :isSolid:result notEqual solid false 1 0
+   78 label *label250
+   79 op or :createTerrainMask:result *tmp0 :isSolid:result
+   80 label *label251
+   81 op sub :createTerrainMask:c :createTerrainMask:c 1
+   82 label *label12
    83 label *label8
    84 op sub :createTerrainMask:r :createTerrainMask:r 1
    85 jump *label235 greaterThanEq :createTerrainMask:r -3

Modifications by Iterated phase, Data Flow Optimization, pass 3, iteration 1:
 
    17 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
    18 label *label237
    19 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   20 op add *tmp1 :createTerrainMask:x 3
    21 ucontrol getBlock *tmp1 *tmp2 type building floor
    22 sensor solid type @solid
    23 select :isSolid:result notEqual solid false 1 0
    24 label *label238
    25 op or :createTerrainMask:result *tmp0 :isSolid:result
    26 label *label239
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   27 op sub :createTerrainMask:c 3 1
    28 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   29 op add *tmp1 :createTerrainMask:x 2
    30 ucontrol getBlock *tmp1 *tmp2 type building floor
    31 sensor solid type @solid
    32 select :isSolid:result notEqual solid false 1 0
    33 label *label240
    34 op or :createTerrainMask:result *tmp0 :isSolid:result
    35 label *label241
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   36 op sub :createTerrainMask:c 2 1
    37 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   38 op add *tmp1 :createTerrainMask:x 1
    39 ucontrol getBlock *tmp1 *tmp2 type building floor
    40 sensor solid type @solid
    41 select :isSolid:result notEqual solid false 1 0
    42 label *label242
    43 op or :createTerrainMask:result *tmp0 :isSolid:result
    44 label *label243
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   45 op sub :createTerrainMask:c 1 1
    46 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   47 op add *tmp1 :createTerrainMask:x 0
    48 ucontrol getBlock *tmp1 *tmp2 type building floor
    49 sensor solid type @solid
    50 select :isSolid:result notEqual solid false 1 0
    51 label *label244
    52 op or :createTerrainMask:result *tmp0 :isSolid:result
    53 label *label245
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   54 op sub :createTerrainMask:c 0 1
    55 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   56 op add *tmp1 :createTerrainMask:x -1
    57 ucontrol getBlock *tmp1 *tmp2 type building floor
    58 sensor solid type @solid
    59 select :isSolid:result notEqual solid false 1 0
    60 label *label246
    61 op or :createTerrainMask:result *tmp0 :isSolid:result
    62 label *label247
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   63 op sub :createTerrainMask:c -1 1
    64 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   65 op add *tmp1 :createTerrainMask:x -2
    66 ucontrol getBlock *tmp1 *tmp2 type building floor
    67 sensor solid type @solid
    68 select :isSolid:result notEqual solid false 1 0
    69 label *label248
    70 op or :createTerrainMask:result *tmp0 :isSolid:result
    71 label *label249
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   72 op sub :createTerrainMask:c -2 1
    73 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   74 op add *tmp1 :createTerrainMask:x -3
    75 ucontrol getBlock *tmp1 *tmp2 type building floor
    76 sensor solid type @solid
    77 select :isSolid:result notEqual solid false 1 0
    78 label *label250
    79 op or :createTerrainMask:result *tmp0 :isSolid:result
    80 label *label251
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   81 op sub :createTerrainMask:c -3 1
    82 label *label12
    83 label *label8
    84 op sub :createTerrainMask:r :createTerrainMask:r 1

Modifications by Iterated phase, Data Flow Optimization, pass 3, iteration 2 (-8 instructions):
 
    13 set :createTerrainMask:r 3
    14 label *label7
    15 label *label235
-    * set :createTerrainMask:c 3
    16 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
    17 label *label237
    18 op shl *tmp0 :createTerrainMask:result 1
 
    23 label *label238
    24 op or :createTerrainMask:result *tmp0 :isSolid:result
    25 label *label239
-    * op sub :createTerrainMask:c 3 1
    26 op shl *tmp0 :createTerrainMask:result 1
    27 op add *tmp1 :createTerrainMask:x 2
    28 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    31 label *label240
    32 op or :createTerrainMask:result *tmp0 :isSolid:result
    33 label *label241
-    * op sub :createTerrainMask:c 2 1
    34 op shl *tmp0 :createTerrainMask:result 1
    35 op add *tmp1 :createTerrainMask:x 1
    36 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    39 label *label242
    40 op or :createTerrainMask:result *tmp0 :isSolid:result
    41 label *label243
-    * op sub :createTerrainMask:c 1 1
    42 op shl *tmp0 :createTerrainMask:result 1
    43 op add *tmp1 :createTerrainMask:x 0
    44 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    47 label *label244
    48 op or :createTerrainMask:result *tmp0 :isSolid:result
    49 label *label245
-    * op sub :createTerrainMask:c 0 1
    50 op shl *tmp0 :createTerrainMask:result 1
    51 op add *tmp1 :createTerrainMask:x -1
    52 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    55 label *label246
    56 op or :createTerrainMask:result *tmp0 :isSolid:result
    57 label *label247
-    * op sub :createTerrainMask:c -1 1
    58 op shl *tmp0 :createTerrainMask:result 1
    59 op add *tmp1 :createTerrainMask:x -2
    60 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    63 label *label248
    64 op or :createTerrainMask:result *tmp0 :isSolid:result
    65 label *label249
-    * op sub :createTerrainMask:c -2 1
    66 op shl *tmp0 :createTerrainMask:result 1
    67 op add *tmp1 :createTerrainMask:x -3
    68 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    71 label *label250
    72 op or :createTerrainMask:result *tmp0 :isSolid:result
    73 label *label251
-    * op sub :createTerrainMask:c -3 1
    74 label *label12
    75 label *label8
    76 op sub :createTerrainMask:r :createTerrainMask:r 1

Modifications by Unroll loop at line 30:5 (+263 instructions):
 
    10 label *label0
    11 ubind :createTerrainMask:unit
    12 set :createTerrainMask:result 0
-    * set :createTerrainMask:r 3
-    * label *label7
-    * label *label235
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
-    * label *label237
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 3
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label238
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label239
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 2
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label240
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label241
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 1
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label242
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label243
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label244
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label245
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x -1
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label246
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label247
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x -2
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label248
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label249
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x -3
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label250
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label251
-    * label *label12
-    * label *label8
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * jump *label235 greaterThanEq :createTerrainMask:r -3
-    * label *label9
+   13 set :createTerrainMask:r 3
+   14 label *label252
+   15 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+   16 label *label253
+   17 op shl *tmp0 :createTerrainMask:result 1
+   18 op add *tmp1 :createTerrainMask:x 3
+   19 ucontrol getBlock *tmp1 *tmp2 type building floor
+   20 sensor solid type @solid
+   21 select :isSolid:result notEqual solid false 1 0
+   22 label *label254
+   23 op or :createTerrainMask:result *tmp0 :isSolid:result
+   24 label *label255
+   25 op shl *tmp0 :createTerrainMask:result 1
+   26 op add *tmp1 :createTerrainMask:x 2
+   27 ucontrol getBlock *tmp1 *tmp2 type building floor
+   28 sensor solid type @solid
+   29 select :isSolid:result notEqual solid false 1 0
+   30 label *label256
+   31 op or :createTerrainMask:result *tmp0 :isSolid:result
+   32 label *label257
+   33 op shl *tmp0 :createTerrainMask:result 1
+   34 op add *tmp1 :createTerrainMask:x 1
+   35 ucontrol getBlock *tmp1 *tmp2 type building floor
+   36 sensor solid type @solid
+   37 select :isSolid:result notEqual solid false 1 0
+   38 label *label258
+   39 op or :createTerrainMask:result *tmp0 :isSolid:result
+   40 label *label259
+   41 op shl *tmp0 :createTerrainMask:result 1
+   42 op add *tmp1 :createTerrainMask:x 0
+   43 ucontrol getBlock *tmp1 *tmp2 type building floor
+   44 sensor solid type @solid
+   45 select :isSolid:result notEqual solid false 1 0
+   46 label *label260
+   47 op or :createTerrainMask:result *tmp0 :isSolid:result
+   48 label *label261
+   49 op shl *tmp0 :createTerrainMask:result 1
+   50 op add *tmp1 :createTerrainMask:x -1
+   51 ucontrol getBlock *tmp1 *tmp2 type building floor
+   52 sensor solid type @solid
+   53 select :isSolid:result notEqual solid false 1 0
+   54 label *label262
+   55 op or :createTerrainMask:result *tmp0 :isSolid:result
+   56 label *label263
+   57 op shl *tmp0 :createTerrainMask:result 1
+   58 op add *tmp1 :createTerrainMask:x -2
+   59 ucontrol getBlock *tmp1 *tmp2 type building floor
+   60 sensor solid type @solid
+   61 select :isSolid:result notEqual solid false 1 0
+   62 label *label264
+   63 op or :createTerrainMask:result *tmp0 :isSolid:result
+   64 label *label265
+   65 op shl *tmp0 :createTerrainMask:result 1
+   66 op add *tmp1 :createTerrainMask:x -3
+   67 ucontrol getBlock *tmp1 *tmp2 type building floor
+   68 sensor solid type @solid
+   69 select :isSolid:result notEqual solid false 1 0
+   70 label *label266
+   71 op or :createTerrainMask:result *tmp0 :isSolid:result
+   72 label *label267
+   73 label *label268
+   74 label *label269
+   75 op sub :createTerrainMask:r :createTerrainMask:r 1
+   76 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+   77 label *label270
+   78 op shl *tmp0 :createTerrainMask:result 1
+   79 op add *tmp1 :createTerrainMask:x 3
+   80 ucontrol getBlock *tmp1 *tmp2 type building floor
+   81 sensor solid type @solid
+   82 select :isSolid:result notEqual solid false 1 0
+   83 label *label271
+   84 op or :createTerrainMask:result *tmp0 :isSolid:result
+   85 label *label272
+   86 op shl *tmp0 :createTerrainMask:result 1
+   87 op add *tmp1 :createTerrainMask:x 2
+   88 ucontrol getBlock *tmp1 *tmp2 type building floor
+   89 sensor solid type @solid
+   90 select :isSolid:result notEqual solid false 1 0
+   91 label *label273
+   92 op or :createTerrainMask:result *tmp0 :isSolid:result
+   93 label *label274
+   94 op shl *tmp0 :createTerrainMask:result 1
+   95 op add *tmp1 :createTerrainMask:x 1
+   96 ucontrol getBlock *tmp1 *tmp2 type building floor
+   97 sensor solid type @solid
+   98 select :isSolid:result notEqual solid false 1 0
+   99 label *label275
+  100 op or :createTerrainMask:result *tmp0 :isSolid:result
+  101 label *label276
+  102 op shl *tmp0 :createTerrainMask:result 1
+  103 op add *tmp1 :createTerrainMask:x 0
+  104 ucontrol getBlock *tmp1 *tmp2 type building floor
+  105 sensor solid type @solid
+  106 select :isSolid:result notEqual solid false 1 0
+  107 label *label277
+  108 op or :createTerrainMask:result *tmp0 :isSolid:result
+  109 label *label278
+  110 op shl *tmp0 :createTerrainMask:result 1
+  111 op add *tmp1 :createTerrainMask:x -1
+  112 ucontrol getBlock *tmp1 *tmp2 type building floor
+  113 sensor solid type @solid
+  114 select :isSolid:result notEqual solid false 1 0
+  115 label *label279
+  116 op or :createTerrainMask:result *tmp0 :isSolid:result
+  117 label *label280
+  118 op shl *tmp0 :createTerrainMask:result 1
+  119 op add *tmp1 :createTerrainMask:x -2
+  120 ucontrol getBlock *tmp1 *tmp2 type building floor
+  121 sensor solid type @solid
+  122 select :isSolid:result notEqual solid false 1 0
+  123 label *label281
+  124 op or :createTerrainMask:result *tmp0 :isSolid:result
+  125 label *label282
+  126 op shl *tmp0 :createTerrainMask:result 1
+  127 op add *tmp1 :createTerrainMask:x -3
+  128 ucontrol getBlock *tmp1 *tmp2 type building floor
+  129 sensor solid type @solid
+  130 select :isSolid:result notEqual solid false 1 0
+  131 label *label283
+  132 op or :createTerrainMask:result *tmp0 :isSolid:result
+  133 label *label284
+  134 label *label285
+  135 label *label286
+  136 op sub :createTerrainMask:r :createTerrainMask:r 1
+  137 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  138 label *label287
+  139 op shl *tmp0 :createTerrainMask:result 1
+  140 op add *tmp1 :createTerrainMask:x 3
+  141 ucontrol getBlock *tmp1 *tmp2 type building floor
+  142 sensor solid type @solid
+  143 select :isSolid:result notEqual solid false 1 0
+  144 label *label288
+  145 op or :createTerrainMask:result *tmp0 :isSolid:result
+  146 label *label289
+  147 op shl *tmp0 :createTerrainMask:result 1
+  148 op add *tmp1 :createTerrainMask:x 2
+  149 ucontrol getBlock *tmp1 *tmp2 type building floor
+  150 sensor solid type @solid
+  151 select :isSolid:result notEqual solid false 1 0
+  152 label *label290
+  153 op or :createTerrainMask:result *tmp0 :isSolid:result
+  154 label *label291
+  155 op shl *tmp0 :createTerrainMask:result 1
+  156 op add *tmp1 :createTerrainMask:x 1
+  157 ucontrol getBlock *tmp1 *tmp2 type building floor
+  158 sensor solid type @solid
+  159 select :isSolid:result notEqual solid false 1 0
+  160 label *label292
+  161 op or :createTerrainMask:result *tmp0 :isSolid:result
+  162 label *label293
+  163 op shl *tmp0 :createTerrainMask:result 1
+  164 op add *tmp1 :createTerrainMask:x 0
+  165 ucontrol getBlock *tmp1 *tmp2 type building floor
+  166 sensor solid type @solid
+  167 select :isSolid:result notEqual solid false 1 0
+  168 label *label294
+  169 op or :createTerrainMask:result *tmp0 :isSolid:result
+  170 label *label295
+  171 op shl *tmp0 :createTerrainMask:result 1
+  172 op add *tmp1 :createTerrainMask:x -1
+  173 ucontrol getBlock *tmp1 *tmp2 type building floor
+  174 sensor solid type @solid
+  175 select :isSolid:result notEqual solid false 1 0
+  176 label *label296
+  177 op or :createTerrainMask:result *tmp0 :isSolid:result
+  178 label *label297
+  179 op shl *tmp0 :createTerrainMask:result 1
+  180 op add *tmp1 :createTerrainMask:x -2
+  181 ucontrol getBlock *tmp1 *tmp2 type building floor
+  182 sensor solid type @solid
+  183 select :isSolid:result notEqual solid false 1 0
+  184 label *label298
+  185 op or :createTerrainMask:result *tmp0 :isSolid:result
+  186 label *label299
+  187 op shl *tmp0 :createTerrainMask:result 1
+  188 op add *tmp1 :createTerrainMask:x -3
+  189 ucontrol getBlock *tmp1 *tmp2 type building floor
+  190 sensor solid type @solid
+  191 select :isSolid:result notEqual solid false 1 0
+  192 label *label300
+  193 op or :createTerrainMask:result *tmp0 :isSolid:result
+  194 label *label301
+  195 label *label302
+  196 label *label303
+  197 op sub :createTerrainMask:r :createTerrainMask:r 1
+  198 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  199 label *label304
+  200 op shl *tmp0 :createTerrainMask:result 1
+  201 op add *tmp1 :createTerrainMask:x 3
+  202 ucontrol getBlock *tmp1 *tmp2 type building floor
+  203 sensor solid type @solid
+  204 select :isSolid:result notEqual solid false 1 0
+  205 label *label305
+  206 op or :createTerrainMask:result *tmp0 :isSolid:result
+  207 label *label306
+  208 op shl *tmp0 :createTerrainMask:result 1
+  209 op add *tmp1 :createTerrainMask:x 2
+  210 ucontrol getBlock *tmp1 *tmp2 type building floor
+  211 sensor solid type @solid
+  212 select :isSolid:result notEqual solid false 1 0
+  213 label *label307
+  214 op or :createTerrainMask:result *tmp0 :isSolid:result
+  215 label *label308
+  216 op shl *tmp0 :createTerrainMask:result 1
+  217 op add *tmp1 :createTerrainMask:x 1
+  218 ucontrol getBlock *tmp1 *tmp2 type building floor
+  219 sensor solid type @solid
+  220 select :isSolid:result notEqual solid false 1 0
+  221 label *label309
+  222 op or :createTerrainMask:result *tmp0 :isSolid:result
+  223 label *label310
+  224 op shl *tmp0 :createTerrainMask:result 1
+  225 op add *tmp1 :createTerrainMask:x 0
+  226 ucontrol getBlock *tmp1 *tmp2 type building floor
+  227 sensor solid type @solid
+  228 select :isSolid:result notEqual solid false 1 0
+  229 label *label311
+  230 op or :createTerrainMask:result *tmp0 :isSolid:result
+  231 label *label312
+  232 op shl *tmp0 :createTerrainMask:result 1
+  233 op add *tmp1 :createTerrainMask:x -1
+  234 ucontrol getBlock *tmp1 *tmp2 type building floor
+  235 sensor solid type @solid
+  236 select :isSolid:result notEqual solid false 1 0
+  237 label *label313
+  238 op or :createTerrainMask:result *tmp0 :isSolid:result
+  239 label *label314
+  240 op shl *tmp0 :createTerrainMask:result 1
+  241 op add *tmp1 :createTerrainMask:x -2
+  242 ucontrol getBlock *tmp1 *tmp2 type building floor
+  243 sensor solid type @solid
+  244 select :isSolid:result notEqual solid false 1 0
+  245 label *label315
+  246 op or :createTerrainMask:result *tmp0 :isSolid:result
+  247 label *label316
+  248 op shl *tmp0 :createTerrainMask:result 1
+  249 op add *tmp1 :createTerrainMask:x -3
+  250 ucontrol getBlock *tmp1 *tmp2 type building floor
+  251 sensor solid type @solid
+  252 select :isSolid:result notEqual solid false 1 0
+  253 label *label317
+  254 op or :createTerrainMask:result *tmp0 :isSolid:result
+  255 label *label318
+  256 label *label319
+  257 label *label320
+  258 op sub :createTerrainMask:r :createTerrainMask:r 1
+  259 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  260 label *label321
+  261 op shl *tmp0 :createTerrainMask:result 1
+  262 op add *tmp1 :createTerrainMask:x 3
+  263 ucontrol getBlock *tmp1 *tmp2 type building floor
+  264 sensor solid type @solid
+  265 select :isSolid:result notEqual solid false 1 0
+  266 label *label322
+  267 op or :createTerrainMask:result *tmp0 :isSolid:result
+  268 label *label323
+  269 op shl *tmp0 :createTerrainMask:result 1
+  270 op add *tmp1 :createTerrainMask:x 2
+  271 ucontrol getBlock *tmp1 *tmp2 type building floor
+  272 sensor solid type @solid
+  273 select :isSolid:result notEqual solid false 1 0
+  274 label *label324
+  275 op or :createTerrainMask:result *tmp0 :isSolid:result
+  276 label *label325
+  277 op shl *tmp0 :createTerrainMask:result 1
+  278 op add *tmp1 :createTerrainMask:x 1
+  279 ucontrol getBlock *tmp1 *tmp2 type building floor
+  280 sensor solid type @solid
+  281 select :isSolid:result notEqual solid false 1 0
+  282 label *label326
+  283 op or :createTerrainMask:result *tmp0 :isSolid:result
+  284 label *label327
+  285 op shl *tmp0 :createTerrainMask:result 1
+  286 op add *tmp1 :createTerrainMask:x 0
+  287 ucontrol getBlock *tmp1 *tmp2 type building floor
+  288 sensor solid type @solid
+  289 select :isSolid:result notEqual solid false 1 0
+  290 label *label328
+  291 op or :createTerrainMask:result *tmp0 :isSolid:result
+  292 label *label329
+  293 op shl *tmp0 :createTerrainMask:result 1
+  294 op add *tmp1 :createTerrainMask:x -1
+  295 ucontrol getBlock *tmp1 *tmp2 type building floor
+  296 sensor solid type @solid
+  297 select :isSolid:result notEqual solid false 1 0
+  298 label *label330
+  299 op or :createTerrainMask:result *tmp0 :isSolid:result
+  300 label *label331
+  301 op shl *tmp0 :createTerrainMask:result 1
+  302 op add *tmp1 :createTerrainMask:x -2
+  303 ucontrol getBlock *tmp1 *tmp2 type building floor
+  304 sensor solid type @solid
+  305 select :isSolid:result notEqual solid false 1 0
+  306 label *label332
+  307 op or :createTerrainMask:result *tmp0 :isSolid:result
+  308 label *label333
+  309 op shl *tmp0 :createTerrainMask:result 1
+  310 op add *tmp1 :createTerrainMask:x -3
+  311 ucontrol getBlock *tmp1 *tmp2 type building floor
+  312 sensor solid type @solid
+  313 select :isSolid:result notEqual solid false 1 0
+  314 label *label334
+  315 op or :createTerrainMask:result *tmp0 :isSolid:result
+  316 label *label335
+  317 label *label336
+  318 label *label337
+  319 op sub :createTerrainMask:r :createTerrainMask:r 1
+  320 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  321 label *label338
+  322 op shl *tmp0 :createTerrainMask:result 1
+  323 op add *tmp1 :createTerrainMask:x 3
+  324 ucontrol getBlock *tmp1 *tmp2 type building floor
+  325 sensor solid type @solid
+  326 select :isSolid:result notEqual solid false 1 0
+  327 label *label339
+  328 op or :createTerrainMask:result *tmp0 :isSolid:result
+  329 label *label340
+  330 op shl *tmp0 :createTerrainMask:result 1
+  331 op add *tmp1 :createTerrainMask:x 2
+  332 ucontrol getBlock *tmp1 *tmp2 type building floor
+  333 sensor solid type @solid
+  334 select :isSolid:result notEqual solid false 1 0
+  335 label *label341
+  336 op or :createTerrainMask:result *tmp0 :isSolid:result
+  337 label *label342
+  338 op shl *tmp0 :createTerrainMask:result 1
+  339 op add *tmp1 :createTerrainMask:x 1
+  340 ucontrol getBlock *tmp1 *tmp2 type building floor
+  341 sensor solid type @solid
+  342 select :isSolid:result notEqual solid false 1 0
+  343 label *label343
+  344 op or :createTerrainMask:result *tmp0 :isSolid:result
+  345 label *label344
+  346 op shl *tmp0 :createTerrainMask:result 1
+  347 op add *tmp1 :createTerrainMask:x 0
+  348 ucontrol getBlock *tmp1 *tmp2 type building floor
+  349 sensor solid type @solid
+  350 select :isSolid:result notEqual solid false 1 0
+  351 label *label345
+  352 op or :createTerrainMask:result *tmp0 :isSolid:result
+  353 label *label346
+  354 op shl *tmp0 :createTerrainMask:result 1
+  355 op add *tmp1 :createTerrainMask:x -1
+  356 ucontrol getBlock *tmp1 *tmp2 type building floor
+  357 sensor solid type @solid
+  358 select :isSolid:result notEqual solid false 1 0
+  359 label *label347
+  360 op or :createTerrainMask:result *tmp0 :isSolid:result
+  361 label *label348
+  362 op shl *tmp0 :createTerrainMask:result 1
+  363 op add *tmp1 :createTerrainMask:x -2
+  364 ucontrol getBlock *tmp1 *tmp2 type building floor
+  365 sensor solid type @solid
+  366 select :isSolid:result notEqual solid false 1 0
+  367 label *label349
+  368 op or :createTerrainMask:result *tmp0 :isSolid:result
+  369 label *label350
+  370 op shl *tmp0 :createTerrainMask:result 1
+  371 op add *tmp1 :createTerrainMask:x -3
+  372 ucontrol getBlock *tmp1 *tmp2 type building floor
+  373 sensor solid type @solid
+  374 select :isSolid:result notEqual solid false 1 0
+  375 label *label351
+  376 op or :createTerrainMask:result *tmp0 :isSolid:result
+  377 label *label352
+  378 label *label353
+  379 label *label354
+  380 op sub :createTerrainMask:r :createTerrainMask:r 1
+  381 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  382 label *label355
+  383 op shl *tmp0 :createTerrainMask:result 1
+  384 op add *tmp1 :createTerrainMask:x 3
+  385 ucontrol getBlock *tmp1 *tmp2 type building floor
+  386 sensor solid type @solid
+  387 select :isSolid:result notEqual solid false 1 0
+  388 label *label356
+  389 op or :createTerrainMask:result *tmp0 :isSolid:result
+  390 label *label357
+  391 op shl *tmp0 :createTerrainMask:result 1
+  392 op add *tmp1 :createTerrainMask:x 2
+  393 ucontrol getBlock *tmp1 *tmp2 type building floor
+  394 sensor solid type @solid
+  395 select :isSolid:result notEqual solid false 1 0
+  396 label *label358
+  397 op or :createTerrainMask:result *tmp0 :isSolid:result
+  398 label *label359
+  399 op shl *tmp0 :createTerrainMask:result 1
+  400 op add *tmp1 :createTerrainMask:x 1
+  401 ucontrol getBlock *tmp1 *tmp2 type building floor
+  402 sensor solid type @solid
+  403 select :isSolid:result notEqual solid false 1 0
+  404 label *label360
+  405 op or :createTerrainMask:result *tmp0 :isSolid:result
+  406 label *label361
+  407 op shl *tmp0 :createTerrainMask:result 1
+  408 op add *tmp1 :createTerrainMask:x 0
+  409 ucontrol getBlock *tmp1 *tmp2 type building floor
+  410 sensor solid type @solid
+  411 select :isSolid:result notEqual solid false 1 0
+  412 label *label362
+  413 op or :createTerrainMask:result *tmp0 :isSolid:result
+  414 label *label363
+  415 op shl *tmp0 :createTerrainMask:result 1
+  416 op add *tmp1 :createTerrainMask:x -1
+  417 ucontrol getBlock *tmp1 *tmp2 type building floor
+  418 sensor solid type @solid
+  419 select :isSolid:result notEqual solid false 1 0
+  420 label *label364
+  421 op or :createTerrainMask:result *tmp0 :isSolid:result
+  422 label *label365
+  423 op shl *tmp0 :createTerrainMask:result 1
+  424 op add *tmp1 :createTerrainMask:x -2
+  425 ucontrol getBlock *tmp1 *tmp2 type building floor
+  426 sensor solid type @solid
+  427 select :isSolid:result notEqual solid false 1 0
+  428 label *label366
+  429 op or :createTerrainMask:result *tmp0 :isSolid:result
+  430 label *label367
+  431 op shl *tmp0 :createTerrainMask:result 1
+  432 op add *tmp1 :createTerrainMask:x -3
+  433 ucontrol getBlock *tmp1 *tmp2 type building floor
+  434 sensor solid type @solid
+  435 select :isSolid:result notEqual solid false 1 0
+  436 label *label368
+  437 op or :createTerrainMask:result *tmp0 :isSolid:result
+  438 label *label369
+  439 label *label370
+  440 label *label371
+  441 op sub :createTerrainMask:r :createTerrainMask:r 1
+  442 label *label9
   443 set :createTerrainMask*retval :createTerrainMask:result
   444 label *label6
   445 set :createTerrainMask*finished true

Modifications by Iterated phase, Data Flow Optimization, pass 3, iteration 1 (-1 instructions):
 
   434 sensor solid type @solid
   435 select :isSolid:result notEqual solid false 1 0
   436 label *label368
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
+  437 op or :createTerrainMask*retval *tmp0 :isSolid:result
   438 label *label369
   439 label *label370
   440 label *label371
   441 op sub :createTerrainMask:r :createTerrainMask:r 1
   442 label *label9
-    * set :createTerrainMask*retval :createTerrainMask:result
   443 label *label6
   444 set :createTerrainMask*finished true
   445 jump *label5 always

Modifications by Iterated phase, Data Flow Optimization, pass 3, iteration 2:
 
    12 set :createTerrainMask:result 0
    13 set :createTerrainMask:r 3
    14 label *label252
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+   15 op add *tmp2 :createTerrainMask:y 3
    16 label *label253
-    * op shl *tmp0 :createTerrainMask:result 1
+   17 op shl *tmp0 0 1
    18 op add *tmp1 :createTerrainMask:x 3
    19 ucontrol getBlock *tmp1 *tmp2 type building floor
    20 sensor solid type @solid
    21 select :isSolid:result notEqual solid false 1 0
    22 label *label254
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
+   23 op or :createTerrainMask:result 0 :isSolid:result
    24 label *label255
    25 op shl *tmp0 :createTerrainMask:result 1
    26 op add *tmp1 :createTerrainMask:x 2
 
    72 label *label267
    73 label *label268
    74 label *label269
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+   75 op sub :createTerrainMask:r 3 1
+   76 op add *tmp2 :createTerrainMask:y 2
    77 label *label270
    78 op shl *tmp0 :createTerrainMask:result 1
    79 op add *tmp1 :createTerrainMask:x 3
 
   133 label *label284
   134 label *label285
   135 label *label286
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  136 op sub :createTerrainMask:r 2 1
+  137 op add *tmp2 :createTerrainMask:y 1
   138 label *label287
   139 op shl *tmp0 :createTerrainMask:result 1
   140 op add *tmp1 :createTerrainMask:x 3
 
   194 label *label301
   195 label *label302
   196 label *label303
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  197 op sub :createTerrainMask:r 1 1
+  198 op add *tmp2 :createTerrainMask:y 0
   199 label *label304
   200 op shl *tmp0 :createTerrainMask:result 1
   201 op add *tmp1 :createTerrainMask:x 3
 
   255 label *label318
   256 label *label319
   257 label *label320
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  258 op sub :createTerrainMask:r 0 1
+  259 op add *tmp2 :createTerrainMask:y -1
   260 label *label321
   261 op shl *tmp0 :createTerrainMask:result 1
   262 op add *tmp1 :createTerrainMask:x 3
 
   316 label *label335
   317 label *label336
   318 label *label337
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  319 op sub :createTerrainMask:r -1 1
+  320 op add *tmp2 :createTerrainMask:y -2
   321 label *label338
   322 op shl *tmp0 :createTerrainMask:result 1
   323 op add *tmp1 :createTerrainMask:x 3
 
   377 label *label352
   378 label *label353
   379 label *label354
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  380 op sub :createTerrainMask:r -2 1
+  381 op add *tmp2 :createTerrainMask:y -3
   382 label *label355
   383 op shl *tmp0 :createTerrainMask:result 1
   384 op add *tmp1 :createTerrainMask:x 3
 
   438 label *label369
   439 label *label370
   440 label *label371
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
+  441 op sub :createTerrainMask:r -3 1
   442 label *label9
   443 label *label6
   444 set :createTerrainMask*finished true

Modifications by Iterated phase, Data Flow Optimization, pass 3, iteration 3 (-10 instructions):
 
     9 end
    10 label *label0
    11 ubind :createTerrainMask:unit
-    * set :createTerrainMask:result 0
-    * set :createTerrainMask:r 3
    12 label *label252
    13 op add *tmp2 :createTerrainMask:y 3
    14 label *label253
-    * op shl *tmp0 0 1
    15 op add *tmp1 :createTerrainMask:x 3
    16 ucontrol getBlock *tmp1 *tmp2 type building floor
    17 sensor solid type @solid
 
    69 label *label267
    70 label *label268
    71 label *label269
-    * op sub :createTerrainMask:r 3 1
    72 op add *tmp2 :createTerrainMask:y 2
    73 label *label270
    74 op shl *tmp0 :createTerrainMask:result 1
 
   129 label *label284
   130 label *label285
   131 label *label286
-    * op sub :createTerrainMask:r 2 1
   132 op add *tmp2 :createTerrainMask:y 1
   133 label *label287
   134 op shl *tmp0 :createTerrainMask:result 1
 
   189 label *label301
   190 label *label302
   191 label *label303
-    * op sub :createTerrainMask:r 1 1
   192 op add *tmp2 :createTerrainMask:y 0
   193 label *label304
   194 op shl *tmp0 :createTerrainMask:result 1
 
   249 label *label318
   250 label *label319
   251 label *label320
-    * op sub :createTerrainMask:r 0 1
   252 op add *tmp2 :createTerrainMask:y -1
   253 label *label321
   254 op shl *tmp0 :createTerrainMask:result 1
 
   309 label *label335
   310 label *label336
   311 label *label337
-    * op sub :createTerrainMask:r -1 1
   312 op add *tmp2 :createTerrainMask:y -2
   313 label *label338
   314 op shl *tmp0 :createTerrainMask:result 1
 
   369 label *label352
   370 label *label353
   371 label *label354
-    * op sub :createTerrainMask:r -2 1
   372 op add *tmp2 :createTerrainMask:y -3
   373 label *label355
   374 op shl *tmp0 :createTerrainMask:result 1
 
   429 label *label369
   430 label *label370
   431 label *label371
-    * op sub :createTerrainMask:r -3 1
   432 label *label9
   433 label *label6
   434 set :createTerrainMask*finished true

Modifications by Iterated phase, Expression Optimization, pass 4, iteration 1:
 
    17 sensor solid type @solid
    18 select :isSolid:result notEqual solid false 1 0
    19 label *label254
-    * op or :createTerrainMask:result 0 :isSolid:result
+   20 set :createTerrainMask:result :isSolid:result
    21 label *label255
    22 op shl *tmp0 :createTerrainMask:result 1
    23 op add *tmp1 :createTerrainMask:x 2
 
    36 op or :createTerrainMask:result *tmp0 :isSolid:result
    37 label *label259
    38 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+   39 set *tmp1 :createTerrainMask:x
    40 ucontrol getBlock *tmp1 *tmp2 type building floor
    41 sensor solid type @solid
    42 select :isSolid:result notEqual solid false 1 0
 
    96 op or :createTerrainMask:result *tmp0 :isSolid:result
    97 label *label276
    98 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+   99 set *tmp1 :createTerrainMask:x
   100 ucontrol getBlock *tmp1 *tmp2 type building floor
   101 sensor solid type @solid
   102 select :isSolid:result notEqual solid false 1 0
 
   156 op or :createTerrainMask:result *tmp0 :isSolid:result
   157 label *label293
   158 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+  159 set *tmp1 :createTerrainMask:x
   160 ucontrol getBlock *tmp1 *tmp2 type building floor
   161 sensor solid type @solid
   162 select :isSolid:result notEqual solid false 1 0
 
   189 label *label301
   190 label *label302
   191 label *label303
-    * op add *tmp2 :createTerrainMask:y 0
+  192 set *tmp2 :createTerrainMask:y
   193 label *label304
   194 op shl *tmp0 :createTerrainMask:result 1
   195 op add *tmp1 :createTerrainMask:x 3
 
   216 op or :createTerrainMask:result *tmp0 :isSolid:result
   217 label *label310
   218 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+  219 set *tmp1 :createTerrainMask:x
   220 ucontrol getBlock *tmp1 *tmp2 type building floor
   221 sensor solid type @solid
   222 select :isSolid:result notEqual solid false 1 0
 
   276 op or :createTerrainMask:result *tmp0 :isSolid:result
   277 label *label327
   278 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+  279 set *tmp1 :createTerrainMask:x
   280 ucontrol getBlock *tmp1 *tmp2 type building floor
   281 sensor solid type @solid
   282 select :isSolid:result notEqual solid false 1 0
 
   336 op or :createTerrainMask:result *tmp0 :isSolid:result
   337 label *label344
   338 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+  339 set *tmp1 :createTerrainMask:x
   340 ucontrol getBlock *tmp1 *tmp2 type building floor
   341 sensor solid type @solid
   342 select :isSolid:result notEqual solid false 1 0
 
   396 op or :createTerrainMask:result *tmp0 :isSolid:result
   397 label *label361
   398 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+  399 set *tmp1 :createTerrainMask:x
   400 ucontrol getBlock *tmp1 *tmp2 type building floor
   401 sensor solid type @solid
   402 select :isSolid:result notEqual solid false 1 0

Modifications by Iterated phase, Data Flow Optimization, pass 4, iteration 1 (-1 instructions):
 
    15 op add *tmp1 :createTerrainMask:x 3
    16 ucontrol getBlock *tmp1 *tmp2 type building floor
    17 sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
+   18 select :createTerrainMask:result notEqual solid false 1 0
    19 label *label254
-    * set :createTerrainMask:result :isSolid:result
    20 label *label255
    21 op shl *tmp0 :createTerrainMask:result 1
    22 op add *tmp1 :createTerrainMask:x 2

Modifications by Iterated phase, Data Flow Optimization, pass 4, iteration 2:
 
    36 label *label259
    37 op shl *tmp0 :createTerrainMask:result 1
    38 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+   39 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
    40 sensor solid type @solid
    41 select :isSolid:result notEqual solid false 1 0
    42 label *label260
 
    96 label *label276
    97 op shl *tmp0 :createTerrainMask:result 1
    98 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+   99 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   100 sensor solid type @solid
   101 select :isSolid:result notEqual solid false 1 0
   102 label *label277
 
   156 label *label293
   157 op shl *tmp0 :createTerrainMask:result 1
   158 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  159 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   160 sensor solid type @solid
   161 select :isSolid:result notEqual solid false 1 0
   162 label *label294
 
   192 label *label304
   193 op shl *tmp0 :createTerrainMask:result 1
   194 op add *tmp1 :createTerrainMask:x 3
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  195 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   196 sensor solid type @solid
   197 select :isSolid:result notEqual solid false 1 0
   198 label *label305
 
   200 label *label306
   201 op shl *tmp0 :createTerrainMask:result 1
   202 op add *tmp1 :createTerrainMask:x 2
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  203 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   204 sensor solid type @solid
   205 select :isSolid:result notEqual solid false 1 0
   206 label *label307
 
   208 label *label308
   209 op shl *tmp0 :createTerrainMask:result 1
   210 op add *tmp1 :createTerrainMask:x 1
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  211 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   212 sensor solid type @solid
   213 select :isSolid:result notEqual solid false 1 0
   214 label *label309
 
   216 label *label310
   217 op shl *tmp0 :createTerrainMask:result 1
   218 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  219 ucontrol getBlock :createTerrainMask:x :createTerrainMask:y type building floor
   220 sensor solid type @solid
   221 select :isSolid:result notEqual solid false 1 0
   222 label *label311
 
   224 label *label312
   225 op shl *tmp0 :createTerrainMask:result 1
   226 op add *tmp1 :createTerrainMask:x -1
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  227 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   228 sensor solid type @solid
   229 select :isSolid:result notEqual solid false 1 0
   230 label *label313
 
   232 label *label314
   233 op shl *tmp0 :createTerrainMask:result 1
   234 op add *tmp1 :createTerrainMask:x -2
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  235 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   236 sensor solid type @solid
   237 select :isSolid:result notEqual solid false 1 0
   238 label *label315
 
   240 label *label316
   241 op shl *tmp0 :createTerrainMask:result 1
   242 op add *tmp1 :createTerrainMask:x -3
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  243 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   244 sensor solid type @solid
   245 select :isSolid:result notEqual solid false 1 0
   246 label *label317
 
   276 label *label327
   277 op shl *tmp0 :createTerrainMask:result 1
   278 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  279 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   280 sensor solid type @solid
   281 select :isSolid:result notEqual solid false 1 0
   282 label *label328
 
   336 label *label344
   337 op shl *tmp0 :createTerrainMask:result 1
   338 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  339 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   340 sensor solid type @solid
   341 select :isSolid:result notEqual solid false 1 0
   342 label *label345
 
   396 label *label361
   397 op shl *tmp0 :createTerrainMask:result 1
   398 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  399 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   400 sensor solid type @solid
   401 select :isSolid:result notEqual solid false 1 0
   402 label *label362

Modifications by Iterated phase, Data Flow Optimization, pass 4, iteration 3 (-8 instructions):
 
    35 op or :createTerrainMask:result *tmp0 :isSolid:result
    36 label *label259
    37 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
    38 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
    39 sensor solid type @solid
    40 select :isSolid:result notEqual solid false 1 0
 
    94 op or :createTerrainMask:result *tmp0 :isSolid:result
    95 label *label276
    96 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
    97 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
    98 sensor solid type @solid
    99 select :isSolid:result notEqual solid false 1 0
 
   153 op or :createTerrainMask:result *tmp0 :isSolid:result
   154 label *label293
   155 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
   156 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   157 sensor solid type @solid
   158 select :isSolid:result notEqual solid false 1 0
 
   185 label *label301
   186 label *label302
   187 label *label303
-    * set *tmp2 :createTerrainMask:y
   188 label *label304
   189 op shl *tmp0 :createTerrainMask:result 1
   190 op add *tmp1 :createTerrainMask:x 3
 
   211 op or :createTerrainMask:result *tmp0 :isSolid:result
   212 label *label310
   213 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
   214 ucontrol getBlock :createTerrainMask:x :createTerrainMask:y type building floor
   215 sensor solid type @solid
   216 select :isSolid:result notEqual solid false 1 0
 
   270 op or :createTerrainMask:result *tmp0 :isSolid:result
   271 label *label327
   272 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
   273 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   274 sensor solid type @solid
   275 select :isSolid:result notEqual solid false 1 0
 
   329 op or :createTerrainMask:result *tmp0 :isSolid:result
   330 label *label344
   331 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
   332 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   333 sensor solid type @solid
   334 select :isSolid:result notEqual solid false 1 0
 
   388 op or :createTerrainMask:result *tmp0 :isSolid:result
   389 label *label361
   390 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
   391 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   392 sensor solid type @solid
   393 select :isSolid:result notEqual solid false 1 0

Modifications by Jumps phase, Unreachable Code Elimination, pass 6, iteration 1 (-3 instructions):
 
     6 label *label5
     7 wait 1e12
     8 jump *label5 always
-    * end
     9 label *label0
    10 ubind :createTerrainMask:unit
-    * label *label252
    11 op add *tmp2 :createTerrainMask:y 3
-    * label *label253
    12 op add *tmp1 :createTerrainMask:x 3
    13 ucontrol getBlock *tmp1 *tmp2 type building floor
    14 sensor solid type @solid
    15 select :createTerrainMask:result notEqual solid false 1 0
-    * label *label254
-    * label *label255
    16 op shl *tmp0 :createTerrainMask:result 1
    17 op add *tmp1 :createTerrainMask:x 2
    18 ucontrol getBlock *tmp1 *tmp2 type building floor
    19 sensor solid type @solid
    20 select :isSolid:result notEqual solid false 1 0
-    * label *label256
    21 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label257
    22 op shl *tmp0 :createTerrainMask:result 1
    23 op add *tmp1 :createTerrainMask:x 1
    24 ucontrol getBlock *tmp1 *tmp2 type building floor
    25 sensor solid type @solid
    26 select :isSolid:result notEqual solid false 1 0
-    * label *label258
    27 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label259
    28 op shl *tmp0 :createTerrainMask:result 1
    29 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
    30 sensor solid type @solid
    31 select :isSolid:result notEqual solid false 1 0
-    * label *label260
    32 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label261
    33 op shl *tmp0 :createTerrainMask:result 1
    34 op add *tmp1 :createTerrainMask:x -1
    35 ucontrol getBlock *tmp1 *tmp2 type building floor
    36 sensor solid type @solid
    37 select :isSolid:result notEqual solid false 1 0
-    * label *label262
    38 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label263
    39 op shl *tmp0 :createTerrainMask:result 1
    40 op add *tmp1 :createTerrainMask:x -2
    41 ucontrol getBlock *tmp1 *tmp2 type building floor
    42 sensor solid type @solid
    43 select :isSolid:result notEqual solid false 1 0
-    * label *label264
    44 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label265
    45 op shl *tmp0 :createTerrainMask:result 1
    46 op add *tmp1 :createTerrainMask:x -3
    47 ucontrol getBlock *tmp1 *tmp2 type building floor
    48 sensor solid type @solid
    49 select :isSolid:result notEqual solid false 1 0
-    * label *label266
    50 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label267
-    * label *label268
-    * label *label269
    51 op add *tmp2 :createTerrainMask:y 2
-    * label *label270
    52 op shl *tmp0 :createTerrainMask:result 1
    53 op add *tmp1 :createTerrainMask:x 3
    54 ucontrol getBlock *tmp1 *tmp2 type building floor
    55 sensor solid type @solid
    56 select :isSolid:result notEqual solid false 1 0
-    * label *label271
    57 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label272
    58 op shl *tmp0 :createTerrainMask:result 1
    59 op add *tmp1 :createTerrainMask:x 2
    60 ucontrol getBlock *tmp1 *tmp2 type building floor
    61 sensor solid type @solid
    62 select :isSolid:result notEqual solid false 1 0
-    * label *label273
    63 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label274
    64 op shl *tmp0 :createTerrainMask:result 1
    65 op add *tmp1 :createTerrainMask:x 1
    66 ucontrol getBlock *tmp1 *tmp2 type building floor
    67 sensor solid type @solid
    68 select :isSolid:result notEqual solid false 1 0
-    * label *label275
    69 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label276
    70 op shl *tmp0 :createTerrainMask:result 1
    71 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
    72 sensor solid type @solid
    73 select :isSolid:result notEqual solid false 1 0
-    * label *label277
    74 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label278
    75 op shl *tmp0 :createTerrainMask:result 1
    76 op add *tmp1 :createTerrainMask:x -1
    77 ucontrol getBlock *tmp1 *tmp2 type building floor
    78 sensor solid type @solid
    79 select :isSolid:result notEqual solid false 1 0
-    * label *label279
    80 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label280
    81 op shl *tmp0 :createTerrainMask:result 1
    82 op add *tmp1 :createTerrainMask:x -2
    83 ucontrol getBlock *tmp1 *tmp2 type building floor
    84 sensor solid type @solid
    85 select :isSolid:result notEqual solid false 1 0
-    * label *label281
    86 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label282
    87 op shl *tmp0 :createTerrainMask:result 1
    88 op add *tmp1 :createTerrainMask:x -3
    89 ucontrol getBlock *tmp1 *tmp2 type building floor
    90 sensor solid type @solid
    91 select :isSolid:result notEqual solid false 1 0
-    * label *label283
    92 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label284
-    * label *label285
-    * label *label286
    93 op add *tmp2 :createTerrainMask:y 1
-    * label *label287
    94 op shl *tmp0 :createTerrainMask:result 1
    95 op add *tmp1 :createTerrainMask:x 3
    96 ucontrol getBlock *tmp1 *tmp2 type building floor
    97 sensor solid type @solid
    98 select :isSolid:result notEqual solid false 1 0
-    * label *label288
    99 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label289
   100 op shl *tmp0 :createTerrainMask:result 1
   101 op add *tmp1 :createTerrainMask:x 2
   102 ucontrol getBlock *tmp1 *tmp2 type building floor
   103 sensor solid type @solid
   104 select :isSolid:result notEqual solid false 1 0
-    * label *label290
   105 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label291
   106 op shl *tmp0 :createTerrainMask:result 1
   107 op add *tmp1 :createTerrainMask:x 1
   108 ucontrol getBlock *tmp1 *tmp2 type building floor
   109 sensor solid type @solid
   110 select :isSolid:result notEqual solid false 1 0
-    * label *label292
   111 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label293
   112 op shl *tmp0 :createTerrainMask:result 1
   113 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   114 sensor solid type @solid
   115 select :isSolid:result notEqual solid false 1 0
-    * label *label294
   116 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label295
   117 op shl *tmp0 :createTerrainMask:result 1
   118 op add *tmp1 :createTerrainMask:x -1
   119 ucontrol getBlock *tmp1 *tmp2 type building floor
   120 sensor solid type @solid
   121 select :isSolid:result notEqual solid false 1 0
-    * label *label296
   122 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label297
   123 op shl *tmp0 :createTerrainMask:result 1
   124 op add *tmp1 :createTerrainMask:x -2
   125 ucontrol getBlock *tmp1 *tmp2 type building floor
   126 sensor solid type @solid
   127 select :isSolid:result notEqual solid false 1 0
-    * label *label298
   128 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label299
   129 op shl *tmp0 :createTerrainMask:result 1
   130 op add *tmp1 :createTerrainMask:x -3
   131 ucontrol getBlock *tmp1 *tmp2 type building floor
   132 sensor solid type @solid
   133 select :isSolid:result notEqual solid false 1 0
-    * label *label300
   134 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label301
-    * label *label302
-    * label *label303
-    * label *label304
   135 op shl *tmp0 :createTerrainMask:result 1
   136 op add *tmp1 :createTerrainMask:x 3
   137 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   138 sensor solid type @solid
   139 select :isSolid:result notEqual solid false 1 0
-    * label *label305
   140 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label306
   141 op shl *tmp0 :createTerrainMask:result 1
   142 op add *tmp1 :createTerrainMask:x 2
   143 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   144 sensor solid type @solid
   145 select :isSolid:result notEqual solid false 1 0
-    * label *label307
   146 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label308
   147 op shl *tmp0 :createTerrainMask:result 1
   148 op add *tmp1 :createTerrainMask:x 1
   149 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   150 sensor solid type @solid
   151 select :isSolid:result notEqual solid false 1 0
-    * label *label309
   152 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label310
   153 op shl *tmp0 :createTerrainMask:result 1
   154 ucontrol getBlock :createTerrainMask:x :createTerrainMask:y type building floor
   155 sensor solid type @solid
   156 select :isSolid:result notEqual solid false 1 0
-    * label *label311
   157 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label312
   158 op shl *tmp0 :createTerrainMask:result 1
   159 op add *tmp1 :createTerrainMask:x -1
   160 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   161 sensor solid type @solid
   162 select :isSolid:result notEqual solid false 1 0
-    * label *label313
   163 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label314
   164 op shl *tmp0 :createTerrainMask:result 1
   165 op add *tmp1 :createTerrainMask:x -2
   166 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   167 sensor solid type @solid
   168 select :isSolid:result notEqual solid false 1 0
-    * label *label315
   169 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label316
   170 op shl *tmp0 :createTerrainMask:result 1
   171 op add *tmp1 :createTerrainMask:x -3
   172 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   173 sensor solid type @solid
   174 select :isSolid:result notEqual solid false 1 0
-    * label *label317
   175 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label318
-    * label *label319
-    * label *label320
   176 op add *tmp2 :createTerrainMask:y -1
-    * label *label321
   177 op shl *tmp0 :createTerrainMask:result 1
   178 op add *tmp1 :createTerrainMask:x 3
   179 ucontrol getBlock *tmp1 *tmp2 type building floor
   180 sensor solid type @solid
   181 select :isSolid:result notEqual solid false 1 0
-    * label *label322
   182 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label323
   183 op shl *tmp0 :createTerrainMask:result 1
   184 op add *tmp1 :createTerrainMask:x 2
   185 ucontrol getBlock *tmp1 *tmp2 type building floor
   186 sensor solid type @solid
   187 select :isSolid:result notEqual solid false 1 0
-    * label *label324
   188 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label325
   189 op shl *tmp0 :createTerrainMask:result 1
   190 op add *tmp1 :createTerrainMask:x 1
   191 ucontrol getBlock *tmp1 *tmp2 type building floor
   192 sensor solid type @solid
   193 select :isSolid:result notEqual solid false 1 0
-    * label *label326
   194 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label327
   195 op shl *tmp0 :createTerrainMask:result 1
   196 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   197 sensor solid type @solid
   198 select :isSolid:result notEqual solid false 1 0
-    * label *label328
   199 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label329
   200 op shl *tmp0 :createTerrainMask:result 1
   201 op add *tmp1 :createTerrainMask:x -1
   202 ucontrol getBlock *tmp1 *tmp2 type building floor
   203 sensor solid type @solid
   204 select :isSolid:result notEqual solid false 1 0
-    * label *label330
   205 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label331
   206 op shl *tmp0 :createTerrainMask:result 1
   207 op add *tmp1 :createTerrainMask:x -2
   208 ucontrol getBlock *tmp1 *tmp2 type building floor
   209 sensor solid type @solid
   210 select :isSolid:result notEqual solid false 1 0
-    * label *label332
   211 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label333
   212 op shl *tmp0 :createTerrainMask:result 1
   213 op add *tmp1 :createTerrainMask:x -3
   214 ucontrol getBlock *tmp1 *tmp2 type building floor
   215 sensor solid type @solid
   216 select :isSolid:result notEqual solid false 1 0
-    * label *label334
   217 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label335
-    * label *label336
-    * label *label337
   218 op add *tmp2 :createTerrainMask:y -2
-    * label *label338
   219 op shl *tmp0 :createTerrainMask:result 1
   220 op add *tmp1 :createTerrainMask:x 3
   221 ucontrol getBlock *tmp1 *tmp2 type building floor
   222 sensor solid type @solid
   223 select :isSolid:result notEqual solid false 1 0
-    * label *label339
   224 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label340
   225 op shl *tmp0 :createTerrainMask:result 1
   226 op add *tmp1 :createTerrainMask:x 2
   227 ucontrol getBlock *tmp1 *tmp2 type building floor
   228 sensor solid type @solid
   229 select :isSolid:result notEqual solid false 1 0
-    * label *label341
   230 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label342
   231 op shl *tmp0 :createTerrainMask:result 1
   232 op add *tmp1 :createTerrainMask:x 1
   233 ucontrol getBlock *tmp1 *tmp2 type building floor
   234 sensor solid type @solid
   235 select :isSolid:result notEqual solid false 1 0
-    * label *label343
   236 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label344
   237 op shl *tmp0 :createTerrainMask:result 1
   238 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   239 sensor solid type @solid
   240 select :isSolid:result notEqual solid false 1 0
-    * label *label345
   241 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label346
   242 op shl *tmp0 :createTerrainMask:result 1
   243 op add *tmp1 :createTerrainMask:x -1
   244 ucontrol getBlock *tmp1 *tmp2 type building floor
   245 sensor solid type @solid
   246 select :isSolid:result notEqual solid false 1 0
-    * label *label347
   247 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label348
   248 op shl *tmp0 :createTerrainMask:result 1
   249 op add *tmp1 :createTerrainMask:x -2
   250 ucontrol getBlock *tmp1 *tmp2 type building floor
   251 sensor solid type @solid
   252 select :isSolid:result notEqual solid false 1 0
-    * label *label349
   253 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label350
   254 op shl *tmp0 :createTerrainMask:result 1
   255 op add *tmp1 :createTerrainMask:x -3
   256 ucontrol getBlock *tmp1 *tmp2 type building floor
   257 sensor solid type @solid
   258 select :isSolid:result notEqual solid false 1 0
-    * label *label351
   259 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label352
-    * label *label353
-    * label *label354
   260 op add *tmp2 :createTerrainMask:y -3
-    * label *label355
   261 op shl *tmp0 :createTerrainMask:result 1
   262 op add *tmp1 :createTerrainMask:x 3
   263 ucontrol getBlock *tmp1 *tmp2 type building floor
   264 sensor solid type @solid
   265 select :isSolid:result notEqual solid false 1 0
-    * label *label356
   266 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label357
   267 op shl *tmp0 :createTerrainMask:result 1
   268 op add *tmp1 :createTerrainMask:x 2
   269 ucontrol getBlock *tmp1 *tmp2 type building floor
   270 sensor solid type @solid
   271 select :isSolid:result notEqual solid false 1 0
-    * label *label358
   272 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label359
   273 op shl *tmp0 :createTerrainMask:result 1
   274 op add *tmp1 :createTerrainMask:x 1
   275 ucontrol getBlock *tmp1 *tmp2 type building floor
   276 sensor solid type @solid
   277 select :isSolid:result notEqual solid false 1 0
-    * label *label360
   278 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label361
   279 op shl *tmp0 :createTerrainMask:result 1
   280 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   281 sensor solid type @solid
   282 select :isSolid:result notEqual solid false 1 0
-    * label *label362
   283 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label363
   284 op shl *tmp0 :createTerrainMask:result 1
   285 op add *tmp1 :createTerrainMask:x -1
   286 ucontrol getBlock *tmp1 *tmp2 type building floor
   287 sensor solid type @solid
   288 select :isSolid:result notEqual solid false 1 0
-    * label *label364
   289 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label365
   290 op shl *tmp0 :createTerrainMask:result 1
   291 op add *tmp1 :createTerrainMask:x -2
   292 ucontrol getBlock *tmp1 *tmp2 type building floor
   293 sensor solid type @solid
   294 select :isSolid:result notEqual solid false 1 0
-    * label *label366
   295 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label367
   296 op shl *tmp0 :createTerrainMask:result 1
   297 op add *tmp1 :createTerrainMask:x -3
   298 ucontrol getBlock *tmp1 *tmp2 type building floor
   299 sensor solid type @solid
   300 select :isSolid:result notEqual solid false 1 0
-    * label *label368
   301 op or :createTerrainMask*retval *tmp0 :isSolid:result
-    * label *label369
-    * label *label370
-    * label *label371
-    * label *label9
-    * label *label6
   302 set :createTerrainMask*finished true
   303 jump *label5 always
-    * end
   304 label *label2
   305 ubind :findBestPosition:unit
   306 op sub *tmp5 :findBestPosition:y 2
 
   309 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   310 sensor solid type @solid
   311 select :tileValue:result notEqual solid false 0.09803921568627451 value
-    * label *label16
   312 op sub :tileValue.1:x :findBestPosition:x 1
   313 ucontrol getBlock :tileValue.1:x *tmp5 type building floor
   314 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   315 sensor solid type @solid
   316 select :tileValue.1:result notEqual solid false 0.09803921568627451 value
-    * label *label17
   317 ucontrol getBlock :findBestPosition:x *tmp5 type building floor
   318 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   319 sensor solid type @solid
   320 select :tileValue.2:result notEqual solid false 0.09803921568627451 value
-    * label *label18
   321 op add :tileValue.3:x :findBestPosition:x 1
   322 ucontrol getBlock :tileValue.3:x *tmp5 type building floor
   323 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   324 sensor solid type @solid
   325 select :tileValue.3:result notEqual solid false 0.09803921568627451 value
-    * label *label19
   326 op add :tileValue.4:x :findBestPosition:x 2
   327 ucontrol getBlock :tileValue.4:x *tmp5 type building floor
   328 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   329 sensor solid type @solid
   330 select :tileValue.4:result notEqual solid false 0.09803921568627451 value
-    * label *label20
   331 jump *label21 notEqual :findBestPosition:size 2
   332 op add *tmp19 :tileValue:result :tileValue.1:result
   333 op add *tmp20 :tileValue.1:result :tileValue.2:result
 
   350 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   351 sensor solid type @solid
   352 select :tileValue.5:result notEqual solid false 0.09803921568627451 value
-    * label *label25
   353 op add :tileValue.6:x :findBestPosition:x 3
   354 ucontrol getBlock :tileValue.6:x *tmp5 type building floor
   355 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   356 sensor solid type @solid
   357 select :tileValue.6:result notEqual solid false 0.09803921568627451 value
-    * label *label26
   358 op add *tmp37 :tileValue:result :tileValue.1:result
   359 op add *tmp38 *tmp37 :tileValue.2:result
   360 op add *tmp39 :tileValue.5:result *tmp38
 
   370 packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52
   371 label *label24
   372 label *label22
-    * label *label15
   373 op sub *tmp54 :findBestPosition:y 1
   374 ucontrol getBlock :tileValue:x *tmp54 type building floor
   375 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   376 sensor solid type @solid
   377 select :tileValue.7:result notEqual solid false 0.09803921568627451 value
-    * label *label28
   378 ucontrol getBlock :tileValue.1:x *tmp54 type building floor
   379 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   380 sensor solid type @solid
   381 select :tileValue.8:result notEqual solid false 0.09803921568627451 value
-    * label *label29
   382 ucontrol getBlock :findBestPosition:x *tmp54 type building floor
   383 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   384 sensor solid type @solid
   385 select :tileValue.9:result notEqual solid false 0.09803921568627451 value
-    * label *label30
   386 ucontrol getBlock :tileValue.3:x *tmp54 type building floor
   387 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   388 sensor solid type @solid
   389 select :tileValue.10:result notEqual solid false 0.09803921568627451 value
-    * label *label31
   390 ucontrol getBlock :tileValue.4:x *tmp54 type building floor
   391 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   392 sensor solid type @solid
   393 select :tileValue.11:result notEqual solid false 0.09803921568627451 value
-    * label *label32
   394 jump *label33 notEqual :findBestPosition:size 2
   395 op add *tmp68 :tileValue.7:result :tileValue.8:result
   396 op add *tmp69 :tileValue.8:result :tileValue.9:result
 
   413 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   414 sensor solid type @solid
   415 select :tileValue.12:result notEqual solid false 0.09803921568627451 value
-    * label *label37
   416 op add :tileValue.13:x :findBestPosition:x 3
   417 ucontrol getBlock :tileValue.13:x *tmp54 type building floor
   418 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   419 sensor solid type @solid
   420 select :tileValue.13:result notEqual solid false 0.09803921568627451 value
-    * label *label38
   421 op add *tmp86 :tileValue.7:result :tileValue.8:result
   422 op add *tmp87 *tmp86 :tileValue.9:result
   423 op add *tmp88 :tileValue.12:result *tmp87
 
   433 packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101
   434 label *label36
   435 label *label34
-    * label *label27
   436 ucontrol getBlock :tileValue:x :findBestPosition:y type building floor
   437 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   438 sensor solid type @solid
   439 select :tileValue.14:result notEqual solid false 0.09803921568627451 value
-    * label *label40
   440 ucontrol getBlock :tileValue.1:x :findBestPosition:y type building floor
   441 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   442 sensor solid type @solid
   443 select :tileValue.15:result notEqual solid false 0.09803921568627451 value
-    * label *label41
   444 ucontrol getBlock :findBestPosition:x :findBestPosition:y type building floor
   445 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   446 sensor solid type @solid
   447 select :tileValue.16:result notEqual solid false 0.09803921568627451 value
-    * label *label42
   448 ucontrol getBlock :tileValue.3:x :findBestPosition:y type building floor
   449 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   450 sensor solid type @solid
   451 select :tileValue.17:result notEqual solid false 0.09803921568627451 value
-    * label *label43
   452 ucontrol getBlock :tileValue.4:x :findBestPosition:y type building floor
   453 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   454 sensor solid type @solid
   455 select :tileValue.18:result notEqual solid false 0.09803921568627451 value
-    * label *label44
   456 jump *label45 notEqual :findBestPosition:size 2
   457 op add *tmp117 :tileValue.14:result :tileValue.15:result
   458 op add *tmp118 :tileValue.15:result :tileValue.16:result
 
   475 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   476 sensor solid type @solid
   477 select :tileValue.19:result notEqual solid false 0.09803921568627451 value
-    * label *label49
   478 op add :tileValue.20:x :findBestPosition:x 3
   479 ucontrol getBlock :tileValue.20:x :findBestPosition:y type building floor
   480 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   481 sensor solid type @solid
   482 select :tileValue.20:result notEqual solid false 0.09803921568627451 value
-    * label *label50
   483 op add *tmp135 :tileValue.14:result :tileValue.15:result
   484 op add *tmp136 *tmp135 :tileValue.16:result
   485 op add *tmp137 :tileValue.19:result *tmp136
 
   495 packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150
   496 label *label48
   497 label *label46
-    * label *label39
   498 op add *tmp152 :findBestPosition:y 1
   499 ucontrol getBlock :tileValue:x *tmp152 type building floor
   500 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   501 sensor solid type @solid
   502 select :tileValue.21:result notEqual solid false 0.09803921568627451 value
-    * label *label52
   503 ucontrol getBlock :tileValue.1:x *tmp152 type building floor
   504 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   505 sensor solid type @solid
   506 select :tileValue.22:result notEqual solid false 0.09803921568627451 value
-    * label *label53
   507 ucontrol getBlock :findBestPosition:x *tmp152 type building floor
   508 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   509 sensor solid type @solid
   510 select :tileValue.23:result notEqual solid false 0.09803921568627451 value
-    * label *label54
   511 ucontrol getBlock :tileValue.3:x *tmp152 type building floor
   512 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   513 sensor solid type @solid
   514 select :tileValue.24:result notEqual solid false 0.09803921568627451 value
-    * label *label55
   515 ucontrol getBlock :tileValue.4:x *tmp152 type building floor
   516 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   517 sensor solid type @solid
   518 select :tileValue.25:result notEqual solid false 0.09803921568627451 value
-    * label *label56
   519 jump *label57 notEqual :findBestPosition:size 2
   520 op add *tmp166 :tileValue.21:result :tileValue.22:result
   521 op add *tmp167 :tileValue.22:result :tileValue.23:result
 
   538 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   539 sensor solid type @solid
   540 select :tileValue.26:result notEqual solid false 0.09803921568627451 value
-    * label *label61
   541 op add :tileValue.27:x :findBestPosition:x 3
   542 ucontrol getBlock :tileValue.27:x *tmp152 type building floor
   543 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   544 sensor solid type @solid
   545 select :tileValue.27:result notEqual solid false 0.09803921568627451 value
-    * label *label62
   546 op add *tmp184 :tileValue.21:result :tileValue.22:result
   547 op add *tmp185 *tmp184 :tileValue.23:result
   548 op add *tmp186 :tileValue.26:result *tmp185
 
   558 packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199
   559 label *label60
   560 label *label58
-    * label *label51
   561 op add *tmp201 :findBestPosition:y 2
   562 ucontrol getBlock :tileValue:x *tmp201 type building floor
   563 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   564 sensor solid type @solid
   565 select :tileValue.28:result notEqual solid false 0.09803921568627451 value
-    * label *label64
   566 ucontrol getBlock :tileValue.1:x *tmp201 type building floor
   567 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   568 sensor solid type @solid
   569 select :tileValue.29:result notEqual solid false 0.09803921568627451 value
-    * label *label65
   570 ucontrol getBlock :findBestPosition:x *tmp201 type building floor
   571 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   572 sensor solid type @solid
   573 select :tileValue.30:result notEqual solid false 0.09803921568627451 value
-    * label *label66
   574 ucontrol getBlock :tileValue.3:x *tmp201 type building floor
   575 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   576 sensor solid type @solid
   577 select :tileValue.31:result notEqual solid false 0.09803921568627451 value
-    * label *label67
   578 ucontrol getBlock :tileValue.4:x *tmp201 type building floor
   579 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   580 sensor solid type @solid
   581 select :tileValue.32:result notEqual solid false 0.09803921568627451 value
-    * label *label68
   582 jump *label69 notEqual :findBestPosition:size 2
   583 op add *tmp215 :tileValue.28:result :tileValue.29:result
   584 op add *tmp216 :tileValue.29:result :tileValue.30:result
 
   601 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   602 sensor solid type @solid
   603 select :tileValue.33:result notEqual solid false 0.09803921568627451 value
-    * label *label73
   604 op add :tileValue.34:x :findBestPosition:x 3
   605 ucontrol getBlock :tileValue.34:x *tmp201 type building floor
   606 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   607 sensor solid type @solid
   608 select :tileValue.34:result notEqual solid false 0.09803921568627451 value
-    * label *label74
   609 op add *tmp233 :tileValue.28:result :tileValue.29:result
   610 op add *tmp234 *tmp233 :tileValue.30:result
   611 op add *tmp235 :tileValue.33:result *tmp234
 
   621 packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248
   622 label *label72
   623 label *label70
-    * label *label63
   624 set :findBestPosition:best 0
   625 set :findBestPosition:bestX 0
   626 set :findBestPosition:bestY 0
 
   637 set :findBestPosition:bestY -1
   638 set :findBestPosition:best :updateRowPositionsOdd:col1
   639 label *label81
-    * label *label82
   640 label *label79
-    * label *label80
-    * label *label78
   641 jump *label84 lessThanEq :updateRowPositionsOdd:col2 :findBestPosition:best
   642 jump *label86 greaterThanEq :updateRowPositionsOdd:col2 0.0784313725490196
   643 set :findBestPosition:bestX 0
   644 set :findBestPosition:bestY -1
   645 set :findBestPosition:best :updateRowPositionsOdd:col2
   646 label *label86
-    * label *label87
   647 label *label84
-    * label *label85
-    * label *label83
   648 jump *label89 lessThanEq :updateRowPositionsOdd:col3 :findBestPosition:best
   649 jump *label91 greaterThanEq :updateRowPositionsOdd:col3 0.0784313725490196
   650 set :findBestPosition:bestX 1
   651 set :findBestPosition:bestY -1
   652 set :findBestPosition:best :updateRowPositionsOdd:col3
   653 label *label91
-    * label *label92
   654 label *label89
-    * label *label90
-    * label *label88
-    * label *label77
   655 unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 *tmp271 :findBestPosition:row2
   656 jump *label95 lessThanEq :updateRowPositionsOdd.1:col1 :findBestPosition:best
   657 jump *label97 greaterThanEq :updateRowPositionsOdd.1:col1 0.0784313725490196
 
   659 set :findBestPosition:bestY 0
   660 set :findBestPosition:best :updateRowPositionsOdd.1:col1
   661 label *label97
-    * label *label98
   662 label *label95
-    * label *label96
-    * label *label94
   663 jump *label100 lessThanEq :updateRowPositionsOdd.1:col2 :findBestPosition:best
   664 jump *label102 greaterThanEq :updateRowPositionsOdd.1:col2 0.0784313725490196
   665 set :findBestPosition:bestX 0
   666 set :findBestPosition:bestY 0
   667 set :findBestPosition:best :updateRowPositionsOdd.1:col2
   668 label *label102
-    * label *label103
   669 label *label100
-    * label *label101
-    * label *label99
   670 jump *label105 lessThanEq :updateRowPositionsOdd.1:col3 :findBestPosition:best
   671 jump *label107 greaterThanEq :updateRowPositionsOdd.1:col3 0.0784313725490196
   672 set :findBestPosition:bestX 1
   673 set :findBestPosition:bestY 0
   674 set :findBestPosition:best :updateRowPositionsOdd.1:col3
   675 label *label107
-    * label *label108
   676 label *label105
-    * label *label106
-    * label *label104
-    * label *label93
   677 unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 *tmp284 :findBestPosition:row3
   678 jump *label111 lessThanEq :updateRowPositionsOdd.2:col1 :findBestPosition:best
   679 jump *label113 greaterThanEq :updateRowPositionsOdd.2:col1 0.0784313725490196
 
   681 set :findBestPosition:bestY 1
   682 set :findBestPosition:best :updateRowPositionsOdd.2:col1
   683 label *label113
-    * label *label114
   684 label *label111
-    * label *label112
-    * label *label110
   685 jump *label116 lessThanEq :updateRowPositionsOdd.2:col2 :findBestPosition:best
   686 jump *label118 greaterThanEq :updateRowPositionsOdd.2:col2 0.0784313725490196
   687 set :findBestPosition:bestX 0
   688 set :findBestPosition:bestY 1
   689 set :findBestPosition:best :updateRowPositionsOdd.2:col2
   690 label *label118
-    * label *label119
   691 label *label116
-    * label *label117
-    * label *label115
   692 jump *label121 lessThanEq :updateRowPositionsOdd.2:col3 :findBestPosition:best
   693 jump *label123 greaterThanEq :updateRowPositionsOdd.2:col3 0.0784313725490196
   694 set :findBestPosition:bestX 1
   695 set :findBestPosition:bestY 1
   696 set :findBestPosition:best :updateRowPositionsOdd.2:col3
   697 label *label123
-    * label *label124
   698 label *label121
-    * label *label122
-    * label *label120
-    * label *label109
   699 jump *label76 always
   700 label *label75
   701 jump *label125 notEqual :findBestPosition:size 2
 
   710 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   711 sensor solid type @solid
   712 select :tileValue.35:result notEqual solid false 0.09803921568627451 value
-    * label *label128
   713 ucontrol getBlock :tileValue.1:x *tmp303 type building floor
   714 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   715 sensor solid type @solid
   716 select :tileValue.36:result notEqual solid false 0.09803921568627451 value
-    * label *label129
   717 ucontrol getBlock :findBestPosition:x *tmp303 type building floor
   718 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   719 sensor solid type @solid
   720 select :tileValue.37:result notEqual solid false 0.09803921568627451 value
-    * label *label130
   721 ucontrol getBlock :tileValue.3:x *tmp303 type building floor
   722 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   723 sensor solid type @solid
   724 select :tileValue.38:result notEqual solid false 0.09803921568627451 value
-    * label *label131
   725 ucontrol getBlock :tileValue.4:x *tmp303 type building floor
   726 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   727 sensor solid type @solid
   728 select :tileValue.39:result notEqual solid false 0.09803921568627451 value
-    * label *label132
   729 jump *label133 notEqual :findBestPosition:size 2
   730 op add *tmp317 :tileValue.35:result :tileValue.36:result
   731 op add *tmp318 :tileValue.36:result :tileValue.37:result
 
   748 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   749 sensor solid type @solid
   750 select :tileValue.40:result notEqual solid false 0.09803921568627451 value
-    * label *label137
   751 op add :tileValue.41:x :findBestPosition:x 3
   752 ucontrol getBlock :tileValue.41:x *tmp303 type building floor
   753 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   754 sensor solid type @solid
   755 select :tileValue.41:result notEqual solid false 0.09803921568627451 value
-    * label *label138
   756 op add *tmp335 :tileValue.35:result :tileValue.36:result
   757 op add *tmp336 *tmp335 :tileValue.37:result
   758 op add *tmp337 :tileValue.40:result *tmp336
 
   768 packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350
   769 label *label136
   770 label *label134
-    * label *label127
   771 op add *tmp352 :findBestPosition:y 3
   772 ucontrol getBlock :tileValue:x *tmp352 type building floor
   773 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   774 sensor solid type @solid
   775 select :tileValue.42:result notEqual solid false 0.09803921568627451 value
-    * label *label140
   776 ucontrol getBlock :tileValue.1:x *tmp352 type building floor
   777 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   778 sensor solid type @solid
   779 select :tileValue.43:result notEqual solid false 0.09803921568627451 value
-    * label *label141
   780 ucontrol getBlock :findBestPosition:x *tmp352 type building floor
   781 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   782 sensor solid type @solid
   783 select :tileValue.44:result notEqual solid false 0.09803921568627451 value
-    * label *label142
   784 ucontrol getBlock :tileValue.3:x *tmp352 type building floor
   785 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   786 sensor solid type @solid
   787 select :tileValue.45:result notEqual solid false 0.09803921568627451 value
-    * label *label143
   788 ucontrol getBlock :tileValue.4:x *tmp352 type building floor
   789 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   790 sensor solid type @solid
   791 select :tileValue.46:result notEqual solid false 0.09803921568627451 value
-    * label *label144
   792 jump *label145 notEqual :findBestPosition:size 2
   793 op add *tmp366 :tileValue.42:result :tileValue.43:result
   794 op add *tmp367 :tileValue.43:result :tileValue.44:result
 
   811 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   812 sensor solid type @solid
   813 select :tileValue.47:result notEqual solid false 0.09803921568627451 value
-    * label *label149
   814 op add :tileValue.48:x :findBestPosition:x 3
   815 ucontrol getBlock :tileValue.48:x *tmp352 type building floor
   816 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   817 sensor solid type @solid
   818 select :tileValue.48:result notEqual solid false 0.09803921568627451 value
-    * label *label150
   819 op add *tmp384 :tileValue.42:result :tileValue.43:result
   820 op add *tmp385 *tmp384 :tileValue.44:result
   821 op add *tmp386 :tileValue.47:result *tmp385
 
   831 packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399
   832 label *label148
   833 label *label146
-    * label *label139
   834 op add *tmp401 *tmp6 *tmp55
   835 op add *tmp402 *tmp401 *tmp104
   836 op add :findBestPosition:row1 *tmp304 *tmp402
 
   847 set :findBestPosition:bestY -1.5
   848 set :findBestPosition:best :updateRowPositionsEven:col1
   849 label *label155
-    * label *label156
   850 label *label153
-    * label *label154
-    * label *label152
   851 jump *label158 lessThanEq :updateRowPositionsEven:col2 :findBestPosition:best
   852 jump *label160 greaterThanEq :updateRowPositionsEven:col2 0.0784313725490196
   853 set :findBestPosition:bestX -0.5
   854 set :findBestPosition:bestY -1.5
   855 set :findBestPosition:best :updateRowPositionsEven:col2
   856 label *label160
-    * label *label161
   857 label *label158
-    * label *label159
-    * label *label157
   858 jump *label163 lessThanEq :updateRowPositionsEven:col3 :findBestPosition:best
   859 jump *label165 greaterThanEq :updateRowPositionsEven:col3 0.0784313725490196
   860 set :findBestPosition:bestX 0.5
   861 set :findBestPosition:bestY -1.5
   862 set :findBestPosition:best :updateRowPositionsEven:col3
   863 label *label165
-    * label *label166
   864 label *label163
-    * label *label164
-    * label *label162
   865 jump *label168 lessThanEq :updateRowPositionsEven:col4 :findBestPosition:best
   866 jump *label170 greaterThanEq :updateRowPositionsEven:col4 0.0784313725490196
   867 set :findBestPosition:bestX 1.5
   868 set :findBestPosition:bestY -1.5
   869 set :findBestPosition:best :updateRowPositionsEven:col4
   870 label *label170
-    * label *label171
   871 label *label168
-    * label *label169
-    * label *label167
-    * label *label151
   872 unpackcolor :updateRowPositionsEven.1:col1 :updateRowPositionsEven.1:col2 :updateRowPositionsEven.1:col3 :updateRowPositionsEven.1:col4 :findBestPosition:row2
   873 jump *label174 lessThanEq :updateRowPositionsEven.1:col1 :findBestPosition:best
   874 jump *label176 greaterThanEq :updateRowPositionsEven.1:col1 0.0784313725490196
 
   876 set :findBestPosition:bestY -0.5
   877 set :findBestPosition:best :updateRowPositionsEven.1:col1
   878 label *label176
-    * label *label177
   879 label *label174
-    * label *label175
-    * label *label173
   880 jump *label179 lessThanEq :updateRowPositionsEven.1:col2 :findBestPosition:best
   881 jump *label181 greaterThanEq :updateRowPositionsEven.1:col2 0.0784313725490196
   882 set :findBestPosition:bestX -0.5
   883 set :findBestPosition:bestY -0.5
   884 set :findBestPosition:best :updateRowPositionsEven.1:col2
   885 label *label181
-    * label *label182
   886 label *label179
-    * label *label180
-    * label *label178
   887 jump *label184 lessThanEq :updateRowPositionsEven.1:col3 :findBestPosition:best
   888 jump *label186 greaterThanEq :updateRowPositionsEven.1:col3 0.0784313725490196
   889 set :findBestPosition:bestX 0.5
   890 set :findBestPosition:bestY -0.5
   891 set :findBestPosition:best :updateRowPositionsEven.1:col3
   892 label *label186
-    * label *label187
   893 label *label184
-    * label *label185
-    * label *label183
   894 jump *label189 lessThanEq :updateRowPositionsEven.1:col4 :findBestPosition:best
   895 jump *label191 greaterThanEq :updateRowPositionsEven.1:col4 0.0784313725490196
   896 set :findBestPosition:bestX 1.5
   897 set :findBestPosition:bestY -0.5
   898 set :findBestPosition:best :updateRowPositionsEven.1:col4
   899 label *label191
-    * label *label192
   900 label *label189
-    * label *label190
-    * label *label188
-    * label *label172
   901 unpackcolor :updateRowPositionsEven.2:col1 :updateRowPositionsEven.2:col2 :updateRowPositionsEven.2:col3 :updateRowPositionsEven.2:col4 :findBestPosition:row3
   902 jump *label195 lessThanEq :updateRowPositionsEven.2:col1 :findBestPosition:best
   903 jump *label197 greaterThanEq :updateRowPositionsEven.2:col1 0.0784313725490196
 
   905 set :findBestPosition:bestY 0.5
   906 set :findBestPosition:best :updateRowPositionsEven.2:col1
   907 label *label197
-    * label *label198
   908 label *label195
-    * label *label196
-    * label *label194
   909 jump *label200 lessThanEq :updateRowPositionsEven.2:col2 :findBestPosition:best
   910 jump *label202 greaterThanEq :updateRowPositionsEven.2:col2 0.0784313725490196
   911 set :findBestPosition:bestX -0.5
   912 set :findBestPosition:bestY 0.5
   913 set :findBestPosition:best :updateRowPositionsEven.2:col2
   914 label *label202
-    * label *label203
   915 label *label200
-    * label *label201
-    * label *label199
   916 jump *label205 lessThanEq :updateRowPositionsEven.2:col3 :findBestPosition:best
   917 jump *label207 greaterThanEq :updateRowPositionsEven.2:col3 0.0784313725490196
   918 set :findBestPosition:bestX 0.5
   919 set :findBestPosition:bestY 0.5
   920 set :findBestPosition:best :updateRowPositionsEven.2:col3
   921 label *label207
-    * label *label208
   922 label *label205
-    * label *label206
-    * label *label204
   923 jump *label210 lessThanEq :updateRowPositionsEven.2:col4 :findBestPosition:best
   924 jump *label212 greaterThanEq :updateRowPositionsEven.2:col4 0.0784313725490196
   925 set :findBestPosition:bestX 1.5
   926 set :findBestPosition:bestY 0.5
   927 set :findBestPosition:best :updateRowPositionsEven.2:col4
   928 label *label212
-    * label *label213
   929 label *label210
-    * label *label211
-    * label *label209
-    * label *label193
   930 unpackcolor :updateRowPositionsEven.3:col1 :updateRowPositionsEven.3:col2 :updateRowPositionsEven.3:col3 :updateRowPositionsEven.3:col4 :findBestPosition:row4
   931 jump *label216 lessThanEq :updateRowPositionsEven.3:col1 :findBestPosition:best
   932 jump *label218 greaterThanEq :updateRowPositionsEven.3:col1 0.0784313725490196
 
   934 set :findBestPosition:bestY 1.5
   935 set :findBestPosition:best :updateRowPositionsEven.3:col1
   936 label *label218
-    * label *label219
   937 label *label216
-    * label *label217
-    * label *label215
   938 jump *label221 lessThanEq :updateRowPositionsEven.3:col2 :findBestPosition:best
   939 jump *label223 greaterThanEq :updateRowPositionsEven.3:col2 0.0784313725490196
   940 set :findBestPosition:bestX -0.5
   941 set :findBestPosition:bestY 1.5
   942 set :findBestPosition:best :updateRowPositionsEven.3:col2
   943 label *label223
-    * label *label224
   944 label *label221
-    * label *label222
-    * label *label220
   945 jump *label226 lessThanEq :updateRowPositionsEven.3:col3 :findBestPosition:best
   946 jump *label228 greaterThanEq :updateRowPositionsEven.3:col3 0.0784313725490196
   947 set :findBestPosition:bestX 0.5
   948 set :findBestPosition:bestY 1.5
   949 set :findBestPosition:best :updateRowPositionsEven.3:col3
   950 label *label228
-    * label *label229
   951 label *label226
-    * label *label227
-    * label *label225
   952 jump *label231 lessThanEq :updateRowPositionsEven.3:col4 :findBestPosition:best
   953 jump *label233 greaterThanEq :updateRowPositionsEven.3:col4 0.0784313725490196
   954 set :findBestPosition:bestX 1.5
   955 set :findBestPosition:bestY 1.5
   956 set :findBestPosition:best :updateRowPositionsEven.3:col4
   957 label *label233
-    * label *label234
   958 label *label231
-    * label *label232
-    * label *label230
-    * label *label214
   959 label *label76
   960 op mul :findBestPosition*retval :findBestPosition:best 255
-    * label *label14
   961 set :findBestPosition*finished true
   962 jump *label5 always
-    * end

Modifications by Jumps phase, Jump Threading, pass 6, iteration 1:
 
   689 set :findBestPosition:best :updateRowPositionsOdd.2:col2
   690 label *label118
   691 label *label116
-    * jump *label121 lessThanEq :updateRowPositionsOdd.2:col3 :findBestPosition:best
-    * jump *label123 greaterThanEq :updateRowPositionsOdd.2:col3 0.0784313725490196
+  692 jump *label76 lessThanEq :updateRowPositionsOdd.2:col3 :findBestPosition:best
+  693 jump *label76 greaterThanEq :updateRowPositionsOdd.2:col3 0.0784313725490196
   694 set :findBestPosition:bestX 1
   695 set :findBestPosition:bestY 1
   696 set :findBestPosition:best :updateRowPositionsOdd.2:col3

Modifications by Final phase, Temp Variables Elimination, iteration 1:
 
   630 op add :findBestPosition:row2 *tmp252 *tmp153
   631 op add *tmp256 *tmp104 *tmp153
   632 op add :findBestPosition:row3 *tmp256 *tmp202
-    * unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 *tmp258 :findBestPosition:row1
+  633 unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 0 :findBestPosition:row1
   634 jump *label79 lessThanEq :updateRowPositionsOdd:col1 0
   635 jump *label81 greaterThanEq :updateRowPositionsOdd:col1 0.0784313725490196
   636 set :findBestPosition:bestX -1
 
   652 set :findBestPosition:best :updateRowPositionsOdd:col3
   653 label *label91
   654 label *label89
-    * unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 *tmp271 :findBestPosition:row2
+  655 unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 0 :findBestPosition:row2
   656 jump *label95 lessThanEq :updateRowPositionsOdd.1:col1 :findBestPosition:best
   657 jump *label97 greaterThanEq :updateRowPositionsOdd.1:col1 0.0784313725490196
   658 set :findBestPosition:bestX -1
 
   674 set :findBestPosition:best :updateRowPositionsOdd.1:col3
   675 label *label107
   676 label *label105
-    * unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 *tmp284 :findBestPosition:row3
+  677 unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 0 :findBestPosition:row3
   678 jump *label111 lessThanEq :updateRowPositionsOdd.2:col1 :findBestPosition:best
   679 jump *label113 greaterThanEq :updateRowPositionsOdd.2:col1 0.0784313725490196
   680 set :findBestPosition:bestX -1

Final code before resolving virtual instructions:

    0:  jump *label4 always 0 0                                      #set target = 8;
    1:  jump *label0 always 0 0                                      ...
    2:  jump *label2 always 0 0                                      ...
        label *label4                                                ...
    3:  set *id "name: Base Builder - Matrices computations\nversion ...
    4:  set *signature "b7c1b9d437eb2566:v1"                         ...
        label *label5                                                ...
    5:  wait 1e12                                                    ...
    6:  jump *label5 always 0 0                                      ...
        label *label0                                                export def createTerrainMask(unit, x, y)
    7:  ubind :createTerrainMask:unit                                ubind(unit);
    8:  op add *tmp2 :createTerrainMask:y 3                          for var c in -3 .. 3 descending do
    9:  op add *tmp1 :createTerrainMask:x 3                          result = (result << 1) | isSolid(x + c, y + r);
   10:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   11:  sensor solid type @solid                                     ...
   12:  select :createTerrainMask:result notEqual solid false 1 0    ...
   13:  op shl *tmp0 :createTerrainMask:result 1                     result = (result << 1) | isSolid(x + c, y + r);
   14:  op add *tmp1 :createTerrainMask:x 2                          ...
   15:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   16:  sensor solid type @solid                                     ...
   17:  select :isSolid:result notEqual solid false 1 0              ...
   18:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   19:  op shl *tmp0 :createTerrainMask:result 1                     ...
   20:  op add *tmp1 :createTerrainMask:x 1                          ...
   21:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   22:  sensor solid type @solid                                     ...
   23:  select :isSolid:result notEqual solid false 1 0              ...
   24:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   25:  op shl *tmp0 :createTerrainMask:result 1                     ...
   26:  ucontrol getBlock :createTerrainMask:x *tmp2 type building f mlog(in x, in y, out result) {
   27:  sensor solid type @solid                                     ...
   28:  select :isSolid:result notEqual solid false 1 0              ...
   29:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   30:  op shl *tmp0 :createTerrainMask:result 1                     ...
   31:  op add *tmp1 :createTerrainMask:x -1                         ...
   32:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   33:  sensor solid type @solid                                     ...
   34:  select :isSolid:result notEqual solid false 1 0              ...
   35:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   36:  op shl *tmp0 :createTerrainMask:result 1                     ...
   37:  op add *tmp1 :createTerrainMask:x -2                         ...
   38:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   39:  sensor solid type @solid                                     ...
   40:  select :isSolid:result notEqual solid false 1 0              ...
   41:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   42:  op shl *tmp0 :createTerrainMask:result 1                     ...
   43:  op add *tmp1 :createTerrainMask:x -3                         ...
   44:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   45:  sensor solid type @solid                                     ...
   46:  select :isSolid:result notEqual solid false 1 0              ...
   47:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   48:  op add *tmp2 :createTerrainMask:y 2                          for var c in -3 .. 3 descending do
   49:  op shl *tmp0 :createTerrainMask:result 1                     result = (result << 1) | isSolid(x + c, y + r);
   50:  op add *tmp1 :createTerrainMask:x 3                          ...
   51:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   52:  sensor solid type @solid                                     ...
   53:  select :isSolid:result notEqual solid false 1 0              ...
   54:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   55:  op shl *tmp0 :createTerrainMask:result 1                     ...
   56:  op add *tmp1 :createTerrainMask:x 2                          ...
   57:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   58:  sensor solid type @solid                                     ...
   59:  select :isSolid:result notEqual solid false 1 0              ...
   60:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   61:  op shl *tmp0 :createTerrainMask:result 1                     ...
   62:  op add *tmp1 :createTerrainMask:x 1                          ...
   63:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   64:  sensor solid type @solid                                     ...
   65:  select :isSolid:result notEqual solid false 1 0              ...
   66:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   67:  op shl *tmp0 :createTerrainMask:result 1                     ...
   68:  ucontrol getBlock :createTerrainMask:x *tmp2 type building f mlog(in x, in y, out result) {
   69:  sensor solid type @solid                                     ...
   70:  select :isSolid:result notEqual solid false 1 0              ...
   71:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   72:  op shl *tmp0 :createTerrainMask:result 1                     ...
   73:  op add *tmp1 :createTerrainMask:x -1                         ...
   74:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   75:  sensor solid type @solid                                     ...
   76:  select :isSolid:result notEqual solid false 1 0              ...
   77:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   78:  op shl *tmp0 :createTerrainMask:result 1                     ...
   79:  op add *tmp1 :createTerrainMask:x -2                         ...
   80:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   81:  sensor solid type @solid                                     ...
   82:  select :isSolid:result notEqual solid false 1 0              ...
   83:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   84:  op shl *tmp0 :createTerrainMask:result 1                     ...
   85:  op add *tmp1 :createTerrainMask:x -3                         ...
   86:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   87:  sensor solid type @solid                                     ...
   88:  select :isSolid:result notEqual solid false 1 0              ...
   89:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   90:  op add *tmp2 :createTerrainMask:y 1                          for var c in -3 .. 3 descending do
   91:  op shl *tmp0 :createTerrainMask:result 1                     result = (result << 1) | isSolid(x + c, y + r);
   92:  op add *tmp1 :createTerrainMask:x 3                          ...
   93:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   94:  sensor solid type @solid                                     ...
   95:  select :isSolid:result notEqual solid false 1 0              ...
   96:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   97:  op shl *tmp0 :createTerrainMask:result 1                     ...
   98:  op add *tmp1 :createTerrainMask:x 2                          ...
   99:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  100:  sensor solid type @solid                                     ...
  101:  select :isSolid:result notEqual solid false 1 0              ...
  102:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  103:  op shl *tmp0 :createTerrainMask:result 1                     ...
  104:  op add *tmp1 :createTerrainMask:x 1                          ...
  105:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  106:  sensor solid type @solid                                     ...
  107:  select :isSolid:result notEqual solid false 1 0              ...
  108:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  109:  op shl *tmp0 :createTerrainMask:result 1                     ...
  110:  ucontrol getBlock :createTerrainMask:x *tmp2 type building f mlog(in x, in y, out result) {
  111:  sensor solid type @solid                                     ...
  112:  select :isSolid:result notEqual solid false 1 0              ...
  113:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  114:  op shl *tmp0 :createTerrainMask:result 1                     ...
  115:  op add *tmp1 :createTerrainMask:x -1                         ...
  116:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  117:  sensor solid type @solid                                     ...
  118:  select :isSolid:result notEqual solid false 1 0              ...
  119:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  120:  op shl *tmp0 :createTerrainMask:result 1                     ...
  121:  op add *tmp1 :createTerrainMask:x -2                         ...
  122:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  123:  sensor solid type @solid                                     ...
  124:  select :isSolid:result notEqual solid false 1 0              ...
  125:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  126:  op shl *tmp0 :createTerrainMask:result 1                     ...
  127:  op add *tmp1 :createTerrainMask:x -3                         ...
  128:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  129:  sensor solid type @solid                                     ...
  130:  select :isSolid:result notEqual solid false 1 0              ...
  131:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  132:  op shl *tmp0 :createTerrainMask:result 1                     ...
  133:  op add *tmp1 :createTerrainMask:x 3                          ...
  134:  ucontrol getBlock *tmp1 :createTerrainMask:y type building f mlog(in x, in y, out result) {
  135:  sensor solid type @solid                                     ...
  136:  select :isSolid:result notEqual solid false 1 0              ...
  137:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  138:  op shl *tmp0 :createTerrainMask:result 1                     ...
  139:  op add *tmp1 :createTerrainMask:x 2                          ...
  140:  ucontrol getBlock *tmp1 :createTerrainMask:y type building f mlog(in x, in y, out result) {
  141:  sensor solid type @solid                                     ...
  142:  select :isSolid:result notEqual solid false 1 0              ...
  143:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  144:  op shl *tmp0 :createTerrainMask:result 1                     ...
  145:  op add *tmp1 :createTerrainMask:x 1                          ...
  146:  ucontrol getBlock *tmp1 :createTerrainMask:y type building f mlog(in x, in y, out result) {
  147:  sensor solid type @solid                                     ...
  148:  select :isSolid:result notEqual solid false 1 0              ...
  149:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  150:  op shl *tmp0 :createTerrainMask:result 1                     ...
  151:  ucontrol getBlock :createTerrainMask:x :createTerrainMask:y  mlog(in x, in y, out result) {
  152:  sensor solid type @solid                                     ...
  153:  select :isSolid:result notEqual solid false 1 0              ...
  154:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  155:  op shl *tmp0 :createTerrainMask:result 1                     ...
  156:  op add *tmp1 :createTerrainMask:x -1                         ...
  157:  ucontrol getBlock *tmp1 :createTerrainMask:y type building f mlog(in x, in y, out result) {
  158:  sensor solid type @solid                                     ...
  159:  select :isSolid:result notEqual solid false 1 0              ...
  160:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  161:  op shl *tmp0 :createTerrainMask:result 1                     ...
  162:  op add *tmp1 :createTerrainMask:x -2                         ...
  163:  ucontrol getBlock *tmp1 :createTerrainMask:y type building f mlog(in x, in y, out result) {
  164:  sensor solid type @solid                                     ...
  165:  select :isSolid:result notEqual solid false 1 0              ...
  166:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  167:  op shl *tmp0 :createTerrainMask:result 1                     ...
  168:  op add *tmp1 :createTerrainMask:x -3                         ...
  169:  ucontrol getBlock *tmp1 :createTerrainMask:y type building f mlog(in x, in y, out result) {
  170:  sensor solid type @solid                                     ...
  171:  select :isSolid:result notEqual solid false 1 0              ...
  172:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  173:  op add *tmp2 :createTerrainMask:y -1                         for var c in -3 .. 3 descending do
  174:  op shl *tmp0 :createTerrainMask:result 1                     result = (result << 1) | isSolid(x + c, y + r);
  175:  op add *tmp1 :createTerrainMask:x 3                          ...
  176:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  177:  sensor solid type @solid                                     ...
  178:  select :isSolid:result notEqual solid false 1 0              ...
  179:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  180:  op shl *tmp0 :createTerrainMask:result 1                     ...
  181:  op add *tmp1 :createTerrainMask:x 2                          ...
  182:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  183:  sensor solid type @solid                                     ...
  184:  select :isSolid:result notEqual solid false 1 0              ...
  185:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  186:  op shl *tmp0 :createTerrainMask:result 1                     ...
  187:  op add *tmp1 :createTerrainMask:x 1                          ...
  188:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  189:  sensor solid type @solid                                     ...
  190:  select :isSolid:result notEqual solid false 1 0              ...
  191:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  192:  op shl *tmp0 :createTerrainMask:result 1                     ...
  193:  ucontrol getBlock :createTerrainMask:x *tmp2 type building f mlog(in x, in y, out result) {
  194:  sensor solid type @solid                                     ...
  195:  select :isSolid:result notEqual solid false 1 0              ...
  196:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  197:  op shl *tmp0 :createTerrainMask:result 1                     ...
  198:  op add *tmp1 :createTerrainMask:x -1                         ...
  199:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  200:  sensor solid type @solid                                     ...
  201:  select :isSolid:result notEqual solid false 1 0              ...
  202:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  203:  op shl *tmp0 :createTerrainMask:result 1                     ...
  204:  op add *tmp1 :createTerrainMask:x -2                         ...
  205:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  206:  sensor solid type @solid                                     ...
  207:  select :isSolid:result notEqual solid false 1 0              ...
  208:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  209:  op shl *tmp0 :createTerrainMask:result 1                     ...
  210:  op add *tmp1 :createTerrainMask:x -3                         ...
  211:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  212:  sensor solid type @solid                                     ...
  213:  select :isSolid:result notEqual solid false 1 0              ...
  214:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  215:  op add *tmp2 :createTerrainMask:y -2                         for var c in -3 .. 3 descending do
  216:  op shl *tmp0 :createTerrainMask:result 1                     result = (result << 1) | isSolid(x + c, y + r);
  217:  op add *tmp1 :createTerrainMask:x 3                          ...
  218:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  219:  sensor solid type @solid                                     ...
  220:  select :isSolid:result notEqual solid false 1 0              ...
  221:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  222:  op shl *tmp0 :createTerrainMask:result 1                     ...
  223:  op add *tmp1 :createTerrainMask:x 2                          ...
  224:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  225:  sensor solid type @solid                                     ...
  226:  select :isSolid:result notEqual solid false 1 0              ...
  227:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  228:  op shl *tmp0 :createTerrainMask:result 1                     ...
  229:  op add *tmp1 :createTerrainMask:x 1                          ...
  230:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  231:  sensor solid type @solid                                     ...
  232:  select :isSolid:result notEqual solid false 1 0              ...
  233:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  234:  op shl *tmp0 :createTerrainMask:result 1                     ...
  235:  ucontrol getBlock :createTerrainMask:x *tmp2 type building f mlog(in x, in y, out result) {
  236:  sensor solid type @solid                                     ...
  237:  select :isSolid:result notEqual solid false 1 0              ...
  238:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  239:  op shl *tmp0 :createTerrainMask:result 1                     ...
  240:  op add *tmp1 :createTerrainMask:x -1                         ...
  241:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  242:  sensor solid type @solid                                     ...
  243:  select :isSolid:result notEqual solid false 1 0              ...
  244:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  245:  op shl *tmp0 :createTerrainMask:result 1                     ...
  246:  op add *tmp1 :createTerrainMask:x -2                         ...
  247:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  248:  sensor solid type @solid                                     ...
  249:  select :isSolid:result notEqual solid false 1 0              ...
  250:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  251:  op shl *tmp0 :createTerrainMask:result 1                     ...
  252:  op add *tmp1 :createTerrainMask:x -3                         ...
  253:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  254:  sensor solid type @solid                                     ...
  255:  select :isSolid:result notEqual solid false 1 0              ...
  256:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  257:  op add *tmp2 :createTerrainMask:y -3                         for var c in -3 .. 3 descending do
  258:  op shl *tmp0 :createTerrainMask:result 1                     result = (result << 1) | isSolid(x + c, y + r);
  259:  op add *tmp1 :createTerrainMask:x 3                          ...
  260:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  261:  sensor solid type @solid                                     ...
  262:  select :isSolid:result notEqual solid false 1 0              ...
  263:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  264:  op shl *tmp0 :createTerrainMask:result 1                     ...
  265:  op add *tmp1 :createTerrainMask:x 2                          ...
  266:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  267:  sensor solid type @solid                                     ...
  268:  select :isSolid:result notEqual solid false 1 0              ...
  269:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  270:  op shl *tmp0 :createTerrainMask:result 1                     ...
  271:  op add *tmp1 :createTerrainMask:x 1                          ...
  272:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  273:  sensor solid type @solid                                     ...
  274:  select :isSolid:result notEqual solid false 1 0              ...
  275:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  276:  op shl *tmp0 :createTerrainMask:result 1                     ...
  277:  ucontrol getBlock :createTerrainMask:x *tmp2 type building f mlog(in x, in y, out result) {
  278:  sensor solid type @solid                                     ...
  279:  select :isSolid:result notEqual solid false 1 0              ...
  280:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  281:  op shl *tmp0 :createTerrainMask:result 1                     ...
  282:  op add *tmp1 :createTerrainMask:x -1                         ...
  283:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  284:  sensor solid type @solid                                     ...
  285:  select :isSolid:result notEqual solid false 1 0              ...
  286:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  287:  op shl *tmp0 :createTerrainMask:result 1                     ...
  288:  op add *tmp1 :createTerrainMask:x -2                         ...
  289:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  290:  sensor solid type @solid                                     ...
  291:  select :isSolid:result notEqual solid false 1 0              ...
  292:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  293:  op shl *tmp0 :createTerrainMask:result 1                     ...
  294:  op add *tmp1 :createTerrainMask:x -3                         ...
  295:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  296:  sensor solid type @solid                                     ...
  297:  select :isSolid:result notEqual solid false 1 0              ...
  298:  op or :createTerrainMask*retval *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  299:  set :createTerrainMask*finished true                         export def createTerrainMask(unit, x, y)
  300:  jump *label5 always 0 0                                      ...
        label *label2                                                export def findBestPosition(unit, x, y, ore, size, out bestX, out bestY)
  301:  ubind :findBestPosition:unit                                 ubind(unit);
  302:  op sub *tmp5 :findBestPosition:y 2                           var y1 = computeRowValues(x, y - 2, ore, size);
  303:  op sub :tileValue:x :findBestPosition:x 2                    var x1 = tileValue(x - 2, y, ore);
  304:  ucontrol getBlock :tileValue:x *tmp5 type building floor     mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  305:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  306:  sensor solid type @solid                                     ...
  307:  select :tileValue:result notEqual solid false 0.098039215686 ...
  308:  op sub :tileValue.1:x :findBestPosition:x 1                  var x2 = tileValue(x - 1, y, ore);
  309:  ucontrol getBlock :tileValue.1:x *tmp5 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  310:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  311:  sensor solid type @solid                                     ...
  312:  select :tileValue.1:result notEqual solid false 0.0980392156 ...
  313:  ucontrol getBlock :findBestPosition:x *tmp5 type building fl ...
  314:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  315:  sensor solid type @solid                                     ...
  316:  select :tileValue.2:result notEqual solid false 0.0980392156 ...
  317:  op add :tileValue.3:x :findBestPosition:x 1                  var x4 = tileValue(x + 1, y, ore);
  318:  ucontrol getBlock :tileValue.3:x *tmp5 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  319:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  320:  sensor solid type @solid                                     ...
  321:  select :tileValue.3:result notEqual solid false 0.0980392156 ...
  322:  op add :tileValue.4:x :findBestPosition:x 2                  var x5 = tileValue(x + 2, y, ore);
  323:  ucontrol getBlock :tileValue.4:x *tmp5 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  324:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  325:  sensor solid type @solid                                     ...
  326:  select :tileValue.4:result notEqual solid false 0.0980392156 ...
  327:  jump *label21 notEqual :findBestPosition:size 2              if size == 2 then
  328:  op add *tmp19 :tileValue:result :tileValue.1:result          x1 + x2,        // drill at x - 1.5
  329:  op add *tmp20 :tileValue.1:result :tileValue.2:result        x2 + x3,        // drill at x - 0.5
  330:  op add *tmp21 :tileValue.2:result :tileValue.3:result        x3 + x4,        // drill at x + 0.5
  331:  op add *tmp22 :tileValue.3:result :tileValue.4:result        x4 + x5         // drill at x + 1.5
  332:  packcolor *tmp6 *tmp19 *tmp20 *tmp21 *tmp22                  return packcolor(
  333:  jump *label22 always 0 0                                     if size == 2 then
        label *label21                                               ...
  334:  jump *label23 notEqual :findBestPosition:size 3              elsif size == 3 then
  335:  op add *tmp26 :tileValue.1:result :tileValue.2:result        x1 + (x2 + x3),   // drill at x - 1
  336:  op add *tmp27 :tileValue:result *tmp26                       ...
  337:  op add *tmp29 *tmp26 :tileValue.3:result                     (x2 + x3) + x4,   // drill at x
  338:  op add *tmp30 :tileValue.2:result :tileValue.3:result        x3 + x4 + x5,   // drill at x + 1
  339:  op add *tmp31 *tmp30 :tileValue.4:result                     ...
  340:  packcolor *tmp6 *tmp27 *tmp29 *tmp31 0                       return packcolor(
  341:  jump *label24 always 0 0                                     elsif size == 3 then
        label *label23                                               ...
  342:  op sub :tileValue.5:x :findBestPosition:x 3                  var x0 = tileValue(x - 3, y, ore);
  343:  ucontrol getBlock :tileValue.5:x *tmp5 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  344:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  345:  sensor solid type @solid                                     ...
  346:  select :tileValue.5:result notEqual solid false 0.0980392156 ...
  347:  op add :tileValue.6:x :findBestPosition:x 3                  var x6 = tileValue(x + 3, y, ore);
  348:  ucontrol getBlock :tileValue.6:x *tmp5 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  349:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  350:  sensor solid type @solid                                     ...
  351:  select :tileValue.6:result notEqual solid false 0.0980392156 ...
  352:  op add *tmp37 :tileValue:result :tileValue.1:result          min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  353:  op add *tmp38 *tmp37 :tileValue.2:result                     ...
  354:  op add *tmp39 :tileValue.5:result *tmp38                     ...
  355:  op min *tmp40 0.09803921568627451 *tmp39                     ...
  356:  op add *tmp43 *tmp38 :tileValue.3:result                     min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  357:  op min *tmp44 0.09803921568627451 *tmp43                     ...
  358:  op add *tmp45 :tileValue.2:result :tileValue.3:result        min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  359:  op add *tmp46 *tmp45 :tileValue.4:result                     ...
  360:  op add *tmp47 :tileValue.1:result *tmp46                     ...
  361:  op min *tmp48 0.09803921568627451 *tmp47                     ...
  362:  op add *tmp51 *tmp46 :tileValue.6:result                     min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  363:  op min *tmp52 0.09803921568627451 *tmp51                     ...
  364:  packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52                  return packcolor(
        label *label24                                               elsif size == 3 then
        label *label22                                               if size == 2 then
  365:  op sub *tmp54 :findBestPosition:y 1                          var y2 = computeRowValues(x, y - 1, ore, size);
  366:  ucontrol getBlock :tileValue:x *tmp54 type building floor    mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  367:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  368:  sensor solid type @solid                                     ...
  369:  select :tileValue.7:result notEqual solid false 0.0980392156 ...
  370:  ucontrol getBlock :tileValue.1:x *tmp54 type building floor  ...
  371:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  372:  sensor solid type @solid                                     ...
  373:  select :tileValue.8:result notEqual solid false 0.0980392156 ...
  374:  ucontrol getBlock :findBestPosition:x *tmp54 type building f ...
  375:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  376:  sensor solid type @solid                                     ...
  377:  select :tileValue.9:result notEqual solid false 0.0980392156 ...
  378:  ucontrol getBlock :tileValue.3:x *tmp54 type building floor  ...
  379:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  380:  sensor solid type @solid                                     ...
  381:  select :tileValue.10:result notEqual solid false 0.098039215 ...
  382:  ucontrol getBlock :tileValue.4:x *tmp54 type building floor  ...
  383:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  384:  sensor solid type @solid                                     ...
  385:  select :tileValue.11:result notEqual solid false 0.098039215 ...
  386:  jump *label33 notEqual :findBestPosition:size 2              if size == 2 then
  387:  op add *tmp68 :tileValue.7:result :tileValue.8:result        x1 + x2,        // drill at x - 1.5
  388:  op add *tmp69 :tileValue.8:result :tileValue.9:result        x2 + x3,        // drill at x - 0.5
  389:  op add *tmp70 :tileValue.9:result :tileValue.10:result       x3 + x4,        // drill at x + 0.5
  390:  op add *tmp71 :tileValue.10:result :tileValue.11:result      x4 + x5         // drill at x + 1.5
  391:  packcolor *tmp55 *tmp68 *tmp69 *tmp70 *tmp71                 return packcolor(
  392:  jump *label34 always 0 0                                     if size == 2 then
        label *label33                                               ...
  393:  jump *label35 notEqual :findBestPosition:size 3              elsif size == 3 then
  394:  op add *tmp75 :tileValue.8:result :tileValue.9:result        x1 + (x2 + x3),   // drill at x - 1
  395:  op add *tmp76 :tileValue.7:result *tmp75                     ...
  396:  op add *tmp78 *tmp75 :tileValue.10:result                    (x2 + x3) + x4,   // drill at x
  397:  op add *tmp79 :tileValue.9:result :tileValue.10:result       x3 + x4 + x5,   // drill at x + 1
  398:  op add *tmp80 *tmp79 :tileValue.11:result                    ...
  399:  packcolor *tmp55 *tmp76 *tmp78 *tmp80 0                      return packcolor(
  400:  jump *label36 always 0 0                                     elsif size == 3 then
        label *label35                                               ...
  401:  op sub :tileValue.12:x :findBestPosition:x 3                 var x0 = tileValue(x - 3, y, ore);
  402:  ucontrol getBlock :tileValue.12:x *tmp54 type building floor mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  403:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  404:  sensor solid type @solid                                     ...
  405:  select :tileValue.12:result notEqual solid false 0.098039215 ...
  406:  op add :tileValue.13:x :findBestPosition:x 3                 var x6 = tileValue(x + 3, y, ore);
  407:  ucontrol getBlock :tileValue.13:x *tmp54 type building floor mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  408:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  409:  sensor solid type @solid                                     ...
  410:  select :tileValue.13:result notEqual solid false 0.098039215 ...
  411:  op add *tmp86 :tileValue.7:result :tileValue.8:result        min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  412:  op add *tmp87 *tmp86 :tileValue.9:result                     ...
  413:  op add *tmp88 :tileValue.12:result *tmp87                    ...
  414:  op min *tmp89 0.09803921568627451 *tmp88                     ...
  415:  op add *tmp92 *tmp87 :tileValue.10:result                    min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  416:  op min *tmp93 0.09803921568627451 *tmp92                     ...
  417:  op add *tmp94 :tileValue.9:result :tileValue.10:result       min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  418:  op add *tmp95 *tmp94 :tileValue.11:result                    ...
  419:  op add *tmp96 :tileValue.8:result *tmp95                     ...
  420:  op min *tmp97 0.09803921568627451 *tmp96                     ...
  421:  op add *tmp100 *tmp95 :tileValue.13:result                   min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  422:  op min *tmp101 0.09803921568627451 *tmp100                   ...
  423:  packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101                return packcolor(
        label *label36                                               elsif size == 3 then
        label *label34                                               if size == 2 then
  424:  ucontrol getBlock :tileValue:x :findBestPosition:y type buil mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  425:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  426:  sensor solid type @solid                                     ...
  427:  select :tileValue.14:result notEqual solid false 0.098039215 ...
  428:  ucontrol getBlock :tileValue.1:x :findBestPosition:y type bu ...
  429:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  430:  sensor solid type @solid                                     ...
  431:  select :tileValue.15:result notEqual solid false 0.098039215 ...
  432:  ucontrol getBlock :findBestPosition:x :findBestPosition:y ty ...
  433:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  434:  sensor solid type @solid                                     ...
  435:  select :tileValue.16:result notEqual solid false 0.098039215 ...
  436:  ucontrol getBlock :tileValue.3:x :findBestPosition:y type bu ...
  437:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  438:  sensor solid type @solid                                     ...
  439:  select :tileValue.17:result notEqual solid false 0.098039215 ...
  440:  ucontrol getBlock :tileValue.4:x :findBestPosition:y type bu ...
  441:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  442:  sensor solid type @solid                                     ...
  443:  select :tileValue.18:result notEqual solid false 0.098039215 ...
  444:  jump *label45 notEqual :findBestPosition:size 2              if size == 2 then
  445:  op add *tmp117 :tileValue.14:result :tileValue.15:result     x1 + x2,        // drill at x - 1.5
  446:  op add *tmp118 :tileValue.15:result :tileValue.16:result     x2 + x3,        // drill at x - 0.5
  447:  op add *tmp119 :tileValue.16:result :tileValue.17:result     x3 + x4,        // drill at x + 0.5
  448:  op add *tmp120 :tileValue.17:result :tileValue.18:result     x4 + x5         // drill at x + 1.5
  449:  packcolor *tmp104 *tmp117 *tmp118 *tmp119 *tmp120            return packcolor(
  450:  jump *label46 always 0 0                                     if size == 2 then
        label *label45                                               ...
  451:  jump *label47 notEqual :findBestPosition:size 3              elsif size == 3 then
  452:  op add *tmp124 :tileValue.15:result :tileValue.16:result     x1 + (x2 + x3),   // drill at x - 1
  453:  op add *tmp125 :tileValue.14:result *tmp124                  ...
  454:  op add *tmp127 *tmp124 :tileValue.17:result                  (x2 + x3) + x4,   // drill at x
  455:  op add *tmp128 :tileValue.16:result :tileValue.17:result     x3 + x4 + x5,   // drill at x + 1
  456:  op add *tmp129 *tmp128 :tileValue.18:result                  ...
  457:  packcolor *tmp104 *tmp125 *tmp127 *tmp129 0                  return packcolor(
  458:  jump *label48 always 0 0                                     elsif size == 3 then
        label *label47                                               ...
  459:  op sub :tileValue.19:x :findBestPosition:x 3                 var x0 = tileValue(x - 3, y, ore);
  460:  ucontrol getBlock :tileValue.19:x :findBestPosition:y type b mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  461:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  462:  sensor solid type @solid                                     ...
  463:  select :tileValue.19:result notEqual solid false 0.098039215 ...
  464:  op add :tileValue.20:x :findBestPosition:x 3                 var x6 = tileValue(x + 3, y, ore);
  465:  ucontrol getBlock :tileValue.20:x :findBestPosition:y type b mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  466:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  467:  sensor solid type @solid                                     ...
  468:  select :tileValue.20:result notEqual solid false 0.098039215 ...
  469:  op add *tmp135 :tileValue.14:result :tileValue.15:result     min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  470:  op add *tmp136 *tmp135 :tileValue.16:result                  ...
  471:  op add *tmp137 :tileValue.19:result *tmp136                  ...
  472:  op min *tmp138 0.09803921568627451 *tmp137                   ...
  473:  op add *tmp141 *tmp136 :tileValue.17:result                  min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  474:  op min *tmp142 0.09803921568627451 *tmp141                   ...
  475:  op add *tmp143 :tileValue.16:result :tileValue.17:result     min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  476:  op add *tmp144 *tmp143 :tileValue.18:result                  ...
  477:  op add *tmp145 :tileValue.15:result *tmp144                  ...
  478:  op min *tmp146 0.09803921568627451 *tmp145                   ...
  479:  op add *tmp149 *tmp144 :tileValue.20:result                  min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  480:  op min *tmp150 0.09803921568627451 *tmp149                   ...
  481:  packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150            return packcolor(
        label *label48                                               elsif size == 3 then
        label *label46                                               if size == 2 then
  482:  op add *tmp152 :findBestPosition:y 1                         var y4 = computeRowValues(x, y + 1, ore, size);
  483:  ucontrol getBlock :tileValue:x *tmp152 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  484:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  485:  sensor solid type @solid                                     ...
  486:  select :tileValue.21:result notEqual solid false 0.098039215 ...
  487:  ucontrol getBlock :tileValue.1:x *tmp152 type building floor ...
  488:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  489:  sensor solid type @solid                                     ...
  490:  select :tileValue.22:result notEqual solid false 0.098039215 ...
  491:  ucontrol getBlock :findBestPosition:x *tmp152 type building  ...
  492:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  493:  sensor solid type @solid                                     ...
  494:  select :tileValue.23:result notEqual solid false 0.098039215 ...
  495:  ucontrol getBlock :tileValue.3:x *tmp152 type building floor ...
  496:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  497:  sensor solid type @solid                                     ...
  498:  select :tileValue.24:result notEqual solid false 0.098039215 ...
  499:  ucontrol getBlock :tileValue.4:x *tmp152 type building floor ...
  500:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  501:  sensor solid type @solid                                     ...
  502:  select :tileValue.25:result notEqual solid false 0.098039215 ...
  503:  jump *label57 notEqual :findBestPosition:size 2              if size == 2 then
  504:  op add *tmp166 :tileValue.21:result :tileValue.22:result     x1 + x2,        // drill at x - 1.5
  505:  op add *tmp167 :tileValue.22:result :tileValue.23:result     x2 + x3,        // drill at x - 0.5
  506:  op add *tmp168 :tileValue.23:result :tileValue.24:result     x3 + x4,        // drill at x + 0.5
  507:  op add *tmp169 :tileValue.24:result :tileValue.25:result     x4 + x5         // drill at x + 1.5
  508:  packcolor *tmp153 *tmp166 *tmp167 *tmp168 *tmp169            return packcolor(
  509:  jump *label58 always 0 0                                     if size == 2 then
        label *label57                                               ...
  510:  jump *label59 notEqual :findBestPosition:size 3              elsif size == 3 then
  511:  op add *tmp173 :tileValue.22:result :tileValue.23:result     x1 + (x2 + x3),   // drill at x - 1
  512:  op add *tmp174 :tileValue.21:result *tmp173                  ...
  513:  op add *tmp176 *tmp173 :tileValue.24:result                  (x2 + x3) + x4,   // drill at x
  514:  op add *tmp177 :tileValue.23:result :tileValue.24:result     x3 + x4 + x5,   // drill at x + 1
  515:  op add *tmp178 *tmp177 :tileValue.25:result                  ...
  516:  packcolor *tmp153 *tmp174 *tmp176 *tmp178 0                  return packcolor(
  517:  jump *label60 always 0 0                                     elsif size == 3 then
        label *label59                                               ...
  518:  op sub :tileValue.26:x :findBestPosition:x 3                 var x0 = tileValue(x - 3, y, ore);
  519:  ucontrol getBlock :tileValue.26:x *tmp152 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  520:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  521:  sensor solid type @solid                                     ...
  522:  select :tileValue.26:result notEqual solid false 0.098039215 ...
  523:  op add :tileValue.27:x :findBestPosition:x 3                 var x6 = tileValue(x + 3, y, ore);
  524:  ucontrol getBlock :tileValue.27:x *tmp152 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  525:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  526:  sensor solid type @solid                                     ...
  527:  select :tileValue.27:result notEqual solid false 0.098039215 ...
  528:  op add *tmp184 :tileValue.21:result :tileValue.22:result     min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  529:  op add *tmp185 *tmp184 :tileValue.23:result                  ...
  530:  op add *tmp186 :tileValue.26:result *tmp185                  ...
  531:  op min *tmp187 0.09803921568627451 *tmp186                   ...
  532:  op add *tmp190 *tmp185 :tileValue.24:result                  min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  533:  op min *tmp191 0.09803921568627451 *tmp190                   ...
  534:  op add *tmp192 :tileValue.23:result :tileValue.24:result     min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  535:  op add *tmp193 *tmp192 :tileValue.25:result                  ...
  536:  op add *tmp194 :tileValue.22:result *tmp193                  ...
  537:  op min *tmp195 0.09803921568627451 *tmp194                   ...
  538:  op add *tmp198 *tmp193 :tileValue.27:result                  min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  539:  op min *tmp199 0.09803921568627451 *tmp198                   ...
  540:  packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199            return packcolor(
        label *label60                                               elsif size == 3 then
        label *label58                                               if size == 2 then
  541:  op add *tmp201 :findBestPosition:y 2                         var y5 = computeRowValues(x, y + 2, ore, size);
  542:  ucontrol getBlock :tileValue:x *tmp201 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  543:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  544:  sensor solid type @solid                                     ...
  545:  select :tileValue.28:result notEqual solid false 0.098039215 ...
  546:  ucontrol getBlock :tileValue.1:x *tmp201 type building floor ...
  547:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  548:  sensor solid type @solid                                     ...
  549:  select :tileValue.29:result notEqual solid false 0.098039215 ...
  550:  ucontrol getBlock :findBestPosition:x *tmp201 type building  ...
  551:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  552:  sensor solid type @solid                                     ...
  553:  select :tileValue.30:result notEqual solid false 0.098039215 ...
  554:  ucontrol getBlock :tileValue.3:x *tmp201 type building floor ...
  555:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  556:  sensor solid type @solid                                     ...
  557:  select :tileValue.31:result notEqual solid false 0.098039215 ...
  558:  ucontrol getBlock :tileValue.4:x *tmp201 type building floor ...
  559:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  560:  sensor solid type @solid                                     ...
  561:  select :tileValue.32:result notEqual solid false 0.098039215 ...
  562:  jump *label69 notEqual :findBestPosition:size 2              if size == 2 then
  563:  op add *tmp215 :tileValue.28:result :tileValue.29:result     x1 + x2,        // drill at x - 1.5
  564:  op add *tmp216 :tileValue.29:result :tileValue.30:result     x2 + x3,        // drill at x - 0.5
  565:  op add *tmp217 :tileValue.30:result :tileValue.31:result     x3 + x4,        // drill at x + 0.5
  566:  op add *tmp218 :tileValue.31:result :tileValue.32:result     x4 + x5         // drill at x + 1.5
  567:  packcolor *tmp202 *tmp215 *tmp216 *tmp217 *tmp218            return packcolor(
  568:  jump *label70 always 0 0                                     if size == 2 then
        label *label69                                               ...
  569:  jump *label71 notEqual :findBestPosition:size 3              elsif size == 3 then
  570:  op add *tmp222 :tileValue.29:result :tileValue.30:result     x1 + (x2 + x3),   // drill at x - 1
  571:  op add *tmp223 :tileValue.28:result *tmp222                  ...
  572:  op add *tmp225 *tmp222 :tileValue.31:result                  (x2 + x3) + x4,   // drill at x
  573:  op add *tmp226 :tileValue.30:result :tileValue.31:result     x3 + x4 + x5,   // drill at x + 1
  574:  op add *tmp227 *tmp226 :tileValue.32:result                  ...
  575:  packcolor *tmp202 *tmp223 *tmp225 *tmp227 0                  return packcolor(
  576:  jump *label72 always 0 0                                     elsif size == 3 then
        label *label71                                               ...
  577:  op sub :tileValue.33:x :findBestPosition:x 3                 var x0 = tileValue(x - 3, y, ore);
  578:  ucontrol getBlock :tileValue.33:x *tmp201 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  579:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  580:  sensor solid type @solid                                     ...
  581:  select :tileValue.33:result notEqual solid false 0.098039215 ...
  582:  op add :tileValue.34:x :findBestPosition:x 3                 var x6 = tileValue(x + 3, y, ore);
  583:  ucontrol getBlock :tileValue.34:x *tmp201 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  584:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  585:  sensor solid type @solid                                     ...
  586:  select :tileValue.34:result notEqual solid false 0.098039215 ...
  587:  op add *tmp233 :tileValue.28:result :tileValue.29:result     min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  588:  op add *tmp234 *tmp233 :tileValue.30:result                  ...
  589:  op add *tmp235 :tileValue.33:result *tmp234                  ...
  590:  op min *tmp236 0.09803921568627451 *tmp235                   ...
  591:  op add *tmp239 *tmp234 :tileValue.31:result                  min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  592:  op min *tmp240 0.09803921568627451 *tmp239                   ...
  593:  op add *tmp241 :tileValue.30:result :tileValue.31:result     min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  594:  op add *tmp242 *tmp241 :tileValue.32:result                  ...
  595:  op add *tmp243 :tileValue.29:result *tmp242                  ...
  596:  op min *tmp244 0.09803921568627451 *tmp243                   ...
  597:  op add *tmp247 *tmp242 :tileValue.34:result                  min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  598:  op min *tmp248 0.09803921568627451 *tmp247                   ...
  599:  packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248            return packcolor(
        label *label72                                               elsif size == 3 then
        label *label70                                               if size == 2 then
  600:  set :findBestPosition:best 0                                 var best = 0;
  601:  set :findBestPosition:bestX 0                                bestX = 0;
  602:  set :findBestPosition:bestY 0                                bestY = 0;
  603:  jump *label75 notEqual :findBestPosition:size 3              if size == 3 then
  604:  op add *tmp252 *tmp55 *tmp104                                row1 = y1 + (y2 + y3);  // drill at y - 1
  605:  op add :findBestPosition:row1 *tmp6 *tmp252                  ...
  606:  op add :findBestPosition:row2 *tmp252 *tmp153                row2 = (y2 + y3) + y4;  // drill at y
  607:  op add *tmp256 *tmp104 *tmp153                               row3 = y3 + y4 + y5;    // drill at y + 1
  608:  op add :findBestPosition:row3 *tmp256 *tmp202                ...
  609:  unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsO unpackcolor(out col1, out col2, out col3, , rowSum);
  610:  jump *label79 lessThanEq :updateRowPositionsOdd:col1 0       if value > best then
  611:  jump *label81 greaterThanEq :updateRowPositionsOdd:col1 0.07 if value < LIMIT then
  612:  set :findBestPosition:bestX -1                               bestX = dx;
  613:  set :findBestPosition:bestY -1                               bestY = dy;
  614:  set :findBestPosition:best :updateRowPositionsOdd:col1       best = value;
        label *label81                                               if value < LIMIT then
        label *label79                                               if value > best then
  615:  jump *label84 lessThanEq :updateRowPositionsOdd:col2 :findBe ...
  616:  jump *label86 greaterThanEq :updateRowPositionsOdd:col2 0.07 if value < LIMIT then
  617:  set :findBestPosition:bestX 0                                bestX = dx;
  618:  set :findBestPosition:bestY -1                               bestY = dy;
  619:  set :findBestPosition:best :updateRowPositionsOdd:col2       best = value;
        label *label86                                               if value < LIMIT then
        label *label84                                               if value > best then
  620:  jump *label89 lessThanEq :updateRowPositionsOdd:col3 :findBe ...
  621:  jump *label91 greaterThanEq :updateRowPositionsOdd:col3 0.07 if value < LIMIT then
  622:  set :findBestPosition:bestX 1                                bestX = dx;
  623:  set :findBestPosition:bestY -1                               bestY = dy;
  624:  set :findBestPosition:best :updateRowPositionsOdd:col3       best = value;
        label *label91                                               if value < LIMIT then
        label *label89                                               if value > best then
  625:  unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPosition unpackcolor(out col1, out col2, out col3, , rowSum);
  626:  jump *label95 lessThanEq :updateRowPositionsOdd.1:col1 :find if value > best then
  627:  jump *label97 greaterThanEq :updateRowPositionsOdd.1:col1 0. if value < LIMIT then
  628:  set :findBestPosition:bestX -1                               bestX = dx;
  629:  set :findBestPosition:bestY 0                                bestY = dy;
  630:  set :findBestPosition:best :updateRowPositionsOdd.1:col1     best = value;
        label *label97                                               if value < LIMIT then
        label *label95                                               if value > best then
  631:  jump *label100 lessThanEq :updateRowPositionsOdd.1:col2 :fin ...
  632:  jump *label102 greaterThanEq :updateRowPositionsOdd.1:col2 0 if value < LIMIT then
  633:  set :findBestPosition:bestX 0                                bestX = dx;
  634:  set :findBestPosition:bestY 0                                bestY = dy;
  635:  set :findBestPosition:best :updateRowPositionsOdd.1:col2     best = value;
        label *label102                                              if value < LIMIT then
        label *label100                                              if value > best then
  636:  jump *label105 lessThanEq :updateRowPositionsOdd.1:col3 :fin ...
  637:  jump *label107 greaterThanEq :updateRowPositionsOdd.1:col3 0 if value < LIMIT then
  638:  set :findBestPosition:bestX 1                                bestX = dx;
  639:  set :findBestPosition:bestY 0                                bestY = dy;
  640:  set :findBestPosition:best :updateRowPositionsOdd.1:col3     best = value;
        label *label107                                              if value < LIMIT then
        label *label105                                              if value > best then
  641:  unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPosition unpackcolor(out col1, out col2, out col3, , rowSum);
  642:  jump *label111 lessThanEq :updateRowPositionsOdd.2:col1 :fin if value > best then
  643:  jump *label113 greaterThanEq :updateRowPositionsOdd.2:col1 0 if value < LIMIT then
  644:  set :findBestPosition:bestX -1                               bestX = dx;
  645:  set :findBestPosition:bestY 1                                bestY = dy;
  646:  set :findBestPosition:best :updateRowPositionsOdd.2:col1     best = value;
        label *label113                                              if value < LIMIT then
        label *label111                                              if value > best then
  647:  jump *label116 lessThanEq :updateRowPositionsOdd.2:col2 :fin ...
  648:  jump *label118 greaterThanEq :updateRowPositionsOdd.2:col2 0 if value < LIMIT then
  649:  set :findBestPosition:bestX 0                                bestX = dx;
  650:  set :findBestPosition:bestY 1                                bestY = dy;
  651:  set :findBestPosition:best :updateRowPositionsOdd.2:col2     best = value;
        label *label118                                              if value < LIMIT then
        label *label116                                              if value > best then
  652:  jump *label76 lessThanEq :updateRowPositionsOdd.2:col3 :find ...
  653:  jump *label76 greaterThanEq :updateRowPositionsOdd.2:col3 0. if value < LIMIT then
  654:  set :findBestPosition:bestX 1                                bestX = dx;
  655:  set :findBestPosition:bestY 1                                bestY = dy;
  656:  set :findBestPosition:best :updateRowPositionsOdd.2:col3     best = value;
  657:  jump *label76 always 0 0                                     if size == 3 then
        label *label75                                               ...
  658:  jump *label125 notEqual :findBestPosition:size 2             if size == 2 then
  659:  op add :findBestPosition:row1 *tmp6 *tmp55                   row1 = y1 + y2;         // drill at y - 1.5
  660:  op add :findBestPosition:row2 *tmp55 *tmp104                 row2 = y2 + y3;         // drill at y - 0.5
  661:  op add :findBestPosition:row3 *tmp104 *tmp153                row3 = y3 + y4;         // drill at y + 0.5
  662:  op add :findBestPosition:row4 *tmp153 *tmp202                row4 = y4 + y5;         // drill at y + 1.5
  663:  jump *label126 always 0 0                                    if size == 2 then
        label *label125                                              ...
  664:  op sub *tmp303 :findBestPosition:y 3                         var y0 = computeRowValues(x, y - 3, ore, size);
  665:  ucontrol getBlock :tileValue:x *tmp303 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  666:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  667:  sensor solid type @solid                                     ...
  668:  select :tileValue.35:result notEqual solid false 0.098039215 ...
  669:  ucontrol getBlock :tileValue.1:x *tmp303 type building floor ...
  670:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  671:  sensor solid type @solid                                     ...
  672:  select :tileValue.36:result notEqual solid false 0.098039215 ...
  673:  ucontrol getBlock :findBestPosition:x *tmp303 type building  ...
  674:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  675:  sensor solid type @solid                                     ...
  676:  select :tileValue.37:result notEqual solid false 0.098039215 ...
  677:  ucontrol getBlock :tileValue.3:x *tmp303 type building floor ...
  678:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  679:  sensor solid type @solid                                     ...
  680:  select :tileValue.38:result notEqual solid false 0.098039215 ...
  681:  ucontrol getBlock :tileValue.4:x *tmp303 type building floor ...
  682:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  683:  sensor solid type @solid                                     ...
  684:  select :tileValue.39:result notEqual solid false 0.098039215 ...
  685:  jump *label133 notEqual :findBestPosition:size 2             if size == 2 then
  686:  op add *tmp317 :tileValue.35:result :tileValue.36:result     x1 + x2,        // drill at x - 1.5
  687:  op add *tmp318 :tileValue.36:result :tileValue.37:result     x2 + x3,        // drill at x - 0.5
  688:  op add *tmp319 :tileValue.37:result :tileValue.38:result     x3 + x4,        // drill at x + 0.5
  689:  op add *tmp320 :tileValue.38:result :tileValue.39:result     x4 + x5         // drill at x + 1.5
  690:  packcolor *tmp304 *tmp317 *tmp318 *tmp319 *tmp320            return packcolor(
  691:  jump *label134 always 0 0                                    if size == 2 then
        label *label133                                              ...
  692:  jump *label135 notEqual :findBestPosition:size 3             elsif size == 3 then
  693:  op add *tmp324 :tileValue.36:result :tileValue.37:result     x1 + (x2 + x3),   // drill at x - 1
  694:  op add *tmp325 :tileValue.35:result *tmp324                  ...
  695:  op add *tmp327 *tmp324 :tileValue.38:result                  (x2 + x3) + x4,   // drill at x
  696:  op add *tmp328 :tileValue.37:result :tileValue.38:result     x3 + x4 + x5,   // drill at x + 1
  697:  op add *tmp329 *tmp328 :tileValue.39:result                  ...
  698:  packcolor *tmp304 *tmp325 *tmp327 *tmp329 0                  return packcolor(
  699:  jump *label136 always 0 0                                    elsif size == 3 then
        label *label135                                              ...
  700:  op sub :tileValue.40:x :findBestPosition:x 3                 var x0 = tileValue(x - 3, y, ore);
  701:  ucontrol getBlock :tileValue.40:x *tmp303 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  702:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  703:  sensor solid type @solid                                     ...
  704:  select :tileValue.40:result notEqual solid false 0.098039215 ...
  705:  op add :tileValue.41:x :findBestPosition:x 3                 var x6 = tileValue(x + 3, y, ore);
  706:  ucontrol getBlock :tileValue.41:x *tmp303 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  707:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  708:  sensor solid type @solid                                     ...
  709:  select :tileValue.41:result notEqual solid false 0.098039215 ...
  710:  op add *tmp335 :tileValue.35:result :tileValue.36:result     min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  711:  op add *tmp336 *tmp335 :tileValue.37:result                  ...
  712:  op add *tmp337 :tileValue.40:result *tmp336                  ...
  713:  op min *tmp338 0.09803921568627451 *tmp337                   ...
  714:  op add *tmp341 *tmp336 :tileValue.38:result                  min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  715:  op min *tmp342 0.09803921568627451 *tmp341                   ...
  716:  op add *tmp343 :tileValue.37:result :tileValue.38:result     min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  717:  op add *tmp344 *tmp343 :tileValue.39:result                  ...
  718:  op add *tmp345 :tileValue.36:result *tmp344                  ...
  719:  op min *tmp346 0.09803921568627451 *tmp345                   ...
  720:  op add *tmp349 *tmp344 :tileValue.41:result                  min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  721:  op min *tmp350 0.09803921568627451 *tmp349                   ...
  722:  packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350            return packcolor(
        label *label136                                              elsif size == 3 then
        label *label134                                              if size == 2 then
  723:  op add *tmp352 :findBestPosition:y 3                         var y6 = computeRowValues(x, y + 3, ore, size);
  724:  ucontrol getBlock :tileValue:x *tmp352 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  725:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  726:  sensor solid type @solid                                     ...
  727:  select :tileValue.42:result notEqual solid false 0.098039215 ...
  728:  ucontrol getBlock :tileValue.1:x *tmp352 type building floor ...
  729:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  730:  sensor solid type @solid                                     ...
  731:  select :tileValue.43:result notEqual solid false 0.098039215 ...
  732:  ucontrol getBlock :findBestPosition:x *tmp352 type building  ...
  733:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  734:  sensor solid type @solid                                     ...
  735:  select :tileValue.44:result notEqual solid false 0.098039215 ...
  736:  ucontrol getBlock :tileValue.3:x *tmp352 type building floor ...
  737:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  738:  sensor solid type @solid                                     ...
  739:  select :tileValue.45:result notEqual solid false 0.098039215 ...
  740:  ucontrol getBlock :tileValue.4:x *tmp352 type building floor ...
  741:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  742:  sensor solid type @solid                                     ...
  743:  select :tileValue.46:result notEqual solid false 0.098039215 ...
  744:  jump *label145 notEqual :findBestPosition:size 2             if size == 2 then
  745:  op add *tmp366 :tileValue.42:result :tileValue.43:result     x1 + x2,        // drill at x - 1.5
  746:  op add *tmp367 :tileValue.43:result :tileValue.44:result     x2 + x3,        // drill at x - 0.5
  747:  op add *tmp368 :tileValue.44:result :tileValue.45:result     x3 + x4,        // drill at x + 0.5
  748:  op add *tmp369 :tileValue.45:result :tileValue.46:result     x4 + x5         // drill at x + 1.5
  749:  packcolor *tmp353 *tmp366 *tmp367 *tmp368 *tmp369            return packcolor(
  750:  jump *label146 always 0 0                                    if size == 2 then
        label *label145                                              ...
  751:  jump *label147 notEqual :findBestPosition:size 3             elsif size == 3 then
  752:  op add *tmp373 :tileValue.43:result :tileValue.44:result     x1 + (x2 + x3),   // drill at x - 1
  753:  op add *tmp374 :tileValue.42:result *tmp373                  ...
  754:  op add *tmp376 *tmp373 :tileValue.45:result                  (x2 + x3) + x4,   // drill at x
  755:  op add *tmp377 :tileValue.44:result :tileValue.45:result     x3 + x4 + x5,   // drill at x + 1
  756:  op add *tmp378 *tmp377 :tileValue.46:result                  ...
  757:  packcolor *tmp353 *tmp374 *tmp376 *tmp378 0                  return packcolor(
  758:  jump *label148 always 0 0                                    elsif size == 3 then
        label *label147                                              ...
  759:  op sub :tileValue.47:x :findBestPosition:x 3                 var x0 = tileValue(x - 3, y, ore);
  760:  ucontrol getBlock :tileValue.47:x *tmp352 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  761:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  762:  sensor solid type @solid                                     ...
  763:  select :tileValue.47:result notEqual solid false 0.098039215 ...
  764:  op add :tileValue.48:x :findBestPosition:x 3                 var x6 = tileValue(x + 3, y, ore);
  765:  ucontrol getBlock :tileValue.48:x *tmp352 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  766:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  767:  sensor solid type @solid                                     ...
  768:  select :tileValue.48:result notEqual solid false 0.098039215 ...
  769:  op add *tmp384 :tileValue.42:result :tileValue.43:result     min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  770:  op add *tmp385 *tmp384 :tileValue.44:result                  ...
  771:  op add *tmp386 :tileValue.47:result *tmp385                  ...
  772:  op min *tmp387 0.09803921568627451 *tmp386                   ...
  773:  op add *tmp390 *tmp385 :tileValue.45:result                  min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  774:  op min *tmp391 0.09803921568627451 *tmp390                   ...
  775:  op add *tmp392 :tileValue.44:result :tileValue.45:result     min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  776:  op add *tmp393 *tmp392 :tileValue.46:result                  ...
  777:  op add *tmp394 :tileValue.43:result *tmp393                  ...
  778:  op min *tmp395 0.09803921568627451 *tmp394                   ...
  779:  op add *tmp398 *tmp393 :tileValue.48:result                  min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  780:  op min *tmp399 0.09803921568627451 *tmp398                   ...
  781:  packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399            return packcolor(
        label *label148                                              elsif size == 3 then
        label *label146                                              if size == 2 then
  782:  op add *tmp401 *tmp6 *tmp55                                  row1 = y0 + (y1 + y2 + y3);     // drill at y - 1.5
  783:  op add *tmp402 *tmp401 *tmp104                               ...
  784:  op add :findBestPosition:row1 *tmp304 *tmp402                ...
  785:  op add :findBestPosition:row2 *tmp402 *tmp153                row2 = (y1 + y2 + y3) + y4;     // drill at y - 0.5
  786:  op add *tmp407 *tmp104 *tmp153                               row3 = y2 + (y3 + y4 + y5);     // drill at y + 0.5
  787:  op add *tmp408 *tmp407 *tmp202                               ...
  788:  op add :findBestPosition:row3 *tmp55 *tmp408                 ...
  789:  op add :findBestPosition:row4 *tmp408 *tmp353                row4 = (y3 + y4 + y5) + y6;     // drill at y + 1.5
        label *label126                                              if size == 2 then
  790:  unpackcolor :updateRowPositionsEven:col1 :updateRowPositions unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  791:  jump *label153 lessThanEq :updateRowPositionsEven:col1 0     if value > best then
  792:  jump *label155 greaterThanEq :updateRowPositionsEven:col1 0. if value < LIMIT then
  793:  set :findBestPosition:bestX -1.5                             bestX = dx;
  794:  set :findBestPosition:bestY -1.5                             bestY = dy;
  795:  set :findBestPosition:best :updateRowPositionsEven:col1      best = value;
        label *label155                                              if value < LIMIT then
        label *label153                                              if value > best then
  796:  jump *label158 lessThanEq :updateRowPositionsEven:col2 :find ...
  797:  jump *label160 greaterThanEq :updateRowPositionsEven:col2 0. if value < LIMIT then
  798:  set :findBestPosition:bestX -0.5                             bestX = dx;
  799:  set :findBestPosition:bestY -1.5                             bestY = dy;
  800:  set :findBestPosition:best :updateRowPositionsEven:col2      best = value;
        label *label160                                              if value < LIMIT then
        label *label158                                              if value > best then
  801:  jump *label163 lessThanEq :updateRowPositionsEven:col3 :find ...
  802:  jump *label165 greaterThanEq :updateRowPositionsEven:col3 0. if value < LIMIT then
  803:  set :findBestPosition:bestX 0.5                              bestX = dx;
  804:  set :findBestPosition:bestY -1.5                             bestY = dy;
  805:  set :findBestPosition:best :updateRowPositionsEven:col3      best = value;
        label *label165                                              if value < LIMIT then
        label *label163                                              if value > best then
  806:  jump *label168 lessThanEq :updateRowPositionsEven:col4 :find ...
  807:  jump *label170 greaterThanEq :updateRowPositionsEven:col4 0. if value < LIMIT then
  808:  set :findBestPosition:bestX 1.5                              bestX = dx;
  809:  set :findBestPosition:bestY -1.5                             bestY = dy;
  810:  set :findBestPosition:best :updateRowPositionsEven:col4      best = value;
        label *label170                                              if value < LIMIT then
        label *label168                                              if value > best then
  811:  unpackcolor :updateRowPositionsEven.1:col1 :updateRowPositio unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  812:  jump *label174 lessThanEq :updateRowPositionsEven.1:col1 :fi if value > best then
  813:  jump *label176 greaterThanEq :updateRowPositionsEven.1:col1  if value < LIMIT then
  814:  set :findBestPosition:bestX -1.5                             bestX = dx;
  815:  set :findBestPosition:bestY -0.5                             bestY = dy;
  816:  set :findBestPosition:best :updateRowPositionsEven.1:col1    best = value;
        label *label176                                              if value < LIMIT then
        label *label174                                              if value > best then
  817:  jump *label179 lessThanEq :updateRowPositionsEven.1:col2 :fi ...
  818:  jump *label181 greaterThanEq :updateRowPositionsEven.1:col2  if value < LIMIT then
  819:  set :findBestPosition:bestX -0.5                             bestX = dx;
  820:  set :findBestPosition:bestY -0.5                             bestY = dy;
  821:  set :findBestPosition:best :updateRowPositionsEven.1:col2    best = value;
        label *label181                                              if value < LIMIT then
        label *label179                                              if value > best then
  822:  jump *label184 lessThanEq :updateRowPositionsEven.1:col3 :fi ...
  823:  jump *label186 greaterThanEq :updateRowPositionsEven.1:col3  if value < LIMIT then
  824:  set :findBestPosition:bestX 0.5                              bestX = dx;
  825:  set :findBestPosition:bestY -0.5                             bestY = dy;
  826:  set :findBestPosition:best :updateRowPositionsEven.1:col3    best = value;
        label *label186                                              if value < LIMIT then
        label *label184                                              if value > best then
  827:  jump *label189 lessThanEq :updateRowPositionsEven.1:col4 :fi ...
  828:  jump *label191 greaterThanEq :updateRowPositionsEven.1:col4  if value < LIMIT then
  829:  set :findBestPosition:bestX 1.5                              bestX = dx;
  830:  set :findBestPosition:bestY -0.5                             bestY = dy;
  831:  set :findBestPosition:best :updateRowPositionsEven.1:col4    best = value;
        label *label191                                              if value < LIMIT then
        label *label189                                              if value > best then
  832:  unpackcolor :updateRowPositionsEven.2:col1 :updateRowPositio unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  833:  jump *label195 lessThanEq :updateRowPositionsEven.2:col1 :fi if value > best then
  834:  jump *label197 greaterThanEq :updateRowPositionsEven.2:col1  if value < LIMIT then
  835:  set :findBestPosition:bestX -1.5                             bestX = dx;
  836:  set :findBestPosition:bestY 0.5                              bestY = dy;
  837:  set :findBestPosition:best :updateRowPositionsEven.2:col1    best = value;
        label *label197                                              if value < LIMIT then
        label *label195                                              if value > best then
  838:  jump *label200 lessThanEq :updateRowPositionsEven.2:col2 :fi ...
  839:  jump *label202 greaterThanEq :updateRowPositionsEven.2:col2  if value < LIMIT then
  840:  set :findBestPosition:bestX -0.5                             bestX = dx;
  841:  set :findBestPosition:bestY 0.5                              bestY = dy;
  842:  set :findBestPosition:best :updateRowPositionsEven.2:col2    best = value;
        label *label202                                              if value < LIMIT then
        label *label200                                              if value > best then
  843:  jump *label205 lessThanEq :updateRowPositionsEven.2:col3 :fi ...
  844:  jump *label207 greaterThanEq :updateRowPositionsEven.2:col3  if value < LIMIT then
  845:  set :findBestPosition:bestX 0.5                              bestX = dx;
  846:  set :findBestPosition:bestY 0.5                              bestY = dy;
  847:  set :findBestPosition:best :updateRowPositionsEven.2:col3    best = value;
        label *label207                                              if value < LIMIT then
        label *label205                                              if value > best then
  848:  jump *label210 lessThanEq :updateRowPositionsEven.2:col4 :fi ...
  849:  jump *label212 greaterThanEq :updateRowPositionsEven.2:col4  if value < LIMIT then
  850:  set :findBestPosition:bestX 1.5                              bestX = dx;
  851:  set :findBestPosition:bestY 0.5                              bestY = dy;
  852:  set :findBestPosition:best :updateRowPositionsEven.2:col4    best = value;
        label *label212                                              if value < LIMIT then
        label *label210                                              if value > best then
  853:  unpackcolor :updateRowPositionsEven.3:col1 :updateRowPositio unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  854:  jump *label216 lessThanEq :updateRowPositionsEven.3:col1 :fi if value > best then
  855:  jump *label218 greaterThanEq :updateRowPositionsEven.3:col1  if value < LIMIT then
  856:  set :findBestPosition:bestX -1.5                             bestX = dx;
  857:  set :findBestPosition:bestY 1.5                              bestY = dy;
  858:  set :findBestPosition:best :updateRowPositionsEven.3:col1    best = value;
        label *label218                                              if value < LIMIT then
        label *label216                                              if value > best then
  859:  jump *label221 lessThanEq :updateRowPositionsEven.3:col2 :fi ...
  860:  jump *label223 greaterThanEq :updateRowPositionsEven.3:col2  if value < LIMIT then
  861:  set :findBestPosition:bestX -0.5                             bestX = dx;
  862:  set :findBestPosition:bestY 1.5                              bestY = dy;
  863:  set :findBestPosition:best :updateRowPositionsEven.3:col2    best = value;
        label *label223                                              if value < LIMIT then
        label *label221                                              if value > best then
  864:  jump *label226 lessThanEq :updateRowPositionsEven.3:col3 :fi ...
  865:  jump *label228 greaterThanEq :updateRowPositionsEven.3:col3  if value < LIMIT then
  866:  set :findBestPosition:bestX 0.5                              bestX = dx;
  867:  set :findBestPosition:bestY 1.5                              bestY = dy;
  868:  set :findBestPosition:best :updateRowPositionsEven.3:col3    best = value;
        label *label228                                              if value < LIMIT then
        label *label226                                              if value > best then
  869:  jump *label231 lessThanEq :updateRowPositionsEven.3:col4 :fi ...
  870:  jump *label233 greaterThanEq :updateRowPositionsEven.3:col4  if value < LIMIT then
  871:  set :findBestPosition:bestX 1.5                              bestX = dx;
  872:  set :findBestPosition:bestY 1.5                              bestY = dy;
  873:  set :findBestPosition:best :updateRowPositionsEven.3:col4    best = value;
        label *label233                                              if value < LIMIT then
        label *label231                                              if value > best then
        label *label76                                               if size == 3 then
  874:  op mul :findBestPosition*retval :findBestPosition:best 255   return best * 255;
  875:  set :findBestPosition*finished true                          export def findBestPosition(unit, x, y, ore, size, out bestX, out bestY)
  876:  jump *label5 always 0 0                                      ...


Code size and number of instantiations by function:
  Size  Times  AvgSize  Function
   214     7x     30,6  inline def computeRowValues(in x, in y, in ore, in size)
   196    49x      4,0  inline def tileValue(in x, in y, in ore)
   147    49x      3,0  def isSolid(in x, in y)
   147     1x    147,0  export def createTerrainMask(in unit, in x, in y)
   125    25x      5,0  inline void updatePosition(in dx, in dy, in value, bestX, bestY, best)
    35     1x     35,0  export def findBestPosition(in unit, in x, in y, in ore, in size, out bestX, out bestY)
     7     1x      7,0  <no function>
     4     4x      1,0  inline void updateRowPositionsEven(in dy, in rowSum, bestX, bestY, best)
     3     3x      1,0  inline void updateRowPositionsOdd(in dy, in rowSum, bestX, bestY, best)
