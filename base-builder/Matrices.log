  1363 instructions before optimizations.
    83 instructions eliminated by Temp Variables Elimination (2 passes, 6 iterations).
   104 instructions eliminated by Dead Code Elimination (5 iterations).
    66 instructions eliminated by Condition Optimization (6 iterations).
    73 instructions eliminated by Single Step Elimination (2 passes, 7 iterations).
    17 instructions modified by Expression Optimization (2 passes, 3 iterations).
   460 instructions eliminated by Data Flow Optimization (4 passes, 15 iterations).
     1 loops improved by Loop Hoisting.
     2 instructions eliminated by Loop Rotation (3 iterations).
       2 loop conditions were fully rotated.
   304 instructions added by Loop Unrolling (5 iterations).
     2 loops unrolled by Loop Unrolling.
     2 instructions updated by Jump Threading.
     3 instructions eliminated by Unreachable Code Elimination (2 iterations).
   876 instructions after optimizations.

Pass 1: speed optimization selection (cost limit 374):
    Unroll loop at line 27:5                                     size   +57, benefit      350.0, efficiency      6.140
  * Unroll loop at line 28:9                                     size   +32, benefit     8750.0, efficiency    273.438 (+33 instructions)

Pass 1: speed optimization selection (cost limit 341):
  * Unroll loop at line 27:5                                     size  +255, benefit      350.0, efficiency      1.373 (+253 instructions)

Modifications by Initial phase, Dead Code Elimination, iteration 1 (-54 instructions):
 
   746 label *label81
   747 set *tmp262 null
   748 label *label82
-    * set *tmp260 *tmp262
   749 jump *label80 always
   750 label *label79
-    * set *tmp260 null
   751 label *label80
   752 label *label78
   753 set :updatePosition.1:dx 0
 
   765 label *label86
   766 set *tmp266 null
   767 label *label87
-    * set *tmp264 *tmp266
   768 jump *label85 always
   769 label *label84
-    * set *tmp264 null
   770 label *label85
   771 label *label83
   772 set :updatePosition.2:dx 1
 
   784 label *label91
   785 set *tmp270 null
   786 label *label92
-    * set *tmp268 *tmp270
   787 jump *label90 always
   788 label *label89
-    * set *tmp268 null
   789 label *label90
   790 label *label88
   791 label *label77
 
   807 label *label97
   808 set *tmp275 null
   809 label *label98
-    * set *tmp273 *tmp275
   810 jump *label96 always
   811 label *label95
-    * set *tmp273 null
   812 label *label96
   813 label *label94
   814 set :updatePosition.4:dx 0
 
   826 label *label102
   827 set *tmp279 null
   828 label *label103
-    * set *tmp277 *tmp279
   829 jump *label101 always
   830 label *label100
-    * set *tmp277 null
   831 label *label101
   832 label *label99
   833 set :updatePosition.5:dx 1
 
   845 label *label107
   846 set *tmp283 null
   847 label *label108
-    * set *tmp281 *tmp283
   848 jump *label106 always
   849 label *label105
-    * set *tmp281 null
   850 label *label106
   851 label *label104
   852 label *label93
 
   868 label *label113
   869 set *tmp288 null
   870 label *label114
-    * set *tmp286 *tmp288
   871 jump *label112 always
   872 label *label111
-    * set *tmp286 null
   873 label *label112
   874 label *label110
   875 set :updatePosition.7:dx 0
 
   887 label *label118
   888 set *tmp292 null
   889 label *label119
-    * set *tmp290 *tmp292
   890 jump *label117 always
   891 label *label116
-    * set *tmp290 null
   892 label *label117
   893 label *label115
   894 set :updatePosition.8:dx 1
 
   906 label *label123
   907 set *tmp296 null
   908 label *label124
-    * set *tmp294 *tmp296
   909 jump *label122 always
   910 label *label121
-    * set *tmp294 null
   911 label *label122
   912 label *label120
   913 label *label109
-    * set *tmp251 null
   914 jump *label76 always
   915 label *label75
   916 op equal *tmp297 :findBestPosition:size 2
 
   923 set :findBestPosition:row3 *tmp301
   924 op add *tmp302 :findBestPosition:y4 :findBestPosition:y5
   925 set :findBestPosition:row4 *tmp302
-    * set *tmp298 :findBestPosition:row4
   926 jump *label126 always
   927 label *label125
   928 op sub *tmp303 :findBestPosition:y 3
 
  1209 op add *tmp411 *tmp410 :findBestPosition:y5
  1210 op add *tmp412 *tmp411 :findBestPosition:y6
  1211 set :findBestPosition:row4 *tmp412
-    * set *tmp298 :findBestPosition:row4
  1212 label *label126
  1213 set :updateRowPositionsEven:dy -1.5
  1214 set :updateRowPositionsEven:rowSum :findBestPosition:row1
 
  1228 label *label155
  1229 set *tmp416 null
  1230 label *label156
-    * set *tmp414 *tmp416
  1231 jump *label154 always
  1232 label *label153
-    * set *tmp414 null
  1233 label *label154
  1234 label *label152
  1235 set :updatePosition.10:dx -0.5
 
  1247 label *label160
  1248 set *tmp420 null
  1249 label *label161
-    * set *tmp418 *tmp420
  1250 jump *label159 always
  1251 label *label158
-    * set *tmp418 null
  1252 label *label159
  1253 label *label157
  1254 set :updatePosition.11:dx 0.5
 
  1266 label *label165
  1267 set *tmp424 null
  1268 label *label166
-    * set *tmp422 *tmp424
  1269 jump *label164 always
  1270 label *label163
-    * set *tmp422 null
  1271 label *label164
  1272 label *label162
  1273 set :updatePosition.12:dx 1.5
 
  1285 label *label170
  1286 set *tmp428 null
  1287 label *label171
-    * set *tmp426 *tmp428
  1288 jump *label169 always
  1289 label *label168
-    * set *tmp426 null
  1290 label *label169
  1291 label *label167
  1292 label *label151
 
  1308 label *label176
  1309 set *tmp432 null
  1310 label *label177
-    * set *tmp430 *tmp432
  1311 jump *label175 always
  1312 label *label174
-    * set *tmp430 null
  1313 label *label175
  1314 label *label173
  1315 set :updatePosition.14:dx -0.5
 
  1327 label *label181
  1328 set *tmp436 null
  1329 label *label182
-    * set *tmp434 *tmp436
  1330 jump *label180 always
  1331 label *label179
-    * set *tmp434 null
  1332 label *label180
  1333 label *label178
  1334 set :updatePosition.15:dx 0.5
 
  1346 label *label186
  1347 set *tmp440 null
  1348 label *label187
-    * set *tmp438 *tmp440
  1349 jump *label185 always
  1350 label *label184
-    * set *tmp438 null
  1351 label *label185
  1352 label *label183
  1353 set :updatePosition.16:dx 1.5
 
  1365 label *label191
  1366 set *tmp444 null
  1367 label *label192
-    * set *tmp442 *tmp444
  1368 jump *label190 always
  1369 label *label189
-    * set *tmp442 null
  1370 label *label190
  1371 label *label188
  1372 label *label172
 
  1388 label *label197
  1389 set *tmp448 null
  1390 label *label198
-    * set *tmp446 *tmp448
  1391 jump *label196 always
  1392 label *label195
-    * set *tmp446 null
  1393 label *label196
  1394 label *label194
  1395 set :updatePosition.18:dx -0.5
 
  1407 label *label202
  1408 set *tmp452 null
  1409 label *label203
-    * set *tmp450 *tmp452
  1410 jump *label201 always
  1411 label *label200
-    * set *tmp450 null
  1412 label *label201
  1413 label *label199
  1414 set :updatePosition.19:dx 0.5
 
  1426 label *label207
  1427 set *tmp456 null
  1428 label *label208
-    * set *tmp454 *tmp456
  1429 jump *label206 always
  1430 label *label205
-    * set *tmp454 null
  1431 label *label206
  1432 label *label204
  1433 set :updatePosition.20:dx 1.5
 
  1445 label *label212
  1446 set *tmp460 null
  1447 label *label213
-    * set *tmp458 *tmp460
  1448 jump *label211 always
  1449 label *label210
-    * set *tmp458 null
  1450 label *label211
  1451 label *label209
  1452 label *label193
 
  1468 label *label218
  1469 set *tmp464 null
  1470 label *label219
-    * set *tmp462 *tmp464
  1471 jump *label217 always
  1472 label *label216
-    * set *tmp462 null
  1473 label *label217
  1474 label *label215
  1475 set :updatePosition.22:dx -0.5
 
  1487 label *label223
  1488 set *tmp468 null
  1489 label *label224
-    * set *tmp466 *tmp468
  1490 jump *label222 always
  1491 label *label221
-    * set *tmp466 null
  1492 label *label222
  1493 label *label220
  1494 set :updatePosition.23:dx 0.5
 
  1506 label *label228
  1507 set *tmp472 null
  1508 label *label229
-    * set *tmp470 *tmp472
  1509 jump *label227 always
  1510 label *label226
-    * set *tmp470 null
  1511 label *label227
  1512 label *label225
  1513 set :updatePosition.24:dx 1.5
 
  1525 label *label233
  1526 set *tmp476 null
  1527 label *label234
-    * set *tmp474 *tmp476
  1528 jump *label232 always
  1529 label *label231
-    * set *tmp474 null
  1530 label *label232
  1531 label *label230
  1532 label *label214
-    * set *tmp251 null
  1533 label *label76
  1534 op mul *tmp477 :findBestPosition:best 255
  1535 set :findBestPosition*retval *tmp477

Modifications by Initial phase, Dead Code Elimination, iteration 2 (-50 instructions):
 
   741 set :findBestPosition:bestX :updatePosition:dx
   742 set :findBestPosition:bestY :updatePosition:dy
   743 set :findBestPosition:best :updatePosition:value
-    * set *tmp262 :findBestPosition:best
   744 jump *label82 always
   745 label *label81
-    * set *tmp262 null
   746 label *label82
   747 jump *label80 always
   748 label *label79
 
   758 set :findBestPosition:bestX :updatePosition.1:dx
   759 set :findBestPosition:bestY :updatePosition.1:dy
   760 set :findBestPosition:best :updatePosition.1:value
-    * set *tmp266 :findBestPosition:best
   761 jump *label87 always
   762 label *label86
-    * set *tmp266 null
   763 label *label87
   764 jump *label85 always
   765 label *label84
 
   775 set :findBestPosition:bestX :updatePosition.2:dx
   776 set :findBestPosition:bestY :updatePosition.2:dy
   777 set :findBestPosition:best :updatePosition.2:value
-    * set *tmp270 :findBestPosition:best
   778 jump *label92 always
   779 label *label91
-    * set *tmp270 null
   780 label *label92
   781 jump *label90 always
   782 label *label89
 
   796 set :findBestPosition:bestX :updatePosition.3:dx
   797 set :findBestPosition:bestY :updatePosition.3:dy
   798 set :findBestPosition:best :updatePosition.3:value
-    * set *tmp275 :findBestPosition:best
   799 jump *label98 always
   800 label *label97
-    * set *tmp275 null
   801 label *label98
   802 jump *label96 always
   803 label *label95
 
   813 set :findBestPosition:bestX :updatePosition.4:dx
   814 set :findBestPosition:bestY :updatePosition.4:dy
   815 set :findBestPosition:best :updatePosition.4:value
-    * set *tmp279 :findBestPosition:best
   816 jump *label103 always
   817 label *label102
-    * set *tmp279 null
   818 label *label103
   819 jump *label101 always
   820 label *label100
 
   830 set :findBestPosition:bestX :updatePosition.5:dx
   831 set :findBestPosition:bestY :updatePosition.5:dy
   832 set :findBestPosition:best :updatePosition.5:value
-    * set *tmp283 :findBestPosition:best
   833 jump *label108 always
   834 label *label107
-    * set *tmp283 null
   835 label *label108
   836 jump *label106 always
   837 label *label105
 
   851 set :findBestPosition:bestX :updatePosition.6:dx
   852 set :findBestPosition:bestY :updatePosition.6:dy
   853 set :findBestPosition:best :updatePosition.6:value
-    * set *tmp288 :findBestPosition:best
   854 jump *label114 always
   855 label *label113
-    * set *tmp288 null
   856 label *label114
   857 jump *label112 always
   858 label *label111
 
   868 set :findBestPosition:bestX :updatePosition.7:dx
   869 set :findBestPosition:bestY :updatePosition.7:dy
   870 set :findBestPosition:best :updatePosition.7:value
-    * set *tmp292 :findBestPosition:best
   871 jump *label119 always
   872 label *label118
-    * set *tmp292 null
   873 label *label119
   874 jump *label117 always
   875 label *label116
 
   885 set :findBestPosition:bestX :updatePosition.8:dx
   886 set :findBestPosition:bestY :updatePosition.8:dy
   887 set :findBestPosition:best :updatePosition.8:value
-    * set *tmp296 :findBestPosition:best
   888 jump *label124 always
   889 label *label123
-    * set *tmp296 null
   890 label *label124
   891 jump *label122 always
   892 label *label121
 
  1205 set :findBestPosition:bestX :updatePosition.9:dx
  1206 set :findBestPosition:bestY :updatePosition.9:dy
  1207 set :findBestPosition:best :updatePosition.9:value
-    * set *tmp416 :findBestPosition:best
  1208 jump *label156 always
  1209 label *label155
-    * set *tmp416 null
  1210 label *label156
  1211 jump *label154 always
  1212 label *label153
 
  1222 set :findBestPosition:bestX :updatePosition.10:dx
  1223 set :findBestPosition:bestY :updatePosition.10:dy
  1224 set :findBestPosition:best :updatePosition.10:value
-    * set *tmp420 :findBestPosition:best
  1225 jump *label161 always
  1226 label *label160
-    * set *tmp420 null
  1227 label *label161
  1228 jump *label159 always
  1229 label *label158
 
  1239 set :findBestPosition:bestX :updatePosition.11:dx
  1240 set :findBestPosition:bestY :updatePosition.11:dy
  1241 set :findBestPosition:best :updatePosition.11:value
-    * set *tmp424 :findBestPosition:best
  1242 jump *label166 always
  1243 label *label165
-    * set *tmp424 null
  1244 label *label166
  1245 jump *label164 always
  1246 label *label163
 
  1256 set :findBestPosition:bestX :updatePosition.12:dx
  1257 set :findBestPosition:bestY :updatePosition.12:dy
  1258 set :findBestPosition:best :updatePosition.12:value
-    * set *tmp428 :findBestPosition:best
  1259 jump *label171 always
  1260 label *label170
-    * set *tmp428 null
  1261 label *label171
  1262 jump *label169 always
  1263 label *label168
 
  1277 set :findBestPosition:bestX :updatePosition.13:dx
  1278 set :findBestPosition:bestY :updatePosition.13:dy
  1279 set :findBestPosition:best :updatePosition.13:value
-    * set *tmp432 :findBestPosition:best
  1280 jump *label177 always
  1281 label *label176
-    * set *tmp432 null
  1282 label *label177
  1283 jump *label175 always
  1284 label *label174
 
  1294 set :findBestPosition:bestX :updatePosition.14:dx
  1295 set :findBestPosition:bestY :updatePosition.14:dy
  1296 set :findBestPosition:best :updatePosition.14:value
-    * set *tmp436 :findBestPosition:best
  1297 jump *label182 always
  1298 label *label181
-    * set *tmp436 null
  1299 label *label182
  1300 jump *label180 always
  1301 label *label179
 
  1311 set :findBestPosition:bestX :updatePosition.15:dx
  1312 set :findBestPosition:bestY :updatePosition.15:dy
  1313 set :findBestPosition:best :updatePosition.15:value
-    * set *tmp440 :findBestPosition:best
  1314 jump *label187 always
  1315 label *label186
-    * set *tmp440 null
  1316 label *label187
  1317 jump *label185 always
  1318 label *label184
 
  1328 set :findBestPosition:bestX :updatePosition.16:dx
  1329 set :findBestPosition:bestY :updatePosition.16:dy
  1330 set :findBestPosition:best :updatePosition.16:value
-    * set *tmp444 :findBestPosition:best
  1331 jump *label192 always
  1332 label *label191
-    * set *tmp444 null
  1333 label *label192
  1334 jump *label190 always
  1335 label *label189
 
  1349 set :findBestPosition:bestX :updatePosition.17:dx
  1350 set :findBestPosition:bestY :updatePosition.17:dy
  1351 set :findBestPosition:best :updatePosition.17:value
-    * set *tmp448 :findBestPosition:best
  1352 jump *label198 always
  1353 label *label197
-    * set *tmp448 null
  1354 label *label198
  1355 jump *label196 always
  1356 label *label195
 
  1366 set :findBestPosition:bestX :updatePosition.18:dx
  1367 set :findBestPosition:bestY :updatePosition.18:dy
  1368 set :findBestPosition:best :updatePosition.18:value
-    * set *tmp452 :findBestPosition:best
  1369 jump *label203 always
  1370 label *label202
-    * set *tmp452 null
  1371 label *label203
  1372 jump *label201 always
  1373 label *label200
 
  1383 set :findBestPosition:bestX :updatePosition.19:dx
  1384 set :findBestPosition:bestY :updatePosition.19:dy
  1385 set :findBestPosition:best :updatePosition.19:value
-    * set *tmp456 :findBestPosition:best
  1386 jump *label208 always
  1387 label *label207
-    * set *tmp456 null
  1388 label *label208
  1389 jump *label206 always
  1390 label *label205
 
  1400 set :findBestPosition:bestX :updatePosition.20:dx
  1401 set :findBestPosition:bestY :updatePosition.20:dy
  1402 set :findBestPosition:best :updatePosition.20:value
-    * set *tmp460 :findBestPosition:best
  1403 jump *label213 always
  1404 label *label212
-    * set *tmp460 null
  1405 label *label213
  1406 jump *label211 always
  1407 label *label210
 
  1421 set :findBestPosition:bestX :updatePosition.21:dx
  1422 set :findBestPosition:bestY :updatePosition.21:dy
  1423 set :findBestPosition:best :updatePosition.21:value
-    * set *tmp464 :findBestPosition:best
  1424 jump *label219 always
  1425 label *label218
-    * set *tmp464 null
  1426 label *label219
  1427 jump *label217 always
  1428 label *label216
 
  1438 set :findBestPosition:bestX :updatePosition.22:dx
  1439 set :findBestPosition:bestY :updatePosition.22:dy
  1440 set :findBestPosition:best :updatePosition.22:value
-    * set *tmp468 :findBestPosition:best
  1441 jump *label224 always
  1442 label *label223
-    * set *tmp468 null
  1443 label *label224
  1444 jump *label222 always
  1445 label *label221
 
  1455 set :findBestPosition:bestX :updatePosition.23:dx
  1456 set :findBestPosition:bestY :updatePosition.23:dy
  1457 set :findBestPosition:best :updatePosition.23:value
-    * set *tmp472 :findBestPosition:best
  1458 jump *label229 always
  1459 label *label228
-    * set *tmp472 null
  1460 label *label229
  1461 jump *label227 always
  1462 label *label226
 
  1472 set :findBestPosition:bestX :updatePosition.24:dx
  1473 set :findBestPosition:bestY :updatePosition.24:dy
  1474 set :findBestPosition:best :updatePosition.24:value
-    * set *tmp476 :findBestPosition:best
  1475 jump *label234 always
  1476 label *label233
-    * set *tmp476 null
  1477 label *label234
  1478 jump *label232 always
  1479 label *label231

Modifications by Initial phase, Temp Variables Elimination, iteration 1 (-83 instructions):
 
    25 select :isSolid:result notEqual solid false 1 0
    26 set *tmp3 :isSolid:result
    27 label *label13
-    * op or *tmp4 *tmp0 *tmp3
-    * set :createTerrainMask:result *tmp4
+   28 op or :createTerrainMask:result *tmp0 *tmp3
    29 label *label11
    30 op sub :createTerrainMask:c :createTerrainMask:c 1
    31 jump *label10 always
 
    48 set :computeRowValues:y *tmp5
    49 set :computeRowValues:ore :findBestPosition:ore
    50 set :computeRowValues:size :findBestPosition:size
-    * op sub *tmp7 :computeRowValues:x 2
-    * set :tileValue:x *tmp7
+   51 op sub :tileValue:x :computeRowValues:x 2
    52 set :tileValue:y :computeRowValues:y
    53 set :tileValue:ore :computeRowValues:ore
    54 ucontrol getBlock :tileValue:x :tileValue:y type building floor
 
    58 set *tmp8 :tileValue:result
    59 label *label16
    60 set :computeRowValues:x1 *tmp8
-    * op sub *tmp9 :computeRowValues:x 1
-    * set :tileValue.1:x *tmp9
+   61 op sub :tileValue.1:x :computeRowValues:x 1
    62 set :tileValue.1:y :computeRowValues:y
    63 set :tileValue.1:ore :computeRowValues:ore
    64 ucontrol getBlock :tileValue.1:x :tileValue.1:y type building floor
 
    68 set *tmp10 :tileValue.1:result
    69 label *label17
    70 set :computeRowValues:x2 *tmp10
-    * op add *tmp11 :computeRowValues:x 0
-    * set :tileValue.2:x *tmp11
+   71 op add :tileValue.2:x :computeRowValues:x 0
    72 set :tileValue.2:y :computeRowValues:y
    73 set :tileValue.2:ore :computeRowValues:ore
    74 ucontrol getBlock :tileValue.2:x :tileValue.2:y type building floor
 
    78 set *tmp12 :tileValue.2:result
    79 label *label18
    80 set :computeRowValues:x3 *tmp12
-    * op add *tmp13 :computeRowValues:x 1
-    * set :tileValue.3:x *tmp13
+   81 op add :tileValue.3:x :computeRowValues:x 1
    82 set :tileValue.3:y :computeRowValues:y
    83 set :tileValue.3:ore :computeRowValues:ore
    84 ucontrol getBlock :tileValue.3:x :tileValue.3:y type building floor
 
    88 set *tmp14 :tileValue.3:result
    89 label *label19
    90 set :computeRowValues:x4 *tmp14
-    * op add *tmp15 :computeRowValues:x 2
-    * set :tileValue.4:x *tmp15
+   91 op add :tileValue.4:x :computeRowValues:x 2
    92 set :tileValue.4:y :computeRowValues:y
    93 set :tileValue.4:ore :computeRowValues:ore
    94 ucontrol getBlock :tileValue.4:x :tileValue.4:y type building floor
 
   104 op add *tmp20 :computeRowValues:x2 :computeRowValues:x3
   105 op add *tmp21 :computeRowValues:x3 :computeRowValues:x4
   106 op add *tmp22 :computeRowValues:x4 :computeRowValues:x5
-    * packcolor *tmp23 *tmp19 *tmp20 *tmp21 *tmp22
-    * set *tmp6 *tmp23
+  107 packcolor *tmp6 *tmp19 *tmp20 *tmp21 *tmp22
   108 jump *label15 always
   109 set *tmp18 null
   110 jump *label22 always
 
   117 op add *tmp29 *tmp28 :computeRowValues:x4
   118 op add *tmp30 :computeRowValues:x3 :computeRowValues:x4
   119 op add *tmp31 *tmp30 :computeRowValues:x5
-    * packcolor *tmp32 *tmp27 *tmp29 *tmp31 0
-    * set *tmp6 *tmp32
+  120 packcolor *tmp6 *tmp27 *tmp29 *tmp31 0
   121 jump *label15 always
   122 set *tmp25 null
   123 jump *label24 always
   124 label *label23
-    * op sub *tmp33 :computeRowValues:x 3
-    * set :tileValue.5:x *tmp33
+  125 op sub :tileValue.5:x :computeRowValues:x 3
   126 set :tileValue.5:y :computeRowValues:y
   127 set :tileValue.5:ore :computeRowValues:ore
   128 ucontrol getBlock :tileValue.5:x :tileValue.5:y type building floor
 
   132 set *tmp34 :tileValue.5:result
   133 label *label25
   134 set :computeRowValues:x0 *tmp34
-    * op add *tmp35 :computeRowValues:x 3
-    * set :tileValue.6:x *tmp35
+  135 op add :tileValue.6:x :computeRowValues:x 3
   136 set :tileValue.6:y :computeRowValues:y
   137 set :tileValue.6:ore :computeRowValues:ore
   138 ucontrol getBlock :tileValue.6:x :tileValue.6:y type building floor
 
   158 op add *tmp50 *tmp49 :computeRowValues:x5
   159 op add *tmp51 *tmp50 :computeRowValues:x6
   160 op min *tmp52 0.09803921568627451 *tmp51
-    * packcolor *tmp53 *tmp40 *tmp44 *tmp48 *tmp52
-    * set *tmp6 *tmp53
+  161 packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52
   162 jump *label15 always
   163 set *tmp25 null
   164 label *label24
 
   172 set :computeRowValues.1:y *tmp54
   173 set :computeRowValues.1:ore :findBestPosition:ore
   174 set :computeRowValues.1:size :findBestPosition:size
-    * op sub *tmp56 :computeRowValues.1:x 2
-    * set :tileValue.7:x *tmp56
+  175 op sub :tileValue.7:x :computeRowValues.1:x 2
   176 set :tileValue.7:y :computeRowValues.1:y
   177 set :tileValue.7:ore :computeRowValues.1:ore
   178 ucontrol getBlock :tileValue.7:x :tileValue.7:y type building floor
 
   182 set *tmp57 :tileValue.7:result
   183 label *label28
   184 set :computeRowValues.1:x1 *tmp57
-    * op sub *tmp58 :computeRowValues.1:x 1
-    * set :tileValue.8:x *tmp58
+  185 op sub :tileValue.8:x :computeRowValues.1:x 1
   186 set :tileValue.8:y :computeRowValues.1:y
   187 set :tileValue.8:ore :computeRowValues.1:ore
   188 ucontrol getBlock :tileValue.8:x :tileValue.8:y type building floor
 
   192 set *tmp59 :tileValue.8:result
   193 label *label29
   194 set :computeRowValues.1:x2 *tmp59
-    * op add *tmp60 :computeRowValues.1:x 0
-    * set :tileValue.9:x *tmp60
+  195 op add :tileValue.9:x :computeRowValues.1:x 0
   196 set :tileValue.9:y :computeRowValues.1:y
   197 set :tileValue.9:ore :computeRowValues.1:ore
   198 ucontrol getBlock :tileValue.9:x :tileValue.9:y type building floor
 
   202 set *tmp61 :tileValue.9:result
   203 label *label30
   204 set :computeRowValues.1:x3 *tmp61
-    * op add *tmp62 :computeRowValues.1:x 1
-    * set :tileValue.10:x *tmp62
+  205 op add :tileValue.10:x :computeRowValues.1:x 1
   206 set :tileValue.10:y :computeRowValues.1:y
   207 set :tileValue.10:ore :computeRowValues.1:ore
   208 ucontrol getBlock :tileValue.10:x :tileValue.10:y type building floor
 
   212 set *tmp63 :tileValue.10:result
   213 label *label31
   214 set :computeRowValues.1:x4 *tmp63
-    * op add *tmp64 :computeRowValues.1:x 2
-    * set :tileValue.11:x *tmp64
+  215 op add :tileValue.11:x :computeRowValues.1:x 2
   216 set :tileValue.11:y :computeRowValues.1:y
   217 set :tileValue.11:ore :computeRowValues.1:ore
   218 ucontrol getBlock :tileValue.11:x :tileValue.11:y type building floor
 
   228 op add *tmp69 :computeRowValues.1:x2 :computeRowValues.1:x3
   229 op add *tmp70 :computeRowValues.1:x3 :computeRowValues.1:x4
   230 op add *tmp71 :computeRowValues.1:x4 :computeRowValues.1:x5
-    * packcolor *tmp72 *tmp68 *tmp69 *tmp70 *tmp71
-    * set *tmp55 *tmp72
+  231 packcolor *tmp55 *tmp68 *tmp69 *tmp70 *tmp71
   232 jump *label27 always
   233 set *tmp67 null
   234 jump *label34 always
 
   241 op add *tmp78 *tmp77 :computeRowValues.1:x4
   242 op add *tmp79 :computeRowValues.1:x3 :computeRowValues.1:x4
   243 op add *tmp80 *tmp79 :computeRowValues.1:x5
-    * packcolor *tmp81 *tmp76 *tmp78 *tmp80 0
-    * set *tmp55 *tmp81
+  244 packcolor *tmp55 *tmp76 *tmp78 *tmp80 0
   245 jump *label27 always
   246 set *tmp74 null
   247 jump *label36 always
   248 label *label35
-    * op sub *tmp82 :computeRowValues.1:x 3
-    * set :tileValue.12:x *tmp82
+  249 op sub :tileValue.12:x :computeRowValues.1:x 3
   250 set :tileValue.12:y :computeRowValues.1:y
   251 set :tileValue.12:ore :computeRowValues.1:ore
   252 ucontrol getBlock :tileValue.12:x :tileValue.12:y type building floor
 
   256 set *tmp83 :tileValue.12:result
   257 label *label37
   258 set :computeRowValues.1:x0 *tmp83
-    * op add *tmp84 :computeRowValues.1:x 3
-    * set :tileValue.13:x *tmp84
+  259 op add :tileValue.13:x :computeRowValues.1:x 3
   260 set :tileValue.13:y :computeRowValues.1:y
   261 set :tileValue.13:ore :computeRowValues.1:ore
   262 ucontrol getBlock :tileValue.13:x :tileValue.13:y type building floor
 
   282 op add *tmp99 *tmp98 :computeRowValues.1:x5
   283 op add *tmp100 *tmp99 :computeRowValues.1:x6
   284 op min *tmp101 0.09803921568627451 *tmp100
-    * packcolor *tmp102 *tmp89 *tmp93 *tmp97 *tmp101
-    * set *tmp55 *tmp102
+  285 packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101
   286 jump *label27 always
   287 set *tmp74 null
   288 label *label36
 
   296 set :computeRowValues.2:y *tmp103
   297 set :computeRowValues.2:ore :findBestPosition:ore
   298 set :computeRowValues.2:size :findBestPosition:size
-    * op sub *tmp105 :computeRowValues.2:x 2
-    * set :tileValue.14:x *tmp105
+  299 op sub :tileValue.14:x :computeRowValues.2:x 2
   300 set :tileValue.14:y :computeRowValues.2:y
   301 set :tileValue.14:ore :computeRowValues.2:ore
   302 ucontrol getBlock :tileValue.14:x :tileValue.14:y type building floor
 
   306 set *tmp106 :tileValue.14:result
   307 label *label40
   308 set :computeRowValues.2:x1 *tmp106
-    * op sub *tmp107 :computeRowValues.2:x 1
-    * set :tileValue.15:x *tmp107
+  309 op sub :tileValue.15:x :computeRowValues.2:x 1
   310 set :tileValue.15:y :computeRowValues.2:y
   311 set :tileValue.15:ore :computeRowValues.2:ore
   312 ucontrol getBlock :tileValue.15:x :tileValue.15:y type building floor
 
   316 set *tmp108 :tileValue.15:result
   317 label *label41
   318 set :computeRowValues.2:x2 *tmp108
-    * op add *tmp109 :computeRowValues.2:x 0
-    * set :tileValue.16:x *tmp109
+  319 op add :tileValue.16:x :computeRowValues.2:x 0
   320 set :tileValue.16:y :computeRowValues.2:y
   321 set :tileValue.16:ore :computeRowValues.2:ore
   322 ucontrol getBlock :tileValue.16:x :tileValue.16:y type building floor
 
   326 set *tmp110 :tileValue.16:result
   327 label *label42
   328 set :computeRowValues.2:x3 *tmp110
-    * op add *tmp111 :computeRowValues.2:x 1
-    * set :tileValue.17:x *tmp111
+  329 op add :tileValue.17:x :computeRowValues.2:x 1
   330 set :tileValue.17:y :computeRowValues.2:y
   331 set :tileValue.17:ore :computeRowValues.2:ore
   332 ucontrol getBlock :tileValue.17:x :tileValue.17:y type building floor
 
   336 set *tmp112 :tileValue.17:result
   337 label *label43
   338 set :computeRowValues.2:x4 *tmp112
-    * op add *tmp113 :computeRowValues.2:x 2
-    * set :tileValue.18:x *tmp113
+  339 op add :tileValue.18:x :computeRowValues.2:x 2
   340 set :tileValue.18:y :computeRowValues.2:y
   341 set :tileValue.18:ore :computeRowValues.2:ore
   342 ucontrol getBlock :tileValue.18:x :tileValue.18:y type building floor
 
   352 op add *tmp118 :computeRowValues.2:x2 :computeRowValues.2:x3
   353 op add *tmp119 :computeRowValues.2:x3 :computeRowValues.2:x4
   354 op add *tmp120 :computeRowValues.2:x4 :computeRowValues.2:x5
-    * packcolor *tmp121 *tmp117 *tmp118 *tmp119 *tmp120
-    * set *tmp104 *tmp121
+  355 packcolor *tmp104 *tmp117 *tmp118 *tmp119 *tmp120
   356 jump *label39 always
   357 set *tmp116 null
   358 jump *label46 always
 
   365 op add *tmp127 *tmp126 :computeRowValues.2:x4
   366 op add *tmp128 :computeRowValues.2:x3 :computeRowValues.2:x4
   367 op add *tmp129 *tmp128 :computeRowValues.2:x5
-    * packcolor *tmp130 *tmp125 *tmp127 *tmp129 0
-    * set *tmp104 *tmp130
+  368 packcolor *tmp104 *tmp125 *tmp127 *tmp129 0
   369 jump *label39 always
   370 set *tmp123 null
   371 jump *label48 always
   372 label *label47
-    * op sub *tmp131 :computeRowValues.2:x 3
-    * set :tileValue.19:x *tmp131
+  373 op sub :tileValue.19:x :computeRowValues.2:x 3
   374 set :tileValue.19:y :computeRowValues.2:y
   375 set :tileValue.19:ore :computeRowValues.2:ore
   376 ucontrol getBlock :tileValue.19:x :tileValue.19:y type building floor
 
   380 set *tmp132 :tileValue.19:result
   381 label *label49
   382 set :computeRowValues.2:x0 *tmp132
-    * op add *tmp133 :computeRowValues.2:x 3
-    * set :tileValue.20:x *tmp133
+  383 op add :tileValue.20:x :computeRowValues.2:x 3
   384 set :tileValue.20:y :computeRowValues.2:y
   385 set :tileValue.20:ore :computeRowValues.2:ore
   386 ucontrol getBlock :tileValue.20:x :tileValue.20:y type building floor
 
   406 op add *tmp148 *tmp147 :computeRowValues.2:x5
   407 op add *tmp149 *tmp148 :computeRowValues.2:x6
   408 op min *tmp150 0.09803921568627451 *tmp149
-    * packcolor *tmp151 *tmp138 *tmp142 *tmp146 *tmp150
-    * set *tmp104 *tmp151
+  409 packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150
   410 jump *label39 always
   411 set *tmp123 null
   412 label *label48
 
   420 set :computeRowValues.3:y *tmp152
   421 set :computeRowValues.3:ore :findBestPosition:ore
   422 set :computeRowValues.3:size :findBestPosition:size
-    * op sub *tmp154 :computeRowValues.3:x 2
-    * set :tileValue.21:x *tmp154
+  423 op sub :tileValue.21:x :computeRowValues.3:x 2
   424 set :tileValue.21:y :computeRowValues.3:y
   425 set :tileValue.21:ore :computeRowValues.3:ore
   426 ucontrol getBlock :tileValue.21:x :tileValue.21:y type building floor
 
   430 set *tmp155 :tileValue.21:result
   431 label *label52
   432 set :computeRowValues.3:x1 *tmp155
-    * op sub *tmp156 :computeRowValues.3:x 1
-    * set :tileValue.22:x *tmp156
+  433 op sub :tileValue.22:x :computeRowValues.3:x 1
   434 set :tileValue.22:y :computeRowValues.3:y
   435 set :tileValue.22:ore :computeRowValues.3:ore
   436 ucontrol getBlock :tileValue.22:x :tileValue.22:y type building floor
 
   440 set *tmp157 :tileValue.22:result
   441 label *label53
   442 set :computeRowValues.3:x2 *tmp157
-    * op add *tmp158 :computeRowValues.3:x 0
-    * set :tileValue.23:x *tmp158
+  443 op add :tileValue.23:x :computeRowValues.3:x 0
   444 set :tileValue.23:y :computeRowValues.3:y
   445 set :tileValue.23:ore :computeRowValues.3:ore
   446 ucontrol getBlock :tileValue.23:x :tileValue.23:y type building floor
 
   450 set *tmp159 :tileValue.23:result
   451 label *label54
   452 set :computeRowValues.3:x3 *tmp159
-    * op add *tmp160 :computeRowValues.3:x 1
-    * set :tileValue.24:x *tmp160
+  453 op add :tileValue.24:x :computeRowValues.3:x 1
   454 set :tileValue.24:y :computeRowValues.3:y
   455 set :tileValue.24:ore :computeRowValues.3:ore
   456 ucontrol getBlock :tileValue.24:x :tileValue.24:y type building floor
 
   460 set *tmp161 :tileValue.24:result
   461 label *label55
   462 set :computeRowValues.3:x4 *tmp161
-    * op add *tmp162 :computeRowValues.3:x 2
-    * set :tileValue.25:x *tmp162
+  463 op add :tileValue.25:x :computeRowValues.3:x 2
   464 set :tileValue.25:y :computeRowValues.3:y
   465 set :tileValue.25:ore :computeRowValues.3:ore
   466 ucontrol getBlock :tileValue.25:x :tileValue.25:y type building floor
 
   476 op add *tmp167 :computeRowValues.3:x2 :computeRowValues.3:x3
   477 op add *tmp168 :computeRowValues.3:x3 :computeRowValues.3:x4
   478 op add *tmp169 :computeRowValues.3:x4 :computeRowValues.3:x5
-    * packcolor *tmp170 *tmp166 *tmp167 *tmp168 *tmp169
-    * set *tmp153 *tmp170
+  479 packcolor *tmp153 *tmp166 *tmp167 *tmp168 *tmp169
   480 jump *label51 always
   481 set *tmp165 null
   482 jump *label58 always
 
   489 op add *tmp176 *tmp175 :computeRowValues.3:x4
   490 op add *tmp177 :computeRowValues.3:x3 :computeRowValues.3:x4
   491 op add *tmp178 *tmp177 :computeRowValues.3:x5
-    * packcolor *tmp179 *tmp174 *tmp176 *tmp178 0
-    * set *tmp153 *tmp179
+  492 packcolor *tmp153 *tmp174 *tmp176 *tmp178 0
   493 jump *label51 always
   494 set *tmp172 null
   495 jump *label60 always
   496 label *label59
-    * op sub *tmp180 :computeRowValues.3:x 3
-    * set :tileValue.26:x *tmp180
+  497 op sub :tileValue.26:x :computeRowValues.3:x 3
   498 set :tileValue.26:y :computeRowValues.3:y
   499 set :tileValue.26:ore :computeRowValues.3:ore
   500 ucontrol getBlock :tileValue.26:x :tileValue.26:y type building floor
 
   504 set *tmp181 :tileValue.26:result
   505 label *label61
   506 set :computeRowValues.3:x0 *tmp181
-    * op add *tmp182 :computeRowValues.3:x 3
-    * set :tileValue.27:x *tmp182
+  507 op add :tileValue.27:x :computeRowValues.3:x 3
   508 set :tileValue.27:y :computeRowValues.3:y
   509 set :tileValue.27:ore :computeRowValues.3:ore
   510 ucontrol getBlock :tileValue.27:x :tileValue.27:y type building floor
 
   530 op add *tmp197 *tmp196 :computeRowValues.3:x5
   531 op add *tmp198 *tmp197 :computeRowValues.3:x6
   532 op min *tmp199 0.09803921568627451 *tmp198
-    * packcolor *tmp200 *tmp187 *tmp191 *tmp195 *tmp199
-    * set *tmp153 *tmp200
+  533 packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199
   534 jump *label51 always
   535 set *tmp172 null
   536 label *label60
 
   544 set :computeRowValues.4:y *tmp201
   545 set :computeRowValues.4:ore :findBestPosition:ore
   546 set :computeRowValues.4:size :findBestPosition:size
-    * op sub *tmp203 :computeRowValues.4:x 2
-    * set :tileValue.28:x *tmp203
+  547 op sub :tileValue.28:x :computeRowValues.4:x 2
   548 set :tileValue.28:y :computeRowValues.4:y
   549 set :tileValue.28:ore :computeRowValues.4:ore
   550 ucontrol getBlock :tileValue.28:x :tileValue.28:y type building floor
 
   554 set *tmp204 :tileValue.28:result
   555 label *label64
   556 set :computeRowValues.4:x1 *tmp204
-    * op sub *tmp205 :computeRowValues.4:x 1
-    * set :tileValue.29:x *tmp205
+  557 op sub :tileValue.29:x :computeRowValues.4:x 1
   558 set :tileValue.29:y :computeRowValues.4:y
   559 set :tileValue.29:ore :computeRowValues.4:ore
   560 ucontrol getBlock :tileValue.29:x :tileValue.29:y type building floor
 
   564 set *tmp206 :tileValue.29:result
   565 label *label65
   566 set :computeRowValues.4:x2 *tmp206
-    * op add *tmp207 :computeRowValues.4:x 0
-    * set :tileValue.30:x *tmp207
+  567 op add :tileValue.30:x :computeRowValues.4:x 0
   568 set :tileValue.30:y :computeRowValues.4:y
   569 set :tileValue.30:ore :computeRowValues.4:ore
   570 ucontrol getBlock :tileValue.30:x :tileValue.30:y type building floor
 
   574 set *tmp208 :tileValue.30:result
   575 label *label66
   576 set :computeRowValues.4:x3 *tmp208
-    * op add *tmp209 :computeRowValues.4:x 1
-    * set :tileValue.31:x *tmp209
+  577 op add :tileValue.31:x :computeRowValues.4:x 1
   578 set :tileValue.31:y :computeRowValues.4:y
   579 set :tileValue.31:ore :computeRowValues.4:ore
   580 ucontrol getBlock :tileValue.31:x :tileValue.31:y type building floor
 
   584 set *tmp210 :tileValue.31:result
   585 label *label67
   586 set :computeRowValues.4:x4 *tmp210
-    * op add *tmp211 :computeRowValues.4:x 2
-    * set :tileValue.32:x *tmp211
+  587 op add :tileValue.32:x :computeRowValues.4:x 2
   588 set :tileValue.32:y :computeRowValues.4:y
   589 set :tileValue.32:ore :computeRowValues.4:ore
   590 ucontrol getBlock :tileValue.32:x :tileValue.32:y type building floor
 
   600 op add *tmp216 :computeRowValues.4:x2 :computeRowValues.4:x3
   601 op add *tmp217 :computeRowValues.4:x3 :computeRowValues.4:x4
   602 op add *tmp218 :computeRowValues.4:x4 :computeRowValues.4:x5
-    * packcolor *tmp219 *tmp215 *tmp216 *tmp217 *tmp218
-    * set *tmp202 *tmp219
+  603 packcolor *tmp202 *tmp215 *tmp216 *tmp217 *tmp218
   604 jump *label63 always
   605 set *tmp214 null
   606 jump *label70 always
 
   613 op add *tmp225 *tmp224 :computeRowValues.4:x4
   614 op add *tmp226 :computeRowValues.4:x3 :computeRowValues.4:x4
   615 op add *tmp227 *tmp226 :computeRowValues.4:x5
-    * packcolor *tmp228 *tmp223 *tmp225 *tmp227 0
-    * set *tmp202 *tmp228
+  616 packcolor *tmp202 *tmp223 *tmp225 *tmp227 0
   617 jump *label63 always
   618 set *tmp221 null
   619 jump *label72 always
   620 label *label71
-    * op sub *tmp229 :computeRowValues.4:x 3
-    * set :tileValue.33:x *tmp229
+  621 op sub :tileValue.33:x :computeRowValues.4:x 3
   622 set :tileValue.33:y :computeRowValues.4:y
   623 set :tileValue.33:ore :computeRowValues.4:ore
   624 ucontrol getBlock :tileValue.33:x :tileValue.33:y type building floor
 
   628 set *tmp230 :tileValue.33:result
   629 label *label73
   630 set :computeRowValues.4:x0 *tmp230
-    * op add *tmp231 :computeRowValues.4:x 3
-    * set :tileValue.34:x *tmp231
+  631 op add :tileValue.34:x :computeRowValues.4:x 3
   632 set :tileValue.34:y :computeRowValues.4:y
   633 set :tileValue.34:ore :computeRowValues.4:ore
   634 ucontrol getBlock :tileValue.34:x :tileValue.34:y type building floor
 
   654 op add *tmp246 *tmp245 :computeRowValues.4:x5
   655 op add *tmp247 *tmp246 :computeRowValues.4:x6
   656 op min *tmp248 0.09803921568627451 *tmp247
-    * packcolor *tmp249 *tmp236 *tmp240 *tmp244 *tmp248
-    * set *tmp202 *tmp249
+  657 packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248
   658 jump *label63 always
   659 set *tmp221 null
   660 label *label72
 
   669 op equal *tmp250 :findBestPosition:size 3
   670 jump *label75 equal *tmp250 false
   671 op add *tmp252 :findBestPosition:y2 :findBestPosition:y3
-    * op add *tmp253 :findBestPosition:y1 *tmp252
-    * set :findBestPosition:row1 *tmp253
+  672 op add :findBestPosition:row1 :findBestPosition:y1 *tmp252
   673 op add *tmp254 :findBestPosition:y2 :findBestPosition:y3
-    * op add *tmp255 *tmp254 :findBestPosition:y4
-    * set :findBestPosition:row2 *tmp255
+  674 op add :findBestPosition:row2 *tmp254 :findBestPosition:y4
   675 op add *tmp256 :findBestPosition:y3 :findBestPosition:y4
-    * op add *tmp257 *tmp256 :findBestPosition:y5
-    * set :findBestPosition:row3 *tmp257
+  676 op add :findBestPosition:row3 *tmp256 :findBestPosition:y5
   677 set :updateRowPositionsOdd:dy -1
   678 set :updateRowPositionsOdd:rowSum :findBestPosition:row1
   679 unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 *tmp258 :updateRowPositionsOdd:rowSum
 
   843 label *label75
   844 op equal *tmp297 :findBestPosition:size 2
   845 jump *label125 equal *tmp297 false
-    * op add *tmp299 :findBestPosition:y1 :findBestPosition:y2
-    * set :findBestPosition:row1 *tmp299
-    * op add *tmp300 :findBestPosition:y2 :findBestPosition:y3
-    * set :findBestPosition:row2 *tmp300
-    * op add *tmp301 :findBestPosition:y3 :findBestPosition:y4
-    * set :findBestPosition:row3 *tmp301
-    * op add *tmp302 :findBestPosition:y4 :findBestPosition:y5
-    * set :findBestPosition:row4 *tmp302
+  846 op add :findBestPosition:row1 :findBestPosition:y1 :findBestPosition:y2
+  847 op add :findBestPosition:row2 :findBestPosition:y2 :findBestPosition:y3
+  848 op add :findBestPosition:row3 :findBestPosition:y3 :findBestPosition:y4
+  849 op add :findBestPosition:row4 :findBestPosition:y4 :findBestPosition:y5
   850 jump *label126 always
   851 label *label125
   852 op sub *tmp303 :findBestPosition:y 3
 
   854 set :computeRowValues.5:y *tmp303
   855 set :computeRowValues.5:ore :findBestPosition:ore
   856 set :computeRowValues.5:size :findBestPosition:size
-    * op sub *tmp305 :computeRowValues.5:x 2
-    * set :tileValue.35:x *tmp305
+  857 op sub :tileValue.35:x :computeRowValues.5:x 2
   858 set :tileValue.35:y :computeRowValues.5:y
   859 set :tileValue.35:ore :computeRowValues.5:ore
   860 ucontrol getBlock :tileValue.35:x :tileValue.35:y type building floor
 
   864 set *tmp306 :tileValue.35:result
   865 label *label128
   866 set :computeRowValues.5:x1 *tmp306
-    * op sub *tmp307 :computeRowValues.5:x 1
-    * set :tileValue.36:x *tmp307
+  867 op sub :tileValue.36:x :computeRowValues.5:x 1
   868 set :tileValue.36:y :computeRowValues.5:y
   869 set :tileValue.36:ore :computeRowValues.5:ore
   870 ucontrol getBlock :tileValue.36:x :tileValue.36:y type building floor
 
   874 set *tmp308 :tileValue.36:result
   875 label *label129
   876 set :computeRowValues.5:x2 *tmp308
-    * op add *tmp309 :computeRowValues.5:x 0
-    * set :tileValue.37:x *tmp309
+  877 op add :tileValue.37:x :computeRowValues.5:x 0
   878 set :tileValue.37:y :computeRowValues.5:y
   879 set :tileValue.37:ore :computeRowValues.5:ore
   880 ucontrol getBlock :tileValue.37:x :tileValue.37:y type building floor
 
   884 set *tmp310 :tileValue.37:result
   885 label *label130
   886 set :computeRowValues.5:x3 *tmp310
-    * op add *tmp311 :computeRowValues.5:x 1
-    * set :tileValue.38:x *tmp311
+  887 op add :tileValue.38:x :computeRowValues.5:x 1
   888 set :tileValue.38:y :computeRowValues.5:y
   889 set :tileValue.38:ore :computeRowValues.5:ore
   890 ucontrol getBlock :tileValue.38:x :tileValue.38:y type building floor
 
   894 set *tmp312 :tileValue.38:result
   895 label *label131
   896 set :computeRowValues.5:x4 *tmp312
-    * op add *tmp313 :computeRowValues.5:x 2
-    * set :tileValue.39:x *tmp313
+  897 op add :tileValue.39:x :computeRowValues.5:x 2
   898 set :tileValue.39:y :computeRowValues.5:y
   899 set :tileValue.39:ore :computeRowValues.5:ore
   900 ucontrol getBlock :tileValue.39:x :tileValue.39:y type building floor
 
   910 op add *tmp318 :computeRowValues.5:x2 :computeRowValues.5:x3
   911 op add *tmp319 :computeRowValues.5:x3 :computeRowValues.5:x4
   912 op add *tmp320 :computeRowValues.5:x4 :computeRowValues.5:x5
-    * packcolor *tmp321 *tmp317 *tmp318 *tmp319 *tmp320
-    * set *tmp304 *tmp321
+  913 packcolor *tmp304 *tmp317 *tmp318 *tmp319 *tmp320
   914 jump *label127 always
   915 set *tmp316 null
   916 jump *label134 always
 
   923 op add *tmp327 *tmp326 :computeRowValues.5:x4
   924 op add *tmp328 :computeRowValues.5:x3 :computeRowValues.5:x4
   925 op add *tmp329 *tmp328 :computeRowValues.5:x5
-    * packcolor *tmp330 *tmp325 *tmp327 *tmp329 0
-    * set *tmp304 *tmp330
+  926 packcolor *tmp304 *tmp325 *tmp327 *tmp329 0
   927 jump *label127 always
   928 set *tmp323 null
   929 jump *label136 always
   930 label *label135
-    * op sub *tmp331 :computeRowValues.5:x 3
-    * set :tileValue.40:x *tmp331
+  931 op sub :tileValue.40:x :computeRowValues.5:x 3
   932 set :tileValue.40:y :computeRowValues.5:y
   933 set :tileValue.40:ore :computeRowValues.5:ore
   934 ucontrol getBlock :tileValue.40:x :tileValue.40:y type building floor
 
   938 set *tmp332 :tileValue.40:result
   939 label *label137
   940 set :computeRowValues.5:x0 *tmp332
-    * op add *tmp333 :computeRowValues.5:x 3
-    * set :tileValue.41:x *tmp333
+  941 op add :tileValue.41:x :computeRowValues.5:x 3
   942 set :tileValue.41:y :computeRowValues.5:y
   943 set :tileValue.41:ore :computeRowValues.5:ore
   944 ucontrol getBlock :tileValue.41:x :tileValue.41:y type building floor
 
   964 op add *tmp348 *tmp347 :computeRowValues.5:x5
   965 op add *tmp349 *tmp348 :computeRowValues.5:x6
   966 op min *tmp350 0.09803921568627451 *tmp349
-    * packcolor *tmp351 *tmp338 *tmp342 *tmp346 *tmp350
-    * set *tmp304 *tmp351
+  967 packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350
   968 jump *label127 always
   969 set *tmp323 null
   970 label *label136
 
   978 set :computeRowValues.6:y *tmp352
   979 set :computeRowValues.6:ore :findBestPosition:ore
   980 set :computeRowValues.6:size :findBestPosition:size
-    * op sub *tmp354 :computeRowValues.6:x 2
-    * set :tileValue.42:x *tmp354
+  981 op sub :tileValue.42:x :computeRowValues.6:x 2
   982 set :tileValue.42:y :computeRowValues.6:y
   983 set :tileValue.42:ore :computeRowValues.6:ore
   984 ucontrol getBlock :tileValue.42:x :tileValue.42:y type building floor
 
   988 set *tmp355 :tileValue.42:result
   989 label *label140
   990 set :computeRowValues.6:x1 *tmp355
-    * op sub *tmp356 :computeRowValues.6:x 1
-    * set :tileValue.43:x *tmp356
+  991 op sub :tileValue.43:x :computeRowValues.6:x 1
   992 set :tileValue.43:y :computeRowValues.6:y
   993 set :tileValue.43:ore :computeRowValues.6:ore
   994 ucontrol getBlock :tileValue.43:x :tileValue.43:y type building floor
 
   998 set *tmp357 :tileValue.43:result
   999 label *label141
  1000 set :computeRowValues.6:x2 *tmp357
-    * op add *tmp358 :computeRowValues.6:x 0
-    * set :tileValue.44:x *tmp358
+ 1001 op add :tileValue.44:x :computeRowValues.6:x 0
  1002 set :tileValue.44:y :computeRowValues.6:y
  1003 set :tileValue.44:ore :computeRowValues.6:ore
  1004 ucontrol getBlock :tileValue.44:x :tileValue.44:y type building floor
 
  1008 set *tmp359 :tileValue.44:result
  1009 label *label142
  1010 set :computeRowValues.6:x3 *tmp359
-    * op add *tmp360 :computeRowValues.6:x 1
-    * set :tileValue.45:x *tmp360
+ 1011 op add :tileValue.45:x :computeRowValues.6:x 1
  1012 set :tileValue.45:y :computeRowValues.6:y
  1013 set :tileValue.45:ore :computeRowValues.6:ore
  1014 ucontrol getBlock :tileValue.45:x :tileValue.45:y type building floor
 
  1018 set *tmp361 :tileValue.45:result
  1019 label *label143
  1020 set :computeRowValues.6:x4 *tmp361
-    * op add *tmp362 :computeRowValues.6:x 2
-    * set :tileValue.46:x *tmp362
+ 1021 op add :tileValue.46:x :computeRowValues.6:x 2
  1022 set :tileValue.46:y :computeRowValues.6:y
  1023 set :tileValue.46:ore :computeRowValues.6:ore
  1024 ucontrol getBlock :tileValue.46:x :tileValue.46:y type building floor
 
  1034 op add *tmp367 :computeRowValues.6:x2 :computeRowValues.6:x3
  1035 op add *tmp368 :computeRowValues.6:x3 :computeRowValues.6:x4
  1036 op add *tmp369 :computeRowValues.6:x4 :computeRowValues.6:x5
-    * packcolor *tmp370 *tmp366 *tmp367 *tmp368 *tmp369
-    * set *tmp353 *tmp370
+ 1037 packcolor *tmp353 *tmp366 *tmp367 *tmp368 *tmp369
  1038 jump *label139 always
  1039 set *tmp365 null
  1040 jump *label146 always
 
  1047 op add *tmp376 *tmp375 :computeRowValues.6:x4
  1048 op add *tmp377 :computeRowValues.6:x3 :computeRowValues.6:x4
  1049 op add *tmp378 *tmp377 :computeRowValues.6:x5
-    * packcolor *tmp379 *tmp374 *tmp376 *tmp378 0
-    * set *tmp353 *tmp379
+ 1050 packcolor *tmp353 *tmp374 *tmp376 *tmp378 0
  1051 jump *label139 always
  1052 set *tmp372 null
  1053 jump *label148 always
  1054 label *label147
-    * op sub *tmp380 :computeRowValues.6:x 3
-    * set :tileValue.47:x *tmp380
+ 1055 op sub :tileValue.47:x :computeRowValues.6:x 3
  1056 set :tileValue.47:y :computeRowValues.6:y
  1057 set :tileValue.47:ore :computeRowValues.6:ore
  1058 ucontrol getBlock :tileValue.47:x :tileValue.47:y type building floor
 
  1062 set *tmp381 :tileValue.47:result
  1063 label *label149
  1064 set :computeRowValues.6:x0 *tmp381
-    * op add *tmp382 :computeRowValues.6:x 3
-    * set :tileValue.48:x *tmp382
+ 1065 op add :tileValue.48:x :computeRowValues.6:x 3
  1066 set :tileValue.48:y :computeRowValues.6:y
  1067 set :tileValue.48:ore :computeRowValues.6:ore
  1068 ucontrol getBlock :tileValue.48:x :tileValue.48:y type building floor
 
  1088 op add *tmp397 *tmp396 :computeRowValues.6:x5
  1089 op add *tmp398 *tmp397 :computeRowValues.6:x6
  1090 op min *tmp399 0.09803921568627451 *tmp398
-    * packcolor *tmp400 *tmp387 *tmp391 *tmp395 *tmp399
-    * set *tmp353 *tmp400
+ 1091 packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399
  1092 jump *label139 always
  1093 set *tmp372 null
  1094 label *label148
 
  1099 set :findBestPosition:y6 *tmp353
  1100 op add *tmp401 :findBestPosition:y1 :findBestPosition:y2
  1101 op add *tmp402 *tmp401 :findBestPosition:y3
-    * op add *tmp403 :findBestPosition:y0 *tmp402
-    * set :findBestPosition:row1 *tmp403
+ 1102 op add :findBestPosition:row1 :findBestPosition:y0 *tmp402
  1103 op add *tmp404 :findBestPosition:y1 :findBestPosition:y2
  1104 op add *tmp405 *tmp404 :findBestPosition:y3
-    * op add *tmp406 *tmp405 :findBestPosition:y4
-    * set :findBestPosition:row2 *tmp406
+ 1105 op add :findBestPosition:row2 *tmp405 :findBestPosition:y4
  1106 op add *tmp407 :findBestPosition:y3 :findBestPosition:y4
  1107 op add *tmp408 *tmp407 :findBestPosition:y5
-    * op add *tmp409 :findBestPosition:y2 *tmp408
-    * set :findBestPosition:row3 *tmp409
+ 1108 op add :findBestPosition:row3 :findBestPosition:y2 *tmp408
  1109 op add *tmp410 :findBestPosition:y3 :findBestPosition:y4
  1110 op add *tmp411 *tmp410 :findBestPosition:y5
-    * op add *tmp412 *tmp411 :findBestPosition:y6
-    * set :findBestPosition:row4 *tmp412
+ 1111 op add :findBestPosition:row4 *tmp411 :findBestPosition:y6
  1112 label *label126
  1113 set :updateRowPositionsEven:dy -1.5
  1114 set :updateRowPositionsEven:rowSum :findBestPosition:row1
 
  1399 label *label230
  1400 label *label214
  1401 label *label76
-    * op mul *tmp477 :findBestPosition:best 255
-    * set :findBestPosition*retval *tmp477
+ 1402 op mul :findBestPosition*retval :findBestPosition:best 255
  1403 jump *label14 always
  1404 set :findBestPosition*retval null
  1405 label *label14

Modifications by Iterated phase, Condition Optimization, pass 1, iteration 1 (-66 instructions):
 
    98 set *tmp16 :tileValue.4:result
    99 label *label20
   100 set :computeRowValues:x5 *tmp16
-    * op equal *tmp17 :computeRowValues:size 2
-    * jump *label21 equal *tmp17 false
+  101 jump *label21 notEqual :computeRowValues:size 2
   102 op add *tmp19 :computeRowValues:x1 :computeRowValues:x2
   103 op add *tmp20 :computeRowValues:x2 :computeRowValues:x3
   104 op add *tmp21 :computeRowValues:x3 :computeRowValues:x4
 
   108 set *tmp18 null
   109 jump *label22 always
   110 label *label21
-    * op equal *tmp24 :computeRowValues:size 3
-    * jump *label23 equal *tmp24 false
+  111 jump *label23 notEqual :computeRowValues:size 3
   112 op add *tmp26 :computeRowValues:x2 :computeRowValues:x3
   113 op add *tmp27 :computeRowValues:x1 *tmp26
   114 op add *tmp28 :computeRowValues:x2 :computeRowValues:x3
 
   220 set *tmp65 :tileValue.11:result
   221 label *label32
   222 set :computeRowValues.1:x5 *tmp65
-    * op equal *tmp66 :computeRowValues.1:size 2
-    * jump *label33 equal *tmp66 false
+  223 jump *label33 notEqual :computeRowValues.1:size 2
   224 op add *tmp68 :computeRowValues.1:x1 :computeRowValues.1:x2
   225 op add *tmp69 :computeRowValues.1:x2 :computeRowValues.1:x3
   226 op add *tmp70 :computeRowValues.1:x3 :computeRowValues.1:x4
 
   230 set *tmp67 null
   231 jump *label34 always
   232 label *label33
-    * op equal *tmp73 :computeRowValues.1:size 3
-    * jump *label35 equal *tmp73 false
+  233 jump *label35 notEqual :computeRowValues.1:size 3
   234 op add *tmp75 :computeRowValues.1:x2 :computeRowValues.1:x3
   235 op add *tmp76 :computeRowValues.1:x1 *tmp75
   236 op add *tmp77 :computeRowValues.1:x2 :computeRowValues.1:x3
 
   342 set *tmp114 :tileValue.18:result
   343 label *label44
   344 set :computeRowValues.2:x5 *tmp114
-    * op equal *tmp115 :computeRowValues.2:size 2
-    * jump *label45 equal *tmp115 false
+  345 jump *label45 notEqual :computeRowValues.2:size 2
   346 op add *tmp117 :computeRowValues.2:x1 :computeRowValues.2:x2
   347 op add *tmp118 :computeRowValues.2:x2 :computeRowValues.2:x3
   348 op add *tmp119 :computeRowValues.2:x3 :computeRowValues.2:x4
 
   352 set *tmp116 null
   353 jump *label46 always
   354 label *label45
-    * op equal *tmp122 :computeRowValues.2:size 3
-    * jump *label47 equal *tmp122 false
+  355 jump *label47 notEqual :computeRowValues.2:size 3
   356 op add *tmp124 :computeRowValues.2:x2 :computeRowValues.2:x3
   357 op add *tmp125 :computeRowValues.2:x1 *tmp124
   358 op add *tmp126 :computeRowValues.2:x2 :computeRowValues.2:x3
 
   464 set *tmp163 :tileValue.25:result
   465 label *label56
   466 set :computeRowValues.3:x5 *tmp163
-    * op equal *tmp164 :computeRowValues.3:size 2
-    * jump *label57 equal *tmp164 false
+  467 jump *label57 notEqual :computeRowValues.3:size 2
   468 op add *tmp166 :computeRowValues.3:x1 :computeRowValues.3:x2
   469 op add *tmp167 :computeRowValues.3:x2 :computeRowValues.3:x3
   470 op add *tmp168 :computeRowValues.3:x3 :computeRowValues.3:x4
 
   474 set *tmp165 null
   475 jump *label58 always
   476 label *label57
-    * op equal *tmp171 :computeRowValues.3:size 3
-    * jump *label59 equal *tmp171 false
+  477 jump *label59 notEqual :computeRowValues.3:size 3
   478 op add *tmp173 :computeRowValues.3:x2 :computeRowValues.3:x3
   479 op add *tmp174 :computeRowValues.3:x1 *tmp173
   480 op add *tmp175 :computeRowValues.3:x2 :computeRowValues.3:x3
 
   586 set *tmp212 :tileValue.32:result
   587 label *label68
   588 set :computeRowValues.4:x5 *tmp212
-    * op equal *tmp213 :computeRowValues.4:size 2
-    * jump *label69 equal *tmp213 false
+  589 jump *label69 notEqual :computeRowValues.4:size 2
   590 op add *tmp215 :computeRowValues.4:x1 :computeRowValues.4:x2
   591 op add *tmp216 :computeRowValues.4:x2 :computeRowValues.4:x3
   592 op add *tmp217 :computeRowValues.4:x3 :computeRowValues.4:x4
 
   596 set *tmp214 null
   597 jump *label70 always
   598 label *label69
-    * op equal *tmp220 :computeRowValues.4:size 3
-    * jump *label71 equal *tmp220 false
+  599 jump *label71 notEqual :computeRowValues.4:size 3
   600 op add *tmp222 :computeRowValues.4:x2 :computeRowValues.4:x3
   601 op add *tmp223 :computeRowValues.4:x1 *tmp222
   602 op add *tmp224 :computeRowValues.4:x2 :computeRowValues.4:x3
 
   656 set :findBestPosition:best 0
   657 set :findBestPosition:bestX 0
   658 set :findBestPosition:bestY 0
-    * op equal *tmp250 :findBestPosition:size 3
-    * jump *label75 equal *tmp250 false
+  659 jump *label75 notEqual :findBestPosition:size 3
   660 op add *tmp252 :findBestPosition:y2 :findBestPosition:y3
   661 op add :findBestPosition:row1 :findBestPosition:y1 *tmp252
   662 op add *tmp254 :findBestPosition:y2 :findBestPosition:y3
 
   669 set :updatePosition:dx -1
   670 set :updatePosition:dy :updateRowPositionsOdd:dy
   671 set :updatePosition:value :updateRowPositionsOdd:col1
-    * op greaterThan *tmp259 :updatePosition:value :findBestPosition:best
-    * jump *label79 equal *tmp259 false
-    * op lessThan *tmp261 :updatePosition:value 0.0784313725490196
-    * jump *label81 equal *tmp261 false
+  672 jump *label79 lessThanEq :updatePosition:value :findBestPosition:best
+  673 jump *label81 greaterThanEq :updatePosition:value 0.0784313725490196
   674 set :findBestPosition:bestX :updatePosition:dx
   675 set :findBestPosition:bestY :updatePosition:dy
   676 set :findBestPosition:best :updatePosition:value
 
   684 set :updatePosition.1:dx 0
   685 set :updatePosition.1:dy :updateRowPositionsOdd:dy
   686 set :updatePosition.1:value :updateRowPositionsOdd:col2
-    * op greaterThan *tmp263 :updatePosition.1:value :findBestPosition:best
-    * jump *label84 equal *tmp263 false
-    * op lessThan *tmp265 :updatePosition.1:value 0.0784313725490196
-    * jump *label86 equal *tmp265 false
+  687 jump *label84 lessThanEq :updatePosition.1:value :findBestPosition:best
+  688 jump *label86 greaterThanEq :updatePosition.1:value 0.0784313725490196
   689 set :findBestPosition:bestX :updatePosition.1:dx
   690 set :findBestPosition:bestY :updatePosition.1:dy
   691 set :findBestPosition:best :updatePosition.1:value
 
   699 set :updatePosition.2:dx 1
   700 set :updatePosition.2:dy :updateRowPositionsOdd:dy
   701 set :updatePosition.2:value :updateRowPositionsOdd:col3
-    * op greaterThan *tmp267 :updatePosition.2:value :findBestPosition:best
-    * jump *label89 equal *tmp267 false
-    * op lessThan *tmp269 :updatePosition.2:value 0.0784313725490196
-    * jump *label91 equal *tmp269 false
+  702 jump *label89 lessThanEq :updatePosition.2:value :findBestPosition:best
+  703 jump *label91 greaterThanEq :updatePosition.2:value 0.0784313725490196
   704 set :findBestPosition:bestX :updatePosition.2:dx
   705 set :findBestPosition:bestY :updatePosition.2:dy
   706 set :findBestPosition:best :updatePosition.2:value
 
   718 set :updatePosition.3:dx -1
   719 set :updatePosition.3:dy :updateRowPositionsOdd.1:dy
   720 set :updatePosition.3:value :updateRowPositionsOdd.1:col1
-    * op greaterThan *tmp272 :updatePosition.3:value :findBestPosition:best
-    * jump *label95 equal *tmp272 false
-    * op lessThan *tmp274 :updatePosition.3:value 0.0784313725490196
-    * jump *label97 equal *tmp274 false
+  721 jump *label95 lessThanEq :updatePosition.3:value :findBestPosition:best
+  722 jump *label97 greaterThanEq :updatePosition.3:value 0.0784313725490196
   723 set :findBestPosition:bestX :updatePosition.3:dx
   724 set :findBestPosition:bestY :updatePosition.3:dy
   725 set :findBestPosition:best :updatePosition.3:value
 
   733 set :updatePosition.4:dx 0
   734 set :updatePosition.4:dy :updateRowPositionsOdd.1:dy
   735 set :updatePosition.4:value :updateRowPositionsOdd.1:col2
-    * op greaterThan *tmp276 :updatePosition.4:value :findBestPosition:best
-    * jump *label100 equal *tmp276 false
-    * op lessThan *tmp278 :updatePosition.4:value 0.0784313725490196
-    * jump *label102 equal *tmp278 false
+  736 jump *label100 lessThanEq :updatePosition.4:value :findBestPosition:best
+  737 jump *label102 greaterThanEq :updatePosition.4:value 0.0784313725490196
   738 set :findBestPosition:bestX :updatePosition.4:dx
   739 set :findBestPosition:bestY :updatePosition.4:dy
   740 set :findBestPosition:best :updatePosition.4:value
 
   748 set :updatePosition.5:dx 1
   749 set :updatePosition.5:dy :updateRowPositionsOdd.1:dy
   750 set :updatePosition.5:value :updateRowPositionsOdd.1:col3
-    * op greaterThan *tmp280 :updatePosition.5:value :findBestPosition:best
-    * jump *label105 equal *tmp280 false
-    * op lessThan *tmp282 :updatePosition.5:value 0.0784313725490196
-    * jump *label107 equal *tmp282 false
+  751 jump *label105 lessThanEq :updatePosition.5:value :findBestPosition:best
+  752 jump *label107 greaterThanEq :updatePosition.5:value 0.0784313725490196
   753 set :findBestPosition:bestX :updatePosition.5:dx
   754 set :findBestPosition:bestY :updatePosition.5:dy
   755 set :findBestPosition:best :updatePosition.5:value
 
   767 set :updatePosition.6:dx -1
   768 set :updatePosition.6:dy :updateRowPositionsOdd.2:dy
   769 set :updatePosition.6:value :updateRowPositionsOdd.2:col1
-    * op greaterThan *tmp285 :updatePosition.6:value :findBestPosition:best
-    * jump *label111 equal *tmp285 false
-    * op lessThan *tmp287 :updatePosition.6:value 0.0784313725490196
-    * jump *label113 equal *tmp287 false
+  770 jump *label111 lessThanEq :updatePosition.6:value :findBestPosition:best
+  771 jump *label113 greaterThanEq :updatePosition.6:value 0.0784313725490196
   772 set :findBestPosition:bestX :updatePosition.6:dx
   773 set :findBestPosition:bestY :updatePosition.6:dy
   774 set :findBestPosition:best :updatePosition.6:value
 
   782 set :updatePosition.7:dx 0
   783 set :updatePosition.7:dy :updateRowPositionsOdd.2:dy
   784 set :updatePosition.7:value :updateRowPositionsOdd.2:col2
-    * op greaterThan *tmp289 :updatePosition.7:value :findBestPosition:best
-    * jump *label116 equal *tmp289 false
-    * op lessThan *tmp291 :updatePosition.7:value 0.0784313725490196
-    * jump *label118 equal *tmp291 false
+  785 jump *label116 lessThanEq :updatePosition.7:value :findBestPosition:best
+  786 jump *label118 greaterThanEq :updatePosition.7:value 0.0784313725490196
   787 set :findBestPosition:bestX :updatePosition.7:dx
   788 set :findBestPosition:bestY :updatePosition.7:dy
   789 set :findBestPosition:best :updatePosition.7:value
 
   797 set :updatePosition.8:dx 1
   798 set :updatePosition.8:dy :updateRowPositionsOdd.2:dy
   799 set :updatePosition.8:value :updateRowPositionsOdd.2:col3
-    * op greaterThan *tmp293 :updatePosition.8:value :findBestPosition:best
-    * jump *label121 equal *tmp293 false
-    * op lessThan *tmp295 :updatePosition.8:value 0.0784313725490196
-    * jump *label123 equal *tmp295 false
+  800 jump *label121 lessThanEq :updatePosition.8:value :findBestPosition:best
+  801 jump *label123 greaterThanEq :updatePosition.8:value 0.0784313725490196
   802 set :findBestPosition:bestX :updatePosition.8:dx
   803 set :findBestPosition:bestY :updatePosition.8:dy
   804 set :findBestPosition:best :updatePosition.8:value
 
   812 label *label109
   813 jump *label76 always
   814 label *label75
-    * op equal *tmp297 :findBestPosition:size 2
-    * jump *label125 equal *tmp297 false
+  815 jump *label125 notEqual :findBestPosition:size 2
   816 op add :findBestPosition:row1 :findBestPosition:y1 :findBestPosition:y2
   817 op add :findBestPosition:row2 :findBestPosition:y2 :findBestPosition:y3
   818 op add :findBestPosition:row3 :findBestPosition:y3 :findBestPosition:y4
 
   874 set *tmp314 :tileValue.39:result
   875 label *label132
   876 set :computeRowValues.5:x5 *tmp314
-    * op equal *tmp315 :computeRowValues.5:size 2
-    * jump *label133 equal *tmp315 false
+  877 jump *label133 notEqual :computeRowValues.5:size 2
   878 op add *tmp317 :computeRowValues.5:x1 :computeRowValues.5:x2
   879 op add *tmp318 :computeRowValues.5:x2 :computeRowValues.5:x3
   880 op add *tmp319 :computeRowValues.5:x3 :computeRowValues.5:x4
 
   884 set *tmp316 null
   885 jump *label134 always
   886 label *label133
-    * op equal *tmp322 :computeRowValues.5:size 3
-    * jump *label135 equal *tmp322 false
+  887 jump *label135 notEqual :computeRowValues.5:size 3
   888 op add *tmp324 :computeRowValues.5:x2 :computeRowValues.5:x3
   889 op add *tmp325 :computeRowValues.5:x1 *tmp324
   890 op add *tmp326 :computeRowValues.5:x2 :computeRowValues.5:x3
 
   996 set *tmp363 :tileValue.46:result
   997 label *label144
   998 set :computeRowValues.6:x5 *tmp363
-    * op equal *tmp364 :computeRowValues.6:size 2
-    * jump *label145 equal *tmp364 false
+  999 jump *label145 notEqual :computeRowValues.6:size 2
  1000 op add *tmp366 :computeRowValues.6:x1 :computeRowValues.6:x2
  1001 op add *tmp367 :computeRowValues.6:x2 :computeRowValues.6:x3
  1002 op add *tmp368 :computeRowValues.6:x3 :computeRowValues.6:x4
 
  1006 set *tmp365 null
  1007 jump *label146 always
  1008 label *label145
-    * op equal *tmp371 :computeRowValues.6:size 3
-    * jump *label147 equal *tmp371 false
+ 1009 jump *label147 notEqual :computeRowValues.6:size 3
  1010 op add *tmp373 :computeRowValues.6:x2 :computeRowValues.6:x3
  1011 op add *tmp374 :computeRowValues.6:x1 *tmp373
  1012 op add *tmp375 :computeRowValues.6:x2 :computeRowValues.6:x3
 
  1082 set :updatePosition.9:dx -1.5
  1083 set :updatePosition.9:dy :updateRowPositionsEven:dy
  1084 set :updatePosition.9:value :updateRowPositionsEven:col1
-    * op greaterThan *tmp413 :updatePosition.9:value :findBestPosition:best
-    * jump *label153 equal *tmp413 false
-    * op lessThan *tmp415 :updatePosition.9:value 0.0784313725490196
-    * jump *label155 equal *tmp415 false
+ 1085 jump *label153 lessThanEq :updatePosition.9:value :findBestPosition:best
+ 1086 jump *label155 greaterThanEq :updatePosition.9:value 0.0784313725490196
  1087 set :findBestPosition:bestX :updatePosition.9:dx
  1088 set :findBestPosition:bestY :updatePosition.9:dy
  1089 set :findBestPosition:best :updatePosition.9:value
 
  1097 set :updatePosition.10:dx -0.5
  1098 set :updatePosition.10:dy :updateRowPositionsEven:dy
  1099 set :updatePosition.10:value :updateRowPositionsEven:col2
-    * op greaterThan *tmp417 :updatePosition.10:value :findBestPosition:best
-    * jump *label158 equal *tmp417 false
-    * op lessThan *tmp419 :updatePosition.10:value 0.0784313725490196
-    * jump *label160 equal *tmp419 false
+ 1100 jump *label158 lessThanEq :updatePosition.10:value :findBestPosition:best
+ 1101 jump *label160 greaterThanEq :updatePosition.10:value 0.0784313725490196
  1102 set :findBestPosition:bestX :updatePosition.10:dx
  1103 set :findBestPosition:bestY :updatePosition.10:dy
  1104 set :findBestPosition:best :updatePosition.10:value
 
  1112 set :updatePosition.11:dx 0.5
  1113 set :updatePosition.11:dy :updateRowPositionsEven:dy
  1114 set :updatePosition.11:value :updateRowPositionsEven:col3
-    * op greaterThan *tmp421 :updatePosition.11:value :findBestPosition:best
-    * jump *label163 equal *tmp421 false
-    * op lessThan *tmp423 :updatePosition.11:value 0.0784313725490196
-    * jump *label165 equal *tmp423 false
+ 1115 jump *label163 lessThanEq :updatePosition.11:value :findBestPosition:best
+ 1116 jump *label165 greaterThanEq :updatePosition.11:value 0.0784313725490196
  1117 set :findBestPosition:bestX :updatePosition.11:dx
  1118 set :findBestPosition:bestY :updatePosition.11:dy
  1119 set :findBestPosition:best :updatePosition.11:value
 
  1127 set :updatePosition.12:dx 1.5
  1128 set :updatePosition.12:dy :updateRowPositionsEven:dy
  1129 set :updatePosition.12:value :updateRowPositionsEven:col4
-    * op greaterThan *tmp425 :updatePosition.12:value :findBestPosition:best
-    * jump *label168 equal *tmp425 false
-    * op lessThan *tmp427 :updatePosition.12:value 0.0784313725490196
-    * jump *label170 equal *tmp427 false
+ 1130 jump *label168 lessThanEq :updatePosition.12:value :findBestPosition:best
+ 1131 jump *label170 greaterThanEq :updatePosition.12:value 0.0784313725490196
  1132 set :findBestPosition:bestX :updatePosition.12:dx
  1133 set :findBestPosition:bestY :updatePosition.12:dy
  1134 set :findBestPosition:best :updatePosition.12:value
 
  1146 set :updatePosition.13:dx -1.5
  1147 set :updatePosition.13:dy :updateRowPositionsEven.1:dy
  1148 set :updatePosition.13:value :updateRowPositionsEven.1:col1
-    * op greaterThan *tmp429 :updatePosition.13:value :findBestPosition:best
-    * jump *label174 equal *tmp429 false
-    * op lessThan *tmp431 :updatePosition.13:value 0.0784313725490196
-    * jump *label176 equal *tmp431 false
+ 1149 jump *label174 lessThanEq :updatePosition.13:value :findBestPosition:best
+ 1150 jump *label176 greaterThanEq :updatePosition.13:value 0.0784313725490196
  1151 set :findBestPosition:bestX :updatePosition.13:dx
  1152 set :findBestPosition:bestY :updatePosition.13:dy
  1153 set :findBestPosition:best :updatePosition.13:value
 
  1161 set :updatePosition.14:dx -0.5
  1162 set :updatePosition.14:dy :updateRowPositionsEven.1:dy
  1163 set :updatePosition.14:value :updateRowPositionsEven.1:col2
-    * op greaterThan *tmp433 :updatePosition.14:value :findBestPosition:best
-    * jump *label179 equal *tmp433 false
-    * op lessThan *tmp435 :updatePosition.14:value 0.0784313725490196
-    * jump *label181 equal *tmp435 false
+ 1164 jump *label179 lessThanEq :updatePosition.14:value :findBestPosition:best
+ 1165 jump *label181 greaterThanEq :updatePosition.14:value 0.0784313725490196
  1166 set :findBestPosition:bestX :updatePosition.14:dx
  1167 set :findBestPosition:bestY :updatePosition.14:dy
  1168 set :findBestPosition:best :updatePosition.14:value
 
  1176 set :updatePosition.15:dx 0.5
  1177 set :updatePosition.15:dy :updateRowPositionsEven.1:dy
  1178 set :updatePosition.15:value :updateRowPositionsEven.1:col3
-    * op greaterThan *tmp437 :updatePosition.15:value :findBestPosition:best
-    * jump *label184 equal *tmp437 false
-    * op lessThan *tmp439 :updatePosition.15:value 0.0784313725490196
-    * jump *label186 equal *tmp439 false
+ 1179 jump *label184 lessThanEq :updatePosition.15:value :findBestPosition:best
+ 1180 jump *label186 greaterThanEq :updatePosition.15:value 0.0784313725490196
  1181 set :findBestPosition:bestX :updatePosition.15:dx
  1182 set :findBestPosition:bestY :updatePosition.15:dy
  1183 set :findBestPosition:best :updatePosition.15:value
 
  1191 set :updatePosition.16:dx 1.5
  1192 set :updatePosition.16:dy :updateRowPositionsEven.1:dy
  1193 set :updatePosition.16:value :updateRowPositionsEven.1:col4
-    * op greaterThan *tmp441 :updatePosition.16:value :findBestPosition:best
-    * jump *label189 equal *tmp441 false
-    * op lessThan *tmp443 :updatePosition.16:value 0.0784313725490196
-    * jump *label191 equal *tmp443 false
+ 1194 jump *label189 lessThanEq :updatePosition.16:value :findBestPosition:best
+ 1195 jump *label191 greaterThanEq :updatePosition.16:value 0.0784313725490196
  1196 set :findBestPosition:bestX :updatePosition.16:dx
  1197 set :findBestPosition:bestY :updatePosition.16:dy
  1198 set :findBestPosition:best :updatePosition.16:value
 
  1210 set :updatePosition.17:dx -1.5
  1211 set :updatePosition.17:dy :updateRowPositionsEven.2:dy
  1212 set :updatePosition.17:value :updateRowPositionsEven.2:col1
-    * op greaterThan *tmp445 :updatePosition.17:value :findBestPosition:best
-    * jump *label195 equal *tmp445 false
-    * op lessThan *tmp447 :updatePosition.17:value 0.0784313725490196
-    * jump *label197 equal *tmp447 false
+ 1213 jump *label195 lessThanEq :updatePosition.17:value :findBestPosition:best
+ 1214 jump *label197 greaterThanEq :updatePosition.17:value 0.0784313725490196
  1215 set :findBestPosition:bestX :updatePosition.17:dx
  1216 set :findBestPosition:bestY :updatePosition.17:dy
  1217 set :findBestPosition:best :updatePosition.17:value
 
  1225 set :updatePosition.18:dx -0.5
  1226 set :updatePosition.18:dy :updateRowPositionsEven.2:dy
  1227 set :updatePosition.18:value :updateRowPositionsEven.2:col2
-    * op greaterThan *tmp449 :updatePosition.18:value :findBestPosition:best
-    * jump *label200 equal *tmp449 false
-    * op lessThan *tmp451 :updatePosition.18:value 0.0784313725490196
-    * jump *label202 equal *tmp451 false
+ 1228 jump *label200 lessThanEq :updatePosition.18:value :findBestPosition:best
+ 1229 jump *label202 greaterThanEq :updatePosition.18:value 0.0784313725490196
  1230 set :findBestPosition:bestX :updatePosition.18:dx
  1231 set :findBestPosition:bestY :updatePosition.18:dy
  1232 set :findBestPosition:best :updatePosition.18:value
 
  1240 set :updatePosition.19:dx 0.5
  1241 set :updatePosition.19:dy :updateRowPositionsEven.2:dy
  1242 set :updatePosition.19:value :updateRowPositionsEven.2:col3
-    * op greaterThan *tmp453 :updatePosition.19:value :findBestPosition:best
-    * jump *label205 equal *tmp453 false
-    * op lessThan *tmp455 :updatePosition.19:value 0.0784313725490196
-    * jump *label207 equal *tmp455 false
+ 1243 jump *label205 lessThanEq :updatePosition.19:value :findBestPosition:best
+ 1244 jump *label207 greaterThanEq :updatePosition.19:value 0.0784313725490196
  1245 set :findBestPosition:bestX :updatePosition.19:dx
  1246 set :findBestPosition:bestY :updatePosition.19:dy
  1247 set :findBestPosition:best :updatePosition.19:value
 
  1255 set :updatePosition.20:dx 1.5
  1256 set :updatePosition.20:dy :updateRowPositionsEven.2:dy
  1257 set :updatePosition.20:value :updateRowPositionsEven.2:col4
-    * op greaterThan *tmp457 :updatePosition.20:value :findBestPosition:best
-    * jump *label210 equal *tmp457 false
-    * op lessThan *tmp459 :updatePosition.20:value 0.0784313725490196
-    * jump *label212 equal *tmp459 false
+ 1258 jump *label210 lessThanEq :updatePosition.20:value :findBestPosition:best
+ 1259 jump *label212 greaterThanEq :updatePosition.20:value 0.0784313725490196
  1260 set :findBestPosition:bestX :updatePosition.20:dx
  1261 set :findBestPosition:bestY :updatePosition.20:dy
  1262 set :findBestPosition:best :updatePosition.20:value
 
  1274 set :updatePosition.21:dx -1.5
  1275 set :updatePosition.21:dy :updateRowPositionsEven.3:dy
  1276 set :updatePosition.21:value :updateRowPositionsEven.3:col1
-    * op greaterThan *tmp461 :updatePosition.21:value :findBestPosition:best
-    * jump *label216 equal *tmp461 false
-    * op lessThan *tmp463 :updatePosition.21:value 0.0784313725490196
-    * jump *label218 equal *tmp463 false
+ 1277 jump *label216 lessThanEq :updatePosition.21:value :findBestPosition:best
+ 1278 jump *label218 greaterThanEq :updatePosition.21:value 0.0784313725490196
  1279 set :findBestPosition:bestX :updatePosition.21:dx
  1280 set :findBestPosition:bestY :updatePosition.21:dy
  1281 set :findBestPosition:best :updatePosition.21:value
 
  1289 set :updatePosition.22:dx -0.5
  1290 set :updatePosition.22:dy :updateRowPositionsEven.3:dy
  1291 set :updatePosition.22:value :updateRowPositionsEven.3:col2
-    * op greaterThan *tmp465 :updatePosition.22:value :findBestPosition:best
-    * jump *label221 equal *tmp465 false
-    * op lessThan *tmp467 :updatePosition.22:value 0.0784313725490196
-    * jump *label223 equal *tmp467 false
+ 1292 jump *label221 lessThanEq :updatePosition.22:value :findBestPosition:best
+ 1293 jump *label223 greaterThanEq :updatePosition.22:value 0.0784313725490196
  1294 set :findBestPosition:bestX :updatePosition.22:dx
  1295 set :findBestPosition:bestY :updatePosition.22:dy
  1296 set :findBestPosition:best :updatePosition.22:value
 
  1304 set :updatePosition.23:dx 0.5
  1305 set :updatePosition.23:dy :updateRowPositionsEven.3:dy
  1306 set :updatePosition.23:value :updateRowPositionsEven.3:col3
-    * op greaterThan *tmp469 :updatePosition.23:value :findBestPosition:best
-    * jump *label226 equal *tmp469 false
-    * op lessThan *tmp471 :updatePosition.23:value 0.0784313725490196
-    * jump *label228 equal *tmp471 false
+ 1307 jump *label226 lessThanEq :updatePosition.23:value :findBestPosition:best
+ 1308 jump *label228 greaterThanEq :updatePosition.23:value 0.0784313725490196
  1309 set :findBestPosition:bestX :updatePosition.23:dx
  1310 set :findBestPosition:bestY :updatePosition.23:dy
  1311 set :findBestPosition:best :updatePosition.23:value
 
  1319 set :updatePosition.24:dx 1.5
  1320 set :updatePosition.24:dy :updateRowPositionsEven.3:dy
  1321 set :updatePosition.24:value :updateRowPositionsEven.3:col4
-    * op greaterThan *tmp473 :updatePosition.24:value :findBestPosition:best
-    * jump *label231 equal *tmp473 false
-    * op lessThan *tmp475 :updatePosition.24:value 0.0784313725490196
-    * jump *label233 equal *tmp475 false
+ 1322 jump *label231 lessThanEq :updatePosition.24:value :findBestPosition:best
+ 1323 jump *label233 greaterThanEq :updatePosition.24:value 0.0784313725490196
  1324 set :findBestPosition:bestX :updatePosition.24:dx
  1325 set :findBestPosition:bestY :updatePosition.24:dy
  1326 set :findBestPosition:best :updatePosition.24:value

Modifications by Iterated phase, Single Step Elimination, pass 1, iteration 1 (-50 instructions):
 
   674 set :findBestPosition:bestX :updatePosition:dx
   675 set :findBestPosition:bestY :updatePosition:dy
   676 set :findBestPosition:best :updatePosition:value
-    * jump *label82 always
   677 label *label81
   678 label *label82
-    * jump *label80 always
   679 label *label79
   680 label *label80
   681 label *label78
 
   687 set :findBestPosition:bestX :updatePosition.1:dx
   688 set :findBestPosition:bestY :updatePosition.1:dy
   689 set :findBestPosition:best :updatePosition.1:value
-    * jump *label87 always
   690 label *label86
   691 label *label87
-    * jump *label85 always
   692 label *label84
   693 label *label85
   694 label *label83
 
   700 set :findBestPosition:bestX :updatePosition.2:dx
   701 set :findBestPosition:bestY :updatePosition.2:dy
   702 set :findBestPosition:best :updatePosition.2:value
-    * jump *label92 always
   703 label *label91
   704 label *label92
-    * jump *label90 always
   705 label *label89
   706 label *label90
   707 label *label88
 
   717 set :findBestPosition:bestX :updatePosition.3:dx
   718 set :findBestPosition:bestY :updatePosition.3:dy
   719 set :findBestPosition:best :updatePosition.3:value
-    * jump *label98 always
   720 label *label97
   721 label *label98
-    * jump *label96 always
   722 label *label95
   723 label *label96
   724 label *label94
 
   730 set :findBestPosition:bestX :updatePosition.4:dx
   731 set :findBestPosition:bestY :updatePosition.4:dy
   732 set :findBestPosition:best :updatePosition.4:value
-    * jump *label103 always
   733 label *label102
   734 label *label103
-    * jump *label101 always
   735 label *label100
   736 label *label101
   737 label *label99
 
   743 set :findBestPosition:bestX :updatePosition.5:dx
   744 set :findBestPosition:bestY :updatePosition.5:dy
   745 set :findBestPosition:best :updatePosition.5:value
-    * jump *label108 always
   746 label *label107
   747 label *label108
-    * jump *label106 always
   748 label *label105
   749 label *label106
   750 label *label104
 
   760 set :findBestPosition:bestX :updatePosition.6:dx
   761 set :findBestPosition:bestY :updatePosition.6:dy
   762 set :findBestPosition:best :updatePosition.6:value
-    * jump *label114 always
   763 label *label113
   764 label *label114
-    * jump *label112 always
   765 label *label111
   766 label *label112
   767 label *label110
 
   773 set :findBestPosition:bestX :updatePosition.7:dx
   774 set :findBestPosition:bestY :updatePosition.7:dy
   775 set :findBestPosition:best :updatePosition.7:value
-    * jump *label119 always
   776 label *label118
   777 label *label119
-    * jump *label117 always
   778 label *label116
   779 label *label117
   780 label *label115
 
   786 set :findBestPosition:bestX :updatePosition.8:dx
   787 set :findBestPosition:bestY :updatePosition.8:dy
   788 set :findBestPosition:best :updatePosition.8:value
-    * jump *label124 always
   789 label *label123
   790 label *label124
-    * jump *label122 always
   791 label *label121
   792 label *label122
   793 label *label120
 
  1069 set :findBestPosition:bestX :updatePosition.9:dx
  1070 set :findBestPosition:bestY :updatePosition.9:dy
  1071 set :findBestPosition:best :updatePosition.9:value
-    * jump *label156 always
  1072 label *label155
  1073 label *label156
-    * jump *label154 always
  1074 label *label153
  1075 label *label154
  1076 label *label152
 
  1082 set :findBestPosition:bestX :updatePosition.10:dx
  1083 set :findBestPosition:bestY :updatePosition.10:dy
  1084 set :findBestPosition:best :updatePosition.10:value
-    * jump *label161 always
  1085 label *label160
  1086 label *label161
-    * jump *label159 always
  1087 label *label158
  1088 label *label159
  1089 label *label157
 
  1095 set :findBestPosition:bestX :updatePosition.11:dx
  1096 set :findBestPosition:bestY :updatePosition.11:dy
  1097 set :findBestPosition:best :updatePosition.11:value
-    * jump *label166 always
  1098 label *label165
  1099 label *label166
-    * jump *label164 always
  1100 label *label163
  1101 label *label164
  1102 label *label162
 
  1108 set :findBestPosition:bestX :updatePosition.12:dx
  1109 set :findBestPosition:bestY :updatePosition.12:dy
  1110 set :findBestPosition:best :updatePosition.12:value
-    * jump *label171 always
  1111 label *label170
  1112 label *label171
-    * jump *label169 always
  1113 label *label168
  1114 label *label169
  1115 label *label167
 
  1125 set :findBestPosition:bestX :updatePosition.13:dx
  1126 set :findBestPosition:bestY :updatePosition.13:dy
  1127 set :findBestPosition:best :updatePosition.13:value
-    * jump *label177 always
  1128 label *label176
  1129 label *label177
-    * jump *label175 always
  1130 label *label174
  1131 label *label175
  1132 label *label173
 
  1138 set :findBestPosition:bestX :updatePosition.14:dx
  1139 set :findBestPosition:bestY :updatePosition.14:dy
  1140 set :findBestPosition:best :updatePosition.14:value
-    * jump *label182 always
  1141 label *label181
  1142 label *label182
-    * jump *label180 always
  1143 label *label179
  1144 label *label180
  1145 label *label178
 
  1151 set :findBestPosition:bestX :updatePosition.15:dx
  1152 set :findBestPosition:bestY :updatePosition.15:dy
  1153 set :findBestPosition:best :updatePosition.15:value
-    * jump *label187 always
  1154 label *label186
  1155 label *label187
-    * jump *label185 always
  1156 label *label184
  1157 label *label185
  1158 label *label183
 
  1164 set :findBestPosition:bestX :updatePosition.16:dx
  1165 set :findBestPosition:bestY :updatePosition.16:dy
  1166 set :findBestPosition:best :updatePosition.16:value
-    * jump *label192 always
  1167 label *label191
  1168 label *label192
-    * jump *label190 always
  1169 label *label189
  1170 label *label190
  1171 label *label188
 
  1181 set :findBestPosition:bestX :updatePosition.17:dx
  1182 set :findBestPosition:bestY :updatePosition.17:dy
  1183 set :findBestPosition:best :updatePosition.17:value
-    * jump *label198 always
  1184 label *label197
  1185 label *label198
-    * jump *label196 always
  1186 label *label195
  1187 label *label196
  1188 label *label194
 
  1194 set :findBestPosition:bestX :updatePosition.18:dx
  1195 set :findBestPosition:bestY :updatePosition.18:dy
  1196 set :findBestPosition:best :updatePosition.18:value
-    * jump *label203 always
  1197 label *label202
  1198 label *label203
-    * jump *label201 always
  1199 label *label200
  1200 label *label201
  1201 label *label199
 
  1207 set :findBestPosition:bestX :updatePosition.19:dx
  1208 set :findBestPosition:bestY :updatePosition.19:dy
  1209 set :findBestPosition:best :updatePosition.19:value
-    * jump *label208 always
  1210 label *label207
  1211 label *label208
-    * jump *label206 always
  1212 label *label205
  1213 label *label206
  1214 label *label204
 
  1220 set :findBestPosition:bestX :updatePosition.20:dx
  1221 set :findBestPosition:bestY :updatePosition.20:dy
  1222 set :findBestPosition:best :updatePosition.20:value
-    * jump *label213 always
  1223 label *label212
  1224 label *label213
-    * jump *label211 always
  1225 label *label210
  1226 label *label211
  1227 label *label209
 
  1237 set :findBestPosition:bestX :updatePosition.21:dx
  1238 set :findBestPosition:bestY :updatePosition.21:dy
  1239 set :findBestPosition:best :updatePosition.21:value
-    * jump *label219 always
  1240 label *label218
  1241 label *label219
-    * jump *label217 always
  1242 label *label216
  1243 label *label217
  1244 label *label215
 
  1250 set :findBestPosition:bestX :updatePosition.22:dx
  1251 set :findBestPosition:bestY :updatePosition.22:dy
  1252 set :findBestPosition:best :updatePosition.22:value
-    * jump *label224 always
  1253 label *label223
  1254 label *label224
-    * jump *label222 always
  1255 label *label221
  1256 label *label222
  1257 label *label220
 
  1263 set :findBestPosition:bestX :updatePosition.23:dx
  1264 set :findBestPosition:bestY :updatePosition.23:dy
  1265 set :findBestPosition:best :updatePosition.23:value
-    * jump *label229 always
  1266 label *label228
  1267 label *label229
-    * jump *label227 always
  1268 label *label226
  1269 label *label227
  1270 label *label225
 
  1276 set :findBestPosition:bestX :updatePosition.24:dx
  1277 set :findBestPosition:bestY :updatePosition.24:dy
  1278 set :findBestPosition:best :updatePosition.24:value
-    * jump *label234 always
  1279 label *label233
  1280 label *label234
-    * jump *label232 always
  1281 label *label231
  1282 label *label232
  1283 label *label230

Modifications by Iterated phase, Expression Optimization, pass 1, iteration 1:
 
    68 set *tmp10 :tileValue.1:result
    69 label *label17
    70 set :computeRowValues:x2 *tmp10
-    * op add :tileValue.2:x :computeRowValues:x 0
+   71 set :tileValue.2:x :computeRowValues:x
    72 set :tileValue.2:y :computeRowValues:y
    73 set :tileValue.2:ore :computeRowValues:ore
    74 ucontrol getBlock :tileValue.2:x :tileValue.2:y type building floor
 
   190 set *tmp59 :tileValue.8:result
   191 label *label29
   192 set :computeRowValues.1:x2 *tmp59
-    * op add :tileValue.9:x :computeRowValues.1:x 0
+  193 set :tileValue.9:x :computeRowValues.1:x
   194 set :tileValue.9:y :computeRowValues.1:y
   195 set :tileValue.9:ore :computeRowValues.1:ore
   196 ucontrol getBlock :tileValue.9:x :tileValue.9:y type building floor
 
   287 set *tmp55 *tmp67
   288 label *label27
   289 set :findBestPosition:y2 *tmp55
-    * op add *tmp103 :findBestPosition:y 0
+  290 set *tmp103 :findBestPosition:y
   291 set :computeRowValues.2:x :findBestPosition:x
   292 set :computeRowValues.2:y *tmp103
   293 set :computeRowValues.2:ore :findBestPosition:ore
 
   312 set *tmp108 :tileValue.15:result
   313 label *label41
   314 set :computeRowValues.2:x2 *tmp108
-    * op add :tileValue.16:x :computeRowValues.2:x 0
+  315 set :tileValue.16:x :computeRowValues.2:x
   316 set :tileValue.16:y :computeRowValues.2:y
   317 set :tileValue.16:ore :computeRowValues.2:ore
   318 ucontrol getBlock :tileValue.16:x :tileValue.16:y type building floor
 
   434 set *tmp157 :tileValue.22:result
   435 label *label53
   436 set :computeRowValues.3:x2 *tmp157
-    * op add :tileValue.23:x :computeRowValues.3:x 0
+  437 set :tileValue.23:x :computeRowValues.3:x
   438 set :tileValue.23:y :computeRowValues.3:y
   439 set :tileValue.23:ore :computeRowValues.3:ore
   440 ucontrol getBlock :tileValue.23:x :tileValue.23:y type building floor
 
   556 set *tmp206 :tileValue.29:result
   557 label *label65
   558 set :computeRowValues.4:x2 *tmp206
-    * op add :tileValue.30:x :computeRowValues.4:x 0
+  559 set :tileValue.30:x :computeRowValues.4:x
   560 set :tileValue.30:y :computeRowValues.4:y
   561 set :tileValue.30:ore :computeRowValues.4:ore
   562 ucontrol getBlock :tileValue.30:x :tileValue.30:y type building floor
 
   826 set *tmp308 :tileValue.36:result
   827 label *label129
   828 set :computeRowValues.5:x2 *tmp308
-    * op add :tileValue.37:x :computeRowValues.5:x 0
+  829 set :tileValue.37:x :computeRowValues.5:x
   830 set :tileValue.37:y :computeRowValues.5:y
   831 set :tileValue.37:ore :computeRowValues.5:ore
   832 ucontrol getBlock :tileValue.37:x :tileValue.37:y type building floor
 
   948 set *tmp357 :tileValue.43:result
   949 label *label141
   950 set :computeRowValues.6:x2 *tmp357
-    * op add :tileValue.44:x :computeRowValues.6:x 0
+  951 set :tileValue.44:x :computeRowValues.6:x
   952 set :tileValue.44:y :computeRowValues.6:y
   953 set :tileValue.44:ore :computeRowValues.6:ore
   954 ucontrol getBlock :tileValue.44:x :tileValue.44:y type building floor

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1 (-23 instructions):
 
    20 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
    21 set :isSolid:x *tmp1
    22 set :isSolid:y *tmp2
-    * ucontrol getBlock :isSolid:x :isSolid:y type building floor
+   23 ucontrol getBlock *tmp1 *tmp2 type building floor
    24 sensor solid type @solid
    25 select :isSolid:result notEqual solid false 1 0
    26 set *tmp3 :isSolid:result
    27 label *label13
-    * op or :createTerrainMask:result *tmp0 *tmp3
+   28 op or :createTerrainMask:result *tmp0 :isSolid:result
    29 label *label11
    30 op sub :createTerrainMask:c :createTerrainMask:c 1
    31 jump *label10 always
 
    36 label *label9
    37 set :createTerrainMask*retval :createTerrainMask:result
    38 jump *label6 always
-    * set :createTerrainMask*retval null
    39 label *label6
    40 set :createTerrainMask*finished true
    41 jump *label5 always
 
    47 set :computeRowValues:y *tmp5
    48 set :computeRowValues:ore :findBestPosition:ore
    49 set :computeRowValues:size :findBestPosition:size
-    * op sub :tileValue:x :computeRowValues:x 2
-    * set :tileValue:y :computeRowValues:y
-    * set :tileValue:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue:x :tileValue:y type building floor
-    * select value equal floor :tileValue:ore 0.00392156862745098 0
+   50 op sub :tileValue:x :findBestPosition:x 2
+   51 set :tileValue:y *tmp5
+   52 set :tileValue:ore :findBestPosition:ore
+   53 ucontrol getBlock :tileValue:x :computeRowValues:y type building floor
+   54 select value equal floor :computeRowValues:ore 0.00392156862745098 0
    55 sensor solid type @solid
    56 select :tileValue:result notEqual solid false 0.09803921568627451 value
    57 set *tmp8 :tileValue:result
    58 label *label16
-    * set :computeRowValues:x1 *tmp8
-    * op sub :tileValue.1:x :computeRowValues:x 1
-    * set :tileValue.1:y :computeRowValues:y
-    * set :tileValue.1:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue.1:x :tileValue.1:y type building floor
-    * select value equal floor :tileValue.1:ore 0.00392156862745098 0
+   59 set :computeRowValues:x1 :tileValue:result
+   60 op sub :tileValue.1:x :findBestPosition:x 1
+   61 set :tileValue.1:y *tmp5
+   62 set :tileValue.1:ore :findBestPosition:ore
+   63 ucontrol getBlock :tileValue.1:x :computeRowValues:y type building floor
+   64 select value equal floor :computeRowValues:ore 0.00392156862745098 0
    65 sensor solid type @solid
    66 select :tileValue.1:result notEqual solid false 0.09803921568627451 value
    67 set *tmp10 :tileValue.1:result
    68 label *label17
-    * set :computeRowValues:x2 *tmp10
-    * set :tileValue.2:x :computeRowValues:x
-    * set :tileValue.2:y :computeRowValues:y
-    * set :tileValue.2:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue.2:x :tileValue.2:y type building floor
-    * select value equal floor :tileValue.2:ore 0.00392156862745098 0
+   69 set :computeRowValues:x2 :tileValue.1:result
+   70 set :tileValue.2:x :findBestPosition:x
+   71 set :tileValue.2:y *tmp5
+   72 set :tileValue.2:ore :findBestPosition:ore
+   73 ucontrol getBlock :computeRowValues:x :computeRowValues:y type building floor
+   74 select value equal floor :computeRowValues:ore 0.00392156862745098 0
    75 sensor solid type @solid
    76 select :tileValue.2:result notEqual solid false 0.09803921568627451 value
    77 set *tmp12 :tileValue.2:result
    78 label *label18
-    * set :computeRowValues:x3 *tmp12
-    * op add :tileValue.3:x :computeRowValues:x 1
-    * set :tileValue.3:y :computeRowValues:y
-    * set :tileValue.3:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue.3:x :tileValue.3:y type building floor
-    * select value equal floor :tileValue.3:ore 0.00392156862745098 0
+   79 set :computeRowValues:x3 :tileValue.2:result
+   80 op add :tileValue.3:x :findBestPosition:x 1
+   81 set :tileValue.3:y *tmp5
+   82 set :tileValue.3:ore :findBestPosition:ore
+   83 ucontrol getBlock :tileValue.3:x :computeRowValues:y type building floor
+   84 select value equal floor :computeRowValues:ore 0.00392156862745098 0
    85 sensor solid type @solid
    86 select :tileValue.3:result notEqual solid false 0.09803921568627451 value
    87 set *tmp14 :tileValue.3:result
    88 label *label19
-    * set :computeRowValues:x4 *tmp14
-    * op add :tileValue.4:x :computeRowValues:x 2
-    * set :tileValue.4:y :computeRowValues:y
-    * set :tileValue.4:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue.4:x :tileValue.4:y type building floor
-    * select value equal floor :tileValue.4:ore 0.00392156862745098 0
+   89 set :computeRowValues:x4 :tileValue.3:result
+   90 op add :tileValue.4:x :findBestPosition:x 2
+   91 set :tileValue.4:y *tmp5
+   92 set :tileValue.4:ore :findBestPosition:ore
+   93 ucontrol getBlock :tileValue.4:x :computeRowValues:y type building floor
+   94 select value equal floor :computeRowValues:ore 0.00392156862745098 0
    95 sensor solid type @solid
    96 select :tileValue.4:result notEqual solid false 0.09803921568627451 value
    97 set *tmp16 :tileValue.4:result
    98 label *label20
-    * set :computeRowValues:x5 *tmp16
-    * jump *label21 notEqual :computeRowValues:size 2
-    * op add *tmp19 :computeRowValues:x1 :computeRowValues:x2
-    * op add *tmp20 :computeRowValues:x2 :computeRowValues:x3
-    * op add *tmp21 :computeRowValues:x3 :computeRowValues:x4
-    * op add *tmp22 :computeRowValues:x4 :computeRowValues:x5
+   99 set :computeRowValues:x5 :tileValue.4:result
+  100 jump *label21 notEqual :findBestPosition:size 2
+  101 op add *tmp19 *tmp8 *tmp10
+  102 op add *tmp20 *tmp10 *tmp12
+  103 op add *tmp21 *tmp12 *tmp14
+  104 op add *tmp22 *tmp14 *tmp16
   105 packcolor *tmp6 *tmp19 *tmp20 *tmp21 *tmp22
   106 jump *label15 always
-    * set *tmp18 null
   107 jump *label22 always
   108 label *label21
-    * jump *label23 notEqual :computeRowValues:size 3
-    * op add *tmp26 :computeRowValues:x2 :computeRowValues:x3
-    * op add *tmp27 :computeRowValues:x1 *tmp26
-    * op add *tmp28 :computeRowValues:x2 :computeRowValues:x3
-    * op add *tmp29 *tmp28 :computeRowValues:x4
-    * op add *tmp30 :computeRowValues:x3 :computeRowValues:x4
-    * op add *tmp31 *tmp30 :computeRowValues:x5
+  109 jump *label23 notEqual :findBestPosition:size 3
+  110 op add *tmp26 *tmp10 *tmp12
+  111 op add *tmp27 *tmp8 *tmp26
+  112 op add *tmp28 *tmp10 *tmp12
+  113 op add *tmp29 *tmp26 *tmp14
+  114 op add *tmp30 *tmp12 *tmp14
+  115 op add *tmp31 *tmp30 *tmp16
   116 packcolor *tmp6 *tmp27 *tmp29 *tmp31 0
   117 jump *label15 always
-    * set *tmp25 null
   118 jump *label24 always
   119 label *label23
-    * op sub :tileValue.5:x :computeRowValues:x 3
-    * set :tileValue.5:y :computeRowValues:y
-    * set :tileValue.5:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue.5:x :tileValue.5:y type building floor
-    * select value equal floor :tileValue.5:ore 0.00392156862745098 0
+  120 op sub :tileValue.5:x :findBestPosition:x 3
+  121 set :tileValue.5:y *tmp5
+  122 set :tileValue.5:ore :findBestPosition:ore
+  123 ucontrol getBlock :tileValue.5:x :computeRowValues:y type building floor
+  124 select value equal floor :computeRowValues:ore 0.00392156862745098 0
   125 sensor solid type @solid
   126 select :tileValue.5:result notEqual solid false 0.09803921568627451 value
   127 set *tmp34 :tileValue.5:result
   128 label *label25
-    * set :computeRowValues:x0 *tmp34
-    * op add :tileValue.6:x :computeRowValues:x 3
-    * set :tileValue.6:y :computeRowValues:y
-    * set :tileValue.6:ore :computeRowValues:ore
-    * ucontrol getBlock :tileValue.6:x :tileValue.6:y type building floor
-    * select value equal floor :tileValue.6:ore 0.00392156862745098 0
+  129 set :computeRowValues:x0 :tileValue.5:result
+  130 op add :tileValue.6:x :findBestPosition:x 3
+  131 set :tileValue.6:y *tmp5
+  132 set :tileValue.6:ore :findBestPosition:ore
+  133 ucontrol getBlock :tileValue.6:x :computeRowValues:y type building floor
+  134 select value equal floor :computeRowValues:ore 0.00392156862745098 0
   135 sensor solid type @solid
   136 select :tileValue.6:result notEqual solid false 0.09803921568627451 value
   137 set *tmp36 :tileValue.6:result
   138 label *label26
-    * set :computeRowValues:x6 *tmp36
-    * op add *tmp37 :computeRowValues:x1 :computeRowValues:x2
-    * op add *tmp38 *tmp37 :computeRowValues:x3
-    * op add *tmp39 :computeRowValues:x0 *tmp38
+  139 set :computeRowValues:x6 :tileValue.6:result
+  140 op add *tmp37 *tmp8 *tmp10
+  141 op add *tmp38 *tmp37 *tmp12
+  142 op add *tmp39 *tmp34 *tmp38
   143 op min *tmp40 0.09803921568627451 *tmp39
-    * op add *tmp41 :computeRowValues:x1 :computeRowValues:x2
-    * op add *tmp42 *tmp41 :computeRowValues:x3
-    * op add *tmp43 *tmp42 :computeRowValues:x4
+  144 op add *tmp41 *tmp8 *tmp10
+  145 op add *tmp42 *tmp37 *tmp12
+  146 op add *tmp43 *tmp38 *tmp14
   147 op min *tmp44 0.09803921568627451 *tmp43
-    * op add *tmp45 :computeRowValues:x3 :computeRowValues:x4
-    * op add *tmp46 *tmp45 :computeRowValues:x5
-    * op add *tmp47 :computeRowValues:x2 *tmp46
+  148 op add *tmp45 *tmp12 *tmp14
+  149 op add *tmp46 *tmp45 *tmp16
+  150 op add *tmp47 *tmp10 *tmp46
   151 op min *tmp48 0.09803921568627451 *tmp47
-    * op add *tmp49 :computeRowValues:x3 :computeRowValues:x4
-    * op add *tmp50 *tmp49 :computeRowValues:x5
-    * op add *tmp51 *tmp50 :computeRowValues:x6
+  152 op add *tmp49 *tmp12 *tmp14
+  153 op add *tmp50 *tmp45 *tmp16
+  154 op add *tmp51 *tmp46 *tmp36
   155 op min *tmp52 0.09803921568627451 *tmp51
   156 packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52
   157 jump *label15 always
-    * set *tmp25 null
   158 label *label24
-    * set *tmp18 *tmp25
+  159 set *tmp18 null
   160 label *label22
-    * set *tmp6 *tmp18
+  161 set *tmp6 null
   162 label *label15
   163 set :findBestPosition:y1 *tmp6
   164 op sub *tmp54 :findBestPosition:y 1
 
   166 set :computeRowValues.1:y *tmp54
   167 set :computeRowValues.1:ore :findBestPosition:ore
   168 set :computeRowValues.1:size :findBestPosition:size
-    * op sub :tileValue.7:x :computeRowValues.1:x 2
-    * set :tileValue.7:y :computeRowValues.1:y
-    * set :tileValue.7:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.7:x :tileValue.7:y type building floor
-    * select value equal floor :tileValue.7:ore 0.00392156862745098 0
+  169 op sub :tileValue.7:x :findBestPosition:x 2
+  170 set :tileValue.7:y *tmp54
+  171 set :tileValue.7:ore :findBestPosition:ore
+  172 ucontrol getBlock :tileValue:x :computeRowValues.1:y type building floor
+  173 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   174 sensor solid type @solid
   175 select :tileValue.7:result notEqual solid false 0.09803921568627451 value
   176 set *tmp57 :tileValue.7:result
   177 label *label28
-    * set :computeRowValues.1:x1 *tmp57
-    * op sub :tileValue.8:x :computeRowValues.1:x 1
-    * set :tileValue.8:y :computeRowValues.1:y
-    * set :tileValue.8:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.8:x :tileValue.8:y type building floor
-    * select value equal floor :tileValue.8:ore 0.00392156862745098 0
+  178 set :computeRowValues.1:x1 :tileValue.7:result
+  179 op sub :tileValue.8:x :findBestPosition:x 1
+  180 set :tileValue.8:y *tmp54
+  181 set :tileValue.8:ore :findBestPosition:ore
+  182 ucontrol getBlock :tileValue.1:x :computeRowValues.1:y type building floor
+  183 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   184 sensor solid type @solid
   185 select :tileValue.8:result notEqual solid false 0.09803921568627451 value
   186 set *tmp59 :tileValue.8:result
   187 label *label29
-    * set :computeRowValues.1:x2 *tmp59
-    * set :tileValue.9:x :computeRowValues.1:x
-    * set :tileValue.9:y :computeRowValues.1:y
-    * set :tileValue.9:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.9:x :tileValue.9:y type building floor
-    * select value equal floor :tileValue.9:ore 0.00392156862745098 0
+  188 set :computeRowValues.1:x2 :tileValue.8:result
+  189 set :tileValue.9:x :findBestPosition:x
+  190 set :tileValue.9:y *tmp54
+  191 set :tileValue.9:ore :findBestPosition:ore
+  192 ucontrol getBlock :computeRowValues.1:x :computeRowValues.1:y type building floor
+  193 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   194 sensor solid type @solid
   195 select :tileValue.9:result notEqual solid false 0.09803921568627451 value
   196 set *tmp61 :tileValue.9:result
   197 label *label30
-    * set :computeRowValues.1:x3 *tmp61
-    * op add :tileValue.10:x :computeRowValues.1:x 1
-    * set :tileValue.10:y :computeRowValues.1:y
-    * set :tileValue.10:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.10:x :tileValue.10:y type building floor
-    * select value equal floor :tileValue.10:ore 0.00392156862745098 0
+  198 set :computeRowValues.1:x3 :tileValue.9:result
+  199 op add :tileValue.10:x :findBestPosition:x 1
+  200 set :tileValue.10:y *tmp54
+  201 set :tileValue.10:ore :findBestPosition:ore
+  202 ucontrol getBlock :tileValue.3:x :computeRowValues.1:y type building floor
+  203 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   204 sensor solid type @solid
   205 select :tileValue.10:result notEqual solid false 0.09803921568627451 value
   206 set *tmp63 :tileValue.10:result
   207 label *label31
-    * set :computeRowValues.1:x4 *tmp63
-    * op add :tileValue.11:x :computeRowValues.1:x 2
-    * set :tileValue.11:y :computeRowValues.1:y
-    * set :tileValue.11:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.11:x :tileValue.11:y type building floor
-    * select value equal floor :tileValue.11:ore 0.00392156862745098 0
+  208 set :computeRowValues.1:x4 :tileValue.10:result
+  209 op add :tileValue.11:x :findBestPosition:x 2
+  210 set :tileValue.11:y *tmp54
+  211 set :tileValue.11:ore :findBestPosition:ore
+  212 ucontrol getBlock :tileValue.4:x :computeRowValues.1:y type building floor
+  213 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   214 sensor solid type @solid
   215 select :tileValue.11:result notEqual solid false 0.09803921568627451 value
   216 set *tmp65 :tileValue.11:result
   217 label *label32
-    * set :computeRowValues.1:x5 *tmp65
-    * jump *label33 notEqual :computeRowValues.1:size 2
-    * op add *tmp68 :computeRowValues.1:x1 :computeRowValues.1:x2
-    * op add *tmp69 :computeRowValues.1:x2 :computeRowValues.1:x3
-    * op add *tmp70 :computeRowValues.1:x3 :computeRowValues.1:x4
-    * op add *tmp71 :computeRowValues.1:x4 :computeRowValues.1:x5
+  218 set :computeRowValues.1:x5 :tileValue.11:result
+  219 jump *label33 notEqual :findBestPosition:size 2
+  220 op add *tmp68 *tmp57 *tmp59
+  221 op add *tmp69 *tmp59 *tmp61
+  222 op add *tmp70 *tmp61 *tmp63
+  223 op add *tmp71 *tmp63 *tmp65
   224 packcolor *tmp55 *tmp68 *tmp69 *tmp70 *tmp71
   225 jump *label27 always
-    * set *tmp67 null
   226 jump *label34 always
   227 label *label33
-    * jump *label35 notEqual :computeRowValues.1:size 3
-    * op add *tmp75 :computeRowValues.1:x2 :computeRowValues.1:x3
-    * op add *tmp76 :computeRowValues.1:x1 *tmp75
-    * op add *tmp77 :computeRowValues.1:x2 :computeRowValues.1:x3
-    * op add *tmp78 *tmp77 :computeRowValues.1:x4
-    * op add *tmp79 :computeRowValues.1:x3 :computeRowValues.1:x4
-    * op add *tmp80 *tmp79 :computeRowValues.1:x5
+  228 jump *label35 notEqual :findBestPosition:size 3
+  229 op add *tmp75 *tmp59 *tmp61
+  230 op add *tmp76 *tmp57 *tmp75
+  231 op add *tmp77 *tmp59 *tmp61
+  232 op add *tmp78 *tmp75 *tmp63
+  233 op add *tmp79 *tmp61 *tmp63
+  234 op add *tmp80 *tmp79 *tmp65
   235 packcolor *tmp55 *tmp76 *tmp78 *tmp80 0
   236 jump *label27 always
-    * set *tmp74 null
   237 jump *label36 always
   238 label *label35
-    * op sub :tileValue.12:x :computeRowValues.1:x 3
-    * set :tileValue.12:y :computeRowValues.1:y
-    * set :tileValue.12:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.12:x :tileValue.12:y type building floor
-    * select value equal floor :tileValue.12:ore 0.00392156862745098 0
+  239 op sub :tileValue.12:x :findBestPosition:x 3
+  240 set :tileValue.12:y *tmp54
+  241 set :tileValue.12:ore :findBestPosition:ore
+  242 ucontrol getBlock :tileValue.12:x :computeRowValues.1:y type building floor
+  243 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   244 sensor solid type @solid
   245 select :tileValue.12:result notEqual solid false 0.09803921568627451 value
   246 set *tmp83 :tileValue.12:result
   247 label *label37
-    * set :computeRowValues.1:x0 *tmp83
-    * op add :tileValue.13:x :computeRowValues.1:x 3
-    * set :tileValue.13:y :computeRowValues.1:y
-    * set :tileValue.13:ore :computeRowValues.1:ore
-    * ucontrol getBlock :tileValue.13:x :tileValue.13:y type building floor
-    * select value equal floor :tileValue.13:ore 0.00392156862745098 0
+  248 set :computeRowValues.1:x0 :tileValue.12:result
+  249 op add :tileValue.13:x :findBestPosition:x 3
+  250 set :tileValue.13:y *tmp54
+  251 set :tileValue.13:ore :findBestPosition:ore
+  252 ucontrol getBlock :tileValue.13:x :computeRowValues.1:y type building floor
+  253 select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
   254 sensor solid type @solid
   255 select :tileValue.13:result notEqual solid false 0.09803921568627451 value
   256 set *tmp85 :tileValue.13:result
   257 label *label38
-    * set :computeRowValues.1:x6 *tmp85
-    * op add *tmp86 :computeRowValues.1:x1 :computeRowValues.1:x2
-    * op add *tmp87 *tmp86 :computeRowValues.1:x3
-    * op add *tmp88 :computeRowValues.1:x0 *tmp87
+  258 set :computeRowValues.1:x6 :tileValue.13:result
+  259 op add *tmp86 *tmp57 *tmp59
+  260 op add *tmp87 *tmp86 *tmp61
+  261 op add *tmp88 *tmp83 *tmp87
   262 op min *tmp89 0.09803921568627451 *tmp88
-    * op add *tmp90 :computeRowValues.1:x1 :computeRowValues.1:x2
-    * op add *tmp91 *tmp90 :computeRowValues.1:x3
-    * op add *tmp92 *tmp91 :computeRowValues.1:x4
+  263 op add *tmp90 *tmp57 *tmp59
+  264 op add *tmp91 *tmp86 *tmp61
+  265 op add *tmp92 *tmp87 *tmp63
   266 op min *tmp93 0.09803921568627451 *tmp92
-    * op add *tmp94 :computeRowValues.1:x3 :computeRowValues.1:x4
-    * op add *tmp95 *tmp94 :computeRowValues.1:x5
-    * op add *tmp96 :computeRowValues.1:x2 *tmp95
+  267 op add *tmp94 *tmp61 *tmp63
+  268 op add *tmp95 *tmp94 *tmp65
+  269 op add *tmp96 *tmp59 *tmp95
   270 op min *tmp97 0.09803921568627451 *tmp96
-    * op add *tmp98 :computeRowValues.1:x3 :computeRowValues.1:x4
-    * op add *tmp99 *tmp98 :computeRowValues.1:x5
-    * op add *tmp100 *tmp99 :computeRowValues.1:x6
+  271 op add *tmp98 *tmp61 *tmp63
+  272 op add *tmp99 *tmp94 *tmp65
+  273 op add *tmp100 *tmp95 *tmp85
   274 op min *tmp101 0.09803921568627451 *tmp100
   275 packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101
   276 jump *label27 always
-    * set *tmp74 null
   277 label *label36
-    * set *tmp67 *tmp74
+  278 set *tmp67 null
   279 label *label34
-    * set *tmp55 *tmp67
+  280 set *tmp55 null
   281 label *label27
   282 set :findBestPosition:y2 *tmp55
   283 set *tmp103 :findBestPosition:y
   284 set :computeRowValues.2:x :findBestPosition:x
-    * set :computeRowValues.2:y *tmp103
+  285 set :computeRowValues.2:y :findBestPosition:y
   286 set :computeRowValues.2:ore :findBestPosition:ore
   287 set :computeRowValues.2:size :findBestPosition:size
-    * op sub :tileValue.14:x :computeRowValues.2:x 2
-    * set :tileValue.14:y :computeRowValues.2:y
-    * set :tileValue.14:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.14:x :tileValue.14:y type building floor
-    * select value equal floor :tileValue.14:ore 0.00392156862745098 0
+  288 op sub :tileValue.14:x :findBestPosition:x 2
+  289 set :tileValue.14:y *tmp103
+  290 set :tileValue.14:ore :findBestPosition:ore
+  291 ucontrol getBlock :tileValue:x :computeRowValues.2:y type building floor
+  292 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   293 sensor solid type @solid
   294 select :tileValue.14:result notEqual solid false 0.09803921568627451 value
   295 set *tmp106 :tileValue.14:result
   296 label *label40
-    * set :computeRowValues.2:x1 *tmp106
-    * op sub :tileValue.15:x :computeRowValues.2:x 1
-    * set :tileValue.15:y :computeRowValues.2:y
-    * set :tileValue.15:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.15:x :tileValue.15:y type building floor
-    * select value equal floor :tileValue.15:ore 0.00392156862745098 0
+  297 set :computeRowValues.2:x1 :tileValue.14:result
+  298 op sub :tileValue.15:x :findBestPosition:x 1
+  299 set :tileValue.15:y *tmp103
+  300 set :tileValue.15:ore :findBestPosition:ore
+  301 ucontrol getBlock :tileValue.1:x :computeRowValues.2:y type building floor
+  302 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   303 sensor solid type @solid
   304 select :tileValue.15:result notEqual solid false 0.09803921568627451 value
   305 set *tmp108 :tileValue.15:result
   306 label *label41
-    * set :computeRowValues.2:x2 *tmp108
-    * set :tileValue.16:x :computeRowValues.2:x
-    * set :tileValue.16:y :computeRowValues.2:y
-    * set :tileValue.16:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.16:x :tileValue.16:y type building floor
-    * select value equal floor :tileValue.16:ore 0.00392156862745098 0
+  307 set :computeRowValues.2:x2 :tileValue.15:result
+  308 set :tileValue.16:x :findBestPosition:x
+  309 set :tileValue.16:y *tmp103
+  310 set :tileValue.16:ore :findBestPosition:ore
+  311 ucontrol getBlock :computeRowValues.2:x :computeRowValues.2:y type building floor
+  312 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   313 sensor solid type @solid
   314 select :tileValue.16:result notEqual solid false 0.09803921568627451 value
   315 set *tmp110 :tileValue.16:result
   316 label *label42
-    * set :computeRowValues.2:x3 *tmp110
-    * op add :tileValue.17:x :computeRowValues.2:x 1
-    * set :tileValue.17:y :computeRowValues.2:y
-    * set :tileValue.17:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.17:x :tileValue.17:y type building floor
-    * select value equal floor :tileValue.17:ore 0.00392156862745098 0
+  317 set :computeRowValues.2:x3 :tileValue.16:result
+  318 op add :tileValue.17:x :findBestPosition:x 1
+  319 set :tileValue.17:y *tmp103
+  320 set :tileValue.17:ore :findBestPosition:ore
+  321 ucontrol getBlock :tileValue.3:x :computeRowValues.2:y type building floor
+  322 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   323 sensor solid type @solid
   324 select :tileValue.17:result notEqual solid false 0.09803921568627451 value
   325 set *tmp112 :tileValue.17:result
   326 label *label43
-    * set :computeRowValues.2:x4 *tmp112
-    * op add :tileValue.18:x :computeRowValues.2:x 2
-    * set :tileValue.18:y :computeRowValues.2:y
-    * set :tileValue.18:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.18:x :tileValue.18:y type building floor
-    * select value equal floor :tileValue.18:ore 0.00392156862745098 0
+  327 set :computeRowValues.2:x4 :tileValue.17:result
+  328 op add :tileValue.18:x :findBestPosition:x 2
+  329 set :tileValue.18:y *tmp103
+  330 set :tileValue.18:ore :findBestPosition:ore
+  331 ucontrol getBlock :tileValue.4:x :computeRowValues.2:y type building floor
+  332 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   333 sensor solid type @solid
   334 select :tileValue.18:result notEqual solid false 0.09803921568627451 value
   335 set *tmp114 :tileValue.18:result
   336 label *label44
-    * set :computeRowValues.2:x5 *tmp114
-    * jump *label45 notEqual :computeRowValues.2:size 2
-    * op add *tmp117 :computeRowValues.2:x1 :computeRowValues.2:x2
-    * op add *tmp118 :computeRowValues.2:x2 :computeRowValues.2:x3
-    * op add *tmp119 :computeRowValues.2:x3 :computeRowValues.2:x4
-    * op add *tmp120 :computeRowValues.2:x4 :computeRowValues.2:x5
+  337 set :computeRowValues.2:x5 :tileValue.18:result
+  338 jump *label45 notEqual :findBestPosition:size 2
+  339 op add *tmp117 *tmp106 *tmp108
+  340 op add *tmp118 *tmp108 *tmp110
+  341 op add *tmp119 *tmp110 *tmp112
+  342 op add *tmp120 *tmp112 *tmp114
   343 packcolor *tmp104 *tmp117 *tmp118 *tmp119 *tmp120
   344 jump *label39 always
-    * set *tmp116 null
   345 jump *label46 always
   346 label *label45
-    * jump *label47 notEqual :computeRowValues.2:size 3
-    * op add *tmp124 :computeRowValues.2:x2 :computeRowValues.2:x3
-    * op add *tmp125 :computeRowValues.2:x1 *tmp124
-    * op add *tmp126 :computeRowValues.2:x2 :computeRowValues.2:x3
-    * op add *tmp127 *tmp126 :computeRowValues.2:x4
-    * op add *tmp128 :computeRowValues.2:x3 :computeRowValues.2:x4
-    * op add *tmp129 *tmp128 :computeRowValues.2:x5
+  347 jump *label47 notEqual :findBestPosition:size 3
+  348 op add *tmp124 *tmp108 *tmp110
+  349 op add *tmp125 *tmp106 *tmp124
+  350 op add *tmp126 *tmp108 *tmp110
+  351 op add *tmp127 *tmp124 *tmp112
+  352 op add *tmp128 *tmp110 *tmp112
+  353 op add *tmp129 *tmp128 *tmp114
   354 packcolor *tmp104 *tmp125 *tmp127 *tmp129 0
   355 jump *label39 always
-    * set *tmp123 null
   356 jump *label48 always
   357 label *label47
-    * op sub :tileValue.19:x :computeRowValues.2:x 3
-    * set :tileValue.19:y :computeRowValues.2:y
-    * set :tileValue.19:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.19:x :tileValue.19:y type building floor
-    * select value equal floor :tileValue.19:ore 0.00392156862745098 0
+  358 op sub :tileValue.19:x :findBestPosition:x 3
+  359 set :tileValue.19:y *tmp103
+  360 set :tileValue.19:ore :findBestPosition:ore
+  361 ucontrol getBlock :tileValue.19:x :computeRowValues.2:y type building floor
+  362 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   363 sensor solid type @solid
   364 select :tileValue.19:result notEqual solid false 0.09803921568627451 value
   365 set *tmp132 :tileValue.19:result
   366 label *label49
-    * set :computeRowValues.2:x0 *tmp132
-    * op add :tileValue.20:x :computeRowValues.2:x 3
-    * set :tileValue.20:y :computeRowValues.2:y
-    * set :tileValue.20:ore :computeRowValues.2:ore
-    * ucontrol getBlock :tileValue.20:x :tileValue.20:y type building floor
-    * select value equal floor :tileValue.20:ore 0.00392156862745098 0
+  367 set :computeRowValues.2:x0 :tileValue.19:result
+  368 op add :tileValue.20:x :findBestPosition:x 3
+  369 set :tileValue.20:y *tmp103
+  370 set :tileValue.20:ore :findBestPosition:ore
+  371 ucontrol getBlock :tileValue.20:x :computeRowValues.2:y type building floor
+  372 select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
   373 sensor solid type @solid
   374 select :tileValue.20:result notEqual solid false 0.09803921568627451 value
   375 set *tmp134 :tileValue.20:result
   376 label *label50
-    * set :computeRowValues.2:x6 *tmp134
-    * op add *tmp135 :computeRowValues.2:x1 :computeRowValues.2:x2
-    * op add *tmp136 *tmp135 :computeRowValues.2:x3
-    * op add *tmp137 :computeRowValues.2:x0 *tmp136
+  377 set :computeRowValues.2:x6 :tileValue.20:result
+  378 op add *tmp135 *tmp106 *tmp108
+  379 op add *tmp136 *tmp135 *tmp110
+  380 op add *tmp137 *tmp132 *tmp136
   381 op min *tmp138 0.09803921568627451 *tmp137
-    * op add *tmp139 :computeRowValues.2:x1 :computeRowValues.2:x2
-    * op add *tmp140 *tmp139 :computeRowValues.2:x3
-    * op add *tmp141 *tmp140 :computeRowValues.2:x4
+  382 op add *tmp139 *tmp106 *tmp108
+  383 op add *tmp140 *tmp135 *tmp110
+  384 op add *tmp141 *tmp136 *tmp112
   385 op min *tmp142 0.09803921568627451 *tmp141
-    * op add *tmp143 :computeRowValues.2:x3 :computeRowValues.2:x4
-    * op add *tmp144 *tmp143 :computeRowValues.2:x5
-    * op add *tmp145 :computeRowValues.2:x2 *tmp144
+  386 op add *tmp143 *tmp110 *tmp112
+  387 op add *tmp144 *tmp143 *tmp114
+  388 op add *tmp145 *tmp108 *tmp144
   389 op min *tmp146 0.09803921568627451 *tmp145
-    * op add *tmp147 :computeRowValues.2:x3 :computeRowValues.2:x4
-    * op add *tmp148 *tmp147 :computeRowValues.2:x5
-    * op add *tmp149 *tmp148 :computeRowValues.2:x6
+  390 op add *tmp147 *tmp110 *tmp112
+  391 op add *tmp148 *tmp143 *tmp114
+  392 op add *tmp149 *tmp144 *tmp134
   393 op min *tmp150 0.09803921568627451 *tmp149
   394 packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150
   395 jump *label39 always
-    * set *tmp123 null
   396 label *label48
-    * set *tmp116 *tmp123
+  397 set *tmp116 null
   398 label *label46
-    * set *tmp104 *tmp116
+  399 set *tmp104 null
   400 label *label39
   401 set :findBestPosition:y3 *tmp104
   402 op add *tmp152 :findBestPosition:y 1
 
   404 set :computeRowValues.3:y *tmp152
   405 set :computeRowValues.3:ore :findBestPosition:ore
   406 set :computeRowValues.3:size :findBestPosition:size
-    * op sub :tileValue.21:x :computeRowValues.3:x 2
-    * set :tileValue.21:y :computeRowValues.3:y
-    * set :tileValue.21:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.21:x :tileValue.21:y type building floor
-    * select value equal floor :tileValue.21:ore 0.00392156862745098 0
+  407 op sub :tileValue.21:x :findBestPosition:x 2
+  408 set :tileValue.21:y *tmp152
+  409 set :tileValue.21:ore :findBestPosition:ore
+  410 ucontrol getBlock :tileValue:x :computeRowValues.3:y type building floor
+  411 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   412 sensor solid type @solid
   413 select :tileValue.21:result notEqual solid false 0.09803921568627451 value
   414 set *tmp155 :tileValue.21:result
   415 label *label52
-    * set :computeRowValues.3:x1 *tmp155
-    * op sub :tileValue.22:x :computeRowValues.3:x 1
-    * set :tileValue.22:y :computeRowValues.3:y
-    * set :tileValue.22:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.22:x :tileValue.22:y type building floor
-    * select value equal floor :tileValue.22:ore 0.00392156862745098 0
+  416 set :computeRowValues.3:x1 :tileValue.21:result
+  417 op sub :tileValue.22:x :findBestPosition:x 1
+  418 set :tileValue.22:y *tmp152
+  419 set :tileValue.22:ore :findBestPosition:ore
+  420 ucontrol getBlock :tileValue.1:x :computeRowValues.3:y type building floor
+  421 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   422 sensor solid type @solid
   423 select :tileValue.22:result notEqual solid false 0.09803921568627451 value
   424 set *tmp157 :tileValue.22:result
   425 label *label53
-    * set :computeRowValues.3:x2 *tmp157
-    * set :tileValue.23:x :computeRowValues.3:x
-    * set :tileValue.23:y :computeRowValues.3:y
-    * set :tileValue.23:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.23:x :tileValue.23:y type building floor
-    * select value equal floor :tileValue.23:ore 0.00392156862745098 0
+  426 set :computeRowValues.3:x2 :tileValue.22:result
+  427 set :tileValue.23:x :findBestPosition:x
+  428 set :tileValue.23:y *tmp152
+  429 set :tileValue.23:ore :findBestPosition:ore
+  430 ucontrol getBlock :computeRowValues.3:x :computeRowValues.3:y type building floor
+  431 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   432 sensor solid type @solid
   433 select :tileValue.23:result notEqual solid false 0.09803921568627451 value
   434 set *tmp159 :tileValue.23:result
   435 label *label54
-    * set :computeRowValues.3:x3 *tmp159
-    * op add :tileValue.24:x :computeRowValues.3:x 1
-    * set :tileValue.24:y :computeRowValues.3:y
-    * set :tileValue.24:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.24:x :tileValue.24:y type building floor
-    * select value equal floor :tileValue.24:ore 0.00392156862745098 0
+  436 set :computeRowValues.3:x3 :tileValue.23:result
+  437 op add :tileValue.24:x :findBestPosition:x 1
+  438 set :tileValue.24:y *tmp152
+  439 set :tileValue.24:ore :findBestPosition:ore
+  440 ucontrol getBlock :tileValue.3:x :computeRowValues.3:y type building floor
+  441 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   442 sensor solid type @solid
   443 select :tileValue.24:result notEqual solid false 0.09803921568627451 value
   444 set *tmp161 :tileValue.24:result
   445 label *label55
-    * set :computeRowValues.3:x4 *tmp161
-    * op add :tileValue.25:x :computeRowValues.3:x 2
-    * set :tileValue.25:y :computeRowValues.3:y
-    * set :tileValue.25:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.25:x :tileValue.25:y type building floor
-    * select value equal floor :tileValue.25:ore 0.00392156862745098 0
+  446 set :computeRowValues.3:x4 :tileValue.24:result
+  447 op add :tileValue.25:x :findBestPosition:x 2
+  448 set :tileValue.25:y *tmp152
+  449 set :tileValue.25:ore :findBestPosition:ore
+  450 ucontrol getBlock :tileValue.4:x :computeRowValues.3:y type building floor
+  451 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   452 sensor solid type @solid
   453 select :tileValue.25:result notEqual solid false 0.09803921568627451 value
   454 set *tmp163 :tileValue.25:result
   455 label *label56
-    * set :computeRowValues.3:x5 *tmp163
-    * jump *label57 notEqual :computeRowValues.3:size 2
-    * op add *tmp166 :computeRowValues.3:x1 :computeRowValues.3:x2
-    * op add *tmp167 :computeRowValues.3:x2 :computeRowValues.3:x3
-    * op add *tmp168 :computeRowValues.3:x3 :computeRowValues.3:x4
-    * op add *tmp169 :computeRowValues.3:x4 :computeRowValues.3:x5
+  456 set :computeRowValues.3:x5 :tileValue.25:result
+  457 jump *label57 notEqual :findBestPosition:size 2
+  458 op add *tmp166 *tmp155 *tmp157
+  459 op add *tmp167 *tmp157 *tmp159
+  460 op add *tmp168 *tmp159 *tmp161
+  461 op add *tmp169 *tmp161 *tmp163
   462 packcolor *tmp153 *tmp166 *tmp167 *tmp168 *tmp169
   463 jump *label51 always
-    * set *tmp165 null
   464 jump *label58 always
   465 label *label57
-    * jump *label59 notEqual :computeRowValues.3:size 3
-    * op add *tmp173 :computeRowValues.3:x2 :computeRowValues.3:x3
-    * op add *tmp174 :computeRowValues.3:x1 *tmp173
-    * op add *tmp175 :computeRowValues.3:x2 :computeRowValues.3:x3
-    * op add *tmp176 *tmp175 :computeRowValues.3:x4
-    * op add *tmp177 :computeRowValues.3:x3 :computeRowValues.3:x4
-    * op add *tmp178 *tmp177 :computeRowValues.3:x5
+  466 jump *label59 notEqual :findBestPosition:size 3
+  467 op add *tmp173 *tmp157 *tmp159
+  468 op add *tmp174 *tmp155 *tmp173
+  469 op add *tmp175 *tmp157 *tmp159
+  470 op add *tmp176 *tmp173 *tmp161
+  471 op add *tmp177 *tmp159 *tmp161
+  472 op add *tmp178 *tmp177 *tmp163
   473 packcolor *tmp153 *tmp174 *tmp176 *tmp178 0
   474 jump *label51 always
-    * set *tmp172 null
   475 jump *label60 always
   476 label *label59
-    * op sub :tileValue.26:x :computeRowValues.3:x 3
-    * set :tileValue.26:y :computeRowValues.3:y
-    * set :tileValue.26:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.26:x :tileValue.26:y type building floor
-    * select value equal floor :tileValue.26:ore 0.00392156862745098 0
+  477 op sub :tileValue.26:x :findBestPosition:x 3
+  478 set :tileValue.26:y *tmp152
+  479 set :tileValue.26:ore :findBestPosition:ore
+  480 ucontrol getBlock :tileValue.26:x :computeRowValues.3:y type building floor
+  481 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   482 sensor solid type @solid
   483 select :tileValue.26:result notEqual solid false 0.09803921568627451 value
   484 set *tmp181 :tileValue.26:result
   485 label *label61
-    * set :computeRowValues.3:x0 *tmp181
-    * op add :tileValue.27:x :computeRowValues.3:x 3
-    * set :tileValue.27:y :computeRowValues.3:y
-    * set :tileValue.27:ore :computeRowValues.3:ore
-    * ucontrol getBlock :tileValue.27:x :tileValue.27:y type building floor
-    * select value equal floor :tileValue.27:ore 0.00392156862745098 0
+  486 set :computeRowValues.3:x0 :tileValue.26:result
+  487 op add :tileValue.27:x :findBestPosition:x 3
+  488 set :tileValue.27:y *tmp152
+  489 set :tileValue.27:ore :findBestPosition:ore
+  490 ucontrol getBlock :tileValue.27:x :computeRowValues.3:y type building floor
+  491 select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
   492 sensor solid type @solid
   493 select :tileValue.27:result notEqual solid false 0.09803921568627451 value
   494 set *tmp183 :tileValue.27:result
   495 label *label62
-    * set :computeRowValues.3:x6 *tmp183
-    * op add *tmp184 :computeRowValues.3:x1 :computeRowValues.3:x2
-    * op add *tmp185 *tmp184 :computeRowValues.3:x3
-    * op add *tmp186 :computeRowValues.3:x0 *tmp185
+  496 set :computeRowValues.3:x6 :tileValue.27:result
+  497 op add *tmp184 *tmp155 *tmp157
+  498 op add *tmp185 *tmp184 *tmp159
+  499 op add *tmp186 *tmp181 *tmp185
   500 op min *tmp187 0.09803921568627451 *tmp186
-    * op add *tmp188 :computeRowValues.3:x1 :computeRowValues.3:x2
-    * op add *tmp189 *tmp188 :computeRowValues.3:x3
-    * op add *tmp190 *tmp189 :computeRowValues.3:x4
+  501 op add *tmp188 *tmp155 *tmp157
+  502 op add *tmp189 *tmp184 *tmp159
+  503 op add *tmp190 *tmp185 *tmp161
   504 op min *tmp191 0.09803921568627451 *tmp190
-    * op add *tmp192 :computeRowValues.3:x3 :computeRowValues.3:x4
-    * op add *tmp193 *tmp192 :computeRowValues.3:x5
-    * op add *tmp194 :computeRowValues.3:x2 *tmp193
+  505 op add *tmp192 *tmp159 *tmp161
+  506 op add *tmp193 *tmp192 *tmp163
+  507 op add *tmp194 *tmp157 *tmp193
   508 op min *tmp195 0.09803921568627451 *tmp194
-    * op add *tmp196 :computeRowValues.3:x3 :computeRowValues.3:x4
-    * op add *tmp197 *tmp196 :computeRowValues.3:x5
-    * op add *tmp198 *tmp197 :computeRowValues.3:x6
+  509 op add *tmp196 *tmp159 *tmp161
+  510 op add *tmp197 *tmp192 *tmp163
+  511 op add *tmp198 *tmp193 *tmp183
   512 op min *tmp199 0.09803921568627451 *tmp198
   513 packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199
   514 jump *label51 always
-    * set *tmp172 null
   515 label *label60
-    * set *tmp165 *tmp172
+  516 set *tmp165 null
   517 label *label58
-    * set *tmp153 *tmp165
+  518 set *tmp153 null
   519 label *label51
   520 set :findBestPosition:y4 *tmp153
   521 op add *tmp201 :findBestPosition:y 2
 
   523 set :computeRowValues.4:y *tmp201
   524 set :computeRowValues.4:ore :findBestPosition:ore
   525 set :computeRowValues.4:size :findBestPosition:size
-    * op sub :tileValue.28:x :computeRowValues.4:x 2
-    * set :tileValue.28:y :computeRowValues.4:y
-    * set :tileValue.28:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.28:x :tileValue.28:y type building floor
-    * select value equal floor :tileValue.28:ore 0.00392156862745098 0
+  526 op sub :tileValue.28:x :findBestPosition:x 2
+  527 set :tileValue.28:y *tmp201
+  528 set :tileValue.28:ore :findBestPosition:ore
+  529 ucontrol getBlock :tileValue:x :computeRowValues.4:y type building floor
+  530 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   531 sensor solid type @solid
   532 select :tileValue.28:result notEqual solid false 0.09803921568627451 value
   533 set *tmp204 :tileValue.28:result
   534 label *label64
-    * set :computeRowValues.4:x1 *tmp204
-    * op sub :tileValue.29:x :computeRowValues.4:x 1
-    * set :tileValue.29:y :computeRowValues.4:y
-    * set :tileValue.29:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.29:x :tileValue.29:y type building floor
-    * select value equal floor :tileValue.29:ore 0.00392156862745098 0
+  535 set :computeRowValues.4:x1 :tileValue.28:result
+  536 op sub :tileValue.29:x :findBestPosition:x 1
+  537 set :tileValue.29:y *tmp201
+  538 set :tileValue.29:ore :findBestPosition:ore
+  539 ucontrol getBlock :tileValue.1:x :computeRowValues.4:y type building floor
+  540 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   541 sensor solid type @solid
   542 select :tileValue.29:result notEqual solid false 0.09803921568627451 value
   543 set *tmp206 :tileValue.29:result
   544 label *label65
-    * set :computeRowValues.4:x2 *tmp206
-    * set :tileValue.30:x :computeRowValues.4:x
-    * set :tileValue.30:y :computeRowValues.4:y
-    * set :tileValue.30:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.30:x :tileValue.30:y type building floor
-    * select value equal floor :tileValue.30:ore 0.00392156862745098 0
+  545 set :computeRowValues.4:x2 :tileValue.29:result
+  546 set :tileValue.30:x :findBestPosition:x
+  547 set :tileValue.30:y *tmp201
+  548 set :tileValue.30:ore :findBestPosition:ore
+  549 ucontrol getBlock :computeRowValues.4:x :computeRowValues.4:y type building floor
+  550 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   551 sensor solid type @solid
   552 select :tileValue.30:result notEqual solid false 0.09803921568627451 value
   553 set *tmp208 :tileValue.30:result
   554 label *label66
-    * set :computeRowValues.4:x3 *tmp208
-    * op add :tileValue.31:x :computeRowValues.4:x 1
-    * set :tileValue.31:y :computeRowValues.4:y
-    * set :tileValue.31:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.31:x :tileValue.31:y type building floor
-    * select value equal floor :tileValue.31:ore 0.00392156862745098 0
+  555 set :computeRowValues.4:x3 :tileValue.30:result
+  556 op add :tileValue.31:x :findBestPosition:x 1
+  557 set :tileValue.31:y *tmp201
+  558 set :tileValue.31:ore :findBestPosition:ore
+  559 ucontrol getBlock :tileValue.3:x :computeRowValues.4:y type building floor
+  560 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   561 sensor solid type @solid
   562 select :tileValue.31:result notEqual solid false 0.09803921568627451 value
   563 set *tmp210 :tileValue.31:result
   564 label *label67
-    * set :computeRowValues.4:x4 *tmp210
-    * op add :tileValue.32:x :computeRowValues.4:x 2
-    * set :tileValue.32:y :computeRowValues.4:y
-    * set :tileValue.32:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.32:x :tileValue.32:y type building floor
-    * select value equal floor :tileValue.32:ore 0.00392156862745098 0
+  565 set :computeRowValues.4:x4 :tileValue.31:result
+  566 op add :tileValue.32:x :findBestPosition:x 2
+  567 set :tileValue.32:y *tmp201
+  568 set :tileValue.32:ore :findBestPosition:ore
+  569 ucontrol getBlock :tileValue.4:x :computeRowValues.4:y type building floor
+  570 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   571 sensor solid type @solid
   572 select :tileValue.32:result notEqual solid false 0.09803921568627451 value
   573 set *tmp212 :tileValue.32:result
   574 label *label68
-    * set :computeRowValues.4:x5 *tmp212
-    * jump *label69 notEqual :computeRowValues.4:size 2
-    * op add *tmp215 :computeRowValues.4:x1 :computeRowValues.4:x2
-    * op add *tmp216 :computeRowValues.4:x2 :computeRowValues.4:x3
-    * op add *tmp217 :computeRowValues.4:x3 :computeRowValues.4:x4
-    * op add *tmp218 :computeRowValues.4:x4 :computeRowValues.4:x5
+  575 set :computeRowValues.4:x5 :tileValue.32:result
+  576 jump *label69 notEqual :findBestPosition:size 2
+  577 op add *tmp215 *tmp204 *tmp206
+  578 op add *tmp216 *tmp206 *tmp208
+  579 op add *tmp217 *tmp208 *tmp210
+  580 op add *tmp218 *tmp210 *tmp212
   581 packcolor *tmp202 *tmp215 *tmp216 *tmp217 *tmp218
   582 jump *label63 always
-    * set *tmp214 null
   583 jump *label70 always
   584 label *label69
-    * jump *label71 notEqual :computeRowValues.4:size 3
-    * op add *tmp222 :computeRowValues.4:x2 :computeRowValues.4:x3
-    * op add *tmp223 :computeRowValues.4:x1 *tmp222
-    * op add *tmp224 :computeRowValues.4:x2 :computeRowValues.4:x3
-    * op add *tmp225 *tmp224 :computeRowValues.4:x4
-    * op add *tmp226 :computeRowValues.4:x3 :computeRowValues.4:x4
-    * op add *tmp227 *tmp226 :computeRowValues.4:x5
+  585 jump *label71 notEqual :findBestPosition:size 3
+  586 op add *tmp222 *tmp206 *tmp208
+  587 op add *tmp223 *tmp204 *tmp222
+  588 op add *tmp224 *tmp206 *tmp208
+  589 op add *tmp225 *tmp222 *tmp210
+  590 op add *tmp226 *tmp208 *tmp210
+  591 op add *tmp227 *tmp226 *tmp212
   592 packcolor *tmp202 *tmp223 *tmp225 *tmp227 0
   593 jump *label63 always
-    * set *tmp221 null
   594 jump *label72 always
   595 label *label71
-    * op sub :tileValue.33:x :computeRowValues.4:x 3
-    * set :tileValue.33:y :computeRowValues.4:y
-    * set :tileValue.33:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.33:x :tileValue.33:y type building floor
-    * select value equal floor :tileValue.33:ore 0.00392156862745098 0
+  596 op sub :tileValue.33:x :findBestPosition:x 3
+  597 set :tileValue.33:y *tmp201
+  598 set :tileValue.33:ore :findBestPosition:ore
+  599 ucontrol getBlock :tileValue.33:x :computeRowValues.4:y type building floor
+  600 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   601 sensor solid type @solid
   602 select :tileValue.33:result notEqual solid false 0.09803921568627451 value
   603 set *tmp230 :tileValue.33:result
   604 label *label73
-    * set :computeRowValues.4:x0 *tmp230
-    * op add :tileValue.34:x :computeRowValues.4:x 3
-    * set :tileValue.34:y :computeRowValues.4:y
-    * set :tileValue.34:ore :computeRowValues.4:ore
-    * ucontrol getBlock :tileValue.34:x :tileValue.34:y type building floor
-    * select value equal floor :tileValue.34:ore 0.00392156862745098 0
+  605 set :computeRowValues.4:x0 :tileValue.33:result
+  606 op add :tileValue.34:x :findBestPosition:x 3
+  607 set :tileValue.34:y *tmp201
+  608 set :tileValue.34:ore :findBestPosition:ore
+  609 ucontrol getBlock :tileValue.34:x :computeRowValues.4:y type building floor
+  610 select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
   611 sensor solid type @solid
   612 select :tileValue.34:result notEqual solid false 0.09803921568627451 value
   613 set *tmp232 :tileValue.34:result
   614 label *label74
-    * set :computeRowValues.4:x6 *tmp232
-    * op add *tmp233 :computeRowValues.4:x1 :computeRowValues.4:x2
-    * op add *tmp234 *tmp233 :computeRowValues.4:x3
-    * op add *tmp235 :computeRowValues.4:x0 *tmp234
+  615 set :computeRowValues.4:x6 :tileValue.34:result
+  616 op add *tmp233 *tmp204 *tmp206
+  617 op add *tmp234 *tmp233 *tmp208
+  618 op add *tmp235 *tmp230 *tmp234
   619 op min *tmp236 0.09803921568627451 *tmp235
-    * op add *tmp237 :computeRowValues.4:x1 :computeRowValues.4:x2
-    * op add *tmp238 *tmp237 :computeRowValues.4:x3
-    * op add *tmp239 *tmp238 :computeRowValues.4:x4
+  620 op add *tmp237 *tmp204 *tmp206
+  621 op add *tmp238 *tmp233 *tmp208
+  622 op add *tmp239 *tmp234 *tmp210
   623 op min *tmp240 0.09803921568627451 *tmp239
-    * op add *tmp241 :computeRowValues.4:x3 :computeRowValues.4:x4
-    * op add *tmp242 *tmp241 :computeRowValues.4:x5
-    * op add *tmp243 :computeRowValues.4:x2 *tmp242
+  624 op add *tmp241 *tmp208 *tmp210
+  625 op add *tmp242 *tmp241 *tmp212
+  626 op add *tmp243 *tmp206 *tmp242
   627 op min *tmp244 0.09803921568627451 *tmp243
-    * op add *tmp245 :computeRowValues.4:x3 :computeRowValues.4:x4
-    * op add *tmp246 *tmp245 :computeRowValues.4:x5
-    * op add *tmp247 *tmp246 :computeRowValues.4:x6
+  628 op add *tmp245 *tmp208 *tmp210
+  629 op add *tmp246 *tmp241 *tmp212
+  630 op add *tmp247 *tmp242 *tmp232
   631 op min *tmp248 0.09803921568627451 *tmp247
   632 packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248
   633 jump *label63 always
-    * set *tmp221 null
   634 label *label72
-    * set *tmp214 *tmp221
+  635 set *tmp214 null
   636 label *label70
-    * set *tmp202 *tmp214
+  637 set *tmp202 null
   638 label *label63
   639 set :findBestPosition:y5 *tmp202
   640 set :findBestPosition:best 0
   641 set :findBestPosition:bestX 0
   642 set :findBestPosition:bestY 0
   643 jump *label75 notEqual :findBestPosition:size 3
-    * op add *tmp252 :findBestPosition:y2 :findBestPosition:y3
-    * op add :findBestPosition:row1 :findBestPosition:y1 *tmp252
-    * op add *tmp254 :findBestPosition:y2 :findBestPosition:y3
-    * op add :findBestPosition:row2 *tmp254 :findBestPosition:y4
-    * op add *tmp256 :findBestPosition:y3 :findBestPosition:y4
-    * op add :findBestPosition:row3 *tmp256 :findBestPosition:y5
+  644 op add *tmp252 *tmp55 *tmp104
+  645 op add :findBestPosition:row1 *tmp6 *tmp252
+  646 op add *tmp254 *tmp55 *tmp104
+  647 op add :findBestPosition:row2 *tmp252 *tmp153
+  648 op add *tmp256 *tmp104 *tmp153
+  649 op add :findBestPosition:row3 *tmp256 *tmp202
   650 set :updateRowPositionsOdd:dy -1
   651 set :updateRowPositionsOdd:rowSum :findBestPosition:row1
-    * unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 *tmp258 :updateRowPositionsOdd:rowSum
+  652 unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 *tmp258 :findBestPosition:row1
   653 set :updatePosition:dx -1
-    * set :updatePosition:dy :updateRowPositionsOdd:dy
+  654 set :updatePosition:dy -1
   655 set :updatePosition:value :updateRowPositionsOdd:col1
-    * jump *label79 lessThanEq :updatePosition:value :findBestPosition:best
-    * jump *label81 greaterThanEq :updatePosition:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition:dx
-    * set :findBestPosition:bestY :updatePosition:dy
-    * set :findBestPosition:best :updatePosition:value
+  656 jump *label79 lessThanEq :updateRowPositionsOdd:col1 0
+  657 jump *label81 greaterThanEq :updateRowPositionsOdd:col1 0.0784313725490196
+  658 set :findBestPosition:bestX -1
+  659 set :findBestPosition:bestY :updateRowPositionsOdd:dy
+  660 set :findBestPosition:best :updateRowPositionsOdd:col1
   661 label *label81
   662 label *label82
   663 label *label79
   664 label *label80
   665 label *label78
   666 set :updatePosition.1:dx 0
-    * set :updatePosition.1:dy :updateRowPositionsOdd:dy
+  667 set :updatePosition.1:dy -1
   668 set :updatePosition.1:value :updateRowPositionsOdd:col2
-    * jump *label84 lessThanEq :updatePosition.1:value :findBestPosition:best
-    * jump *label86 greaterThanEq :updatePosition.1:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.1:dx
-    * set :findBestPosition:bestY :updatePosition.1:dy
-    * set :findBestPosition:best :updatePosition.1:value
+  669 jump *label84 lessThanEq :updateRowPositionsOdd:col2 :findBestPosition:best
+  670 jump *label86 greaterThanEq :updateRowPositionsOdd:col2 0.0784313725490196
+  671 set :findBestPosition:bestX 0
+  672 set :findBestPosition:bestY :updateRowPositionsOdd:dy
+  673 set :findBestPosition:best :updateRowPositionsOdd:col2
   674 label *label86
   675 label *label87
   676 label *label84
   677 label *label85
   678 label *label83
   679 set :updatePosition.2:dx 1
-    * set :updatePosition.2:dy :updateRowPositionsOdd:dy
+  680 set :updatePosition.2:dy -1
   681 set :updatePosition.2:value :updateRowPositionsOdd:col3
-    * jump *label89 lessThanEq :updatePosition.2:value :findBestPosition:best
-    * jump *label91 greaterThanEq :updatePosition.2:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.2:dx
-    * set :findBestPosition:bestY :updatePosition.2:dy
-    * set :findBestPosition:best :updatePosition.2:value
+  682 jump *label89 lessThanEq :updateRowPositionsOdd:col3 :findBestPosition:best
+  683 jump *label91 greaterThanEq :updateRowPositionsOdd:col3 0.0784313725490196
+  684 set :findBestPosition:bestX 1
+  685 set :findBestPosition:bestY :updateRowPositionsOdd:dy
+  686 set :findBestPosition:best :updateRowPositionsOdd:col3
   687 label *label91
   688 label *label92
   689 label *label89
 
   692 label *label77
   693 set :updateRowPositionsOdd.1:dy 0
   694 set :updateRowPositionsOdd.1:rowSum :findBestPosition:row2
-    * unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 *tmp271 :updateRowPositionsOdd.1:rowSum
+  695 unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 *tmp271 :findBestPosition:row2
   696 set :updatePosition.3:dx -1
-    * set :updatePosition.3:dy :updateRowPositionsOdd.1:dy
+  697 set :updatePosition.3:dy 0
   698 set :updatePosition.3:value :updateRowPositionsOdd.1:col1
-    * jump *label95 lessThanEq :updatePosition.3:value :findBestPosition:best
-    * jump *label97 greaterThanEq :updatePosition.3:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.3:dx
-    * set :findBestPosition:bestY :updatePosition.3:dy
-    * set :findBestPosition:best :updatePosition.3:value
+  699 jump *label95 lessThanEq :updateRowPositionsOdd.1:col1 :findBestPosition:best
+  700 jump *label97 greaterThanEq :updateRowPositionsOdd.1:col1 0.0784313725490196
+  701 set :findBestPosition:bestX -1
+  702 set :findBestPosition:bestY :updateRowPositionsOdd.1:dy
+  703 set :findBestPosition:best :updateRowPositionsOdd.1:col1
   704 label *label97
   705 label *label98
   706 label *label95
   707 label *label96
   708 label *label94
   709 set :updatePosition.4:dx 0
-    * set :updatePosition.4:dy :updateRowPositionsOdd.1:dy
+  710 set :updatePosition.4:dy 0
   711 set :updatePosition.4:value :updateRowPositionsOdd.1:col2
-    * jump *label100 lessThanEq :updatePosition.4:value :findBestPosition:best
-    * jump *label102 greaterThanEq :updatePosition.4:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.4:dx
-    * set :findBestPosition:bestY :updatePosition.4:dy
-    * set :findBestPosition:best :updatePosition.4:value
+  712 jump *label100 lessThanEq :updateRowPositionsOdd.1:col2 :findBestPosition:best
+  713 jump *label102 greaterThanEq :updateRowPositionsOdd.1:col2 0.0784313725490196
+  714 set :findBestPosition:bestX 0
+  715 set :findBestPosition:bestY :updateRowPositionsOdd.1:dy
+  716 set :findBestPosition:best :updateRowPositionsOdd.1:col2
   717 label *label102
   718 label *label103
   719 label *label100
   720 label *label101
   721 label *label99
   722 set :updatePosition.5:dx 1
-    * set :updatePosition.5:dy :updateRowPositionsOdd.1:dy
+  723 set :updatePosition.5:dy 0
   724 set :updatePosition.5:value :updateRowPositionsOdd.1:col3
-    * jump *label105 lessThanEq :updatePosition.5:value :findBestPosition:best
-    * jump *label107 greaterThanEq :updatePosition.5:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.5:dx
-    * set :findBestPosition:bestY :updatePosition.5:dy
-    * set :findBestPosition:best :updatePosition.5:value
+  725 jump *label105 lessThanEq :updateRowPositionsOdd.1:col3 :findBestPosition:best
+  726 jump *label107 greaterThanEq :updateRowPositionsOdd.1:col3 0.0784313725490196
+  727 set :findBestPosition:bestX 1
+  728 set :findBestPosition:bestY :updateRowPositionsOdd.1:dy
+  729 set :findBestPosition:best :updateRowPositionsOdd.1:col3
   730 label *label107
   731 label *label108
   732 label *label105
 
   735 label *label93
   736 set :updateRowPositionsOdd.2:dy 1
   737 set :updateRowPositionsOdd.2:rowSum :findBestPosition:row3
-    * unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 *tmp284 :updateRowPositionsOdd.2:rowSum
+  738 unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 *tmp284 :findBestPosition:row3
   739 set :updatePosition.6:dx -1
-    * set :updatePosition.6:dy :updateRowPositionsOdd.2:dy
+  740 set :updatePosition.6:dy 1
   741 set :updatePosition.6:value :updateRowPositionsOdd.2:col1
-    * jump *label111 lessThanEq :updatePosition.6:value :findBestPosition:best
-    * jump *label113 greaterThanEq :updatePosition.6:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.6:dx
-    * set :findBestPosition:bestY :updatePosition.6:dy
-    * set :findBestPosition:best :updatePosition.6:value
+  742 jump *label111 lessThanEq :updateRowPositionsOdd.2:col1 :findBestPosition:best
+  743 jump *label113 greaterThanEq :updateRowPositionsOdd.2:col1 0.0784313725490196
+  744 set :findBestPosition:bestX -1
+  745 set :findBestPosition:bestY :updateRowPositionsOdd.2:dy
+  746 set :findBestPosition:best :updateRowPositionsOdd.2:col1
   747 label *label113
   748 label *label114
   749 label *label111
   750 label *label112
   751 label *label110
   752 set :updatePosition.7:dx 0
-    * set :updatePosition.7:dy :updateRowPositionsOdd.2:dy
+  753 set :updatePosition.7:dy 1
   754 set :updatePosition.7:value :updateRowPositionsOdd.2:col2
-    * jump *label116 lessThanEq :updatePosition.7:value :findBestPosition:best
-    * jump *label118 greaterThanEq :updatePosition.7:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.7:dx
-    * set :findBestPosition:bestY :updatePosition.7:dy
-    * set :findBestPosition:best :updatePosition.7:value
+  755 jump *label116 lessThanEq :updateRowPositionsOdd.2:col2 :findBestPosition:best
+  756 jump *label118 greaterThanEq :updateRowPositionsOdd.2:col2 0.0784313725490196
+  757 set :findBestPosition:bestX 0
+  758 set :findBestPosition:bestY :updateRowPositionsOdd.2:dy
+  759 set :findBestPosition:best :updateRowPositionsOdd.2:col2
   760 label *label118
   761 label *label119
   762 label *label116
   763 label *label117
   764 label *label115
   765 set :updatePosition.8:dx 1
-    * set :updatePosition.8:dy :updateRowPositionsOdd.2:dy
+  766 set :updatePosition.8:dy 1
   767 set :updatePosition.8:value :updateRowPositionsOdd.2:col3
-    * jump *label121 lessThanEq :updatePosition.8:value :findBestPosition:best
-    * jump *label123 greaterThanEq :updatePosition.8:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.8:dx
-    * set :findBestPosition:bestY :updatePosition.8:dy
-    * set :findBestPosition:best :updatePosition.8:value
+  768 jump *label121 lessThanEq :updateRowPositionsOdd.2:col3 :findBestPosition:best
+  769 jump *label123 greaterThanEq :updateRowPositionsOdd.2:col3 0.0784313725490196
+  770 set :findBestPosition:bestX 1
+  771 set :findBestPosition:bestY :updateRowPositionsOdd.2:dy
+  772 set :findBestPosition:best :updateRowPositionsOdd.2:col3
   773 label *label123
   774 label *label124
   775 label *label121
 
   779 jump *label76 always
   780 label *label75
   781 jump *label125 notEqual :findBestPosition:size 2
-    * op add :findBestPosition:row1 :findBestPosition:y1 :findBestPosition:y2
-    * op add :findBestPosition:row2 :findBestPosition:y2 :findBestPosition:y3
-    * op add :findBestPosition:row3 :findBestPosition:y3 :findBestPosition:y4
-    * op add :findBestPosition:row4 :findBestPosition:y4 :findBestPosition:y5
+  782 op add :findBestPosition:row1 *tmp6 *tmp55
+  783 op add :findBestPosition:row2 *tmp55 *tmp104
+  784 op add :findBestPosition:row3 *tmp104 *tmp153
+  785 op add :findBestPosition:row4 *tmp153 *tmp202
   786 jump *label126 always
   787 label *label125
   788 op sub *tmp303 :findBestPosition:y 3
 
   790 set :computeRowValues.5:y *tmp303
   791 set :computeRowValues.5:ore :findBestPosition:ore
   792 set :computeRowValues.5:size :findBestPosition:size
-    * op sub :tileValue.35:x :computeRowValues.5:x 2
-    * set :tileValue.35:y :computeRowValues.5:y
-    * set :tileValue.35:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.35:x :tileValue.35:y type building floor
-    * select value equal floor :tileValue.35:ore 0.00392156862745098 0
+  793 op sub :tileValue.35:x :findBestPosition:x 2
+  794 set :tileValue.35:y *tmp303
+  795 set :tileValue.35:ore :findBestPosition:ore
+  796 ucontrol getBlock :tileValue:x :computeRowValues.5:y type building floor
+  797 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   798 sensor solid type @solid
   799 select :tileValue.35:result notEqual solid false 0.09803921568627451 value
   800 set *tmp306 :tileValue.35:result
   801 label *label128
-    * set :computeRowValues.5:x1 *tmp306
-    * op sub :tileValue.36:x :computeRowValues.5:x 1
-    * set :tileValue.36:y :computeRowValues.5:y
-    * set :tileValue.36:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.36:x :tileValue.36:y type building floor
-    * select value equal floor :tileValue.36:ore 0.00392156862745098 0
+  802 set :computeRowValues.5:x1 :tileValue.35:result
+  803 op sub :tileValue.36:x :findBestPosition:x 1
+  804 set :tileValue.36:y *tmp303
+  805 set :tileValue.36:ore :findBestPosition:ore
+  806 ucontrol getBlock :tileValue.1:x :computeRowValues.5:y type building floor
+  807 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   808 sensor solid type @solid
   809 select :tileValue.36:result notEqual solid false 0.09803921568627451 value
   810 set *tmp308 :tileValue.36:result
   811 label *label129
-    * set :computeRowValues.5:x2 *tmp308
-    * set :tileValue.37:x :computeRowValues.5:x
-    * set :tileValue.37:y :computeRowValues.5:y
-    * set :tileValue.37:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.37:x :tileValue.37:y type building floor
-    * select value equal floor :tileValue.37:ore 0.00392156862745098 0
+  812 set :computeRowValues.5:x2 :tileValue.36:result
+  813 set :tileValue.37:x :findBestPosition:x
+  814 set :tileValue.37:y *tmp303
+  815 set :tileValue.37:ore :findBestPosition:ore
+  816 ucontrol getBlock :computeRowValues.5:x :computeRowValues.5:y type building floor
+  817 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   818 sensor solid type @solid
   819 select :tileValue.37:result notEqual solid false 0.09803921568627451 value
   820 set *tmp310 :tileValue.37:result
   821 label *label130
-    * set :computeRowValues.5:x3 *tmp310
-    * op add :tileValue.38:x :computeRowValues.5:x 1
-    * set :tileValue.38:y :computeRowValues.5:y
-    * set :tileValue.38:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.38:x :tileValue.38:y type building floor
-    * select value equal floor :tileValue.38:ore 0.00392156862745098 0
+  822 set :computeRowValues.5:x3 :tileValue.37:result
+  823 op add :tileValue.38:x :findBestPosition:x 1
+  824 set :tileValue.38:y *tmp303
+  825 set :tileValue.38:ore :findBestPosition:ore
+  826 ucontrol getBlock :tileValue.3:x :computeRowValues.5:y type building floor
+  827 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   828 sensor solid type @solid
   829 select :tileValue.38:result notEqual solid false 0.09803921568627451 value
   830 set *tmp312 :tileValue.38:result
   831 label *label131
-    * set :computeRowValues.5:x4 *tmp312
-    * op add :tileValue.39:x :computeRowValues.5:x 2
-    * set :tileValue.39:y :computeRowValues.5:y
-    * set :tileValue.39:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.39:x :tileValue.39:y type building floor
-    * select value equal floor :tileValue.39:ore 0.00392156862745098 0
+  832 set :computeRowValues.5:x4 :tileValue.38:result
+  833 op add :tileValue.39:x :findBestPosition:x 2
+  834 set :tileValue.39:y *tmp303
+  835 set :tileValue.39:ore :findBestPosition:ore
+  836 ucontrol getBlock :tileValue.4:x :computeRowValues.5:y type building floor
+  837 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   838 sensor solid type @solid
   839 select :tileValue.39:result notEqual solid false 0.09803921568627451 value
   840 set *tmp314 :tileValue.39:result
   841 label *label132
-    * set :computeRowValues.5:x5 *tmp314
-    * jump *label133 notEqual :computeRowValues.5:size 2
-    * op add *tmp317 :computeRowValues.5:x1 :computeRowValues.5:x2
-    * op add *tmp318 :computeRowValues.5:x2 :computeRowValues.5:x3
-    * op add *tmp319 :computeRowValues.5:x3 :computeRowValues.5:x4
-    * op add *tmp320 :computeRowValues.5:x4 :computeRowValues.5:x5
+  842 set :computeRowValues.5:x5 :tileValue.39:result
+  843 jump *label133 notEqual :findBestPosition:size 2
+  844 op add *tmp317 *tmp306 *tmp308
+  845 op add *tmp318 *tmp308 *tmp310
+  846 op add *tmp319 *tmp310 *tmp312
+  847 op add *tmp320 *tmp312 *tmp314
   848 packcolor *tmp304 *tmp317 *tmp318 *tmp319 *tmp320
   849 jump *label127 always
-    * set *tmp316 null
   850 jump *label134 always
   851 label *label133
-    * jump *label135 notEqual :computeRowValues.5:size 3
-    * op add *tmp324 :computeRowValues.5:x2 :computeRowValues.5:x3
-    * op add *tmp325 :computeRowValues.5:x1 *tmp324
-    * op add *tmp326 :computeRowValues.5:x2 :computeRowValues.5:x3
-    * op add *tmp327 *tmp326 :computeRowValues.5:x4
-    * op add *tmp328 :computeRowValues.5:x3 :computeRowValues.5:x4
-    * op add *tmp329 *tmp328 :computeRowValues.5:x5
+  852 jump *label135 notEqual :findBestPosition:size 3
+  853 op add *tmp324 *tmp308 *tmp310
+  854 op add *tmp325 *tmp306 *tmp324
+  855 op add *tmp326 *tmp308 *tmp310
+  856 op add *tmp327 *tmp324 *tmp312
+  857 op add *tmp328 *tmp310 *tmp312
+  858 op add *tmp329 *tmp328 *tmp314
   859 packcolor *tmp304 *tmp325 *tmp327 *tmp329 0
   860 jump *label127 always
-    * set *tmp323 null
   861 jump *label136 always
   862 label *label135
-    * op sub :tileValue.40:x :computeRowValues.5:x 3
-    * set :tileValue.40:y :computeRowValues.5:y
-    * set :tileValue.40:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.40:x :tileValue.40:y type building floor
-    * select value equal floor :tileValue.40:ore 0.00392156862745098 0
+  863 op sub :tileValue.40:x :findBestPosition:x 3
+  864 set :tileValue.40:y *tmp303
+  865 set :tileValue.40:ore :findBestPosition:ore
+  866 ucontrol getBlock :tileValue.40:x :computeRowValues.5:y type building floor
+  867 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   868 sensor solid type @solid
   869 select :tileValue.40:result notEqual solid false 0.09803921568627451 value
   870 set *tmp332 :tileValue.40:result
   871 label *label137
-    * set :computeRowValues.5:x0 *tmp332
-    * op add :tileValue.41:x :computeRowValues.5:x 3
-    * set :tileValue.41:y :computeRowValues.5:y
-    * set :tileValue.41:ore :computeRowValues.5:ore
-    * ucontrol getBlock :tileValue.41:x :tileValue.41:y type building floor
-    * select value equal floor :tileValue.41:ore 0.00392156862745098 0
+  872 set :computeRowValues.5:x0 :tileValue.40:result
+  873 op add :tileValue.41:x :findBestPosition:x 3
+  874 set :tileValue.41:y *tmp303
+  875 set :tileValue.41:ore :findBestPosition:ore
+  876 ucontrol getBlock :tileValue.41:x :computeRowValues.5:y type building floor
+  877 select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
   878 sensor solid type @solid
   879 select :tileValue.41:result notEqual solid false 0.09803921568627451 value
   880 set *tmp334 :tileValue.41:result
   881 label *label138
-    * set :computeRowValues.5:x6 *tmp334
-    * op add *tmp335 :computeRowValues.5:x1 :computeRowValues.5:x2
-    * op add *tmp336 *tmp335 :computeRowValues.5:x3
-    * op add *tmp337 :computeRowValues.5:x0 *tmp336
+  882 set :computeRowValues.5:x6 :tileValue.41:result
+  883 op add *tmp335 *tmp306 *tmp308
+  884 op add *tmp336 *tmp335 *tmp310
+  885 op add *tmp337 *tmp332 *tmp336
   886 op min *tmp338 0.09803921568627451 *tmp337
-    * op add *tmp339 :computeRowValues.5:x1 :computeRowValues.5:x2
-    * op add *tmp340 *tmp339 :computeRowValues.5:x3
-    * op add *tmp341 *tmp340 :computeRowValues.5:x4
+  887 op add *tmp339 *tmp306 *tmp308
+  888 op add *tmp340 *tmp335 *tmp310
+  889 op add *tmp341 *tmp336 *tmp312
   890 op min *tmp342 0.09803921568627451 *tmp341
-    * op add *tmp343 :computeRowValues.5:x3 :computeRowValues.5:x4
-    * op add *tmp344 *tmp343 :computeRowValues.5:x5
-    * op add *tmp345 :computeRowValues.5:x2 *tmp344
+  891 op add *tmp343 *tmp310 *tmp312
+  892 op add *tmp344 *tmp343 *tmp314
+  893 op add *tmp345 *tmp308 *tmp344
   894 op min *tmp346 0.09803921568627451 *tmp345
-    * op add *tmp347 :computeRowValues.5:x3 :computeRowValues.5:x4
-    * op add *tmp348 *tmp347 :computeRowValues.5:x5
-    * op add *tmp349 *tmp348 :computeRowValues.5:x6
+  895 op add *tmp347 *tmp310 *tmp312
+  896 op add *tmp348 *tmp343 *tmp314
+  897 op add *tmp349 *tmp344 *tmp334
   898 op min *tmp350 0.09803921568627451 *tmp349
   899 packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350
   900 jump *label127 always
-    * set *tmp323 null
   901 label *label136
-    * set *tmp316 *tmp323
+  902 set *tmp316 null
   903 label *label134
-    * set *tmp304 *tmp316
+  904 set *tmp304 null
   905 label *label127
   906 set :findBestPosition:y0 *tmp304
   907 op add *tmp352 :findBestPosition:y 3
 
   909 set :computeRowValues.6:y *tmp352
   910 set :computeRowValues.6:ore :findBestPosition:ore
   911 set :computeRowValues.6:size :findBestPosition:size
-    * op sub :tileValue.42:x :computeRowValues.6:x 2
-    * set :tileValue.42:y :computeRowValues.6:y
-    * set :tileValue.42:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.42:x :tileValue.42:y type building floor
-    * select value equal floor :tileValue.42:ore 0.00392156862745098 0
+  912 op sub :tileValue.42:x :findBestPosition:x 2
+  913 set :tileValue.42:y *tmp352
+  914 set :tileValue.42:ore :findBestPosition:ore
+  915 ucontrol getBlock :tileValue:x :computeRowValues.6:y type building floor
+  916 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   917 sensor solid type @solid
   918 select :tileValue.42:result notEqual solid false 0.09803921568627451 value
   919 set *tmp355 :tileValue.42:result
   920 label *label140
-    * set :computeRowValues.6:x1 *tmp355
-    * op sub :tileValue.43:x :computeRowValues.6:x 1
-    * set :tileValue.43:y :computeRowValues.6:y
-    * set :tileValue.43:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.43:x :tileValue.43:y type building floor
-    * select value equal floor :tileValue.43:ore 0.00392156862745098 0
+  921 set :computeRowValues.6:x1 :tileValue.42:result
+  922 op sub :tileValue.43:x :findBestPosition:x 1
+  923 set :tileValue.43:y *tmp352
+  924 set :tileValue.43:ore :findBestPosition:ore
+  925 ucontrol getBlock :tileValue.1:x :computeRowValues.6:y type building floor
+  926 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   927 sensor solid type @solid
   928 select :tileValue.43:result notEqual solid false 0.09803921568627451 value
   929 set *tmp357 :tileValue.43:result
   930 label *label141
-    * set :computeRowValues.6:x2 *tmp357
-    * set :tileValue.44:x :computeRowValues.6:x
-    * set :tileValue.44:y :computeRowValues.6:y
-    * set :tileValue.44:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.44:x :tileValue.44:y type building floor
-    * select value equal floor :tileValue.44:ore 0.00392156862745098 0
+  931 set :computeRowValues.6:x2 :tileValue.43:result
+  932 set :tileValue.44:x :findBestPosition:x
+  933 set :tileValue.44:y *tmp352
+  934 set :tileValue.44:ore :findBestPosition:ore
+  935 ucontrol getBlock :computeRowValues.6:x :computeRowValues.6:y type building floor
+  936 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   937 sensor solid type @solid
   938 select :tileValue.44:result notEqual solid false 0.09803921568627451 value
   939 set *tmp359 :tileValue.44:result
   940 label *label142
-    * set :computeRowValues.6:x3 *tmp359
-    * op add :tileValue.45:x :computeRowValues.6:x 1
-    * set :tileValue.45:y :computeRowValues.6:y
-    * set :tileValue.45:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.45:x :tileValue.45:y type building floor
-    * select value equal floor :tileValue.45:ore 0.00392156862745098 0
+  941 set :computeRowValues.6:x3 :tileValue.44:result
+  942 op add :tileValue.45:x :findBestPosition:x 1
+  943 set :tileValue.45:y *tmp352
+  944 set :tileValue.45:ore :findBestPosition:ore
+  945 ucontrol getBlock :tileValue.3:x :computeRowValues.6:y type building floor
+  946 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   947 sensor solid type @solid
   948 select :tileValue.45:result notEqual solid false 0.09803921568627451 value
   949 set *tmp361 :tileValue.45:result
   950 label *label143
-    * set :computeRowValues.6:x4 *tmp361
-    * op add :tileValue.46:x :computeRowValues.6:x 2
-    * set :tileValue.46:y :computeRowValues.6:y
-    * set :tileValue.46:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.46:x :tileValue.46:y type building floor
-    * select value equal floor :tileValue.46:ore 0.00392156862745098 0
+  951 set :computeRowValues.6:x4 :tileValue.45:result
+  952 op add :tileValue.46:x :findBestPosition:x 2
+  953 set :tileValue.46:y *tmp352
+  954 set :tileValue.46:ore :findBestPosition:ore
+  955 ucontrol getBlock :tileValue.4:x :computeRowValues.6:y type building floor
+  956 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   957 sensor solid type @solid
   958 select :tileValue.46:result notEqual solid false 0.09803921568627451 value
   959 set *tmp363 :tileValue.46:result
   960 label *label144
-    * set :computeRowValues.6:x5 *tmp363
-    * jump *label145 notEqual :computeRowValues.6:size 2
-    * op add *tmp366 :computeRowValues.6:x1 :computeRowValues.6:x2
-    * op add *tmp367 :computeRowValues.6:x2 :computeRowValues.6:x3
-    * op add *tmp368 :computeRowValues.6:x3 :computeRowValues.6:x4
-    * op add *tmp369 :computeRowValues.6:x4 :computeRowValues.6:x5
+  961 set :computeRowValues.6:x5 :tileValue.46:result
+  962 jump *label145 notEqual :findBestPosition:size 2
+  963 op add *tmp366 *tmp355 *tmp357
+  964 op add *tmp367 *tmp357 *tmp359
+  965 op add *tmp368 *tmp359 *tmp361
+  966 op add *tmp369 *tmp361 *tmp363
   967 packcolor *tmp353 *tmp366 *tmp367 *tmp368 *tmp369
   968 jump *label139 always
-    * set *tmp365 null
   969 jump *label146 always
   970 label *label145
-    * jump *label147 notEqual :computeRowValues.6:size 3
-    * op add *tmp373 :computeRowValues.6:x2 :computeRowValues.6:x3
-    * op add *tmp374 :computeRowValues.6:x1 *tmp373
-    * op add *tmp375 :computeRowValues.6:x2 :computeRowValues.6:x3
-    * op add *tmp376 *tmp375 :computeRowValues.6:x4
-    * op add *tmp377 :computeRowValues.6:x3 :computeRowValues.6:x4
-    * op add *tmp378 *tmp377 :computeRowValues.6:x5
+  971 jump *label147 notEqual :findBestPosition:size 3
+  972 op add *tmp373 *tmp357 *tmp359
+  973 op add *tmp374 *tmp355 *tmp373
+  974 op add *tmp375 *tmp357 *tmp359
+  975 op add *tmp376 *tmp373 *tmp361
+  976 op add *tmp377 *tmp359 *tmp361
+  977 op add *tmp378 *tmp377 *tmp363
   978 packcolor *tmp353 *tmp374 *tmp376 *tmp378 0
   979 jump *label139 always
-    * set *tmp372 null
   980 jump *label148 always
   981 label *label147
-    * op sub :tileValue.47:x :computeRowValues.6:x 3
-    * set :tileValue.47:y :computeRowValues.6:y
-    * set :tileValue.47:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.47:x :tileValue.47:y type building floor
-    * select value equal floor :tileValue.47:ore 0.00392156862745098 0
+  982 op sub :tileValue.47:x :findBestPosition:x 3
+  983 set :tileValue.47:y *tmp352
+  984 set :tileValue.47:ore :findBestPosition:ore
+  985 ucontrol getBlock :tileValue.47:x :computeRowValues.6:y type building floor
+  986 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   987 sensor solid type @solid
   988 select :tileValue.47:result notEqual solid false 0.09803921568627451 value
   989 set *tmp381 :tileValue.47:result
   990 label *label149
-    * set :computeRowValues.6:x0 *tmp381
-    * op add :tileValue.48:x :computeRowValues.6:x 3
-    * set :tileValue.48:y :computeRowValues.6:y
-    * set :tileValue.48:ore :computeRowValues.6:ore
-    * ucontrol getBlock :tileValue.48:x :tileValue.48:y type building floor
-    * select value equal floor :tileValue.48:ore 0.00392156862745098 0
+  991 set :computeRowValues.6:x0 :tileValue.47:result
+  992 op add :tileValue.48:x :findBestPosition:x 3
+  993 set :tileValue.48:y *tmp352
+  994 set :tileValue.48:ore :findBestPosition:ore
+  995 ucontrol getBlock :tileValue.48:x :computeRowValues.6:y type building floor
+  996 select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
   997 sensor solid type @solid
   998 select :tileValue.48:result notEqual solid false 0.09803921568627451 value
   999 set *tmp383 :tileValue.48:result
  1000 label *label150
-    * set :computeRowValues.6:x6 *tmp383
-    * op add *tmp384 :computeRowValues.6:x1 :computeRowValues.6:x2
-    * op add *tmp385 *tmp384 :computeRowValues.6:x3
-    * op add *tmp386 :computeRowValues.6:x0 *tmp385
+ 1001 set :computeRowValues.6:x6 :tileValue.48:result
+ 1002 op add *tmp384 *tmp355 *tmp357
+ 1003 op add *tmp385 *tmp384 *tmp359
+ 1004 op add *tmp386 *tmp381 *tmp385
  1005 op min *tmp387 0.09803921568627451 *tmp386
-    * op add *tmp388 :computeRowValues.6:x1 :computeRowValues.6:x2
-    * op add *tmp389 *tmp388 :computeRowValues.6:x3
-    * op add *tmp390 *tmp389 :computeRowValues.6:x4
+ 1006 op add *tmp388 *tmp355 *tmp357
+ 1007 op add *tmp389 *tmp384 *tmp359
+ 1008 op add *tmp390 *tmp385 *tmp361
  1009 op min *tmp391 0.09803921568627451 *tmp390
-    * op add *tmp392 :computeRowValues.6:x3 :computeRowValues.6:x4
-    * op add *tmp393 *tmp392 :computeRowValues.6:x5
-    * op add *tmp394 :computeRowValues.6:x2 *tmp393
+ 1010 op add *tmp392 *tmp359 *tmp361
+ 1011 op add *tmp393 *tmp392 *tmp363
+ 1012 op add *tmp394 *tmp357 *tmp393
  1013 op min *tmp395 0.09803921568627451 *tmp394
-    * op add *tmp396 :computeRowValues.6:x3 :computeRowValues.6:x4
-    * op add *tmp397 *tmp396 :computeRowValues.6:x5
-    * op add *tmp398 *tmp397 :computeRowValues.6:x6
+ 1014 op add *tmp396 *tmp359 *tmp361
+ 1015 op add *tmp397 *tmp392 *tmp363
+ 1016 op add *tmp398 *tmp393 *tmp383
  1017 op min *tmp399 0.09803921568627451 *tmp398
  1018 packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399
  1019 jump *label139 always
-    * set *tmp372 null
  1020 label *label148
-    * set *tmp365 *tmp372
+ 1021 set *tmp365 null
  1022 label *label146
-    * set *tmp353 *tmp365
+ 1023 set *tmp353 null
  1024 label *label139
  1025 set :findBestPosition:y6 *tmp353
-    * op add *tmp401 :findBestPosition:y1 :findBestPosition:y2
-    * op add *tmp402 *tmp401 :findBestPosition:y3
-    * op add :findBestPosition:row1 :findBestPosition:y0 *tmp402
-    * op add *tmp404 :findBestPosition:y1 :findBestPosition:y2
-    * op add *tmp405 *tmp404 :findBestPosition:y3
-    * op add :findBestPosition:row2 *tmp405 :findBestPosition:y4
-    * op add *tmp407 :findBestPosition:y3 :findBestPosition:y4
-    * op add *tmp408 *tmp407 :findBestPosition:y5
-    * op add :findBestPosition:row3 :findBestPosition:y2 *tmp408
-    * op add *tmp410 :findBestPosition:y3 :findBestPosition:y4
-    * op add *tmp411 *tmp410 :findBestPosition:y5
-    * op add :findBestPosition:row4 *tmp411 :findBestPosition:y6
+ 1026 op add *tmp401 *tmp6 *tmp55
+ 1027 op add *tmp402 *tmp401 *tmp104
+ 1028 op add :findBestPosition:row1 *tmp304 *tmp402
+ 1029 op add *tmp404 *tmp6 *tmp55
+ 1030 op add *tmp405 *tmp401 *tmp104
+ 1031 op add :findBestPosition:row2 *tmp402 *tmp153
+ 1032 op add *tmp407 *tmp104 *tmp153
+ 1033 op add *tmp408 *tmp407 *tmp202
+ 1034 op add :findBestPosition:row3 *tmp55 *tmp408
+ 1035 op add *tmp410 *tmp104 *tmp153
+ 1036 op add *tmp411 *tmp407 *tmp202
+ 1037 op add :findBestPosition:row4 *tmp408 *tmp353
  1038 label *label126
  1039 set :updateRowPositionsEven:dy -1.5
  1040 set :updateRowPositionsEven:rowSum :findBestPosition:row1
-    * unpackcolor :updateRowPositionsEven:col1 :updateRowPositionsEven:col2 :updateRowPositionsEven:col3 :updateRowPositionsEven:col4 :updateRowPositionsEven:rowSum
+ 1041 unpackcolor :updateRowPositionsEven:col1 :updateRowPositionsEven:col2 :updateRowPositionsEven:col3 :updateRowPositionsEven:col4 :findBestPosition:row1
  1042 set :updatePosition.9:dx -1.5
-    * set :updatePosition.9:dy :updateRowPositionsEven:dy
+ 1043 set :updatePosition.9:dy -1.5
  1044 set :updatePosition.9:value :updateRowPositionsEven:col1
-    * jump *label153 lessThanEq :updatePosition.9:value :findBestPosition:best
-    * jump *label155 greaterThanEq :updatePosition.9:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.9:dx
-    * set :findBestPosition:bestY :updatePosition.9:dy
-    * set :findBestPosition:best :updatePosition.9:value
+ 1045 jump *label153 lessThanEq :updateRowPositionsEven:col1 0
+ 1046 jump *label155 greaterThanEq :updateRowPositionsEven:col1 0.0784313725490196
+ 1047 set :findBestPosition:bestX -1.5
+ 1048 set :findBestPosition:bestY :updateRowPositionsEven:dy
+ 1049 set :findBestPosition:best :updateRowPositionsEven:col1
  1050 label *label155
  1051 label *label156
  1052 label *label153
  1053 label *label154
  1054 label *label152
  1055 set :updatePosition.10:dx -0.5
-    * set :updatePosition.10:dy :updateRowPositionsEven:dy
+ 1056 set :updatePosition.10:dy -1.5
  1057 set :updatePosition.10:value :updateRowPositionsEven:col2
-    * jump *label158 lessThanEq :updatePosition.10:value :findBestPosition:best
-    * jump *label160 greaterThanEq :updatePosition.10:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.10:dx
-    * set :findBestPosition:bestY :updatePosition.10:dy
-    * set :findBestPosition:best :updatePosition.10:value
+ 1058 jump *label158 lessThanEq :updateRowPositionsEven:col2 :findBestPosition:best
+ 1059 jump *label160 greaterThanEq :updateRowPositionsEven:col2 0.0784313725490196
+ 1060 set :findBestPosition:bestX -0.5
+ 1061 set :findBestPosition:bestY :updateRowPositionsEven:dy
+ 1062 set :findBestPosition:best :updateRowPositionsEven:col2
  1063 label *label160
  1064 label *label161
  1065 label *label158
  1066 label *label159
  1067 label *label157
  1068 set :updatePosition.11:dx 0.5
-    * set :updatePosition.11:dy :updateRowPositionsEven:dy
+ 1069 set :updatePosition.11:dy -1.5
  1070 set :updatePosition.11:value :updateRowPositionsEven:col3
-    * jump *label163 lessThanEq :updatePosition.11:value :findBestPosition:best
-    * jump *label165 greaterThanEq :updatePosition.11:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.11:dx
-    * set :findBestPosition:bestY :updatePosition.11:dy
-    * set :findBestPosition:best :updatePosition.11:value
+ 1071 jump *label163 lessThanEq :updateRowPositionsEven:col3 :findBestPosition:best
+ 1072 jump *label165 greaterThanEq :updateRowPositionsEven:col3 0.0784313725490196
+ 1073 set :findBestPosition:bestX 0.5
+ 1074 set :findBestPosition:bestY :updateRowPositionsEven:dy
+ 1075 set :findBestPosition:best :updateRowPositionsEven:col3
  1076 label *label165
  1077 label *label166
  1078 label *label163
  1079 label *label164
  1080 label *label162
  1081 set :updatePosition.12:dx 1.5
-    * set :updatePosition.12:dy :updateRowPositionsEven:dy
+ 1082 set :updatePosition.12:dy -1.5
  1083 set :updatePosition.12:value :updateRowPositionsEven:col4
-    * jump *label168 lessThanEq :updatePosition.12:value :findBestPosition:best
-    * jump *label170 greaterThanEq :updatePosition.12:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.12:dx
-    * set :findBestPosition:bestY :updatePosition.12:dy
-    * set :findBestPosition:best :updatePosition.12:value
+ 1084 jump *label168 lessThanEq :updateRowPositionsEven:col4 :findBestPosition:best
+ 1085 jump *label170 greaterThanEq :updateRowPositionsEven:col4 0.0784313725490196
+ 1086 set :findBestPosition:bestX 1.5
+ 1087 set :findBestPosition:bestY :updateRowPositionsEven:dy
+ 1088 set :findBestPosition:best :updateRowPositionsEven:col4
  1089 label *label170
  1090 label *label171
  1091 label *label168
 
  1094 label *label151
  1095 set :updateRowPositionsEven.1:dy -0.5
  1096 set :updateRowPositionsEven.1:rowSum :findBestPosition:row2
-    * unpackcolor :updateRowPositionsEven.1:col1 :updateRowPositionsEven.1:col2 :updateRowPositionsEven.1:col3 :updateRowPositionsEven.1:col4 :updateRowPositionsEven.1:rowSum
+ 1097 unpackcolor :updateRowPositionsEven.1:col1 :updateRowPositionsEven.1:col2 :updateRowPositionsEven.1:col3 :updateRowPositionsEven.1:col4 :findBestPosition:row2
  1098 set :updatePosition.13:dx -1.5
-    * set :updatePosition.13:dy :updateRowPositionsEven.1:dy
+ 1099 set :updatePosition.13:dy -0.5
  1100 set :updatePosition.13:value :updateRowPositionsEven.1:col1
-    * jump *label174 lessThanEq :updatePosition.13:value :findBestPosition:best
-    * jump *label176 greaterThanEq :updatePosition.13:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.13:dx
-    * set :findBestPosition:bestY :updatePosition.13:dy
-    * set :findBestPosition:best :updatePosition.13:value
+ 1101 jump *label174 lessThanEq :updateRowPositionsEven.1:col1 :findBestPosition:best
+ 1102 jump *label176 greaterThanEq :updateRowPositionsEven.1:col1 0.0784313725490196
+ 1103 set :findBestPosition:bestX -1.5
+ 1104 set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+ 1105 set :findBestPosition:best :updateRowPositionsEven.1:col1
  1106 label *label176
  1107 label *label177
  1108 label *label174
  1109 label *label175
  1110 label *label173
  1111 set :updatePosition.14:dx -0.5
-    * set :updatePosition.14:dy :updateRowPositionsEven.1:dy
+ 1112 set :updatePosition.14:dy -0.5
  1113 set :updatePosition.14:value :updateRowPositionsEven.1:col2
-    * jump *label179 lessThanEq :updatePosition.14:value :findBestPosition:best
-    * jump *label181 greaterThanEq :updatePosition.14:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.14:dx
-    * set :findBestPosition:bestY :updatePosition.14:dy
-    * set :findBestPosition:best :updatePosition.14:value
+ 1114 jump *label179 lessThanEq :updateRowPositionsEven.1:col2 :findBestPosition:best
+ 1115 jump *label181 greaterThanEq :updateRowPositionsEven.1:col2 0.0784313725490196
+ 1116 set :findBestPosition:bestX -0.5
+ 1117 set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+ 1118 set :findBestPosition:best :updateRowPositionsEven.1:col2
  1119 label *label181
  1120 label *label182
  1121 label *label179
  1122 label *label180
  1123 label *label178
  1124 set :updatePosition.15:dx 0.5
-    * set :updatePosition.15:dy :updateRowPositionsEven.1:dy
+ 1125 set :updatePosition.15:dy -0.5
  1126 set :updatePosition.15:value :updateRowPositionsEven.1:col3
-    * jump *label184 lessThanEq :updatePosition.15:value :findBestPosition:best
-    * jump *label186 greaterThanEq :updatePosition.15:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.15:dx
-    * set :findBestPosition:bestY :updatePosition.15:dy
-    * set :findBestPosition:best :updatePosition.15:value
+ 1127 jump *label184 lessThanEq :updateRowPositionsEven.1:col3 :findBestPosition:best
+ 1128 jump *label186 greaterThanEq :updateRowPositionsEven.1:col3 0.0784313725490196
+ 1129 set :findBestPosition:bestX 0.5
+ 1130 set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+ 1131 set :findBestPosition:best :updateRowPositionsEven.1:col3
  1132 label *label186
  1133 label *label187
  1134 label *label184
  1135 label *label185
  1136 label *label183
  1137 set :updatePosition.16:dx 1.5
-    * set :updatePosition.16:dy :updateRowPositionsEven.1:dy
+ 1138 set :updatePosition.16:dy -0.5
  1139 set :updatePosition.16:value :updateRowPositionsEven.1:col4
-    * jump *label189 lessThanEq :updatePosition.16:value :findBestPosition:best
-    * jump *label191 greaterThanEq :updatePosition.16:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.16:dx
-    * set :findBestPosition:bestY :updatePosition.16:dy
-    * set :findBestPosition:best :updatePosition.16:value
+ 1140 jump *label189 lessThanEq :updateRowPositionsEven.1:col4 :findBestPosition:best
+ 1141 jump *label191 greaterThanEq :updateRowPositionsEven.1:col4 0.0784313725490196
+ 1142 set :findBestPosition:bestX 1.5
+ 1143 set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+ 1144 set :findBestPosition:best :updateRowPositionsEven.1:col4
  1145 label *label191
  1146 label *label192
  1147 label *label189
 
  1150 label *label172
  1151 set :updateRowPositionsEven.2:dy 0.5
  1152 set :updateRowPositionsEven.2:rowSum :findBestPosition:row3
-    * unpackcolor :updateRowPositionsEven.2:col1 :updateRowPositionsEven.2:col2 :updateRowPositionsEven.2:col3 :updateRowPositionsEven.2:col4 :updateRowPositionsEven.2:rowSum
+ 1153 unpackcolor :updateRowPositionsEven.2:col1 :updateRowPositionsEven.2:col2 :updateRowPositionsEven.2:col3 :updateRowPositionsEven.2:col4 :findBestPosition:row3
  1154 set :updatePosition.17:dx -1.5
-    * set :updatePosition.17:dy :updateRowPositionsEven.2:dy
+ 1155 set :updatePosition.17:dy 0.5
  1156 set :updatePosition.17:value :updateRowPositionsEven.2:col1
-    * jump *label195 lessThanEq :updatePosition.17:value :findBestPosition:best
-    * jump *label197 greaterThanEq :updatePosition.17:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.17:dx
-    * set :findBestPosition:bestY :updatePosition.17:dy
-    * set :findBestPosition:best :updatePosition.17:value
+ 1157 jump *label195 lessThanEq :updateRowPositionsEven.2:col1 :findBestPosition:best
+ 1158 jump *label197 greaterThanEq :updateRowPositionsEven.2:col1 0.0784313725490196
+ 1159 set :findBestPosition:bestX -1.5
+ 1160 set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+ 1161 set :findBestPosition:best :updateRowPositionsEven.2:col1
  1162 label *label197
  1163 label *label198
  1164 label *label195
  1165 label *label196
  1166 label *label194
  1167 set :updatePosition.18:dx -0.5
-    * set :updatePosition.18:dy :updateRowPositionsEven.2:dy
+ 1168 set :updatePosition.18:dy 0.5
  1169 set :updatePosition.18:value :updateRowPositionsEven.2:col2
-    * jump *label200 lessThanEq :updatePosition.18:value :findBestPosition:best
-    * jump *label202 greaterThanEq :updatePosition.18:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.18:dx
-    * set :findBestPosition:bestY :updatePosition.18:dy
-    * set :findBestPosition:best :updatePosition.18:value
+ 1170 jump *label200 lessThanEq :updateRowPositionsEven.2:col2 :findBestPosition:best
+ 1171 jump *label202 greaterThanEq :updateRowPositionsEven.2:col2 0.0784313725490196
+ 1172 set :findBestPosition:bestX -0.5
+ 1173 set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+ 1174 set :findBestPosition:best :updateRowPositionsEven.2:col2
  1175 label *label202
  1176 label *label203
  1177 label *label200
  1178 label *label201
  1179 label *label199
  1180 set :updatePosition.19:dx 0.5
-    * set :updatePosition.19:dy :updateRowPositionsEven.2:dy
+ 1181 set :updatePosition.19:dy 0.5
  1182 set :updatePosition.19:value :updateRowPositionsEven.2:col3
-    * jump *label205 lessThanEq :updatePosition.19:value :findBestPosition:best
-    * jump *label207 greaterThanEq :updatePosition.19:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.19:dx
-    * set :findBestPosition:bestY :updatePosition.19:dy
-    * set :findBestPosition:best :updatePosition.19:value
+ 1183 jump *label205 lessThanEq :updateRowPositionsEven.2:col3 :findBestPosition:best
+ 1184 jump *label207 greaterThanEq :updateRowPositionsEven.2:col3 0.0784313725490196
+ 1185 set :findBestPosition:bestX 0.5
+ 1186 set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+ 1187 set :findBestPosition:best :updateRowPositionsEven.2:col3
  1188 label *label207
  1189 label *label208
  1190 label *label205
  1191 label *label206
  1192 label *label204
  1193 set :updatePosition.20:dx 1.5
-    * set :updatePosition.20:dy :updateRowPositionsEven.2:dy
+ 1194 set :updatePosition.20:dy 0.5
  1195 set :updatePosition.20:value :updateRowPositionsEven.2:col4
-    * jump *label210 lessThanEq :updatePosition.20:value :findBestPosition:best
-    * jump *label212 greaterThanEq :updatePosition.20:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.20:dx
-    * set :findBestPosition:bestY :updatePosition.20:dy
-    * set :findBestPosition:best :updatePosition.20:value
+ 1196 jump *label210 lessThanEq :updateRowPositionsEven.2:col4 :findBestPosition:best
+ 1197 jump *label212 greaterThanEq :updateRowPositionsEven.2:col4 0.0784313725490196
+ 1198 set :findBestPosition:bestX 1.5
+ 1199 set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+ 1200 set :findBestPosition:best :updateRowPositionsEven.2:col4
  1201 label *label212
  1202 label *label213
  1203 label *label210
 
  1206 label *label193
  1207 set :updateRowPositionsEven.3:dy 1.5
  1208 set :updateRowPositionsEven.3:rowSum :findBestPosition:row4
-    * unpackcolor :updateRowPositionsEven.3:col1 :updateRowPositionsEven.3:col2 :updateRowPositionsEven.3:col3 :updateRowPositionsEven.3:col4 :updateRowPositionsEven.3:rowSum
+ 1209 unpackcolor :updateRowPositionsEven.3:col1 :updateRowPositionsEven.3:col2 :updateRowPositionsEven.3:col3 :updateRowPositionsEven.3:col4 :findBestPosition:row4
  1210 set :updatePosition.21:dx -1.5
-    * set :updatePosition.21:dy :updateRowPositionsEven.3:dy
+ 1211 set :updatePosition.21:dy 1.5
  1212 set :updatePosition.21:value :updateRowPositionsEven.3:col1
-    * jump *label216 lessThanEq :updatePosition.21:value :findBestPosition:best
-    * jump *label218 greaterThanEq :updatePosition.21:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.21:dx
-    * set :findBestPosition:bestY :updatePosition.21:dy
-    * set :findBestPosition:best :updatePosition.21:value
+ 1213 jump *label216 lessThanEq :updateRowPositionsEven.3:col1 :findBestPosition:best
+ 1214 jump *label218 greaterThanEq :updateRowPositionsEven.3:col1 0.0784313725490196
+ 1215 set :findBestPosition:bestX -1.5
+ 1216 set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+ 1217 set :findBestPosition:best :updateRowPositionsEven.3:col1
  1218 label *label218
  1219 label *label219
  1220 label *label216
  1221 label *label217
  1222 label *label215
  1223 set :updatePosition.22:dx -0.5
-    * set :updatePosition.22:dy :updateRowPositionsEven.3:dy
+ 1224 set :updatePosition.22:dy 1.5
  1225 set :updatePosition.22:value :updateRowPositionsEven.3:col2
-    * jump *label221 lessThanEq :updatePosition.22:value :findBestPosition:best
-    * jump *label223 greaterThanEq :updatePosition.22:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.22:dx
-    * set :findBestPosition:bestY :updatePosition.22:dy
-    * set :findBestPosition:best :updatePosition.22:value
+ 1226 jump *label221 lessThanEq :updateRowPositionsEven.3:col2 :findBestPosition:best
+ 1227 jump *label223 greaterThanEq :updateRowPositionsEven.3:col2 0.0784313725490196
+ 1228 set :findBestPosition:bestX -0.5
+ 1229 set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+ 1230 set :findBestPosition:best :updateRowPositionsEven.3:col2
  1231 label *label223
  1232 label *label224
  1233 label *label221
  1234 label *label222
  1235 label *label220
  1236 set :updatePosition.23:dx 0.5
-    * set :updatePosition.23:dy :updateRowPositionsEven.3:dy
+ 1237 set :updatePosition.23:dy 1.5
  1238 set :updatePosition.23:value :updateRowPositionsEven.3:col3
-    * jump *label226 lessThanEq :updatePosition.23:value :findBestPosition:best
-    * jump *label228 greaterThanEq :updatePosition.23:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.23:dx
-    * set :findBestPosition:bestY :updatePosition.23:dy
-    * set :findBestPosition:best :updatePosition.23:value
+ 1239 jump *label226 lessThanEq :updateRowPositionsEven.3:col3 :findBestPosition:best
+ 1240 jump *label228 greaterThanEq :updateRowPositionsEven.3:col3 0.0784313725490196
+ 1241 set :findBestPosition:bestX 0.5
+ 1242 set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+ 1243 set :findBestPosition:best :updateRowPositionsEven.3:col3
  1244 label *label228
  1245 label *label229
  1246 label *label226
  1247 label *label227
  1248 label *label225
  1249 set :updatePosition.24:dx 1.5
-    * set :updatePosition.24:dy :updateRowPositionsEven.3:dy
+ 1250 set :updatePosition.24:dy 1.5
  1251 set :updatePosition.24:value :updateRowPositionsEven.3:col4
-    * jump *label231 lessThanEq :updatePosition.24:value :findBestPosition:best
-    * jump *label233 greaterThanEq :updatePosition.24:value 0.0784313725490196
-    * set :findBestPosition:bestX :updatePosition.24:dx
-    * set :findBestPosition:bestY :updatePosition.24:dy
-    * set :findBestPosition:best :updatePosition.24:value
+ 1252 jump *label231 lessThanEq :updateRowPositionsEven.3:col4 :findBestPosition:best
+ 1253 jump *label233 greaterThanEq :updateRowPositionsEven.3:col4 0.0784313725490196
+ 1254 set :findBestPosition:bestX 1.5
+ 1255 set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+ 1256 set :findBestPosition:best :updateRowPositionsEven.3:col4
  1257 label *label233
  1258 label *label234
  1259 label *label231
 
  1263 label *label76
  1264 op mul :findBestPosition*retval :findBestPosition:best 255
  1265 jump *label14 always
-    * set :findBestPosition*retval null
  1266 label *label14
  1267 set :findBestPosition*finished true
  1268 jump *label5 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-289 instructions):
 
    18 op shl *tmp0 :createTerrainMask:result 1
    19 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
    20 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
-    * set :isSolid:x *tmp1
-    * set :isSolid:y *tmp2
    21 ucontrol getBlock *tmp1 *tmp2 type building floor
    22 sensor solid type @solid
    23 select :isSolid:result notEqual solid false 1 0
-    * set *tmp3 :isSolid:result
    24 label *label13
    25 op or :createTerrainMask:result *tmp0 :isSolid:result
    26 label *label11
 
    43 set :computeRowValues:x :findBestPosition:x
    44 set :computeRowValues:y *tmp5
    45 set :computeRowValues:ore :findBestPosition:ore
-    * set :computeRowValues:size :findBestPosition:size
    46 op sub :tileValue:x :findBestPosition:x 2
-    * set :tileValue:y *tmp5
-    * set :tileValue:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+   47 ucontrol getBlock :tileValue:x *tmp5 type building floor
+   48 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    49 sensor solid type @solid
    50 select :tileValue:result notEqual solid false 0.09803921568627451 value
    51 set *tmp8 :tileValue:result
    52 label *label16
-    * set :computeRowValues:x1 :tileValue:result
    53 op sub :tileValue.1:x :findBestPosition:x 1
-    * set :tileValue.1:y *tmp5
-    * set :tileValue.1:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+   54 ucontrol getBlock :tileValue.1:x *tmp5 type building floor
+   55 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    56 sensor solid type @solid
    57 select :tileValue.1:result notEqual solid false 0.09803921568627451 value
    58 set *tmp10 :tileValue.1:result
    59 label *label17
-    * set :computeRowValues:x2 :tileValue.1:result
-    * set :tileValue.2:x :findBestPosition:x
-    * set :tileValue.2:y *tmp5
-    * set :tileValue.2:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+   60 ucontrol getBlock :findBestPosition:x *tmp5 type building floor
+   61 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    62 sensor solid type @solid
    63 select :tileValue.2:result notEqual solid false 0.09803921568627451 value
    64 set *tmp12 :tileValue.2:result
    65 label *label18
-    * set :computeRowValues:x3 :tileValue.2:result
    66 op add :tileValue.3:x :findBestPosition:x 1
-    * set :tileValue.3:y *tmp5
-    * set :tileValue.3:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+   67 ucontrol getBlock :tileValue.3:x *tmp5 type building floor
+   68 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    69 sensor solid type @solid
    70 select :tileValue.3:result notEqual solid false 0.09803921568627451 value
    71 set *tmp14 :tileValue.3:result
    72 label *label19
-    * set :computeRowValues:x4 :tileValue.3:result
    73 op add :tileValue.4:x :findBestPosition:x 2
-    * set :tileValue.4:y *tmp5
-    * set :tileValue.4:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+   74 ucontrol getBlock :tileValue.4:x *tmp5 type building floor
+   75 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    76 sensor solid type @solid
    77 select :tileValue.4:result notEqual solid false 0.09803921568627451 value
    78 set *tmp16 :tileValue.4:result
    79 label *label20
-    * set :computeRowValues:x5 :tileValue.4:result
    80 jump *label21 notEqual :findBestPosition:size 2
-    * op add *tmp19 *tmp8 *tmp10
-    * op add *tmp20 *tmp10 *tmp12
-    * op add *tmp21 *tmp12 *tmp14
-    * op add *tmp22 *tmp14 *tmp16
+   81 op add *tmp19 :tileValue:result :tileValue.1:result
+   82 op add *tmp20 :tileValue.1:result :tileValue.2:result
+   83 op add *tmp21 :tileValue.2:result :tileValue.3:result
+   84 op add *tmp22 :tileValue.3:result :tileValue.4:result
    85 packcolor *tmp6 *tmp19 *tmp20 *tmp21 *tmp22
    86 jump *label15 always
    87 jump *label22 always
    88 label *label21
    89 jump *label23 notEqual :findBestPosition:size 3
-    * op add *tmp26 *tmp10 *tmp12
-    * op add *tmp27 *tmp8 *tmp26
-    * op add *tmp28 *tmp10 *tmp12
-    * op add *tmp29 *tmp26 *tmp14
-    * op add *tmp30 *tmp12 *tmp14
-    * op add *tmp31 *tmp30 *tmp16
+   90 op add *tmp26 :tileValue.1:result :tileValue.2:result
+   91 op add *tmp27 :tileValue:result *tmp26
+   92 op add *tmp28 :tileValue.1:result :tileValue.2:result
+   93 op add *tmp29 *tmp26 :tileValue.3:result
+   94 op add *tmp30 :tileValue.2:result :tileValue.3:result
+   95 op add *tmp31 *tmp30 :tileValue.4:result
    96 packcolor *tmp6 *tmp27 *tmp29 *tmp31 0
    97 jump *label15 always
    98 jump *label24 always
    99 label *label23
   100 op sub :tileValue.5:x :findBestPosition:x 3
-    * set :tileValue.5:y *tmp5
-    * set :tileValue.5:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.5:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+  101 ucontrol getBlock :tileValue.5:x *tmp5 type building floor
+  102 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   103 sensor solid type @solid
   104 select :tileValue.5:result notEqual solid false 0.09803921568627451 value
   105 set *tmp34 :tileValue.5:result
   106 label *label25
-    * set :computeRowValues:x0 :tileValue.5:result
   107 op add :tileValue.6:x :findBestPosition:x 3
-    * set :tileValue.6:y *tmp5
-    * set :tileValue.6:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.6:x :computeRowValues:y type building floor
-    * select value equal floor :computeRowValues:ore 0.00392156862745098 0
+  108 ucontrol getBlock :tileValue.6:x *tmp5 type building floor
+  109 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   110 sensor solid type @solid
   111 select :tileValue.6:result notEqual solid false 0.09803921568627451 value
   112 set *tmp36 :tileValue.6:result
   113 label *label26
-    * set :computeRowValues:x6 :tileValue.6:result
-    * op add *tmp37 *tmp8 *tmp10
-    * op add *tmp38 *tmp37 *tmp12
-    * op add *tmp39 *tmp34 *tmp38
+  114 op add *tmp37 :tileValue:result :tileValue.1:result
+  115 op add *tmp38 *tmp37 :tileValue.2:result
+  116 op add *tmp39 :tileValue.5:result *tmp38
   117 op min *tmp40 0.09803921568627451 *tmp39
-    * op add *tmp41 *tmp8 *tmp10
-    * op add *tmp42 *tmp37 *tmp12
-    * op add *tmp43 *tmp38 *tmp14
+  118 op add *tmp41 :tileValue:result :tileValue.1:result
+  119 op add *tmp42 *tmp37 :tileValue.2:result
+  120 op add *tmp43 *tmp38 :tileValue.3:result
   121 op min *tmp44 0.09803921568627451 *tmp43
-    * op add *tmp45 *tmp12 *tmp14
-    * op add *tmp46 *tmp45 *tmp16
-    * op add *tmp47 *tmp10 *tmp46
+  122 op add *tmp45 :tileValue.2:result :tileValue.3:result
+  123 op add *tmp46 *tmp45 :tileValue.4:result
+  124 op add *tmp47 :tileValue.1:result *tmp46
   125 op min *tmp48 0.09803921568627451 *tmp47
-    * op add *tmp49 *tmp12 *tmp14
-    * op add *tmp50 *tmp45 *tmp16
-    * op add *tmp51 *tmp46 *tmp36
+  126 op add *tmp49 :tileValue.2:result :tileValue.3:result
+  127 op add *tmp50 *tmp45 :tileValue.4:result
+  128 op add *tmp51 *tmp46 :tileValue.6:result
   129 op min *tmp52 0.09803921568627451 *tmp51
   130 packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52
   131 jump *label15 always
   132 label *label24
-    * set *tmp18 null
   133 label *label22
-    * set *tmp6 null
   134 label *label15
-    * set :findBestPosition:y1 *tmp6
   135 op sub *tmp54 :findBestPosition:y 1
   136 set :computeRowValues.1:x :findBestPosition:x
   137 set :computeRowValues.1:y *tmp54
   138 set :computeRowValues.1:ore :findBestPosition:ore
-    * set :computeRowValues.1:size :findBestPosition:size
-    * op sub :tileValue.7:x :findBestPosition:x 2
-    * set :tileValue.7:y *tmp54
-    * set :tileValue.7:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  139 ucontrol getBlock :tileValue:x *tmp54 type building floor
+  140 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   141 sensor solid type @solid
   142 select :tileValue.7:result notEqual solid false 0.09803921568627451 value
   143 set *tmp57 :tileValue.7:result
   144 label *label28
-    * set :computeRowValues.1:x1 :tileValue.7:result
-    * op sub :tileValue.8:x :findBestPosition:x 1
-    * set :tileValue.8:y *tmp54
-    * set :tileValue.8:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  145 ucontrol getBlock :tileValue.1:x *tmp54 type building floor
+  146 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   147 sensor solid type @solid
   148 select :tileValue.8:result notEqual solid false 0.09803921568627451 value
   149 set *tmp59 :tileValue.8:result
   150 label *label29
-    * set :computeRowValues.1:x2 :tileValue.8:result
-    * set :tileValue.9:x :findBestPosition:x
-    * set :tileValue.9:y *tmp54
-    * set :tileValue.9:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues.1:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  151 ucontrol getBlock :findBestPosition:x *tmp54 type building floor
+  152 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   153 sensor solid type @solid
   154 select :tileValue.9:result notEqual solid false 0.09803921568627451 value
   155 set *tmp61 :tileValue.9:result
   156 label *label30
-    * set :computeRowValues.1:x3 :tileValue.9:result
-    * op add :tileValue.10:x :findBestPosition:x 1
-    * set :tileValue.10:y *tmp54
-    * set :tileValue.10:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  157 ucontrol getBlock :tileValue.3:x *tmp54 type building floor
+  158 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   159 sensor solid type @solid
   160 select :tileValue.10:result notEqual solid false 0.09803921568627451 value
   161 set *tmp63 :tileValue.10:result
   162 label *label31
-    * set :computeRowValues.1:x4 :tileValue.10:result
-    * op add :tileValue.11:x :findBestPosition:x 2
-    * set :tileValue.11:y *tmp54
-    * set :tileValue.11:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  163 ucontrol getBlock :tileValue.4:x *tmp54 type building floor
+  164 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   165 sensor solid type @solid
   166 select :tileValue.11:result notEqual solid false 0.09803921568627451 value
   167 set *tmp65 :tileValue.11:result
   168 label *label32
-    * set :computeRowValues.1:x5 :tileValue.11:result
   169 jump *label33 notEqual :findBestPosition:size 2
-    * op add *tmp68 *tmp57 *tmp59
-    * op add *tmp69 *tmp59 *tmp61
-    * op add *tmp70 *tmp61 *tmp63
-    * op add *tmp71 *tmp63 *tmp65
+  170 op add *tmp68 :tileValue.7:result :tileValue.8:result
+  171 op add *tmp69 :tileValue.8:result :tileValue.9:result
+  172 op add *tmp70 :tileValue.9:result :tileValue.10:result
+  173 op add *tmp71 :tileValue.10:result :tileValue.11:result
   174 packcolor *tmp55 *tmp68 *tmp69 *tmp70 *tmp71
   175 jump *label27 always
   176 jump *label34 always
   177 label *label33
   178 jump *label35 notEqual :findBestPosition:size 3
-    * op add *tmp75 *tmp59 *tmp61
-    * op add *tmp76 *tmp57 *tmp75
-    * op add *tmp77 *tmp59 *tmp61
-    * op add *tmp78 *tmp75 *tmp63
-    * op add *tmp79 *tmp61 *tmp63
-    * op add *tmp80 *tmp79 *tmp65
+  179 op add *tmp75 :tileValue.8:result :tileValue.9:result
+  180 op add *tmp76 :tileValue.7:result *tmp75
+  181 op add *tmp77 :tileValue.8:result :tileValue.9:result
+  182 op add *tmp78 *tmp75 :tileValue.10:result
+  183 op add *tmp79 :tileValue.9:result :tileValue.10:result
+  184 op add *tmp80 *tmp79 :tileValue.11:result
   185 packcolor *tmp55 *tmp76 *tmp78 *tmp80 0
   186 jump *label27 always
   187 jump *label36 always
   188 label *label35
   189 op sub :tileValue.12:x :findBestPosition:x 3
-    * set :tileValue.12:y *tmp54
-    * set :tileValue.12:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.12:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  190 ucontrol getBlock :tileValue.12:x *tmp54 type building floor
+  191 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   192 sensor solid type @solid
   193 select :tileValue.12:result notEqual solid false 0.09803921568627451 value
   194 set *tmp83 :tileValue.12:result
   195 label *label37
-    * set :computeRowValues.1:x0 :tileValue.12:result
   196 op add :tileValue.13:x :findBestPosition:x 3
-    * set :tileValue.13:y *tmp54
-    * set :tileValue.13:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.13:x :computeRowValues.1:y type building floor
-    * select value equal floor :computeRowValues.1:ore 0.00392156862745098 0
+  197 ucontrol getBlock :tileValue.13:x *tmp54 type building floor
+  198 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   199 sensor solid type @solid
   200 select :tileValue.13:result notEqual solid false 0.09803921568627451 value
   201 set *tmp85 :tileValue.13:result
   202 label *label38
-    * set :computeRowValues.1:x6 :tileValue.13:result
-    * op add *tmp86 *tmp57 *tmp59
-    * op add *tmp87 *tmp86 *tmp61
-    * op add *tmp88 *tmp83 *tmp87
+  203 op add *tmp86 :tileValue.7:result :tileValue.8:result
+  204 op add *tmp87 *tmp86 :tileValue.9:result
+  205 op add *tmp88 :tileValue.12:result *tmp87
   206 op min *tmp89 0.09803921568627451 *tmp88
-    * op add *tmp90 *tmp57 *tmp59
-    * op add *tmp91 *tmp86 *tmp61
-    * op add *tmp92 *tmp87 *tmp63
+  207 op add *tmp90 :tileValue.7:result :tileValue.8:result
+  208 op add *tmp91 *tmp86 :tileValue.9:result
+  209 op add *tmp92 *tmp87 :tileValue.10:result
   210 op min *tmp93 0.09803921568627451 *tmp92
-    * op add *tmp94 *tmp61 *tmp63
-    * op add *tmp95 *tmp94 *tmp65
-    * op add *tmp96 *tmp59 *tmp95
+  211 op add *tmp94 :tileValue.9:result :tileValue.10:result
+  212 op add *tmp95 *tmp94 :tileValue.11:result
+  213 op add *tmp96 :tileValue.8:result *tmp95
   214 op min *tmp97 0.09803921568627451 *tmp96
-    * op add *tmp98 *tmp61 *tmp63
-    * op add *tmp99 *tmp94 *tmp65
-    * op add *tmp100 *tmp95 *tmp85
+  215 op add *tmp98 :tileValue.9:result :tileValue.10:result
+  216 op add *tmp99 *tmp94 :tileValue.11:result
+  217 op add *tmp100 *tmp95 :tileValue.13:result
   218 op min *tmp101 0.09803921568627451 *tmp100
   219 packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101
   220 jump *label27 always
   221 label *label36
-    * set *tmp67 null
   222 label *label34
-    * set *tmp55 null
   223 label *label27
-    * set :findBestPosition:y2 *tmp55
   224 set *tmp103 :findBestPosition:y
   225 set :computeRowValues.2:x :findBestPosition:x
   226 set :computeRowValues.2:y :findBestPosition:y
   227 set :computeRowValues.2:ore :findBestPosition:ore
-    * set :computeRowValues.2:size :findBestPosition:size
-    * op sub :tileValue.14:x :findBestPosition:x 2
-    * set :tileValue.14:y *tmp103
-    * set :tileValue.14:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  228 set :tileValue.14:y :findBestPosition:y
+  229 ucontrol getBlock :tileValue:x :findBestPosition:y type building floor
+  230 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   231 sensor solid type @solid
   232 select :tileValue.14:result notEqual solid false 0.09803921568627451 value
   233 set *tmp106 :tileValue.14:result
   234 label *label40
-    * set :computeRowValues.2:x1 :tileValue.14:result
-    * op sub :tileValue.15:x :findBestPosition:x 1
-    * set :tileValue.15:y *tmp103
-    * set :tileValue.15:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  235 set :tileValue.15:y :findBestPosition:y
+  236 ucontrol getBlock :tileValue.1:x :findBestPosition:y type building floor
+  237 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   238 sensor solid type @solid
   239 select :tileValue.15:result notEqual solid false 0.09803921568627451 value
   240 set *tmp108 :tileValue.15:result
   241 label *label41
-    * set :computeRowValues.2:x2 :tileValue.15:result
-    * set :tileValue.16:x :findBestPosition:x
-    * set :tileValue.16:y *tmp103
-    * set :tileValue.16:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues.2:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  242 set :tileValue.16:y :findBestPosition:y
+  243 ucontrol getBlock :findBestPosition:x :findBestPosition:y type building floor
+  244 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   245 sensor solid type @solid
   246 select :tileValue.16:result notEqual solid false 0.09803921568627451 value
   247 set *tmp110 :tileValue.16:result
   248 label *label42
-    * set :computeRowValues.2:x3 :tileValue.16:result
-    * op add :tileValue.17:x :findBestPosition:x 1
-    * set :tileValue.17:y *tmp103
-    * set :tileValue.17:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  249 set :tileValue.17:y :findBestPosition:y
+  250 ucontrol getBlock :tileValue.3:x :findBestPosition:y type building floor
+  251 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   252 sensor solid type @solid
   253 select :tileValue.17:result notEqual solid false 0.09803921568627451 value
   254 set *tmp112 :tileValue.17:result
   255 label *label43
-    * set :computeRowValues.2:x4 :tileValue.17:result
-    * op add :tileValue.18:x :findBestPosition:x 2
-    * set :tileValue.18:y *tmp103
-    * set :tileValue.18:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  256 set :tileValue.18:y :findBestPosition:y
+  257 ucontrol getBlock :tileValue.4:x :findBestPosition:y type building floor
+  258 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   259 sensor solid type @solid
   260 select :tileValue.18:result notEqual solid false 0.09803921568627451 value
   261 set *tmp114 :tileValue.18:result
   262 label *label44
-    * set :computeRowValues.2:x5 :tileValue.18:result
   263 jump *label45 notEqual :findBestPosition:size 2
-    * op add *tmp117 *tmp106 *tmp108
-    * op add *tmp118 *tmp108 *tmp110
-    * op add *tmp119 *tmp110 *tmp112
-    * op add *tmp120 *tmp112 *tmp114
+  264 op add *tmp117 :tileValue.14:result :tileValue.15:result
+  265 op add *tmp118 :tileValue.15:result :tileValue.16:result
+  266 op add *tmp119 :tileValue.16:result :tileValue.17:result
+  267 op add *tmp120 :tileValue.17:result :tileValue.18:result
   268 packcolor *tmp104 *tmp117 *tmp118 *tmp119 *tmp120
   269 jump *label39 always
   270 jump *label46 always
   271 label *label45
   272 jump *label47 notEqual :findBestPosition:size 3
-    * op add *tmp124 *tmp108 *tmp110
-    * op add *tmp125 *tmp106 *tmp124
-    * op add *tmp126 *tmp108 *tmp110
-    * op add *tmp127 *tmp124 *tmp112
-    * op add *tmp128 *tmp110 *tmp112
-    * op add *tmp129 *tmp128 *tmp114
+  273 op add *tmp124 :tileValue.15:result :tileValue.16:result
+  274 op add *tmp125 :tileValue.14:result *tmp124
+  275 op add *tmp126 :tileValue.15:result :tileValue.16:result
+  276 op add *tmp127 *tmp124 :tileValue.17:result
+  277 op add *tmp128 :tileValue.16:result :tileValue.17:result
+  278 op add *tmp129 *tmp128 :tileValue.18:result
   279 packcolor *tmp104 *tmp125 *tmp127 *tmp129 0
   280 jump *label39 always
   281 jump *label48 always
   282 label *label47
   283 op sub :tileValue.19:x :findBestPosition:x 3
-    * set :tileValue.19:y *tmp103
-    * set :tileValue.19:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.19:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  284 set :tileValue.19:y :findBestPosition:y
+  285 ucontrol getBlock :tileValue.19:x :findBestPosition:y type building floor
+  286 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   287 sensor solid type @solid
   288 select :tileValue.19:result notEqual solid false 0.09803921568627451 value
   289 set *tmp132 :tileValue.19:result
   290 label *label49
-    * set :computeRowValues.2:x0 :tileValue.19:result
   291 op add :tileValue.20:x :findBestPosition:x 3
-    * set :tileValue.20:y *tmp103
-    * set :tileValue.20:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.20:x :computeRowValues.2:y type building floor
-    * select value equal floor :computeRowValues.2:ore 0.00392156862745098 0
+  292 set :tileValue.20:y :findBestPosition:y
+  293 ucontrol getBlock :tileValue.20:x :findBestPosition:y type building floor
+  294 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   295 sensor solid type @solid
   296 select :tileValue.20:result notEqual solid false 0.09803921568627451 value
   297 set *tmp134 :tileValue.20:result
   298 label *label50
-    * set :computeRowValues.2:x6 :tileValue.20:result
-    * op add *tmp135 *tmp106 *tmp108
-    * op add *tmp136 *tmp135 *tmp110
-    * op add *tmp137 *tmp132 *tmp136
+  299 op add *tmp135 :tileValue.14:result :tileValue.15:result
+  300 op add *tmp136 *tmp135 :tileValue.16:result
+  301 op add *tmp137 :tileValue.19:result *tmp136
   302 op min *tmp138 0.09803921568627451 *tmp137
-    * op add *tmp139 *tmp106 *tmp108
-    * op add *tmp140 *tmp135 *tmp110
-    * op add *tmp141 *tmp136 *tmp112
+  303 op add *tmp139 :tileValue.14:result :tileValue.15:result
+  304 op add *tmp140 *tmp135 :tileValue.16:result
+  305 op add *tmp141 *tmp136 :tileValue.17:result
   306 op min *tmp142 0.09803921568627451 *tmp141
-    * op add *tmp143 *tmp110 *tmp112
-    * op add *tmp144 *tmp143 *tmp114
-    * op add *tmp145 *tmp108 *tmp144
+  307 op add *tmp143 :tileValue.16:result :tileValue.17:result
+  308 op add *tmp144 *tmp143 :tileValue.18:result
+  309 op add *tmp145 :tileValue.15:result *tmp144
   310 op min *tmp146 0.09803921568627451 *tmp145
-    * op add *tmp147 *tmp110 *tmp112
-    * op add *tmp148 *tmp143 *tmp114
-    * op add *tmp149 *tmp144 *tmp134
+  311 op add *tmp147 :tileValue.16:result :tileValue.17:result
+  312 op add *tmp148 *tmp143 :tileValue.18:result
+  313 op add *tmp149 *tmp144 :tileValue.20:result
   314 op min *tmp150 0.09803921568627451 *tmp149
   315 packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150
   316 jump *label39 always
   317 label *label48
-    * set *tmp116 null
   318 label *label46
-    * set *tmp104 null
   319 label *label39
-    * set :findBestPosition:y3 *tmp104
   320 op add *tmp152 :findBestPosition:y 1
   321 set :computeRowValues.3:x :findBestPosition:x
   322 set :computeRowValues.3:y *tmp152
   323 set :computeRowValues.3:ore :findBestPosition:ore
-    * set :computeRowValues.3:size :findBestPosition:size
-    * op sub :tileValue.21:x :findBestPosition:x 2
-    * set :tileValue.21:y *tmp152
-    * set :tileValue.21:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  324 ucontrol getBlock :tileValue:x *tmp152 type building floor
+  325 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   326 sensor solid type @solid
   327 select :tileValue.21:result notEqual solid false 0.09803921568627451 value
   328 set *tmp155 :tileValue.21:result
   329 label *label52
-    * set :computeRowValues.3:x1 :tileValue.21:result
-    * op sub :tileValue.22:x :findBestPosition:x 1
-    * set :tileValue.22:y *tmp152
-    * set :tileValue.22:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  330 ucontrol getBlock :tileValue.1:x *tmp152 type building floor
+  331 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   332 sensor solid type @solid
   333 select :tileValue.22:result notEqual solid false 0.09803921568627451 value
   334 set *tmp157 :tileValue.22:result
   335 label *label53
-    * set :computeRowValues.3:x2 :tileValue.22:result
-    * set :tileValue.23:x :findBestPosition:x
-    * set :tileValue.23:y *tmp152
-    * set :tileValue.23:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues.3:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  336 ucontrol getBlock :findBestPosition:x *tmp152 type building floor
+  337 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   338 sensor solid type @solid
   339 select :tileValue.23:result notEqual solid false 0.09803921568627451 value
   340 set *tmp159 :tileValue.23:result
   341 label *label54
-    * set :computeRowValues.3:x3 :tileValue.23:result
-    * op add :tileValue.24:x :findBestPosition:x 1
-    * set :tileValue.24:y *tmp152
-    * set :tileValue.24:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  342 ucontrol getBlock :tileValue.3:x *tmp152 type building floor
+  343 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   344 sensor solid type @solid
   345 select :tileValue.24:result notEqual solid false 0.09803921568627451 value
   346 set *tmp161 :tileValue.24:result
   347 label *label55
-    * set :computeRowValues.3:x4 :tileValue.24:result
-    * op add :tileValue.25:x :findBestPosition:x 2
-    * set :tileValue.25:y *tmp152
-    * set :tileValue.25:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  348 ucontrol getBlock :tileValue.4:x *tmp152 type building floor
+  349 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   350 sensor solid type @solid
   351 select :tileValue.25:result notEqual solid false 0.09803921568627451 value
   352 set *tmp163 :tileValue.25:result
   353 label *label56
-    * set :computeRowValues.3:x5 :tileValue.25:result
   354 jump *label57 notEqual :findBestPosition:size 2
-    * op add *tmp166 *tmp155 *tmp157
-    * op add *tmp167 *tmp157 *tmp159
-    * op add *tmp168 *tmp159 *tmp161
-    * op add *tmp169 *tmp161 *tmp163
+  355 op add *tmp166 :tileValue.21:result :tileValue.22:result
+  356 op add *tmp167 :tileValue.22:result :tileValue.23:result
+  357 op add *tmp168 :tileValue.23:result :tileValue.24:result
+  358 op add *tmp169 :tileValue.24:result :tileValue.25:result
   359 packcolor *tmp153 *tmp166 *tmp167 *tmp168 *tmp169
   360 jump *label51 always
   361 jump *label58 always
   362 label *label57
   363 jump *label59 notEqual :findBestPosition:size 3
-    * op add *tmp173 *tmp157 *tmp159
-    * op add *tmp174 *tmp155 *tmp173
-    * op add *tmp175 *tmp157 *tmp159
-    * op add *tmp176 *tmp173 *tmp161
-    * op add *tmp177 *tmp159 *tmp161
-    * op add *tmp178 *tmp177 *tmp163
+  364 op add *tmp173 :tileValue.22:result :tileValue.23:result
+  365 op add *tmp174 :tileValue.21:result *tmp173
+  366 op add *tmp175 :tileValue.22:result :tileValue.23:result
+  367 op add *tmp176 *tmp173 :tileValue.24:result
+  368 op add *tmp177 :tileValue.23:result :tileValue.24:result
+  369 op add *tmp178 *tmp177 :tileValue.25:result
   370 packcolor *tmp153 *tmp174 *tmp176 *tmp178 0
   371 jump *label51 always
   372 jump *label60 always
   373 label *label59
   374 op sub :tileValue.26:x :findBestPosition:x 3
-    * set :tileValue.26:y *tmp152
-    * set :tileValue.26:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.26:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  375 ucontrol getBlock :tileValue.26:x *tmp152 type building floor
+  376 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   377 sensor solid type @solid
   378 select :tileValue.26:result notEqual solid false 0.09803921568627451 value
   379 set *tmp181 :tileValue.26:result
   380 label *label61
-    * set :computeRowValues.3:x0 :tileValue.26:result
   381 op add :tileValue.27:x :findBestPosition:x 3
-    * set :tileValue.27:y *tmp152
-    * set :tileValue.27:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.27:x :computeRowValues.3:y type building floor
-    * select value equal floor :computeRowValues.3:ore 0.00392156862745098 0
+  382 ucontrol getBlock :tileValue.27:x *tmp152 type building floor
+  383 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   384 sensor solid type @solid
   385 select :tileValue.27:result notEqual solid false 0.09803921568627451 value
   386 set *tmp183 :tileValue.27:result
   387 label *label62
-    * set :computeRowValues.3:x6 :tileValue.27:result
-    * op add *tmp184 *tmp155 *tmp157
-    * op add *tmp185 *tmp184 *tmp159
-    * op add *tmp186 *tmp181 *tmp185
+  388 op add *tmp184 :tileValue.21:result :tileValue.22:result
+  389 op add *tmp185 *tmp184 :tileValue.23:result
+  390 op add *tmp186 :tileValue.26:result *tmp185
   391 op min *tmp187 0.09803921568627451 *tmp186
-    * op add *tmp188 *tmp155 *tmp157
-    * op add *tmp189 *tmp184 *tmp159
-    * op add *tmp190 *tmp185 *tmp161
+  392 op add *tmp188 :tileValue.21:result :tileValue.22:result
+  393 op add *tmp189 *tmp184 :tileValue.23:result
+  394 op add *tmp190 *tmp185 :tileValue.24:result
   395 op min *tmp191 0.09803921568627451 *tmp190
-    * op add *tmp192 *tmp159 *tmp161
-    * op add *tmp193 *tmp192 *tmp163
-    * op add *tmp194 *tmp157 *tmp193
+  396 op add *tmp192 :tileValue.23:result :tileValue.24:result
+  397 op add *tmp193 *tmp192 :tileValue.25:result
+  398 op add *tmp194 :tileValue.22:result *tmp193
   399 op min *tmp195 0.09803921568627451 *tmp194
-    * op add *tmp196 *tmp159 *tmp161
-    * op add *tmp197 *tmp192 *tmp163
-    * op add *tmp198 *tmp193 *tmp183
+  400 op add *tmp196 :tileValue.23:result :tileValue.24:result
+  401 op add *tmp197 *tmp192 :tileValue.25:result
+  402 op add *tmp198 *tmp193 :tileValue.27:result
   403 op min *tmp199 0.09803921568627451 *tmp198
   404 packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199
   405 jump *label51 always
   406 label *label60
-    * set *tmp165 null
   407 label *label58
-    * set *tmp153 null
   408 label *label51
-    * set :findBestPosition:y4 *tmp153
   409 op add *tmp201 :findBestPosition:y 2
   410 set :computeRowValues.4:x :findBestPosition:x
   411 set :computeRowValues.4:y *tmp201
   412 set :computeRowValues.4:ore :findBestPosition:ore
-    * set :computeRowValues.4:size :findBestPosition:size
-    * op sub :tileValue.28:x :findBestPosition:x 2
-    * set :tileValue.28:y *tmp201
-    * set :tileValue.28:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  413 ucontrol getBlock :tileValue:x *tmp201 type building floor
+  414 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   415 sensor solid type @solid
   416 select :tileValue.28:result notEqual solid false 0.09803921568627451 value
   417 set *tmp204 :tileValue.28:result
   418 label *label64
-    * set :computeRowValues.4:x1 :tileValue.28:result
-    * op sub :tileValue.29:x :findBestPosition:x 1
-    * set :tileValue.29:y *tmp201
-    * set :tileValue.29:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  419 ucontrol getBlock :tileValue.1:x *tmp201 type building floor
+  420 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   421 sensor solid type @solid
   422 select :tileValue.29:result notEqual solid false 0.09803921568627451 value
   423 set *tmp206 :tileValue.29:result
   424 label *label65
-    * set :computeRowValues.4:x2 :tileValue.29:result
-    * set :tileValue.30:x :findBestPosition:x
-    * set :tileValue.30:y *tmp201
-    * set :tileValue.30:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues.4:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  425 ucontrol getBlock :findBestPosition:x *tmp201 type building floor
+  426 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   427 sensor solid type @solid
   428 select :tileValue.30:result notEqual solid false 0.09803921568627451 value
   429 set *tmp208 :tileValue.30:result
   430 label *label66
-    * set :computeRowValues.4:x3 :tileValue.30:result
-    * op add :tileValue.31:x :findBestPosition:x 1
-    * set :tileValue.31:y *tmp201
-    * set :tileValue.31:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  431 ucontrol getBlock :tileValue.3:x *tmp201 type building floor
+  432 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   433 sensor solid type @solid
   434 select :tileValue.31:result notEqual solid false 0.09803921568627451 value
   435 set *tmp210 :tileValue.31:result
   436 label *label67
-    * set :computeRowValues.4:x4 :tileValue.31:result
-    * op add :tileValue.32:x :findBestPosition:x 2
-    * set :tileValue.32:y *tmp201
-    * set :tileValue.32:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  437 ucontrol getBlock :tileValue.4:x *tmp201 type building floor
+  438 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   439 sensor solid type @solid
   440 select :tileValue.32:result notEqual solid false 0.09803921568627451 value
   441 set *tmp212 :tileValue.32:result
   442 label *label68
-    * set :computeRowValues.4:x5 :tileValue.32:result
   443 jump *label69 notEqual :findBestPosition:size 2
-    * op add *tmp215 *tmp204 *tmp206
-    * op add *tmp216 *tmp206 *tmp208
-    * op add *tmp217 *tmp208 *tmp210
-    * op add *tmp218 *tmp210 *tmp212
+  444 op add *tmp215 :tileValue.28:result :tileValue.29:result
+  445 op add *tmp216 :tileValue.29:result :tileValue.30:result
+  446 op add *tmp217 :tileValue.30:result :tileValue.31:result
+  447 op add *tmp218 :tileValue.31:result :tileValue.32:result
   448 packcolor *tmp202 *tmp215 *tmp216 *tmp217 *tmp218
   449 jump *label63 always
   450 jump *label70 always
   451 label *label69
   452 jump *label71 notEqual :findBestPosition:size 3
-    * op add *tmp222 *tmp206 *tmp208
-    * op add *tmp223 *tmp204 *tmp222
-    * op add *tmp224 *tmp206 *tmp208
-    * op add *tmp225 *tmp222 *tmp210
-    * op add *tmp226 *tmp208 *tmp210
-    * op add *tmp227 *tmp226 *tmp212
+  453 op add *tmp222 :tileValue.29:result :tileValue.30:result
+  454 op add *tmp223 :tileValue.28:result *tmp222
+  455 op add *tmp224 :tileValue.29:result :tileValue.30:result
+  456 op add *tmp225 *tmp222 :tileValue.31:result
+  457 op add *tmp226 :tileValue.30:result :tileValue.31:result
+  458 op add *tmp227 *tmp226 :tileValue.32:result
   459 packcolor *tmp202 *tmp223 *tmp225 *tmp227 0
   460 jump *label63 always
   461 jump *label72 always
   462 label *label71
   463 op sub :tileValue.33:x :findBestPosition:x 3
-    * set :tileValue.33:y *tmp201
-    * set :tileValue.33:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.33:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  464 ucontrol getBlock :tileValue.33:x *tmp201 type building floor
+  465 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   466 sensor solid type @solid
   467 select :tileValue.33:result notEqual solid false 0.09803921568627451 value
   468 set *tmp230 :tileValue.33:result
   469 label *label73
-    * set :computeRowValues.4:x0 :tileValue.33:result
   470 op add :tileValue.34:x :findBestPosition:x 3
-    * set :tileValue.34:y *tmp201
-    * set :tileValue.34:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.34:x :computeRowValues.4:y type building floor
-    * select value equal floor :computeRowValues.4:ore 0.00392156862745098 0
+  471 ucontrol getBlock :tileValue.34:x *tmp201 type building floor
+  472 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   473 sensor solid type @solid
   474 select :tileValue.34:result notEqual solid false 0.09803921568627451 value
   475 set *tmp232 :tileValue.34:result
   476 label *label74
-    * set :computeRowValues.4:x6 :tileValue.34:result
-    * op add *tmp233 *tmp204 *tmp206
-    * op add *tmp234 *tmp233 *tmp208
-    * op add *tmp235 *tmp230 *tmp234
+  477 op add *tmp233 :tileValue.28:result :tileValue.29:result
+  478 op add *tmp234 *tmp233 :tileValue.30:result
+  479 op add *tmp235 :tileValue.33:result *tmp234
   480 op min *tmp236 0.09803921568627451 *tmp235
-    * op add *tmp237 *tmp204 *tmp206
-    * op add *tmp238 *tmp233 *tmp208
-    * op add *tmp239 *tmp234 *tmp210
+  481 op add *tmp237 :tileValue.28:result :tileValue.29:result
+  482 op add *tmp238 *tmp233 :tileValue.30:result
+  483 op add *tmp239 *tmp234 :tileValue.31:result
   484 op min *tmp240 0.09803921568627451 *tmp239
-    * op add *tmp241 *tmp208 *tmp210
-    * op add *tmp242 *tmp241 *tmp212
-    * op add *tmp243 *tmp206 *tmp242
+  485 op add *tmp241 :tileValue.30:result :tileValue.31:result
+  486 op add *tmp242 *tmp241 :tileValue.32:result
+  487 op add *tmp243 :tileValue.29:result *tmp242
   488 op min *tmp244 0.09803921568627451 *tmp243
-    * op add *tmp245 *tmp208 *tmp210
-    * op add *tmp246 *tmp241 *tmp212
-    * op add *tmp247 *tmp242 *tmp232
+  489 op add *tmp245 :tileValue.30:result :tileValue.31:result
+  490 op add *tmp246 *tmp241 :tileValue.32:result
+  491 op add *tmp247 *tmp242 :tileValue.34:result
   492 op min *tmp248 0.09803921568627451 *tmp247
   493 packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248
   494 jump *label63 always
   495 label *label72
-    * set *tmp214 null
   496 label *label70
-    * set *tmp202 null
   497 label *label63
-    * set :findBestPosition:y5 *tmp202
   498 set :findBestPosition:best 0
   499 set :findBestPosition:bestX 0
   500 set :findBestPosition:bestY 0
   501 jump *label75 notEqual :findBestPosition:size 3
   502 op add *tmp252 *tmp55 *tmp104
   503 op add :findBestPosition:row1 *tmp6 *tmp252
-    * op add *tmp254 *tmp55 *tmp104
   504 op add :findBestPosition:row2 *tmp252 *tmp153
   505 op add *tmp256 *tmp104 *tmp153
   506 op add :findBestPosition:row3 *tmp256 *tmp202
   507 set :updateRowPositionsOdd:dy -1
-    * set :updateRowPositionsOdd:rowSum :findBestPosition:row1
   508 unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 *tmp258 :findBestPosition:row1
-    * set :updatePosition:dx -1
-    * set :updatePosition:dy -1
-    * set :updatePosition:value :updateRowPositionsOdd:col1
   509 jump *label79 lessThanEq :updateRowPositionsOdd:col1 0
   510 jump *label81 greaterThanEq :updateRowPositionsOdd:col1 0.0784313725490196
   511 set :findBestPosition:bestX -1
-    * set :findBestPosition:bestY :updateRowPositionsOdd:dy
+  512 set :findBestPosition:bestY -1
   513 set :findBestPosition:best :updateRowPositionsOdd:col1
   514 label *label81
   515 label *label82
   516 label *label79
   517 label *label80
   518 label *label78
-    * set :updatePosition.1:dx 0
-    * set :updatePosition.1:dy -1
-    * set :updatePosition.1:value :updateRowPositionsOdd:col2
   519 jump *label84 lessThanEq :updateRowPositionsOdd:col2 :findBestPosition:best
   520 jump *label86 greaterThanEq :updateRowPositionsOdd:col2 0.0784313725490196
   521 set :findBestPosition:bestX 0
-    * set :findBestPosition:bestY :updateRowPositionsOdd:dy
+  522 set :findBestPosition:bestY -1
   523 set :findBestPosition:best :updateRowPositionsOdd:col2
   524 label *label86
   525 label *label87
   526 label *label84
   527 label *label85
   528 label *label83
-    * set :updatePosition.2:dx 1
-    * set :updatePosition.2:dy -1
-    * set :updatePosition.2:value :updateRowPositionsOdd:col3
   529 jump *label89 lessThanEq :updateRowPositionsOdd:col3 :findBestPosition:best
   530 jump *label91 greaterThanEq :updateRowPositionsOdd:col3 0.0784313725490196
   531 set :findBestPosition:bestX 1
-    * set :findBestPosition:bestY :updateRowPositionsOdd:dy
+  532 set :findBestPosition:bestY -1
   533 set :findBestPosition:best :updateRowPositionsOdd:col3
   534 label *label91
   535 label *label92
 
   538 label *label88
   539 label *label77
   540 set :updateRowPositionsOdd.1:dy 0
-    * set :updateRowPositionsOdd.1:rowSum :findBestPosition:row2
   541 unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 *tmp271 :findBestPosition:row2
-    * set :updatePosition.3:dx -1
-    * set :updatePosition.3:dy 0
-    * set :updatePosition.3:value :updateRowPositionsOdd.1:col1
   542 jump *label95 lessThanEq :updateRowPositionsOdd.1:col1 :findBestPosition:best
   543 jump *label97 greaterThanEq :updateRowPositionsOdd.1:col1 0.0784313725490196
   544 set :findBestPosition:bestX -1
-    * set :findBestPosition:bestY :updateRowPositionsOdd.1:dy
+  545 set :findBestPosition:bestY 0
   546 set :findBestPosition:best :updateRowPositionsOdd.1:col1
   547 label *label97
   548 label *label98
   549 label *label95
   550 label *label96
   551 label *label94
-    * set :updatePosition.4:dx 0
-    * set :updatePosition.4:dy 0
-    * set :updatePosition.4:value :updateRowPositionsOdd.1:col2
   552 jump *label100 lessThanEq :updateRowPositionsOdd.1:col2 :findBestPosition:best
   553 jump *label102 greaterThanEq :updateRowPositionsOdd.1:col2 0.0784313725490196
   554 set :findBestPosition:bestX 0
-    * set :findBestPosition:bestY :updateRowPositionsOdd.1:dy
+  555 set :findBestPosition:bestY 0
   556 set :findBestPosition:best :updateRowPositionsOdd.1:col2
   557 label *label102
   558 label *label103
   559 label *label100
   560 label *label101
   561 label *label99
-    * set :updatePosition.5:dx 1
-    * set :updatePosition.5:dy 0
-    * set :updatePosition.5:value :updateRowPositionsOdd.1:col3
   562 jump *label105 lessThanEq :updateRowPositionsOdd.1:col3 :findBestPosition:best
   563 jump *label107 greaterThanEq :updateRowPositionsOdd.1:col3 0.0784313725490196
   564 set :findBestPosition:bestX 1
-    * set :findBestPosition:bestY :updateRowPositionsOdd.1:dy
+  565 set :findBestPosition:bestY 0
   566 set :findBestPosition:best :updateRowPositionsOdd.1:col3
   567 label *label107
   568 label *label108
 
   571 label *label104
   572 label *label93
   573 set :updateRowPositionsOdd.2:dy 1
-    * set :updateRowPositionsOdd.2:rowSum :findBestPosition:row3
   574 unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 *tmp284 :findBestPosition:row3
-    * set :updatePosition.6:dx -1
-    * set :updatePosition.6:dy 1
-    * set :updatePosition.6:value :updateRowPositionsOdd.2:col1
   575 jump *label111 lessThanEq :updateRowPositionsOdd.2:col1 :findBestPosition:best
   576 jump *label113 greaterThanEq :updateRowPositionsOdd.2:col1 0.0784313725490196
   577 set :findBestPosition:bestX -1
-    * set :findBestPosition:bestY :updateRowPositionsOdd.2:dy
+  578 set :findBestPosition:bestY 1
   579 set :findBestPosition:best :updateRowPositionsOdd.2:col1
   580 label *label113
   581 label *label114
   582 label *label111
   583 label *label112
   584 label *label110
-    * set :updatePosition.7:dx 0
-    * set :updatePosition.7:dy 1
-    * set :updatePosition.7:value :updateRowPositionsOdd.2:col2
   585 jump *label116 lessThanEq :updateRowPositionsOdd.2:col2 :findBestPosition:best
   586 jump *label118 greaterThanEq :updateRowPositionsOdd.2:col2 0.0784313725490196
   587 set :findBestPosition:bestX 0
-    * set :findBestPosition:bestY :updateRowPositionsOdd.2:dy
+  588 set :findBestPosition:bestY 1
   589 set :findBestPosition:best :updateRowPositionsOdd.2:col2
   590 label *label118
   591 label *label119
   592 label *label116
   593 label *label117
   594 label *label115
-    * set :updatePosition.8:dx 1
-    * set :updatePosition.8:dy 1
-    * set :updatePosition.8:value :updateRowPositionsOdd.2:col3
   595 jump *label121 lessThanEq :updateRowPositionsOdd.2:col3 :findBestPosition:best
   596 jump *label123 greaterThanEq :updateRowPositionsOdd.2:col3 0.0784313725490196
   597 set :findBestPosition:bestX 1
-    * set :findBestPosition:bestY :updateRowPositionsOdd.2:dy
+  598 set :findBestPosition:bestY 1
   599 set :findBestPosition:best :updateRowPositionsOdd.2:col3
   600 label *label123
   601 label *label124
 
   616 set :computeRowValues.5:x :findBestPosition:x
   617 set :computeRowValues.5:y *tmp303
   618 set :computeRowValues.5:ore :findBestPosition:ore
-    * set :computeRowValues.5:size :findBestPosition:size
-    * op sub :tileValue.35:x :findBestPosition:x 2
-    * set :tileValue.35:y *tmp303
-    * set :tileValue.35:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  619 ucontrol getBlock :tileValue:x *tmp303 type building floor
+  620 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   621 sensor solid type @solid
   622 select :tileValue.35:result notEqual solid false 0.09803921568627451 value
   623 set *tmp306 :tileValue.35:result
   624 label *label128
-    * set :computeRowValues.5:x1 :tileValue.35:result
-    * op sub :tileValue.36:x :findBestPosition:x 1
-    * set :tileValue.36:y *tmp303
-    * set :tileValue.36:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  625 ucontrol getBlock :tileValue.1:x *tmp303 type building floor
+  626 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   627 sensor solid type @solid
   628 select :tileValue.36:result notEqual solid false 0.09803921568627451 value
   629 set *tmp308 :tileValue.36:result
   630 label *label129
-    * set :computeRowValues.5:x2 :tileValue.36:result
-    * set :tileValue.37:x :findBestPosition:x
-    * set :tileValue.37:y *tmp303
-    * set :tileValue.37:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues.5:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  631 ucontrol getBlock :findBestPosition:x *tmp303 type building floor
+  632 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   633 sensor solid type @solid
   634 select :tileValue.37:result notEqual solid false 0.09803921568627451 value
   635 set *tmp310 :tileValue.37:result
   636 label *label130
-    * set :computeRowValues.5:x3 :tileValue.37:result
-    * op add :tileValue.38:x :findBestPosition:x 1
-    * set :tileValue.38:y *tmp303
-    * set :tileValue.38:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  637 ucontrol getBlock :tileValue.3:x *tmp303 type building floor
+  638 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   639 sensor solid type @solid
   640 select :tileValue.38:result notEqual solid false 0.09803921568627451 value
   641 set *tmp312 :tileValue.38:result
   642 label *label131
-    * set :computeRowValues.5:x4 :tileValue.38:result
-    * op add :tileValue.39:x :findBestPosition:x 2
-    * set :tileValue.39:y *tmp303
-    * set :tileValue.39:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  643 ucontrol getBlock :tileValue.4:x *tmp303 type building floor
+  644 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   645 sensor solid type @solid
   646 select :tileValue.39:result notEqual solid false 0.09803921568627451 value
   647 set *tmp314 :tileValue.39:result
   648 label *label132
-    * set :computeRowValues.5:x5 :tileValue.39:result
   649 jump *label133 notEqual :findBestPosition:size 2
-    * op add *tmp317 *tmp306 *tmp308
-    * op add *tmp318 *tmp308 *tmp310
-    * op add *tmp319 *tmp310 *tmp312
-    * op add *tmp320 *tmp312 *tmp314
+  650 op add *tmp317 :tileValue.35:result :tileValue.36:result
+  651 op add *tmp318 :tileValue.36:result :tileValue.37:result
+  652 op add *tmp319 :tileValue.37:result :tileValue.38:result
+  653 op add *tmp320 :tileValue.38:result :tileValue.39:result
   654 packcolor *tmp304 *tmp317 *tmp318 *tmp319 *tmp320
   655 jump *label127 always
   656 jump *label134 always
   657 label *label133
   658 jump *label135 notEqual :findBestPosition:size 3
-    * op add *tmp324 *tmp308 *tmp310
-    * op add *tmp325 *tmp306 *tmp324
-    * op add *tmp326 *tmp308 *tmp310
-    * op add *tmp327 *tmp324 *tmp312
-    * op add *tmp328 *tmp310 *tmp312
-    * op add *tmp329 *tmp328 *tmp314
+  659 op add *tmp324 :tileValue.36:result :tileValue.37:result
+  660 op add *tmp325 :tileValue.35:result *tmp324
+  661 op add *tmp326 :tileValue.36:result :tileValue.37:result
+  662 op add *tmp327 *tmp324 :tileValue.38:result
+  663 op add *tmp328 :tileValue.37:result :tileValue.38:result
+  664 op add *tmp329 *tmp328 :tileValue.39:result
   665 packcolor *tmp304 *tmp325 *tmp327 *tmp329 0
   666 jump *label127 always
   667 jump *label136 always
   668 label *label135
   669 op sub :tileValue.40:x :findBestPosition:x 3
-    * set :tileValue.40:y *tmp303
-    * set :tileValue.40:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.40:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  670 ucontrol getBlock :tileValue.40:x *tmp303 type building floor
+  671 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   672 sensor solid type @solid
   673 select :tileValue.40:result notEqual solid false 0.09803921568627451 value
   674 set *tmp332 :tileValue.40:result
   675 label *label137
-    * set :computeRowValues.5:x0 :tileValue.40:result
   676 op add :tileValue.41:x :findBestPosition:x 3
-    * set :tileValue.41:y *tmp303
-    * set :tileValue.41:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.41:x :computeRowValues.5:y type building floor
-    * select value equal floor :computeRowValues.5:ore 0.00392156862745098 0
+  677 ucontrol getBlock :tileValue.41:x *tmp303 type building floor
+  678 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   679 sensor solid type @solid
   680 select :tileValue.41:result notEqual solid false 0.09803921568627451 value
   681 set *tmp334 :tileValue.41:result
   682 label *label138
-    * set :computeRowValues.5:x6 :tileValue.41:result
-    * op add *tmp335 *tmp306 *tmp308
-    * op add *tmp336 *tmp335 *tmp310
-    * op add *tmp337 *tmp332 *tmp336
+  683 op add *tmp335 :tileValue.35:result :tileValue.36:result
+  684 op add *tmp336 *tmp335 :tileValue.37:result
+  685 op add *tmp337 :tileValue.40:result *tmp336
   686 op min *tmp338 0.09803921568627451 *tmp337
-    * op add *tmp339 *tmp306 *tmp308
-    * op add *tmp340 *tmp335 *tmp310
-    * op add *tmp341 *tmp336 *tmp312
+  687 op add *tmp339 :tileValue.35:result :tileValue.36:result
+  688 op add *tmp340 *tmp335 :tileValue.37:result
+  689 op add *tmp341 *tmp336 :tileValue.38:result
   690 op min *tmp342 0.09803921568627451 *tmp341
-    * op add *tmp343 *tmp310 *tmp312
-    * op add *tmp344 *tmp343 *tmp314
-    * op add *tmp345 *tmp308 *tmp344
+  691 op add *tmp343 :tileValue.37:result :tileValue.38:result
+  692 op add *tmp344 *tmp343 :tileValue.39:result
+  693 op add *tmp345 :tileValue.36:result *tmp344
   694 op min *tmp346 0.09803921568627451 *tmp345
-    * op add *tmp347 *tmp310 *tmp312
-    * op add *tmp348 *tmp343 *tmp314
-    * op add *tmp349 *tmp344 *tmp334
+  695 op add *tmp347 :tileValue.37:result :tileValue.38:result
+  696 op add *tmp348 *tmp343 :tileValue.39:result
+  697 op add *tmp349 *tmp344 :tileValue.41:result
   698 op min *tmp350 0.09803921568627451 *tmp349
   699 packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350
   700 jump *label127 always
   701 label *label136
-    * set *tmp316 null
   702 label *label134
-    * set *tmp304 null
   703 label *label127
-    * set :findBestPosition:y0 *tmp304
   704 op add *tmp352 :findBestPosition:y 3
   705 set :computeRowValues.6:x :findBestPosition:x
   706 set :computeRowValues.6:y *tmp352
   707 set :computeRowValues.6:ore :findBestPosition:ore
-    * set :computeRowValues.6:size :findBestPosition:size
-    * op sub :tileValue.42:x :findBestPosition:x 2
-    * set :tileValue.42:y *tmp352
-    * set :tileValue.42:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  708 ucontrol getBlock :tileValue:x *tmp352 type building floor
+  709 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   710 sensor solid type @solid
   711 select :tileValue.42:result notEqual solid false 0.09803921568627451 value
   712 set *tmp355 :tileValue.42:result
   713 label *label140
-    * set :computeRowValues.6:x1 :tileValue.42:result
-    * op sub :tileValue.43:x :findBestPosition:x 1
-    * set :tileValue.43:y *tmp352
-    * set :tileValue.43:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.1:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  714 ucontrol getBlock :tileValue.1:x *tmp352 type building floor
+  715 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   716 sensor solid type @solid
   717 select :tileValue.43:result notEqual solid false 0.09803921568627451 value
   718 set *tmp357 :tileValue.43:result
   719 label *label141
-    * set :computeRowValues.6:x2 :tileValue.43:result
-    * set :tileValue.44:x :findBestPosition:x
-    * set :tileValue.44:y *tmp352
-    * set :tileValue.44:ore :findBestPosition:ore
-    * ucontrol getBlock :computeRowValues.6:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  720 ucontrol getBlock :findBestPosition:x *tmp352 type building floor
+  721 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   722 sensor solid type @solid
   723 select :tileValue.44:result notEqual solid false 0.09803921568627451 value
   724 set *tmp359 :tileValue.44:result
   725 label *label142
-    * set :computeRowValues.6:x3 :tileValue.44:result
-    * op add :tileValue.45:x :findBestPosition:x 1
-    * set :tileValue.45:y *tmp352
-    * set :tileValue.45:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.3:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  726 ucontrol getBlock :tileValue.3:x *tmp352 type building floor
+  727 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   728 sensor solid type @solid
   729 select :tileValue.45:result notEqual solid false 0.09803921568627451 value
   730 set *tmp361 :tileValue.45:result
   731 label *label143
-    * set :computeRowValues.6:x4 :tileValue.45:result
-    * op add :tileValue.46:x :findBestPosition:x 2
-    * set :tileValue.46:y *tmp352
-    * set :tileValue.46:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.4:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  732 ucontrol getBlock :tileValue.4:x *tmp352 type building floor
+  733 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   734 sensor solid type @solid
   735 select :tileValue.46:result notEqual solid false 0.09803921568627451 value
   736 set *tmp363 :tileValue.46:result
   737 label *label144
-    * set :computeRowValues.6:x5 :tileValue.46:result
   738 jump *label145 notEqual :findBestPosition:size 2
-    * op add *tmp366 *tmp355 *tmp357
-    * op add *tmp367 *tmp357 *tmp359
-    * op add *tmp368 *tmp359 *tmp361
-    * op add *tmp369 *tmp361 *tmp363
+  739 op add *tmp366 :tileValue.42:result :tileValue.43:result
+  740 op add *tmp367 :tileValue.43:result :tileValue.44:result
+  741 op add *tmp368 :tileValue.44:result :tileValue.45:result
+  742 op add *tmp369 :tileValue.45:result :tileValue.46:result
   743 packcolor *tmp353 *tmp366 *tmp367 *tmp368 *tmp369
   744 jump *label139 always
   745 jump *label146 always
   746 label *label145
   747 jump *label147 notEqual :findBestPosition:size 3
-    * op add *tmp373 *tmp357 *tmp359
-    * op add *tmp374 *tmp355 *tmp373
-    * op add *tmp375 *tmp357 *tmp359
-    * op add *tmp376 *tmp373 *tmp361
-    * op add *tmp377 *tmp359 *tmp361
-    * op add *tmp378 *tmp377 *tmp363
+  748 op add *tmp373 :tileValue.43:result :tileValue.44:result
+  749 op add *tmp374 :tileValue.42:result *tmp373
+  750 op add *tmp375 :tileValue.43:result :tileValue.44:result
+  751 op add *tmp376 *tmp373 :tileValue.45:result
+  752 op add *tmp377 :tileValue.44:result :tileValue.45:result
+  753 op add *tmp378 *tmp377 :tileValue.46:result
   754 packcolor *tmp353 *tmp374 *tmp376 *tmp378 0
   755 jump *label139 always
   756 jump *label148 always
   757 label *label147
   758 op sub :tileValue.47:x :findBestPosition:x 3
-    * set :tileValue.47:y *tmp352
-    * set :tileValue.47:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.47:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  759 ucontrol getBlock :tileValue.47:x *tmp352 type building floor
+  760 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   761 sensor solid type @solid
   762 select :tileValue.47:result notEqual solid false 0.09803921568627451 value
   763 set *tmp381 :tileValue.47:result
   764 label *label149
-    * set :computeRowValues.6:x0 :tileValue.47:result
   765 op add :tileValue.48:x :findBestPosition:x 3
-    * set :tileValue.48:y *tmp352
-    * set :tileValue.48:ore :findBestPosition:ore
-    * ucontrol getBlock :tileValue.48:x :computeRowValues.6:y type building floor
-    * select value equal floor :computeRowValues.6:ore 0.00392156862745098 0
+  766 ucontrol getBlock :tileValue.48:x *tmp352 type building floor
+  767 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   768 sensor solid type @solid
   769 select :tileValue.48:result notEqual solid false 0.09803921568627451 value
   770 set *tmp383 :tileValue.48:result
   771 label *label150
-    * set :computeRowValues.6:x6 :tileValue.48:result
-    * op add *tmp384 *tmp355 *tmp357
-    * op add *tmp385 *tmp384 *tmp359
-    * op add *tmp386 *tmp381 *tmp385
+  772 op add *tmp384 :tileValue.42:result :tileValue.43:result
+  773 op add *tmp385 *tmp384 :tileValue.44:result
+  774 op add *tmp386 :tileValue.47:result *tmp385
   775 op min *tmp387 0.09803921568627451 *tmp386
-    * op add *tmp388 *tmp355 *tmp357
-    * op add *tmp389 *tmp384 *tmp359
-    * op add *tmp390 *tmp385 *tmp361
+  776 op add *tmp388 :tileValue.42:result :tileValue.43:result
+  777 op add *tmp389 *tmp384 :tileValue.44:result
+  778 op add *tmp390 *tmp385 :tileValue.45:result
   779 op min *tmp391 0.09803921568627451 *tmp390
-    * op add *tmp392 *tmp359 *tmp361
-    * op add *tmp393 *tmp392 *tmp363
-    * op add *tmp394 *tmp357 *tmp393
+  780 op add *tmp392 :tileValue.44:result :tileValue.45:result
+  781 op add *tmp393 *tmp392 :tileValue.46:result
+  782 op add *tmp394 :tileValue.43:result *tmp393
   783 op min *tmp395 0.09803921568627451 *tmp394
-    * op add *tmp396 *tmp359 *tmp361
-    * op add *tmp397 *tmp392 *tmp363
-    * op add *tmp398 *tmp393 *tmp383
+  784 op add *tmp396 :tileValue.44:result :tileValue.45:result
+  785 op add *tmp397 *tmp392 :tileValue.46:result
+  786 op add *tmp398 *tmp393 :tileValue.48:result
   787 op min *tmp399 0.09803921568627451 *tmp398
   788 packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399
   789 jump *label139 always
   790 label *label148
-    * set *tmp365 null
   791 label *label146
-    * set *tmp353 null
   792 label *label139
-    * set :findBestPosition:y6 *tmp353
   793 op add *tmp401 *tmp6 *tmp55
   794 op add *tmp402 *tmp401 *tmp104
   795 op add :findBestPosition:row1 *tmp304 *tmp402
-    * op add *tmp404 *tmp6 *tmp55
-    * op add *tmp405 *tmp401 *tmp104
   796 op add :findBestPosition:row2 *tmp402 *tmp153
   797 op add *tmp407 *tmp104 *tmp153
   798 op add *tmp408 *tmp407 *tmp202
   799 op add :findBestPosition:row3 *tmp55 *tmp408
-    * op add *tmp410 *tmp104 *tmp153
-    * op add *tmp411 *tmp407 *tmp202
   800 op add :findBestPosition:row4 *tmp408 *tmp353
   801 label *label126
   802 set :updateRowPositionsEven:dy -1.5
-    * set :updateRowPositionsEven:rowSum :findBestPosition:row1
   803 unpackcolor :updateRowPositionsEven:col1 :updateRowPositionsEven:col2 :updateRowPositionsEven:col3 :updateRowPositionsEven:col4 :findBestPosition:row1
-    * set :updatePosition.9:dx -1.5
-    * set :updatePosition.9:dy -1.5
-    * set :updatePosition.9:value :updateRowPositionsEven:col1
   804 jump *label153 lessThanEq :updateRowPositionsEven:col1 0
   805 jump *label155 greaterThanEq :updateRowPositionsEven:col1 0.0784313725490196
   806 set :findBestPosition:bestX -1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven:dy
+  807 set :findBestPosition:bestY -1.5
   808 set :findBestPosition:best :updateRowPositionsEven:col1
   809 label *label155
   810 label *label156
   811 label *label153
   812 label *label154
   813 label *label152
-    * set :updatePosition.10:dx -0.5
-    * set :updatePosition.10:dy -1.5
-    * set :updatePosition.10:value :updateRowPositionsEven:col2
   814 jump *label158 lessThanEq :updateRowPositionsEven:col2 :findBestPosition:best
   815 jump *label160 greaterThanEq :updateRowPositionsEven:col2 0.0784313725490196
   816 set :findBestPosition:bestX -0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven:dy
+  817 set :findBestPosition:bestY -1.5
   818 set :findBestPosition:best :updateRowPositionsEven:col2
   819 label *label160
   820 label *label161
   821 label *label158
   822 label *label159
   823 label *label157
-    * set :updatePosition.11:dx 0.5
-    * set :updatePosition.11:dy -1.5
-    * set :updatePosition.11:value :updateRowPositionsEven:col3
   824 jump *label163 lessThanEq :updateRowPositionsEven:col3 :findBestPosition:best
   825 jump *label165 greaterThanEq :updateRowPositionsEven:col3 0.0784313725490196
   826 set :findBestPosition:bestX 0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven:dy
+  827 set :findBestPosition:bestY -1.5
   828 set :findBestPosition:best :updateRowPositionsEven:col3
   829 label *label165
   830 label *label166
   831 label *label163
   832 label *label164
   833 label *label162
-    * set :updatePosition.12:dx 1.5
-    * set :updatePosition.12:dy -1.5
-    * set :updatePosition.12:value :updateRowPositionsEven:col4
   834 jump *label168 lessThanEq :updateRowPositionsEven:col4 :findBestPosition:best
   835 jump *label170 greaterThanEq :updateRowPositionsEven:col4 0.0784313725490196
   836 set :findBestPosition:bestX 1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven:dy
+  837 set :findBestPosition:bestY -1.5
   838 set :findBestPosition:best :updateRowPositionsEven:col4
   839 label *label170
   840 label *label171
 
   843 label *label167
   844 label *label151
   845 set :updateRowPositionsEven.1:dy -0.5
-    * set :updateRowPositionsEven.1:rowSum :findBestPosition:row2
   846 unpackcolor :updateRowPositionsEven.1:col1 :updateRowPositionsEven.1:col2 :updateRowPositionsEven.1:col3 :updateRowPositionsEven.1:col4 :findBestPosition:row2
-    * set :updatePosition.13:dx -1.5
-    * set :updatePosition.13:dy -0.5
-    * set :updatePosition.13:value :updateRowPositionsEven.1:col1
   847 jump *label174 lessThanEq :updateRowPositionsEven.1:col1 :findBestPosition:best
   848 jump *label176 greaterThanEq :updateRowPositionsEven.1:col1 0.0784313725490196
   849 set :findBestPosition:bestX -1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+  850 set :findBestPosition:bestY -0.5
   851 set :findBestPosition:best :updateRowPositionsEven.1:col1
   852 label *label176
   853 label *label177
   854 label *label174
   855 label *label175
   856 label *label173
-    * set :updatePosition.14:dx -0.5
-    * set :updatePosition.14:dy -0.5
-    * set :updatePosition.14:value :updateRowPositionsEven.1:col2
   857 jump *label179 lessThanEq :updateRowPositionsEven.1:col2 :findBestPosition:best
   858 jump *label181 greaterThanEq :updateRowPositionsEven.1:col2 0.0784313725490196
   859 set :findBestPosition:bestX -0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+  860 set :findBestPosition:bestY -0.5
   861 set :findBestPosition:best :updateRowPositionsEven.1:col2
   862 label *label181
   863 label *label182
   864 label *label179
   865 label *label180
   866 label *label178
-    * set :updatePosition.15:dx 0.5
-    * set :updatePosition.15:dy -0.5
-    * set :updatePosition.15:value :updateRowPositionsEven.1:col3
   867 jump *label184 lessThanEq :updateRowPositionsEven.1:col3 :findBestPosition:best
   868 jump *label186 greaterThanEq :updateRowPositionsEven.1:col3 0.0784313725490196
   869 set :findBestPosition:bestX 0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+  870 set :findBestPosition:bestY -0.5
   871 set :findBestPosition:best :updateRowPositionsEven.1:col3
   872 label *label186
   873 label *label187
   874 label *label184
   875 label *label185
   876 label *label183
-    * set :updatePosition.16:dx 1.5
-    * set :updatePosition.16:dy -0.5
-    * set :updatePosition.16:value :updateRowPositionsEven.1:col4
   877 jump *label189 lessThanEq :updateRowPositionsEven.1:col4 :findBestPosition:best
   878 jump *label191 greaterThanEq :updateRowPositionsEven.1:col4 0.0784313725490196
   879 set :findBestPosition:bestX 1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.1:dy
+  880 set :findBestPosition:bestY -0.5
   881 set :findBestPosition:best :updateRowPositionsEven.1:col4
   882 label *label191
   883 label *label192
 
   886 label *label188
   887 label *label172
   888 set :updateRowPositionsEven.2:dy 0.5
-    * set :updateRowPositionsEven.2:rowSum :findBestPosition:row3
   889 unpackcolor :updateRowPositionsEven.2:col1 :updateRowPositionsEven.2:col2 :updateRowPositionsEven.2:col3 :updateRowPositionsEven.2:col4 :findBestPosition:row3
-    * set :updatePosition.17:dx -1.5
-    * set :updatePosition.17:dy 0.5
-    * set :updatePosition.17:value :updateRowPositionsEven.2:col1
   890 jump *label195 lessThanEq :updateRowPositionsEven.2:col1 :findBestPosition:best
   891 jump *label197 greaterThanEq :updateRowPositionsEven.2:col1 0.0784313725490196
   892 set :findBestPosition:bestX -1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+  893 set :findBestPosition:bestY 0.5
   894 set :findBestPosition:best :updateRowPositionsEven.2:col1
   895 label *label197
   896 label *label198
   897 label *label195
   898 label *label196
   899 label *label194
-    * set :updatePosition.18:dx -0.5
-    * set :updatePosition.18:dy 0.5
-    * set :updatePosition.18:value :updateRowPositionsEven.2:col2
   900 jump *label200 lessThanEq :updateRowPositionsEven.2:col2 :findBestPosition:best
   901 jump *label202 greaterThanEq :updateRowPositionsEven.2:col2 0.0784313725490196
   902 set :findBestPosition:bestX -0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+  903 set :findBestPosition:bestY 0.5
   904 set :findBestPosition:best :updateRowPositionsEven.2:col2
   905 label *label202
   906 label *label203
   907 label *label200
   908 label *label201
   909 label *label199
-    * set :updatePosition.19:dx 0.5
-    * set :updatePosition.19:dy 0.5
-    * set :updatePosition.19:value :updateRowPositionsEven.2:col3
   910 jump *label205 lessThanEq :updateRowPositionsEven.2:col3 :findBestPosition:best
   911 jump *label207 greaterThanEq :updateRowPositionsEven.2:col3 0.0784313725490196
   912 set :findBestPosition:bestX 0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+  913 set :findBestPosition:bestY 0.5
   914 set :findBestPosition:best :updateRowPositionsEven.2:col3
   915 label *label207
   916 label *label208
   917 label *label205
   918 label *label206
   919 label *label204
-    * set :updatePosition.20:dx 1.5
-    * set :updatePosition.20:dy 0.5
-    * set :updatePosition.20:value :updateRowPositionsEven.2:col4
   920 jump *label210 lessThanEq :updateRowPositionsEven.2:col4 :findBestPosition:best
   921 jump *label212 greaterThanEq :updateRowPositionsEven.2:col4 0.0784313725490196
   922 set :findBestPosition:bestX 1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.2:dy
+  923 set :findBestPosition:bestY 0.5
   924 set :findBestPosition:best :updateRowPositionsEven.2:col4
   925 label *label212
   926 label *label213
 
   929 label *label209
   930 label *label193
   931 set :updateRowPositionsEven.3:dy 1.5
-    * set :updateRowPositionsEven.3:rowSum :findBestPosition:row4
   932 unpackcolor :updateRowPositionsEven.3:col1 :updateRowPositionsEven.3:col2 :updateRowPositionsEven.3:col3 :updateRowPositionsEven.3:col4 :findBestPosition:row4
-    * set :updatePosition.21:dx -1.5
-    * set :updatePosition.21:dy 1.5
-    * set :updatePosition.21:value :updateRowPositionsEven.3:col1
   933 jump *label216 lessThanEq :updateRowPositionsEven.3:col1 :findBestPosition:best
   934 jump *label218 greaterThanEq :updateRowPositionsEven.3:col1 0.0784313725490196
   935 set :findBestPosition:bestX -1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+  936 set :findBestPosition:bestY 1.5
   937 set :findBestPosition:best :updateRowPositionsEven.3:col1
   938 label *label218
   939 label *label219
   940 label *label216
   941 label *label217
   942 label *label215
-    * set :updatePosition.22:dx -0.5
-    * set :updatePosition.22:dy 1.5
-    * set :updatePosition.22:value :updateRowPositionsEven.3:col2
   943 jump *label221 lessThanEq :updateRowPositionsEven.3:col2 :findBestPosition:best
   944 jump *label223 greaterThanEq :updateRowPositionsEven.3:col2 0.0784313725490196
   945 set :findBestPosition:bestX -0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+  946 set :findBestPosition:bestY 1.5
   947 set :findBestPosition:best :updateRowPositionsEven.3:col2
   948 label *label223
   949 label *label224
   950 label *label221
   951 label *label222
   952 label *label220
-    * set :updatePosition.23:dx 0.5
-    * set :updatePosition.23:dy 1.5
-    * set :updatePosition.23:value :updateRowPositionsEven.3:col3
   953 jump *label226 lessThanEq :updateRowPositionsEven.3:col3 :findBestPosition:best
   954 jump *label228 greaterThanEq :updateRowPositionsEven.3:col3 0.0784313725490196
   955 set :findBestPosition:bestX 0.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+  956 set :findBestPosition:bestY 1.5
   957 set :findBestPosition:best :updateRowPositionsEven.3:col3
   958 label *label228
   959 label *label229
   960 label *label226
   961 label *label227
   962 label *label225
-    * set :updatePosition.24:dx 1.5
-    * set :updatePosition.24:dy 1.5
-    * set :updatePosition.24:value :updateRowPositionsEven.3:col4
   963 jump *label231 lessThanEq :updateRowPositionsEven.3:col4 :findBestPosition:best
   964 jump *label233 greaterThanEq :updateRowPositionsEven.3:col4 0.0784313725490196
   965 set :findBestPosition:bestX 1.5
-    * set :findBestPosition:bestY :updateRowPositionsEven.3:dy
+  966 set :findBestPosition:bestY 1.5
   967 set :findBestPosition:best :updateRowPositionsEven.3:col4
   968 label *label233
   969 label *label234

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 3 (-120 instructions):
 
    40 label *label2
    41 ubind :findBestPosition:unit
    42 op sub *tmp5 :findBestPosition:y 2
-    * set :computeRowValues:x :findBestPosition:x
-    * set :computeRowValues:y *tmp5
-    * set :computeRowValues:ore :findBestPosition:ore
    43 op sub :tileValue:x :findBestPosition:x 2
    44 ucontrol getBlock :tileValue:x *tmp5 type building floor
    45 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    46 sensor solid type @solid
    47 select :tileValue:result notEqual solid false 0.09803921568627451 value
-    * set *tmp8 :tileValue:result
    48 label *label16
    49 op sub :tileValue.1:x :findBestPosition:x 1
    50 ucontrol getBlock :tileValue.1:x *tmp5 type building floor
    51 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    52 sensor solid type @solid
    53 select :tileValue.1:result notEqual solid false 0.09803921568627451 value
-    * set *tmp10 :tileValue.1:result
    54 label *label17
    55 ucontrol getBlock :findBestPosition:x *tmp5 type building floor
    56 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    57 sensor solid type @solid
    58 select :tileValue.2:result notEqual solid false 0.09803921568627451 value
-    * set *tmp12 :tileValue.2:result
    59 label *label18
    60 op add :tileValue.3:x :findBestPosition:x 1
    61 ucontrol getBlock :tileValue.3:x *tmp5 type building floor
    62 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    63 sensor solid type @solid
    64 select :tileValue.3:result notEqual solid false 0.09803921568627451 value
-    * set *tmp14 :tileValue.3:result
    65 label *label19
    66 op add :tileValue.4:x :findBestPosition:x 2
    67 ucontrol getBlock :tileValue.4:x *tmp5 type building floor
    68 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    69 sensor solid type @solid
    70 select :tileValue.4:result notEqual solid false 0.09803921568627451 value
-    * set *tmp16 :tileValue.4:result
    71 label *label20
    72 jump *label21 notEqual :findBestPosition:size 2
    73 op add *tmp19 :tileValue:result :tileValue.1:result
 
    81 jump *label23 notEqual :findBestPosition:size 3
    82 op add *tmp26 :tileValue.1:result :tileValue.2:result
    83 op add *tmp27 :tileValue:result *tmp26
-    * op add *tmp28 :tileValue.1:result :tileValue.2:result
    84 op add *tmp29 *tmp26 :tileValue.3:result
    85 op add *tmp30 :tileValue.2:result :tileValue.3:result
    86 op add *tmp31 *tmp30 :tileValue.4:result
 
    93 select value equal floor :findBestPosition:ore 0.00392156862745098 0
    94 sensor solid type @solid
    95 select :tileValue.5:result notEqual solid false 0.09803921568627451 value
-    * set *tmp34 :tileValue.5:result
    96 label *label25
    97 op add :tileValue.6:x :findBestPosition:x 3
    98 ucontrol getBlock :tileValue.6:x *tmp5 type building floor
    99 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   100 sensor solid type @solid
   101 select :tileValue.6:result notEqual solid false 0.09803921568627451 value
-    * set *tmp36 :tileValue.6:result
   102 label *label26
   103 op add *tmp37 :tileValue:result :tileValue.1:result
   104 op add *tmp38 *tmp37 :tileValue.2:result
   105 op add *tmp39 :tileValue.5:result *tmp38
   106 op min *tmp40 0.09803921568627451 *tmp39
-    * op add *tmp41 :tileValue:result :tileValue.1:result
-    * op add *tmp42 *tmp37 :tileValue.2:result
   107 op add *tmp43 *tmp38 :tileValue.3:result
   108 op min *tmp44 0.09803921568627451 *tmp43
   109 op add *tmp45 :tileValue.2:result :tileValue.3:result
   110 op add *tmp46 *tmp45 :tileValue.4:result
   111 op add *tmp47 :tileValue.1:result *tmp46
   112 op min *tmp48 0.09803921568627451 *tmp47
-    * op add *tmp49 :tileValue.2:result :tileValue.3:result
-    * op add *tmp50 *tmp45 :tileValue.4:result
   113 op add *tmp51 *tmp46 :tileValue.6:result
   114 op min *tmp52 0.09803921568627451 *tmp51
   115 packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52
 
   118 label *label22
   119 label *label15
   120 op sub *tmp54 :findBestPosition:y 1
-    * set :computeRowValues.1:x :findBestPosition:x
-    * set :computeRowValues.1:y *tmp54
-    * set :computeRowValues.1:ore :findBestPosition:ore
   121 ucontrol getBlock :tileValue:x *tmp54 type building floor
   122 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   123 sensor solid type @solid
   124 select :tileValue.7:result notEqual solid false 0.09803921568627451 value
-    * set *tmp57 :tileValue.7:result
   125 label *label28
   126 ucontrol getBlock :tileValue.1:x *tmp54 type building floor
   127 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   128 sensor solid type @solid
   129 select :tileValue.8:result notEqual solid false 0.09803921568627451 value
-    * set *tmp59 :tileValue.8:result
   130 label *label29
   131 ucontrol getBlock :findBestPosition:x *tmp54 type building floor
   132 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   133 sensor solid type @solid
   134 select :tileValue.9:result notEqual solid false 0.09803921568627451 value
-    * set *tmp61 :tileValue.9:result
   135 label *label30
   136 ucontrol getBlock :tileValue.3:x *tmp54 type building floor
   137 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   138 sensor solid type @solid
   139 select :tileValue.10:result notEqual solid false 0.09803921568627451 value
-    * set *tmp63 :tileValue.10:result
   140 label *label31
   141 ucontrol getBlock :tileValue.4:x *tmp54 type building floor
   142 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   143 sensor solid type @solid
   144 select :tileValue.11:result notEqual solid false 0.09803921568627451 value
-    * set *tmp65 :tileValue.11:result
   145 label *label32
   146 jump *label33 notEqual :findBestPosition:size 2
   147 op add *tmp68 :tileValue.7:result :tileValue.8:result
 
   155 jump *label35 notEqual :findBestPosition:size 3
   156 op add *tmp75 :tileValue.8:result :tileValue.9:result
   157 op add *tmp76 :tileValue.7:result *tmp75
-    * op add *tmp77 :tileValue.8:result :tileValue.9:result
   158 op add *tmp78 *tmp75 :tileValue.10:result
   159 op add *tmp79 :tileValue.9:result :tileValue.10:result
   160 op add *tmp80 *tmp79 :tileValue.11:result
 
   167 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   168 sensor solid type @solid
   169 select :tileValue.12:result notEqual solid false 0.09803921568627451 value
-    * set *tmp83 :tileValue.12:result
   170 label *label37
   171 op add :tileValue.13:x :findBestPosition:x 3
   172 ucontrol getBlock :tileValue.13:x *tmp54 type building floor
   173 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   174 sensor solid type @solid
   175 select :tileValue.13:result notEqual solid false 0.09803921568627451 value
-    * set *tmp85 :tileValue.13:result
   176 label *label38
   177 op add *tmp86 :tileValue.7:result :tileValue.8:result
   178 op add *tmp87 *tmp86 :tileValue.9:result
   179 op add *tmp88 :tileValue.12:result *tmp87
   180 op min *tmp89 0.09803921568627451 *tmp88
-    * op add *tmp90 :tileValue.7:result :tileValue.8:result
-    * op add *tmp91 *tmp86 :tileValue.9:result
   181 op add *tmp92 *tmp87 :tileValue.10:result
   182 op min *tmp93 0.09803921568627451 *tmp92
   183 op add *tmp94 :tileValue.9:result :tileValue.10:result
   184 op add *tmp95 *tmp94 :tileValue.11:result
   185 op add *tmp96 :tileValue.8:result *tmp95
   186 op min *tmp97 0.09803921568627451 *tmp96
-    * op add *tmp98 :tileValue.9:result :tileValue.10:result
-    * op add *tmp99 *tmp94 :tileValue.11:result
   187 op add *tmp100 *tmp95 :tileValue.13:result
   188 op min *tmp101 0.09803921568627451 *tmp100
   189 packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101
 
   191 label *label36
   192 label *label34
   193 label *label27
-    * set *tmp103 :findBestPosition:y
-    * set :computeRowValues.2:x :findBestPosition:x
-    * set :computeRowValues.2:y :findBestPosition:y
-    * set :computeRowValues.2:ore :findBestPosition:ore
-    * set :tileValue.14:y :findBestPosition:y
   194 ucontrol getBlock :tileValue:x :findBestPosition:y type building floor
   195 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   196 sensor solid type @solid
   197 select :tileValue.14:result notEqual solid false 0.09803921568627451 value
-    * set *tmp106 :tileValue.14:result
   198 label *label40
-    * set :tileValue.15:y :findBestPosition:y
   199 ucontrol getBlock :tileValue.1:x :findBestPosition:y type building floor
   200 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   201 sensor solid type @solid
   202 select :tileValue.15:result notEqual solid false 0.09803921568627451 value
-    * set *tmp108 :tileValue.15:result
   203 label *label41
-    * set :tileValue.16:y :findBestPosition:y
   204 ucontrol getBlock :findBestPosition:x :findBestPosition:y type building floor
   205 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   206 sensor solid type @solid
   207 select :tileValue.16:result notEqual solid false 0.09803921568627451 value
-    * set *tmp110 :tileValue.16:result
   208 label *label42
-    * set :tileValue.17:y :findBestPosition:y
   209 ucontrol getBlock :tileValue.3:x :findBestPosition:y type building floor
   210 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   211 sensor solid type @solid
   212 select :tileValue.17:result notEqual solid false 0.09803921568627451 value
-    * set *tmp112 :tileValue.17:result
   213 label *label43
-    * set :tileValue.18:y :findBestPosition:y
   214 ucontrol getBlock :tileValue.4:x :findBestPosition:y type building floor
   215 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   216 sensor solid type @solid
   217 select :tileValue.18:result notEqual solid false 0.09803921568627451 value
-    * set *tmp114 :tileValue.18:result
   218 label *label44
   219 jump *label45 notEqual :findBestPosition:size 2
   220 op add *tmp117 :tileValue.14:result :tileValue.15:result
 
   228 jump *label47 notEqual :findBestPosition:size 3
   229 op add *tmp124 :tileValue.15:result :tileValue.16:result
   230 op add *tmp125 :tileValue.14:result *tmp124
-    * op add *tmp126 :tileValue.15:result :tileValue.16:result
   231 op add *tmp127 *tmp124 :tileValue.17:result
   232 op add *tmp128 :tileValue.16:result :tileValue.17:result
   233 op add *tmp129 *tmp128 :tileValue.18:result
 
   236 jump *label48 always
   237 label *label47
   238 op sub :tileValue.19:x :findBestPosition:x 3
-    * set :tileValue.19:y :findBestPosition:y
   239 ucontrol getBlock :tileValue.19:x :findBestPosition:y type building floor
   240 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   241 sensor solid type @solid
   242 select :tileValue.19:result notEqual solid false 0.09803921568627451 value
-    * set *tmp132 :tileValue.19:result
   243 label *label49
   244 op add :tileValue.20:x :findBestPosition:x 3
-    * set :tileValue.20:y :findBestPosition:y
   245 ucontrol getBlock :tileValue.20:x :findBestPosition:y type building floor
   246 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   247 sensor solid type @solid
   248 select :tileValue.20:result notEqual solid false 0.09803921568627451 value
-    * set *tmp134 :tileValue.20:result
   249 label *label50
   250 op add *tmp135 :tileValue.14:result :tileValue.15:result
   251 op add *tmp136 *tmp135 :tileValue.16:result
   252 op add *tmp137 :tileValue.19:result *tmp136
   253 op min *tmp138 0.09803921568627451 *tmp137
-    * op add *tmp139 :tileValue.14:result :tileValue.15:result
-    * op add *tmp140 *tmp135 :tileValue.16:result
   254 op add *tmp141 *tmp136 :tileValue.17:result
   255 op min *tmp142 0.09803921568627451 *tmp141
   256 op add *tmp143 :tileValue.16:result :tileValue.17:result
   257 op add *tmp144 *tmp143 :tileValue.18:result
   258 op add *tmp145 :tileValue.15:result *tmp144
   259 op min *tmp146 0.09803921568627451 *tmp145
-    * op add *tmp147 :tileValue.16:result :tileValue.17:result
-    * op add *tmp148 *tmp143 :tileValue.18:result
   260 op add *tmp149 *tmp144 :tileValue.20:result
   261 op min *tmp150 0.09803921568627451 *tmp149
   262 packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150
 
   265 label *label46
   266 label *label39
   267 op add *tmp152 :findBestPosition:y 1
-    * set :computeRowValues.3:x :findBestPosition:x
-    * set :computeRowValues.3:y *tmp152
-    * set :computeRowValues.3:ore :findBestPosition:ore
   268 ucontrol getBlock :tileValue:x *tmp152 type building floor
   269 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   270 sensor solid type @solid
   271 select :tileValue.21:result notEqual solid false 0.09803921568627451 value
-    * set *tmp155 :tileValue.21:result
   272 label *label52
   273 ucontrol getBlock :tileValue.1:x *tmp152 type building floor
   274 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   275 sensor solid type @solid
   276 select :tileValue.22:result notEqual solid false 0.09803921568627451 value
-    * set *tmp157 :tileValue.22:result
   277 label *label53
   278 ucontrol getBlock :findBestPosition:x *tmp152 type building floor
   279 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   280 sensor solid type @solid
   281 select :tileValue.23:result notEqual solid false 0.09803921568627451 value
-    * set *tmp159 :tileValue.23:result
   282 label *label54
   283 ucontrol getBlock :tileValue.3:x *tmp152 type building floor
   284 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   285 sensor solid type @solid
   286 select :tileValue.24:result notEqual solid false 0.09803921568627451 value
-    * set *tmp161 :tileValue.24:result
   287 label *label55
   288 ucontrol getBlock :tileValue.4:x *tmp152 type building floor
   289 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   290 sensor solid type @solid
   291 select :tileValue.25:result notEqual solid false 0.09803921568627451 value
-    * set *tmp163 :tileValue.25:result
   292 label *label56
   293 jump *label57 notEqual :findBestPosition:size 2
   294 op add *tmp166 :tileValue.21:result :tileValue.22:result
 
   302 jump *label59 notEqual :findBestPosition:size 3
   303 op add *tmp173 :tileValue.22:result :tileValue.23:result
   304 op add *tmp174 :tileValue.21:result *tmp173
-    * op add *tmp175 :tileValue.22:result :tileValue.23:result
   305 op add *tmp176 *tmp173 :tileValue.24:result
   306 op add *tmp177 :tileValue.23:result :tileValue.24:result
   307 op add *tmp178 *tmp177 :tileValue.25:result
 
   314 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   315 sensor solid type @solid
   316 select :tileValue.26:result notEqual solid false 0.09803921568627451 value
-    * set *tmp181 :tileValue.26:result
   317 label *label61
   318 op add :tileValue.27:x :findBestPosition:x 3
   319 ucontrol getBlock :tileValue.27:x *tmp152 type building floor
   320 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   321 sensor solid type @solid
   322 select :tileValue.27:result notEqual solid false 0.09803921568627451 value
-    * set *tmp183 :tileValue.27:result
   323 label *label62
   324 op add *tmp184 :tileValue.21:result :tileValue.22:result
   325 op add *tmp185 *tmp184 :tileValue.23:result
   326 op add *tmp186 :tileValue.26:result *tmp185
   327 op min *tmp187 0.09803921568627451 *tmp186
-    * op add *tmp188 :tileValue.21:result :tileValue.22:result
-    * op add *tmp189 *tmp184 :tileValue.23:result
   328 op add *tmp190 *tmp185 :tileValue.24:result
   329 op min *tmp191 0.09803921568627451 *tmp190
   330 op add *tmp192 :tileValue.23:result :tileValue.24:result
   331 op add *tmp193 *tmp192 :tileValue.25:result
   332 op add *tmp194 :tileValue.22:result *tmp193
   333 op min *tmp195 0.09803921568627451 *tmp194
-    * op add *tmp196 :tileValue.23:result :tileValue.24:result
-    * op add *tmp197 *tmp192 :tileValue.25:result
   334 op add *tmp198 *tmp193 :tileValue.27:result
   335 op min *tmp199 0.09803921568627451 *tmp198
   336 packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199
 
   339 label *label58
   340 label *label51
   341 op add *tmp201 :findBestPosition:y 2
-    * set :computeRowValues.4:x :findBestPosition:x
-    * set :computeRowValues.4:y *tmp201
-    * set :computeRowValues.4:ore :findBestPosition:ore
   342 ucontrol getBlock :tileValue:x *tmp201 type building floor
   343 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   344 sensor solid type @solid
   345 select :tileValue.28:result notEqual solid false 0.09803921568627451 value
-    * set *tmp204 :tileValue.28:result
   346 label *label64
   347 ucontrol getBlock :tileValue.1:x *tmp201 type building floor
   348 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   349 sensor solid type @solid
   350 select :tileValue.29:result notEqual solid false 0.09803921568627451 value
-    * set *tmp206 :tileValue.29:result
   351 label *label65
   352 ucontrol getBlock :findBestPosition:x *tmp201 type building floor
   353 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   354 sensor solid type @solid
   355 select :tileValue.30:result notEqual solid false 0.09803921568627451 value
-    * set *tmp208 :tileValue.30:result
   356 label *label66
   357 ucontrol getBlock :tileValue.3:x *tmp201 type building floor
   358 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   359 sensor solid type @solid
   360 select :tileValue.31:result notEqual solid false 0.09803921568627451 value
-    * set *tmp210 :tileValue.31:result
   361 label *label67
   362 ucontrol getBlock :tileValue.4:x *tmp201 type building floor
   363 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   364 sensor solid type @solid
   365 select :tileValue.32:result notEqual solid false 0.09803921568627451 value
-    * set *tmp212 :tileValue.32:result
   366 label *label68
   367 jump *label69 notEqual :findBestPosition:size 2
   368 op add *tmp215 :tileValue.28:result :tileValue.29:result
 
   376 jump *label71 notEqual :findBestPosition:size 3
   377 op add *tmp222 :tileValue.29:result :tileValue.30:result
   378 op add *tmp223 :tileValue.28:result *tmp222
-    * op add *tmp224 :tileValue.29:result :tileValue.30:result
   379 op add *tmp225 *tmp222 :tileValue.31:result
   380 op add *tmp226 :tileValue.30:result :tileValue.31:result
   381 op add *tmp227 *tmp226 :tileValue.32:result
 
   388 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   389 sensor solid type @solid
   390 select :tileValue.33:result notEqual solid false 0.09803921568627451 value
-    * set *tmp230 :tileValue.33:result
   391 label *label73
   392 op add :tileValue.34:x :findBestPosition:x 3
   393 ucontrol getBlock :tileValue.34:x *tmp201 type building floor
   394 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   395 sensor solid type @solid
   396 select :tileValue.34:result notEqual solid false 0.09803921568627451 value
-    * set *tmp232 :tileValue.34:result
   397 label *label74
   398 op add *tmp233 :tileValue.28:result :tileValue.29:result
   399 op add *tmp234 *tmp233 :tileValue.30:result
   400 op add *tmp235 :tileValue.33:result *tmp234
   401 op min *tmp236 0.09803921568627451 *tmp235
-    * op add *tmp237 :tileValue.28:result :tileValue.29:result
-    * op add *tmp238 *tmp233 :tileValue.30:result
   402 op add *tmp239 *tmp234 :tileValue.31:result
   403 op min *tmp240 0.09803921568627451 *tmp239
   404 op add *tmp241 :tileValue.30:result :tileValue.31:result
   405 op add *tmp242 *tmp241 :tileValue.32:result
   406 op add *tmp243 :tileValue.29:result *tmp242
   407 op min *tmp244 0.09803921568627451 *tmp243
-    * op add *tmp245 :tileValue.30:result :tileValue.31:result
-    * op add *tmp246 *tmp241 :tileValue.32:result
   408 op add *tmp247 *tmp242 :tileValue.34:result
   409 op min *tmp248 0.09803921568627451 *tmp247
   410 packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248
 
   421 op add :findBestPosition:row2 *tmp252 *tmp153
   422 op add *tmp256 *tmp104 *tmp153
   423 op add :findBestPosition:row3 *tmp256 *tmp202
-    * set :updateRowPositionsOdd:dy -1
   424 unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 *tmp258 :findBestPosition:row1
   425 jump *label79 lessThanEq :updateRowPositionsOdd:col1 0
   426 jump *label81 greaterThanEq :updateRowPositionsOdd:col1 0.0784313725490196
 
   453 label *label90
   454 label *label88
   455 label *label77
-    * set :updateRowPositionsOdd.1:dy 0
   456 unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 *tmp271 :findBestPosition:row2
   457 jump *label95 lessThanEq :updateRowPositionsOdd.1:col1 :findBestPosition:best
   458 jump *label97 greaterThanEq :updateRowPositionsOdd.1:col1 0.0784313725490196
 
   485 label *label106
   486 label *label104
   487 label *label93
-    * set :updateRowPositionsOdd.2:dy 1
   488 unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 *tmp284 :findBestPosition:row3
   489 jump *label111 lessThanEq :updateRowPositionsOdd.2:col1 :findBestPosition:best
   490 jump *label113 greaterThanEq :updateRowPositionsOdd.2:col1 0.0784313725490196
 
   527 jump *label126 always
   528 label *label125
   529 op sub *tmp303 :findBestPosition:y 3
-    * set :computeRowValues.5:x :findBestPosition:x
-    * set :computeRowValues.5:y *tmp303
-    * set :computeRowValues.5:ore :findBestPosition:ore
   530 ucontrol getBlock :tileValue:x *tmp303 type building floor
   531 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   532 sensor solid type @solid
   533 select :tileValue.35:result notEqual solid false 0.09803921568627451 value
-    * set *tmp306 :tileValue.35:result
   534 label *label128
   535 ucontrol getBlock :tileValue.1:x *tmp303 type building floor
   536 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   537 sensor solid type @solid
   538 select :tileValue.36:result notEqual solid false 0.09803921568627451 value
-    * set *tmp308 :tileValue.36:result
   539 label *label129
   540 ucontrol getBlock :findBestPosition:x *tmp303 type building floor
   541 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   542 sensor solid type @solid
   543 select :tileValue.37:result notEqual solid false 0.09803921568627451 value
-    * set *tmp310 :tileValue.37:result
   544 label *label130
   545 ucontrol getBlock :tileValue.3:x *tmp303 type building floor
   546 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   547 sensor solid type @solid
   548 select :tileValue.38:result notEqual solid false 0.09803921568627451 value
-    * set *tmp312 :tileValue.38:result
   549 label *label131
   550 ucontrol getBlock :tileValue.4:x *tmp303 type building floor
   551 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   552 sensor solid type @solid
   553 select :tileValue.39:result notEqual solid false 0.09803921568627451 value
-    * set *tmp314 :tileValue.39:result
   554 label *label132
   555 jump *label133 notEqual :findBestPosition:size 2
   556 op add *tmp317 :tileValue.35:result :tileValue.36:result
 
   564 jump *label135 notEqual :findBestPosition:size 3
   565 op add *tmp324 :tileValue.36:result :tileValue.37:result
   566 op add *tmp325 :tileValue.35:result *tmp324
-    * op add *tmp326 :tileValue.36:result :tileValue.37:result
   567 op add *tmp327 *tmp324 :tileValue.38:result
   568 op add *tmp328 :tileValue.37:result :tileValue.38:result
   569 op add *tmp329 *tmp328 :tileValue.39:result
 
   576 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   577 sensor solid type @solid
   578 select :tileValue.40:result notEqual solid false 0.09803921568627451 value
-    * set *tmp332 :tileValue.40:result
   579 label *label137
   580 op add :tileValue.41:x :findBestPosition:x 3
   581 ucontrol getBlock :tileValue.41:x *tmp303 type building floor
   582 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   583 sensor solid type @solid
   584 select :tileValue.41:result notEqual solid false 0.09803921568627451 value
-    * set *tmp334 :tileValue.41:result
   585 label *label138
   586 op add *tmp335 :tileValue.35:result :tileValue.36:result
   587 op add *tmp336 *tmp335 :tileValue.37:result
   588 op add *tmp337 :tileValue.40:result *tmp336
   589 op min *tmp338 0.09803921568627451 *tmp337
-    * op add *tmp339 :tileValue.35:result :tileValue.36:result
-    * op add *tmp340 *tmp335 :tileValue.37:result
   590 op add *tmp341 *tmp336 :tileValue.38:result
   591 op min *tmp342 0.09803921568627451 *tmp341
   592 op add *tmp343 :tileValue.37:result :tileValue.38:result
   593 op add *tmp344 *tmp343 :tileValue.39:result
   594 op add *tmp345 :tileValue.36:result *tmp344
   595 op min *tmp346 0.09803921568627451 *tmp345
-    * op add *tmp347 :tileValue.37:result :tileValue.38:result
-    * op add *tmp348 *tmp343 :tileValue.39:result
   596 op add *tmp349 *tmp344 :tileValue.41:result
   597 op min *tmp350 0.09803921568627451 *tmp349
   598 packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350
 
   601 label *label134
   602 label *label127
   603 op add *tmp352 :findBestPosition:y 3
-    * set :computeRowValues.6:x :findBestPosition:x
-    * set :computeRowValues.6:y *tmp352
-    * set :computeRowValues.6:ore :findBestPosition:ore
   604 ucontrol getBlock :tileValue:x *tmp352 type building floor
   605 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   606 sensor solid type @solid
   607 select :tileValue.42:result notEqual solid false 0.09803921568627451 value
-    * set *tmp355 :tileValue.42:result
   608 label *label140
   609 ucontrol getBlock :tileValue.1:x *tmp352 type building floor
   610 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   611 sensor solid type @solid
   612 select :tileValue.43:result notEqual solid false 0.09803921568627451 value
-    * set *tmp357 :tileValue.43:result
   613 label *label141
   614 ucontrol getBlock :findBestPosition:x *tmp352 type building floor
   615 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   616 sensor solid type @solid
   617 select :tileValue.44:result notEqual solid false 0.09803921568627451 value
-    * set *tmp359 :tileValue.44:result
   618 label *label142
   619 ucontrol getBlock :tileValue.3:x *tmp352 type building floor
   620 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   621 sensor solid type @solid
   622 select :tileValue.45:result notEqual solid false 0.09803921568627451 value
-    * set *tmp361 :tileValue.45:result
   623 label *label143
   624 ucontrol getBlock :tileValue.4:x *tmp352 type building floor
   625 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   626 sensor solid type @solid
   627 select :tileValue.46:result notEqual solid false 0.09803921568627451 value
-    * set *tmp363 :tileValue.46:result
   628 label *label144
   629 jump *label145 notEqual :findBestPosition:size 2
   630 op add *tmp366 :tileValue.42:result :tileValue.43:result
 
   638 jump *label147 notEqual :findBestPosition:size 3
   639 op add *tmp373 :tileValue.43:result :tileValue.44:result
   640 op add *tmp374 :tileValue.42:result *tmp373
-    * op add *tmp375 :tileValue.43:result :tileValue.44:result
   641 op add *tmp376 *tmp373 :tileValue.45:result
   642 op add *tmp377 :tileValue.44:result :tileValue.45:result
   643 op add *tmp378 *tmp377 :tileValue.46:result
 
   650 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   651 sensor solid type @solid
   652 select :tileValue.47:result notEqual solid false 0.09803921568627451 value
-    * set *tmp381 :tileValue.47:result
   653 label *label149
   654 op add :tileValue.48:x :findBestPosition:x 3
   655 ucontrol getBlock :tileValue.48:x *tmp352 type building floor
   656 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   657 sensor solid type @solid
   658 select :tileValue.48:result notEqual solid false 0.09803921568627451 value
-    * set *tmp383 :tileValue.48:result
   659 label *label150
   660 op add *tmp384 :tileValue.42:result :tileValue.43:result
   661 op add *tmp385 *tmp384 :tileValue.44:result
   662 op add *tmp386 :tileValue.47:result *tmp385
   663 op min *tmp387 0.09803921568627451 *tmp386
-    * op add *tmp388 :tileValue.42:result :tileValue.43:result
-    * op add *tmp389 *tmp384 :tileValue.44:result
   664 op add *tmp390 *tmp385 :tileValue.45:result
   665 op min *tmp391 0.09803921568627451 *tmp390
   666 op add *tmp392 :tileValue.44:result :tileValue.45:result
   667 op add *tmp393 *tmp392 :tileValue.46:result
   668 op add *tmp394 :tileValue.43:result *tmp393
   669 op min *tmp395 0.09803921568627451 *tmp394
-    * op add *tmp396 :tileValue.44:result :tileValue.45:result
-    * op add *tmp397 *tmp392 :tileValue.46:result
   670 op add *tmp398 *tmp393 :tileValue.48:result
   671 op min *tmp399 0.09803921568627451 *tmp398
   672 packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399
 
   683 op add :findBestPosition:row3 *tmp55 *tmp408
   684 op add :findBestPosition:row4 *tmp408 *tmp353
   685 label *label126
-    * set :updateRowPositionsEven:dy -1.5
   686 unpackcolor :updateRowPositionsEven:col1 :updateRowPositionsEven:col2 :updateRowPositionsEven:col3 :updateRowPositionsEven:col4 :findBestPosition:row1
   687 jump *label153 lessThanEq :updateRowPositionsEven:col1 0
   688 jump *label155 greaterThanEq :updateRowPositionsEven:col1 0.0784313725490196
 
   725 label *label169
   726 label *label167
   727 label *label151
-    * set :updateRowPositionsEven.1:dy -0.5
   728 unpackcolor :updateRowPositionsEven.1:col1 :updateRowPositionsEven.1:col2 :updateRowPositionsEven.1:col3 :updateRowPositionsEven.1:col4 :findBestPosition:row2
   729 jump *label174 lessThanEq :updateRowPositionsEven.1:col1 :findBestPosition:best
   730 jump *label176 greaterThanEq :updateRowPositionsEven.1:col1 0.0784313725490196
 
   767 label *label190
   768 label *label188
   769 label *label172
-    * set :updateRowPositionsEven.2:dy 0.5
   770 unpackcolor :updateRowPositionsEven.2:col1 :updateRowPositionsEven.2:col2 :updateRowPositionsEven.2:col3 :updateRowPositionsEven.2:col4 :findBestPosition:row3
   771 jump *label195 lessThanEq :updateRowPositionsEven.2:col1 :findBestPosition:best
   772 jump *label197 greaterThanEq :updateRowPositionsEven.2:col1 0.0784313725490196
 
   809 label *label211
   810 label *label209
   811 label *label193
-    * set :updateRowPositionsEven.3:dy 1.5
   812 unpackcolor :updateRowPositionsEven.3:col1 :updateRowPositionsEven.3:col2 :updateRowPositionsEven.3:col3 :updateRowPositionsEven.3:col4 :findBestPosition:row4
   813 jump *label216 lessThanEq :updateRowPositionsEven.3:col1 :findBestPosition:best
   814 jump *label218 greaterThanEq :updateRowPositionsEven.3:col1 0.0784313725490196

Modifications by Iterated phase, Loop Hoisting, pass 1, iteration 1:
 
    13 label *label7
    14 jump *label9 lessThan :createTerrainMask:r -3
    15 set :createTerrainMask:c 3
+   16 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
    17 label *label10
    18 jump *label12 lessThan :createTerrainMask:c -3
    19 op shl *tmp0 :createTerrainMask:result 1
    20 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
    21 ucontrol getBlock *tmp1 *tmp2 type building floor
    22 sensor solid type @solid
    23 select :isSolid:result notEqual solid false 1 0

Modifications by Iterated phase, Loop Rotation, pass 1, iteration 1 (-2 instructions):
 
    11 set :createTerrainMask:result 0
    12 set :createTerrainMask:r 3
    13 label *label7
-    * jump *label9 lessThan :createTerrainMask:r -3
+   14 label *label235
    15 set :createTerrainMask:c 3
    16 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
    17 label *label10
-    * jump *label12 lessThan :createTerrainMask:c -3
+   18 label *label236
    19 op shl *tmp0 :createTerrainMask:result 1
    20 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
    21 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    25 op or :createTerrainMask:result *tmp0 :isSolid:result
    26 label *label11
    27 op sub :createTerrainMask:c :createTerrainMask:c 1
-    * jump *label10 always
+   28 jump *label236 greaterThanEq :createTerrainMask:c -3
    29 label *label12
    30 label *label8
    31 op sub :createTerrainMask:r :createTerrainMask:r 1
-    * jump *label7 always
+   32 jump *label235 greaterThanEq :createTerrainMask:r -3
    33 label *label9
    34 set :createTerrainMask*retval :createTerrainMask:result
    35 jump *label6 always

Modifications by Unroll loop at line 28:9 (+41 instructions):
 
    12 set :createTerrainMask:r 3
    13 label *label7
    14 label *label235
-    * set :createTerrainMask:c 3
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
-    * label *label10
-    * label *label236
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label13
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label11
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
-    * jump *label236 greaterThanEq :createTerrainMask:c -3
-    * label *label12
+   15 set :createTerrainMask:c 3
+   16 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+   17 label *label237
+   18 label *label238
+   19 op shl *tmp0 :createTerrainMask:result 1
+   20 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   21 ucontrol getBlock *tmp1 *tmp2 type building floor
+   22 sensor solid type @solid
+   23 select :isSolid:result notEqual solid false 1 0
+   24 label *label239
+   25 op or :createTerrainMask:result *tmp0 :isSolid:result
+   26 label *label240
+   27 op sub :createTerrainMask:c :createTerrainMask:c 1
+   28 op shl *tmp0 :createTerrainMask:result 1
+   29 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   30 ucontrol getBlock *tmp1 *tmp2 type building floor
+   31 sensor solid type @solid
+   32 select :isSolid:result notEqual solid false 1 0
+   33 label *label241
+   34 op or :createTerrainMask:result *tmp0 :isSolid:result
+   35 label *label242
+   36 op sub :createTerrainMask:c :createTerrainMask:c 1
+   37 op shl *tmp0 :createTerrainMask:result 1
+   38 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   39 ucontrol getBlock *tmp1 *tmp2 type building floor
+   40 sensor solid type @solid
+   41 select :isSolid:result notEqual solid false 1 0
+   42 label *label243
+   43 op or :createTerrainMask:result *tmp0 :isSolid:result
+   44 label *label244
+   45 op sub :createTerrainMask:c :createTerrainMask:c 1
+   46 op shl *tmp0 :createTerrainMask:result 1
+   47 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   48 ucontrol getBlock *tmp1 *tmp2 type building floor
+   49 sensor solid type @solid
+   50 select :isSolid:result notEqual solid false 1 0
+   51 label *label245
+   52 op or :createTerrainMask:result *tmp0 :isSolid:result
+   53 label *label246
+   54 op sub :createTerrainMask:c :createTerrainMask:c 1
+   55 op shl *tmp0 :createTerrainMask:result 1
+   56 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   57 ucontrol getBlock *tmp1 *tmp2 type building floor
+   58 sensor solid type @solid
+   59 select :isSolid:result notEqual solid false 1 0
+   60 label *label247
+   61 op or :createTerrainMask:result *tmp0 :isSolid:result
+   62 label *label248
+   63 op sub :createTerrainMask:c :createTerrainMask:c 1
+   64 op shl *tmp0 :createTerrainMask:result 1
+   65 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   66 ucontrol getBlock *tmp1 *tmp2 type building floor
+   67 sensor solid type @solid
+   68 select :isSolid:result notEqual solid false 1 0
+   69 label *label249
+   70 op or :createTerrainMask:result *tmp0 :isSolid:result
+   71 label *label250
+   72 op sub :createTerrainMask:c :createTerrainMask:c 1
+   73 op shl *tmp0 :createTerrainMask:result 1
+   74 op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   75 ucontrol getBlock *tmp1 *tmp2 type building floor
+   76 sensor solid type @solid
+   77 select :isSolid:result notEqual solid false 1 0
+   78 label *label251
+   79 op or :createTerrainMask:result *tmp0 :isSolid:result
+   80 label *label252
+   81 op sub :createTerrainMask:c :createTerrainMask:c 1
+   82 label *label12
    83 label *label8
    84 op sub :createTerrainMask:r :createTerrainMask:r 1
    85 jump *label235 greaterThanEq :createTerrainMask:r -3

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    17 label *label237
    18 label *label238
    19 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   20 op add *tmp1 :createTerrainMask:x 3
    21 ucontrol getBlock *tmp1 *tmp2 type building floor
    22 sensor solid type @solid
    23 select :isSolid:result notEqual solid false 1 0
    24 label *label239
    25 op or :createTerrainMask:result *tmp0 :isSolid:result
    26 label *label240
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   27 op sub :createTerrainMask:c 3 1
    28 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   29 op add *tmp1 :createTerrainMask:x 2
    30 ucontrol getBlock *tmp1 *tmp2 type building floor
    31 sensor solid type @solid
    32 select :isSolid:result notEqual solid false 1 0
    33 label *label241
    34 op or :createTerrainMask:result *tmp0 :isSolid:result
    35 label *label242
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   36 op sub :createTerrainMask:c 2 1
    37 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   38 op add *tmp1 :createTerrainMask:x 1
    39 ucontrol getBlock *tmp1 *tmp2 type building floor
    40 sensor solid type @solid
    41 select :isSolid:result notEqual solid false 1 0
    42 label *label243
    43 op or :createTerrainMask:result *tmp0 :isSolid:result
    44 label *label244
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   45 op sub :createTerrainMask:c 1 1
    46 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   47 op add *tmp1 :createTerrainMask:x 0
    48 ucontrol getBlock *tmp1 *tmp2 type building floor
    49 sensor solid type @solid
    50 select :isSolid:result notEqual solid false 1 0
    51 label *label245
    52 op or :createTerrainMask:result *tmp0 :isSolid:result
    53 label *label246
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   54 op sub :createTerrainMask:c 0 1
    55 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   56 op add *tmp1 :createTerrainMask:x -1
    57 ucontrol getBlock *tmp1 *tmp2 type building floor
    58 sensor solid type @solid
    59 select :isSolid:result notEqual solid false 1 0
    60 label *label247
    61 op or :createTerrainMask:result *tmp0 :isSolid:result
    62 label *label248
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   63 op sub :createTerrainMask:c -1 1
    64 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   65 op add *tmp1 :createTerrainMask:x -2
    66 ucontrol getBlock *tmp1 *tmp2 type building floor
    67 sensor solid type @solid
    68 select :isSolid:result notEqual solid false 1 0
    69 label *label249
    70 op or :createTerrainMask:result *tmp0 :isSolid:result
    71 label *label250
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   72 op sub :createTerrainMask:c -2 1
    73 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x :createTerrainMask:c
+   74 op add *tmp1 :createTerrainMask:x -3
    75 ucontrol getBlock *tmp1 *tmp2 type building floor
    76 sensor solid type @solid
    77 select :isSolid:result notEqual solid false 1 0
    78 label *label251
    79 op or :createTerrainMask:result *tmp0 :isSolid:result
    80 label *label252
-    * op sub :createTerrainMask:c :createTerrainMask:c 1
+   81 op sub :createTerrainMask:c -3 1
    82 label *label12
    83 label *label8
    84 op sub :createTerrainMask:r :createTerrainMask:r 1

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-8 instructions):
 
    12 set :createTerrainMask:r 3
    13 label *label7
    14 label *label235
-    * set :createTerrainMask:c 3
    15 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
    16 label *label237
    17 label *label238
 
    23 label *label239
    24 op or :createTerrainMask:result *tmp0 :isSolid:result
    25 label *label240
-    * op sub :createTerrainMask:c 3 1
    26 op shl *tmp0 :createTerrainMask:result 1
    27 op add *tmp1 :createTerrainMask:x 2
    28 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    31 label *label241
    32 op or :createTerrainMask:result *tmp0 :isSolid:result
    33 label *label242
-    * op sub :createTerrainMask:c 2 1
    34 op shl *tmp0 :createTerrainMask:result 1
    35 op add *tmp1 :createTerrainMask:x 1
    36 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    39 label *label243
    40 op or :createTerrainMask:result *tmp0 :isSolid:result
    41 label *label244
-    * op sub :createTerrainMask:c 1 1
    42 op shl *tmp0 :createTerrainMask:result 1
    43 op add *tmp1 :createTerrainMask:x 0
    44 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    47 label *label245
    48 op or :createTerrainMask:result *tmp0 :isSolid:result
    49 label *label246
-    * op sub :createTerrainMask:c 0 1
    50 op shl *tmp0 :createTerrainMask:result 1
    51 op add *tmp1 :createTerrainMask:x -1
    52 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    55 label *label247
    56 op or :createTerrainMask:result *tmp0 :isSolid:result
    57 label *label248
-    * op sub :createTerrainMask:c -1 1
    58 op shl *tmp0 :createTerrainMask:result 1
    59 op add *tmp1 :createTerrainMask:x -2
    60 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    63 label *label249
    64 op or :createTerrainMask:result *tmp0 :isSolid:result
    65 label *label250
-    * op sub :createTerrainMask:c -2 1
    66 op shl *tmp0 :createTerrainMask:result 1
    67 op add *tmp1 :createTerrainMask:x -3
    68 ucontrol getBlock *tmp1 *tmp2 type building floor
 
    71 label *label251
    72 op or :createTerrainMask:result *tmp0 :isSolid:result
    73 label *label252
-    * op sub :createTerrainMask:c -3 1
    74 label *label12
    75 label *label8
    76 op sub :createTerrainMask:r :createTerrainMask:r 1

Modifications by Unroll loop at line 27:5 (+263 instructions):
 
     9 label *label0
    10 ubind :createTerrainMask:unit
    11 set :createTerrainMask:result 0
-    * set :createTerrainMask:r 3
-    * label *label7
-    * label *label235
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
-    * label *label237
-    * label *label238
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 3
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label239
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label240
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 2
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label241
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label242
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 1
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label243
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label244
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label245
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label246
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x -1
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label247
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label248
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x -2
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label249
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label250
-    * op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x -3
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
-    * sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
-    * label *label251
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label252
-    * label *label12
-    * label *label8
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * jump *label235 greaterThanEq :createTerrainMask:r -3
-    * label *label9
+   12 set :createTerrainMask:r 3
+   13 label *label253
+   14 label *label254
+   15 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+   16 label *label255
+   17 label *label256
+   18 op shl *tmp0 :createTerrainMask:result 1
+   19 op add *tmp1 :createTerrainMask:x 3
+   20 ucontrol getBlock *tmp1 *tmp2 type building floor
+   21 sensor solid type @solid
+   22 select :isSolid:result notEqual solid false 1 0
+   23 label *label257
+   24 op or :createTerrainMask:result *tmp0 :isSolid:result
+   25 label *label258
+   26 op shl *tmp0 :createTerrainMask:result 1
+   27 op add *tmp1 :createTerrainMask:x 2
+   28 ucontrol getBlock *tmp1 *tmp2 type building floor
+   29 sensor solid type @solid
+   30 select :isSolid:result notEqual solid false 1 0
+   31 label *label259
+   32 op or :createTerrainMask:result *tmp0 :isSolid:result
+   33 label *label260
+   34 op shl *tmp0 :createTerrainMask:result 1
+   35 op add *tmp1 :createTerrainMask:x 1
+   36 ucontrol getBlock *tmp1 *tmp2 type building floor
+   37 sensor solid type @solid
+   38 select :isSolid:result notEqual solid false 1 0
+   39 label *label261
+   40 op or :createTerrainMask:result *tmp0 :isSolid:result
+   41 label *label262
+   42 op shl *tmp0 :createTerrainMask:result 1
+   43 op add *tmp1 :createTerrainMask:x 0
+   44 ucontrol getBlock *tmp1 *tmp2 type building floor
+   45 sensor solid type @solid
+   46 select :isSolid:result notEqual solid false 1 0
+   47 label *label263
+   48 op or :createTerrainMask:result *tmp0 :isSolid:result
+   49 label *label264
+   50 op shl *tmp0 :createTerrainMask:result 1
+   51 op add *tmp1 :createTerrainMask:x -1
+   52 ucontrol getBlock *tmp1 *tmp2 type building floor
+   53 sensor solid type @solid
+   54 select :isSolid:result notEqual solid false 1 0
+   55 label *label265
+   56 op or :createTerrainMask:result *tmp0 :isSolid:result
+   57 label *label266
+   58 op shl *tmp0 :createTerrainMask:result 1
+   59 op add *tmp1 :createTerrainMask:x -2
+   60 ucontrol getBlock *tmp1 *tmp2 type building floor
+   61 sensor solid type @solid
+   62 select :isSolid:result notEqual solid false 1 0
+   63 label *label267
+   64 op or :createTerrainMask:result *tmp0 :isSolid:result
+   65 label *label268
+   66 op shl *tmp0 :createTerrainMask:result 1
+   67 op add *tmp1 :createTerrainMask:x -3
+   68 ucontrol getBlock *tmp1 *tmp2 type building floor
+   69 sensor solid type @solid
+   70 select :isSolid:result notEqual solid false 1 0
+   71 label *label269
+   72 op or :createTerrainMask:result *tmp0 :isSolid:result
+   73 label *label270
+   74 label *label271
+   75 label *label272
+   76 op sub :createTerrainMask:r :createTerrainMask:r 1
+   77 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+   78 label *label273
+   79 label *label274
+   80 op shl *tmp0 :createTerrainMask:result 1
+   81 op add *tmp1 :createTerrainMask:x 3
+   82 ucontrol getBlock *tmp1 *tmp2 type building floor
+   83 sensor solid type @solid
+   84 select :isSolid:result notEqual solid false 1 0
+   85 label *label275
+   86 op or :createTerrainMask:result *tmp0 :isSolid:result
+   87 label *label276
+   88 op shl *tmp0 :createTerrainMask:result 1
+   89 op add *tmp1 :createTerrainMask:x 2
+   90 ucontrol getBlock *tmp1 *tmp2 type building floor
+   91 sensor solid type @solid
+   92 select :isSolid:result notEqual solid false 1 0
+   93 label *label277
+   94 op or :createTerrainMask:result *tmp0 :isSolid:result
+   95 label *label278
+   96 op shl *tmp0 :createTerrainMask:result 1
+   97 op add *tmp1 :createTerrainMask:x 1
+   98 ucontrol getBlock *tmp1 *tmp2 type building floor
+   99 sensor solid type @solid
+  100 select :isSolid:result notEqual solid false 1 0
+  101 label *label279
+  102 op or :createTerrainMask:result *tmp0 :isSolid:result
+  103 label *label280
+  104 op shl *tmp0 :createTerrainMask:result 1
+  105 op add *tmp1 :createTerrainMask:x 0
+  106 ucontrol getBlock *tmp1 *tmp2 type building floor
+  107 sensor solid type @solid
+  108 select :isSolid:result notEqual solid false 1 0
+  109 label *label281
+  110 op or :createTerrainMask:result *tmp0 :isSolid:result
+  111 label *label282
+  112 op shl *tmp0 :createTerrainMask:result 1
+  113 op add *tmp1 :createTerrainMask:x -1
+  114 ucontrol getBlock *tmp1 *tmp2 type building floor
+  115 sensor solid type @solid
+  116 select :isSolid:result notEqual solid false 1 0
+  117 label *label283
+  118 op or :createTerrainMask:result *tmp0 :isSolid:result
+  119 label *label284
+  120 op shl *tmp0 :createTerrainMask:result 1
+  121 op add *tmp1 :createTerrainMask:x -2
+  122 ucontrol getBlock *tmp1 *tmp2 type building floor
+  123 sensor solid type @solid
+  124 select :isSolid:result notEqual solid false 1 0
+  125 label *label285
+  126 op or :createTerrainMask:result *tmp0 :isSolid:result
+  127 label *label286
+  128 op shl *tmp0 :createTerrainMask:result 1
+  129 op add *tmp1 :createTerrainMask:x -3
+  130 ucontrol getBlock *tmp1 *tmp2 type building floor
+  131 sensor solid type @solid
+  132 select :isSolid:result notEqual solid false 1 0
+  133 label *label287
+  134 op or :createTerrainMask:result *tmp0 :isSolid:result
+  135 label *label288
+  136 label *label289
+  137 label *label290
+  138 op sub :createTerrainMask:r :createTerrainMask:r 1
+  139 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  140 label *label291
+  141 label *label292
+  142 op shl *tmp0 :createTerrainMask:result 1
+  143 op add *tmp1 :createTerrainMask:x 3
+  144 ucontrol getBlock *tmp1 *tmp2 type building floor
+  145 sensor solid type @solid
+  146 select :isSolid:result notEqual solid false 1 0
+  147 label *label293
+  148 op or :createTerrainMask:result *tmp0 :isSolid:result
+  149 label *label294
+  150 op shl *tmp0 :createTerrainMask:result 1
+  151 op add *tmp1 :createTerrainMask:x 2
+  152 ucontrol getBlock *tmp1 *tmp2 type building floor
+  153 sensor solid type @solid
+  154 select :isSolid:result notEqual solid false 1 0
+  155 label *label295
+  156 op or :createTerrainMask:result *tmp0 :isSolid:result
+  157 label *label296
+  158 op shl *tmp0 :createTerrainMask:result 1
+  159 op add *tmp1 :createTerrainMask:x 1
+  160 ucontrol getBlock *tmp1 *tmp2 type building floor
+  161 sensor solid type @solid
+  162 select :isSolid:result notEqual solid false 1 0
+  163 label *label297
+  164 op or :createTerrainMask:result *tmp0 :isSolid:result
+  165 label *label298
+  166 op shl *tmp0 :createTerrainMask:result 1
+  167 op add *tmp1 :createTerrainMask:x 0
+  168 ucontrol getBlock *tmp1 *tmp2 type building floor
+  169 sensor solid type @solid
+  170 select :isSolid:result notEqual solid false 1 0
+  171 label *label299
+  172 op or :createTerrainMask:result *tmp0 :isSolid:result
+  173 label *label300
+  174 op shl *tmp0 :createTerrainMask:result 1
+  175 op add *tmp1 :createTerrainMask:x -1
+  176 ucontrol getBlock *tmp1 *tmp2 type building floor
+  177 sensor solid type @solid
+  178 select :isSolid:result notEqual solid false 1 0
+  179 label *label301
+  180 op or :createTerrainMask:result *tmp0 :isSolid:result
+  181 label *label302
+  182 op shl *tmp0 :createTerrainMask:result 1
+  183 op add *tmp1 :createTerrainMask:x -2
+  184 ucontrol getBlock *tmp1 *tmp2 type building floor
+  185 sensor solid type @solid
+  186 select :isSolid:result notEqual solid false 1 0
+  187 label *label303
+  188 op or :createTerrainMask:result *tmp0 :isSolid:result
+  189 label *label304
+  190 op shl *tmp0 :createTerrainMask:result 1
+  191 op add *tmp1 :createTerrainMask:x -3
+  192 ucontrol getBlock *tmp1 *tmp2 type building floor
+  193 sensor solid type @solid
+  194 select :isSolid:result notEqual solid false 1 0
+  195 label *label305
+  196 op or :createTerrainMask:result *tmp0 :isSolid:result
+  197 label *label306
+  198 label *label307
+  199 label *label308
+  200 op sub :createTerrainMask:r :createTerrainMask:r 1
+  201 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  202 label *label309
+  203 label *label310
+  204 op shl *tmp0 :createTerrainMask:result 1
+  205 op add *tmp1 :createTerrainMask:x 3
+  206 ucontrol getBlock *tmp1 *tmp2 type building floor
+  207 sensor solid type @solid
+  208 select :isSolid:result notEqual solid false 1 0
+  209 label *label311
+  210 op or :createTerrainMask:result *tmp0 :isSolid:result
+  211 label *label312
+  212 op shl *tmp0 :createTerrainMask:result 1
+  213 op add *tmp1 :createTerrainMask:x 2
+  214 ucontrol getBlock *tmp1 *tmp2 type building floor
+  215 sensor solid type @solid
+  216 select :isSolid:result notEqual solid false 1 0
+  217 label *label313
+  218 op or :createTerrainMask:result *tmp0 :isSolid:result
+  219 label *label314
+  220 op shl *tmp0 :createTerrainMask:result 1
+  221 op add *tmp1 :createTerrainMask:x 1
+  222 ucontrol getBlock *tmp1 *tmp2 type building floor
+  223 sensor solid type @solid
+  224 select :isSolid:result notEqual solid false 1 0
+  225 label *label315
+  226 op or :createTerrainMask:result *tmp0 :isSolid:result
+  227 label *label316
+  228 op shl *tmp0 :createTerrainMask:result 1
+  229 op add *tmp1 :createTerrainMask:x 0
+  230 ucontrol getBlock *tmp1 *tmp2 type building floor
+  231 sensor solid type @solid
+  232 select :isSolid:result notEqual solid false 1 0
+  233 label *label317
+  234 op or :createTerrainMask:result *tmp0 :isSolid:result
+  235 label *label318
+  236 op shl *tmp0 :createTerrainMask:result 1
+  237 op add *tmp1 :createTerrainMask:x -1
+  238 ucontrol getBlock *tmp1 *tmp2 type building floor
+  239 sensor solid type @solid
+  240 select :isSolid:result notEqual solid false 1 0
+  241 label *label319
+  242 op or :createTerrainMask:result *tmp0 :isSolid:result
+  243 label *label320
+  244 op shl *tmp0 :createTerrainMask:result 1
+  245 op add *tmp1 :createTerrainMask:x -2
+  246 ucontrol getBlock *tmp1 *tmp2 type building floor
+  247 sensor solid type @solid
+  248 select :isSolid:result notEqual solid false 1 0
+  249 label *label321
+  250 op or :createTerrainMask:result *tmp0 :isSolid:result
+  251 label *label322
+  252 op shl *tmp0 :createTerrainMask:result 1
+  253 op add *tmp1 :createTerrainMask:x -3
+  254 ucontrol getBlock *tmp1 *tmp2 type building floor
+  255 sensor solid type @solid
+  256 select :isSolid:result notEqual solid false 1 0
+  257 label *label323
+  258 op or :createTerrainMask:result *tmp0 :isSolid:result
+  259 label *label324
+  260 label *label325
+  261 label *label326
+  262 op sub :createTerrainMask:r :createTerrainMask:r 1
+  263 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  264 label *label327
+  265 label *label328
+  266 op shl *tmp0 :createTerrainMask:result 1
+  267 op add *tmp1 :createTerrainMask:x 3
+  268 ucontrol getBlock *tmp1 *tmp2 type building floor
+  269 sensor solid type @solid
+  270 select :isSolid:result notEqual solid false 1 0
+  271 label *label329
+  272 op or :createTerrainMask:result *tmp0 :isSolid:result
+  273 label *label330
+  274 op shl *tmp0 :createTerrainMask:result 1
+  275 op add *tmp1 :createTerrainMask:x 2
+  276 ucontrol getBlock *tmp1 *tmp2 type building floor
+  277 sensor solid type @solid
+  278 select :isSolid:result notEqual solid false 1 0
+  279 label *label331
+  280 op or :createTerrainMask:result *tmp0 :isSolid:result
+  281 label *label332
+  282 op shl *tmp0 :createTerrainMask:result 1
+  283 op add *tmp1 :createTerrainMask:x 1
+  284 ucontrol getBlock *tmp1 *tmp2 type building floor
+  285 sensor solid type @solid
+  286 select :isSolid:result notEqual solid false 1 0
+  287 label *label333
+  288 op or :createTerrainMask:result *tmp0 :isSolid:result
+  289 label *label334
+  290 op shl *tmp0 :createTerrainMask:result 1
+  291 op add *tmp1 :createTerrainMask:x 0
+  292 ucontrol getBlock *tmp1 *tmp2 type building floor
+  293 sensor solid type @solid
+  294 select :isSolid:result notEqual solid false 1 0
+  295 label *label335
+  296 op or :createTerrainMask:result *tmp0 :isSolid:result
+  297 label *label336
+  298 op shl *tmp0 :createTerrainMask:result 1
+  299 op add *tmp1 :createTerrainMask:x -1
+  300 ucontrol getBlock *tmp1 *tmp2 type building floor
+  301 sensor solid type @solid
+  302 select :isSolid:result notEqual solid false 1 0
+  303 label *label337
+  304 op or :createTerrainMask:result *tmp0 :isSolid:result
+  305 label *label338
+  306 op shl *tmp0 :createTerrainMask:result 1
+  307 op add *tmp1 :createTerrainMask:x -2
+  308 ucontrol getBlock *tmp1 *tmp2 type building floor
+  309 sensor solid type @solid
+  310 select :isSolid:result notEqual solid false 1 0
+  311 label *label339
+  312 op or :createTerrainMask:result *tmp0 :isSolid:result
+  313 label *label340
+  314 op shl *tmp0 :createTerrainMask:result 1
+  315 op add *tmp1 :createTerrainMask:x -3
+  316 ucontrol getBlock *tmp1 *tmp2 type building floor
+  317 sensor solid type @solid
+  318 select :isSolid:result notEqual solid false 1 0
+  319 label *label341
+  320 op or :createTerrainMask:result *tmp0 :isSolid:result
+  321 label *label342
+  322 label *label343
+  323 label *label344
+  324 op sub :createTerrainMask:r :createTerrainMask:r 1
+  325 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  326 label *label345
+  327 label *label346
+  328 op shl *tmp0 :createTerrainMask:result 1
+  329 op add *tmp1 :createTerrainMask:x 3
+  330 ucontrol getBlock *tmp1 *tmp2 type building floor
+  331 sensor solid type @solid
+  332 select :isSolid:result notEqual solid false 1 0
+  333 label *label347
+  334 op or :createTerrainMask:result *tmp0 :isSolid:result
+  335 label *label348
+  336 op shl *tmp0 :createTerrainMask:result 1
+  337 op add *tmp1 :createTerrainMask:x 2
+  338 ucontrol getBlock *tmp1 *tmp2 type building floor
+  339 sensor solid type @solid
+  340 select :isSolid:result notEqual solid false 1 0
+  341 label *label349
+  342 op or :createTerrainMask:result *tmp0 :isSolid:result
+  343 label *label350
+  344 op shl *tmp0 :createTerrainMask:result 1
+  345 op add *tmp1 :createTerrainMask:x 1
+  346 ucontrol getBlock *tmp1 *tmp2 type building floor
+  347 sensor solid type @solid
+  348 select :isSolid:result notEqual solid false 1 0
+  349 label *label351
+  350 op or :createTerrainMask:result *tmp0 :isSolid:result
+  351 label *label352
+  352 op shl *tmp0 :createTerrainMask:result 1
+  353 op add *tmp1 :createTerrainMask:x 0
+  354 ucontrol getBlock *tmp1 *tmp2 type building floor
+  355 sensor solid type @solid
+  356 select :isSolid:result notEqual solid false 1 0
+  357 label *label353
+  358 op or :createTerrainMask:result *tmp0 :isSolid:result
+  359 label *label354
+  360 op shl *tmp0 :createTerrainMask:result 1
+  361 op add *tmp1 :createTerrainMask:x -1
+  362 ucontrol getBlock *tmp1 *tmp2 type building floor
+  363 sensor solid type @solid
+  364 select :isSolid:result notEqual solid false 1 0
+  365 label *label355
+  366 op or :createTerrainMask:result *tmp0 :isSolid:result
+  367 label *label356
+  368 op shl *tmp0 :createTerrainMask:result 1
+  369 op add *tmp1 :createTerrainMask:x -2
+  370 ucontrol getBlock *tmp1 *tmp2 type building floor
+  371 sensor solid type @solid
+  372 select :isSolid:result notEqual solid false 1 0
+  373 label *label357
+  374 op or :createTerrainMask:result *tmp0 :isSolid:result
+  375 label *label358
+  376 op shl *tmp0 :createTerrainMask:result 1
+  377 op add *tmp1 :createTerrainMask:x -3
+  378 ucontrol getBlock *tmp1 *tmp2 type building floor
+  379 sensor solid type @solid
+  380 select :isSolid:result notEqual solid false 1 0
+  381 label *label359
+  382 op or :createTerrainMask:result *tmp0 :isSolid:result
+  383 label *label360
+  384 label *label361
+  385 label *label362
+  386 op sub :createTerrainMask:r :createTerrainMask:r 1
+  387 op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  388 label *label363
+  389 label *label364
+  390 op shl *tmp0 :createTerrainMask:result 1
+  391 op add *tmp1 :createTerrainMask:x 3
+  392 ucontrol getBlock *tmp1 *tmp2 type building floor
+  393 sensor solid type @solid
+  394 select :isSolid:result notEqual solid false 1 0
+  395 label *label365
+  396 op or :createTerrainMask:result *tmp0 :isSolid:result
+  397 label *label366
+  398 op shl *tmp0 :createTerrainMask:result 1
+  399 op add *tmp1 :createTerrainMask:x 2
+  400 ucontrol getBlock *tmp1 *tmp2 type building floor
+  401 sensor solid type @solid
+  402 select :isSolid:result notEqual solid false 1 0
+  403 label *label367
+  404 op or :createTerrainMask:result *tmp0 :isSolid:result
+  405 label *label368
+  406 op shl *tmp0 :createTerrainMask:result 1
+  407 op add *tmp1 :createTerrainMask:x 1
+  408 ucontrol getBlock *tmp1 *tmp2 type building floor
+  409 sensor solid type @solid
+  410 select :isSolid:result notEqual solid false 1 0
+  411 label *label369
+  412 op or :createTerrainMask:result *tmp0 :isSolid:result
+  413 label *label370
+  414 op shl *tmp0 :createTerrainMask:result 1
+  415 op add *tmp1 :createTerrainMask:x 0
+  416 ucontrol getBlock *tmp1 *tmp2 type building floor
+  417 sensor solid type @solid
+  418 select :isSolid:result notEqual solid false 1 0
+  419 label *label371
+  420 op or :createTerrainMask:result *tmp0 :isSolid:result
+  421 label *label372
+  422 op shl *tmp0 :createTerrainMask:result 1
+  423 op add *tmp1 :createTerrainMask:x -1
+  424 ucontrol getBlock *tmp1 *tmp2 type building floor
+  425 sensor solid type @solid
+  426 select :isSolid:result notEqual solid false 1 0
+  427 label *label373
+  428 op or :createTerrainMask:result *tmp0 :isSolid:result
+  429 label *label374
+  430 op shl *tmp0 :createTerrainMask:result 1
+  431 op add *tmp1 :createTerrainMask:x -2
+  432 ucontrol getBlock *tmp1 *tmp2 type building floor
+  433 sensor solid type @solid
+  434 select :isSolid:result notEqual solid false 1 0
+  435 label *label375
+  436 op or :createTerrainMask:result *tmp0 :isSolid:result
+  437 label *label376
+  438 op shl *tmp0 :createTerrainMask:result 1
+  439 op add *tmp1 :createTerrainMask:x -3
+  440 ucontrol getBlock *tmp1 *tmp2 type building floor
+  441 sensor solid type @solid
+  442 select :isSolid:result notEqual solid false 1 0
+  443 label *label377
+  444 op or :createTerrainMask:result *tmp0 :isSolid:result
+  445 label *label378
+  446 label *label379
+  447 label *label380
+  448 op sub :createTerrainMask:r :createTerrainMask:r 1
+  449 label *label9
   450 set :createTerrainMask*retval :createTerrainMask:result
   451 jump *label6 always
   452 label *label6

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 1:
 
    12 set :createTerrainMask:r 3
    13 label *label253
    14 label *label254
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+   15 op add *tmp2 :createTerrainMask:y 3
    16 label *label255
    17 label *label256
-    * op shl *tmp0 :createTerrainMask:result 1
+   18 op shl *tmp0 0 1
    19 op add *tmp1 :createTerrainMask:x 3
    20 ucontrol getBlock *tmp1 *tmp2 type building floor
    21 sensor solid type @solid
    22 select :isSolid:result notEqual solid false 1 0
    23 label *label257
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
+   24 op or :createTerrainMask:result 0 :isSolid:result
    25 label *label258
    26 op shl *tmp0 :createTerrainMask:result 1
    27 op add *tmp1 :createTerrainMask:x 2
 
    73 label *label270
    74 label *label271
    75 label *label272
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+   76 op sub :createTerrainMask:r 3 1
+   77 op add *tmp2 :createTerrainMask:y 2
    78 label *label273
    79 label *label274
    80 op shl *tmp0 :createTerrainMask:result 1
 
   135 label *label288
   136 label *label289
   137 label *label290
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  138 op sub :createTerrainMask:r 2 1
+  139 op add *tmp2 :createTerrainMask:y 1
   140 label *label291
   141 label *label292
   142 op shl *tmp0 :createTerrainMask:result 1
 
   197 label *label306
   198 label *label307
   199 label *label308
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  200 op sub :createTerrainMask:r 1 1
+  201 op add *tmp2 :createTerrainMask:y 0
   202 label *label309
   203 label *label310
   204 op shl *tmp0 :createTerrainMask:result 1
 
   259 label *label324
   260 label *label325
   261 label *label326
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  262 op sub :createTerrainMask:r 0 1
+  263 op add *tmp2 :createTerrainMask:y -1
   264 label *label327
   265 label *label328
   266 op shl *tmp0 :createTerrainMask:result 1
 
   321 label *label342
   322 label *label343
   323 label *label344
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  324 op sub :createTerrainMask:r -1 1
+  325 op add *tmp2 :createTerrainMask:y -2
   326 label *label345
   327 label *label346
   328 op shl *tmp0 :createTerrainMask:result 1
 
   383 label *label360
   384 label *label361
   385 label *label362
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
-    * op add *tmp2 :createTerrainMask:y :createTerrainMask:r
+  386 op sub :createTerrainMask:r -2 1
+  387 op add *tmp2 :createTerrainMask:y -3
   388 label *label363
   389 label *label364
   390 op shl *tmp0 :createTerrainMask:result 1
 
   445 label *label378
   446 label *label379
   447 label *label380
-    * op sub :createTerrainMask:r :createTerrainMask:r 1
+  448 op sub :createTerrainMask:r -3 1
   449 label *label9
   450 set :createTerrainMask*retval :createTerrainMask:result
   451 jump *label6 always

Modifications by Iterated phase, Data Flow Optimization, pass 1, iteration 2 (-10 instructions):
 
     8 end
     9 label *label0
    10 ubind :createTerrainMask:unit
-    * set :createTerrainMask:result 0
-    * set :createTerrainMask:r 3
    11 label *label253
    12 label *label254
    13 op add *tmp2 :createTerrainMask:y 3
    14 label *label255
    15 label *label256
-    * op shl *tmp0 0 1
    16 op add *tmp1 :createTerrainMask:x 3
    17 ucontrol getBlock *tmp1 *tmp2 type building floor
    18 sensor solid type @solid
 
    70 label *label270
    71 label *label271
    72 label *label272
-    * op sub :createTerrainMask:r 3 1
    73 op add *tmp2 :createTerrainMask:y 2
    74 label *label273
    75 label *label274
 
   131 label *label288
   132 label *label289
   133 label *label290
-    * op sub :createTerrainMask:r 2 1
   134 op add *tmp2 :createTerrainMask:y 1
   135 label *label291
   136 label *label292
 
   192 label *label306
   193 label *label307
   194 label *label308
-    * op sub :createTerrainMask:r 1 1
   195 op add *tmp2 :createTerrainMask:y 0
   196 label *label309
   197 label *label310
 
   253 label *label324
   254 label *label325
   255 label *label326
-    * op sub :createTerrainMask:r 0 1
   256 op add *tmp2 :createTerrainMask:y -1
   257 label *label327
   258 label *label328
 
   314 label *label342
   315 label *label343
   316 label *label344
-    * op sub :createTerrainMask:r -1 1
   317 op add *tmp2 :createTerrainMask:y -2
   318 label *label345
   319 label *label346
 
   375 label *label360
   376 label *label361
   377 label *label362
-    * op sub :createTerrainMask:r -2 1
   378 op add *tmp2 :createTerrainMask:y -3
   379 label *label363
   380 label *label364
 
   436 label *label378
   437 label *label379
   438 label *label380
-    * op sub :createTerrainMask:r -3 1
   439 label *label9
   440 set :createTerrainMask*retval :createTerrainMask:result
   441 jump *label6 always

Modifications by Iterated phase, Single Step Elimination, pass 2, iteration 1 (-23 instructions):
 
   438 label *label380
   439 label *label9
   440 set :createTerrainMask*retval :createTerrainMask:result
-    * jump *label6 always
   441 label *label6
   442 set :createTerrainMask*finished true
   443 jump *label5 always
 
   480 op add *tmp21 :tileValue.2:result :tileValue.3:result
   481 op add *tmp22 :tileValue.3:result :tileValue.4:result
   482 packcolor *tmp6 *tmp19 *tmp20 *tmp21 *tmp22
-    * jump *label15 always
   483 jump *label22 always
   484 label *label21
   485 jump *label23 notEqual :findBestPosition:size 3
 
   489 op add *tmp30 :tileValue.2:result :tileValue.3:result
   490 op add *tmp31 *tmp30 :tileValue.4:result
   491 packcolor *tmp6 *tmp27 *tmp29 *tmp31 0
-    * jump *label15 always
   492 jump *label24 always
   493 label *label23
   494 op sub :tileValue.5:x :findBestPosition:x 3
 
   516 op add *tmp51 *tmp46 :tileValue.6:result
   517 op min *tmp52 0.09803921568627451 *tmp51
   518 packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52
-    * jump *label15 always
   519 label *label24
   520 label *label22
   521 label *label15
 
   551 op add *tmp70 :tileValue.9:result :tileValue.10:result
   552 op add *tmp71 :tileValue.10:result :tileValue.11:result
   553 packcolor *tmp55 *tmp68 *tmp69 *tmp70 *tmp71
-    * jump *label27 always
   554 jump *label34 always
   555 label *label33
   556 jump *label35 notEqual :findBestPosition:size 3
 
   560 op add *tmp79 :tileValue.9:result :tileValue.10:result
   561 op add *tmp80 *tmp79 :tileValue.11:result
   562 packcolor *tmp55 *tmp76 *tmp78 *tmp80 0
-    * jump *label27 always
   563 jump *label36 always
   564 label *label35
   565 op sub :tileValue.12:x :findBestPosition:x 3
 
   587 op add *tmp100 *tmp95 :tileValue.13:result
   588 op min *tmp101 0.09803921568627451 *tmp100
   589 packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101
-    * jump *label27 always
   590 label *label36
   591 label *label34
   592 label *label27
 
   621 op add *tmp119 :tileValue.16:result :tileValue.17:result
   622 op add *tmp120 :tileValue.17:result :tileValue.18:result
   623 packcolor *tmp104 *tmp117 *tmp118 *tmp119 *tmp120
-    * jump *label39 always
   624 jump *label46 always
   625 label *label45
   626 jump *label47 notEqual :findBestPosition:size 3
 
   630 op add *tmp128 :tileValue.16:result :tileValue.17:result
   631 op add *tmp129 *tmp128 :tileValue.18:result
   632 packcolor *tmp104 *tmp125 *tmp127 *tmp129 0
-    * jump *label39 always
   633 jump *label48 always
   634 label *label47
   635 op sub :tileValue.19:x :findBestPosition:x 3
 
   657 op add *tmp149 *tmp144 :tileValue.20:result
   658 op min *tmp150 0.09803921568627451 *tmp149
   659 packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150
-    * jump *label39 always
   660 label *label48
   661 label *label46
   662 label *label39
 
   692 op add *tmp168 :tileValue.23:result :tileValue.24:result
   693 op add *tmp169 :tileValue.24:result :tileValue.25:result
   694 packcolor *tmp153 *tmp166 *tmp167 *tmp168 *tmp169
-    * jump *label51 always
   695 jump *label58 always
   696 label *label57
   697 jump *label59 notEqual :findBestPosition:size 3
 
   701 op add *tmp177 :tileValue.23:result :tileValue.24:result
   702 op add *tmp178 *tmp177 :tileValue.25:result
   703 packcolor *tmp153 *tmp174 *tmp176 *tmp178 0
-    * jump *label51 always
   704 jump *label60 always
   705 label *label59
   706 op sub :tileValue.26:x :findBestPosition:x 3
 
   728 op add *tmp198 *tmp193 :tileValue.27:result
   729 op min *tmp199 0.09803921568627451 *tmp198
   730 packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199
-    * jump *label51 always
   731 label *label60
   732 label *label58
   733 label *label51
 
   763 op add *tmp217 :tileValue.30:result :tileValue.31:result
   764 op add *tmp218 :tileValue.31:result :tileValue.32:result
   765 packcolor *tmp202 *tmp215 *tmp216 *tmp217 *tmp218
-    * jump *label63 always
   766 jump *label70 always
   767 label *label69
   768 jump *label71 notEqual :findBestPosition:size 3
 
   772 op add *tmp226 :tileValue.30:result :tileValue.31:result
   773 op add *tmp227 *tmp226 :tileValue.32:result
   774 packcolor *tmp202 *tmp223 *tmp225 *tmp227 0
-    * jump *label63 always
   775 jump *label72 always
   776 label *label71
   777 op sub :tileValue.33:x :findBestPosition:x 3
 
   799 op add *tmp247 *tmp242 :tileValue.34:result
   800 op min *tmp248 0.09803921568627451 *tmp247
   801 packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248
-    * jump *label63 always
   802 label *label72
   803 label *label70
   804 label *label63
 
   948 op add *tmp319 :tileValue.37:result :tileValue.38:result
   949 op add *tmp320 :tileValue.38:result :tileValue.39:result
   950 packcolor *tmp304 *tmp317 *tmp318 *tmp319 *tmp320
-    * jump *label127 always
   951 jump *label134 always
   952 label *label133
   953 jump *label135 notEqual :findBestPosition:size 3
 
   957 op add *tmp328 :tileValue.37:result :tileValue.38:result
   958 op add *tmp329 *tmp328 :tileValue.39:result
   959 packcolor *tmp304 *tmp325 *tmp327 *tmp329 0
-    * jump *label127 always
   960 jump *label136 always
   961 label *label135
   962 op sub :tileValue.40:x :findBestPosition:x 3
 
   984 op add *tmp349 *tmp344 :tileValue.41:result
   985 op min *tmp350 0.09803921568627451 *tmp349
   986 packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350
-    * jump *label127 always
   987 label *label136
   988 label *label134
   989 label *label127
 
  1019 op add *tmp368 :tileValue.44:result :tileValue.45:result
  1020 op add *tmp369 :tileValue.45:result :tileValue.46:result
  1021 packcolor *tmp353 *tmp366 *tmp367 *tmp368 *tmp369
-    * jump *label139 always
  1022 jump *label146 always
  1023 label *label145
  1024 jump *label147 notEqual :findBestPosition:size 3
 
  1028 op add *tmp377 :tileValue.44:result :tileValue.45:result
  1029 op add *tmp378 *tmp377 :tileValue.46:result
  1030 packcolor *tmp353 *tmp374 *tmp376 *tmp378 0
-    * jump *label139 always
  1031 jump *label148 always
  1032 label *label147
  1033 op sub :tileValue.47:x :findBestPosition:x 3
 
  1055 op add *tmp398 *tmp393 :tileValue.48:result
  1056 op min *tmp399 0.09803921568627451 *tmp398
  1057 packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399
-    * jump *label139 always
  1058 label *label148
  1059 label *label146
  1060 label *label139
 
  1237 label *label214
  1238 label *label76
  1239 op mul :findBestPosition*retval :findBestPosition:best 255
-    * jump *label14 always
  1240 label *label14
  1241 set :findBestPosition*finished true
  1242 jump *label5 always

Modifications by Iterated phase, Expression Optimization, pass 2, iteration 1:
 
    18 sensor solid type @solid
    19 select :isSolid:result notEqual solid false 1 0
    20 label *label257
-    * op or :createTerrainMask:result 0 :isSolid:result
+   21 set :createTerrainMask:result :isSolid:result
    22 label *label258
    23 op shl *tmp0 :createTerrainMask:result 1
    24 op add *tmp1 :createTerrainMask:x 2
 
    37 op or :createTerrainMask:result *tmp0 :isSolid:result
    38 label *label262
    39 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+   40 set *tmp1 :createTerrainMask:x
    41 ucontrol getBlock *tmp1 *tmp2 type building floor
    42 sensor solid type @solid
    43 select :isSolid:result notEqual solid false 1 0
 
    98 op or :createTerrainMask:result *tmp0 :isSolid:result
    99 label *label280
   100 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+  101 set *tmp1 :createTerrainMask:x
   102 ucontrol getBlock *tmp1 *tmp2 type building floor
   103 sensor solid type @solid
   104 select :isSolid:result notEqual solid false 1 0
 
   159 op or :createTerrainMask:result *tmp0 :isSolid:result
   160 label *label298
   161 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+  162 set *tmp1 :createTerrainMask:x
   163 ucontrol getBlock *tmp1 *tmp2 type building floor
   164 sensor solid type @solid
   165 select :isSolid:result notEqual solid false 1 0
 
   192 label *label306
   193 label *label307
   194 label *label308
-    * op add *tmp2 :createTerrainMask:y 0
+  195 set *tmp2 :createTerrainMask:y
   196 label *label309
   197 label *label310
   198 op shl *tmp0 :createTerrainMask:result 1
 
   220 op or :createTerrainMask:result *tmp0 :isSolid:result
   221 label *label316
   222 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+  223 set *tmp1 :createTerrainMask:x
   224 ucontrol getBlock *tmp1 *tmp2 type building floor
   225 sensor solid type @solid
   226 select :isSolid:result notEqual solid false 1 0
 
   281 op or :createTerrainMask:result *tmp0 :isSolid:result
   282 label *label334
   283 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+  284 set *tmp1 :createTerrainMask:x
   285 ucontrol getBlock *tmp1 *tmp2 type building floor
   286 sensor solid type @solid
   287 select :isSolid:result notEqual solid false 1 0
 
   342 op or :createTerrainMask:result *tmp0 :isSolid:result
   343 label *label352
   344 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+  345 set *tmp1 :createTerrainMask:x
   346 ucontrol getBlock *tmp1 *tmp2 type building floor
   347 sensor solid type @solid
   348 select :isSolid:result notEqual solid false 1 0
 
   403 op or :createTerrainMask:result *tmp0 :isSolid:result
   404 label *label370
   405 op shl *tmp0 :createTerrainMask:result 1
-    * op add *tmp1 :createTerrainMask:x 0
+  406 set *tmp1 :createTerrainMask:x
   407 ucontrol getBlock *tmp1 *tmp2 type building floor
   408 sensor solid type @solid
   409 select :isSolid:result notEqual solid false 1 0

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 1 (-2 instructions):
 
    16 op add *tmp1 :createTerrainMask:x 3
    17 ucontrol getBlock *tmp1 *tmp2 type building floor
    18 sensor solid type @solid
-    * select :isSolid:result notEqual solid false 1 0
+   19 select :createTerrainMask:result notEqual solid false 1 0
    20 label *label257
-    * set :createTerrainMask:result :isSolid:result
    21 label *label258
    22 op shl *tmp0 :createTerrainMask:result 1
    23 op add *tmp1 :createTerrainMask:x 2
 
   431 sensor solid type @solid
   432 select :isSolid:result notEqual solid false 1 0
   433 label *label377
-    * op or :createTerrainMask:result *tmp0 :isSolid:result
+  434 op or :createTerrainMask*retval *tmp0 :isSolid:result
   435 label *label378
   436 label *label379
   437 label *label380
   438 label *label9
-    * set :createTerrainMask*retval :createTerrainMask:result
   439 label *label6
   440 set :createTerrainMask*finished true
   441 jump *label5 always

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 2:
 
    37 label *label262
    38 op shl *tmp0 :createTerrainMask:result 1
    39 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+   40 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
    41 sensor solid type @solid
    42 select :isSolid:result notEqual solid false 1 0
    43 label *label263
 
    98 label *label280
    99 op shl *tmp0 :createTerrainMask:result 1
   100 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  101 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   102 sensor solid type @solid
   103 select :isSolid:result notEqual solid false 1 0
   104 label *label281
 
   159 label *label298
   160 op shl *tmp0 :createTerrainMask:result 1
   161 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  162 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   163 sensor solid type @solid
   164 select :isSolid:result notEqual solid false 1 0
   165 label *label299
 
   196 label *label310
   197 op shl *tmp0 :createTerrainMask:result 1
   198 op add *tmp1 :createTerrainMask:x 3
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  199 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   200 sensor solid type @solid
   201 select :isSolid:result notEqual solid false 1 0
   202 label *label311
 
   204 label *label312
   205 op shl *tmp0 :createTerrainMask:result 1
   206 op add *tmp1 :createTerrainMask:x 2
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  207 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   208 sensor solid type @solid
   209 select :isSolid:result notEqual solid false 1 0
   210 label *label313
 
   212 label *label314
   213 op shl *tmp0 :createTerrainMask:result 1
   214 op add *tmp1 :createTerrainMask:x 1
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  215 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   216 sensor solid type @solid
   217 select :isSolid:result notEqual solid false 1 0
   218 label *label315
 
   220 label *label316
   221 op shl *tmp0 :createTerrainMask:result 1
   222 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  223 ucontrol getBlock :createTerrainMask:x :createTerrainMask:y type building floor
   224 sensor solid type @solid
   225 select :isSolid:result notEqual solid false 1 0
   226 label *label317
 
   228 label *label318
   229 op shl *tmp0 :createTerrainMask:result 1
   230 op add *tmp1 :createTerrainMask:x -1
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  231 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   232 sensor solid type @solid
   233 select :isSolid:result notEqual solid false 1 0
   234 label *label319
 
   236 label *label320
   237 op shl *tmp0 :createTerrainMask:result 1
   238 op add *tmp1 :createTerrainMask:x -2
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  239 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   240 sensor solid type @solid
   241 select :isSolid:result notEqual solid false 1 0
   242 label *label321
 
   244 label *label322
   245 op shl *tmp0 :createTerrainMask:result 1
   246 op add *tmp1 :createTerrainMask:x -3
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  247 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   248 sensor solid type @solid
   249 select :isSolid:result notEqual solid false 1 0
   250 label *label323
 
   281 label *label334
   282 op shl *tmp0 :createTerrainMask:result 1
   283 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  284 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   285 sensor solid type @solid
   286 select :isSolid:result notEqual solid false 1 0
   287 label *label335
 
   342 label *label352
   343 op shl *tmp0 :createTerrainMask:result 1
   344 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  345 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   346 sensor solid type @solid
   347 select :isSolid:result notEqual solid false 1 0
   348 label *label353
 
   403 label *label370
   404 op shl *tmp0 :createTerrainMask:result 1
   405 set *tmp1 :createTerrainMask:x
-    * ucontrol getBlock *tmp1 *tmp2 type building floor
+  406 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   407 sensor solid type @solid
   408 select :isSolid:result notEqual solid false 1 0
   409 label *label371

Modifications by Iterated phase, Data Flow Optimization, pass 2, iteration 3 (-8 instructions):
 
    36 op or :createTerrainMask:result *tmp0 :isSolid:result
    37 label *label262
    38 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
    39 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
    40 sensor solid type @solid
    41 select :isSolid:result notEqual solid false 1 0
 
    96 op or :createTerrainMask:result *tmp0 :isSolid:result
    97 label *label280
    98 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
    99 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   100 sensor solid type @solid
   101 select :isSolid:result notEqual solid false 1 0
 
   156 op or :createTerrainMask:result *tmp0 :isSolid:result
   157 label *label298
   158 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
   159 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   160 sensor solid type @solid
   161 select :isSolid:result notEqual solid false 1 0
 
   188 label *label306
   189 label *label307
   190 label *label308
-    * set *tmp2 :createTerrainMask:y
   191 label *label309
   192 label *label310
   193 op shl *tmp0 :createTerrainMask:result 1
 
   215 op or :createTerrainMask:result *tmp0 :isSolid:result
   216 label *label316
   217 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
   218 ucontrol getBlock :createTerrainMask:x :createTerrainMask:y type building floor
   219 sensor solid type @solid
   220 select :isSolid:result notEqual solid false 1 0
 
   275 op or :createTerrainMask:result *tmp0 :isSolid:result
   276 label *label334
   277 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
   278 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   279 sensor solid type @solid
   280 select :isSolid:result notEqual solid false 1 0
 
   335 op or :createTerrainMask:result *tmp0 :isSolid:result
   336 label *label352
   337 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
   338 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   339 sensor solid type @solid
   340 select :isSolid:result notEqual solid false 1 0
 
   395 op or :createTerrainMask:result *tmp0 :isSolid:result
   396 label *label370
   397 op shl *tmp0 :createTerrainMask:result 1
-    * set *tmp1 :createTerrainMask:x
   398 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   399 sensor solid type @solid
   400 select :isSolid:result notEqual solid false 1 0

Modifications by Jumps phase, Unreachable Code Elimination, pass 4, iteration 1 (-3 instructions):
 
     5 label *label5
     6 wait 1e12
     7 jump *label5 always
-    * end
     8 label *label0
     9 ubind :createTerrainMask:unit
-    * label *label253
-    * label *label254
    10 op add *tmp2 :createTerrainMask:y 3
-    * label *label255
-    * label *label256
    11 op add *tmp1 :createTerrainMask:x 3
    12 ucontrol getBlock *tmp1 *tmp2 type building floor
    13 sensor solid type @solid
    14 select :createTerrainMask:result notEqual solid false 1 0
-    * label *label257
-    * label *label258
    15 op shl *tmp0 :createTerrainMask:result 1
    16 op add *tmp1 :createTerrainMask:x 2
    17 ucontrol getBlock *tmp1 *tmp2 type building floor
    18 sensor solid type @solid
    19 select :isSolid:result notEqual solid false 1 0
-    * label *label259
    20 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label260
    21 op shl *tmp0 :createTerrainMask:result 1
    22 op add *tmp1 :createTerrainMask:x 1
    23 ucontrol getBlock *tmp1 *tmp2 type building floor
    24 sensor solid type @solid
    25 select :isSolid:result notEqual solid false 1 0
-    * label *label261
    26 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label262
    27 op shl *tmp0 :createTerrainMask:result 1
    28 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
    29 sensor solid type @solid
    30 select :isSolid:result notEqual solid false 1 0
-    * label *label263
    31 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label264
    32 op shl *tmp0 :createTerrainMask:result 1
    33 op add *tmp1 :createTerrainMask:x -1
    34 ucontrol getBlock *tmp1 *tmp2 type building floor
    35 sensor solid type @solid
    36 select :isSolid:result notEqual solid false 1 0
-    * label *label265
    37 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label266
    38 op shl *tmp0 :createTerrainMask:result 1
    39 op add *tmp1 :createTerrainMask:x -2
    40 ucontrol getBlock *tmp1 *tmp2 type building floor
    41 sensor solid type @solid
    42 select :isSolid:result notEqual solid false 1 0
-    * label *label267
    43 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label268
    44 op shl *tmp0 :createTerrainMask:result 1
    45 op add *tmp1 :createTerrainMask:x -3
    46 ucontrol getBlock *tmp1 *tmp2 type building floor
    47 sensor solid type @solid
    48 select :isSolid:result notEqual solid false 1 0
-    * label *label269
    49 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label270
-    * label *label271
-    * label *label272
    50 op add *tmp2 :createTerrainMask:y 2
-    * label *label273
-    * label *label274
    51 op shl *tmp0 :createTerrainMask:result 1
    52 op add *tmp1 :createTerrainMask:x 3
    53 ucontrol getBlock *tmp1 *tmp2 type building floor
    54 sensor solid type @solid
    55 select :isSolid:result notEqual solid false 1 0
-    * label *label275
    56 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label276
    57 op shl *tmp0 :createTerrainMask:result 1
    58 op add *tmp1 :createTerrainMask:x 2
    59 ucontrol getBlock *tmp1 *tmp2 type building floor
    60 sensor solid type @solid
    61 select :isSolid:result notEqual solid false 1 0
-    * label *label277
    62 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label278
    63 op shl *tmp0 :createTerrainMask:result 1
    64 op add *tmp1 :createTerrainMask:x 1
    65 ucontrol getBlock *tmp1 *tmp2 type building floor
    66 sensor solid type @solid
    67 select :isSolid:result notEqual solid false 1 0
-    * label *label279
    68 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label280
    69 op shl *tmp0 :createTerrainMask:result 1
    70 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
    71 sensor solid type @solid
    72 select :isSolid:result notEqual solid false 1 0
-    * label *label281
    73 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label282
    74 op shl *tmp0 :createTerrainMask:result 1
    75 op add *tmp1 :createTerrainMask:x -1
    76 ucontrol getBlock *tmp1 *tmp2 type building floor
    77 sensor solid type @solid
    78 select :isSolid:result notEqual solid false 1 0
-    * label *label283
    79 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label284
    80 op shl *tmp0 :createTerrainMask:result 1
    81 op add *tmp1 :createTerrainMask:x -2
    82 ucontrol getBlock *tmp1 *tmp2 type building floor
    83 sensor solid type @solid
    84 select :isSolid:result notEqual solid false 1 0
-    * label *label285
    85 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label286
    86 op shl *tmp0 :createTerrainMask:result 1
    87 op add *tmp1 :createTerrainMask:x -3
    88 ucontrol getBlock *tmp1 *tmp2 type building floor
    89 sensor solid type @solid
    90 select :isSolid:result notEqual solid false 1 0
-    * label *label287
    91 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label288
-    * label *label289
-    * label *label290
    92 op add *tmp2 :createTerrainMask:y 1
-    * label *label291
-    * label *label292
    93 op shl *tmp0 :createTerrainMask:result 1
    94 op add *tmp1 :createTerrainMask:x 3
    95 ucontrol getBlock *tmp1 *tmp2 type building floor
    96 sensor solid type @solid
    97 select :isSolid:result notEqual solid false 1 0
-    * label *label293
    98 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label294
    99 op shl *tmp0 :createTerrainMask:result 1
   100 op add *tmp1 :createTerrainMask:x 2
   101 ucontrol getBlock *tmp1 *tmp2 type building floor
   102 sensor solid type @solid
   103 select :isSolid:result notEqual solid false 1 0
-    * label *label295
   104 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label296
   105 op shl *tmp0 :createTerrainMask:result 1
   106 op add *tmp1 :createTerrainMask:x 1
   107 ucontrol getBlock *tmp1 *tmp2 type building floor
   108 sensor solid type @solid
   109 select :isSolid:result notEqual solid false 1 0
-    * label *label297
   110 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label298
   111 op shl *tmp0 :createTerrainMask:result 1
   112 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   113 sensor solid type @solid
   114 select :isSolid:result notEqual solid false 1 0
-    * label *label299
   115 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label300
   116 op shl *tmp0 :createTerrainMask:result 1
   117 op add *tmp1 :createTerrainMask:x -1
   118 ucontrol getBlock *tmp1 *tmp2 type building floor
   119 sensor solid type @solid
   120 select :isSolid:result notEqual solid false 1 0
-    * label *label301
   121 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label302
   122 op shl *tmp0 :createTerrainMask:result 1
   123 op add *tmp1 :createTerrainMask:x -2
   124 ucontrol getBlock *tmp1 *tmp2 type building floor
   125 sensor solid type @solid
   126 select :isSolid:result notEqual solid false 1 0
-    * label *label303
   127 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label304
   128 op shl *tmp0 :createTerrainMask:result 1
   129 op add *tmp1 :createTerrainMask:x -3
   130 ucontrol getBlock *tmp1 *tmp2 type building floor
   131 sensor solid type @solid
   132 select :isSolid:result notEqual solid false 1 0
-    * label *label305
   133 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label306
-    * label *label307
-    * label *label308
-    * label *label309
-    * label *label310
   134 op shl *tmp0 :createTerrainMask:result 1
   135 op add *tmp1 :createTerrainMask:x 3
   136 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   137 sensor solid type @solid
   138 select :isSolid:result notEqual solid false 1 0
-    * label *label311
   139 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label312
   140 op shl *tmp0 :createTerrainMask:result 1
   141 op add *tmp1 :createTerrainMask:x 2
   142 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   143 sensor solid type @solid
   144 select :isSolid:result notEqual solid false 1 0
-    * label *label313
   145 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label314
   146 op shl *tmp0 :createTerrainMask:result 1
   147 op add *tmp1 :createTerrainMask:x 1
   148 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   149 sensor solid type @solid
   150 select :isSolid:result notEqual solid false 1 0
-    * label *label315
   151 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label316
   152 op shl *tmp0 :createTerrainMask:result 1
   153 ucontrol getBlock :createTerrainMask:x :createTerrainMask:y type building floor
   154 sensor solid type @solid
   155 select :isSolid:result notEqual solid false 1 0
-    * label *label317
   156 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label318
   157 op shl *tmp0 :createTerrainMask:result 1
   158 op add *tmp1 :createTerrainMask:x -1
   159 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   160 sensor solid type @solid
   161 select :isSolid:result notEqual solid false 1 0
-    * label *label319
   162 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label320
   163 op shl *tmp0 :createTerrainMask:result 1
   164 op add *tmp1 :createTerrainMask:x -2
   165 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   166 sensor solid type @solid
   167 select :isSolid:result notEqual solid false 1 0
-    * label *label321
   168 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label322
   169 op shl *tmp0 :createTerrainMask:result 1
   170 op add *tmp1 :createTerrainMask:x -3
   171 ucontrol getBlock *tmp1 :createTerrainMask:y type building floor
   172 sensor solid type @solid
   173 select :isSolid:result notEqual solid false 1 0
-    * label *label323
   174 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label324
-    * label *label325
-    * label *label326
   175 op add *tmp2 :createTerrainMask:y -1
-    * label *label327
-    * label *label328
   176 op shl *tmp0 :createTerrainMask:result 1
   177 op add *tmp1 :createTerrainMask:x 3
   178 ucontrol getBlock *tmp1 *tmp2 type building floor
   179 sensor solid type @solid
   180 select :isSolid:result notEqual solid false 1 0
-    * label *label329
   181 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label330
   182 op shl *tmp0 :createTerrainMask:result 1
   183 op add *tmp1 :createTerrainMask:x 2
   184 ucontrol getBlock *tmp1 *tmp2 type building floor
   185 sensor solid type @solid
   186 select :isSolid:result notEqual solid false 1 0
-    * label *label331
   187 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label332
   188 op shl *tmp0 :createTerrainMask:result 1
   189 op add *tmp1 :createTerrainMask:x 1
   190 ucontrol getBlock *tmp1 *tmp2 type building floor
   191 sensor solid type @solid
   192 select :isSolid:result notEqual solid false 1 0
-    * label *label333
   193 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label334
   194 op shl *tmp0 :createTerrainMask:result 1
   195 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   196 sensor solid type @solid
   197 select :isSolid:result notEqual solid false 1 0
-    * label *label335
   198 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label336
   199 op shl *tmp0 :createTerrainMask:result 1
   200 op add *tmp1 :createTerrainMask:x -1
   201 ucontrol getBlock *tmp1 *tmp2 type building floor
   202 sensor solid type @solid
   203 select :isSolid:result notEqual solid false 1 0
-    * label *label337
   204 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label338
   205 op shl *tmp0 :createTerrainMask:result 1
   206 op add *tmp1 :createTerrainMask:x -2
   207 ucontrol getBlock *tmp1 *tmp2 type building floor
   208 sensor solid type @solid
   209 select :isSolid:result notEqual solid false 1 0
-    * label *label339
   210 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label340
   211 op shl *tmp0 :createTerrainMask:result 1
   212 op add *tmp1 :createTerrainMask:x -3
   213 ucontrol getBlock *tmp1 *tmp2 type building floor
   214 sensor solid type @solid
   215 select :isSolid:result notEqual solid false 1 0
-    * label *label341
   216 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label342
-    * label *label343
-    * label *label344
   217 op add *tmp2 :createTerrainMask:y -2
-    * label *label345
-    * label *label346
   218 op shl *tmp0 :createTerrainMask:result 1
   219 op add *tmp1 :createTerrainMask:x 3
   220 ucontrol getBlock *tmp1 *tmp2 type building floor
   221 sensor solid type @solid
   222 select :isSolid:result notEqual solid false 1 0
-    * label *label347
   223 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label348
   224 op shl *tmp0 :createTerrainMask:result 1
   225 op add *tmp1 :createTerrainMask:x 2
   226 ucontrol getBlock *tmp1 *tmp2 type building floor
   227 sensor solid type @solid
   228 select :isSolid:result notEqual solid false 1 0
-    * label *label349
   229 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label350
   230 op shl *tmp0 :createTerrainMask:result 1
   231 op add *tmp1 :createTerrainMask:x 1
   232 ucontrol getBlock *tmp1 *tmp2 type building floor
   233 sensor solid type @solid
   234 select :isSolid:result notEqual solid false 1 0
-    * label *label351
   235 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label352
   236 op shl *tmp0 :createTerrainMask:result 1
   237 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   238 sensor solid type @solid
   239 select :isSolid:result notEqual solid false 1 0
-    * label *label353
   240 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label354
   241 op shl *tmp0 :createTerrainMask:result 1
   242 op add *tmp1 :createTerrainMask:x -1
   243 ucontrol getBlock *tmp1 *tmp2 type building floor
   244 sensor solid type @solid
   245 select :isSolid:result notEqual solid false 1 0
-    * label *label355
   246 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label356
   247 op shl *tmp0 :createTerrainMask:result 1
   248 op add *tmp1 :createTerrainMask:x -2
   249 ucontrol getBlock *tmp1 *tmp2 type building floor
   250 sensor solid type @solid
   251 select :isSolid:result notEqual solid false 1 0
-    * label *label357
   252 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label358
   253 op shl *tmp0 :createTerrainMask:result 1
   254 op add *tmp1 :createTerrainMask:x -3
   255 ucontrol getBlock *tmp1 *tmp2 type building floor
   256 sensor solid type @solid
   257 select :isSolid:result notEqual solid false 1 0
-    * label *label359
   258 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label360
-    * label *label361
-    * label *label362
   259 op add *tmp2 :createTerrainMask:y -3
-    * label *label363
-    * label *label364
   260 op shl *tmp0 :createTerrainMask:result 1
   261 op add *tmp1 :createTerrainMask:x 3
   262 ucontrol getBlock *tmp1 *tmp2 type building floor
   263 sensor solid type @solid
   264 select :isSolid:result notEqual solid false 1 0
-    * label *label365
   265 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label366
   266 op shl *tmp0 :createTerrainMask:result 1
   267 op add *tmp1 :createTerrainMask:x 2
   268 ucontrol getBlock *tmp1 *tmp2 type building floor
   269 sensor solid type @solid
   270 select :isSolid:result notEqual solid false 1 0
-    * label *label367
   271 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label368
   272 op shl *tmp0 :createTerrainMask:result 1
   273 op add *tmp1 :createTerrainMask:x 1
   274 ucontrol getBlock *tmp1 *tmp2 type building floor
   275 sensor solid type @solid
   276 select :isSolid:result notEqual solid false 1 0
-    * label *label369
   277 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label370
   278 op shl *tmp0 :createTerrainMask:result 1
   279 ucontrol getBlock :createTerrainMask:x *tmp2 type building floor
   280 sensor solid type @solid
   281 select :isSolid:result notEqual solid false 1 0
-    * label *label371
   282 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label372
   283 op shl *tmp0 :createTerrainMask:result 1
   284 op add *tmp1 :createTerrainMask:x -1
   285 ucontrol getBlock *tmp1 *tmp2 type building floor
   286 sensor solid type @solid
   287 select :isSolid:result notEqual solid false 1 0
-    * label *label373
   288 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label374
   289 op shl *tmp0 :createTerrainMask:result 1
   290 op add *tmp1 :createTerrainMask:x -2
   291 ucontrol getBlock *tmp1 *tmp2 type building floor
   292 sensor solid type @solid
   293 select :isSolid:result notEqual solid false 1 0
-    * label *label375
   294 op or :createTerrainMask:result *tmp0 :isSolid:result
-    * label *label376
   295 op shl *tmp0 :createTerrainMask:result 1
   296 op add *tmp1 :createTerrainMask:x -3
   297 ucontrol getBlock *tmp1 *tmp2 type building floor
   298 sensor solid type @solid
   299 select :isSolid:result notEqual solid false 1 0
-    * label *label377
   300 op or :createTerrainMask*retval *tmp0 :isSolid:result
-    * label *label378
-    * label *label379
-    * label *label380
-    * label *label9
-    * label *label6
   301 set :createTerrainMask*finished true
   302 jump *label5 always
-    * end
   303 label *label2
   304 ubind :findBestPosition:unit
   305 op sub *tmp5 :findBestPosition:y 2
 
   308 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   309 sensor solid type @solid
   310 select :tileValue:result notEqual solid false 0.09803921568627451 value
-    * label *label16
   311 op sub :tileValue.1:x :findBestPosition:x 1
   312 ucontrol getBlock :tileValue.1:x *tmp5 type building floor
   313 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   314 sensor solid type @solid
   315 select :tileValue.1:result notEqual solid false 0.09803921568627451 value
-    * label *label17
   316 ucontrol getBlock :findBestPosition:x *tmp5 type building floor
   317 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   318 sensor solid type @solid
   319 select :tileValue.2:result notEqual solid false 0.09803921568627451 value
-    * label *label18
   320 op add :tileValue.3:x :findBestPosition:x 1
   321 ucontrol getBlock :tileValue.3:x *tmp5 type building floor
   322 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   323 sensor solid type @solid
   324 select :tileValue.3:result notEqual solid false 0.09803921568627451 value
-    * label *label19
   325 op add :tileValue.4:x :findBestPosition:x 2
   326 ucontrol getBlock :tileValue.4:x *tmp5 type building floor
   327 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   328 sensor solid type @solid
   329 select :tileValue.4:result notEqual solid false 0.09803921568627451 value
-    * label *label20
   330 jump *label21 notEqual :findBestPosition:size 2
   331 op add *tmp19 :tileValue:result :tileValue.1:result
   332 op add *tmp20 :tileValue.1:result :tileValue.2:result
 
   349 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   350 sensor solid type @solid
   351 select :tileValue.5:result notEqual solid false 0.09803921568627451 value
-    * label *label25
   352 op add :tileValue.6:x :findBestPosition:x 3
   353 ucontrol getBlock :tileValue.6:x *tmp5 type building floor
   354 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   355 sensor solid type @solid
   356 select :tileValue.6:result notEqual solid false 0.09803921568627451 value
-    * label *label26
   357 op add *tmp37 :tileValue:result :tileValue.1:result
   358 op add *tmp38 *tmp37 :tileValue.2:result
   359 op add *tmp39 :tileValue.5:result *tmp38
 
   369 packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52
   370 label *label24
   371 label *label22
-    * label *label15
   372 op sub *tmp54 :findBestPosition:y 1
   373 ucontrol getBlock :tileValue:x *tmp54 type building floor
   374 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   375 sensor solid type @solid
   376 select :tileValue.7:result notEqual solid false 0.09803921568627451 value
-    * label *label28
   377 ucontrol getBlock :tileValue.1:x *tmp54 type building floor
   378 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   379 sensor solid type @solid
   380 select :tileValue.8:result notEqual solid false 0.09803921568627451 value
-    * label *label29
   381 ucontrol getBlock :findBestPosition:x *tmp54 type building floor
   382 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   383 sensor solid type @solid
   384 select :tileValue.9:result notEqual solid false 0.09803921568627451 value
-    * label *label30
   385 ucontrol getBlock :tileValue.3:x *tmp54 type building floor
   386 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   387 sensor solid type @solid
   388 select :tileValue.10:result notEqual solid false 0.09803921568627451 value
-    * label *label31
   389 ucontrol getBlock :tileValue.4:x *tmp54 type building floor
   390 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   391 sensor solid type @solid
   392 select :tileValue.11:result notEqual solid false 0.09803921568627451 value
-    * label *label32
   393 jump *label33 notEqual :findBestPosition:size 2
   394 op add *tmp68 :tileValue.7:result :tileValue.8:result
   395 op add *tmp69 :tileValue.8:result :tileValue.9:result
 
   412 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   413 sensor solid type @solid
   414 select :tileValue.12:result notEqual solid false 0.09803921568627451 value
-    * label *label37
   415 op add :tileValue.13:x :findBestPosition:x 3
   416 ucontrol getBlock :tileValue.13:x *tmp54 type building floor
   417 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   418 sensor solid type @solid
   419 select :tileValue.13:result notEqual solid false 0.09803921568627451 value
-    * label *label38
   420 op add *tmp86 :tileValue.7:result :tileValue.8:result
   421 op add *tmp87 *tmp86 :tileValue.9:result
   422 op add *tmp88 :tileValue.12:result *tmp87
 
   432 packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101
   433 label *label36
   434 label *label34
-    * label *label27
   435 ucontrol getBlock :tileValue:x :findBestPosition:y type building floor
   436 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   437 sensor solid type @solid
   438 select :tileValue.14:result notEqual solid false 0.09803921568627451 value
-    * label *label40
   439 ucontrol getBlock :tileValue.1:x :findBestPosition:y type building floor
   440 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   441 sensor solid type @solid
   442 select :tileValue.15:result notEqual solid false 0.09803921568627451 value
-    * label *label41
   443 ucontrol getBlock :findBestPosition:x :findBestPosition:y type building floor
   444 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   445 sensor solid type @solid
   446 select :tileValue.16:result notEqual solid false 0.09803921568627451 value
-    * label *label42
   447 ucontrol getBlock :tileValue.3:x :findBestPosition:y type building floor
   448 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   449 sensor solid type @solid
   450 select :tileValue.17:result notEqual solid false 0.09803921568627451 value
-    * label *label43
   451 ucontrol getBlock :tileValue.4:x :findBestPosition:y type building floor
   452 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   453 sensor solid type @solid
   454 select :tileValue.18:result notEqual solid false 0.09803921568627451 value
-    * label *label44
   455 jump *label45 notEqual :findBestPosition:size 2
   456 op add *tmp117 :tileValue.14:result :tileValue.15:result
   457 op add *tmp118 :tileValue.15:result :tileValue.16:result
 
   474 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   475 sensor solid type @solid
   476 select :tileValue.19:result notEqual solid false 0.09803921568627451 value
-    * label *label49
   477 op add :tileValue.20:x :findBestPosition:x 3
   478 ucontrol getBlock :tileValue.20:x :findBestPosition:y type building floor
   479 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   480 sensor solid type @solid
   481 select :tileValue.20:result notEqual solid false 0.09803921568627451 value
-    * label *label50
   482 op add *tmp135 :tileValue.14:result :tileValue.15:result
   483 op add *tmp136 *tmp135 :tileValue.16:result
   484 op add *tmp137 :tileValue.19:result *tmp136
 
   494 packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150
   495 label *label48
   496 label *label46
-    * label *label39
   497 op add *tmp152 :findBestPosition:y 1
   498 ucontrol getBlock :tileValue:x *tmp152 type building floor
   499 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   500 sensor solid type @solid
   501 select :tileValue.21:result notEqual solid false 0.09803921568627451 value
-    * label *label52
   502 ucontrol getBlock :tileValue.1:x *tmp152 type building floor
   503 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   504 sensor solid type @solid
   505 select :tileValue.22:result notEqual solid false 0.09803921568627451 value
-    * label *label53
   506 ucontrol getBlock :findBestPosition:x *tmp152 type building floor
   507 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   508 sensor solid type @solid
   509 select :tileValue.23:result notEqual solid false 0.09803921568627451 value
-    * label *label54
   510 ucontrol getBlock :tileValue.3:x *tmp152 type building floor
   511 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   512 sensor solid type @solid
   513 select :tileValue.24:result notEqual solid false 0.09803921568627451 value
-    * label *label55
   514 ucontrol getBlock :tileValue.4:x *tmp152 type building floor
   515 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   516 sensor solid type @solid
   517 select :tileValue.25:result notEqual solid false 0.09803921568627451 value
-    * label *label56
   518 jump *label57 notEqual :findBestPosition:size 2
   519 op add *tmp166 :tileValue.21:result :tileValue.22:result
   520 op add *tmp167 :tileValue.22:result :tileValue.23:result
 
   537 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   538 sensor solid type @solid
   539 select :tileValue.26:result notEqual solid false 0.09803921568627451 value
-    * label *label61
   540 op add :tileValue.27:x :findBestPosition:x 3
   541 ucontrol getBlock :tileValue.27:x *tmp152 type building floor
   542 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   543 sensor solid type @solid
   544 select :tileValue.27:result notEqual solid false 0.09803921568627451 value
-    * label *label62
   545 op add *tmp184 :tileValue.21:result :tileValue.22:result
   546 op add *tmp185 *tmp184 :tileValue.23:result
   547 op add *tmp186 :tileValue.26:result *tmp185
 
   557 packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199
   558 label *label60
   559 label *label58
-    * label *label51
   560 op add *tmp201 :findBestPosition:y 2
   561 ucontrol getBlock :tileValue:x *tmp201 type building floor
   562 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   563 sensor solid type @solid
   564 select :tileValue.28:result notEqual solid false 0.09803921568627451 value
-    * label *label64
   565 ucontrol getBlock :tileValue.1:x *tmp201 type building floor
   566 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   567 sensor solid type @solid
   568 select :tileValue.29:result notEqual solid false 0.09803921568627451 value
-    * label *label65
   569 ucontrol getBlock :findBestPosition:x *tmp201 type building floor
   570 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   571 sensor solid type @solid
   572 select :tileValue.30:result notEqual solid false 0.09803921568627451 value
-    * label *label66
   573 ucontrol getBlock :tileValue.3:x *tmp201 type building floor
   574 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   575 sensor solid type @solid
   576 select :tileValue.31:result notEqual solid false 0.09803921568627451 value
-    * label *label67
   577 ucontrol getBlock :tileValue.4:x *tmp201 type building floor
   578 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   579 sensor solid type @solid
   580 select :tileValue.32:result notEqual solid false 0.09803921568627451 value
-    * label *label68
   581 jump *label69 notEqual :findBestPosition:size 2
   582 op add *tmp215 :tileValue.28:result :tileValue.29:result
   583 op add *tmp216 :tileValue.29:result :tileValue.30:result
 
   600 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   601 sensor solid type @solid
   602 select :tileValue.33:result notEqual solid false 0.09803921568627451 value
-    * label *label73
   603 op add :tileValue.34:x :findBestPosition:x 3
   604 ucontrol getBlock :tileValue.34:x *tmp201 type building floor
   605 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   606 sensor solid type @solid
   607 select :tileValue.34:result notEqual solid false 0.09803921568627451 value
-    * label *label74
   608 op add *tmp233 :tileValue.28:result :tileValue.29:result
   609 op add *tmp234 *tmp233 :tileValue.30:result
   610 op add *tmp235 :tileValue.33:result *tmp234
 
   620 packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248
   621 label *label72
   622 label *label70
-    * label *label63
   623 set :findBestPosition:best 0
   624 set :findBestPosition:bestX 0
   625 set :findBestPosition:bestY 0
 
   636 set :findBestPosition:bestY -1
   637 set :findBestPosition:best :updateRowPositionsOdd:col1
   638 label *label81
-    * label *label82
   639 label *label79
-    * label *label80
-    * label *label78
   640 jump *label84 lessThanEq :updateRowPositionsOdd:col2 :findBestPosition:best
   641 jump *label86 greaterThanEq :updateRowPositionsOdd:col2 0.0784313725490196
   642 set :findBestPosition:bestX 0
   643 set :findBestPosition:bestY -1
   644 set :findBestPosition:best :updateRowPositionsOdd:col2
   645 label *label86
-    * label *label87
   646 label *label84
-    * label *label85
-    * label *label83
   647 jump *label89 lessThanEq :updateRowPositionsOdd:col3 :findBestPosition:best
   648 jump *label91 greaterThanEq :updateRowPositionsOdd:col3 0.0784313725490196
   649 set :findBestPosition:bestX 1
   650 set :findBestPosition:bestY -1
   651 set :findBestPosition:best :updateRowPositionsOdd:col3
   652 label *label91
-    * label *label92
   653 label *label89
-    * label *label90
-    * label *label88
-    * label *label77
   654 unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 *tmp271 :findBestPosition:row2
   655 jump *label95 lessThanEq :updateRowPositionsOdd.1:col1 :findBestPosition:best
   656 jump *label97 greaterThanEq :updateRowPositionsOdd.1:col1 0.0784313725490196
 
   658 set :findBestPosition:bestY 0
   659 set :findBestPosition:best :updateRowPositionsOdd.1:col1
   660 label *label97
-    * label *label98
   661 label *label95
-    * label *label96
-    * label *label94
   662 jump *label100 lessThanEq :updateRowPositionsOdd.1:col2 :findBestPosition:best
   663 jump *label102 greaterThanEq :updateRowPositionsOdd.1:col2 0.0784313725490196
   664 set :findBestPosition:bestX 0
   665 set :findBestPosition:bestY 0
   666 set :findBestPosition:best :updateRowPositionsOdd.1:col2
   667 label *label102
-    * label *label103
   668 label *label100
-    * label *label101
-    * label *label99
   669 jump *label105 lessThanEq :updateRowPositionsOdd.1:col3 :findBestPosition:best
   670 jump *label107 greaterThanEq :updateRowPositionsOdd.1:col3 0.0784313725490196
   671 set :findBestPosition:bestX 1
   672 set :findBestPosition:bestY 0
   673 set :findBestPosition:best :updateRowPositionsOdd.1:col3
   674 label *label107
-    * label *label108
   675 label *label105
-    * label *label106
-    * label *label104
-    * label *label93
   676 unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 *tmp284 :findBestPosition:row3
   677 jump *label111 lessThanEq :updateRowPositionsOdd.2:col1 :findBestPosition:best
   678 jump *label113 greaterThanEq :updateRowPositionsOdd.2:col1 0.0784313725490196
 
   680 set :findBestPosition:bestY 1
   681 set :findBestPosition:best :updateRowPositionsOdd.2:col1
   682 label *label113
-    * label *label114
   683 label *label111
-    * label *label112
-    * label *label110
   684 jump *label116 lessThanEq :updateRowPositionsOdd.2:col2 :findBestPosition:best
   685 jump *label118 greaterThanEq :updateRowPositionsOdd.2:col2 0.0784313725490196
   686 set :findBestPosition:bestX 0
   687 set :findBestPosition:bestY 1
   688 set :findBestPosition:best :updateRowPositionsOdd.2:col2
   689 label *label118
-    * label *label119
   690 label *label116
-    * label *label117
-    * label *label115
   691 jump *label121 lessThanEq :updateRowPositionsOdd.2:col3 :findBestPosition:best
   692 jump *label123 greaterThanEq :updateRowPositionsOdd.2:col3 0.0784313725490196
   693 set :findBestPosition:bestX 1
   694 set :findBestPosition:bestY 1
   695 set :findBestPosition:best :updateRowPositionsOdd.2:col3
   696 label *label123
-    * label *label124
   697 label *label121
-    * label *label122
-    * label *label120
-    * label *label109
   698 jump *label76 always
   699 label *label75
   700 jump *label125 notEqual :findBestPosition:size 2
 
   709 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   710 sensor solid type @solid
   711 select :tileValue.35:result notEqual solid false 0.09803921568627451 value
-    * label *label128
   712 ucontrol getBlock :tileValue.1:x *tmp303 type building floor
   713 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   714 sensor solid type @solid
   715 select :tileValue.36:result notEqual solid false 0.09803921568627451 value
-    * label *label129
   716 ucontrol getBlock :findBestPosition:x *tmp303 type building floor
   717 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   718 sensor solid type @solid
   719 select :tileValue.37:result notEqual solid false 0.09803921568627451 value
-    * label *label130
   720 ucontrol getBlock :tileValue.3:x *tmp303 type building floor
   721 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   722 sensor solid type @solid
   723 select :tileValue.38:result notEqual solid false 0.09803921568627451 value
-    * label *label131
   724 ucontrol getBlock :tileValue.4:x *tmp303 type building floor
   725 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   726 sensor solid type @solid
   727 select :tileValue.39:result notEqual solid false 0.09803921568627451 value
-    * label *label132
   728 jump *label133 notEqual :findBestPosition:size 2
   729 op add *tmp317 :tileValue.35:result :tileValue.36:result
   730 op add *tmp318 :tileValue.36:result :tileValue.37:result
 
   747 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   748 sensor solid type @solid
   749 select :tileValue.40:result notEqual solid false 0.09803921568627451 value
-    * label *label137
   750 op add :tileValue.41:x :findBestPosition:x 3
   751 ucontrol getBlock :tileValue.41:x *tmp303 type building floor
   752 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   753 sensor solid type @solid
   754 select :tileValue.41:result notEqual solid false 0.09803921568627451 value
-    * label *label138
   755 op add *tmp335 :tileValue.35:result :tileValue.36:result
   756 op add *tmp336 *tmp335 :tileValue.37:result
   757 op add *tmp337 :tileValue.40:result *tmp336
 
   767 packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350
   768 label *label136
   769 label *label134
-    * label *label127
   770 op add *tmp352 :findBestPosition:y 3
   771 ucontrol getBlock :tileValue:x *tmp352 type building floor
   772 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   773 sensor solid type @solid
   774 select :tileValue.42:result notEqual solid false 0.09803921568627451 value
-    * label *label140
   775 ucontrol getBlock :tileValue.1:x *tmp352 type building floor
   776 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   777 sensor solid type @solid
   778 select :tileValue.43:result notEqual solid false 0.09803921568627451 value
-    * label *label141
   779 ucontrol getBlock :findBestPosition:x *tmp352 type building floor
   780 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   781 sensor solid type @solid
   782 select :tileValue.44:result notEqual solid false 0.09803921568627451 value
-    * label *label142
   783 ucontrol getBlock :tileValue.3:x *tmp352 type building floor
   784 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   785 sensor solid type @solid
   786 select :tileValue.45:result notEqual solid false 0.09803921568627451 value
-    * label *label143
   787 ucontrol getBlock :tileValue.4:x *tmp352 type building floor
   788 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   789 sensor solid type @solid
   790 select :tileValue.46:result notEqual solid false 0.09803921568627451 value
-    * label *label144
   791 jump *label145 notEqual :findBestPosition:size 2
   792 op add *tmp366 :tileValue.42:result :tileValue.43:result
   793 op add *tmp367 :tileValue.43:result :tileValue.44:result
 
   810 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   811 sensor solid type @solid
   812 select :tileValue.47:result notEqual solid false 0.09803921568627451 value
-    * label *label149
   813 op add :tileValue.48:x :findBestPosition:x 3
   814 ucontrol getBlock :tileValue.48:x *tmp352 type building floor
   815 select value equal floor :findBestPosition:ore 0.00392156862745098 0
   816 sensor solid type @solid
   817 select :tileValue.48:result notEqual solid false 0.09803921568627451 value
-    * label *label150
   818 op add *tmp384 :tileValue.42:result :tileValue.43:result
   819 op add *tmp385 *tmp384 :tileValue.44:result
   820 op add *tmp386 :tileValue.47:result *tmp385
 
   830 packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399
   831 label *label148
   832 label *label146
-    * label *label139
   833 op add *tmp401 *tmp6 *tmp55
   834 op add *tmp402 *tmp401 *tmp104
   835 op add :findBestPosition:row1 *tmp304 *tmp402
 
   846 set :findBestPosition:bestY -1.5
   847 set :findBestPosition:best :updateRowPositionsEven:col1
   848 label *label155
-    * label *label156
   849 label *label153
-    * label *label154
-    * label *label152
   850 jump *label158 lessThanEq :updateRowPositionsEven:col2 :findBestPosition:best
   851 jump *label160 greaterThanEq :updateRowPositionsEven:col2 0.0784313725490196
   852 set :findBestPosition:bestX -0.5
   853 set :findBestPosition:bestY -1.5
   854 set :findBestPosition:best :updateRowPositionsEven:col2
   855 label *label160
-    * label *label161
   856 label *label158
-    * label *label159
-    * label *label157
   857 jump *label163 lessThanEq :updateRowPositionsEven:col3 :findBestPosition:best
   858 jump *label165 greaterThanEq :updateRowPositionsEven:col3 0.0784313725490196
   859 set :findBestPosition:bestX 0.5
   860 set :findBestPosition:bestY -1.5
   861 set :findBestPosition:best :updateRowPositionsEven:col3
   862 label *label165
-    * label *label166
   863 label *label163
-    * label *label164
-    * label *label162
   864 jump *label168 lessThanEq :updateRowPositionsEven:col4 :findBestPosition:best
   865 jump *label170 greaterThanEq :updateRowPositionsEven:col4 0.0784313725490196
   866 set :findBestPosition:bestX 1.5
   867 set :findBestPosition:bestY -1.5
   868 set :findBestPosition:best :updateRowPositionsEven:col4
   869 label *label170
-    * label *label171
   870 label *label168
-    * label *label169
-    * label *label167
-    * label *label151
   871 unpackcolor :updateRowPositionsEven.1:col1 :updateRowPositionsEven.1:col2 :updateRowPositionsEven.1:col3 :updateRowPositionsEven.1:col4 :findBestPosition:row2
   872 jump *label174 lessThanEq :updateRowPositionsEven.1:col1 :findBestPosition:best
   873 jump *label176 greaterThanEq :updateRowPositionsEven.1:col1 0.0784313725490196
 
   875 set :findBestPosition:bestY -0.5
   876 set :findBestPosition:best :updateRowPositionsEven.1:col1
   877 label *label176
-    * label *label177
   878 label *label174
-    * label *label175
-    * label *label173
   879 jump *label179 lessThanEq :updateRowPositionsEven.1:col2 :findBestPosition:best
   880 jump *label181 greaterThanEq :updateRowPositionsEven.1:col2 0.0784313725490196
   881 set :findBestPosition:bestX -0.5
   882 set :findBestPosition:bestY -0.5
   883 set :findBestPosition:best :updateRowPositionsEven.1:col2
   884 label *label181
-    * label *label182
   885 label *label179
-    * label *label180
-    * label *label178
   886 jump *label184 lessThanEq :updateRowPositionsEven.1:col3 :findBestPosition:best
   887 jump *label186 greaterThanEq :updateRowPositionsEven.1:col3 0.0784313725490196
   888 set :findBestPosition:bestX 0.5
   889 set :findBestPosition:bestY -0.5
   890 set :findBestPosition:best :updateRowPositionsEven.1:col3
   891 label *label186
-    * label *label187
   892 label *label184
-    * label *label185
-    * label *label183
   893 jump *label189 lessThanEq :updateRowPositionsEven.1:col4 :findBestPosition:best
   894 jump *label191 greaterThanEq :updateRowPositionsEven.1:col4 0.0784313725490196
   895 set :findBestPosition:bestX 1.5
   896 set :findBestPosition:bestY -0.5
   897 set :findBestPosition:best :updateRowPositionsEven.1:col4
   898 label *label191
-    * label *label192
   899 label *label189
-    * label *label190
-    * label *label188
-    * label *label172
   900 unpackcolor :updateRowPositionsEven.2:col1 :updateRowPositionsEven.2:col2 :updateRowPositionsEven.2:col3 :updateRowPositionsEven.2:col4 :findBestPosition:row3
   901 jump *label195 lessThanEq :updateRowPositionsEven.2:col1 :findBestPosition:best
   902 jump *label197 greaterThanEq :updateRowPositionsEven.2:col1 0.0784313725490196
 
   904 set :findBestPosition:bestY 0.5
   905 set :findBestPosition:best :updateRowPositionsEven.2:col1
   906 label *label197
-    * label *label198
   907 label *label195
-    * label *label196
-    * label *label194
   908 jump *label200 lessThanEq :updateRowPositionsEven.2:col2 :findBestPosition:best
   909 jump *label202 greaterThanEq :updateRowPositionsEven.2:col2 0.0784313725490196
   910 set :findBestPosition:bestX -0.5
   911 set :findBestPosition:bestY 0.5
   912 set :findBestPosition:best :updateRowPositionsEven.2:col2
   913 label *label202
-    * label *label203
   914 label *label200
-    * label *label201
-    * label *label199
   915 jump *label205 lessThanEq :updateRowPositionsEven.2:col3 :findBestPosition:best
   916 jump *label207 greaterThanEq :updateRowPositionsEven.2:col3 0.0784313725490196
   917 set :findBestPosition:bestX 0.5
   918 set :findBestPosition:bestY 0.5
   919 set :findBestPosition:best :updateRowPositionsEven.2:col3
   920 label *label207
-    * label *label208
   921 label *label205
-    * label *label206
-    * label *label204
   922 jump *label210 lessThanEq :updateRowPositionsEven.2:col4 :findBestPosition:best
   923 jump *label212 greaterThanEq :updateRowPositionsEven.2:col4 0.0784313725490196
   924 set :findBestPosition:bestX 1.5
   925 set :findBestPosition:bestY 0.5
   926 set :findBestPosition:best :updateRowPositionsEven.2:col4
   927 label *label212
-    * label *label213
   928 label *label210
-    * label *label211
-    * label *label209
-    * label *label193
   929 unpackcolor :updateRowPositionsEven.3:col1 :updateRowPositionsEven.3:col2 :updateRowPositionsEven.3:col3 :updateRowPositionsEven.3:col4 :findBestPosition:row4
   930 jump *label216 lessThanEq :updateRowPositionsEven.3:col1 :findBestPosition:best
   931 jump *label218 greaterThanEq :updateRowPositionsEven.3:col1 0.0784313725490196
 
   933 set :findBestPosition:bestY 1.5
   934 set :findBestPosition:best :updateRowPositionsEven.3:col1
   935 label *label218
-    * label *label219
   936 label *label216
-    * label *label217
-    * label *label215
   937 jump *label221 lessThanEq :updateRowPositionsEven.3:col2 :findBestPosition:best
   938 jump *label223 greaterThanEq :updateRowPositionsEven.3:col2 0.0784313725490196
   939 set :findBestPosition:bestX -0.5
   940 set :findBestPosition:bestY 1.5
   941 set :findBestPosition:best :updateRowPositionsEven.3:col2
   942 label *label223
-    * label *label224
   943 label *label221
-    * label *label222
-    * label *label220
   944 jump *label226 lessThanEq :updateRowPositionsEven.3:col3 :findBestPosition:best
   945 jump *label228 greaterThanEq :updateRowPositionsEven.3:col3 0.0784313725490196
   946 set :findBestPosition:bestX 0.5
   947 set :findBestPosition:bestY 1.5
   948 set :findBestPosition:best :updateRowPositionsEven.3:col3
   949 label *label228
-    * label *label229
   950 label *label226
-    * label *label227
-    * label *label225
   951 jump *label231 lessThanEq :updateRowPositionsEven.3:col4 :findBestPosition:best
   952 jump *label233 greaterThanEq :updateRowPositionsEven.3:col4 0.0784313725490196
   953 set :findBestPosition:bestX 1.5
   954 set :findBestPosition:bestY 1.5
   955 set :findBestPosition:best :updateRowPositionsEven.3:col4
   956 label *label233
-    * label *label234
   957 label *label231
-    * label *label232
-    * label *label230
-    * label *label214
   958 label *label76
   959 op mul :findBestPosition*retval :findBestPosition:best 255
-    * label *label14
   960 set :findBestPosition*finished true
   961 jump *label5 always
-    * end

Modifications by Jumps phase, Jump Threading, pass 4, iteration 1:
 
   688 set :findBestPosition:best :updateRowPositionsOdd.2:col2
   689 label *label118
   690 label *label116
-    * jump *label121 lessThanEq :updateRowPositionsOdd.2:col3 :findBestPosition:best
-    * jump *label123 greaterThanEq :updateRowPositionsOdd.2:col3 0.0784313725490196
+  691 jump *label76 lessThanEq :updateRowPositionsOdd.2:col3 :findBestPosition:best
+  692 jump *label76 greaterThanEq :updateRowPositionsOdd.2:col3 0.0784313725490196
   693 set :findBestPosition:bestX 1
   694 set :findBestPosition:bestY 1
   695 set :findBestPosition:best :updateRowPositionsOdd.2:col3

Modifications by Final phase, Temp Variables Elimination, iteration 1:
 
   629 op add :findBestPosition:row2 *tmp252 *tmp153
   630 op add *tmp256 *tmp104 *tmp153
   631 op add :findBestPosition:row3 *tmp256 *tmp202
-    * unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 *tmp258 :findBestPosition:row1
+  632 unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsOdd:col2 :updateRowPositionsOdd:col3 0 :findBestPosition:row1
   633 jump *label79 lessThanEq :updateRowPositionsOdd:col1 0
   634 jump *label81 greaterThanEq :updateRowPositionsOdd:col1 0.0784313725490196
   635 set :findBestPosition:bestX -1
 
   651 set :findBestPosition:best :updateRowPositionsOdd:col3
   652 label *label91
   653 label *label89
-    * unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 *tmp271 :findBestPosition:row2
+  654 unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPositionsOdd.1:col2 :updateRowPositionsOdd.1:col3 0 :findBestPosition:row2
   655 jump *label95 lessThanEq :updateRowPositionsOdd.1:col1 :findBestPosition:best
   656 jump *label97 greaterThanEq :updateRowPositionsOdd.1:col1 0.0784313725490196
   657 set :findBestPosition:bestX -1
 
   673 set :findBestPosition:best :updateRowPositionsOdd.1:col3
   674 label *label107
   675 label *label105
-    * unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 *tmp284 :findBestPosition:row3
+  676 unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPositionsOdd.2:col2 :updateRowPositionsOdd.2:col3 0 :findBestPosition:row3
   677 jump *label111 lessThanEq :updateRowPositionsOdd.2:col1 :findBestPosition:best
   678 jump *label113 greaterThanEq :updateRowPositionsOdd.2:col1 0.0784313725490196
   679 set :findBestPosition:bestX -1

Final code before resolving virtual instructions:

    0:  jump *label4 always 0 0                                      #set target = 8;
    1:  jump *label0 always 0 0                                      ...
    2:  jump *label2 always 0 0                                      ...
        label *label4                                                ...
    3:  set *signature "b7c1b9d437eb2566:v1"                         ...
        label *label5                                                ...
    4:  wait 1e12                                                    ...
    5:  jump *label5 always 0 0                                      ...
        label *label0                                                export def createTerrainMask(unit, x, y)
    6:  ubind :createTerrainMask:unit                                ubind(unit);
    7:  op add *tmp2 :createTerrainMask:y 3                          for var c in -3 .. 3 descending do
    8:  op add *tmp1 :createTerrainMask:x 3                          result = (result << 1) | isSolid(x + c, y + r);
    9:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   10:  sensor solid type @solid                                     ...
   11:  select :createTerrainMask:result notEqual solid false 1 0    ...
   12:  op shl *tmp0 :createTerrainMask:result 1                     result = (result << 1) | isSolid(x + c, y + r);
   13:  op add *tmp1 :createTerrainMask:x 2                          ...
   14:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   15:  sensor solid type @solid                                     ...
   16:  select :isSolid:result notEqual solid false 1 0              ...
   17:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   18:  op shl *tmp0 :createTerrainMask:result 1                     ...
   19:  op add *tmp1 :createTerrainMask:x 1                          ...
   20:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   21:  sensor solid type @solid                                     ...
   22:  select :isSolid:result notEqual solid false 1 0              ...
   23:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   24:  op shl *tmp0 :createTerrainMask:result 1                     ...
   25:  ucontrol getBlock :createTerrainMask:x *tmp2 type building f mlog(in x, in y, out result) {
   26:  sensor solid type @solid                                     ...
   27:  select :isSolid:result notEqual solid false 1 0              ...
   28:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   29:  op shl *tmp0 :createTerrainMask:result 1                     ...
   30:  op add *tmp1 :createTerrainMask:x -1                         ...
   31:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   32:  sensor solid type @solid                                     ...
   33:  select :isSolid:result notEqual solid false 1 0              ...
   34:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   35:  op shl *tmp0 :createTerrainMask:result 1                     ...
   36:  op add *tmp1 :createTerrainMask:x -2                         ...
   37:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   38:  sensor solid type @solid                                     ...
   39:  select :isSolid:result notEqual solid false 1 0              ...
   40:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   41:  op shl *tmp0 :createTerrainMask:result 1                     ...
   42:  op add *tmp1 :createTerrainMask:x -3                         ...
   43:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   44:  sensor solid type @solid                                     ...
   45:  select :isSolid:result notEqual solid false 1 0              ...
   46:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   47:  op add *tmp2 :createTerrainMask:y 2                          for var c in -3 .. 3 descending do
   48:  op shl *tmp0 :createTerrainMask:result 1                     result = (result << 1) | isSolid(x + c, y + r);
   49:  op add *tmp1 :createTerrainMask:x 3                          ...
   50:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   51:  sensor solid type @solid                                     ...
   52:  select :isSolid:result notEqual solid false 1 0              ...
   53:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   54:  op shl *tmp0 :createTerrainMask:result 1                     ...
   55:  op add *tmp1 :createTerrainMask:x 2                          ...
   56:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   57:  sensor solid type @solid                                     ...
   58:  select :isSolid:result notEqual solid false 1 0              ...
   59:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   60:  op shl *tmp0 :createTerrainMask:result 1                     ...
   61:  op add *tmp1 :createTerrainMask:x 1                          ...
   62:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   63:  sensor solid type @solid                                     ...
   64:  select :isSolid:result notEqual solid false 1 0              ...
   65:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   66:  op shl *tmp0 :createTerrainMask:result 1                     ...
   67:  ucontrol getBlock :createTerrainMask:x *tmp2 type building f mlog(in x, in y, out result) {
   68:  sensor solid type @solid                                     ...
   69:  select :isSolid:result notEqual solid false 1 0              ...
   70:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   71:  op shl *tmp0 :createTerrainMask:result 1                     ...
   72:  op add *tmp1 :createTerrainMask:x -1                         ...
   73:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   74:  sensor solid type @solid                                     ...
   75:  select :isSolid:result notEqual solid false 1 0              ...
   76:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   77:  op shl *tmp0 :createTerrainMask:result 1                     ...
   78:  op add *tmp1 :createTerrainMask:x -2                         ...
   79:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   80:  sensor solid type @solid                                     ...
   81:  select :isSolid:result notEqual solid false 1 0              ...
   82:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   83:  op shl *tmp0 :createTerrainMask:result 1                     ...
   84:  op add *tmp1 :createTerrainMask:x -3                         ...
   85:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   86:  sensor solid type @solid                                     ...
   87:  select :isSolid:result notEqual solid false 1 0              ...
   88:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   89:  op add *tmp2 :createTerrainMask:y 1                          for var c in -3 .. 3 descending do
   90:  op shl *tmp0 :createTerrainMask:result 1                     result = (result << 1) | isSolid(x + c, y + r);
   91:  op add *tmp1 :createTerrainMask:x 3                          ...
   92:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   93:  sensor solid type @solid                                     ...
   94:  select :isSolid:result notEqual solid false 1 0              ...
   95:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
   96:  op shl *tmp0 :createTerrainMask:result 1                     ...
   97:  op add *tmp1 :createTerrainMask:x 2                          ...
   98:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
   99:  sensor solid type @solid                                     ...
  100:  select :isSolid:result notEqual solid false 1 0              ...
  101:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  102:  op shl *tmp0 :createTerrainMask:result 1                     ...
  103:  op add *tmp1 :createTerrainMask:x 1                          ...
  104:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  105:  sensor solid type @solid                                     ...
  106:  select :isSolid:result notEqual solid false 1 0              ...
  107:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  108:  op shl *tmp0 :createTerrainMask:result 1                     ...
  109:  ucontrol getBlock :createTerrainMask:x *tmp2 type building f mlog(in x, in y, out result) {
  110:  sensor solid type @solid                                     ...
  111:  select :isSolid:result notEqual solid false 1 0              ...
  112:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  113:  op shl *tmp0 :createTerrainMask:result 1                     ...
  114:  op add *tmp1 :createTerrainMask:x -1                         ...
  115:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  116:  sensor solid type @solid                                     ...
  117:  select :isSolid:result notEqual solid false 1 0              ...
  118:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  119:  op shl *tmp0 :createTerrainMask:result 1                     ...
  120:  op add *tmp1 :createTerrainMask:x -2                         ...
  121:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  122:  sensor solid type @solid                                     ...
  123:  select :isSolid:result notEqual solid false 1 0              ...
  124:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  125:  op shl *tmp0 :createTerrainMask:result 1                     ...
  126:  op add *tmp1 :createTerrainMask:x -3                         ...
  127:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  128:  sensor solid type @solid                                     ...
  129:  select :isSolid:result notEqual solid false 1 0              ...
  130:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  131:  op shl *tmp0 :createTerrainMask:result 1                     ...
  132:  op add *tmp1 :createTerrainMask:x 3                          ...
  133:  ucontrol getBlock *tmp1 :createTerrainMask:y type building f mlog(in x, in y, out result) {
  134:  sensor solid type @solid                                     ...
  135:  select :isSolid:result notEqual solid false 1 0              ...
  136:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  137:  op shl *tmp0 :createTerrainMask:result 1                     ...
  138:  op add *tmp1 :createTerrainMask:x 2                          ...
  139:  ucontrol getBlock *tmp1 :createTerrainMask:y type building f mlog(in x, in y, out result) {
  140:  sensor solid type @solid                                     ...
  141:  select :isSolid:result notEqual solid false 1 0              ...
  142:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  143:  op shl *tmp0 :createTerrainMask:result 1                     ...
  144:  op add *tmp1 :createTerrainMask:x 1                          ...
  145:  ucontrol getBlock *tmp1 :createTerrainMask:y type building f mlog(in x, in y, out result) {
  146:  sensor solid type @solid                                     ...
  147:  select :isSolid:result notEqual solid false 1 0              ...
  148:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  149:  op shl *tmp0 :createTerrainMask:result 1                     ...
  150:  ucontrol getBlock :createTerrainMask:x :createTerrainMask:y  mlog(in x, in y, out result) {
  151:  sensor solid type @solid                                     ...
  152:  select :isSolid:result notEqual solid false 1 0              ...
  153:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  154:  op shl *tmp0 :createTerrainMask:result 1                     ...
  155:  op add *tmp1 :createTerrainMask:x -1                         ...
  156:  ucontrol getBlock *tmp1 :createTerrainMask:y type building f mlog(in x, in y, out result) {
  157:  sensor solid type @solid                                     ...
  158:  select :isSolid:result notEqual solid false 1 0              ...
  159:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  160:  op shl *tmp0 :createTerrainMask:result 1                     ...
  161:  op add *tmp1 :createTerrainMask:x -2                         ...
  162:  ucontrol getBlock *tmp1 :createTerrainMask:y type building f mlog(in x, in y, out result) {
  163:  sensor solid type @solid                                     ...
  164:  select :isSolid:result notEqual solid false 1 0              ...
  165:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  166:  op shl *tmp0 :createTerrainMask:result 1                     ...
  167:  op add *tmp1 :createTerrainMask:x -3                         ...
  168:  ucontrol getBlock *tmp1 :createTerrainMask:y type building f mlog(in x, in y, out result) {
  169:  sensor solid type @solid                                     ...
  170:  select :isSolid:result notEqual solid false 1 0              ...
  171:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  172:  op add *tmp2 :createTerrainMask:y -1                         for var c in -3 .. 3 descending do
  173:  op shl *tmp0 :createTerrainMask:result 1                     result = (result << 1) | isSolid(x + c, y + r);
  174:  op add *tmp1 :createTerrainMask:x 3                          ...
  175:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  176:  sensor solid type @solid                                     ...
  177:  select :isSolid:result notEqual solid false 1 0              ...
  178:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  179:  op shl *tmp0 :createTerrainMask:result 1                     ...
  180:  op add *tmp1 :createTerrainMask:x 2                          ...
  181:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  182:  sensor solid type @solid                                     ...
  183:  select :isSolid:result notEqual solid false 1 0              ...
  184:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  185:  op shl *tmp0 :createTerrainMask:result 1                     ...
  186:  op add *tmp1 :createTerrainMask:x 1                          ...
  187:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  188:  sensor solid type @solid                                     ...
  189:  select :isSolid:result notEqual solid false 1 0              ...
  190:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  191:  op shl *tmp0 :createTerrainMask:result 1                     ...
  192:  ucontrol getBlock :createTerrainMask:x *tmp2 type building f mlog(in x, in y, out result) {
  193:  sensor solid type @solid                                     ...
  194:  select :isSolid:result notEqual solid false 1 0              ...
  195:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  196:  op shl *tmp0 :createTerrainMask:result 1                     ...
  197:  op add *tmp1 :createTerrainMask:x -1                         ...
  198:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  199:  sensor solid type @solid                                     ...
  200:  select :isSolid:result notEqual solid false 1 0              ...
  201:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  202:  op shl *tmp0 :createTerrainMask:result 1                     ...
  203:  op add *tmp1 :createTerrainMask:x -2                         ...
  204:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  205:  sensor solid type @solid                                     ...
  206:  select :isSolid:result notEqual solid false 1 0              ...
  207:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  208:  op shl *tmp0 :createTerrainMask:result 1                     ...
  209:  op add *tmp1 :createTerrainMask:x -3                         ...
  210:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  211:  sensor solid type @solid                                     ...
  212:  select :isSolid:result notEqual solid false 1 0              ...
  213:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  214:  op add *tmp2 :createTerrainMask:y -2                         for var c in -3 .. 3 descending do
  215:  op shl *tmp0 :createTerrainMask:result 1                     result = (result << 1) | isSolid(x + c, y + r);
  216:  op add *tmp1 :createTerrainMask:x 3                          ...
  217:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  218:  sensor solid type @solid                                     ...
  219:  select :isSolid:result notEqual solid false 1 0              ...
  220:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  221:  op shl *tmp0 :createTerrainMask:result 1                     ...
  222:  op add *tmp1 :createTerrainMask:x 2                          ...
  223:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  224:  sensor solid type @solid                                     ...
  225:  select :isSolid:result notEqual solid false 1 0              ...
  226:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  227:  op shl *tmp0 :createTerrainMask:result 1                     ...
  228:  op add *tmp1 :createTerrainMask:x 1                          ...
  229:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  230:  sensor solid type @solid                                     ...
  231:  select :isSolid:result notEqual solid false 1 0              ...
  232:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  233:  op shl *tmp0 :createTerrainMask:result 1                     ...
  234:  ucontrol getBlock :createTerrainMask:x *tmp2 type building f mlog(in x, in y, out result) {
  235:  sensor solid type @solid                                     ...
  236:  select :isSolid:result notEqual solid false 1 0              ...
  237:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  238:  op shl *tmp0 :createTerrainMask:result 1                     ...
  239:  op add *tmp1 :createTerrainMask:x -1                         ...
  240:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  241:  sensor solid type @solid                                     ...
  242:  select :isSolid:result notEqual solid false 1 0              ...
  243:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  244:  op shl *tmp0 :createTerrainMask:result 1                     ...
  245:  op add *tmp1 :createTerrainMask:x -2                         ...
  246:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  247:  sensor solid type @solid                                     ...
  248:  select :isSolid:result notEqual solid false 1 0              ...
  249:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  250:  op shl *tmp0 :createTerrainMask:result 1                     ...
  251:  op add *tmp1 :createTerrainMask:x -3                         ...
  252:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  253:  sensor solid type @solid                                     ...
  254:  select :isSolid:result notEqual solid false 1 0              ...
  255:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  256:  op add *tmp2 :createTerrainMask:y -3                         for var c in -3 .. 3 descending do
  257:  op shl *tmp0 :createTerrainMask:result 1                     result = (result << 1) | isSolid(x + c, y + r);
  258:  op add *tmp1 :createTerrainMask:x 3                          ...
  259:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  260:  sensor solid type @solid                                     ...
  261:  select :isSolid:result notEqual solid false 1 0              ...
  262:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  263:  op shl *tmp0 :createTerrainMask:result 1                     ...
  264:  op add *tmp1 :createTerrainMask:x 2                          ...
  265:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  266:  sensor solid type @solid                                     ...
  267:  select :isSolid:result notEqual solid false 1 0              ...
  268:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  269:  op shl *tmp0 :createTerrainMask:result 1                     ...
  270:  op add *tmp1 :createTerrainMask:x 1                          ...
  271:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  272:  sensor solid type @solid                                     ...
  273:  select :isSolid:result notEqual solid false 1 0              ...
  274:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  275:  op shl *tmp0 :createTerrainMask:result 1                     ...
  276:  ucontrol getBlock :createTerrainMask:x *tmp2 type building f mlog(in x, in y, out result) {
  277:  sensor solid type @solid                                     ...
  278:  select :isSolid:result notEqual solid false 1 0              ...
  279:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  280:  op shl *tmp0 :createTerrainMask:result 1                     ...
  281:  op add *tmp1 :createTerrainMask:x -1                         ...
  282:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  283:  sensor solid type @solid                                     ...
  284:  select :isSolid:result notEqual solid false 1 0              ...
  285:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  286:  op shl *tmp0 :createTerrainMask:result 1                     ...
  287:  op add *tmp1 :createTerrainMask:x -2                         ...
  288:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  289:  sensor solid type @solid                                     ...
  290:  select :isSolid:result notEqual solid false 1 0              ...
  291:  op or :createTerrainMask:result *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  292:  op shl *tmp0 :createTerrainMask:result 1                     ...
  293:  op add *tmp1 :createTerrainMask:x -3                         ...
  294:  ucontrol getBlock *tmp1 *tmp2 type building floor            mlog(in x, in y, out result) {
  295:  sensor solid type @solid                                     ...
  296:  select :isSolid:result notEqual solid false 1 0              ...
  297:  op or :createTerrainMask*retval *tmp0 :isSolid:result        result = (result << 1) | isSolid(x + c, y + r);
  298:  set :createTerrainMask*finished true                         export def createTerrainMask(unit, x, y)
  299:  jump *label5 always 0 0                                      ...
        label *label2                                                export def findBestPosition(unit, x, y, ore, size, out bestX, out bestY)
  300:  ubind :findBestPosition:unit                                 ubind(unit);
  301:  op sub *tmp5 :findBestPosition:y 2                           var y1 = computeRowValues(x, y - 2, ore, size);
  302:  op sub :tileValue:x :findBestPosition:x 2                    var x1 = tileValue(x - 2, y, ore);
  303:  ucontrol getBlock :tileValue:x *tmp5 type building floor     mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  304:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  305:  sensor solid type @solid                                     ...
  306:  select :tileValue:result notEqual solid false 0.098039215686 ...
  307:  op sub :tileValue.1:x :findBestPosition:x 1                  var x2 = tileValue(x - 1, y, ore);
  308:  ucontrol getBlock :tileValue.1:x *tmp5 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  309:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  310:  sensor solid type @solid                                     ...
  311:  select :tileValue.1:result notEqual solid false 0.0980392156 ...
  312:  ucontrol getBlock :findBestPosition:x *tmp5 type building fl ...
  313:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  314:  sensor solid type @solid                                     ...
  315:  select :tileValue.2:result notEqual solid false 0.0980392156 ...
  316:  op add :tileValue.3:x :findBestPosition:x 1                  var x4 = tileValue(x + 1, y, ore);
  317:  ucontrol getBlock :tileValue.3:x *tmp5 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  318:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  319:  sensor solid type @solid                                     ...
  320:  select :tileValue.3:result notEqual solid false 0.0980392156 ...
  321:  op add :tileValue.4:x :findBestPosition:x 2                  var x5 = tileValue(x + 2, y, ore);
  322:  ucontrol getBlock :tileValue.4:x *tmp5 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  323:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  324:  sensor solid type @solid                                     ...
  325:  select :tileValue.4:result notEqual solid false 0.0980392156 ...
  326:  jump *label21 notEqual :findBestPosition:size 2              if size == 2 then
  327:  op add *tmp19 :tileValue:result :tileValue.1:result          x1 + x2,        // drill at x - 1.5
  328:  op add *tmp20 :tileValue.1:result :tileValue.2:result        x2 + x3,        // drill at x - 0.5
  329:  op add *tmp21 :tileValue.2:result :tileValue.3:result        x3 + x4,        // drill at x + 0.5
  330:  op add *tmp22 :tileValue.3:result :tileValue.4:result        x4 + x5         // drill at x + 1.5
  331:  packcolor *tmp6 *tmp19 *tmp20 *tmp21 *tmp22                  return packcolor(
  332:  jump *label22 always 0 0                                     if size == 2 then
        label *label21                                               ...
  333:  jump *label23 notEqual :findBestPosition:size 3              elsif size == 3 then
  334:  op add *tmp26 :tileValue.1:result :tileValue.2:result        x1 + (x2 + x3),   // drill at x - 1
  335:  op add *tmp27 :tileValue:result *tmp26                       ...
  336:  op add *tmp29 *tmp26 :tileValue.3:result                     (x2 + x3) + x4,   // drill at x
  337:  op add *tmp30 :tileValue.2:result :tileValue.3:result        x3 + x4 + x5,   // drill at x + 1
  338:  op add *tmp31 *tmp30 :tileValue.4:result                     ...
  339:  packcolor *tmp6 *tmp27 *tmp29 *tmp31 0                       return packcolor(
  340:  jump *label24 always 0 0                                     elsif size == 3 then
        label *label23                                               ...
  341:  op sub :tileValue.5:x :findBestPosition:x 3                  var x0 = tileValue(x - 3, y, ore);
  342:  ucontrol getBlock :tileValue.5:x *tmp5 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  343:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  344:  sensor solid type @solid                                     ...
  345:  select :tileValue.5:result notEqual solid false 0.0980392156 ...
  346:  op add :tileValue.6:x :findBestPosition:x 3                  var x6 = tileValue(x + 3, y, ore);
  347:  ucontrol getBlock :tileValue.6:x *tmp5 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  348:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  349:  sensor solid type @solid                                     ...
  350:  select :tileValue.6:result notEqual solid false 0.0980392156 ...
  351:  op add *tmp37 :tileValue:result :tileValue.1:result          min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  352:  op add *tmp38 *tmp37 :tileValue.2:result                     ...
  353:  op add *tmp39 :tileValue.5:result *tmp38                     ...
  354:  op min *tmp40 0.09803921568627451 *tmp39                     ...
  355:  op add *tmp43 *tmp38 :tileValue.3:result                     min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  356:  op min *tmp44 0.09803921568627451 *tmp43                     ...
  357:  op add *tmp45 :tileValue.2:result :tileValue.3:result        min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  358:  op add *tmp46 *tmp45 :tileValue.4:result                     ...
  359:  op add *tmp47 :tileValue.1:result *tmp46                     ...
  360:  op min *tmp48 0.09803921568627451 *tmp47                     ...
  361:  op add *tmp51 *tmp46 :tileValue.6:result                     min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  362:  op min *tmp52 0.09803921568627451 *tmp51                     ...
  363:  packcolor *tmp6 *tmp40 *tmp44 *tmp48 *tmp52                  return packcolor(
        label *label24                                               elsif size == 3 then
        label *label22                                               if size == 2 then
  364:  op sub *tmp54 :findBestPosition:y 1                          var y2 = computeRowValues(x, y - 1, ore, size);
  365:  ucontrol getBlock :tileValue:x *tmp54 type building floor    mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  366:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  367:  sensor solid type @solid                                     ...
  368:  select :tileValue.7:result notEqual solid false 0.0980392156 ...
  369:  ucontrol getBlock :tileValue.1:x *tmp54 type building floor  ...
  370:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  371:  sensor solid type @solid                                     ...
  372:  select :tileValue.8:result notEqual solid false 0.0980392156 ...
  373:  ucontrol getBlock :findBestPosition:x *tmp54 type building f ...
  374:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  375:  sensor solid type @solid                                     ...
  376:  select :tileValue.9:result notEqual solid false 0.0980392156 ...
  377:  ucontrol getBlock :tileValue.3:x *tmp54 type building floor  ...
  378:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  379:  sensor solid type @solid                                     ...
  380:  select :tileValue.10:result notEqual solid false 0.098039215 ...
  381:  ucontrol getBlock :tileValue.4:x *tmp54 type building floor  ...
  382:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  383:  sensor solid type @solid                                     ...
  384:  select :tileValue.11:result notEqual solid false 0.098039215 ...
  385:  jump *label33 notEqual :findBestPosition:size 2              if size == 2 then
  386:  op add *tmp68 :tileValue.7:result :tileValue.8:result        x1 + x2,        // drill at x - 1.5
  387:  op add *tmp69 :tileValue.8:result :tileValue.9:result        x2 + x3,        // drill at x - 0.5
  388:  op add *tmp70 :tileValue.9:result :tileValue.10:result       x3 + x4,        // drill at x + 0.5
  389:  op add *tmp71 :tileValue.10:result :tileValue.11:result      x4 + x5         // drill at x + 1.5
  390:  packcolor *tmp55 *tmp68 *tmp69 *tmp70 *tmp71                 return packcolor(
  391:  jump *label34 always 0 0                                     if size == 2 then
        label *label33                                               ...
  392:  jump *label35 notEqual :findBestPosition:size 3              elsif size == 3 then
  393:  op add *tmp75 :tileValue.8:result :tileValue.9:result        x1 + (x2 + x3),   // drill at x - 1
  394:  op add *tmp76 :tileValue.7:result *tmp75                     ...
  395:  op add *tmp78 *tmp75 :tileValue.10:result                    (x2 + x3) + x4,   // drill at x
  396:  op add *tmp79 :tileValue.9:result :tileValue.10:result       x3 + x4 + x5,   // drill at x + 1
  397:  op add *tmp80 *tmp79 :tileValue.11:result                    ...
  398:  packcolor *tmp55 *tmp76 *tmp78 *tmp80 0                      return packcolor(
  399:  jump *label36 always 0 0                                     elsif size == 3 then
        label *label35                                               ...
  400:  op sub :tileValue.12:x :findBestPosition:x 3                 var x0 = tileValue(x - 3, y, ore);
  401:  ucontrol getBlock :tileValue.12:x *tmp54 type building floor mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  402:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  403:  sensor solid type @solid                                     ...
  404:  select :tileValue.12:result notEqual solid false 0.098039215 ...
  405:  op add :tileValue.13:x :findBestPosition:x 3                 var x6 = tileValue(x + 3, y, ore);
  406:  ucontrol getBlock :tileValue.13:x *tmp54 type building floor mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  407:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  408:  sensor solid type @solid                                     ...
  409:  select :tileValue.13:result notEqual solid false 0.098039215 ...
  410:  op add *tmp86 :tileValue.7:result :tileValue.8:result        min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  411:  op add *tmp87 *tmp86 :tileValue.9:result                     ...
  412:  op add *tmp88 :tileValue.12:result *tmp87                    ...
  413:  op min *tmp89 0.09803921568627451 *tmp88                     ...
  414:  op add *tmp92 *tmp87 :tileValue.10:result                    min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  415:  op min *tmp93 0.09803921568627451 *tmp92                     ...
  416:  op add *tmp94 :tileValue.9:result :tileValue.10:result       min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  417:  op add *tmp95 *tmp94 :tileValue.11:result                    ...
  418:  op add *tmp96 :tileValue.8:result *tmp95                     ...
  419:  op min *tmp97 0.09803921568627451 *tmp96                     ...
  420:  op add *tmp100 *tmp95 :tileValue.13:result                   min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  421:  op min *tmp101 0.09803921568627451 *tmp100                   ...
  422:  packcolor *tmp55 *tmp89 *tmp93 *tmp97 *tmp101                return packcolor(
        label *label36                                               elsif size == 3 then
        label *label34                                               if size == 2 then
  423:  ucontrol getBlock :tileValue:x :findBestPosition:y type buil mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  424:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  425:  sensor solid type @solid                                     ...
  426:  select :tileValue.14:result notEqual solid false 0.098039215 ...
  427:  ucontrol getBlock :tileValue.1:x :findBestPosition:y type bu ...
  428:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  429:  sensor solid type @solid                                     ...
  430:  select :tileValue.15:result notEqual solid false 0.098039215 ...
  431:  ucontrol getBlock :findBestPosition:x :findBestPosition:y ty ...
  432:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  433:  sensor solid type @solid                                     ...
  434:  select :tileValue.16:result notEqual solid false 0.098039215 ...
  435:  ucontrol getBlock :tileValue.3:x :findBestPosition:y type bu ...
  436:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  437:  sensor solid type @solid                                     ...
  438:  select :tileValue.17:result notEqual solid false 0.098039215 ...
  439:  ucontrol getBlock :tileValue.4:x :findBestPosition:y type bu ...
  440:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  441:  sensor solid type @solid                                     ...
  442:  select :tileValue.18:result notEqual solid false 0.098039215 ...
  443:  jump *label45 notEqual :findBestPosition:size 2              if size == 2 then
  444:  op add *tmp117 :tileValue.14:result :tileValue.15:result     x1 + x2,        // drill at x - 1.5
  445:  op add *tmp118 :tileValue.15:result :tileValue.16:result     x2 + x3,        // drill at x - 0.5
  446:  op add *tmp119 :tileValue.16:result :tileValue.17:result     x3 + x4,        // drill at x + 0.5
  447:  op add *tmp120 :tileValue.17:result :tileValue.18:result     x4 + x5         // drill at x + 1.5
  448:  packcolor *tmp104 *tmp117 *tmp118 *tmp119 *tmp120            return packcolor(
  449:  jump *label46 always 0 0                                     if size == 2 then
        label *label45                                               ...
  450:  jump *label47 notEqual :findBestPosition:size 3              elsif size == 3 then
  451:  op add *tmp124 :tileValue.15:result :tileValue.16:result     x1 + (x2 + x3),   // drill at x - 1
  452:  op add *tmp125 :tileValue.14:result *tmp124                  ...
  453:  op add *tmp127 *tmp124 :tileValue.17:result                  (x2 + x3) + x4,   // drill at x
  454:  op add *tmp128 :tileValue.16:result :tileValue.17:result     x3 + x4 + x5,   // drill at x + 1
  455:  op add *tmp129 *tmp128 :tileValue.18:result                  ...
  456:  packcolor *tmp104 *tmp125 *tmp127 *tmp129 0                  return packcolor(
  457:  jump *label48 always 0 0                                     elsif size == 3 then
        label *label47                                               ...
  458:  op sub :tileValue.19:x :findBestPosition:x 3                 var x0 = tileValue(x - 3, y, ore);
  459:  ucontrol getBlock :tileValue.19:x :findBestPosition:y type b mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  460:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  461:  sensor solid type @solid                                     ...
  462:  select :tileValue.19:result notEqual solid false 0.098039215 ...
  463:  op add :tileValue.20:x :findBestPosition:x 3                 var x6 = tileValue(x + 3, y, ore);
  464:  ucontrol getBlock :tileValue.20:x :findBestPosition:y type b mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  465:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  466:  sensor solid type @solid                                     ...
  467:  select :tileValue.20:result notEqual solid false 0.098039215 ...
  468:  op add *tmp135 :tileValue.14:result :tileValue.15:result     min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  469:  op add *tmp136 *tmp135 :tileValue.16:result                  ...
  470:  op add *tmp137 :tileValue.19:result *tmp136                  ...
  471:  op min *tmp138 0.09803921568627451 *tmp137                   ...
  472:  op add *tmp141 *tmp136 :tileValue.17:result                  min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  473:  op min *tmp142 0.09803921568627451 *tmp141                   ...
  474:  op add *tmp143 :tileValue.16:result :tileValue.17:result     min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  475:  op add *tmp144 *tmp143 :tileValue.18:result                  ...
  476:  op add *tmp145 :tileValue.15:result *tmp144                  ...
  477:  op min *tmp146 0.09803921568627451 *tmp145                   ...
  478:  op add *tmp149 *tmp144 :tileValue.20:result                  min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  479:  op min *tmp150 0.09803921568627451 *tmp149                   ...
  480:  packcolor *tmp104 *tmp138 *tmp142 *tmp146 *tmp150            return packcolor(
        label *label48                                               elsif size == 3 then
        label *label46                                               if size == 2 then
  481:  op add *tmp152 :findBestPosition:y 1                         var y4 = computeRowValues(x, y + 1, ore, size);
  482:  ucontrol getBlock :tileValue:x *tmp152 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  483:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  484:  sensor solid type @solid                                     ...
  485:  select :tileValue.21:result notEqual solid false 0.098039215 ...
  486:  ucontrol getBlock :tileValue.1:x *tmp152 type building floor ...
  487:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  488:  sensor solid type @solid                                     ...
  489:  select :tileValue.22:result notEqual solid false 0.098039215 ...
  490:  ucontrol getBlock :findBestPosition:x *tmp152 type building  ...
  491:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  492:  sensor solid type @solid                                     ...
  493:  select :tileValue.23:result notEqual solid false 0.098039215 ...
  494:  ucontrol getBlock :tileValue.3:x *tmp152 type building floor ...
  495:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  496:  sensor solid type @solid                                     ...
  497:  select :tileValue.24:result notEqual solid false 0.098039215 ...
  498:  ucontrol getBlock :tileValue.4:x *tmp152 type building floor ...
  499:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  500:  sensor solid type @solid                                     ...
  501:  select :tileValue.25:result notEqual solid false 0.098039215 ...
  502:  jump *label57 notEqual :findBestPosition:size 2              if size == 2 then
  503:  op add *tmp166 :tileValue.21:result :tileValue.22:result     x1 + x2,        // drill at x - 1.5
  504:  op add *tmp167 :tileValue.22:result :tileValue.23:result     x2 + x3,        // drill at x - 0.5
  505:  op add *tmp168 :tileValue.23:result :tileValue.24:result     x3 + x4,        // drill at x + 0.5
  506:  op add *tmp169 :tileValue.24:result :tileValue.25:result     x4 + x5         // drill at x + 1.5
  507:  packcolor *tmp153 *tmp166 *tmp167 *tmp168 *tmp169            return packcolor(
  508:  jump *label58 always 0 0                                     if size == 2 then
        label *label57                                               ...
  509:  jump *label59 notEqual :findBestPosition:size 3              elsif size == 3 then
  510:  op add *tmp173 :tileValue.22:result :tileValue.23:result     x1 + (x2 + x3),   // drill at x - 1
  511:  op add *tmp174 :tileValue.21:result *tmp173                  ...
  512:  op add *tmp176 *tmp173 :tileValue.24:result                  (x2 + x3) + x4,   // drill at x
  513:  op add *tmp177 :tileValue.23:result :tileValue.24:result     x3 + x4 + x5,   // drill at x + 1
  514:  op add *tmp178 *tmp177 :tileValue.25:result                  ...
  515:  packcolor *tmp153 *tmp174 *tmp176 *tmp178 0                  return packcolor(
  516:  jump *label60 always 0 0                                     elsif size == 3 then
        label *label59                                               ...
  517:  op sub :tileValue.26:x :findBestPosition:x 3                 var x0 = tileValue(x - 3, y, ore);
  518:  ucontrol getBlock :tileValue.26:x *tmp152 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  519:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  520:  sensor solid type @solid                                     ...
  521:  select :tileValue.26:result notEqual solid false 0.098039215 ...
  522:  op add :tileValue.27:x :findBestPosition:x 3                 var x6 = tileValue(x + 3, y, ore);
  523:  ucontrol getBlock :tileValue.27:x *tmp152 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  524:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  525:  sensor solid type @solid                                     ...
  526:  select :tileValue.27:result notEqual solid false 0.098039215 ...
  527:  op add *tmp184 :tileValue.21:result :tileValue.22:result     min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  528:  op add *tmp185 *tmp184 :tileValue.23:result                  ...
  529:  op add *tmp186 :tileValue.26:result *tmp185                  ...
  530:  op min *tmp187 0.09803921568627451 *tmp186                   ...
  531:  op add *tmp190 *tmp185 :tileValue.24:result                  min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  532:  op min *tmp191 0.09803921568627451 *tmp190                   ...
  533:  op add *tmp192 :tileValue.23:result :tileValue.24:result     min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  534:  op add *tmp193 *tmp192 :tileValue.25:result                  ...
  535:  op add *tmp194 :tileValue.22:result *tmp193                  ...
  536:  op min *tmp195 0.09803921568627451 *tmp194                   ...
  537:  op add *tmp198 *tmp193 :tileValue.27:result                  min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  538:  op min *tmp199 0.09803921568627451 *tmp198                   ...
  539:  packcolor *tmp153 *tmp187 *tmp191 *tmp195 *tmp199            return packcolor(
        label *label60                                               elsif size == 3 then
        label *label58                                               if size == 2 then
  540:  op add *tmp201 :findBestPosition:y 2                         var y5 = computeRowValues(x, y + 2, ore, size);
  541:  ucontrol getBlock :tileValue:x *tmp201 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  542:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  543:  sensor solid type @solid                                     ...
  544:  select :tileValue.28:result notEqual solid false 0.098039215 ...
  545:  ucontrol getBlock :tileValue.1:x *tmp201 type building floor ...
  546:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  547:  sensor solid type @solid                                     ...
  548:  select :tileValue.29:result notEqual solid false 0.098039215 ...
  549:  ucontrol getBlock :findBestPosition:x *tmp201 type building  ...
  550:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  551:  sensor solid type @solid                                     ...
  552:  select :tileValue.30:result notEqual solid false 0.098039215 ...
  553:  ucontrol getBlock :tileValue.3:x *tmp201 type building floor ...
  554:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  555:  sensor solid type @solid                                     ...
  556:  select :tileValue.31:result notEqual solid false 0.098039215 ...
  557:  ucontrol getBlock :tileValue.4:x *tmp201 type building floor ...
  558:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  559:  sensor solid type @solid                                     ...
  560:  select :tileValue.32:result notEqual solid false 0.098039215 ...
  561:  jump *label69 notEqual :findBestPosition:size 2              if size == 2 then
  562:  op add *tmp215 :tileValue.28:result :tileValue.29:result     x1 + x2,        // drill at x - 1.5
  563:  op add *tmp216 :tileValue.29:result :tileValue.30:result     x2 + x3,        // drill at x - 0.5
  564:  op add *tmp217 :tileValue.30:result :tileValue.31:result     x3 + x4,        // drill at x + 0.5
  565:  op add *tmp218 :tileValue.31:result :tileValue.32:result     x4 + x5         // drill at x + 1.5
  566:  packcolor *tmp202 *tmp215 *tmp216 *tmp217 *tmp218            return packcolor(
  567:  jump *label70 always 0 0                                     if size == 2 then
        label *label69                                               ...
  568:  jump *label71 notEqual :findBestPosition:size 3              elsif size == 3 then
  569:  op add *tmp222 :tileValue.29:result :tileValue.30:result     x1 + (x2 + x3),   // drill at x - 1
  570:  op add *tmp223 :tileValue.28:result *tmp222                  ...
  571:  op add *tmp225 *tmp222 :tileValue.31:result                  (x2 + x3) + x4,   // drill at x
  572:  op add *tmp226 :tileValue.30:result :tileValue.31:result     x3 + x4 + x5,   // drill at x + 1
  573:  op add *tmp227 *tmp226 :tileValue.32:result                  ...
  574:  packcolor *tmp202 *tmp223 *tmp225 *tmp227 0                  return packcolor(
  575:  jump *label72 always 0 0                                     elsif size == 3 then
        label *label71                                               ...
  576:  op sub :tileValue.33:x :findBestPosition:x 3                 var x0 = tileValue(x - 3, y, ore);
  577:  ucontrol getBlock :tileValue.33:x *tmp201 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  578:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  579:  sensor solid type @solid                                     ...
  580:  select :tileValue.33:result notEqual solid false 0.098039215 ...
  581:  op add :tileValue.34:x :findBestPosition:x 3                 var x6 = tileValue(x + 3, y, ore);
  582:  ucontrol getBlock :tileValue.34:x *tmp201 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  583:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  584:  sensor solid type @solid                                     ...
  585:  select :tileValue.34:result notEqual solid false 0.098039215 ...
  586:  op add *tmp233 :tileValue.28:result :tileValue.29:result     min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  587:  op add *tmp234 *tmp233 :tileValue.30:result                  ...
  588:  op add *tmp235 :tileValue.33:result *tmp234                  ...
  589:  op min *tmp236 0.09803921568627451 *tmp235                   ...
  590:  op add *tmp239 *tmp234 :tileValue.31:result                  min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  591:  op min *tmp240 0.09803921568627451 *tmp239                   ...
  592:  op add *tmp241 :tileValue.30:result :tileValue.31:result     min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  593:  op add *tmp242 *tmp241 :tileValue.32:result                  ...
  594:  op add *tmp243 :tileValue.29:result *tmp242                  ...
  595:  op min *tmp244 0.09803921568627451 *tmp243                   ...
  596:  op add *tmp247 *tmp242 :tileValue.34:result                  min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  597:  op min *tmp248 0.09803921568627451 *tmp247                   ...
  598:  packcolor *tmp202 *tmp236 *tmp240 *tmp244 *tmp248            return packcolor(
        label *label72                                               elsif size == 3 then
        label *label70                                               if size == 2 then
  599:  set :findBestPosition:best 0                                 var best = 0;
  600:  set :findBestPosition:bestX 0                                bestX = 0;
  601:  set :findBestPosition:bestY 0                                bestY = 0;
  602:  jump *label75 notEqual :findBestPosition:size 3              if size == 3 then
  603:  op add *tmp252 *tmp55 *tmp104                                row1 = y1 + (y2 + y3);  // drill at y - 1
  604:  op add :findBestPosition:row1 *tmp6 *tmp252                  ...
  605:  op add :findBestPosition:row2 *tmp252 *tmp153                row2 = (y2 + y3) + y4;  // drill at y
  606:  op add *tmp256 *tmp104 *tmp153                               row3 = y3 + y4 + y5;    // drill at y + 1
  607:  op add :findBestPosition:row3 *tmp256 *tmp202                ...
  608:  unpackcolor :updateRowPositionsOdd:col1 :updateRowPositionsO unpackcolor(out col1, out col2, out col3, , rowSum);
  609:  jump *label79 lessThanEq :updateRowPositionsOdd:col1 0       if value > best then
  610:  jump *label81 greaterThanEq :updateRowPositionsOdd:col1 0.07 if value < LIMIT then
  611:  set :findBestPosition:bestX -1                               bestX = dx;
  612:  set :findBestPosition:bestY -1                               bestY = dy;
  613:  set :findBestPosition:best :updateRowPositionsOdd:col1       best = value;
        label *label81                                               if value < LIMIT then
        label *label79                                               if value > best then
  614:  jump *label84 lessThanEq :updateRowPositionsOdd:col2 :findBe ...
  615:  jump *label86 greaterThanEq :updateRowPositionsOdd:col2 0.07 if value < LIMIT then
  616:  set :findBestPosition:bestX 0                                bestX = dx;
  617:  set :findBestPosition:bestY -1                               bestY = dy;
  618:  set :findBestPosition:best :updateRowPositionsOdd:col2       best = value;
        label *label86                                               if value < LIMIT then
        label *label84                                               if value > best then
  619:  jump *label89 lessThanEq :updateRowPositionsOdd:col3 :findBe ...
  620:  jump *label91 greaterThanEq :updateRowPositionsOdd:col3 0.07 if value < LIMIT then
  621:  set :findBestPosition:bestX 1                                bestX = dx;
  622:  set :findBestPosition:bestY -1                               bestY = dy;
  623:  set :findBestPosition:best :updateRowPositionsOdd:col3       best = value;
        label *label91                                               if value < LIMIT then
        label *label89                                               if value > best then
  624:  unpackcolor :updateRowPositionsOdd.1:col1 :updateRowPosition unpackcolor(out col1, out col2, out col3, , rowSum);
  625:  jump *label95 lessThanEq :updateRowPositionsOdd.1:col1 :find if value > best then
  626:  jump *label97 greaterThanEq :updateRowPositionsOdd.1:col1 0. if value < LIMIT then
  627:  set :findBestPosition:bestX -1                               bestX = dx;
  628:  set :findBestPosition:bestY 0                                bestY = dy;
  629:  set :findBestPosition:best :updateRowPositionsOdd.1:col1     best = value;
        label *label97                                               if value < LIMIT then
        label *label95                                               if value > best then
  630:  jump *label100 lessThanEq :updateRowPositionsOdd.1:col2 :fin ...
  631:  jump *label102 greaterThanEq :updateRowPositionsOdd.1:col2 0 if value < LIMIT then
  632:  set :findBestPosition:bestX 0                                bestX = dx;
  633:  set :findBestPosition:bestY 0                                bestY = dy;
  634:  set :findBestPosition:best :updateRowPositionsOdd.1:col2     best = value;
        label *label102                                              if value < LIMIT then
        label *label100                                              if value > best then
  635:  jump *label105 lessThanEq :updateRowPositionsOdd.1:col3 :fin ...
  636:  jump *label107 greaterThanEq :updateRowPositionsOdd.1:col3 0 if value < LIMIT then
  637:  set :findBestPosition:bestX 1                                bestX = dx;
  638:  set :findBestPosition:bestY 0                                bestY = dy;
  639:  set :findBestPosition:best :updateRowPositionsOdd.1:col3     best = value;
        label *label107                                              if value < LIMIT then
        label *label105                                              if value > best then
  640:  unpackcolor :updateRowPositionsOdd.2:col1 :updateRowPosition unpackcolor(out col1, out col2, out col3, , rowSum);
  641:  jump *label111 lessThanEq :updateRowPositionsOdd.2:col1 :fin if value > best then
  642:  jump *label113 greaterThanEq :updateRowPositionsOdd.2:col1 0 if value < LIMIT then
  643:  set :findBestPosition:bestX -1                               bestX = dx;
  644:  set :findBestPosition:bestY 1                                bestY = dy;
  645:  set :findBestPosition:best :updateRowPositionsOdd.2:col1     best = value;
        label *label113                                              if value < LIMIT then
        label *label111                                              if value > best then
  646:  jump *label116 lessThanEq :updateRowPositionsOdd.2:col2 :fin ...
  647:  jump *label118 greaterThanEq :updateRowPositionsOdd.2:col2 0 if value < LIMIT then
  648:  set :findBestPosition:bestX 0                                bestX = dx;
  649:  set :findBestPosition:bestY 1                                bestY = dy;
  650:  set :findBestPosition:best :updateRowPositionsOdd.2:col2     best = value;
        label *label118                                              if value < LIMIT then
        label *label116                                              if value > best then
  651:  jump *label76 lessThanEq :updateRowPositionsOdd.2:col3 :find ...
  652:  jump *label76 greaterThanEq :updateRowPositionsOdd.2:col3 0. if value < LIMIT then
  653:  set :findBestPosition:bestX 1                                bestX = dx;
  654:  set :findBestPosition:bestY 1                                bestY = dy;
  655:  set :findBestPosition:best :updateRowPositionsOdd.2:col3     best = value;
  656:  jump *label76 always 0 0                                     if size == 3 then
        label *label75                                               ...
  657:  jump *label125 notEqual :findBestPosition:size 2             if size == 2 then
  658:  op add :findBestPosition:row1 *tmp6 *tmp55                   row1 = y1 + y2;         // drill at y - 1.5
  659:  op add :findBestPosition:row2 *tmp55 *tmp104                 row2 = y2 + y3;         // drill at y - 0.5
  660:  op add :findBestPosition:row3 *tmp104 *tmp153                row3 = y3 + y4;         // drill at y + 0.5
  661:  op add :findBestPosition:row4 *tmp153 *tmp202                row4 = y4 + y5;         // drill at y + 1.5
  662:  jump *label126 always 0 0                                    if size == 2 then
        label *label125                                              ...
  663:  op sub *tmp303 :findBestPosition:y 3                         var y0 = computeRowValues(x, y - 3, ore, size);
  664:  ucontrol getBlock :tileValue:x *tmp303 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  665:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  666:  sensor solid type @solid                                     ...
  667:  select :tileValue.35:result notEqual solid false 0.098039215 ...
  668:  ucontrol getBlock :tileValue.1:x *tmp303 type building floor ...
  669:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  670:  sensor solid type @solid                                     ...
  671:  select :tileValue.36:result notEqual solid false 0.098039215 ...
  672:  ucontrol getBlock :findBestPosition:x *tmp303 type building  ...
  673:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  674:  sensor solid type @solid                                     ...
  675:  select :tileValue.37:result notEqual solid false 0.098039215 ...
  676:  ucontrol getBlock :tileValue.3:x *tmp303 type building floor ...
  677:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  678:  sensor solid type @solid                                     ...
  679:  select :tileValue.38:result notEqual solid false 0.098039215 ...
  680:  ucontrol getBlock :tileValue.4:x *tmp303 type building floor ...
  681:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  682:  sensor solid type @solid                                     ...
  683:  select :tileValue.39:result notEqual solid false 0.098039215 ...
  684:  jump *label133 notEqual :findBestPosition:size 2             if size == 2 then
  685:  op add *tmp317 :tileValue.35:result :tileValue.36:result     x1 + x2,        // drill at x - 1.5
  686:  op add *tmp318 :tileValue.36:result :tileValue.37:result     x2 + x3,        // drill at x - 0.5
  687:  op add *tmp319 :tileValue.37:result :tileValue.38:result     x3 + x4,        // drill at x + 0.5
  688:  op add *tmp320 :tileValue.38:result :tileValue.39:result     x4 + x5         // drill at x + 1.5
  689:  packcolor *tmp304 *tmp317 *tmp318 *tmp319 *tmp320            return packcolor(
  690:  jump *label134 always 0 0                                    if size == 2 then
        label *label133                                              ...
  691:  jump *label135 notEqual :findBestPosition:size 3             elsif size == 3 then
  692:  op add *tmp324 :tileValue.36:result :tileValue.37:result     x1 + (x2 + x3),   // drill at x - 1
  693:  op add *tmp325 :tileValue.35:result *tmp324                  ...
  694:  op add *tmp327 *tmp324 :tileValue.38:result                  (x2 + x3) + x4,   // drill at x
  695:  op add *tmp328 :tileValue.37:result :tileValue.38:result     x3 + x4 + x5,   // drill at x + 1
  696:  op add *tmp329 *tmp328 :tileValue.39:result                  ...
  697:  packcolor *tmp304 *tmp325 *tmp327 *tmp329 0                  return packcolor(
  698:  jump *label136 always 0 0                                    elsif size == 3 then
        label *label135                                              ...
  699:  op sub :tileValue.40:x :findBestPosition:x 3                 var x0 = tileValue(x - 3, y, ore);
  700:  ucontrol getBlock :tileValue.40:x *tmp303 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  701:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  702:  sensor solid type @solid                                     ...
  703:  select :tileValue.40:result notEqual solid false 0.098039215 ...
  704:  op add :tileValue.41:x :findBestPosition:x 3                 var x6 = tileValue(x + 3, y, ore);
  705:  ucontrol getBlock :tileValue.41:x *tmp303 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  706:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  707:  sensor solid type @solid                                     ...
  708:  select :tileValue.41:result notEqual solid false 0.098039215 ...
  709:  op add *tmp335 :tileValue.35:result :tileValue.36:result     min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  710:  op add *tmp336 *tmp335 :tileValue.37:result                  ...
  711:  op add *tmp337 :tileValue.40:result *tmp336                  ...
  712:  op min *tmp338 0.09803921568627451 *tmp337                   ...
  713:  op add *tmp341 *tmp336 :tileValue.38:result                  min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  714:  op min *tmp342 0.09803921568627451 *tmp341                   ...
  715:  op add *tmp343 :tileValue.37:result :tileValue.38:result     min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  716:  op add *tmp344 *tmp343 :tileValue.39:result                  ...
  717:  op add *tmp345 :tileValue.36:result *tmp344                  ...
  718:  op min *tmp346 0.09803921568627451 *tmp345                   ...
  719:  op add *tmp349 *tmp344 :tileValue.41:result                  min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  720:  op min *tmp350 0.09803921568627451 *tmp349                   ...
  721:  packcolor *tmp304 *tmp338 *tmp342 *tmp346 *tmp350            return packcolor(
        label *label136                                              elsif size == 3 then
        label *label134                                              if size == 2 then
  722:  op add *tmp352 :findBestPosition:y 3                         var y6 = computeRowValues(x, y + 3, ore, size);
  723:  ucontrol getBlock :tileValue:x *tmp352 type building floor   mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  724:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  725:  sensor solid type @solid                                     ...
  726:  select :tileValue.42:result notEqual solid false 0.098039215 ...
  727:  ucontrol getBlock :tileValue.1:x *tmp352 type building floor ...
  728:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  729:  sensor solid type @solid                                     ...
  730:  select :tileValue.43:result notEqual solid false 0.098039215 ...
  731:  ucontrol getBlock :findBestPosition:x *tmp352 type building  ...
  732:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  733:  sensor solid type @solid                                     ...
  734:  select :tileValue.44:result notEqual solid false 0.098039215 ...
  735:  ucontrol getBlock :tileValue.3:x *tmp352 type building floor ...
  736:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  737:  sensor solid type @solid                                     ...
  738:  select :tileValue.45:result notEqual solid false 0.098039215 ...
  739:  ucontrol getBlock :tileValue.4:x *tmp352 type building floor ...
  740:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  741:  sensor solid type @solid                                     ...
  742:  select :tileValue.46:result notEqual solid false 0.098039215 ...
  743:  jump *label145 notEqual :findBestPosition:size 2             if size == 2 then
  744:  op add *tmp366 :tileValue.42:result :tileValue.43:result     x1 + x2,        // drill at x - 1.5
  745:  op add *tmp367 :tileValue.43:result :tileValue.44:result     x2 + x3,        // drill at x - 0.5
  746:  op add *tmp368 :tileValue.44:result :tileValue.45:result     x3 + x4,        // drill at x + 0.5
  747:  op add *tmp369 :tileValue.45:result :tileValue.46:result     x4 + x5         // drill at x + 1.5
  748:  packcolor *tmp353 *tmp366 *tmp367 *tmp368 *tmp369            return packcolor(
  749:  jump *label146 always 0 0                                    if size == 2 then
        label *label145                                              ...
  750:  jump *label147 notEqual :findBestPosition:size 3             elsif size == 3 then
  751:  op add *tmp373 :tileValue.43:result :tileValue.44:result     x1 + (x2 + x3),   // drill at x - 1
  752:  op add *tmp374 :tileValue.42:result *tmp373                  ...
  753:  op add *tmp376 *tmp373 :tileValue.45:result                  (x2 + x3) + x4,   // drill at x
  754:  op add *tmp377 :tileValue.44:result :tileValue.45:result     x3 + x4 + x5,   // drill at x + 1
  755:  op add *tmp378 *tmp377 :tileValue.46:result                  ...
  756:  packcolor *tmp353 *tmp374 *tmp376 *tmp378 0                  return packcolor(
  757:  jump *label148 always 0 0                                    elsif size == 3 then
        label *label147                                              ...
  758:  op sub :tileValue.47:x :findBestPosition:x 3                 var x0 = tileValue(x - 3, y, ore);
  759:  ucontrol getBlock :tileValue.47:x *tmp352 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  760:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  761:  sensor solid type @solid                                     ...
  762:  select :tileValue.47:result notEqual solid false 0.098039215 ...
  763:  op add :tileValue.48:x :findBestPosition:x 3                 var x6 = tileValue(x + 3, y, ore);
  764:  ucontrol getBlock :tileValue.48:x *tmp352 type building floo mlog(in x, in y, in ore, in ORE, in WALL, out result) {
  765:  select value equal floor :findBestPosition:ore 0.00392156862 ...
  766:  sensor solid type @solid                                     ...
  767:  select :tileValue.48:result notEqual solid false 0.098039215 ...
  768:  op add *tmp384 :tileValue.42:result :tileValue.43:result     min(WALL, x0 + (x1 + x2 + x3)),   // drill at x - 1.5
  769:  op add *tmp385 *tmp384 :tileValue.44:result                  ...
  770:  op add *tmp386 :tileValue.47:result *tmp385                  ...
  771:  op min *tmp387 0.09803921568627451 *tmp386                   ...
  772:  op add *tmp390 *tmp385 :tileValue.45:result                  min(WALL, (x1 + x2 + x3) + x4),   // drill at x - 0.5
  773:  op min *tmp391 0.09803921568627451 *tmp390                   ...
  774:  op add *tmp392 :tileValue.44:result :tileValue.45:result     min(WALL, x2 + (x3 + x4 + x5)),   // drill at x + 0.5
  775:  op add *tmp393 *tmp392 :tileValue.46:result                  ...
  776:  op add *tmp394 :tileValue.43:result *tmp393                  ...
  777:  op min *tmp395 0.09803921568627451 *tmp394                   ...
  778:  op add *tmp398 *tmp393 :tileValue.48:result                  min(WALL, (x3 + x4 + x5) + x6)    // drill at x + 1.5
  779:  op min *tmp399 0.09803921568627451 *tmp398                   ...
  780:  packcolor *tmp353 *tmp387 *tmp391 *tmp395 *tmp399            return packcolor(
        label *label148                                              elsif size == 3 then
        label *label146                                              if size == 2 then
  781:  op add *tmp401 *tmp6 *tmp55                                  row1 = y0 + (y1 + y2 + y3);     // drill at y - 1.5
  782:  op add *tmp402 *tmp401 *tmp104                               ...
  783:  op add :findBestPosition:row1 *tmp304 *tmp402                ...
  784:  op add :findBestPosition:row2 *tmp402 *tmp153                row2 = (y1 + y2 + y3) + y4;     // drill at y - 0.5
  785:  op add *tmp407 *tmp104 *tmp153                               row3 = y2 + (y3 + y4 + y5);     // drill at y + 0.5
  786:  op add *tmp408 *tmp407 *tmp202                               ...
  787:  op add :findBestPosition:row3 *tmp55 *tmp408                 ...
  788:  op add :findBestPosition:row4 *tmp408 *tmp353                row4 = (y3 + y4 + y5) + y6;     // drill at y + 1.5
        label *label126                                              if size == 2 then
  789:  unpackcolor :updateRowPositionsEven:col1 :updateRowPositions unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  790:  jump *label153 lessThanEq :updateRowPositionsEven:col1 0     if value > best then
  791:  jump *label155 greaterThanEq :updateRowPositionsEven:col1 0. if value < LIMIT then
  792:  set :findBestPosition:bestX -1.5                             bestX = dx;
  793:  set :findBestPosition:bestY -1.5                             bestY = dy;
  794:  set :findBestPosition:best :updateRowPositionsEven:col1      best = value;
        label *label155                                              if value < LIMIT then
        label *label153                                              if value > best then
  795:  jump *label158 lessThanEq :updateRowPositionsEven:col2 :find ...
  796:  jump *label160 greaterThanEq :updateRowPositionsEven:col2 0. if value < LIMIT then
  797:  set :findBestPosition:bestX -0.5                             bestX = dx;
  798:  set :findBestPosition:bestY -1.5                             bestY = dy;
  799:  set :findBestPosition:best :updateRowPositionsEven:col2      best = value;
        label *label160                                              if value < LIMIT then
        label *label158                                              if value > best then
  800:  jump *label163 lessThanEq :updateRowPositionsEven:col3 :find ...
  801:  jump *label165 greaterThanEq :updateRowPositionsEven:col3 0. if value < LIMIT then
  802:  set :findBestPosition:bestX 0.5                              bestX = dx;
  803:  set :findBestPosition:bestY -1.5                             bestY = dy;
  804:  set :findBestPosition:best :updateRowPositionsEven:col3      best = value;
        label *label165                                              if value < LIMIT then
        label *label163                                              if value > best then
  805:  jump *label168 lessThanEq :updateRowPositionsEven:col4 :find ...
  806:  jump *label170 greaterThanEq :updateRowPositionsEven:col4 0. if value < LIMIT then
  807:  set :findBestPosition:bestX 1.5                              bestX = dx;
  808:  set :findBestPosition:bestY -1.5                             bestY = dy;
  809:  set :findBestPosition:best :updateRowPositionsEven:col4      best = value;
        label *label170                                              if value < LIMIT then
        label *label168                                              if value > best then
  810:  unpackcolor :updateRowPositionsEven.1:col1 :updateRowPositio unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  811:  jump *label174 lessThanEq :updateRowPositionsEven.1:col1 :fi if value > best then
  812:  jump *label176 greaterThanEq :updateRowPositionsEven.1:col1  if value < LIMIT then
  813:  set :findBestPosition:bestX -1.5                             bestX = dx;
  814:  set :findBestPosition:bestY -0.5                             bestY = dy;
  815:  set :findBestPosition:best :updateRowPositionsEven.1:col1    best = value;
        label *label176                                              if value < LIMIT then
        label *label174                                              if value > best then
  816:  jump *label179 lessThanEq :updateRowPositionsEven.1:col2 :fi ...
  817:  jump *label181 greaterThanEq :updateRowPositionsEven.1:col2  if value < LIMIT then
  818:  set :findBestPosition:bestX -0.5                             bestX = dx;
  819:  set :findBestPosition:bestY -0.5                             bestY = dy;
  820:  set :findBestPosition:best :updateRowPositionsEven.1:col2    best = value;
        label *label181                                              if value < LIMIT then
        label *label179                                              if value > best then
  821:  jump *label184 lessThanEq :updateRowPositionsEven.1:col3 :fi ...
  822:  jump *label186 greaterThanEq :updateRowPositionsEven.1:col3  if value < LIMIT then
  823:  set :findBestPosition:bestX 0.5                              bestX = dx;
  824:  set :findBestPosition:bestY -0.5                             bestY = dy;
  825:  set :findBestPosition:best :updateRowPositionsEven.1:col3    best = value;
        label *label186                                              if value < LIMIT then
        label *label184                                              if value > best then
  826:  jump *label189 lessThanEq :updateRowPositionsEven.1:col4 :fi ...
  827:  jump *label191 greaterThanEq :updateRowPositionsEven.1:col4  if value < LIMIT then
  828:  set :findBestPosition:bestX 1.5                              bestX = dx;
  829:  set :findBestPosition:bestY -0.5                             bestY = dy;
  830:  set :findBestPosition:best :updateRowPositionsEven.1:col4    best = value;
        label *label191                                              if value < LIMIT then
        label *label189                                              if value > best then
  831:  unpackcolor :updateRowPositionsEven.2:col1 :updateRowPositio unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  832:  jump *label195 lessThanEq :updateRowPositionsEven.2:col1 :fi if value > best then
  833:  jump *label197 greaterThanEq :updateRowPositionsEven.2:col1  if value < LIMIT then
  834:  set :findBestPosition:bestX -1.5                             bestX = dx;
  835:  set :findBestPosition:bestY 0.5                              bestY = dy;
  836:  set :findBestPosition:best :updateRowPositionsEven.2:col1    best = value;
        label *label197                                              if value < LIMIT then
        label *label195                                              if value > best then
  837:  jump *label200 lessThanEq :updateRowPositionsEven.2:col2 :fi ...
  838:  jump *label202 greaterThanEq :updateRowPositionsEven.2:col2  if value < LIMIT then
  839:  set :findBestPosition:bestX -0.5                             bestX = dx;
  840:  set :findBestPosition:bestY 0.5                              bestY = dy;
  841:  set :findBestPosition:best :updateRowPositionsEven.2:col2    best = value;
        label *label202                                              if value < LIMIT then
        label *label200                                              if value > best then
  842:  jump *label205 lessThanEq :updateRowPositionsEven.2:col3 :fi ...
  843:  jump *label207 greaterThanEq :updateRowPositionsEven.2:col3  if value < LIMIT then
  844:  set :findBestPosition:bestX 0.5                              bestX = dx;
  845:  set :findBestPosition:bestY 0.5                              bestY = dy;
  846:  set :findBestPosition:best :updateRowPositionsEven.2:col3    best = value;
        label *label207                                              if value < LIMIT then
        label *label205                                              if value > best then
  847:  jump *label210 lessThanEq :updateRowPositionsEven.2:col4 :fi ...
  848:  jump *label212 greaterThanEq :updateRowPositionsEven.2:col4  if value < LIMIT then
  849:  set :findBestPosition:bestX 1.5                              bestX = dx;
  850:  set :findBestPosition:bestY 0.5                              bestY = dy;
  851:  set :findBestPosition:best :updateRowPositionsEven.2:col4    best = value;
        label *label212                                              if value < LIMIT then
        label *label210                                              if value > best then
  852:  unpackcolor :updateRowPositionsEven.3:col1 :updateRowPositio unpackcolor(out col1, out col2, out col3, out col4, rowSum);
  853:  jump *label216 lessThanEq :updateRowPositionsEven.3:col1 :fi if value > best then
  854:  jump *label218 greaterThanEq :updateRowPositionsEven.3:col1  if value < LIMIT then
  855:  set :findBestPosition:bestX -1.5                             bestX = dx;
  856:  set :findBestPosition:bestY 1.5                              bestY = dy;
  857:  set :findBestPosition:best :updateRowPositionsEven.3:col1    best = value;
        label *label218                                              if value < LIMIT then
        label *label216                                              if value > best then
  858:  jump *label221 lessThanEq :updateRowPositionsEven.3:col2 :fi ...
  859:  jump *label223 greaterThanEq :updateRowPositionsEven.3:col2  if value < LIMIT then
  860:  set :findBestPosition:bestX -0.5                             bestX = dx;
  861:  set :findBestPosition:bestY 1.5                              bestY = dy;
  862:  set :findBestPosition:best :updateRowPositionsEven.3:col2    best = value;
        label *label223                                              if value < LIMIT then
        label *label221                                              if value > best then
  863:  jump *label226 lessThanEq :updateRowPositionsEven.3:col3 :fi ...
  864:  jump *label228 greaterThanEq :updateRowPositionsEven.3:col3  if value < LIMIT then
  865:  set :findBestPosition:bestX 0.5                              bestX = dx;
  866:  set :findBestPosition:bestY 1.5                              bestY = dy;
  867:  set :findBestPosition:best :updateRowPositionsEven.3:col3    best = value;
        label *label228                                              if value < LIMIT then
        label *label226                                              if value > best then
  868:  jump *label231 lessThanEq :updateRowPositionsEven.3:col4 :fi ...
  869:  jump *label233 greaterThanEq :updateRowPositionsEven.3:col4  if value < LIMIT then
  870:  set :findBestPosition:bestX 1.5                              bestX = dx;
  871:  set :findBestPosition:bestY 1.5                              bestY = dy;
  872:  set :findBestPosition:best :updateRowPositionsEven.3:col4    best = value;
        label *label233                                              if value < LIMIT then
        label *label231                                              if value > best then
        label *label76                                               if size == 3 then
  873:  op mul :findBestPosition*retval :findBestPosition:best 255   return best * 255;
  874:  set :findBestPosition*finished true                          export def findBestPosition(unit, x, y, ore, size, out bestX, out bestY)
  875:  jump *label5 always 0 0                                      ...


Code size and number of instantiations by function:
  Size  Times  AvgSize  Function
   214     7x     30,6  inline def computeRowValues(in x, in y, in ore, in size)
   196    49x      4,0  inline def tileValue(in x, in y, in ore)
   147    49x      3,0  def isSolid(in x, in y)
   147     1x    147,0  export def createTerrainMask(in unit, in x, in y)
   125    25x      5,0  inline void updatePosition(in dx, in dy, in value, bestX, bestY, best)
    35     1x     35,0  export def findBestPosition(in unit, in x, in y, in ore, in size, out bestX, out bestY)
     6     1x      6,0  <no function>
     4     4x      1,0  inline void updateRowPositionsEven(in dy, in rowSum, bestX, bestY, best)
     3     3x      1,0  inline void updateRowPositionsOdd(in dy, in rowSum, bestX, bestY, best)

Performance: parsed in 236 ms, compiled in 298 ms, optimized in 1,111 ms, run in 18 ms.
Error connecting to Mlog Watcher: Connection refused: connect
  - make sure Mindustry with active Mlog Watcher mod is running
  - verify Mlog Watcher listens on port 9992

Program output (3 steps):
The program didn't generate any output.
Execution exception at instruction 4: wait 1e12:
Instruction not supported by Mindcode emulator.
(Use the '#set err-unsupported-opcode = false;' directive or the '--err-unsupported-opcode false' command line option to ignore this exception.)
